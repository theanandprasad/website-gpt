{"documents":[{"id":"chunk-7db5cddc-0","content":"Version Notice This documentation is ahead of the last release by 2 commits. You may see documentation for features not yet supported in the latest release v0.0.27 2025-02-26. Introduction Agent Framework / shim to use Pydantic with LLMs PydanticAI is a Python agent framework designed to make it less painful to build production grade applications with Generative AI. PydanticAI is a Python Agent Framework designed to make it less painful to build production grade applications with Generative AI. FastAPI revolutionized web development by offering an innovative and ergonomic design, built on the foundation of Pydantic. Similarly, virtually every agent framework and LLM library in Python uses Pydantic, yet when we began to use LLMs in Pydantic Logfire, we couldn't find anything that gave us the same feeling. We built PydanticAI with one simple aim: to bring that FastAPI feeling to GenAI app development.","metadata":{"url":"https://ai.pydantic.dev","title":"PydanticAI","chunkIndex":0,"totalChunks":208},"embedding":[0.015009024782685515,0.060210963406155955,-0.0016051407323431402,-0.007975531689646535,0.058728698484845084,-0.05435202061566911,-0.037120351528960434,0.058808412327323006,0.03806965553763156,-0.055291670463199306,-0.07828303386853709,-0.004183357920041296,-0.01331003874728258,0.04438976492736216,-0.016182710283591945,0.005557833914630059,0.059604533145660346,-0.08430990447262456,-0.028885105479019492,-0.05539202552650243,0.061157644285433424,0.017513736775800957,-0.0008993403912097818,0.07820427365756918,-0.06612956837310466,-0.08328686800050057,0.005009332331979994,0.05751578651535998,0.009941057458318718,-0.018523522475331722,0.03046029134279727,-0.08361324777428031,-0.02043614042961246,-0.003266888398794139,0.04206129895973585,0.055611160740348914,0.03182959160832186,0.048701795890975404,-0.08638513242240524,-0.03289933831064802,0.04848571570433879,0.08477129300216488,-0.07648244366240654,-0.05168105324928488,-0.07912735283668405,-0.055514059732861595,0.013701167575213533,0.056704019591650584,-0.07592837181243103,0.04940586460514008,-0.029730959019041613,0.004460484636553377,-0.023685588378286496,-0.08250054614695099,0.074417449911302,-0.07882612338608518,0.06422684642852965,0.07985537615446621,0.05797796259473008,-0.0653187101185187,0.03443480339305138,0.02738886130214869,0.06509550566081962,-0.020622952882437182,0.05969177554209161,-0.04238336015848313,0.05270171488136377,0.046022695682589015,-0.013666711161810464,-0.08598377415589142,-0.020279659500388753,0.07910821585571867,-0.07617294180786621,-0.015440453682583174,-0.05756591454134863,0.034021744672551014,-0.08479592439472482,0.07641112792786693,0.040780458051693155,0.06960616210097952,-0.07909314430662669,0.04434585731252764,-0.07784313763510718,-0.07338024373001698,0.0341378030376815,0.03692905155746691,-0.009620571106930613,-0.08115257781770233,0.07942824042177259,-0.050924434665093936,0.06548369749765297,-0.0013748585288725656,-0.061403731102822094,0.07695721207506431,-0.03890324555189537,0.050282622435580265,0.03936508147447022,0.05623521779116437,0.05271000985811976,0.011447505543100044,-0.010992584232417649,0.014257966553219772,0.03048354097603227,0.014174431537590617,0.04448779102614912,-0.0011269974277151775,0.00024359920255019837,0.03853913257720384,-0.07489363102357618,0.07569497083242285,0.029711809623638317,0.07141240217914922,0.004489888471656596,0.031645703169460096,-0.026439392803282287,0.0010454267014849358,0.02920716927020231,0.06530469943081933,0.07910041809710941,-0.015466196243813207,0.020698520753803074,-0.012569699913648681,0.01965650560483149,0.015848281687376838,-0.08423121640474426,0.06289856729830011,0.06463855272472067,0.021919439846966274,0.004668555791790441,-0.03178510364484727,0.02190158010550743,0.05912194395239753,-0.03466835565323925,0.06443051102561125,-0.023668492625423705,-0.0042025081446901875,-0.06120880612344465,0.033772574137099894,-0.06832329391133761,0.013712061714402118,0.047582967989579256,0.017095338428607543,0.03882435662717607,-0.07212237536776078,-0.06692073206715081,0.01210145685969499,0.06620575037388708,0.07063208664060026,-0.07542825985057032,0.012103116779827425,-0.04868400664964067,-0.058085741348000514,-0.005669263240970933,0.02256423279005146,-0.06378592198747633,-0.00919568788453703,-0.0074340085081576615,-0.08159001904136427,-0.023070075868436107,-0.008964040895810026,-0.01637220487375082,0.0600712590226885,-0.07240065593598656,-0.06144801930762361,-0.059317786649424005,0.06860437654136592,-0.020164701711898173,0.07608902987075096,0.024608640499406483,-0.06853790437752877,-0.013123148011595398,0.07107243545358892,-0.04148602263658756,0.05886604241989798,0.02735077389819893,0.025809991256450383,-0.0813477862193882,-0.06519704003270796,-0.08479565198573606,0.05326714837260082,-0.06574151931479927,-0.07481807754403762,0.05127542391641062,0.058375636761980265,-0.005435929939878655,-0.024249184430533456,0.04193298542097343,0.024032115528091227,0.0683212079192447,0.06470662354551505,-0.016113023177247186,-0.06918095001433819,0.02891691512185414,0.0758634559179961,-0.08020724581687091,0.02853556680236789,0.08501177850912717,-0.03147087770433811,-0.04846873748802564,-0.01317365981172147,-0.04536596254269625,-0.0845911176813606,-0.019774903227132875,0.043820760882341984,-0.035881812136603145,-0.02164549493336678,0.013598309032524828,0.06654147982783636,0.012175863296166222,-0.03357952417920002,-0.07736869971869878,0.08593466334258293,0.08242070989777836,-0.0037043405761496067,0.027031000290012833,0.06532919067949598,0.06738706176733301,-0.030094530274838674,0.01594769563753907,-0.0052565143602861415,-0.06688834977252997,0.07001268675250885,0.05121593577769104,0.0031150270197208576,-0.06539831155732292,-0.07051800869060179,-0.03032280353631004,0.001656697270883943,0.047141089480922,-0.06507292558349653,0.07125731509819727,-0.03906776644897247,0.04711659174741726,-0.009786181261708948,-0.05142112504690857,-0.05900283621709601,0.019409994378765668,0.02575917369960258,0.08009475905140898,-0.055111531512222034,0.014843919066646562,0.08405736745637027,0.08200573937399268,0.06897337292908236,0.06772088190195517,0.017381158766227065,-0.026157046175133272,-0.018825164282157903,-0.025246835729472224,0.0027826996953973543,-0.002908987157540857,0.01947744632910068,0.05282565905612327,0.019913481487898173,0.022636184952322485,0.054170494734035804,-0.07589323223362653,0.08416142863314828,0.003841994770364124,-0.00398839398222419,-0.01615782331964915,0.05490274926731474,-0.003135937470235214,-0.031518116761161195,0.0023039965865433148,-0.0587491123762638,0.03430816380106262,0.02378229656131498,-0.05057715176078743,0.05171662462125603,0.028948420869715524,0.007134142312579993,0.0260583570025171,0.07062113869148864,-0.03704421526988147,-0.08118656569034015,0.04100784643301427,-0.04708724664697505,-0.04768214780625445,-0.0717287777406066,0.07735462583912364,0.04354063552118032,-0.08596178259575772,0.029785040674381855,-0.05220998224187784,0.02045351480584655,-0.012111482563010405,0.07360429317091158,-0.01062948589725734,0.04581515262454532,-0.05181664330483039,-0.028764112748980802,0.019760842458931144,-0.03021293680151298,0.05726757174473466,-0.03250007253620898,0.053342219267099436,0.048905197933936585,-0.06471768422518877,-0.010350874160506007,0.07690962656818512,0.021651607170401217,0.08218021170061897,0.027624768042095755,0.05303854342958002,-0.024900369672412027,-0.020780250637091678,-0.05057961369534456,-0.053411368944207116,0.058391315232570185,0.033906387079619266,-0.05236734691973777,-0.011680545974666657,-0.04943381830114076,0.051675808646705845,0.0652583660758154,-0.074699200578638,0.03966467113890007,0.07255700378666241,0.07779609956194242,0.04826090648275391,-0.056081779925842214,-0.01276342196337441,0.06613397271263062,0.03792379079069567,-0.03533534403247848,-0.05807555137045561,-0.07050576215926134,0.047866207420174216,-0.051486212645494266,0.02199129250952721,0.010157040196396116,0.06940597341083678,-0.004831482657312196,0.06676122162365769,0.009178836168049336,-0.0695876967697436,0.062034838724051196,0.02696754463195984,0.08058776218764445,0.004394490256885476,0.04644262018379929,0.008605324402382127,0.07439668697581724,0.029320518473440443,-0.01859344619246979,0.08061193388262626,-0.02146739510502384,-0.0721315400869595,0.08427981159851014,-0.027920069503419975,-0.06021080741292853,-0.06758064513907606,0.06579409140979717,0.04648452241591981,-0.04661334063052886,0.06088145492314092,-0.022999916168917944,0.03340378901229429,-0.006645749452192994,0.08520483821022982,0.018377099473986785,0.0631937390801844,-0.07455271447201026,0.06697477093282003,-0.04571810856217726,0.04556644952131222,0.008920927198378639,0.08259326290201716,-0.029272131124643497,-0.008550559383962524,-0.017383644681255733,-0.04018229688331283,0.03919976854598448,0.01792128574956732,0.06114565205098502,-0.0349438893889621,0.03286995436925213,-0.026226528139616328,-0.08278266770221236,0.05745627187715038,-0.05711877116281546,0.08511412330394057,0.00923252125301804]},{"id":"chunk-7db5cddc-1","content":"Why use PydanticAI Built by the Pydantic Team: Built by the team behind Pydantic (the validation layer of the OpenAI SDK, the Anthropic SDK, LangChain, LlamaIndex, AutoGPT, Transformers, CrewAI, Instructor and many more). Model-agnostic: Supports OpenAI, Anthropic, Gemini, Deepseek, Ollama, Groq, Cohere, and Mistral, and there is a simple interface to implement support for other models. Pydantic Logfire Integration: Seamlessly integrates with Pydantic Logfire for real-time debugging, performance monitoring, and behavior tracking of your LLM-powered applications. Type-safe: Designed to make type checking as powerful and informative as possible for you. Python-centric Design: Leverages Python's familiar control flow and agent composition to build your AI-driven projects, making it easy to apply standard Python best practices you'd use in any other (non-AI) project.","metadata":{"url":"https://ai.pydantic.dev","title":"PydanticAI","chunkIndex":1,"totalChunks":208},"embedding":[0.07500543045577016,0.003162084423178789,-0.06382686993862559,-0.009917151409158225,-0.07356905514985897,0.04298650253711857,-0.008039092264317092,0.026159456874444296,-0.06406171520701137,-0.0008834572821605684,-0.019066578614810824,-0.03051143772964751,-0.0844362436061908,-0.035686929412077066,-0.043182756623981765,0.06479301033049499,0.0031606166499233705,-0.07170726370748175,-0.03740343698868313,0.06675978506856646,0.01915140228514099,-0.028273812848458636,-0.04069064705457519,0.04070831669002461,0.026782920926221095,-0.03256594805487066,0.05293578257301375,0.02166858001752666,0.009602160037204314,0.06781927336651977,-0.0478250583151164,0.08158149986382103,0.0612112745570693,0.0005873518979077741,0.05485896193053551,0.031468693111589015,-0.07653804663814513,-0.04215455801446098,-0.07172440611752533,0.07219868223703085,-0.03300937979807877,-0.033914484987350446,0.06495512777350262,0.04446212641060492,-0.04597593785778248,-0.04504529089179326,-0.08169442374371566,-0.06385186471424843,-0.07649326096159059,0.01877528391002515,-0.026480563828474437,0.06270621366068688,0.04357294683102192,0.006945505269801979,0.008621024709739768,-0.018885456350017316,-0.00234053989341962,0.04576203554564781,0.06518808871467516,-0.02205556241854605,0.053359927245078556,0.06197373647149288,-0.010284158003721683,-0.0694390067048582,0.06152971297774822,0.036445737809462364,0.013022965915210991,0.01005189929925961,0.0545991790550793,-0.04814255597378651,-0.02920297022142806,0.009520930972413943,0.05986626658508983,-0.07105742286772268,0.07619395373561434,0.08025551882392545,-0.018026357803252895,0.08587891959737276,-0.07193518257083227,-0.022122668938017283,0.0769198597657898,-0.04638321803741478,0.05100929704851939,0.01548910670413638,-0.004711029935544812,0.07124666390565115,-0.05242946826265082,-0.04237039214127775,-0.03462787703150801,0.06407927560566716,0.055395654294867064,0.02355361438819219,-0.08164223487834277,0.06574856205761984,0.06212655528772882,-0.043281582338030186,0.03531048928195431,0.004168531617024316,-0.03233156919397364,-0.028974161825775405,-0.006293832336840649,0.06989150881592096,-0.0033097971685544475,0.07554164929530112,-0.06739007243190898,0.041409122990259936,0.07690896394570076,0.027474650472548105,0.08080778423921023,-0.025685183119111908,-0.06118914981939416,-0.0040896518257269,-0.07611348932979617,-0.03661233538645509,0.06252820385320128,-0.0707284491568252,0.007844367751862055,-0.06533586036934554,-0.03257543624322134,0.08473509889491841,-0.03127856526506091,0.02174029678267455,0.06513824767329615,-0.01520183587491693,0.05980147560626873,-0.066570052014553,-0.0051274085352942585,-0.05942475377009658,-0.03214268944023469,-0.05263726417349764,0.026414055694343973,-0.006364281709761,-0.07281718368051139,-0.01711585816543289,0.008461226917334879,-0.08460619224528293,-0.08619392596338524,0.004631856656322587,0.07518614748198173,0.050260092456193,-0.08374801566504395,0.00038682679671977414,0.03642616716646342,-0.06467961345971228,0.06728975477550372,0.030347944630898037,-0.07297497436060274,0.02062173423647126,-0.005630504877186492,0.03838009337479577,0.04239384207323806,0.003235761300519397,0.07692533547537159,-0.03354321306279706,-0.08149473631502685,-0.00030168629911604553,-0.02642918471746816,-0.007199560189405018,-0.02076438762701788,-0.039740412712281556,0.03612111596446955,-0.08408062613078912,-0.03315311656148041,0.08541850147219388,0.016251843947213355,-0.014772463261889053,-0.04364708790039329,0.05852076826024221,0.04247669975163804,0.06114709897500234,-0.07430848741639717,0.021913050252359394,0.06651323944507914,-0.051347061088374266,-0.044691995035039775,-0.028688956981959418,0.0038120953957249976,0.0561917599378443,-0.04213845413716117,-0.03297798137460383,0.08558730524375478,0.002174829857071744,0.003202263681493833,-0.006756283709910737,0.03779469058660082,0.005201910711471328,0.046948915123061694,0.04301793299365194,0.03581881195649029,-0.07909377038971946,0.03205708039864114,-0.004500942877422243,0.07275659316953009,0.0514231390225638,0.050471038973497986,0.022901016494239274,0.049992061738136126,0.021009987482947308,-0.03920916142276528,0.022662109926334814,0.023237740208976888,0.030920130816922627,0.06449486365859904,-0.06420094086173012,-0.018896987039373554,0.04964162912313932,0.06914565421899051,0.07270517760750636,-0.05357076231489361,-0.019525740423089445,-0.04261225494449046,0.03212881330719245,0.02207628497102205,-0.018645436421770335,0.009404662098865032,-0.0851030213646587,-0.04608616055553998,0.08309002822939436,0.08021069271993553,0.05554895533682102,0.013535423115471209,-0.06331285267664678,0.08406548985726114,0.014511995716446497,-0.0830326128078131,0.0519237892828514,0.009782099208937021,-0.045033092218375065,0.05917145012858168,0.028212609178946916,0.004223381547494825,-0.05624467632173623,0.06283359929416703,0.08162462008701919,-0.03141637972706354,0.00945639067024368,0.0017754958281566322,0.07890699708150205,-0.08077945611610081,0.07854533308715046,0.0002875993469673131,-0.02687481545982176,0.07427835283904749,0.0658793239847935,0.06544095309505683,0.06862260941510108,-0.030260271447039935,0.03548282668880724,0.02532141094632774,-0.006621483942509068,-0.07728808700510648,0.036998776654980345,-0.0725837749527634,0.011766850079426077,0.07778851784434304,0.08472761221976048,-0.004430769654295788,0.030901194993920873,0.06591245835280403,-0.03260503058630998,-0.014911629987557849,0.012397807253834714,0.054604555057284405,0.06500220800813945,-0.05222003801398012,-0.030469803259291436,0.04841976824391614,0.06696103865562529,-0.07049331228746206,-0.025776289497772675,0.08548597481451439,-0.06819236280926276,-0.014092039831688752,0.07901204582592312,0.08616673610511,-0.020676721283977153,-0.03429693802174638,-0.012688800597932088,0.08586915646366727,0.07181849977659474,-0.03853244442842106,-0.05404333157994434,-0.014112989705338247,-0.01073566198383755,-0.0717385617424576,0.004192472091346272,-0.07865095466543703,-0.04281801483935827,-0.08044851101624004,-0.0762383759268065,0.03887484261769647,-0.08020191662544436,0.005123576642345286,-0.0762502935287824,0.04118015461742264,-0.031289846398599865,-0.045554283418204444,0.08354311441274365,-0.019035152754082692,0.04913625877505298,-0.04023626886501084,0.027365834039640526,-0.08476767626493271,0.008212448668081703,-0.004099967023767707,-0.08256887437764478,0.05103171794378151,-0.008684995105694154,-0.028872739317744825,-0.01917946518868422,0.031605530154306276,-0.03966583943466786,-0.047705648853920674,-0.06455022164808101,0.04783029490847461,-0.07969814525978255,-0.003255451868124979,-0.005891857471774011,-0.048680878695224694,-0.027867693418648632,0.081010290739648,-0.021709321159586528,0.04103253718368927,0.0188727260574659,-0.041320459164810384,-0.003240045790323132,0.06842358822012977,-0.07959369903538825,0.007609274439071462,-0.05046730622368183,0.0296873940180484,0.043462253135952075,-0.07593390990465107,-0.06652238478527303,-0.07633553520236411,-0.05834027245977266,-0.0701007822358075,0.017216343202549264,0.07266515285294878,0.03133686737952418,0.022898911451732257,0.027314396157980283,0.022646158208207305,-0.0688847402794404,0.08438467227105768,-0.03863378942702203,0.06980682189220463,0.03939771372978867,-0.004650856045972445,-0.02105603819062579,0.06878819170991218,-0.0008743804798972058,0.07516292973306604,-0.03009624681593068,0.04133000837697324,0.04976722757395563,-0.012669914123089546,-0.07121999271255143,0.06051997530725337,-0.08285542380994644,-0.07559508300833293,-0.043849904456179666,-0.049622365557723265,-0.08247990864150886,0.05302006820286719,0.04887077142371921,0.010581375007230357,0.03309553310730496,0.00013798359963014827,0.05610911233595898,-0.015275784923144426,0.03742156977413421,0.0660433361038403,-0.0092992157239259,0.061513533874203385,-0.020863266339534652,0.07122713895483546,-0.08425841985215757,-0.0316549239488761,-0.06512720931209448,-0.017922459550241805,-0.06914950028446402,0.01129920945517521,0.04223670301724548]},{"id":"chunk-7db5cddc-2","content":"Structured Responses: Harnesses the power of Pydantic to validate and structure model outputs, ensuring responses are consistent across runs. Dependency Injection System: Offers an optional dependency injection system to provide data and services to your agent's system prompts, tools and result validators. This is useful for testing and eval-driven iterative development. Streamed Responses: Provides the ability to stream LLM outputs continuously, with immediate validation, ensuring rapid and accurate results. Graph Support: Pydantic Graph provides a powerful way to define graphs using typing hints, this is useful in complex applications where standard control flow can degrade to spaghetti code. In Beta PydanticAI is in early beta, the API is still subject to change and there's a lot more to do. Feedback is very welcome! Hello World Example Here's a minimal example of PydanticAI: hello_world.pyfrom pydantic_ai import Agent agent = Agent( # (1)!","metadata":{"url":"https://ai.pydantic.dev","title":"PydanticAI","chunkIndex":2,"totalChunks":208},"embedding":[-0.009553868619240107,0.05798520954967318,0.06697626879876299,0.0034799164591508636,0.058421086645615024,-0.07034832042097323,-0.05080022186124155,0.06968504354070171,0.06653299993609074,-0.08269437322156793,-0.030807616839943788,0.03964405498469702,-0.05157969042208596,0.06965621340856837,0.02920007459816432,-0.04466244402081827,0.0831728025397266,0.006671182340023357,0.039703948382297814,-0.016580940712272313,-0.05086220252648599,-0.04576896913923724,0.006307982582002487,0.06423403132136457,0.018700779745940838,-0.017281494810800074,0.0023188535901829755,-0.003414398657990245,0.07810017030870645,0.07508675752104033,0.037788371082768744,0.011712017565463572,-0.06848169142877733,-0.05669738578950699,0.05626812561335317,-0.055240305625505595,-0.03200445284760034,0.021226040389762103,-0.01582710548214947,-0.07221885920318775,-0.062339979644063376,0.08291488753182076,-0.04097179177049581,-0.005114654367012742,0.046375582234540066,0.04058465939884318,0.06413504986586134,-0.027552904646746163,0.058537924165648056,-0.07256699491195676,-0.035339111274573724,-0.008100037636925777,-0.010731194255498554,-0.024213757660407238,-0.040127007532814486,-0.04003305405798139,0.037680018608071644,0.07761243925848701,-0.03776826059579685,0.05688421418143376,0.0801393155848782,0.05547379442914241,0.04797505945643049,0.06294954085645853,0.031943536697165424,0.07458575553703521,0.021888816403332317,-0.033293900694047286,0.023116177481607592,-0.03950815901038656,-0.07061844766330624,-0.040320207290762626,-0.07670760578554314,0.06880535142574958,0.021055243577646578,-0.050582210548535726,0.017020174158539625,0.0817287905294333,-0.059383384767755655,0.03311817083250758,0.009238602334479864,-0.02085130450381923,0.06350063621268068,0.04445449228464999,0.004521064933619707,-0.0809034037264576,0.07717426116223478,0.006078831641920275,-0.041699280101943105,0.0844221920473896,0.060501747993172775,0.04920929531639849,0.03342928814989363,0.0011310973093236658,-0.08250555128026404,0.08291288019152473,-0.06762833198430956,0.04367278689111703,-0.03226168546383,-0.0694646937570045,0.00785530791252176,0.0628352154783712,-0.05129956504673137,0.04163191254607851,-0.07515701777908321,-0.058574242053204585,0.07361337354000146,-0.02937415352011508,0.054177011203684386,-0.06582575611062619,0.013533428712122474,-0.024728701613773944,0.023611170100613935,-0.002175329809244142,0.053532433316115874,0.02141353135303306,0.004071010774280359,0.0622649475631368,-0.0205735999462482,0.044063005398291846,-0.08385234038230441,0.004319861475842444,-0.052003892914625975,-0.02571363648277823,-0.0069394538583062776,0.049599795594416934,-0.045317497780345904,-0.012210548802297811,0.05852387930186876,-0.07158412578339568,0.08288141433858104,-0.06639669434947842,0.06214066943675783,0.02475934481617056,0.06550103214078007,0.06891125507838629,-0.020889974122378786,-0.0284832215874653,-0.028518361096672558,0.005685705251840905,0.07479929802935632,-0.04186408855154803,-0.008651603167468082,-0.05726656682476788,0.0209649942876356,0.02543565356300146,-0.003403555611352151,-0.08189612360873873,-0.041718179417693846,-0.0028998004178860727,-0.06227578438714306,0.04369943984562642,0.022113606970612393,0.05197140498685196,-0.0149755018629769,0.08470939650101789,0.01076207213471654,-0.08013508546811168,0.03905402700083393,0.021248728703408493,-0.013297966897772314,0.05264586050760864,0.07369982997672336,-0.05113453672101586,-0.02979883069458809,0.05950307644032047,-0.08365842196561808,-0.0620412194928787,0.08131619789201275,0.0542030249560402,-0.0036406273066598304,-0.06506651359012677,-0.06123988436250276,-0.05657017840004232,-0.030187714613529645,-0.061946537196357856,0.014411244889108814,0.03677463551476853,-0.08133416638003188,0.03644490655441512,0.06133345022458119,-0.0008819287030656271,-0.049246403579017585,-0.06699335308990022,-0.08400270668354595,0.065901723458332,0.029098631830192925,-0.012120662307367126,0.069231887856637,-0.0343083246895491,-0.05589175118147761,0.03452884690021507,0.011621124858334128,0.045296720614065304,-0.028869372392852147,-0.05997321625366054,-0.057847793752872675,-0.07240972402328139,-0.06000870177379996,-0.05011599549174667,-0.024850620077119495,0.06157020405893946,0.06004588548921966,-0.0314442735316732,0.046989608254149245,0.036969648785698826,-0.045036163646647885,-0.003288175929149449,0.010978420543134693,-0.08378551608533713,0.023271821651411558,-0.07622587575215432,-0.07389268813574716,-0.01545502393291877,0.017670829357681623,0.06313935366494874,-0.006063501974323047,-0.03357693445729413,0.07128505820515,0.01016409900617722,-0.01855066288123718,-0.04399422457407671,-0.030809477204661883,-0.04344119054784882,-0.06396349365445395,0.07455603613312166,0.019349418140439615,0.03782221008525451,-0.02521339464487816,0.03402638298030395,0.07922025987305638,0.057227465201355,-0.024914770695820973,0.05393695807144532,-0.030712906999015955,0.05950423875084469,-0.08413976807625863,0.07859981754923898,-0.004958019315889309,-0.002817659856142004,-0.009297785399014498,0.07994750199896182,0.051797592440361126,0.07496748180891254,0.07724975586644196,0.0784861613471615,-0.049021898726220904,0.042610360130650955,0.020829001805014208,0.012100048269452416,-0.04617687552649233,0.010936545082133963,0.04033004440081484,-0.07699154059476383,-0.06335813588452065,-0.06879556287953587,0.028897380787611268,0.0021777862433188383,0.017811589304601826,0.04009569087609273,0.06303783029873351,-0.00048198826245063477,0.04094131330494725,-0.02918698552205901,-0.04014210238623779,-0.04209590195832351,0.056593764103649066,0.0037456955003798273,-0.06143565906578302,0.018547709560257017,0.0016618645361444243,-0.016430859948133043,-0.07941868489107087,0.03911718738019404,-0.030108108876883404,-0.027917596081059898,0.07071922658087339,-0.048995333976947976,0.08037733041006333,0.001327709460452856,0.011499339974776406,-0.08039685867879973,0.0006128942218831677,0.043236034321518055,0.00451442050863241,0.008592049389825515,-0.016015584151576237,-0.05533669749901757,-0.03211715127954185,-0.03391793894905688,0.05613510289712855,0.08292392024951038,0.08376091453287325,-0.02525604497454003,0.06106748260813432,-0.01511986702408633,0.06026997339655783,-0.08116827133077896,0.0037637985545795794,-0.04044473310427166,0.04162388325241671,-0.07104534676643598,-0.003857274991153759,0.04325887226539459,-0.015008687834379947,0.04467417932533888,0.041971316396926105,-0.019308995694449486,-0.05360396459335419,0.04816571889529448,0.02038266488118189,0.012573928692241412,0.06433749734850633,-0.008423854381236776,0.06199528106128342,-0.05649239095048767,-0.06750198886776472,-0.0821146957868091,0.0387962405148237,0.06335777402478586,0.008872205133508516,-0.002549514961714864,-0.05407519274712632,0.038105526696765354,-0.04068394419316958,0.07035701481547577,-0.020943024540386462,0.0763100238922992,-0.009653988412188466,0.062481673329318484,0.07949226140056637,0.0628762076935476,-0.022562533472715283,0.05975224975349404,0.040391016312273306,-0.07098172874716382,0.07141358190069458,-0.078547542680832,-0.07232533166938536,0.08189123074092919,0.07297481036314817,0.08246576046906749,0.06218119759154588,0.007965884363406926,-0.04407589366451704,-0.07341144755775951,-0.04780813544272068,0.08029450750593277,-0.06155815895055894,-0.06620144553074565,0.06755998828713675,0.03063764397389106,-0.062019967285421966,0.06272975049899017,0.0398278954675218,-0.012646794547669628,-0.031146649265223203,-0.01577373361582137,0.02501121890777223,-0.07883596955771713,0.019796768431396394,0.01658886456289884,-0.056102442021212846,-0.017644220796738778,-0.0479478204433379,0.024329152575136768,0.08399748031851725,0.00808289610152543,-0.07041155290448578,0.013480496379340765,-0.07835042699888535,-0.07519877740773731,-0.04493057533446442,0.08086778231947482,0.0015478301120822632,0.08393465552693956,-0.07334870737242015,0.01548332567573017,0.07843143338942653,-0.06991000073785524,-0.010831857921920386,0.01851094878791785,0.054036531901515805,-0.04422746204766497]},{"id":"chunk-7db5cddc-3","content":"'google-gla:gemini-1.5-flash', system_prompt='Be concise, reply with one sentence.', # (2)! ) result = agent.run_sync('Where does \"hello world\" come from?') # (3)! print(result.data) \"\"\" The first known use of \"hello, world\" was in a 1974 textbook about the C programming language. \"\"\" We configure the agent to use Gemini 1.5's Flash model, but you can also set the model when running the agent. Register a static system prompt using a keyword argument to the agent. Run the agent synchronously, conducting a conversation with the LLM. (This example is complete, it can be run \"as is\") The exchange should be very short: PydanticAI will send the system prompt and the user query to the LLM, the model will return a text response. Not very interesting yet, but we can easily add \"tools\", dynamic system prompts, and structured responses to build more powerful agents.","metadata":{"url":"https://ai.pydantic.dev","title":"PydanticAI","chunkIndex":3,"totalChunks":208},"embedding":[0.008100435002019991,0.01697550995684778,-0.06869564927695253,-0.0033182801258794564,-0.06294265000152945,0.08870601320470885,-0.07023066308176072,0.013265080173217309,0.059984336390440054,-0.03235539929901852,0.0729848527730044,-0.01494963013677367,0.0189969148107413,0.044810699705040244,0.07383296584821247,-0.06038516254182135,-0.07671720751437389,-0.027644462884839235,-0.01858667564248173,-0.04473862465723044,-0.0008642373775124965,-0.08811926131630181,-0.05806810618065612,-0.023179330210839604,0.000951726811121287,-0.007494516176810253,0.002511944552728117,-0.026248698840878857,0.06887386632969653,-0.03972817085432257,-0.014132291806916993,-0.037360403814532574,0.05799176567933597,-0.03692961720496018,0.004103946157481939,0.019698497454535155,0.03398949441202445,0.033815474029006164,-0.07672018787035446,0.029109212159843946,-0.08997804923075098,-0.04251978266978775,0.049856232642001674,-0.0727266749254642,0.02895602329567374,-0.013716986524091581,-0.06744180572736962,-0.06902815434427292,-0.08358017172110105,0.07958027794025853,0.003127772389946109,0.02674151009808609,0.050981924834663364,0.05453594680914772,0.03427034243450153,-0.009370283717343525,0.006179277481370911,0.05004644943489519,-0.030120392074876056,-0.020805511930821204,-0.07754450802114794,0.027815394801158543,0.01064891852807841,0.06432596982271065,0.03293593383322658,0.07871575270782866,0.0783667911357053,-0.08734888978141883,0.08799639683464161,0.052517092155144524,-0.0566883425640906,-0.06846124784462503,0.034495130087888626,0.02563704910828167,0.011850516719108464,-0.01800475588574713,0.013179045005087923,-0.028421488652550835,-0.051067743727666676,-0.0730943077838695,-0.08465848133727814,0.022606676963285267,-0.003991704293183874,0.037593528076208166,0.07395964533086365,-0.021402881216360768,-0.06567905669795437,0.07138866973889517,-0.08168157010042519,-0.03664499714107998,-0.06380743564038376,0.05604599644245063,0.05570904589054209,-0.005985018797730593,0.0006980745320598564,0.063997049370947,0.005960467448517465,-0.07339543498190165,-0.0192057267656301,-0.030132275159879023,-0.04957792642426108,0.04984112049122503,-0.05315900673186592,-0.040469209432022354,-0.0419473611968568,-0.04333363081385742,0.01876719370243398,-0.08553567625462191,0.04788746870615316,-0.016109562010124333,-0.019864478892617422,0.023300085388738453,-0.003929636814957674,-0.07432857622606648,0.08637589621846593,-0.03872763795603232,0.07157332195667516,0.06703624197061908,0.07798159210946864,0.03946476720499955,-0.01597763612922812,0.0027455846630160437,-0.06817355867896413,0.019327650866888833,0.08165631325165905,0.07564209127916477,0.03455442582361237,-0.011249144780603645,0.0726288905230663,0.07442726336128086,0.020934747012504983,-0.06195474660639715,0.04575810699953961,-0.05430205051430028,-0.06734185816348241,0.0013630109806159602,-0.0066976114427344064,0.022374599595906857,-0.06888016552600651,-0.055996796595977824,-0.08336375009013282,-0.06271464420182521,-0.0891884629369804,-0.06984062524287812,0.042819285635567174,0.04732066954710021,-0.0016411116855778668,0.05198487755237879,0.025629993764389764,-0.054539486133231375,0.01582529560616865,0.055423484693084966,0.040064107678993474,-0.01979585833391296,0.0031643905654899183,-0.051368349066280385,-0.08389156012786081,-0.017546639310088832,0.06780748735978964,0.05390614228001819,-0.009842998807477285,0.08422909631774729,0.011237041920940617,-0.037063662109312986,-0.02782094275235163,0.04911652834161171,-0.056926821446530725,-0.06879246511543728,-0.004712597068619803,0.021550126259946924,0.043282372047865496,0.058668726067138084,0.07732823931047447,0.05801302198914141,-0.0490099082363201,0.08124752753921011,0.055282759948721505,-0.06935383030684601,-0.08764898027510434,-0.05943162745539583,-0.08817240384140712,-0.007614075123058665,-0.015702156493822752,0.02962689656834379,-0.04401640141493808,0.07736779821116868,0.004110527715786056,0.0603770773113361,-0.06965501017355331,0.04544127557787578,-0.06341979981266688,0.0652239286879922,-0.06045402693939943,-0.0004562252764194329,0.011883836031894633,-0.051344427060169555,0.005376225228852195,0.057711997917261774,-0.040561268617035746,0.05411290969916286,0.03909852596672053,0.049159927447703776,0.06760604991671684,0.018959732305837706,-0.036895652848105635,0.07715338980099977,0.0014071006034095258,-0.05705789600345635,-0.020869468821904418,-0.07823999124168982,-0.026992905574663485,0.022390056450080225,0.025513462472138555,0.051651580214414586,0.026395145231849913,0.06056813522055942,0.07799652914583832,-0.07609656436490375,-0.08998436558358551,-0.033120006838833795,-0.04651780502441963,-0.0846373398500916,0.046973538696435405,0.0474231485079236,-0.005911112584391801,-0.0867913056648178,-0.012674062735178815,-0.04187435568388186,-0.06583596957233506,-0.025001163673006383,0.0779401553773895,0.005437017766221707,-0.014644900184295106,0.04698841344441136,-0.0637675104552001,-0.010702225955424258,0.05839429386378851,-0.056945685407094056,0.017003740017489225,-0.037747866574199374,-0.06042788850744184,0.02508587029934055,0.02379411552292031,-0.020049456771712475,0.01200511035632671,-0.04802863042803018,0.08423711805589208,0.028594735740245916,-0.017987654411997473,0.045925008635683925,0.05702000958221454,-0.011418163678602829,0.006181798527247525,-0.024297890401728958,0.012013793560249288,-0.07254022810512267,-0.002326346330369239,-0.005474784873502461,-0.012066719637325996,-0.01112128434445482,0.06457386074606582,0.02951374932900448,0.08370145629099762,-0.03235983632915546,-0.07183157172981172,0.07819781271083562,-0.03589399019256889,-0.04826710631104647,0.06035085505286769,-0.024567279709883164,-0.05144217552771954,-0.08934765793868432,0.023960213796927723,-0.016167302580093964,-0.05027406518744237,-0.045556281623726644,0.03607956520953629,0.0545759809742221,-0.009447428954124166,-0.004357987693330108,0.015500485592832002,-0.03700573173500476,0.04124309292622574,-0.07992015521083896,0.019597130459275677,0.05369095361145713,0.00848709587332437,-0.08940532357262375,0.025913192847413922,0.06102226861208545,-0.06536737807118673,0.0735441249704364,0.03857724779355117,-0.009162088713645569,0.005339344655968852,-0.07247992307371125,0.05446107001461802,0.02178178694369456,0.05053287173426727,0.006604534024296266,-0.08140317024810981,0.04143594582754641,-0.06822642967176108,0.019240484377184234,0.02700475069063401,0.006980118526210669,-0.06753359761464024,-0.0878271694909948,-0.014341988210404085,0.05325905376522127,0.016714536049072675,0.008854774549332832,-0.06894639107500491,0.007001519602070615,0.057604469028320296,0.06818185205609481,0.03534735263601122,-0.08647104881049797,-0.018856156007919785,-0.08474369241954383,-0.0893071557445671,0.07064547981007917,-0.08871136718491342,0.07436546866501986,-0.011572088991919948,0.06515449631010178,-0.0867038373649453,0.008568011006411653,0.05952162541439595,-0.04784239771312099,0.0886285105170008,0.03066443114600716,0.09059393271054288,0.02089443670679357,-0.020377273242850377,-0.0368848547219761,-0.056760652931870964,-0.08763596365572017,0.03643479154265583,-0.049943210974168394,-0.05643842512867791,0.052084617794051824,0.079060911941226,0.0761115038133936,-0.023400604664465703,0.02090043215892625,0.042985676778335404,-0.03556784306223395,-0.044758717363737946,0.03266600293497237,0.0050349313766366545,-0.008143942593129588,-0.049229946240994374,0.01855879451876141,0.013649287214348505,0.030195094742167906,-0.02911431008216598,0.01728287613632761,-0.040099799506373934,0.06743764605886753,-0.04043062010307478,-0.06345554633827571,-0.010026304785343953,0.07720170865016215,-0.018615606066330916,-0.0838925754943942,0.05413370002572568,0.03425329453942296,-0.02645234779413788,0.07411277032207485,0.005921552509140055,0.051275668952699444,0.054615829018157,0.07317359683263054,0.07675413730258271,-0.019126573201278297,0.03450158656748076,0.020119410155312534,0.03578946902517534,0.050623543371744996,0.05061685217360929,-0.007489019588513283,-0.022251887392633576,0.06505107733204234]},{"id":"chunk-7db5cddc-4","content":"Tools & Dependency Injection Example Here is a concise example using PydanticAI to build a support agent for a bank: bank_support.pyfrom dataclasses import dataclass from pydantic import BaseModel, Field from pydantic_ai import Agent, RunContext from bank_database import DatabaseConn @dataclass class SupportDependencies: # (3)! customer_id: int db: DatabaseConn # (12)! class SupportResult(BaseModel): # (13)! support_advice: str = Field(description='Advice returned to the customer') block_card: bool = Field(description=\"Whether to block the customer's card\") risk: int = Field(description='Risk level of query', ge=0, le=10) support_agent = Agent( # (1)! 'openai:gpt-4o', # (2)! deps_type=SupportDependencies, result_type=SupportResult, # (9)! system_prompt=( # (4)! 'You are a support agent in our bank, give the ' 'customer support and judge the risk level of their query.' ), ) @support_agent.system_prompt # (5)!","metadata":{"url":"https://ai.pydantic.dev","title":"PydanticAI","chunkIndex":4,"totalChunks":208},"embedding":[-0.023096534647677615,-0.0043409384884854916,0.008917226934427362,-0.04195738808977641,-0.07465301930504023,-0.07600031257189714,-0.041518154121151514,0.03193056478982755,0.02425229382060463,-0.07587071608857601,0.08803778935690253,-0.003026615972439317,-0.01672702199980011,-0.012492103092015846,-0.04050850898690072,-0.055964761813210764,0.07323926711292132,0.08442524338076096,-0.01613022930611251,0.06945964780694713,0.06660912627862604,0.05892458076742156,-0.03751163042121933,0.007509732659529039,-0.02237451267948385,-0.01627895643274073,-0.01490120645141381,0.06641076582295588,-0.058321360420713605,-0.07010648432865567,0.05393017425638555,0.038206775028469316,0.08077556590548048,-0.007579960878664664,-0.003223652962592941,-0.07506078328900437,0.025526208440864954,-0.06149881283731934,0.03392363385209488,0.08337261535740906,-0.03173611990940122,-0.07744262809635084,0.029635421235474597,0.07532916333718431,-0.03969021280666446,0.07987559800276002,0.08044055626374995,0.032165605567018606,0.02833455913031498,-0.08247692927910874,0.029754774815249737,-0.004818109921824928,0.05087981548398277,-0.05755757617303816,0.05046927193672151,0.03158779736760765,-0.08559910775142526,0.03167133380629614,-0.04326736422476217,-0.07906298339105929,-0.005077573475851807,-0.022976486814214568,-0.000873472553455278,-0.05292775814682833,-0.018106018535049,0.030980325814020045,0.07801738972627371,-0.08197455578855405,-0.007471085691501199,-0.005992207582572124,0.0351989884772263,-0.051400622346793906,-0.04913050415090337,0.015327599075280468,0.013699705447233094,-0.04349118099803571,0.04920194496363538,-0.0677760325901467,-0.06965638132175671,-0.03454795166614191,-0.08426398395922968,-0.05364342434050436,0.01726359099126688,-0.08766973499439183,-0.06184949539816082,-0.03202070033371297,0.07454025591467332,-0.025332441800773667,-0.07757771387018589,-0.000243380601698952,-0.01857516789005027,-0.06196214600867578,0.00025000897715968517,-0.019586464665904583,-0.060799529506181685,0.03929914659599276,-0.0696414030071225,-0.08806551934549071,-0.026756604612649896,-0.06188044311852849,-0.062166085417141616,0.08410597284313963,0.0046563833770202675,-0.06991571364796124,-0.07073006846760353,0.07061821909774865,0.04211331994183683,-0.021242128587054016,-0.021063809986158775,0.0856113810869941,0.03846818400069166,-0.01100116798613107,-0.0034535559027640992,-0.005374352142804598,0.04298334708496544,-0.05696883233156705,-0.053136610037310676,0.017011288838041868,-0.06108138009782306,-0.0787742991665683,0.05958154588882641,0.004997714616664712,-0.04860569290715707,-0.003967633538127647,-0.07271393585015552,-0.08153799332611908,-0.011067288650388814,0.07527941829770185,0.06106394784094082,0.03582566518536891,0.0334037054325894,-0.03608958603324008,0.039225023489691514,-0.060112478694810026,0.07470525091320634,0.031456320803121884,0.011034946176988266,-0.07373734934281248,0.0369078459332451,-0.0067170407685129075,0.02608464518359938,0.014183319652104622,0.028533459476592336,0.06039748707511084,0.047636142375803756,-0.028628079779727915,-0.06397015174924381,-0.021544525260379935,0.051055588453583996,0.0024312706244195774,-0.07185442503132296,-0.01163180256710765,0.06632477850987384,0.054640838456715864,0.021376733129762463,0.03579195943517694,-0.019520760041690215,-0.016531053332938608,0.015375316713047354,0.05929330821577009,-0.0669031827706252,-0.0709290947075906,-0.003393408564326791,-0.0723411253991114,-0.06018257552502014,0.04372223599241054,0.06579496738776586,0.013235347887396868,0.050587305816231366,0.02470362951634266,-0.048954657070550876,0.051012111204785215,-0.008773090626517491,-0.05144838010594167,0.07439844897526231,0.03447300207918929,-0.04353467164515036,0.08495816755739109,0.01584356898694622,-0.03916479615045875,0.05370469699729662,-0.07769474626522144,-0.034084733265522776,0.03987960224451965,-0.0057715720077048255,0.07700779928886821,0.03475383265784443,0.035025030589201187,0.06120753321004387,0.05060174072079247,-0.06273674140759566,0.07290590280880643,0.004473766159187574,-0.05996565396236563,0.0030531966287537233,-0.023268685378030403,0.07592798027291528,-0.053388903875964275,0.027302464223752525,0.05046694779041735,-0.06480983353397628,-0.04139806314741724,-0.04057974974387603,-0.046671796803299075,-0.08715688956309055,-0.07770207141750891,0.00019059852462867323,-0.028737057498954072,0.048374118877386484,0.0581924516866633,-0.07433450270754721,0.013454140343833298,-0.07759091572366197,0.08148518989752304,0.08268834431604506,0.02559222794045702,-0.0868338444703864,0.05884918228028483,0.012009431185773892,0.0010526295074708132,0.027277061250974108,-0.0874527591401122,-0.009251709460438554,0.08163165761032398,-0.05564951309361536,-0.04098743552508867,0.07663795817879764,0.008365958999260448,0.021354871717055024,-0.07192708833851102,-0.01302866584582544,0.029006377428306616,-0.027107689603925494,-0.028123708493213995,0.01799706233345672,0.04336234251050194,-0.036040148020969116,0.05094190202141036,0.08236323665325718,-0.0551518025186503,0.016497106773095745,-0.053218818417645516,0.05663136992407373,0.024985169474413413,0.028409947378164838,-0.08174061572268218,0.059086492728197826,-0.011749737659484765,0.06601470850436661,-0.009455706259257898,-0.060082130647046324,0.04764707929955364,0.03665306599367988,0.05821088272885847,0.0670004038006882,-0.007079007167087028,0.0635052101934177,0.08214004210634698,0.03270719120572653,0.008336126549797223,0.011300215620780943,0.012024463278030726,0.014249770121530949,0.03204118569843959,0.07455770107285362,-0.03884731608657377,0.008458636417791513,0.04191885757792846,0.02935484515020918,0.026898466264021575,0.012442649659508935,0.08176079438220261,-0.05959617041062407,-0.07470173440707914,0.05690677993120618,0.03253635798947341,-0.04601926460254858,-0.08415337223930687,0.011098905991318568,0.07323079100321808,-0.07302218407814473,-0.027795798747982166,-0.01828781867904701,0.07069568107483502,0.07366380512039525,0.06351751281450639,-0.06722740702366778,-0.04879023287119644,0.07433012544147286,0.037650420316276675,-0.031950041980730814,-0.003280139605542318,0.041949004290356265,-0.04927568261388649,-0.017141061838168756,-0.024226886120619223,0.08661409325769263,0.053584579087814534,-0.0351691860183178,-0.05229156362929954,-0.06621925136013479,0.020129943760234078,-0.019475025265106825,0.008613013784530735,-0.06047288792484606,-0.016378931771396224,0.07225362856270139,-0.05768539927591976,-0.07862167776400167,0.06215622015380069,0.07794500583094374,0.020008535071411405,-0.05222919257544558,-0.06028081570820261,-0.05272841558280143,-0.08719366531975319,-0.062099793718289095,0.07284026270513236,0.06252669207672162,0.03580681029305908,-0.0008957534010507294,0.06332291348151321,-0.07373280711546122,-0.007818776359539384,0.06762759434185066,0.04803330160087054,0.04725820408128147,0.0020129154224246405,0.07952740803125752,-0.048512018056996724,0.009371537500223601,-0.0022885019463628514,0.06401576783542885,-0.03825413640211935,0.04731490790785671,-0.011846450784320294,0.020227188760518076,-0.026773450103010063,-0.057499188052997016,-0.07163326024275707,0.026757330369392932,0.054122046311856756,-0.021940991073716307,0.05053380924991094,0.05393458774914419,0.06585039923783755,-0.071071597363261,0.035842008955335423,0.05884506984457408,-0.027792686194678787,0.0002789924119505786,0.07725192516911408,-0.07860648257094313,0.04703396655020467,0.03130287072367481,0.01723732667796692,0.045750571905129114,0.04168942187544107,0.05523353276168248,0.03839263365375404,0.023541027941870636,0.02109079487292108,-0.001545178769177683,0.02900965369110125,-0.07376285828147253,0.06486328242123783,-0.049971956179357596,-0.01664125680028161,0.02943275928652729,-0.08462035546353361,-0.08193956146423284,-0.08287928947039935,0.04306202727958573,-0.027520871086814207,-0.06731320439895515,-0.020638569240216977,-0.01139502823546529,0.0429017270426874,-0.049214721924695524,-0.02808218767422792,0.0034602026028603535,0.05150590229992054,-0.014036808847996554,0.07831220401442496]},{"id":"chunk-7db5cddc-5","content":"async def add_customer_name(ctx: RunContext[SupportDependencies]) -> str: customer_name = await ctx.deps.db.customer_name(id=ctx.deps.customer_id) return f\"The customer's name is {customer_name!r}\" @support_agent.tool # (6)! async def customer_balance( ctx: RunContext[SupportDependencies], include_pending: bool ) -> float: \"\"\"Returns the customer's current account balance.\"\"\" # (7)! return await ctx.deps.db.customer_balance( id=ctx.deps.customer_id, include_pending=include_pending, ) ... # (11)! async def main(): deps = SupportDependencies(customer_id=123, db=DatabaseConn()) result = await support_agent.run('What is my balance?', deps=deps) # (8)! print(result.data) # (10)! \"\"\" support_advice='Hello John, your current account balance, including pending transactions, is $123.45.' block_card=False risk=1 \"\"\" result = await support_agent.run('I just lost my card!', deps=deps) print(result.data) \"\"\" support_advice=\"I'm sorry to hear that, John.","metadata":{"url":"https://ai.pydantic.dev","title":"PydanticAI","chunkIndex":5,"totalChunks":208},"embedding":[0.048797788611183085,0.05141405326594539,-0.035313309629821474,0.06718939105818302,-0.00012820970256800188,-0.02082290121422216,0.01979881714527893,0.03455560111718974,0.04360234085894931,0.0011111114188270595,0.05115203913319291,0.08638872512470418,0.03538828535088926,0.013185194260654126,0.051243732893618776,0.08061638612286988,-0.010776095185620884,-0.07609356577020317,-0.03245397178348341,0.03737595814317702,-0.051015903201831234,0.032747154161028566,-0.05770729966250183,-0.06116433756445203,0.05015530716356446,-0.016031419548440198,-0.08449671449038493,0.03844176773272269,0.07852364440492929,0.00823180085933947,0.08322960156888201,0.04998597714298374,0.0797369497465798,0.030211218534432146,0.03716187777711096,-0.08565712085832763,0.05380724562351038,-0.06330526112822546,-0.047084084578880525,0.016730544349788035,-0.06729899149686251,0.06818655046231197,-0.04626075959222867,-0.07875129174294024,-0.04026486803714167,0.08719646614626499,0.05947861007329893,0.08310085130623668,-0.004288808923248157,0.005949211779560527,0.04933030862157891,-0.07379769949949819,0.06922232300664857,0.03255709696047664,0.007885590541795273,-0.058568917346726417,-0.07041914192548879,-0.07858687820995175,-0.08632206536039361,0.0077097494131249346,0.005279979340155176,-0.012538663584690139,0.03040644071279351,0.08714552899819338,0.0035476841204435264,0.08021266319894542,0.06764420409114713,0.045965000631466676,0.059263479015217134,0.0856275800133541,-0.08567334299889215,0.06502337207249538,-0.050465797755138916,-0.015759018791112897,0.028298062032762673,-0.07172386088827007,0.040533261829052,-0.0003765063877447978,0.06422862523664022,-0.051634515527230605,0.04525993176107106,0.08615194997424067,-0.03948207055864121,0.06463955877602885,-0.03336907020630517,0.02578730268171595,0.001283493067778937,-0.03749107969981559,-0.023639495601190177,0.016277956790808106,-0.05247684932778386,0.0392696969634108,-0.0002253080516636098,-0.07534067018982918,-0.07461890735338987,0.08495793739534284,-0.021596985055487048,0.0671790069582065,-0.049474783394273504,-0.030998676333664633,-0.01842469318348713,-0.0526424236562894,0.07041418518075804,-0.04158087319029849,-0.02802833526049928,0.00254115519727742,0.07600668503094238,-0.05267931998978052,0.03294428659542029,-0.04906402926736783,0.08414288915567246,0.07824454828810885,-0.08035016932952259,0.0729425680954816,0.08651847535191323,0.025666352391162262,-0.02796757202850472,0.04167976532731038,0.08656367001470831,-0.018576808876812345,0.02011495366928148,-0.023072101936379902,-0.06716902845656213,0.036918842287261194,-0.08503785979087067,0.03527212229588669,0.02159258593538462,-0.011199141288886608,0.0185417849294128,-0.007399084739810671,0.06928658852356065,0.0024220332351197926,-0.07165512334291342,0.025062476436464486,-0.01366384784341464,-0.06955068503567156,0.002260158730386516,0.08334505462311598,0.005360023656747021,-0.009556580935882403,-0.04571234910740673,-0.07443885117370638,0.04636724702675599,-0.015020662595158019,0.0160480297404458,-0.07676627542595586,-0.00036564983980853923,-0.06724003485857775,0.05775056720116134,-0.0397737424153456,-0.07374344156287035,-0.021307061462540477,0.04657794792479114,0.0010540425607376439,-0.014639577849187417,0.025974072991867544,-0.01935620028908799,-0.04876675895321812,-0.0881938186530576,-0.07435660851163454,-0.03477787401355081,-0.005851573709478679,0.07494876515741399,0.03554284459568408,0.027901680100520944,-0.03050396711785136,-0.005101732023588071,-0.005631315782969357,0.008087482022693738,-0.03918181716932954,-0.03226505068286325,-0.025210644124871673,-0.08694537382384164,-0.038837444537827594,-0.028322278253714733,0.03831767844019843,-0.0011265588812901216,-0.05345422131268995,0.0032006319759153414,-0.07206104749833066,-0.006634048230297526,-0.053267778067221945,-0.05993290325129666,0.005761701365818648,0.0031962069769929176,-0.04180359778273458,-0.06741482960022688,-0.017948999856316074,0.03453864234071048,0.0347110158512477,0.06288352874717552,-0.06942581073834676,0.07759238086457021,0.02836197923320866,-0.06668734806491551,0.012091467886726841,0.053802279548693495,0.05646205095346955,-0.058569909427725726,0.05617144888505302,0.06165861501574124,0.07934742582184044,-0.06993515442342228,-0.053228322421956305,-0.07515822076680133,0.00860798098284779,-0.012800059323475204,-0.08308337756405089,0.0733596290804301,-0.015416028516149302,0.07211366293254554,-0.011605696639519351,-0.03686077256872518,0.03972656257498764,-0.015985306030270176,0.031413604278031214,0.004693173359684992,-0.07610390143975457,0.052512817754728984,0.06769286258198395,0.017877136666861863,-0.03292117617359581,0.001931979624455309,0.026202186815222357,-0.036706002394002964,0.03984424125386211,0.0872250170602858,-0.03603813756899243,-0.04537657933903762,-0.014662535437840596,-0.04692613613598617,-0.04698114273014919,0.03875788491341693,-0.06254768144093593,-0.08515699452161411,-0.048469748413324076,0.02307432926347709,0.021486566592478842,-0.08057092557124124,0.05514715059651109,0.06391752938563842,-0.05711260587738114,-0.05433436202531174,-0.017499141875669803,-0.01773265243841367,-0.06718190281902284,-0.02560200319884177,-0.08266353210312945,0.023165884683870396,0.07530840937361488,-0.0061099969275618385,-0.017934242568730954,-0.010693054889409342,0.029329985777645697,-0.014010558626094233,0.009916548464741347,-0.05120588124120078,-0.08096771031760581,0.07889864858211673,-0.009286960228365636,-0.058957813834462754,0.0498081121034706,-0.05086381565850029,0.08821275201133975,-0.00789459658199209,-0.08040168842132768,-0.0138148490787704,0.04286866021331352,0.07894446955968587,0.004395968480359354,-0.0787466505181991,0.051494100303450786,-0.0086883178278273,0.003764248832016702,-0.07838870370140762,0.06749598888211834,0.030587086438087756,-0.0060476445065719975,-0.08313939669111105,-0.004876764002388558,0.06237780487897056,-0.06909124456008754,0.060415833318140925,-0.061093023031075035,0.08616766729577346,0.015963768268473212,-0.008745030629170418,-0.027957746627436594,-0.08441269891185181,0.047469330752174924,0.05459260252876628,0.018855969205328345,0.07893150746309512,0.007791710004989725,-0.08765494046663429,0.057600548607282004,-0.03801442083269606,-0.06593930088519585,0.08794241781606346,0.04979227921519614,-0.042861558018660054,-0.04728987132051921,0.08424814279209,0.038030074013160976,0.07628004111993203,-0.022276175886206964,0.005716298232892179,-0.07898020558209035,-0.07156754247734168,-0.00960989607139668,-0.040546477387197404,-0.027880920225876776,-0.022847583965124114,0.012328122389353095,-0.02312517935890751,-0.0752513754372505,-0.057517301871163655,0.010093282618236924,0.005319565196479839,-0.0348582120842702,0.012077575003442845,0.03669357818917513,0.07679852739663495,0.06067501607150773,0.01021620597171659,-0.07528950542788729,0.0021810605735751165,0.024598060089465107,-0.04695412186014101,-0.07561080796653621,0.07126228602246447,0.015219539803544565,0.034897912141827754,0.07580679086598714,0.003732781866901459,0.0793133850504058,0.08741454354495622,-0.02703020926713482,-0.08658716715662267,-0.02970584341176249,0.0009834656663741076,0.05905532705906048,0.022453282282161216,-0.07787437850347002,-0.019637883211980706,-0.03516687520317654,0.008699546924195193,0.005240943290681024,0.05764560207088873,0.053130835108800685,0.03640742254361349,-0.08249916223685315,0.010546746945862726,0.012319778284288952,-0.07493220239282394,-0.015312958987023676,0.001532096231647313,0.059042333326488894,0.08219776192381631,-0.05310613621296572,-0.00939792142601457,0.0007787684548677946,0.017901455420814647,-0.007494589245990765,-0.014549965044036028,0.07490973209053338,0.049030901224517025,-0.029357142446294962,0.03460407026769334,-0.00563357615707445,-0.07911910493996385,-0.03321609259904802,0.0270581235863872,0.02345823460605866,0.0019386489607394245,-0.07419642391655688,-0.016433010730159035,0.023857155367965465,0.008271572100927266,-0.07346132915647074,0.043739590165081534,-0.0389472966064072,-0.008610337366655129,0.07715634792051666]},{"id":"chunk-7db5cddc-6","content":"We are temporarily blocking your card to prevent unauthorized transactions.\" block_card=True risk=8 \"\"\" This agent will act as first-tier support in a bank. Agents are generic in the type of dependencies they accept and the type of result they return. In this case, the support agent has type Agent[SupportDependencies, SupportResult]. Here we configure the agent to use OpenAI's GPT-4o model, you can also set the model when running the agent. The SupportDependencies dataclass is used to pass data, connections, and logic into the model that will be needed when running system prompt and tool functions. PydanticAI's system of dependency injection provides a type-safe way to customise the behavior of your agents, and can be especially useful when running unit tests and evals. Static system prompts can be registered with the system_prompt keyword argument to the agent. Dynamic system prompts can be registered with the @agent.system_prompt decorator, and can make use of dependency injection.","metadata":{"url":"https://ai.pydantic.dev","title":"PydanticAI","chunkIndex":6,"totalChunks":208},"embedding":[-0.0336099411205293,-0.0628710597418275,0.013853141482880589,-0.04539401761201458,-0.06404096126309311,-0.021058022837322245,0.017926036224670167,0.04021611919632529,-0.026826110477452876,-0.07107688448505962,-0.04000509964851646,-0.027395888651641553,0.08444923821312021,-0.025966820952821736,0.08266039708093112,-0.05795029446521905,0.037883268066198426,0.0038153842621477534,0.013266346648257162,-0.0840931789839031,-0.037424493921796004,-0.07422994097591988,0.009327815745266489,-0.00009991222058707588,0.024751262231774717,-0.026170570530091135,-0.04968105006310003,0.0715889805487338,-0.07323773450744041,0.008906019793354328,0.05329241584487254,-0.05749936788347635,0.08096591651439938,0.07225296699273515,0.011188539041485437,0.08224094939739235,0.044592495904999606,0.042646158720107595,-0.060333082835442434,-0.06148265525011888,0.03765119211468198,-0.029512932943611823,0.0032389430184149763,0.06586857332132857,-0.032889630650003256,-0.07146858668082916,0.014913960247881773,-0.048937237890337694,-0.05919036367453437,-0.011831226233565082,-0.057107627078047514,-0.003148359453872727,-0.024779024958382103,0.000626406386381859,-0.011513318929441223,0.011842754794748826,-0.07789274023177127,-0.06039246365120198,0.04527928154062003,-0.07499051410670643,-0.010021293495254588,0.0806848497483769,-0.023159009552769703,0.0764565092865406,0.06931070176777342,0.036440677422212193,-0.07037286045923255,-0.07378665819563744,0.04209618295680567,-0.08209233968238215,0.03861412963268724,0.018329132742435004,0.022706422632656174,-0.05691013286991692,-0.0593041186808054,0.06466952526766145,0.006732374493149291,-0.04864802936775028,-0.05895316423651079,-0.0387229243430228,-0.00092485496072143,-0.021972090353958453,-0.003599503478862988,-0.061324043944131434,-0.05566737159547955,-0.05567325902611697,-0.004340226801651655,-0.05787187915824584,-0.05229723402840236,0.08400078798806483,-0.01909979229877732,0.06882807534990952,-0.06398829260139188,0.08398366100347904,-0.0005831352654831551,-0.005109648878474314,0.0237468334432889,0.038638476546219054,-0.06590719956842916,0.03771919885209197,0.04653455480013929,0.03844756460197278,-0.001567158080476317,0.07358143181718364,-0.07365105823739088,0.003291561131896115,0.02193772959549986,-0.033895802648611084,-0.022404490052311807,-0.0005849050486862086,0.05041424437131136,0.041061158891048395,-0.08478287908670842,0.08754441078186229,-0.040898245699487495,0.057263984702216365,-0.008048372445085024,0.013957929082876928,-0.04496762837326147,0.039851095769455745,0.012521015367710536,0.021397428988865812,-0.05946370792874957,0.062058747278800966,-0.03809269578239537,-0.08099049932978845,0.0650068481388161,-0.08227763881769723,-0.05037620414789002,0.017494612781210218,0.010976450206016777,-0.03787630545550171,0.07489219780120517,0.04999577165618702,-0.08118030213445841,-0.034222743492962907,-0.07518259778372198,0.08459661727353507,0.001975294963976021,0.029815017639815734,-0.05222497887241624,0.05269935368542045,-0.0216851791247567,0.04664411338105208,-0.07926840301524747,-0.08781870429873735,-0.055605316959593976,0.04535574490724301,0.03048187607475035,-0.053467196285786146,-0.035917252925712205,-0.07198095387378843,0.038582128396379874,-0.0015516449128313583,0.029122752007373322,-0.005338515446381749,-0.011334191128615924,-0.05416382191023844,0.06023050795800492,0.018632204022440407,0.02001402118059015,0.050141090447067424,-0.084415782492186,0.03411083986241252,-0.08309939555530074,-0.06556051383008327,0.019243720857824703,0.03965674001860939,-0.06926849417221205,0.032163007071947095,-0.03794839408720375,0.05246450792799617,0.062228157893141844,0.02258773740739454,0.049569844003849124,-0.057949507841642794,-0.01196111143777189,0.000573616895833691,0.011608890402856347,0.0029832828843412455,0.08612524702394007,-0.01610817291295747,-0.059129982467465286,-0.07854752407376002,-0.07190238149601792,0.05255657138460522,-0.04910610826817791,0.03486819343849126,0.06252503796030386,0.08161069461957673,0.06141560919576026,0.025407007855393716,-0.04167123372947621,0.08513410917268831,-0.029656385077953804,-0.046161556520556625,0.07616630784131714,0.041584733910524516,0.05054959355272388,-0.03550861057244368,0.07944712887283324,0.010779885436677654,-0.012625786718237298,0.08442627493174333,-0.05922800503950746,0.05592547713777195,-0.006895365058370263,0.0376986164271467,0.06601085405653835,0.04592631420581553,0.010976546589544738,0.07644412191904768,0.07883277592533779,-0.0434224273405011,0.03163823965226167,-0.007547041207770712,-0.06069357790290429,-0.03207602959231879,-0.06416141567475868,0.049625394040734586,0.029808773631946166,-0.06584796372654718,-0.0851079771627963,0.014046201944751325,0.07124054169258898,-0.048570402345533156,-0.017767003942490034,0.017213632721451745,-0.030155307182938147,0.0479621144055954,0.0330476440549316,-0.001516665753676549,-0.06514518655341779,0.012807491704381025,0.0004842247725127749,0.023052646616714002,0.06896946141833629,0.0662206195354149,0.031903058082224205,0.03528994211289596,-0.08558357995306451,-0.03884478083108218,-0.05219609996279768,-0.047952087631240196,0.004450339798815589,-0.07863040666498912,-0.08649961596348653,0.08515192634127816,-0.06029821083082152,0.03544145440116176,0.006580675387310607,0.040861361100200985,-0.07291312794568772,0.00822564443341123,-0.07462089134026878,0.003045903498139299,0.051900791050923205,0.034529931709056653,-0.08525719971637247,-0.08516152410174035,-0.058668259800811945,0.03753936129111612,0.02143762975958427,-0.07495879363601424,0.015508695745328326,0.025129015389110883,-0.012353549319066388,0.008328816833029641,0.0587323947372082,-0.019170999854382774,-0.05940013909710484,-0.03857282560510813,0.07829234906104147,0.04866936258807332,0.0542298614950067,-0.06657614407683016,0.055493064544568094,0.051021463939095006,-0.05981593148085863,0.04765966907945578,0.018132796102703394,0.06417543219020817,-0.03593828241603596,-0.011615806588141793,0.08081213040161007,-0.058796065088343105,0.08135250037405481,-0.04134275010093041,-0.06792931741468716,0.01988636853236447,0.011742139984475007,0.027255128482325506,0.02644548779433018,-0.007337667570340659,-0.04933616782575846,0.03384614271577687,0.022367078482323388,0.0012911281530597325,-0.0520703609811086,0.0015756555978344669,0.02288867308506293,0.08081972663680716,-0.044306490942058054,-0.0030573750568220807,0.07722898192169468,0.06375659974170594,-0.045389353546344734,0.08744649577609123,-0.06367217670982721,-0.07935537908761389,0.0615327314226686,-0.004855906355299892,0.05119422419105469,0.0655795279520566,-0.017848430840263774,-0.07399155310003822,0.08305141795080336,0.06443003430900804,0.01955780659723398,0.01127743618949996,0.06314091952871231,0.014205162322281056,0.05926376848608945,-0.06716792898350592,-0.011138102228216892,0.07740141257928174,-0.06633008780740292,-0.01915351341024433,0.04814779612897249,-0.009943414821801468,-0.06746012002033056,-0.014525659401128776,0.030592386590697504,-0.05457605826469276,-0.07202993010592094,-0.08268958573958762,0.03480799687446286,-0.06859687880467534,-0.004328283365401485,0.006903219705648572,-0.004811412282410051,0.029422403615016152,-0.08749174355946249,0.07820455807427402,-0.011224749923034105,0.08601108524335271,-0.028494567679155255,0.06463798421252612,0.00437193807333466,0.054611442850464,0.08666731977127262,0.0010419398453816193,-0.0406595885300292,-0.028751000500819197,-0.031678740739957606,-0.016247757096548476,0.05105260346406719,0.023233478376951146,-0.07852121224634769,0.08303170041438965,-0.010314925587516576,-0.07081852812747773,-0.06599904144783394,0.051857457690945526,-0.05190086261654997,0.0720641596364493,0.009207145233756,0.03964652037023653,-0.011726714467771153,-0.07167830528210303,-0.06829852966019956,0.004690306419141378,-0.007371017800119398,-0.05968215513238297,0.037491675816501216,0.03348250316944375,-0.0592379478336489,0.040368886701510724,0.011460628292164824,-0.06217152249933198,-0.025626651358747757,0.031128993482503083,-0.039839196558231135,-0.049710904500396114]},{"id":"chunk-7db5cddc-7","content":"Dependencies are carried via the RunContext argument, which is parameterized with the deps_type from above. If the type annotation here is wrong, static type checkers will catch it. tool let you register functions which the LLM may call while responding to a user. Again, dependencies are carried via RunContext, any other arguments become the tool schema passed to the LLM. Pydantic is used to validate these arguments, and errors are passed back to the LLM so it can retry. The docstring of a tool is also passed to the LLM as the description of the tool. Parameter descriptions are extracted from the docstring and added to the parameter schema sent to the LLM. Run the agent asynchronously, conducting a conversation with the LLM until a final response is reached. Even in this fairly simple case, the agent will exchange multiple messages with the LLM as tools are called to retrieve a result.","metadata":{"url":"https://ai.pydantic.dev","title":"PydanticAI","chunkIndex":7,"totalChunks":208},"embedding":[0.022976237275850263,-0.008849928872578605,-0.08278399202459782,-0.006227862690410164,-0.06974839033601656,-0.006534311033611639,-0.0828930177604781,-0.05175844261773112,-0.014400298236472407,-0.02870979471063437,-0.00811714984330778,0.07985506245042517,-0.07064595952215291,0.023248751085444292,-0.05345646502595245,0.015509265566841877,0.038465567035051454,0.02933186384520658,-0.02238116944957968,0.08392652465192896,0.08062915498355423,-0.020528062631994734,0.012248985282226966,0.08343745974643699,0.045465096806686284,-0.07198249872172109,-0.019458606754745617,0.014436769045262147,-0.025875832652435617,0.030683637108299494,-0.0588009730274261,-0.004110182044042966,-0.07841034470898756,0.018659494300978074,0.08276167739991294,0.03549191406076568,-0.06853133721162932,-0.059253953431327784,0.06189974280914226,-0.026602155931505254,0.016061180082165106,0.06217456975220638,-0.027426808445654302,-0.06012141773549746,0.05126011016508219,0.0720302573963196,-0.047992471675879354,0.06679026294354776,0.07253757113898267,0.022023251377782962,0.029000300514073547,0.007428668658636409,0.08049764251235032,-0.021612523305569602,-0.008227908544832123,-0.05604436057975563,-0.04536533607528701,0.059549547150921124,-0.05808574453205807,0.059994358892563986,0.0540201338001547,-0.06467499937092408,0.0294084141887842,0.08398588415823491,0.047032391542892696,-0.07281406567791458,-0.038956604020522735,0.0680104361488355,-0.08538643173562951,0.022711968116637036,0.08724458411308428,0.07307451209379934,0.0727358456561238,-0.06378589520831063,-0.05121068588626828,-0.06903742310636778,-0.08187028848552838,0.03297058374196289,-0.04203530085559389,0.041543476357370074,0.08138045086724698,-0.017400313073094118,-0.03394115546140605,0.06986797919808965,0.06137067930010969,0.0031687977426654063,0.03508382098489195,0.06820452638420559,-0.048140697925521767,0.024231158021279568,0.003734156873473674,-0.021878956035112168,0.06562111924948023,0.05103934243868925,0.07257894956014535,-0.035965752053824476,-0.028548681376613934,-0.07571311937054973,-0.0036321010228816315,0.04989980670847306,0.004382521038256493,0.013553159031907094,-0.0005531887863048615,-0.06886871239031932,0.05225553832831872,0.010102063797727795,0.0628932785374993,0.02858815379567818,-0.042337768034993506,0.07394967447121131,0.03344734431664501,0.0012576341457883708,-0.05834172776274261,-0.0683676744154634,-0.0032879595415941727,-0.04290540876997793,0.06093453333731166,-0.06049776539648204,-0.017280741631333335,-0.07015257075124741,-0.08516703202848165,-0.016354065309157607,-0.017747981065789207,-0.050485757487954495,-0.009627691371644459,0.023603792986419982,0.06776708082058622,0.001238726383585243,-0.0512635452769823,-0.004808589204796511,-0.026288960563697356,-0.00251782814077994,0.08406711012855299,0.03218533956863316,0.0738101358047644,0.07153950747424834,0.07571124909532811,0.07775399898380178,0.054211291036306716,0.0032597250673358506,0.013630744924686503,-0.020716513478209384,-0.004069247405272811,0.04130813883881815,0.08265330933453206,0.0704618319626653,-0.05005459472415943,-0.022725880884204526,0.023819375535290746,0.07076251957045604,0.0794933824303961,-0.07339150427122144,-0.0037509557383497835,0.06859759323422983,0.04568076179856646,0.04990195711842438,-0.05028946990843027,0.013299019490754523,0.06938964565454087,0.02029375913954583,-0.06771310713583387,0.030918951020616956,0.0390169738465039,-0.0021185876664476366,-0.07856146231422889,0.051432425963443516,-0.024070065172210938,-0.07469022390447938,0.003265326758998639,0.06660641959306705,0.02528098216919644,-0.04964632461240477,0.027772888119380796,0.029332090010682568,-0.04410870950906504,0.07896328801502628,-0.07052962688739177,-0.07086669227268012,-0.012080880952686083,-0.01153054268331087,-0.08205292775463485,-0.0759867543999783,-0.019604865696806112,-0.04083893316489747,0.03536915286479871,-0.037591431538917995,-0.019277290579115747,-0.0869332899505478,0.01809905425576037,0.06438100854875271,-0.02479769752871732,0.019932685139739732,-0.04068741865584615,-0.06547970713148259,0.08079902829610194,-0.03744852682597039,-0.004691491820935041,0.08647108394122845,-0.010567812784964227,0.02962060842323965,-0.06238754702132997,-0.07589573059369169,-0.03656700688776125,-0.08593656064526856,0.031350723489435475,0.025302792264024446,-0.06169116849551671,-0.03501484016032706,-0.05231756953287025,0.06581062960687745,-0.06529092917861318,-0.04074540011184511,-0.061666269722463266,-0.06093973818857867,0.023581624152416183,-0.07561896523529822,-0.05431488253911734,-0.07894748566525595,-0.026402381917887883,-0.038167126879990854,0.023104523482826312,0.07491967785686691,-0.07730686034974528,0.0724640963079035,-0.06580034005119238,-0.06149094967862228,0.033315485803917654,0.01688490636733019,0.040400913233774496,0.04367044298898749,-0.05898954448792568,0.011328696906181645,-0.009353853692640671,0.00499565689583246,0.08131651917670059,0.05601264279903373,0.024852163870772506,-0.054614611048194706,0.06857036378237182,-0.0301311097819187,-0.03718155846814839,-0.04838036213545896,0.031861371307017466,-0.06827280538868526,0.07993730469948847,0.022788000048747238,0.03918276505287345,-0.0081327751971448,0.00031830350461894557,-0.08691750933914422,0.02805979706386722,0.012340541411130626,0.00329450181476027,0.031672588382002625,0.02970572106520036,0.04165501368849258,-0.03489426074589063,-0.004739146409720296,0.07213253219869517,-0.06962882884980344,0.051747847382160705,0.012428317000384877,0.018901967687505287,-0.0023126556137047496,0.02229332622445774,-0.04848784474077399,0.054592702396310915,-0.03526988804519022,-0.060283772631798,-0.05657862868554012,0.0441631157909085,0.010426396009691752,0.032300580194754555,0.04181706611141467,0.04262814180184514,-0.019842779399871273,0.004814615593004513,0.07756723550805177,-0.07686787368066411,0.08225665863201052,0.0353948055835135,-0.07919259265168281,0.04473683015642828,-0.042363675215186566,0.08221630009152442,0.01459989507214184,-0.011077447849489625,-0.07682555240524544,0.024750668138840907,-0.03404283225375837,-0.04531644267790245,0.08032164345945862,0.007936985956845017,0.035839757795450226,-0.04634392346687602,-0.02985024194240839,-0.07756438193274971,-0.046239503000441204,0.08076388533212309,-0.012757653529956762,0.07768610195505479,0.06298685838276732,0.0048767158911772555,-0.024745600203598086,-0.007172358120830561,-0.05676658002689433,0.08397767084187079,0.011615888767020967,-0.06443526737630612,-0.08140331784891,0.03322714448749994,0.00860836672207686,-0.07463784276956989,-0.0633419920761103,0.019811799861397472,-0.05069442997307102,0.014481771080677415,-0.04898282580437268,-0.07525871077838564,-0.009554643625424842,0.0652765009983536,-0.05930848977344474,0.0331548802437836,-0.08031435629172419,-0.01858080767874473,0.02947666099550857,0.01139655765375498,-0.06500950117542527,0.010157566137300162,-0.07644267892711584,0.0276062572383575,-0.004562649414665244,-0.05303058529103079,-0.06299816115495316,0.07015929294841797,0.005874833375553869,0.04727219082577524,0.03295355942198572,0.06288449668600288,0.019872679171018818,0.06593375284357107,0.01222500168108162,0.08313606643732568,-0.03814464397841049,-0.08080184336805336,-0.02982162002158045,0.0069130480002886074,0.0658388127326769,-0.057697944811737685,0.05542117322292666,-0.014457887799831332,0.004439402304169126,-0.05291157792543848,-0.01534374665696763,0.034713121205627716,0.020657835976536056,0.05762386245825363,-0.08370452934386229,-0.03274362084449998,0.01856436118908944,-0.009803903374787256,-0.0591378886112652,-0.07123166704664381,0.037678453268054475,0.0012946003736251334,-0.044785990620474156,0.06595254000713702,-0.08416103209574824,0.028928997109161823,-0.08647259938920629,-0.02918429204199288,0.08668620070561384,-0.07012797402517183,0.0287047225889856,-0.036297153787117134,-0.035484190312036534,0.021682548787631314,-0.056146406889374986,0.043532083546826666,-0.054074515209375486,-0.06429042180171446,0.07052159282748885,0.0014552640360090215,-0.008014149182653415]},{"id":"chunk-7db5cddc-8","content":"The response from the agent will, be guaranteed to be a SupportResult, if validation fails reflection will mean the agent is prompted to try again. The result will be validated with Pydantic to guarantee it is a SupportResult, since the agent is generic, it'll also be typed as a SupportResult to aid with static type checking. In a real use case, you'd add more tools and a longer system prompt to the agent to extend the context it's equipped with and support it can provide. This is a simple sketch of a database connection, used to keep the example short and readable. In reality, you'd be connecting to an external database (e.g. PostgreSQL) to get information about customers. This Pydantic model is used to constrain the structured data returned by the agent. From this simple definition, Pydantic builds the JSON Schema that tells the LLM how to return the data, and performs validation to guarantee the data is correct at the end of the run.","metadata":{"url":"https://ai.pydantic.dev","title":"PydanticAI","chunkIndex":8,"totalChunks":208},"embedding":[0.042551325735224924,0.06426946130926658,0.006399998881213015,-0.009822943813187142,0.06598814554893062,-0.08586839250180764,-0.049218673854659965,-0.08288270051665896,-0.043035419647568095,-0.06882252449487455,0.0629786584846815,-0.08394580658211796,0.030047043241907247,0.07199608700701529,-0.04564140250399759,0.07558150441488423,-0.053930113832236004,-0.06389877088534515,0.012347322876642758,-0.04055880112604134,-0.06798388606265722,0.05248181867403711,-0.025698371069850977,-0.07234160524067389,0.06220325472286875,-0.0642114298208991,-0.009309683846504806,-0.06485792883770473,0.013680313156441635,0.03722859239712707,-0.023708211462331038,0.0028601080392400375,0.04315710630990388,-0.03269241041440943,0.032897652380359216,0.07707127030622127,0.07433920774491146,-0.05519030676660794,-0.020002067348780992,0.02741462606420782,-0.005183054461948865,-0.0757971718572535,0.0631150057193655,-0.039036873862560335,0.06115517011419373,-0.03646061222842847,0.03518628228713536,0.07600714707925228,0.0778686452506614,0.06855752527717977,-0.07607029883518386,0.04963041790821923,0.0467195625718705,-0.025359897219261962,-0.014966424773108876,0.03834909218369464,0.008389639710686783,-0.016411600360693227,-0.008413157001014394,0.08573374155863604,0.05435059125664037,-0.07075132169990737,-0.03476425040868781,0.0642497257931644,0.008622645723532768,0.039567216824910934,0.023919779283917832,-0.08306281309595097,0.04483511621426222,-0.026251739287059647,0.07338333108593717,0.07594431710195397,0.06490843044439583,-0.005685746912387624,-0.027130757489717806,-0.03691006966009323,0.02487175683468765,0.06804263550758166,0.01941900801951602,-0.08163108782244685,0.019181738232899464,0.003982414895592554,-0.04932875281632843,0.022484146627411838,-0.06364637220982902,0.0755782101698465,0.024319360179300014,-0.05526072920282724,-0.05776101770357685,-0.08537280063344478,0.04352426066564388,-0.08437593899877632,0.07198941292540025,-0.025226681929348547,0.018994469882722798,0.003536577480006371,-0.03392274237216011,0.012577594573140739,-0.07300731771104194,0.05704315090744332,0.054951408616605156,0.04472335549449253,0.06664008765570517,-0.040558945159855773,0.005139432381969731,-0.05579308483531499,-0.045337731938128685,0.0005438617833070444,0.011116267731998728,-0.08499465447731074,0.04089235973834696,0.024250518861651738,0.04313860571077597,0.08290700405283512,0.0033797599583939874,-0.04723327402109015,-0.0025366209609411477,-0.04349355791706311,-0.036996532164948664,-0.07486128367402164,-0.01278093260935824,-0.06793270201185288,-0.05818386924187278,-0.04513985514252796,-0.07774577305259175,0.02289955426294527,0.07802492015554778,-0.00073229006733441,0.01827143094346536,0.05233851785390946,0.05660255569856284,0.035416003285356344,0.02617190616588813,-0.07753818961859306,0.0409685158896612,0.03131988627020287,0.044626604894834554,-0.03204330947491951,0.05722162283596836,-0.04642122236503852,0.06873169146141113,0.05237543873458478,0.06003902333350245,-0.03645476553597955,-0.010734313937784836,0.08286705500734254,0.015133383270740142,0.05008780353368604,-0.027683541324294677,-0.026102152042730083,-0.02860303030982271,-0.06227342407780569,-0.05440231551718485,0.03288196249901851,0.029371701118296057,0.07229841986197265,0.047557060018330065,0.08564027840255699,-0.04322001861791061,-0.08035937373582594,-0.009963482589970546,-0.07872077850566903,-0.06242767496708762,0.05397373702003978,-0.06860126239545167,0.08490574344748128,-0.019488583209915252,0.014396759855050744,-0.05210551835105134,-0.0071920800529188,0.015963645700875773,-0.03510000883980498,0.0774791463961083,0.029597556695899405,-0.018499765270521846,0.05121694401007685,-0.03571953848659507,-0.007883662008420911,0.037077043736523235,0.08375240178007841,-0.008098876292765058,0.038660574904590975,0.03228171251274972,0.07466321506201956,0.019232402395051484,-0.07098820991094194,0.03829149031472298,-0.07850986502640052,-0.024447501730441086,-0.07434520997268093,0.01737295704605674,0.021795325353528357,-0.042704161979996366,0.01113077705153374,0.006255383417199987,0.04536254517643944,-0.009404335629085001,0.05806580841414346,-0.006642922817041044,0.0559362646657363,0.04853189961863852,-0.023236336108877795,-0.06245973314539342,-0.01397439694667628,0.04889364533948272,0.05824261748972919,0.059703316214434615,-0.002224295492906378,0.031076906003971547,0.018361060674003737,-0.028760697222426468,-0.07533865969893912,-0.0842496142173695,0.07732243363628322,-0.06454425440578612,-0.07337284898940638,-0.049161312956000375,0.010008230424992938,-0.034982775619609954,-0.01731206271891312,-0.07505886476232068,-0.04349224669083125,0.04140825857742441,0.0780347439458338,0.08207859290525747,0.005114850762611592,-0.06202692223032645,0.024962189204904825,-0.0009271115335743754,-0.005749773532930847,0.03259778047600943,-0.0778562313070449,0.005824815946309628,-0.08221265814262103,0.08145742480846273,0.05551051797805235,-0.03867582700597625,0.048604648388268175,0.05010135397665427,-0.023717266155602535,-0.019831190081663043,-0.0000018049647692584455,-0.06330654867725637,-0.03012237332175058,0.03650562416269728,-0.0764655327159847,-0.05022969994357672,-0.010894707280527932,0.007873040327395319,0.019948426403986454,-0.02441857730065656,-0.0782664101480805,-0.05680931498890868,0.08579888495104103,-0.07805997424208293,0.030063544166888105,-0.010022541245920146,-0.07676618503363006,0.007637308818174773,0.06410332400829755,-0.007941506145612207,-0.003939531250668172,0.0007332314568981953,-0.007299985921819988,0.07668533314770166,-0.006708475764984985,0.0635179979356912,0.01913628608654802,-0.03362441555481378,0.030125590472194763,-0.05947745355408733,-0.020294211009806582,0.017492689462626672,0.08284494824630044,0.041339814593818934,-0.04329532775063043,0.07218981640567151,0.05953715327483514,0.043275253043601,-0.012490666743620487,-0.014519889790846953,0.07891034149846066,-0.07844885411436603,0.07267651329011189,-0.07920015714266469,0.04039128736905354,0.03536903073892439,-0.019005306253253716,0.0019248076261082407,-0.07894421636313374,-0.002268111054197107,-0.06161807045892733,0.0452798117211446,-0.02431633716631005,0.020543307485478796,-0.008849426186236055,0.01403899387944407,-0.048544181829405654,0.012757134809744797,-0.01435115072965734,-0.009953628613950664,0.03890135328456504,0.05921503767545359,0.040193276959254516,0.03789812592025092,-0.009919552944601805,0.08210361359237116,0.07185482829206427,0.071304283213918,-0.06433509973607937,-0.05934223127084475,0.08417984023485435,-0.01494775564670546,-0.06811700242323836,0.0339898199574434,-0.05801406229445348,0.08377325053223339,0.02943484544673312,0.06273300317804657,0.016306760866922163,-0.0054474020823626675,0.006748243154189163,0.08339847053066232,-0.001410873464743481,0.030674002282318317,-0.07776576772883005,-0.04382867298828345,-0.012297656373225415,-0.008606427442470643,0.01632887629350512,-0.0516809262598523,0.08372245050748248,-0.0647569078124705,-0.035423209973825164,0.08583763018408287,0.015673367866259804,-0.005311018063262032,-0.07772353302695978,0.012988903576855742,0.026848720893007005,0.0731907116413866,-0.03117326664065771,0.0791387552626321,-0.036810020978637,0.07994056173098976,0.07126799176114182,-0.08293592229301476,0.034762625141161775,-0.07493830088993812,-0.005770142576486647,0.03016267110313864,0.038487602002952384,0.07764272201513013,-0.03843977337513478,0.02696679087547041,-0.0667548911319583,-0.038677661880130436,0.045458183001363964,0.04026933488247459,-0.08494581683134442,0.0349362544169532,0.013138841837135758,-0.07747195339067242,-0.0802766522787523,-0.06248509974552219,-0.06767013628706664,0.037885039150200465,-0.07512904314651034,-0.07465113657850225,-0.08444441552580806,-0.027310956022929288,0.06387854994209356,0.026378548433313984,-0.06284028440148351,0.023516096493966406,-0.07223833675758277,-0.0007770609844266334,0.04949423437474337,0.046350767178571985,0.05821382162282222,0.03413868220854328,0.028694616867055135,-0.056420634653441916,0.022067412514977878]},{"id":"chunk-7db5cddc-9","content":"Complete bank_support.py example The code included here is incomplete for the sake of brevity (the definition of DatabaseConn is missing); you can find the complete bank_support.py example here. Instrumentation with Pydantic Logfire To understand the flow of the above runs, we can watch the agent in action using Pydantic Logfire. To do this, we need to set up logfire, and add the following to our code: bank_support_with_logfire.py... from bank_database import DatabaseConn import logfire logfire.configure() # (1)! logfire.instrument_asyncpg() # (2)! ... Configure logfire, this will fail if project is not set up. In our demo, DatabaseConn uses asyncpg to connect to a PostgreSQL database, so logfire.instrument_asyncpg() is used to log the database queries. That's enough to get the following view of your agent in action: See Monitoring and Performance to learn more. Next Steps To try PydanticAI yourself, follow the instructions in the examples.","metadata":{"url":"https://ai.pydantic.dev","title":"PydanticAI","chunkIndex":9,"totalChunks":208},"embedding":[0.017255923036449933,0.04838185340109174,-0.058105046929758784,0.03664247861686904,0.016527275113191034,0.01597951444348863,-0.024223035481289016,-0.02586534633342551,0.02685048383010961,-0.05781431426220649,0.0768754848114378,-0.07917473366430822,-0.017056875045847034,-0.07625459293002726,-0.0029552490997870533,-0.08103568765928669,0.05672210276140816,0.06032924612376686,-0.04781117075488919,0.038093824600971216,-0.0280716957495695,0.05187818996625666,-0.062054480098785864,-0.024987638094127386,0.058490484909134395,0.07758677011691413,0.042928062187281575,-0.004544247881817122,-0.08472685119560865,0.029987223509324427,0.01947432792428543,-0.06873963941806803,-0.07526992415340936,-0.06564600973979139,0.07892643332471318,-0.04180171491174488,0.08096078266702893,0.04381505868303034,-0.018140467672171416,-0.04239918041507216,-0.07201394425245089,-0.01040275884044226,0.018398130517462395,0.004933845891735261,0.013769102758513873,-0.036088851243562904,0.007426975622048366,-0.08248652691791118,-0.06448294802290912,0.08372191808762033,0.06682881128861046,-0.07493025943524965,0.03087585770988679,-0.005269058668485586,-0.052875327861193436,-0.07156122767187773,0.040772824786166915,-0.06755101636901975,-0.03962029483582416,0.003929211996928742,0.04451033620837329,0.070193764153135,-0.010566409777117853,0.0780566220921378,-0.04914018478666803,-0.013899883107883078,-0.04629112839880407,-0.03800151038352364,0.03432667358795876,-0.020886829320107256,0.048230531314088325,-0.0815426175350265,0.07679124896162612,-0.012492112891672973,-0.004131475744974581,-0.06483795144555778,-0.03786748342259169,-0.028695700224946004,0.0026139439271365937,0.05788393464516486,0.052431679894315894,-0.06100113856710169,0.037814043660879905,0.028794814095300967,-0.05147064433321036,-0.06897802376243634,-0.05237276269046228,-0.023856276802483187,-0.012345695167270895,0.07424599949047048,-0.011879294765574692,0.0585563557806867,0.005746625163469558,-0.001031557943192078,0.0008401369496690512,0.0596048314783168,0.07236671163046289,-0.06796123016468242,0.0012335428020679882,0.02128928504319632,-0.03496546578201224,0.07137122880376873,0.052949120809900524,-0.04672162484911513,-0.05661864954088866,-0.08121317412142907,0.08637331382803731,-0.01599233394128602,-0.059975916450399985,-0.06571845749726862,-0.011737232209579156,-0.07254693873817103,-0.07371059062361734,-0.029475886626177093,0.0755490780211575,-0.009893415467533286,0.045009867735430156,-0.06664807350813809,-0.06179705089360193,0.05898363746143806,-0.009744902490788174,-0.07987734132099573,0.055086960943871825,0.02507788522796071,0.06991998190067918,-0.025414826637266578,0.012606516660091374,-0.08630196387718966,0.07760806814426043,0.0030957218775591504,0.04061067452389035,-0.06209613823798255,-0.05343922871801261,0.032796075317398254,0.04845388480799214,-0.06739551430452861,0.053672245755517725,-0.05763347410982194,-0.04030108579076318,0.033851607253985234,-0.028443765767966863,-0.08232075178298964,0.06300799666611034,0.03227480281946646,-0.061784607766697516,-0.000830532057904741,-0.07578777387186764,-0.0696386623811974,-0.07939768279064907,-0.04457877206125359,0.07948138240363742,-0.06443233704356285,-0.06274317106536235,0.06031428757719425,0.03400951367962269,0.045125410569357746,-0.08420788483039801,0.06016784267560328,-0.0475085691052748,0.029705833532850102,-0.016077069602297045,0.0385652259204458,0.026303674617039852,-0.033789735834314376,0.012286327693903825,-0.052156181571385074,0.05386563632553206,0.028272311037790633,-0.03473653378944306,-0.012770820382177443,0.08475224603978279,-0.04537885194976091,-0.04004471533250475,0.02625885017652853,-0.04625589591631616,0.07220192209695744,0.07095968367036097,0.011578732869514422,0.006973849180927557,0.05012866895071761,0.07884535948125367,-0.0782624585494284,-0.04769449215594575,0.022532100520053774,0.06733652102945845,-0.05766413053792918,-0.0435858929616707,-0.03264700786076204,-0.030138421866714223,0.06605293847535768,-0.08481664755554777,-0.07440668534344344,-0.029347198928452455,0.010790717871580435,-0.021810653395134133,-0.060690986886754325,-0.05977133318203592,0.009257549564875246,0.08345629063708616,-0.029842951347475274,0.011400401059032417,0.08338199743783219,0.025272564015845433,0.0293848940437115,0.0575877379763447,-0.044416394112847174,-0.07866321980973243,0.011989075911445268,0.03125404940303825,0.04844379063631599,-0.010587421831748718,0.06318505078595964,-0.08370216924091968,-0.013481115667330276,-0.08614925391744628,-0.025059353280408824,-0.06802444862596216,-0.005998925957042999,0.03529045066550074,0.04230299031462176,0.022439281388699946,0.009516783267113022,0.028002714424405946,0.0570578398546027,0.08098711801599502,-0.05500002889075646,-0.012504485252559226,0.027275615655724374,0.006781350420826905,-0.0032659085273094553,0.024355982557778946,0.005539320599469229,0.06950094919663091,-0.06962360994453065,0.020879674323495034,-0.07061616606729106,-0.08477351041614965,-0.08425425233296989,-0.03511603028557954,0.0016793803211429112,-0.05355416158733629,-0.05510547330438258,-0.043708124959397736,0.0495607577626014,0.04882938001767428,0.04834227985665881,-0.05176482189234618,-0.018822342863743326,0.08427648790082931,0.0287127647905111,-0.023714441746580897,0.03264691228241968,0.050024489255057765,0.042841734885754504,0.025135839567086368,-0.04723905034912093,-0.07192173264023287,-0.01795352335112243,0.023989076600189,-0.02919746064794287,-0.01580594611610539,0.07286348740860525,-0.05802588821261269,0.030300496826514502,-0.0187436941521225,0.025364458957323595,-0.07006244303549747,-0.05473895828496271,0.05998846636620474,0.02016692622940392,0.07403699500671639,0.04954384746346752,-0.04437219426885687,0.07164424354954553,-0.08180271408991194,-0.019871739342000146,0.0737144255462484,-0.05795619939633813,0.06324840036669145,-0.0678602589832761,-0.07799023277427128,0.020069178210465874,0.04905300415187382,-0.04392595801816659,-0.04674900780384632,0.030958395257360244,-0.008908530135113637,-0.06118480684857097,0.03679221857589546,-0.03686573591827184,0.06725467388871206,0.04995026608420245,0.05525592025367794,0.08364935841541643,0.025468874329171904,0.03738992270761917,0.07130135998852305,-0.0752468537978296,-0.02138498654221899,0.038875670466751416,0.005803506761502502,-0.01659467531098045,0.07448388614461,-0.061802077944971306,-0.0658147841904571,0.08366367822873108,0.022385184780610853,0.04541082624422794,-0.04536881403391661,0.057707804116760075,0.04988127923397013,0.05254997494130271,0.01591017704785272,-0.01758199326990099,0.047702094875947364,-0.08229520616884219,0.07950164017471606,-0.015041210457157566,-0.018832859239219246,0.07039385743292172,-0.008015730503855597,-0.06797229861091185,0.037019638512471136,-0.07573179429236668,-0.01409353049612404,-0.018004357685136002,0.06728221817615905,-0.018389203953237652,-0.04217598332182055,0.08528393181734176,0.007765209266872033,-0.014730499564555364,-0.015928223001752718,0.00867649160427327,0.03633411037048937,0.054626754264247186,-0.03813557464472486,-0.05374168051551026,0.07624141380765835,0.035375052145820866,-0.07530061610166942,0.03361745377494609,0.013306725185535592,-0.028142465263004346,-0.01811143981092832,0.00018696916098723246,0.07035919734504191,0.04588986541239963,-0.05464743632264507,0.020274577052270423,-0.06642642565392046,-0.0760295708766789,-0.05032859532168403,-0.06796051150783679,0.033165946383589405,0.025127740898951215,-0.05101716895989438,0.012873648848242393,-0.08288442042044497,-0.021265132600145766,0.02514267670962206,0.07339772237331327,0.03788154861642274,-0.06304040711993336,0.006691113974258505,0.07699610174789329,-0.06321758173802527,0.0691053575284351,-0.07096051999811756,-0.02131033085630405,0.029103673712857738,0.08435113269466803,-0.042817075824409134,-0.07433833271443771,-0.0007370791967593696,0.01766344131478325,0.07244348615445778,0.019941078614869785,0.028083655381370413,-0.01303151286673588,-0.03155961257011642,-0.038649875519192196,-0.03685988142187741,0.03570717145740616]},{"id":"chunk-7db5cddc-10","content":"Read the docs to learn more about building applications with PydanticAI. Read the API Reference to understand PydanticAI's interface. Version Notice This documentation is ahead of the last release by 2 commits. You may see documentation for features not yet supported in the latest release v0.0.27 2025-02-26. Introduction Agent Framework / shim to use Pydantic with LLMs PydanticAI is a Python agent framework designed to make it less painful to build production grade applications with Generative AI. PydanticAI is a Python Agent Framework designed to make it less painful to build production grade applications with Generative AI. FastAPI revolutionized web development by offering an innovative and ergonomic design, built on the foundation of Pydantic. Similarly, virtually every agent framework and LLM library in Python uses Pydantic, yet when we began to use LLMs in Pydantic Logfire, we couldn't find anything that gave us the same feeling.","metadata":{"url":"https://ai.pydantic.dev","title":"PydanticAI","chunkIndex":10,"totalChunks":208},"embedding":[0.06995917869292044,0.024774931989859313,-0.07169014416869474,0.08543319496963964,0.00347286376150647,0.058839626831607206,0.01876919356942903,0.0368815064957099,-0.04559524245028396,-0.08128207613772478,-0.07252826319325523,0.012683412329713836,-0.03936380209844382,0.07842915703149185,-0.06237891960330028,-0.08145579009216482,-0.002537495623435369,0.03026329333575164,-0.06693213647826989,0.03584761962620388,0.052959131001679906,-0.0036659529033122927,-0.019058198496617853,-0.027634800008352046,0.08109930177529637,0.052656332566984654,0.02560527730655097,0.046402236349522084,-0.06743536196271425,-0.03664701682196451,-0.07570725577375154,0.07763542039079743,-0.0016116409846141527,0.06717359157545408,-0.08072397378892415,-0.0631151854606996,0.042688773266976884,-0.05283936349477952,0.005208964671997803,-0.05375236933750427,0.011520102239989258,-0.008403106906395612,-0.03519698289836431,-0.03845468327972363,0.07259158749106588,-0.08039952538406818,0.04390905664178127,0.06540052102017399,0.07379623961107286,0.06193831888195065,0.018234007608572626,0.06186288763174061,-0.0224098216618206,0.03603551825067729,0.06927499300569366,0.08073540481063735,0.08083284340364186,0.035174329484515286,0.08333560982140145,-0.03012220720874145,0.02359716006989315,-0.016275872669863446,0.08375353074787349,-0.0687396847350995,-0.07613095335283734,0.04306176292384558,-0.059200723823016596,-0.04652281193657235,0.04134217867959885,0.0785207636771475,0.04424029836968229,-0.03879379656313866,-0.0443873269775957,0.0586922180958621,-0.005282299704451333,0.08575587911961086,0.04312652887621882,0.0613652845449741,0.0384834302265663,0.0042026389554962375,0.02836165502932166,-0.014049674220881513,-0.08271705211572784,0.008285932404239716,-0.046729979624254986,0.02207273060429551,-0.06473189005392972,-0.01008739196096818,-0.020073333373669386,0.06467001588702426,0.008037093136507538,0.03181543188859948,-0.03605132445959729,0.0562903151939253,-0.025663755981091368,0.02094158971798686,-0.013180775438591719,0.0734673914512986,0.008002667523476645,0.0231244950964029,0.06812714786735859,-0.053824051930126196,-0.03226709029730691,0.01255191068110434,-0.0014099276777019933,0.07687064687483443,0.0500497019591656,-0.022873074847821126,-0.05843635918548914,-0.06054688589951084,-0.008210074456986856,0.024905818695589783,-0.01974311206728735,-0.050666124235249695,0.07515296763686899,0.05822455953011486,0.018681904655967287,0.042855727098962966,0.07737889523768972,0.0041928021225892155,-0.04907555586346619,0.011158029298946113,-0.05644813453174612,-0.05989699877119369,-0.07233546103370526,0.035034085804836086,0.057557826768522384,-0.06595534508187177,0.0784253741529506,0.07001960502441187,-0.07250272542420515,-0.0034643546358576237,-0.027292189648949916,-0.048763226139724294,-0.006143999281473948,-0.02292913379320473,0.00973122352435807,0.03979039378373204,0.0661832512147458,-0.07652316294015776,-0.01450739359078551,0.02532914227364134,0.07890033534403094,0.007616987686102484,-0.07293877041130407,-0.006635182417474817,-0.05863522063293369,0.0432576387035209,0.08549711530223444,-0.041868393246323264,0.006360318110850936,0.010006860060072871,-0.05868545754528807,0.029627114443960236,-0.046870610089754454,0.005860327287124134,0.06955467960990278,0.01754261543595972,-0.045092617813133305,-0.005309008025449269,-0.05739504891800136,0.07889651044931727,-0.0034395647375040778,0.011092883639825224,0.07610835123439509,-0.07889430352484943,-0.0253462302598291,0.07983236237398195,0.07969116100395927,-0.0745943006639202,-0.08179324565639101,0.0750350934094755,0.0401051001977444,-0.04594016925747893,-0.06612464011782594,-0.017831290758347468,0.0593652488105178,-0.06755491112162902,0.001964503282757875,0.06585278040850744,0.02982090164932385,0.010498809776582277,-0.04418139912113354,-0.04881401407422219,-0.023147734270585203,0.05819554707559743,-0.07235157353475505,0.029733631247724424,0.0071143589237588475,0.013894214207852293,0.009858127384796803,0.058527726366024234,-0.06984422174838376,-0.03436606091254111,-0.0451399118948137,0.038912063653388056,-0.06931460944975822,-0.03204375186095928,-0.011257770836517685,0.06042120301293947,-0.036067534904033256,-0.05388360540537401,0.037190271584061234,-0.055143286457270374,0.06527927312042854,-0.01488353891225882,-0.07850541553711993,-0.06005170392347232,0.08341264640143738,-0.03199299518040356,-0.04536927970554666,0.06904958172662966,-0.03830002872881275,0.005400050612250099,0.02580311407726393,-0.079325120539165,0.008446576803256929,0.009942349759616491,-0.05310916839984535,-0.05226526558145011,0.07601340615587991,0.01656674150600043,0.03279226324637392,-0.05443518619769893,0.0153512427957048,-0.033358096711072587,-0.0050189896030988475,-0.059041710066689894,-0.03601963994213287,-0.006280929428011786,0.061915151574047325,0.08514545999777155,-0.031665137546415326,0.01732020640676285,0.006307645850913833,0.05473768413301687,0.040343604283836994,-0.07955622253414847,0.07028268259290048,0.07290975064354543,-0.08286497385826191,-0.0741722038403371,-0.08231317355408564,0.007965043639700261,0.00783404183559777,-0.0846942772641109,-0.013952854159642564,0.08280656758368067,0.03490827031251721,-0.07535296912529689,0.021573880468083166,-0.030827404125817495,-0.017656482818367576,-0.016279172007523508,0.05096711506901869,0.07058997406277283,0.08545469019128378,-0.06606904950367348,0.04497876296403699,-0.005375273351631447,-0.018971419377672494,0.05617893870029244,-0.04086187370750774,0.06671945826732785,0.031237109328914325,0.039392797954664785,-0.08579469076027874,-0.04690820109208949,-0.04247936442262347,0.07900709292020675,0.018341101291334216,0.07442974133109075,-0.05020170327626007,-0.0017905179371865533,-0.0449793303209099,-0.002719287336593634,-0.011900329309314488,0.013204222551323256,-0.0639370344964817,0.028106919278469557,0.06183676141086873,-0.011459305418738169,0.010342250263918997,-0.051274872376643375,0.08040959251506556,0.07446083891833927,0.07613025498596576,0.01274488497344517,0.02868913787047693,-0.06693800564402005,-0.017359409523467838,0.06527518530159705,0.01676454062531186,0.06066325813355472,-0.05083123778477775,-0.06747891341029777,-0.045218474301772164,-0.02765182537737155,-0.08618047687915006,0.07489055463134059,-0.07150724500624316,0.05964547737818339,-0.014817857164279262,-0.04155241360098171,-0.04473351690571243,0.08362480927966208,-0.03668002787437421,-0.0044066718390017605,-0.06630553993196155,0.009019920202796463,-0.008916294885086457,0.08043561249767561,0.01998952027240066,0.0013656287347227844,0.033076935787389045,0.016007986566956633,-0.0629341826670635,0.06545244929034548,-0.05772112160579693,-0.06549054543988712,0.0715350060244362,0.011110054538442802,-0.0232730207595073,-0.025300079340778957,-0.014825937099464061,-0.008758038096812117,-0.049900740607320665,0.020316285759272412,0.08296248067264497,0.06772331163151346,-0.061804521241550905,0.0667094392591918,0.026491217574413837,0.007429434781337404,0.03566976810461016,0.06601313426505556,0.003614361682104272,0.039203343877727385,0.04638952377506704,0.008666642306001856,0.010189760551256786,-0.06216353453181698,0.05517376989806396,0.07238747368600457,0.0028602260353841075,0.04176726681906319,0.028280881725221616,-0.009237841298992577,-0.07158693957692436,0.08308703646359346,-0.0477503242912552,0.08057217042778379,-0.03549144073314678,-0.06654660901448647,-0.08143954223923706,-0.025282317927106123,0.021699812933690735,0.07723410709664144,0.04647732967163689,-0.0527639297959515,-0.07161986708904117,0.016711485903226325,0.014239319627867973,0.0653559634424114,0.051514776249255205,0.020600860662919808,-0.039029103091379,0.06282192969261076,-0.026734505409135318,-0.0776121667033364,0.06477634937589842,-0.04788973628724478,-0.0680757519788206,0.07649905119797402,0.012302891183204556,-0.010494381683265844,0.0014030460432279256,-0.025851858410324426,-0.01863230773900374,-0.08618569487166322,-0.011885604656850178,0.023538152393445498,-0.03406834748940866,0.031619989445630485]},{"id":"chunk-7db5cddc-11","content":"We built PydanticAI with one simple aim: to bring that FastAPI feeling to GenAI app development. Why use PydanticAI Built by the Pydantic Team: Built by the team behind Pydantic (the validation layer of the OpenAI SDK, the Anthropic SDK, LangChain, LlamaIndex, AutoGPT, Transformers, CrewAI, Instructor and many more). Model-agnostic: Supports OpenAI, Anthropic, Gemini, Deepseek, Ollama, Groq, Cohere, and Mistral, and there is a simple interface to implement support for other models. Pydantic Logfire Integration: Seamlessly integrates with Pydantic Logfire for real-time debugging, performance monitoring, and behavior tracking of your LLM-powered applications. Type-safe: Designed to make type checking as powerful and informative as possible for you. Python-centric Design: Leverages Python's familiar control flow and agent composition to build your AI-driven projects, making it easy to apply standard Python best practices you'd use in any other (non-AI) project.","metadata":{"url":"https://ai.pydantic.dev","title":"PydanticAI","chunkIndex":11,"totalChunks":208},"embedding":[0.0766111567968011,0.029343484537290486,-0.0017787454835805998,-0.047571232236973605,-0.0627738560290386,-0.05642486579364401,0.01942906521990928,-0.06891286140829184,-0.03818346123304306,0.07519272480092647,-0.010639336568540072,0.07315342217277816,0.06650217006423123,0.0036413727754848963,-0.07204468966749558,0.016860752416934723,0.04142215310893636,0.038678876762503124,0.08369080414440652,-0.07582258232965616,-0.03993939367209846,-0.010683431273505633,0.03774977709362433,-0.06465643814741256,-0.058610430518614656,0.0015465987955501968,0.040399567161046444,0.005696745352631787,-0.049697733628221295,-0.08603083181497384,-0.01814848723794158,0.07233104689224402,-0.07086982626323776,-0.024973321239199042,-0.055915416486175804,-0.004744509737904351,-0.042730311154982666,0.08054880729855231,0.05953710984849949,0.06774754259687424,-0.05617225807814216,-0.012599766973436817,-0.010987508579129203,-0.01676846127363354,-0.03256828149469241,0.0451223407480605,-0.0459041178816814,-0.06496395807760376,0.02861492405469802,0.018436705116640615,0.004587876669662538,0.027491895124428397,-0.05301799063847195,0.042288704272853375,0.01774875519444852,-0.08577315599237462,-0.06018021705463239,-0.031692677920682574,0.06382502628054038,-0.05521311070137383,0.05191632158276372,0.0773311552789114,0.06020524448633747,0.056141329637304074,-0.004228825316991842,0.03153313579243506,0.07982015573188664,0.029852034584963324,-0.028541963987460502,0.06599163748209148,0.027819320546795687,-0.017149592344210984,-0.05745717765659312,0.07227934749079187,0.08028316595051269,-0.07305111227856971,-0.002639348911523519,0.0854933911450583,-0.06431087158097654,-0.06691633250009672,0.00973543632837672,0.08077215332340486,-0.030498241738609048,0.042806574575006945,0.07557767139475147,-0.055190693474301715,-0.08619894918613208,-0.032419920780494785,-0.00643141014170326,0.011660510699447601,-0.06430586944103883,-0.005318934349548052,-0.03672221237923038,-0.008381985309695228,0.0365964453145821,-0.041042858818749285,-0.0647803484278243,0.019021079288885127,0.025664446110352287,0.02688045367811458,0.0853605560603011,-0.04444131408226826,-0.0064024708567425115,0.0141972549571789,0.048523652356935836,-0.08222701988659753,-0.004957690067025443,0.010126414924400928,-0.06353889757530203,0.018239232029196608,-0.01560329489050475,0.00348114946592268,-0.019415822450119215,0.056156061955478745,-0.002366531310951089,0.05698002999857958,0.05718165320492178,0.0516280639304499,0.00764619855297012,-0.05179974981541299,0.08557218412886858,-0.07989135223179522,-0.003994495376650591,0.020670660488456758,-0.07283690502820116,-0.056063180214338766,0.0667412160924793,0.04004847333869548,0.071837062295985,0.07868301060483926,-0.06338768209760569,0.012197334175336185,-0.013190595692212164,-0.0758976205653831,-0.06654823262428335,-0.04664529889949369,-0.08261264861632815,0.045064862413664364,-0.05054265599416469,0.06818456969588434,-0.0825502376036064,-0.0020642138298766584,0.014132543594685952,0.0746165282888682,-0.006237545605609506,-0.03427613375365318,0.054460127507047,0.04372744812830508,0.02956910707146301,0.08461789654599298,0.06999761301620602,-0.038349578511679284,-0.05137701734785427,-0.060076907944555814,-0.08023242721689657,0.03368893887841539,-0.021664866628219363,-0.022550266246478354,-0.053879206363230354,0.046124986466927066,-0.057310432358000214,0.026984439013314047,-0.054423638042944554,-0.029043837066554657,0.020126173944753342,-0.012137772145098912,-0.055679025729890946,0.08524315071343529,0.06253163740158862,0.02390386907226235,0.0077878457564865755,0.052391222426201894,-0.0766385056313733,0.04105460037054162,0.06354880457014687,-0.045944346317657585,-0.0486804999204314,-0.05002331943831839,-0.06220050396684109,-0.02175321311015864,0.06727234117647309,0.01569276354116063,-0.07789252077090267,0.007593634039119565,0.05707005279267731,-0.028313787082249922,-0.01565384702195574,0.06607095496218338,0.018223550260237257,-0.0010381191483104229,0.06591618350856351,0.024609232192727485,-0.006455272434190098,0.06741583736454276,-0.050765941653204374,0.08606966516735724,0.026089275710519638,-0.040377073569564444,0.054373459279485926,-0.04698129038753373,-0.025718392456932884,0.007671493036329762,0.041934156615650385,-0.05917318482470885,-0.06221835581527809,0.0009514496599392797,0.07576016378643834,0.0025086466311203246,-0.027724897736497882,-0.06497714637042505,-0.05492883536535772,-0.04580276461608779,0.07879554433099024,-0.015651974932253863,-0.03340451608120787,0.07263993744537121,-0.033988897018322126,0.0017080096008390134,-0.04421660315818082,-0.024835278897574635,0.06364061482915152,0.08413886524452638,-0.06083404522496345,0.06415901419984735,0.07182760408001065,0.08550238554537411,-0.03917271412344954,-0.05297046816150888,-0.00015988693022232414,-0.06696449848627982,-0.06233369638943781,0.009951326308191346,-0.005737320056637343,0.05526231351444065,0.01990600595157002,-0.051856316106129334,-0.06088989155191707,0.045946876673706186,-0.013013853759286084,0.0409893465497349,-0.009965758011194288,0.06787069789825528,0.03922010219703955,-0.06078415051100429,-0.02200513037808811,-0.02058128999123691,-0.06401668345501825,0.07666178148124178,0.03624162476661264,-0.023705288429118183,0.06234320099537687,0.05003882966328028,-0.05942586561188211,-0.0746222992326935,-0.009746192653369148,-0.027312751991048122,-0.015940112208196983,0.006462129768307888,-0.055579401221941147,-0.07904047827022587,0.018105466475005133,-0.041939685198907235,-0.035265003564534575,0.08497978488752568,-0.017428768078533607,-0.0237568846793601,-0.07201928387645742,0.03350655583567936,-0.06483913522459182,-0.0810714154337027,0.07176835816306253,0.05617524893639808,0.08159148379462391,0.04738841492292087,0.04815112143230783,-0.08496578838481403,-0.07016468215230699,-0.03808428182156672,0.08080937607495592,-0.021766481474383256,0.03762241624971941,0.027570962239887038,0.01984990366461378,0.0014403105734248436,0.006564712313360151,0.08269508850706482,0.0430571039646829,-0.002362604468648701,-0.0009562448105327104,0.0702040746002835,-0.03085661302837497,-0.07346334390199451,0.059453461888236414,-0.04405838746936143,-0.08542472927304565,-0.05191490140049876,-0.07658882891816807,-0.04988325826772626,0.07196084525796029,-0.03155186599646031,-0.040951807952473586,-0.0736935671097204,-0.05764850459235472,-0.0650046478589687,0.07054487025413066,0.08022174284343957,-0.07564066593508616,-0.05213090362842126,0.05687256517378924,-0.03407840538673114,0.06720688518212423,0.05390844773624319,0.006591438254016109,0.04307422290989301,-0.08410767636952128,-0.013036345822065304,-0.052006245189906375,-0.03732482649115331,-0.02756304642347228,-0.03730799447850124,0.005331083386994379,0.06363207169939486,0.06785930427653342,-0.06620300383991196,-0.05698163953823666,0.01975520810642039,0.05689842080691305,-0.030240133704199285,0.06913330344085764,-0.005316343326959465,0.06226072004216684,-0.038749644833972856,0.04699166714234076,-0.060193960629547454,-0.03545104638458067,-0.0014827163207230553,0.0014624241981390142,-0.0570196049856882,-0.013192528413540494,0.04865927959447792,-0.08099264622789157,0.00036510578497128096,0.009851311595374298,-0.0580862358282884,0.012040667566839818,-0.07507570365591852,-0.03869202530050017,-0.06530199214605284,-0.05824603970870842,0.020878032767884757,0.013794932532643233,-0.08171145005048898,-0.05496939406091984,0.047608555091665776,0.0022257012236888665,-0.051929268525155295,-0.05452869980646784,-0.05011840255567855,0.016676149999189076,0.08128563572188298,-0.06520573655720094,0.01706084570310867,0.05744503068775402,-0.01069864045301592,0.055982480502443366,0.014833689606597438,-0.02726659114400099,-0.021111001874260165,-0.00047829812636895463,0.030071554530873422,-0.06538019046397003,-0.051879346484908134,-0.0014595301031720745,-0.03301421312277848,-0.07916500546115882,0.008218780966466898,-0.041136020408903295,-0.06202550285354098,-0.08228617047610516,-0.0619940229123332,0.02897696260299885,-0.05934081161270871,-0.056688302857636874,0.013537265880456192]},{"id":"chunk-7db5cddc-12","content":"Structured Responses: Harnesses the power of Pydantic to validate and structure model outputs, ensuring responses are consistent across runs. Dependency Injection System: Offers an optional dependency injection system to provide data and services to your agent's system prompts, tools and result validators. This is useful for testing and eval-driven iterative development. Streamed Responses: Provides the ability to stream LLM outputs continuously, with immediate validation, ensuring rapid and accurate results. Graph Support: Pydantic Graph provides a powerful way to define graphs using typing hints, this is useful in complex applications where standard control flow can degrade to spaghetti code. In Beta PydanticAI is in early beta, the API is still subject to change and there's a lot more to do. Feedback is very welcome! Hello World Example Here's a minimal example of PydanticAI: hello_world.pyfrom pydantic_ai import Agent agent = Agent( # (1)!","metadata":{"url":"https://ai.pydantic.dev","title":"PydanticAI","chunkIndex":12,"totalChunks":208},"embedding":[-0.009553868619240107,0.05798520954967318,0.06697626879876299,0.0034799164591508636,0.058421086645615024,-0.07034832042097323,-0.05080022186124155,0.06968504354070171,0.06653299993609074,-0.08269437322156793,-0.030807616839943788,0.03964405498469702,-0.05157969042208596,0.06965621340856837,0.02920007459816432,-0.04466244402081827,0.0831728025397266,0.006671182340023357,0.039703948382297814,-0.016580940712272313,-0.05086220252648599,-0.04576896913923724,0.006307982582002487,0.06423403132136457,0.018700779745940838,-0.017281494810800074,0.0023188535901829755,-0.003414398657990245,0.07810017030870645,0.07508675752104033,0.037788371082768744,0.011712017565463572,-0.06848169142877733,-0.05669738578950699,0.05626812561335317,-0.055240305625505595,-0.03200445284760034,0.021226040389762103,-0.01582710548214947,-0.07221885920318775,-0.062339979644063376,0.08291488753182076,-0.04097179177049581,-0.005114654367012742,0.046375582234540066,0.04058465939884318,0.06413504986586134,-0.027552904646746163,0.058537924165648056,-0.07256699491195676,-0.035339111274573724,-0.008100037636925777,-0.010731194255498554,-0.024213757660407238,-0.040127007532814486,-0.04003305405798139,0.037680018608071644,0.07761243925848701,-0.03776826059579685,0.05688421418143376,0.0801393155848782,0.05547379442914241,0.04797505945643049,0.06294954085645853,0.031943536697165424,0.07458575553703521,0.021888816403332317,-0.033293900694047286,0.023116177481607592,-0.03950815901038656,-0.07061844766330624,-0.040320207290762626,-0.07670760578554314,0.06880535142574958,0.021055243577646578,-0.050582210548535726,0.017020174158539625,0.0817287905294333,-0.059383384767755655,0.03311817083250758,0.009238602334479864,-0.02085130450381923,0.06350063621268068,0.04445449228464999,0.004521064933619707,-0.0809034037264576,0.07717426116223478,0.006078831641920275,-0.041699280101943105,0.0844221920473896,0.060501747993172775,0.04920929531639849,0.03342928814989363,0.0011310973093236658,-0.08250555128026404,0.08291288019152473,-0.06762833198430956,0.04367278689111703,-0.03226168546383,-0.0694646937570045,0.00785530791252176,0.0628352154783712,-0.05129956504673137,0.04163191254607851,-0.07515701777908321,-0.058574242053204585,0.07361337354000146,-0.02937415352011508,0.054177011203684386,-0.06582575611062619,0.013533428712122474,-0.024728701613773944,0.023611170100613935,-0.002175329809244142,0.053532433316115874,0.02141353135303306,0.004071010774280359,0.0622649475631368,-0.0205735999462482,0.044063005398291846,-0.08385234038230441,0.004319861475842444,-0.052003892914625975,-0.02571363648277823,-0.0069394538583062776,0.049599795594416934,-0.045317497780345904,-0.012210548802297811,0.05852387930186876,-0.07158412578339568,0.08288141433858104,-0.06639669434947842,0.06214066943675783,0.02475934481617056,0.06550103214078007,0.06891125507838629,-0.020889974122378786,-0.0284832215874653,-0.028518361096672558,0.005685705251840905,0.07479929802935632,-0.04186408855154803,-0.008651603167468082,-0.05726656682476788,0.0209649942876356,0.02543565356300146,-0.003403555611352151,-0.08189612360873873,-0.041718179417693846,-0.0028998004178860727,-0.06227578438714306,0.04369943984562642,0.022113606970612393,0.05197140498685196,-0.0149755018629769,0.08470939650101789,0.01076207213471654,-0.08013508546811168,0.03905402700083393,0.021248728703408493,-0.013297966897772314,0.05264586050760864,0.07369982997672336,-0.05113453672101586,-0.02979883069458809,0.05950307644032047,-0.08365842196561808,-0.0620412194928787,0.08131619789201275,0.0542030249560402,-0.0036406273066598304,-0.06506651359012677,-0.06123988436250276,-0.05657017840004232,-0.030187714613529645,-0.061946537196357856,0.014411244889108814,0.03677463551476853,-0.08133416638003188,0.03644490655441512,0.06133345022458119,-0.0008819287030656271,-0.049246403579017585,-0.06699335308990022,-0.08400270668354595,0.065901723458332,0.029098631830192925,-0.012120662307367126,0.069231887856637,-0.0343083246895491,-0.05589175118147761,0.03452884690021507,0.011621124858334128,0.045296720614065304,-0.028869372392852147,-0.05997321625366054,-0.057847793752872675,-0.07240972402328139,-0.06000870177379996,-0.05011599549174667,-0.024850620077119495,0.06157020405893946,0.06004588548921966,-0.0314442735316732,0.046989608254149245,0.036969648785698826,-0.045036163646647885,-0.003288175929149449,0.010978420543134693,-0.08378551608533713,0.023271821651411558,-0.07622587575215432,-0.07389268813574716,-0.01545502393291877,0.017670829357681623,0.06313935366494874,-0.006063501974323047,-0.03357693445729413,0.07128505820515,0.01016409900617722,-0.01855066288123718,-0.04399422457407671,-0.030809477204661883,-0.04344119054784882,-0.06396349365445395,0.07455603613312166,0.019349418140439615,0.03782221008525451,-0.02521339464487816,0.03402638298030395,0.07922025987305638,0.057227465201355,-0.024914770695820973,0.05393695807144532,-0.030712906999015955,0.05950423875084469,-0.08413976807625863,0.07859981754923898,-0.004958019315889309,-0.002817659856142004,-0.009297785399014498,0.07994750199896182,0.051797592440361126,0.07496748180891254,0.07724975586644196,0.0784861613471615,-0.049021898726220904,0.042610360130650955,0.020829001805014208,0.012100048269452416,-0.04617687552649233,0.010936545082133963,0.04033004440081484,-0.07699154059476383,-0.06335813588452065,-0.06879556287953587,0.028897380787611268,0.0021777862433188383,0.017811589304601826,0.04009569087609273,0.06303783029873351,-0.00048198826245063477,0.04094131330494725,-0.02918698552205901,-0.04014210238623779,-0.04209590195832351,0.056593764103649066,0.0037456955003798273,-0.06143565906578302,0.018547709560257017,0.0016618645361444243,-0.016430859948133043,-0.07941868489107087,0.03911718738019404,-0.030108108876883404,-0.027917596081059898,0.07071922658087339,-0.048995333976947976,0.08037733041006333,0.001327709460452856,0.011499339974776406,-0.08039685867879973,0.0006128942218831677,0.043236034321518055,0.00451442050863241,0.008592049389825515,-0.016015584151576237,-0.05533669749901757,-0.03211715127954185,-0.03391793894905688,0.05613510289712855,0.08292392024951038,0.08376091453287325,-0.02525604497454003,0.06106748260813432,-0.01511986702408633,0.06026997339655783,-0.08116827133077896,0.0037637985545795794,-0.04044473310427166,0.04162388325241671,-0.07104534676643598,-0.003857274991153759,0.04325887226539459,-0.015008687834379947,0.04467417932533888,0.041971316396926105,-0.019308995694449486,-0.05360396459335419,0.04816571889529448,0.02038266488118189,0.012573928692241412,0.06433749734850633,-0.008423854381236776,0.06199528106128342,-0.05649239095048767,-0.06750198886776472,-0.0821146957868091,0.0387962405148237,0.06335777402478586,0.008872205133508516,-0.002549514961714864,-0.05407519274712632,0.038105526696765354,-0.04068394419316958,0.07035701481547577,-0.020943024540386462,0.0763100238922992,-0.009653988412188466,0.062481673329318484,0.07949226140056637,0.0628762076935476,-0.022562533472715283,0.05975224975349404,0.040391016312273306,-0.07098172874716382,0.07141358190069458,-0.078547542680832,-0.07232533166938536,0.08189123074092919,0.07297481036314817,0.08246576046906749,0.06218119759154588,0.007965884363406926,-0.04407589366451704,-0.07341144755775951,-0.04780813544272068,0.08029450750593277,-0.06155815895055894,-0.06620144553074565,0.06755998828713675,0.03063764397389106,-0.062019967285421966,0.06272975049899017,0.0398278954675218,-0.012646794547669628,-0.031146649265223203,-0.01577373361582137,0.02501121890777223,-0.07883596955771713,0.019796768431396394,0.01658886456289884,-0.056102442021212846,-0.017644220796738778,-0.0479478204433379,0.024329152575136768,0.08399748031851725,0.00808289610152543,-0.07041155290448578,0.013480496379340765,-0.07835042699888535,-0.07519877740773731,-0.04493057533446442,0.08086778231947482,0.0015478301120822632,0.08393465552693956,-0.07334870737242015,0.01548332567573017,0.07843143338942653,-0.06991000073785524,-0.010831857921920386,0.01851094878791785,0.054036531901515805,-0.04422746204766497]},{"id":"chunk-7db5cddc-13","content":"'google-gla:gemini-1.5-flash', system_prompt='Be concise, reply with one sentence.', # (2)! ) result = agent.run_sync('Where does \"hello world\" come from?') # (3)! print(result.data) \"\"\" The first known use of \"hello, world\" was in a 1974 textbook about the C programming language. \"\"\" We configure the agent to use Gemini 1.5's Flash model, but you can also set the model when running the agent. Register a static system prompt using a keyword argument to the agent. Run the agent synchronously, conducting a conversation with the LLM. (This example is complete, it can be run \"as is\") The exchange should be very short: PydanticAI will send the system prompt and the user query to the LLM, the model will return a text response. Not very interesting yet, but we can easily add \"tools\", dynamic system prompts, and structured responses to build more powerful agents.","metadata":{"url":"https://ai.pydantic.dev","title":"PydanticAI","chunkIndex":13,"totalChunks":208},"embedding":[0.008100435002019991,0.01697550995684778,-0.06869564927695253,-0.0033182801258794564,-0.06294265000152945,0.08870601320470885,-0.07023066308176072,0.013265080173217309,0.059984336390440054,-0.03235539929901852,0.0729848527730044,-0.01494963013677367,0.0189969148107413,0.044810699705040244,0.07383296584821247,-0.06038516254182135,-0.07671720751437389,-0.027644462884839235,-0.01858667564248173,-0.04473862465723044,-0.0008642373775124965,-0.08811926131630181,-0.05806810618065612,-0.023179330210839604,0.000951726811121287,-0.007494516176810253,0.002511944552728117,-0.026248698840878857,0.06887386632969653,-0.03972817085432257,-0.014132291806916993,-0.037360403814532574,0.05799176567933597,-0.03692961720496018,0.004103946157481939,0.019698497454535155,0.03398949441202445,0.033815474029006164,-0.07672018787035446,0.029109212159843946,-0.08997804923075098,-0.04251978266978775,0.049856232642001674,-0.0727266749254642,0.02895602329567374,-0.013716986524091581,-0.06744180572736962,-0.06902815434427292,-0.08358017172110105,0.07958027794025853,0.003127772389946109,0.02674151009808609,0.050981924834663364,0.05453594680914772,0.03427034243450153,-0.009370283717343525,0.006179277481370911,0.05004644943489519,-0.030120392074876056,-0.020805511930821204,-0.07754450802114794,0.027815394801158543,0.01064891852807841,0.06432596982271065,0.03293593383322658,0.07871575270782866,0.0783667911357053,-0.08734888978141883,0.08799639683464161,0.052517092155144524,-0.0566883425640906,-0.06846124784462503,0.034495130087888626,0.02563704910828167,0.011850516719108464,-0.01800475588574713,0.013179045005087923,-0.028421488652550835,-0.051067743727666676,-0.0730943077838695,-0.08465848133727814,0.022606676963285267,-0.003991704293183874,0.037593528076208166,0.07395964533086365,-0.021402881216360768,-0.06567905669795437,0.07138866973889517,-0.08168157010042519,-0.03664499714107998,-0.06380743564038376,0.05604599644245063,0.05570904589054209,-0.005985018797730593,0.0006980745320598564,0.063997049370947,0.005960467448517465,-0.07339543498190165,-0.0192057267656301,-0.030132275159879023,-0.04957792642426108,0.04984112049122503,-0.05315900673186592,-0.040469209432022354,-0.0419473611968568,-0.04333363081385742,0.01876719370243398,-0.08553567625462191,0.04788746870615316,-0.016109562010124333,-0.019864478892617422,0.023300085388738453,-0.003929636814957674,-0.07432857622606648,0.08637589621846593,-0.03872763795603232,0.07157332195667516,0.06703624197061908,0.07798159210946864,0.03946476720499955,-0.01597763612922812,0.0027455846630160437,-0.06817355867896413,0.019327650866888833,0.08165631325165905,0.07564209127916477,0.03455442582361237,-0.011249144780603645,0.0726288905230663,0.07442726336128086,0.020934747012504983,-0.06195474660639715,0.04575810699953961,-0.05430205051430028,-0.06734185816348241,0.0013630109806159602,-0.0066976114427344064,0.022374599595906857,-0.06888016552600651,-0.055996796595977824,-0.08336375009013282,-0.06271464420182521,-0.0891884629369804,-0.06984062524287812,0.042819285635567174,0.04732066954710021,-0.0016411116855778668,0.05198487755237879,0.025629993764389764,-0.054539486133231375,0.01582529560616865,0.055423484693084966,0.040064107678993474,-0.01979585833391296,0.0031643905654899183,-0.051368349066280385,-0.08389156012786081,-0.017546639310088832,0.06780748735978964,0.05390614228001819,-0.009842998807477285,0.08422909631774729,0.011237041920940617,-0.037063662109312986,-0.02782094275235163,0.04911652834161171,-0.056926821446530725,-0.06879246511543728,-0.004712597068619803,0.021550126259946924,0.043282372047865496,0.058668726067138084,0.07732823931047447,0.05801302198914141,-0.0490099082363201,0.08124752753921011,0.055282759948721505,-0.06935383030684601,-0.08764898027510434,-0.05943162745539583,-0.08817240384140712,-0.007614075123058665,-0.015702156493822752,0.02962689656834379,-0.04401640141493808,0.07736779821116868,0.004110527715786056,0.0603770773113361,-0.06965501017355331,0.04544127557787578,-0.06341979981266688,0.0652239286879922,-0.06045402693939943,-0.0004562252764194329,0.011883836031894633,-0.051344427060169555,0.005376225228852195,0.057711997917261774,-0.040561268617035746,0.05411290969916286,0.03909852596672053,0.049159927447703776,0.06760604991671684,0.018959732305837706,-0.036895652848105635,0.07715338980099977,0.0014071006034095258,-0.05705789600345635,-0.020869468821904418,-0.07823999124168982,-0.026992905574663485,0.022390056450080225,0.025513462472138555,0.051651580214414586,0.026395145231849913,0.06056813522055942,0.07799652914583832,-0.07609656436490375,-0.08998436558358551,-0.033120006838833795,-0.04651780502441963,-0.0846373398500916,0.046973538696435405,0.0474231485079236,-0.005911112584391801,-0.0867913056648178,-0.012674062735178815,-0.04187435568388186,-0.06583596957233506,-0.025001163673006383,0.0779401553773895,0.005437017766221707,-0.014644900184295106,0.04698841344441136,-0.0637675104552001,-0.010702225955424258,0.05839429386378851,-0.056945685407094056,0.017003740017489225,-0.037747866574199374,-0.06042788850744184,0.02508587029934055,0.02379411552292031,-0.020049456771712475,0.01200511035632671,-0.04802863042803018,0.08423711805589208,0.028594735740245916,-0.017987654411997473,0.045925008635683925,0.05702000958221454,-0.011418163678602829,0.006181798527247525,-0.024297890401728958,0.012013793560249288,-0.07254022810512267,-0.002326346330369239,-0.005474784873502461,-0.012066719637325996,-0.01112128434445482,0.06457386074606582,0.02951374932900448,0.08370145629099762,-0.03235983632915546,-0.07183157172981172,0.07819781271083562,-0.03589399019256889,-0.04826710631104647,0.06035085505286769,-0.024567279709883164,-0.05144217552771954,-0.08934765793868432,0.023960213796927723,-0.016167302580093964,-0.05027406518744237,-0.045556281623726644,0.03607956520953629,0.0545759809742221,-0.009447428954124166,-0.004357987693330108,0.015500485592832002,-0.03700573173500476,0.04124309292622574,-0.07992015521083896,0.019597130459275677,0.05369095361145713,0.00848709587332437,-0.08940532357262375,0.025913192847413922,0.06102226861208545,-0.06536737807118673,0.0735441249704364,0.03857724779355117,-0.009162088713645569,0.005339344655968852,-0.07247992307371125,0.05446107001461802,0.02178178694369456,0.05053287173426727,0.006604534024296266,-0.08140317024810981,0.04143594582754641,-0.06822642967176108,0.019240484377184234,0.02700475069063401,0.006980118526210669,-0.06753359761464024,-0.0878271694909948,-0.014341988210404085,0.05325905376522127,0.016714536049072675,0.008854774549332832,-0.06894639107500491,0.007001519602070615,0.057604469028320296,0.06818185205609481,0.03534735263601122,-0.08647104881049797,-0.018856156007919785,-0.08474369241954383,-0.0893071557445671,0.07064547981007917,-0.08871136718491342,0.07436546866501986,-0.011572088991919948,0.06515449631010178,-0.0867038373649453,0.008568011006411653,0.05952162541439595,-0.04784239771312099,0.0886285105170008,0.03066443114600716,0.09059393271054288,0.02089443670679357,-0.020377273242850377,-0.0368848547219761,-0.056760652931870964,-0.08763596365572017,0.03643479154265583,-0.049943210974168394,-0.05643842512867791,0.052084617794051824,0.079060911941226,0.0761115038133936,-0.023400604664465703,0.02090043215892625,0.042985676778335404,-0.03556784306223395,-0.044758717363737946,0.03266600293497237,0.0050349313766366545,-0.008143942593129588,-0.049229946240994374,0.01855879451876141,0.013649287214348505,0.030195094742167906,-0.02911431008216598,0.01728287613632761,-0.040099799506373934,0.06743764605886753,-0.04043062010307478,-0.06345554633827571,-0.010026304785343953,0.07720170865016215,-0.018615606066330916,-0.0838925754943942,0.05413370002572568,0.03425329453942296,-0.02645234779413788,0.07411277032207485,0.005921552509140055,0.051275668952699444,0.054615829018157,0.07317359683263054,0.07675413730258271,-0.019126573201278297,0.03450158656748076,0.020119410155312534,0.03578946902517534,0.050623543371744996,0.05061685217360929,-0.007489019588513283,-0.022251887392633576,0.06505107733204234]},{"id":"chunk-7db5cddc-14","content":"Tools & Dependency Injection Example Here is a concise example using PydanticAI to build a support agent for a bank: bank_support.pyfrom dataclasses import dataclass from pydantic import BaseModel, Field from pydantic_ai import Agent, RunContext from bank_database import DatabaseConn @dataclass class SupportDependencies: # (3)! customer_id: int db: DatabaseConn # (12)! class SupportResult(BaseModel): # (13)! support_advice: str = Field(description='Advice returned to the customer') block_card: bool = Field(description=\"Whether to block the customer's card\") risk: int = Field(description='Risk level of query', ge=0, le=10) support_agent = Agent( # (1)! 'openai:gpt-4o', # (2)! deps_type=SupportDependencies, result_type=SupportResult, # (9)! system_prompt=( # (4)! 'You are a support agent in our bank, give the ' 'customer support and judge the risk level of their query.' ), ) @support_agent.system_prompt # (5)!","metadata":{"url":"https://ai.pydantic.dev","title":"PydanticAI","chunkIndex":14,"totalChunks":208},"embedding":[-0.023096534647677615,-0.0043409384884854916,0.008917226934427362,-0.04195738808977641,-0.07465301930504023,-0.07600031257189714,-0.041518154121151514,0.03193056478982755,0.02425229382060463,-0.07587071608857601,0.08803778935690253,-0.003026615972439317,-0.01672702199980011,-0.012492103092015846,-0.04050850898690072,-0.055964761813210764,0.07323926711292132,0.08442524338076096,-0.01613022930611251,0.06945964780694713,0.06660912627862604,0.05892458076742156,-0.03751163042121933,0.007509732659529039,-0.02237451267948385,-0.01627895643274073,-0.01490120645141381,0.06641076582295588,-0.058321360420713605,-0.07010648432865567,0.05393017425638555,0.038206775028469316,0.08077556590548048,-0.007579960878664664,-0.003223652962592941,-0.07506078328900437,0.025526208440864954,-0.06149881283731934,0.03392363385209488,0.08337261535740906,-0.03173611990940122,-0.07744262809635084,0.029635421235474597,0.07532916333718431,-0.03969021280666446,0.07987559800276002,0.08044055626374995,0.032165605567018606,0.02833455913031498,-0.08247692927910874,0.029754774815249737,-0.004818109921824928,0.05087981548398277,-0.05755757617303816,0.05046927193672151,0.03158779736760765,-0.08559910775142526,0.03167133380629614,-0.04326736422476217,-0.07906298339105929,-0.005077573475851807,-0.022976486814214568,-0.000873472553455278,-0.05292775814682833,-0.018106018535049,0.030980325814020045,0.07801738972627371,-0.08197455578855405,-0.007471085691501199,-0.005992207582572124,0.0351989884772263,-0.051400622346793906,-0.04913050415090337,0.015327599075280468,0.013699705447233094,-0.04349118099803571,0.04920194496363538,-0.0677760325901467,-0.06965638132175671,-0.03454795166614191,-0.08426398395922968,-0.05364342434050436,0.01726359099126688,-0.08766973499439183,-0.06184949539816082,-0.03202070033371297,0.07454025591467332,-0.025332441800773667,-0.07757771387018589,-0.000243380601698952,-0.01857516789005027,-0.06196214600867578,0.00025000897715968517,-0.019586464665904583,-0.060799529506181685,0.03929914659599276,-0.0696414030071225,-0.08806551934549071,-0.026756604612649896,-0.06188044311852849,-0.062166085417141616,0.08410597284313963,0.0046563833770202675,-0.06991571364796124,-0.07073006846760353,0.07061821909774865,0.04211331994183683,-0.021242128587054016,-0.021063809986158775,0.0856113810869941,0.03846818400069166,-0.01100116798613107,-0.0034535559027640992,-0.005374352142804598,0.04298334708496544,-0.05696883233156705,-0.053136610037310676,0.017011288838041868,-0.06108138009782306,-0.0787742991665683,0.05958154588882641,0.004997714616664712,-0.04860569290715707,-0.003967633538127647,-0.07271393585015552,-0.08153799332611908,-0.011067288650388814,0.07527941829770185,0.06106394784094082,0.03582566518536891,0.0334037054325894,-0.03608958603324008,0.039225023489691514,-0.060112478694810026,0.07470525091320634,0.031456320803121884,0.011034946176988266,-0.07373734934281248,0.0369078459332451,-0.0067170407685129075,0.02608464518359938,0.014183319652104622,0.028533459476592336,0.06039748707511084,0.047636142375803756,-0.028628079779727915,-0.06397015174924381,-0.021544525260379935,0.051055588453583996,0.0024312706244195774,-0.07185442503132296,-0.01163180256710765,0.06632477850987384,0.054640838456715864,0.021376733129762463,0.03579195943517694,-0.019520760041690215,-0.016531053332938608,0.015375316713047354,0.05929330821577009,-0.0669031827706252,-0.0709290947075906,-0.003393408564326791,-0.0723411253991114,-0.06018257552502014,0.04372223599241054,0.06579496738776586,0.013235347887396868,0.050587305816231366,0.02470362951634266,-0.048954657070550876,0.051012111204785215,-0.008773090626517491,-0.05144838010594167,0.07439844897526231,0.03447300207918929,-0.04353467164515036,0.08495816755739109,0.01584356898694622,-0.03916479615045875,0.05370469699729662,-0.07769474626522144,-0.034084733265522776,0.03987960224451965,-0.0057715720077048255,0.07700779928886821,0.03475383265784443,0.035025030589201187,0.06120753321004387,0.05060174072079247,-0.06273674140759566,0.07290590280880643,0.004473766159187574,-0.05996565396236563,0.0030531966287537233,-0.023268685378030403,0.07592798027291528,-0.053388903875964275,0.027302464223752525,0.05046694779041735,-0.06480983353397628,-0.04139806314741724,-0.04057974974387603,-0.046671796803299075,-0.08715688956309055,-0.07770207141750891,0.00019059852462867323,-0.028737057498954072,0.048374118877386484,0.0581924516866633,-0.07433450270754721,0.013454140343833298,-0.07759091572366197,0.08148518989752304,0.08268834431604506,0.02559222794045702,-0.0868338444703864,0.05884918228028483,0.012009431185773892,0.0010526295074708132,0.027277061250974108,-0.0874527591401122,-0.009251709460438554,0.08163165761032398,-0.05564951309361536,-0.04098743552508867,0.07663795817879764,0.008365958999260448,0.021354871717055024,-0.07192708833851102,-0.01302866584582544,0.029006377428306616,-0.027107689603925494,-0.028123708493213995,0.01799706233345672,0.04336234251050194,-0.036040148020969116,0.05094190202141036,0.08236323665325718,-0.0551518025186503,0.016497106773095745,-0.053218818417645516,0.05663136992407373,0.024985169474413413,0.028409947378164838,-0.08174061572268218,0.059086492728197826,-0.011749737659484765,0.06601470850436661,-0.009455706259257898,-0.060082130647046324,0.04764707929955364,0.03665306599367988,0.05821088272885847,0.0670004038006882,-0.007079007167087028,0.0635052101934177,0.08214004210634698,0.03270719120572653,0.008336126549797223,0.011300215620780943,0.012024463278030726,0.014249770121530949,0.03204118569843959,0.07455770107285362,-0.03884731608657377,0.008458636417791513,0.04191885757792846,0.02935484515020918,0.026898466264021575,0.012442649659508935,0.08176079438220261,-0.05959617041062407,-0.07470173440707914,0.05690677993120618,0.03253635798947341,-0.04601926460254858,-0.08415337223930687,0.011098905991318568,0.07323079100321808,-0.07302218407814473,-0.027795798747982166,-0.01828781867904701,0.07069568107483502,0.07366380512039525,0.06351751281450639,-0.06722740702366778,-0.04879023287119644,0.07433012544147286,0.037650420316276675,-0.031950041980730814,-0.003280139605542318,0.041949004290356265,-0.04927568261388649,-0.017141061838168756,-0.024226886120619223,0.08661409325769263,0.053584579087814534,-0.0351691860183178,-0.05229156362929954,-0.06621925136013479,0.020129943760234078,-0.019475025265106825,0.008613013784530735,-0.06047288792484606,-0.016378931771396224,0.07225362856270139,-0.05768539927591976,-0.07862167776400167,0.06215622015380069,0.07794500583094374,0.020008535071411405,-0.05222919257544558,-0.06028081570820261,-0.05272841558280143,-0.08719366531975319,-0.062099793718289095,0.07284026270513236,0.06252669207672162,0.03580681029305908,-0.0008957534010507294,0.06332291348151321,-0.07373280711546122,-0.007818776359539384,0.06762759434185066,0.04803330160087054,0.04725820408128147,0.0020129154224246405,0.07952740803125752,-0.048512018056996724,0.009371537500223601,-0.0022885019463628514,0.06401576783542885,-0.03825413640211935,0.04731490790785671,-0.011846450784320294,0.020227188760518076,-0.026773450103010063,-0.057499188052997016,-0.07163326024275707,0.026757330369392932,0.054122046311856756,-0.021940991073716307,0.05053380924991094,0.05393458774914419,0.06585039923783755,-0.071071597363261,0.035842008955335423,0.05884506984457408,-0.027792686194678787,0.0002789924119505786,0.07725192516911408,-0.07860648257094313,0.04703396655020467,0.03130287072367481,0.01723732667796692,0.045750571905129114,0.04168942187544107,0.05523353276168248,0.03839263365375404,0.023541027941870636,0.02109079487292108,-0.001545178769177683,0.02900965369110125,-0.07376285828147253,0.06486328242123783,-0.049971956179357596,-0.01664125680028161,0.02943275928652729,-0.08462035546353361,-0.08193956146423284,-0.08287928947039935,0.04306202727958573,-0.027520871086814207,-0.06731320439895515,-0.020638569240216977,-0.01139502823546529,0.0429017270426874,-0.049214721924695524,-0.02808218767422792,0.0034602026028603535,0.05150590229992054,-0.014036808847996554,0.07831220401442496]},{"id":"chunk-7db5cddc-15","content":"async def add_customer_name(ctx: RunContext[SupportDependencies]) -> str: customer_name = await ctx.deps.db.customer_name(id=ctx.deps.customer_id) return f\"The customer's name is {customer_name!r}\" @support_agent.tool # (6)! async def customer_balance( ctx: RunContext[SupportDependencies], include_pending: bool ) -> float: \"\"\"Returns the customer's current account balance.\"\"\" # (7)! return await ctx.deps.db.customer_balance( id=ctx.deps.customer_id, include_pending=include_pending, ) ... # (11)! async def main(): deps = SupportDependencies(customer_id=123, db=DatabaseConn()) result = await support_agent.run('What is my balance?', deps=deps) # (8)! print(result.data) # (10)! \"\"\" support_advice='Hello John, your current account balance, including pending transactions, is $123.45.' block_card=False risk=1 \"\"\" result = await support_agent.run('I just lost my card!', deps=deps) print(result.data) \"\"\" support_advice=\"I'm sorry to hear that, John.","metadata":{"url":"https://ai.pydantic.dev","title":"PydanticAI","chunkIndex":15,"totalChunks":208},"embedding":[0.048797788611183085,0.05141405326594539,-0.035313309629821474,0.06718939105818302,-0.00012820970256800188,-0.02082290121422216,0.01979881714527893,0.03455560111718974,0.04360234085894931,0.0011111114188270595,0.05115203913319291,0.08638872512470418,0.03538828535088926,0.013185194260654126,0.051243732893618776,0.08061638612286988,-0.010776095185620884,-0.07609356577020317,-0.03245397178348341,0.03737595814317702,-0.051015903201831234,0.032747154161028566,-0.05770729966250183,-0.06116433756445203,0.05015530716356446,-0.016031419548440198,-0.08449671449038493,0.03844176773272269,0.07852364440492929,0.00823180085933947,0.08322960156888201,0.04998597714298374,0.0797369497465798,0.030211218534432146,0.03716187777711096,-0.08565712085832763,0.05380724562351038,-0.06330526112822546,-0.047084084578880525,0.016730544349788035,-0.06729899149686251,0.06818655046231197,-0.04626075959222867,-0.07875129174294024,-0.04026486803714167,0.08719646614626499,0.05947861007329893,0.08310085130623668,-0.004288808923248157,0.005949211779560527,0.04933030862157891,-0.07379769949949819,0.06922232300664857,0.03255709696047664,0.007885590541795273,-0.058568917346726417,-0.07041914192548879,-0.07858687820995175,-0.08632206536039361,0.0077097494131249346,0.005279979340155176,-0.012538663584690139,0.03040644071279351,0.08714552899819338,0.0035476841204435264,0.08021266319894542,0.06764420409114713,0.045965000631466676,0.059263479015217134,0.0856275800133541,-0.08567334299889215,0.06502337207249538,-0.050465797755138916,-0.015759018791112897,0.028298062032762673,-0.07172386088827007,0.040533261829052,-0.0003765063877447978,0.06422862523664022,-0.051634515527230605,0.04525993176107106,0.08615194997424067,-0.03948207055864121,0.06463955877602885,-0.03336907020630517,0.02578730268171595,0.001283493067778937,-0.03749107969981559,-0.023639495601190177,0.016277956790808106,-0.05247684932778386,0.0392696969634108,-0.0002253080516636098,-0.07534067018982918,-0.07461890735338987,0.08495793739534284,-0.021596985055487048,0.0671790069582065,-0.049474783394273504,-0.030998676333664633,-0.01842469318348713,-0.0526424236562894,0.07041418518075804,-0.04158087319029849,-0.02802833526049928,0.00254115519727742,0.07600668503094238,-0.05267931998978052,0.03294428659542029,-0.04906402926736783,0.08414288915567246,0.07824454828810885,-0.08035016932952259,0.0729425680954816,0.08651847535191323,0.025666352391162262,-0.02796757202850472,0.04167976532731038,0.08656367001470831,-0.018576808876812345,0.02011495366928148,-0.023072101936379902,-0.06716902845656213,0.036918842287261194,-0.08503785979087067,0.03527212229588669,0.02159258593538462,-0.011199141288886608,0.0185417849294128,-0.007399084739810671,0.06928658852356065,0.0024220332351197926,-0.07165512334291342,0.025062476436464486,-0.01366384784341464,-0.06955068503567156,0.002260158730386516,0.08334505462311598,0.005360023656747021,-0.009556580935882403,-0.04571234910740673,-0.07443885117370638,0.04636724702675599,-0.015020662595158019,0.0160480297404458,-0.07676627542595586,-0.00036564983980853923,-0.06724003485857775,0.05775056720116134,-0.0397737424153456,-0.07374344156287035,-0.021307061462540477,0.04657794792479114,0.0010540425607376439,-0.014639577849187417,0.025974072991867544,-0.01935620028908799,-0.04876675895321812,-0.0881938186530576,-0.07435660851163454,-0.03477787401355081,-0.005851573709478679,0.07494876515741399,0.03554284459568408,0.027901680100520944,-0.03050396711785136,-0.005101732023588071,-0.005631315782969357,0.008087482022693738,-0.03918181716932954,-0.03226505068286325,-0.025210644124871673,-0.08694537382384164,-0.038837444537827594,-0.028322278253714733,0.03831767844019843,-0.0011265588812901216,-0.05345422131268995,0.0032006319759153414,-0.07206104749833066,-0.006634048230297526,-0.053267778067221945,-0.05993290325129666,0.005761701365818648,0.0031962069769929176,-0.04180359778273458,-0.06741482960022688,-0.017948999856316074,0.03453864234071048,0.0347110158512477,0.06288352874717552,-0.06942581073834676,0.07759238086457021,0.02836197923320866,-0.06668734806491551,0.012091467886726841,0.053802279548693495,0.05646205095346955,-0.058569909427725726,0.05617144888505302,0.06165861501574124,0.07934742582184044,-0.06993515442342228,-0.053228322421956305,-0.07515822076680133,0.00860798098284779,-0.012800059323475204,-0.08308337756405089,0.0733596290804301,-0.015416028516149302,0.07211366293254554,-0.011605696639519351,-0.03686077256872518,0.03972656257498764,-0.015985306030270176,0.031413604278031214,0.004693173359684992,-0.07610390143975457,0.052512817754728984,0.06769286258198395,0.017877136666861863,-0.03292117617359581,0.001931979624455309,0.026202186815222357,-0.036706002394002964,0.03984424125386211,0.0872250170602858,-0.03603813756899243,-0.04537657933903762,-0.014662535437840596,-0.04692613613598617,-0.04698114273014919,0.03875788491341693,-0.06254768144093593,-0.08515699452161411,-0.048469748413324076,0.02307432926347709,0.021486566592478842,-0.08057092557124124,0.05514715059651109,0.06391752938563842,-0.05711260587738114,-0.05433436202531174,-0.017499141875669803,-0.01773265243841367,-0.06718190281902284,-0.02560200319884177,-0.08266353210312945,0.023165884683870396,0.07530840937361488,-0.0061099969275618385,-0.017934242568730954,-0.010693054889409342,0.029329985777645697,-0.014010558626094233,0.009916548464741347,-0.05120588124120078,-0.08096771031760581,0.07889864858211673,-0.009286960228365636,-0.058957813834462754,0.0498081121034706,-0.05086381565850029,0.08821275201133975,-0.00789459658199209,-0.08040168842132768,-0.0138148490787704,0.04286866021331352,0.07894446955968587,0.004395968480359354,-0.0787466505181991,0.051494100303450786,-0.0086883178278273,0.003764248832016702,-0.07838870370140762,0.06749598888211834,0.030587086438087756,-0.0060476445065719975,-0.08313939669111105,-0.004876764002388558,0.06237780487897056,-0.06909124456008754,0.060415833318140925,-0.061093023031075035,0.08616766729577346,0.015963768268473212,-0.008745030629170418,-0.027957746627436594,-0.08441269891185181,0.047469330752174924,0.05459260252876628,0.018855969205328345,0.07893150746309512,0.007791710004989725,-0.08765494046663429,0.057600548607282004,-0.03801442083269606,-0.06593930088519585,0.08794241781606346,0.04979227921519614,-0.042861558018660054,-0.04728987132051921,0.08424814279209,0.038030074013160976,0.07628004111993203,-0.022276175886206964,0.005716298232892179,-0.07898020558209035,-0.07156754247734168,-0.00960989607139668,-0.040546477387197404,-0.027880920225876776,-0.022847583965124114,0.012328122389353095,-0.02312517935890751,-0.0752513754372505,-0.057517301871163655,0.010093282618236924,0.005319565196479839,-0.0348582120842702,0.012077575003442845,0.03669357818917513,0.07679852739663495,0.06067501607150773,0.01021620597171659,-0.07528950542788729,0.0021810605735751165,0.024598060089465107,-0.04695412186014101,-0.07561080796653621,0.07126228602246447,0.015219539803544565,0.034897912141827754,0.07580679086598714,0.003732781866901459,0.0793133850504058,0.08741454354495622,-0.02703020926713482,-0.08658716715662267,-0.02970584341176249,0.0009834656663741076,0.05905532705906048,0.022453282282161216,-0.07787437850347002,-0.019637883211980706,-0.03516687520317654,0.008699546924195193,0.005240943290681024,0.05764560207088873,0.053130835108800685,0.03640742254361349,-0.08249916223685315,0.010546746945862726,0.012319778284288952,-0.07493220239282394,-0.015312958987023676,0.001532096231647313,0.059042333326488894,0.08219776192381631,-0.05310613621296572,-0.00939792142601457,0.0007787684548677946,0.017901455420814647,-0.007494589245990765,-0.014549965044036028,0.07490973209053338,0.049030901224517025,-0.029357142446294962,0.03460407026769334,-0.00563357615707445,-0.07911910493996385,-0.03321609259904802,0.0270581235863872,0.02345823460605866,0.0019386489607394245,-0.07419642391655688,-0.016433010730159035,0.023857155367965465,0.008271572100927266,-0.07346132915647074,0.043739590165081534,-0.0389472966064072,-0.008610337366655129,0.07715634792051666]},{"id":"chunk-7db5cddc-16","content":"We are temporarily blocking your card to prevent unauthorized transactions.\" block_card=True risk=8 \"\"\" This agent will act as first-tier support in a bank. Agents are generic in the type of dependencies they accept and the type of result they return. In this case, the support agent has type Agent[SupportDependencies, SupportResult]. Here we configure the agent to use OpenAI's GPT-4o model, you can also set the model when running the agent. The SupportDependencies dataclass is used to pass data, connections, and logic into the model that will be needed when running system prompt and tool functions. PydanticAI's system of dependency injection provides a type-safe way to customise the behavior of your agents, and can be especially useful when running unit tests and evals. Static system prompts can be registered with the system_prompt keyword argument to the agent. Dynamic system prompts can be registered with the @agent.system_prompt decorator, and can make use of dependency injection.","metadata":{"url":"https://ai.pydantic.dev","title":"PydanticAI","chunkIndex":16,"totalChunks":208},"embedding":[-0.0336099411205293,-0.0628710597418275,0.013853141482880589,-0.04539401761201458,-0.06404096126309311,-0.021058022837322245,0.017926036224670167,0.04021611919632529,-0.026826110477452876,-0.07107688448505962,-0.04000509964851646,-0.027395888651641553,0.08444923821312021,-0.025966820952821736,0.08266039708093112,-0.05795029446521905,0.037883268066198426,0.0038153842621477534,0.013266346648257162,-0.0840931789839031,-0.037424493921796004,-0.07422994097591988,0.009327815745266489,-0.00009991222058707588,0.024751262231774717,-0.026170570530091135,-0.04968105006310003,0.0715889805487338,-0.07323773450744041,0.008906019793354328,0.05329241584487254,-0.05749936788347635,0.08096591651439938,0.07225296699273515,0.011188539041485437,0.08224094939739235,0.044592495904999606,0.042646158720107595,-0.060333082835442434,-0.06148265525011888,0.03765119211468198,-0.029512932943611823,0.0032389430184149763,0.06586857332132857,-0.032889630650003256,-0.07146858668082916,0.014913960247881773,-0.048937237890337694,-0.05919036367453437,-0.011831226233565082,-0.057107627078047514,-0.003148359453872727,-0.024779024958382103,0.000626406386381859,-0.011513318929441223,0.011842754794748826,-0.07789274023177127,-0.06039246365120198,0.04527928154062003,-0.07499051410670643,-0.010021293495254588,0.0806848497483769,-0.023159009552769703,0.0764565092865406,0.06931070176777342,0.036440677422212193,-0.07037286045923255,-0.07378665819563744,0.04209618295680567,-0.08209233968238215,0.03861412963268724,0.018329132742435004,0.022706422632656174,-0.05691013286991692,-0.0593041186808054,0.06466952526766145,0.006732374493149291,-0.04864802936775028,-0.05895316423651079,-0.0387229243430228,-0.00092485496072143,-0.021972090353958453,-0.003599503478862988,-0.061324043944131434,-0.05566737159547955,-0.05567325902611697,-0.004340226801651655,-0.05787187915824584,-0.05229723402840236,0.08400078798806483,-0.01909979229877732,0.06882807534990952,-0.06398829260139188,0.08398366100347904,-0.0005831352654831551,-0.005109648878474314,0.0237468334432889,0.038638476546219054,-0.06590719956842916,0.03771919885209197,0.04653455480013929,0.03844756460197278,-0.001567158080476317,0.07358143181718364,-0.07365105823739088,0.003291561131896115,0.02193772959549986,-0.033895802648611084,-0.022404490052311807,-0.0005849050486862086,0.05041424437131136,0.041061158891048395,-0.08478287908670842,0.08754441078186229,-0.040898245699487495,0.057263984702216365,-0.008048372445085024,0.013957929082876928,-0.04496762837326147,0.039851095769455745,0.012521015367710536,0.021397428988865812,-0.05946370792874957,0.062058747278800966,-0.03809269578239537,-0.08099049932978845,0.0650068481388161,-0.08227763881769723,-0.05037620414789002,0.017494612781210218,0.010976450206016777,-0.03787630545550171,0.07489219780120517,0.04999577165618702,-0.08118030213445841,-0.034222743492962907,-0.07518259778372198,0.08459661727353507,0.001975294963976021,0.029815017639815734,-0.05222497887241624,0.05269935368542045,-0.0216851791247567,0.04664411338105208,-0.07926840301524747,-0.08781870429873735,-0.055605316959593976,0.04535574490724301,0.03048187607475035,-0.053467196285786146,-0.035917252925712205,-0.07198095387378843,0.038582128396379874,-0.0015516449128313583,0.029122752007373322,-0.005338515446381749,-0.011334191128615924,-0.05416382191023844,0.06023050795800492,0.018632204022440407,0.02001402118059015,0.050141090447067424,-0.084415782492186,0.03411083986241252,-0.08309939555530074,-0.06556051383008327,0.019243720857824703,0.03965674001860939,-0.06926849417221205,0.032163007071947095,-0.03794839408720375,0.05246450792799617,0.062228157893141844,0.02258773740739454,0.049569844003849124,-0.057949507841642794,-0.01196111143777189,0.000573616895833691,0.011608890402856347,0.0029832828843412455,0.08612524702394007,-0.01610817291295747,-0.059129982467465286,-0.07854752407376002,-0.07190238149601792,0.05255657138460522,-0.04910610826817791,0.03486819343849126,0.06252503796030386,0.08161069461957673,0.06141560919576026,0.025407007855393716,-0.04167123372947621,0.08513410917268831,-0.029656385077953804,-0.046161556520556625,0.07616630784131714,0.041584733910524516,0.05054959355272388,-0.03550861057244368,0.07944712887283324,0.010779885436677654,-0.012625786718237298,0.08442627493174333,-0.05922800503950746,0.05592547713777195,-0.006895365058370263,0.0376986164271467,0.06601085405653835,0.04592631420581553,0.010976546589544738,0.07644412191904768,0.07883277592533779,-0.0434224273405011,0.03163823965226167,-0.007547041207770712,-0.06069357790290429,-0.03207602959231879,-0.06416141567475868,0.049625394040734586,0.029808773631946166,-0.06584796372654718,-0.0851079771627963,0.014046201944751325,0.07124054169258898,-0.048570402345533156,-0.017767003942490034,0.017213632721451745,-0.030155307182938147,0.0479621144055954,0.0330476440549316,-0.001516665753676549,-0.06514518655341779,0.012807491704381025,0.0004842247725127749,0.023052646616714002,0.06896946141833629,0.0662206195354149,0.031903058082224205,0.03528994211289596,-0.08558357995306451,-0.03884478083108218,-0.05219609996279768,-0.047952087631240196,0.004450339798815589,-0.07863040666498912,-0.08649961596348653,0.08515192634127816,-0.06029821083082152,0.03544145440116176,0.006580675387310607,0.040861361100200985,-0.07291312794568772,0.00822564443341123,-0.07462089134026878,0.003045903498139299,0.051900791050923205,0.034529931709056653,-0.08525719971637247,-0.08516152410174035,-0.058668259800811945,0.03753936129111612,0.02143762975958427,-0.07495879363601424,0.015508695745328326,0.025129015389110883,-0.012353549319066388,0.008328816833029641,0.0587323947372082,-0.019170999854382774,-0.05940013909710484,-0.03857282560510813,0.07829234906104147,0.04866936258807332,0.0542298614950067,-0.06657614407683016,0.055493064544568094,0.051021463939095006,-0.05981593148085863,0.04765966907945578,0.018132796102703394,0.06417543219020817,-0.03593828241603596,-0.011615806588141793,0.08081213040161007,-0.058796065088343105,0.08135250037405481,-0.04134275010093041,-0.06792931741468716,0.01988636853236447,0.011742139984475007,0.027255128482325506,0.02644548779433018,-0.007337667570340659,-0.04933616782575846,0.03384614271577687,0.022367078482323388,0.0012911281530597325,-0.0520703609811086,0.0015756555978344669,0.02288867308506293,0.08081972663680716,-0.044306490942058054,-0.0030573750568220807,0.07722898192169468,0.06375659974170594,-0.045389353546344734,0.08744649577609123,-0.06367217670982721,-0.07935537908761389,0.0615327314226686,-0.004855906355299892,0.05119422419105469,0.0655795279520566,-0.017848430840263774,-0.07399155310003822,0.08305141795080336,0.06443003430900804,0.01955780659723398,0.01127743618949996,0.06314091952871231,0.014205162322281056,0.05926376848608945,-0.06716792898350592,-0.011138102228216892,0.07740141257928174,-0.06633008780740292,-0.01915351341024433,0.04814779612897249,-0.009943414821801468,-0.06746012002033056,-0.014525659401128776,0.030592386590697504,-0.05457605826469276,-0.07202993010592094,-0.08268958573958762,0.03480799687446286,-0.06859687880467534,-0.004328283365401485,0.006903219705648572,-0.004811412282410051,0.029422403615016152,-0.08749174355946249,0.07820455807427402,-0.011224749923034105,0.08601108524335271,-0.028494567679155255,0.06463798421252612,0.00437193807333466,0.054611442850464,0.08666731977127262,0.0010419398453816193,-0.0406595885300292,-0.028751000500819197,-0.031678740739957606,-0.016247757096548476,0.05105260346406719,0.023233478376951146,-0.07852121224634769,0.08303170041438965,-0.010314925587516576,-0.07081852812747773,-0.06599904144783394,0.051857457690945526,-0.05190086261654997,0.0720641596364493,0.009207145233756,0.03964652037023653,-0.011726714467771153,-0.07167830528210303,-0.06829852966019956,0.004690306419141378,-0.007371017800119398,-0.05968215513238297,0.037491675816501216,0.03348250316944375,-0.0592379478336489,0.040368886701510724,0.011460628292164824,-0.06217152249933198,-0.025626651358747757,0.031128993482503083,-0.039839196558231135,-0.049710904500396114]},{"id":"chunk-7db5cddc-17","content":"Dependencies are carried via the RunContext argument, which is parameterized with the deps_type from above. If the type annotation here is wrong, static type checkers will catch it. tool let you register functions which the LLM may call while responding to a user. Again, dependencies are carried via RunContext, any other arguments become the tool schema passed to the LLM. Pydantic is used to validate these arguments, and errors are passed back to the LLM so it can retry. The docstring of a tool is also passed to the LLM as the description of the tool. Parameter descriptions are extracted from the docstring and added to the parameter schema sent to the LLM. Run the agent asynchronously, conducting a conversation with the LLM until a final response is reached. Even in this fairly simple case, the agent will exchange multiple messages with the LLM as tools are called to retrieve a result.","metadata":{"url":"https://ai.pydantic.dev","title":"PydanticAI","chunkIndex":17,"totalChunks":208},"embedding":[0.022976237275850263,-0.008849928872578605,-0.08278399202459782,-0.006227862690410164,-0.06974839033601656,-0.006534311033611639,-0.0828930177604781,-0.05175844261773112,-0.014400298236472407,-0.02870979471063437,-0.00811714984330778,0.07985506245042517,-0.07064595952215291,0.023248751085444292,-0.05345646502595245,0.015509265566841877,0.038465567035051454,0.02933186384520658,-0.02238116944957968,0.08392652465192896,0.08062915498355423,-0.020528062631994734,0.012248985282226966,0.08343745974643699,0.045465096806686284,-0.07198249872172109,-0.019458606754745617,0.014436769045262147,-0.025875832652435617,0.030683637108299494,-0.0588009730274261,-0.004110182044042966,-0.07841034470898756,0.018659494300978074,0.08276167739991294,0.03549191406076568,-0.06853133721162932,-0.059253953431327784,0.06189974280914226,-0.026602155931505254,0.016061180082165106,0.06217456975220638,-0.027426808445654302,-0.06012141773549746,0.05126011016508219,0.0720302573963196,-0.047992471675879354,0.06679026294354776,0.07253757113898267,0.022023251377782962,0.029000300514073547,0.007428668658636409,0.08049764251235032,-0.021612523305569602,-0.008227908544832123,-0.05604436057975563,-0.04536533607528701,0.059549547150921124,-0.05808574453205807,0.059994358892563986,0.0540201338001547,-0.06467499937092408,0.0294084141887842,0.08398588415823491,0.047032391542892696,-0.07281406567791458,-0.038956604020522735,0.0680104361488355,-0.08538643173562951,0.022711968116637036,0.08724458411308428,0.07307451209379934,0.0727358456561238,-0.06378589520831063,-0.05121068588626828,-0.06903742310636778,-0.08187028848552838,0.03297058374196289,-0.04203530085559389,0.041543476357370074,0.08138045086724698,-0.017400313073094118,-0.03394115546140605,0.06986797919808965,0.06137067930010969,0.0031687977426654063,0.03508382098489195,0.06820452638420559,-0.048140697925521767,0.024231158021279568,0.003734156873473674,-0.021878956035112168,0.06562111924948023,0.05103934243868925,0.07257894956014535,-0.035965752053824476,-0.028548681376613934,-0.07571311937054973,-0.0036321010228816315,0.04989980670847306,0.004382521038256493,0.013553159031907094,-0.0005531887863048615,-0.06886871239031932,0.05225553832831872,0.010102063797727795,0.0628932785374993,0.02858815379567818,-0.042337768034993506,0.07394967447121131,0.03344734431664501,0.0012576341457883708,-0.05834172776274261,-0.0683676744154634,-0.0032879595415941727,-0.04290540876997793,0.06093453333731166,-0.06049776539648204,-0.017280741631333335,-0.07015257075124741,-0.08516703202848165,-0.016354065309157607,-0.017747981065789207,-0.050485757487954495,-0.009627691371644459,0.023603792986419982,0.06776708082058622,0.001238726383585243,-0.0512635452769823,-0.004808589204796511,-0.026288960563697356,-0.00251782814077994,0.08406711012855299,0.03218533956863316,0.0738101358047644,0.07153950747424834,0.07571124909532811,0.07775399898380178,0.054211291036306716,0.0032597250673358506,0.013630744924686503,-0.020716513478209384,-0.004069247405272811,0.04130813883881815,0.08265330933453206,0.0704618319626653,-0.05005459472415943,-0.022725880884204526,0.023819375535290746,0.07076251957045604,0.0794933824303961,-0.07339150427122144,-0.0037509557383497835,0.06859759323422983,0.04568076179856646,0.04990195711842438,-0.05028946990843027,0.013299019490754523,0.06938964565454087,0.02029375913954583,-0.06771310713583387,0.030918951020616956,0.0390169738465039,-0.0021185876664476366,-0.07856146231422889,0.051432425963443516,-0.024070065172210938,-0.07469022390447938,0.003265326758998639,0.06660641959306705,0.02528098216919644,-0.04964632461240477,0.027772888119380796,0.029332090010682568,-0.04410870950906504,0.07896328801502628,-0.07052962688739177,-0.07086669227268012,-0.012080880952686083,-0.01153054268331087,-0.08205292775463485,-0.0759867543999783,-0.019604865696806112,-0.04083893316489747,0.03536915286479871,-0.037591431538917995,-0.019277290579115747,-0.0869332899505478,0.01809905425576037,0.06438100854875271,-0.02479769752871732,0.019932685139739732,-0.04068741865584615,-0.06547970713148259,0.08079902829610194,-0.03744852682597039,-0.004691491820935041,0.08647108394122845,-0.010567812784964227,0.02962060842323965,-0.06238754702132997,-0.07589573059369169,-0.03656700688776125,-0.08593656064526856,0.031350723489435475,0.025302792264024446,-0.06169116849551671,-0.03501484016032706,-0.05231756953287025,0.06581062960687745,-0.06529092917861318,-0.04074540011184511,-0.061666269722463266,-0.06093973818857867,0.023581624152416183,-0.07561896523529822,-0.05431488253911734,-0.07894748566525595,-0.026402381917887883,-0.038167126879990854,0.023104523482826312,0.07491967785686691,-0.07730686034974528,0.0724640963079035,-0.06580034005119238,-0.06149094967862228,0.033315485803917654,0.01688490636733019,0.040400913233774496,0.04367044298898749,-0.05898954448792568,0.011328696906181645,-0.009353853692640671,0.00499565689583246,0.08131651917670059,0.05601264279903373,0.024852163870772506,-0.054614611048194706,0.06857036378237182,-0.0301311097819187,-0.03718155846814839,-0.04838036213545896,0.031861371307017466,-0.06827280538868526,0.07993730469948847,0.022788000048747238,0.03918276505287345,-0.0081327751971448,0.00031830350461894557,-0.08691750933914422,0.02805979706386722,0.012340541411130626,0.00329450181476027,0.031672588382002625,0.02970572106520036,0.04165501368849258,-0.03489426074589063,-0.004739146409720296,0.07213253219869517,-0.06962882884980344,0.051747847382160705,0.012428317000384877,0.018901967687505287,-0.0023126556137047496,0.02229332622445774,-0.04848784474077399,0.054592702396310915,-0.03526988804519022,-0.060283772631798,-0.05657862868554012,0.0441631157909085,0.010426396009691752,0.032300580194754555,0.04181706611141467,0.04262814180184514,-0.019842779399871273,0.004814615593004513,0.07756723550805177,-0.07686787368066411,0.08225665863201052,0.0353948055835135,-0.07919259265168281,0.04473683015642828,-0.042363675215186566,0.08221630009152442,0.01459989507214184,-0.011077447849489625,-0.07682555240524544,0.024750668138840907,-0.03404283225375837,-0.04531644267790245,0.08032164345945862,0.007936985956845017,0.035839757795450226,-0.04634392346687602,-0.02985024194240839,-0.07756438193274971,-0.046239503000441204,0.08076388533212309,-0.012757653529956762,0.07768610195505479,0.06298685838276732,0.0048767158911772555,-0.024745600203598086,-0.007172358120830561,-0.05676658002689433,0.08397767084187079,0.011615888767020967,-0.06443526737630612,-0.08140331784891,0.03322714448749994,0.00860836672207686,-0.07463784276956989,-0.0633419920761103,0.019811799861397472,-0.05069442997307102,0.014481771080677415,-0.04898282580437268,-0.07525871077838564,-0.009554643625424842,0.0652765009983536,-0.05930848977344474,0.0331548802437836,-0.08031435629172419,-0.01858080767874473,0.02947666099550857,0.01139655765375498,-0.06500950117542527,0.010157566137300162,-0.07644267892711584,0.0276062572383575,-0.004562649414665244,-0.05303058529103079,-0.06299816115495316,0.07015929294841797,0.005874833375553869,0.04727219082577524,0.03295355942198572,0.06288449668600288,0.019872679171018818,0.06593375284357107,0.01222500168108162,0.08313606643732568,-0.03814464397841049,-0.08080184336805336,-0.02982162002158045,0.0069130480002886074,0.0658388127326769,-0.057697944811737685,0.05542117322292666,-0.014457887799831332,0.004439402304169126,-0.05291157792543848,-0.01534374665696763,0.034713121205627716,0.020657835976536056,0.05762386245825363,-0.08370452934386229,-0.03274362084449998,0.01856436118908944,-0.009803903374787256,-0.0591378886112652,-0.07123166704664381,0.037678453268054475,0.0012946003736251334,-0.044785990620474156,0.06595254000713702,-0.08416103209574824,0.028928997109161823,-0.08647259938920629,-0.02918429204199288,0.08668620070561384,-0.07012797402517183,0.0287047225889856,-0.036297153787117134,-0.035484190312036534,0.021682548787631314,-0.056146406889374986,0.043532083546826666,-0.054074515209375486,-0.06429042180171446,0.07052159282748885,0.0014552640360090215,-0.008014149182653415]},{"id":"chunk-7db5cddc-18","content":"The response from the agent will, be guaranteed to be a SupportResult, if validation fails reflection will mean the agent is prompted to try again. The result will be validated with Pydantic to guarantee it is a SupportResult, since the agent is generic, it'll also be typed as a SupportResult to aid with static type checking. In a real use case, you'd add more tools and a longer system prompt to the agent to extend the context it's equipped with and support it can provide. This is a simple sketch of a database connection, used to keep the example short and readable. In reality, you'd be connecting to an external database (e.g. PostgreSQL) to get information about customers. This Pydantic model is used to constrain the structured data returned by the agent. From this simple definition, Pydantic builds the JSON Schema that tells the LLM how to return the data, and performs validation to guarantee the data is correct at the end of the run.","metadata":{"url":"https://ai.pydantic.dev","title":"PydanticAI","chunkIndex":18,"totalChunks":208},"embedding":[0.042551325735224924,0.06426946130926658,0.006399998881213015,-0.009822943813187142,0.06598814554893062,-0.08586839250180764,-0.049218673854659965,-0.08288270051665896,-0.043035419647568095,-0.06882252449487455,0.0629786584846815,-0.08394580658211796,0.030047043241907247,0.07199608700701529,-0.04564140250399759,0.07558150441488423,-0.053930113832236004,-0.06389877088534515,0.012347322876642758,-0.04055880112604134,-0.06798388606265722,0.05248181867403711,-0.025698371069850977,-0.07234160524067389,0.06220325472286875,-0.0642114298208991,-0.009309683846504806,-0.06485792883770473,0.013680313156441635,0.03722859239712707,-0.023708211462331038,0.0028601080392400375,0.04315710630990388,-0.03269241041440943,0.032897652380359216,0.07707127030622127,0.07433920774491146,-0.05519030676660794,-0.020002067348780992,0.02741462606420782,-0.005183054461948865,-0.0757971718572535,0.0631150057193655,-0.039036873862560335,0.06115517011419373,-0.03646061222842847,0.03518628228713536,0.07600714707925228,0.0778686452506614,0.06855752527717977,-0.07607029883518386,0.04963041790821923,0.0467195625718705,-0.025359897219261962,-0.014966424773108876,0.03834909218369464,0.008389639710686783,-0.016411600360693227,-0.008413157001014394,0.08573374155863604,0.05435059125664037,-0.07075132169990737,-0.03476425040868781,0.0642497257931644,0.008622645723532768,0.039567216824910934,0.023919779283917832,-0.08306281309595097,0.04483511621426222,-0.026251739287059647,0.07338333108593717,0.07594431710195397,0.06490843044439583,-0.005685746912387624,-0.027130757489717806,-0.03691006966009323,0.02487175683468765,0.06804263550758166,0.01941900801951602,-0.08163108782244685,0.019181738232899464,0.003982414895592554,-0.04932875281632843,0.022484146627411838,-0.06364637220982902,0.0755782101698465,0.024319360179300014,-0.05526072920282724,-0.05776101770357685,-0.08537280063344478,0.04352426066564388,-0.08437593899877632,0.07198941292540025,-0.025226681929348547,0.018994469882722798,0.003536577480006371,-0.03392274237216011,0.012577594573140739,-0.07300731771104194,0.05704315090744332,0.054951408616605156,0.04472335549449253,0.06664008765570517,-0.040558945159855773,0.005139432381969731,-0.05579308483531499,-0.045337731938128685,0.0005438617833070444,0.011116267731998728,-0.08499465447731074,0.04089235973834696,0.024250518861651738,0.04313860571077597,0.08290700405283512,0.0033797599583939874,-0.04723327402109015,-0.0025366209609411477,-0.04349355791706311,-0.036996532164948664,-0.07486128367402164,-0.01278093260935824,-0.06793270201185288,-0.05818386924187278,-0.04513985514252796,-0.07774577305259175,0.02289955426294527,0.07802492015554778,-0.00073229006733441,0.01827143094346536,0.05233851785390946,0.05660255569856284,0.035416003285356344,0.02617190616588813,-0.07753818961859306,0.0409685158896612,0.03131988627020287,0.044626604894834554,-0.03204330947491951,0.05722162283596836,-0.04642122236503852,0.06873169146141113,0.05237543873458478,0.06003902333350245,-0.03645476553597955,-0.010734313937784836,0.08286705500734254,0.015133383270740142,0.05008780353368604,-0.027683541324294677,-0.026102152042730083,-0.02860303030982271,-0.06227342407780569,-0.05440231551718485,0.03288196249901851,0.029371701118296057,0.07229841986197265,0.047557060018330065,0.08564027840255699,-0.04322001861791061,-0.08035937373582594,-0.009963482589970546,-0.07872077850566903,-0.06242767496708762,0.05397373702003978,-0.06860126239545167,0.08490574344748128,-0.019488583209915252,0.014396759855050744,-0.05210551835105134,-0.0071920800529188,0.015963645700875773,-0.03510000883980498,0.0774791463961083,0.029597556695899405,-0.018499765270521846,0.05121694401007685,-0.03571953848659507,-0.007883662008420911,0.037077043736523235,0.08375240178007841,-0.008098876292765058,0.038660574904590975,0.03228171251274972,0.07466321506201956,0.019232402395051484,-0.07098820991094194,0.03829149031472298,-0.07850986502640052,-0.024447501730441086,-0.07434520997268093,0.01737295704605674,0.021795325353528357,-0.042704161979996366,0.01113077705153374,0.006255383417199987,0.04536254517643944,-0.009404335629085001,0.05806580841414346,-0.006642922817041044,0.0559362646657363,0.04853189961863852,-0.023236336108877795,-0.06245973314539342,-0.01397439694667628,0.04889364533948272,0.05824261748972919,0.059703316214434615,-0.002224295492906378,0.031076906003971547,0.018361060674003737,-0.028760697222426468,-0.07533865969893912,-0.0842496142173695,0.07732243363628322,-0.06454425440578612,-0.07337284898940638,-0.049161312956000375,0.010008230424992938,-0.034982775619609954,-0.01731206271891312,-0.07505886476232068,-0.04349224669083125,0.04140825857742441,0.0780347439458338,0.08207859290525747,0.005114850762611592,-0.06202692223032645,0.024962189204904825,-0.0009271115335743754,-0.005749773532930847,0.03259778047600943,-0.0778562313070449,0.005824815946309628,-0.08221265814262103,0.08145742480846273,0.05551051797805235,-0.03867582700597625,0.048604648388268175,0.05010135397665427,-0.023717266155602535,-0.019831190081663043,-0.0000018049647692584455,-0.06330654867725637,-0.03012237332175058,0.03650562416269728,-0.0764655327159847,-0.05022969994357672,-0.010894707280527932,0.007873040327395319,0.019948426403986454,-0.02441857730065656,-0.0782664101480805,-0.05680931498890868,0.08579888495104103,-0.07805997424208293,0.030063544166888105,-0.010022541245920146,-0.07676618503363006,0.007637308818174773,0.06410332400829755,-0.007941506145612207,-0.003939531250668172,0.0007332314568981953,-0.007299985921819988,0.07668533314770166,-0.006708475764984985,0.0635179979356912,0.01913628608654802,-0.03362441555481378,0.030125590472194763,-0.05947745355408733,-0.020294211009806582,0.017492689462626672,0.08284494824630044,0.041339814593818934,-0.04329532775063043,0.07218981640567151,0.05953715327483514,0.043275253043601,-0.012490666743620487,-0.014519889790846953,0.07891034149846066,-0.07844885411436603,0.07267651329011189,-0.07920015714266469,0.04039128736905354,0.03536903073892439,-0.019005306253253716,0.0019248076261082407,-0.07894421636313374,-0.002268111054197107,-0.06161807045892733,0.0452798117211446,-0.02431633716631005,0.020543307485478796,-0.008849426186236055,0.01403899387944407,-0.048544181829405654,0.012757134809744797,-0.01435115072965734,-0.009953628613950664,0.03890135328456504,0.05921503767545359,0.040193276959254516,0.03789812592025092,-0.009919552944601805,0.08210361359237116,0.07185482829206427,0.071304283213918,-0.06433509973607937,-0.05934223127084475,0.08417984023485435,-0.01494775564670546,-0.06811700242323836,0.0339898199574434,-0.05801406229445348,0.08377325053223339,0.02943484544673312,0.06273300317804657,0.016306760866922163,-0.0054474020823626675,0.006748243154189163,0.08339847053066232,-0.001410873464743481,0.030674002282318317,-0.07776576772883005,-0.04382867298828345,-0.012297656373225415,-0.008606427442470643,0.01632887629350512,-0.0516809262598523,0.08372245050748248,-0.0647569078124705,-0.035423209973825164,0.08583763018408287,0.015673367866259804,-0.005311018063262032,-0.07772353302695978,0.012988903576855742,0.026848720893007005,0.0731907116413866,-0.03117326664065771,0.0791387552626321,-0.036810020978637,0.07994056173098976,0.07126799176114182,-0.08293592229301476,0.034762625141161775,-0.07493830088993812,-0.005770142576486647,0.03016267110313864,0.038487602002952384,0.07764272201513013,-0.03843977337513478,0.02696679087547041,-0.0667548911319583,-0.038677661880130436,0.045458183001363964,0.04026933488247459,-0.08494581683134442,0.0349362544169532,0.013138841837135758,-0.07747195339067242,-0.0802766522787523,-0.06248509974552219,-0.06767013628706664,0.037885039150200465,-0.07512904314651034,-0.07465113657850225,-0.08444441552580806,-0.027310956022929288,0.06387854994209356,0.026378548433313984,-0.06284028440148351,0.023516096493966406,-0.07223833675758277,-0.0007770609844266334,0.04949423437474337,0.046350767178571985,0.05821382162282222,0.03413868220854328,0.028694616867055135,-0.056420634653441916,0.022067412514977878]},{"id":"chunk-7db5cddc-19","content":"Complete bank_support.py example The code included here is incomplete for the sake of brevity (the definition of DatabaseConn is missing); you can find the complete bank_support.py example here. Instrumentation with Pydantic Logfire To understand the flow of the above runs, we can watch the agent in action using Pydantic Logfire. To do this, we need to set up logfire, and add the following to our code: bank_support_with_logfire.py... from bank_database import DatabaseConn import logfire logfire.configure() # (1)! logfire.instrument_asyncpg() # (2)! ... Configure logfire, this will fail if project is not set up. In our demo, DatabaseConn uses asyncpg to connect to a PostgreSQL database, so logfire.instrument_asyncpg() is used to log the database queries. That's enough to get the following view of your agent in action: See Monitoring and Performance to learn more. Next Steps To try PydanticAI yourself, follow the instructions in the examples.","metadata":{"url":"https://ai.pydantic.dev","title":"PydanticAI","chunkIndex":19,"totalChunks":208},"embedding":[0.017255923036449933,0.04838185340109174,-0.058105046929758784,0.03664247861686904,0.016527275113191034,0.01597951444348863,-0.024223035481289016,-0.02586534633342551,0.02685048383010961,-0.05781431426220649,0.0768754848114378,-0.07917473366430822,-0.017056875045847034,-0.07625459293002726,-0.0029552490997870533,-0.08103568765928669,0.05672210276140816,0.06032924612376686,-0.04781117075488919,0.038093824600971216,-0.0280716957495695,0.05187818996625666,-0.062054480098785864,-0.024987638094127386,0.058490484909134395,0.07758677011691413,0.042928062187281575,-0.004544247881817122,-0.08472685119560865,0.029987223509324427,0.01947432792428543,-0.06873963941806803,-0.07526992415340936,-0.06564600973979139,0.07892643332471318,-0.04180171491174488,0.08096078266702893,0.04381505868303034,-0.018140467672171416,-0.04239918041507216,-0.07201394425245089,-0.01040275884044226,0.018398130517462395,0.004933845891735261,0.013769102758513873,-0.036088851243562904,0.007426975622048366,-0.08248652691791118,-0.06448294802290912,0.08372191808762033,0.06682881128861046,-0.07493025943524965,0.03087585770988679,-0.005269058668485586,-0.052875327861193436,-0.07156122767187773,0.040772824786166915,-0.06755101636901975,-0.03962029483582416,0.003929211996928742,0.04451033620837329,0.070193764153135,-0.010566409777117853,0.0780566220921378,-0.04914018478666803,-0.013899883107883078,-0.04629112839880407,-0.03800151038352364,0.03432667358795876,-0.020886829320107256,0.048230531314088325,-0.0815426175350265,0.07679124896162612,-0.012492112891672973,-0.004131475744974581,-0.06483795144555778,-0.03786748342259169,-0.028695700224946004,0.0026139439271365937,0.05788393464516486,0.052431679894315894,-0.06100113856710169,0.037814043660879905,0.028794814095300967,-0.05147064433321036,-0.06897802376243634,-0.05237276269046228,-0.023856276802483187,-0.012345695167270895,0.07424599949047048,-0.011879294765574692,0.0585563557806867,0.005746625163469558,-0.001031557943192078,0.0008401369496690512,0.0596048314783168,0.07236671163046289,-0.06796123016468242,0.0012335428020679882,0.02128928504319632,-0.03496546578201224,0.07137122880376873,0.052949120809900524,-0.04672162484911513,-0.05661864954088866,-0.08121317412142907,0.08637331382803731,-0.01599233394128602,-0.059975916450399985,-0.06571845749726862,-0.011737232209579156,-0.07254693873817103,-0.07371059062361734,-0.029475886626177093,0.0755490780211575,-0.009893415467533286,0.045009867735430156,-0.06664807350813809,-0.06179705089360193,0.05898363746143806,-0.009744902490788174,-0.07987734132099573,0.055086960943871825,0.02507788522796071,0.06991998190067918,-0.025414826637266578,0.012606516660091374,-0.08630196387718966,0.07760806814426043,0.0030957218775591504,0.04061067452389035,-0.06209613823798255,-0.05343922871801261,0.032796075317398254,0.04845388480799214,-0.06739551430452861,0.053672245755517725,-0.05763347410982194,-0.04030108579076318,0.033851607253985234,-0.028443765767966863,-0.08232075178298964,0.06300799666611034,0.03227480281946646,-0.061784607766697516,-0.000830532057904741,-0.07578777387186764,-0.0696386623811974,-0.07939768279064907,-0.04457877206125359,0.07948138240363742,-0.06443233704356285,-0.06274317106536235,0.06031428757719425,0.03400951367962269,0.045125410569357746,-0.08420788483039801,0.06016784267560328,-0.0475085691052748,0.029705833532850102,-0.016077069602297045,0.0385652259204458,0.026303674617039852,-0.033789735834314376,0.012286327693903825,-0.052156181571385074,0.05386563632553206,0.028272311037790633,-0.03473653378944306,-0.012770820382177443,0.08475224603978279,-0.04537885194976091,-0.04004471533250475,0.02625885017652853,-0.04625589591631616,0.07220192209695744,0.07095968367036097,0.011578732869514422,0.006973849180927557,0.05012866895071761,0.07884535948125367,-0.0782624585494284,-0.04769449215594575,0.022532100520053774,0.06733652102945845,-0.05766413053792918,-0.0435858929616707,-0.03264700786076204,-0.030138421866714223,0.06605293847535768,-0.08481664755554777,-0.07440668534344344,-0.029347198928452455,0.010790717871580435,-0.021810653395134133,-0.060690986886754325,-0.05977133318203592,0.009257549564875246,0.08345629063708616,-0.029842951347475274,0.011400401059032417,0.08338199743783219,0.025272564015845433,0.0293848940437115,0.0575877379763447,-0.044416394112847174,-0.07866321980973243,0.011989075911445268,0.03125404940303825,0.04844379063631599,-0.010587421831748718,0.06318505078595964,-0.08370216924091968,-0.013481115667330276,-0.08614925391744628,-0.025059353280408824,-0.06802444862596216,-0.005998925957042999,0.03529045066550074,0.04230299031462176,0.022439281388699946,0.009516783267113022,0.028002714424405946,0.0570578398546027,0.08098711801599502,-0.05500002889075646,-0.012504485252559226,0.027275615655724374,0.006781350420826905,-0.0032659085273094553,0.024355982557778946,0.005539320599469229,0.06950094919663091,-0.06962360994453065,0.020879674323495034,-0.07061616606729106,-0.08477351041614965,-0.08425425233296989,-0.03511603028557954,0.0016793803211429112,-0.05355416158733629,-0.05510547330438258,-0.043708124959397736,0.0495607577626014,0.04882938001767428,0.04834227985665881,-0.05176482189234618,-0.018822342863743326,0.08427648790082931,0.0287127647905111,-0.023714441746580897,0.03264691228241968,0.050024489255057765,0.042841734885754504,0.025135839567086368,-0.04723905034912093,-0.07192173264023287,-0.01795352335112243,0.023989076600189,-0.02919746064794287,-0.01580594611610539,0.07286348740860525,-0.05802588821261269,0.030300496826514502,-0.0187436941521225,0.025364458957323595,-0.07006244303549747,-0.05473895828496271,0.05998846636620474,0.02016692622940392,0.07403699500671639,0.04954384746346752,-0.04437219426885687,0.07164424354954553,-0.08180271408991194,-0.019871739342000146,0.0737144255462484,-0.05795619939633813,0.06324840036669145,-0.0678602589832761,-0.07799023277427128,0.020069178210465874,0.04905300415187382,-0.04392595801816659,-0.04674900780384632,0.030958395257360244,-0.008908530135113637,-0.06118480684857097,0.03679221857589546,-0.03686573591827184,0.06725467388871206,0.04995026608420245,0.05525592025367794,0.08364935841541643,0.025468874329171904,0.03738992270761917,0.07130135998852305,-0.0752468537978296,-0.02138498654221899,0.038875670466751416,0.005803506761502502,-0.01659467531098045,0.07448388614461,-0.061802077944971306,-0.0658147841904571,0.08366367822873108,0.022385184780610853,0.04541082624422794,-0.04536881403391661,0.057707804116760075,0.04988127923397013,0.05254997494130271,0.01591017704785272,-0.01758199326990099,0.047702094875947364,-0.08229520616884219,0.07950164017471606,-0.015041210457157566,-0.018832859239219246,0.07039385743292172,-0.008015730503855597,-0.06797229861091185,0.037019638512471136,-0.07573179429236668,-0.01409353049612404,-0.018004357685136002,0.06728221817615905,-0.018389203953237652,-0.04217598332182055,0.08528393181734176,0.007765209266872033,-0.014730499564555364,-0.015928223001752718,0.00867649160427327,0.03633411037048937,0.054626754264247186,-0.03813557464472486,-0.05374168051551026,0.07624141380765835,0.035375052145820866,-0.07530061610166942,0.03361745377494609,0.013306725185535592,-0.028142465263004346,-0.01811143981092832,0.00018696916098723246,0.07035919734504191,0.04588986541239963,-0.05464743632264507,0.020274577052270423,-0.06642642565392046,-0.0760295708766789,-0.05032859532168403,-0.06796051150783679,0.033165946383589405,0.025127740898951215,-0.05101716895989438,0.012873648848242393,-0.08288442042044497,-0.021265132600145766,0.02514267670962206,0.07339772237331327,0.03788154861642274,-0.06304040711993336,0.006691113974258505,0.07699610174789329,-0.06321758173802527,0.0691053575284351,-0.07096051999811756,-0.02131033085630405,0.029103673712857738,0.08435113269466803,-0.042817075824409134,-0.07433833271443771,-0.0007370791967593696,0.01766344131478325,0.07244348615445778,0.019941078614869785,0.028083655381370413,-0.01303151286673588,-0.03155961257011642,-0.038649875519192196,-0.03685988142187741,0.03570717145740616]},{"id":"chunk-7db5cddc-20","content":"Read the docs to learn more about building applications with PydanticAI. Read the API Reference to understand PydanticAI's interface. Version Notice This documentation is ahead of the last release by 2 commits. You may see documentation for features not yet supported in the latest release v0.0.27 2025-02-26. Introduction Agent Framework / shim to use Pydantic with LLMs PydanticAI is a Python agent framework designed to make it less painful to build production grade applications with Generative AI. PydanticAI is a Python Agent Framework designed to make it less painful to build production grade applications with Generative AI. FastAPI revolutionized web development by offering an innovative and ergonomic design, built on the foundation of Pydantic. Similarly, virtually every agent framework and LLM library in Python uses Pydantic, yet when we began to use LLMs in Pydantic Logfire, we couldn't find anything that gave us the same feeling.","metadata":{"url":"https://ai.pydantic.dev","title":"PydanticAI","chunkIndex":20,"totalChunks":208},"embedding":[0.06995917869292044,0.024774931989859313,-0.07169014416869474,0.08543319496963964,0.00347286376150647,0.058839626831607206,0.01876919356942903,0.0368815064957099,-0.04559524245028396,-0.08128207613772478,-0.07252826319325523,0.012683412329713836,-0.03936380209844382,0.07842915703149185,-0.06237891960330028,-0.08145579009216482,-0.002537495623435369,0.03026329333575164,-0.06693213647826989,0.03584761962620388,0.052959131001679906,-0.0036659529033122927,-0.019058198496617853,-0.027634800008352046,0.08109930177529637,0.052656332566984654,0.02560527730655097,0.046402236349522084,-0.06743536196271425,-0.03664701682196451,-0.07570725577375154,0.07763542039079743,-0.0016116409846141527,0.06717359157545408,-0.08072397378892415,-0.0631151854606996,0.042688773266976884,-0.05283936349477952,0.005208964671997803,-0.05375236933750427,0.011520102239989258,-0.008403106906395612,-0.03519698289836431,-0.03845468327972363,0.07259158749106588,-0.08039952538406818,0.04390905664178127,0.06540052102017399,0.07379623961107286,0.06193831888195065,0.018234007608572626,0.06186288763174061,-0.0224098216618206,0.03603551825067729,0.06927499300569366,0.08073540481063735,0.08083284340364186,0.035174329484515286,0.08333560982140145,-0.03012220720874145,0.02359716006989315,-0.016275872669863446,0.08375353074787349,-0.0687396847350995,-0.07613095335283734,0.04306176292384558,-0.059200723823016596,-0.04652281193657235,0.04134217867959885,0.0785207636771475,0.04424029836968229,-0.03879379656313866,-0.0443873269775957,0.0586922180958621,-0.005282299704451333,0.08575587911961086,0.04312652887621882,0.0613652845449741,0.0384834302265663,0.0042026389554962375,0.02836165502932166,-0.014049674220881513,-0.08271705211572784,0.008285932404239716,-0.046729979624254986,0.02207273060429551,-0.06473189005392972,-0.01008739196096818,-0.020073333373669386,0.06467001588702426,0.008037093136507538,0.03181543188859948,-0.03605132445959729,0.0562903151939253,-0.025663755981091368,0.02094158971798686,-0.013180775438591719,0.0734673914512986,0.008002667523476645,0.0231244950964029,0.06812714786735859,-0.053824051930126196,-0.03226709029730691,0.01255191068110434,-0.0014099276777019933,0.07687064687483443,0.0500497019591656,-0.022873074847821126,-0.05843635918548914,-0.06054688589951084,-0.008210074456986856,0.024905818695589783,-0.01974311206728735,-0.050666124235249695,0.07515296763686899,0.05822455953011486,0.018681904655967287,0.042855727098962966,0.07737889523768972,0.0041928021225892155,-0.04907555586346619,0.011158029298946113,-0.05644813453174612,-0.05989699877119369,-0.07233546103370526,0.035034085804836086,0.057557826768522384,-0.06595534508187177,0.0784253741529506,0.07001960502441187,-0.07250272542420515,-0.0034643546358576237,-0.027292189648949916,-0.048763226139724294,-0.006143999281473948,-0.02292913379320473,0.00973122352435807,0.03979039378373204,0.0661832512147458,-0.07652316294015776,-0.01450739359078551,0.02532914227364134,0.07890033534403094,0.007616987686102484,-0.07293877041130407,-0.006635182417474817,-0.05863522063293369,0.0432576387035209,0.08549711530223444,-0.041868393246323264,0.006360318110850936,0.010006860060072871,-0.05868545754528807,0.029627114443960236,-0.046870610089754454,0.005860327287124134,0.06955467960990278,0.01754261543595972,-0.045092617813133305,-0.005309008025449269,-0.05739504891800136,0.07889651044931727,-0.0034395647375040778,0.011092883639825224,0.07610835123439509,-0.07889430352484943,-0.0253462302598291,0.07983236237398195,0.07969116100395927,-0.0745943006639202,-0.08179324565639101,0.0750350934094755,0.0401051001977444,-0.04594016925747893,-0.06612464011782594,-0.017831290758347468,0.0593652488105178,-0.06755491112162902,0.001964503282757875,0.06585278040850744,0.02982090164932385,0.010498809776582277,-0.04418139912113354,-0.04881401407422219,-0.023147734270585203,0.05819554707559743,-0.07235157353475505,0.029733631247724424,0.0071143589237588475,0.013894214207852293,0.009858127384796803,0.058527726366024234,-0.06984422174838376,-0.03436606091254111,-0.0451399118948137,0.038912063653388056,-0.06931460944975822,-0.03204375186095928,-0.011257770836517685,0.06042120301293947,-0.036067534904033256,-0.05388360540537401,0.037190271584061234,-0.055143286457270374,0.06527927312042854,-0.01488353891225882,-0.07850541553711993,-0.06005170392347232,0.08341264640143738,-0.03199299518040356,-0.04536927970554666,0.06904958172662966,-0.03830002872881275,0.005400050612250099,0.02580311407726393,-0.079325120539165,0.008446576803256929,0.009942349759616491,-0.05310916839984535,-0.05226526558145011,0.07601340615587991,0.01656674150600043,0.03279226324637392,-0.05443518619769893,0.0153512427957048,-0.033358096711072587,-0.0050189896030988475,-0.059041710066689894,-0.03601963994213287,-0.006280929428011786,0.061915151574047325,0.08514545999777155,-0.031665137546415326,0.01732020640676285,0.006307645850913833,0.05473768413301687,0.040343604283836994,-0.07955622253414847,0.07028268259290048,0.07290975064354543,-0.08286497385826191,-0.0741722038403371,-0.08231317355408564,0.007965043639700261,0.00783404183559777,-0.0846942772641109,-0.013952854159642564,0.08280656758368067,0.03490827031251721,-0.07535296912529689,0.021573880468083166,-0.030827404125817495,-0.017656482818367576,-0.016279172007523508,0.05096711506901869,0.07058997406277283,0.08545469019128378,-0.06606904950367348,0.04497876296403699,-0.005375273351631447,-0.018971419377672494,0.05617893870029244,-0.04086187370750774,0.06671945826732785,0.031237109328914325,0.039392797954664785,-0.08579469076027874,-0.04690820109208949,-0.04247936442262347,0.07900709292020675,0.018341101291334216,0.07442974133109075,-0.05020170327626007,-0.0017905179371865533,-0.0449793303209099,-0.002719287336593634,-0.011900329309314488,0.013204222551323256,-0.0639370344964817,0.028106919278469557,0.06183676141086873,-0.011459305418738169,0.010342250263918997,-0.051274872376643375,0.08040959251506556,0.07446083891833927,0.07613025498596576,0.01274488497344517,0.02868913787047693,-0.06693800564402005,-0.017359409523467838,0.06527518530159705,0.01676454062531186,0.06066325813355472,-0.05083123778477775,-0.06747891341029777,-0.045218474301772164,-0.02765182537737155,-0.08618047687915006,0.07489055463134059,-0.07150724500624316,0.05964547737818339,-0.014817857164279262,-0.04155241360098171,-0.04473351690571243,0.08362480927966208,-0.03668002787437421,-0.0044066718390017605,-0.06630553993196155,0.009019920202796463,-0.008916294885086457,0.08043561249767561,0.01998952027240066,0.0013656287347227844,0.033076935787389045,0.016007986566956633,-0.0629341826670635,0.06545244929034548,-0.05772112160579693,-0.06549054543988712,0.0715350060244362,0.011110054538442802,-0.0232730207595073,-0.025300079340778957,-0.014825937099464061,-0.008758038096812117,-0.049900740607320665,0.020316285759272412,0.08296248067264497,0.06772331163151346,-0.061804521241550905,0.0667094392591918,0.026491217574413837,0.007429434781337404,0.03566976810461016,0.06601313426505556,0.003614361682104272,0.039203343877727385,0.04638952377506704,0.008666642306001856,0.010189760551256786,-0.06216353453181698,0.05517376989806396,0.07238747368600457,0.0028602260353841075,0.04176726681906319,0.028280881725221616,-0.009237841298992577,-0.07158693957692436,0.08308703646359346,-0.0477503242912552,0.08057217042778379,-0.03549144073314678,-0.06654660901448647,-0.08143954223923706,-0.025282317927106123,0.021699812933690735,0.07723410709664144,0.04647732967163689,-0.0527639297959515,-0.07161986708904117,0.016711485903226325,0.014239319627867973,0.0653559634424114,0.051514776249255205,0.020600860662919808,-0.039029103091379,0.06282192969261076,-0.026734505409135318,-0.0776121667033364,0.06477634937589842,-0.04788973628724478,-0.0680757519788206,0.07649905119797402,0.012302891183204556,-0.010494381683265844,0.0014030460432279256,-0.025851858410324426,-0.01863230773900374,-0.08618569487166322,-0.011885604656850178,0.023538152393445498,-0.03406834748940866,0.031619989445630485]},{"id":"chunk-7db5cddc-21","content":"We built PydanticAI with one simple aim: to bring that FastAPI feeling to GenAI app development. Why use PydanticAI Built by the Pydantic Team: Built by the team behind Pydantic (the validation layer of the OpenAI SDK, the Anthropic SDK, LangChain, LlamaIndex, AutoGPT, Transformers, CrewAI, Instructor and many more). Model-agnostic: Supports OpenAI, Anthropic, Gemini, Deepseek, Ollama, Groq, Cohere, and Mistral, and there is a simple interface to implement support for other models. Pydantic Logfire Integration: Seamlessly integrates with Pydantic Logfire for real-time debugging, performance monitoring, and behavior tracking of your LLM-powered applications. Type-safe: Designed to make type checking as powerful and informative as possible for you. Python-centric Design: Leverages Python's familiar control flow and agent composition to build your AI-driven projects, making it easy to apply standard Python best practices you'd use in any other (non-AI) project.","metadata":{"url":"https://ai.pydantic.dev","title":"PydanticAI","chunkIndex":21,"totalChunks":208},"embedding":[0.0766111567968011,0.029343484537290486,-0.0017787454835805998,-0.047571232236973605,-0.0627738560290386,-0.05642486579364401,0.01942906521990928,-0.06891286140829184,-0.03818346123304306,0.07519272480092647,-0.010639336568540072,0.07315342217277816,0.06650217006423123,0.0036413727754848963,-0.07204468966749558,0.016860752416934723,0.04142215310893636,0.038678876762503124,0.08369080414440652,-0.07582258232965616,-0.03993939367209846,-0.010683431273505633,0.03774977709362433,-0.06465643814741256,-0.058610430518614656,0.0015465987955501968,0.040399567161046444,0.005696745352631787,-0.049697733628221295,-0.08603083181497384,-0.01814848723794158,0.07233104689224402,-0.07086982626323776,-0.024973321239199042,-0.055915416486175804,-0.004744509737904351,-0.042730311154982666,0.08054880729855231,0.05953710984849949,0.06774754259687424,-0.05617225807814216,-0.012599766973436817,-0.010987508579129203,-0.01676846127363354,-0.03256828149469241,0.0451223407480605,-0.0459041178816814,-0.06496395807760376,0.02861492405469802,0.018436705116640615,0.004587876669662538,0.027491895124428397,-0.05301799063847195,0.042288704272853375,0.01774875519444852,-0.08577315599237462,-0.06018021705463239,-0.031692677920682574,0.06382502628054038,-0.05521311070137383,0.05191632158276372,0.0773311552789114,0.06020524448633747,0.056141329637304074,-0.004228825316991842,0.03153313579243506,0.07982015573188664,0.029852034584963324,-0.028541963987460502,0.06599163748209148,0.027819320546795687,-0.017149592344210984,-0.05745717765659312,0.07227934749079187,0.08028316595051269,-0.07305111227856971,-0.002639348911523519,0.0854933911450583,-0.06431087158097654,-0.06691633250009672,0.00973543632837672,0.08077215332340486,-0.030498241738609048,0.042806574575006945,0.07557767139475147,-0.055190693474301715,-0.08619894918613208,-0.032419920780494785,-0.00643141014170326,0.011660510699447601,-0.06430586944103883,-0.005318934349548052,-0.03672221237923038,-0.008381985309695228,0.0365964453145821,-0.041042858818749285,-0.0647803484278243,0.019021079288885127,0.025664446110352287,0.02688045367811458,0.0853605560603011,-0.04444131408226826,-0.0064024708567425115,0.0141972549571789,0.048523652356935836,-0.08222701988659753,-0.004957690067025443,0.010126414924400928,-0.06353889757530203,0.018239232029196608,-0.01560329489050475,0.00348114946592268,-0.019415822450119215,0.056156061955478745,-0.002366531310951089,0.05698002999857958,0.05718165320492178,0.0516280639304499,0.00764619855297012,-0.05179974981541299,0.08557218412886858,-0.07989135223179522,-0.003994495376650591,0.020670660488456758,-0.07283690502820116,-0.056063180214338766,0.0667412160924793,0.04004847333869548,0.071837062295985,0.07868301060483926,-0.06338768209760569,0.012197334175336185,-0.013190595692212164,-0.0758976205653831,-0.06654823262428335,-0.04664529889949369,-0.08261264861632815,0.045064862413664364,-0.05054265599416469,0.06818456969588434,-0.0825502376036064,-0.0020642138298766584,0.014132543594685952,0.0746165282888682,-0.006237545605609506,-0.03427613375365318,0.054460127507047,0.04372744812830508,0.02956910707146301,0.08461789654599298,0.06999761301620602,-0.038349578511679284,-0.05137701734785427,-0.060076907944555814,-0.08023242721689657,0.03368893887841539,-0.021664866628219363,-0.022550266246478354,-0.053879206363230354,0.046124986466927066,-0.057310432358000214,0.026984439013314047,-0.054423638042944554,-0.029043837066554657,0.020126173944753342,-0.012137772145098912,-0.055679025729890946,0.08524315071343529,0.06253163740158862,0.02390386907226235,0.0077878457564865755,0.052391222426201894,-0.0766385056313733,0.04105460037054162,0.06354880457014687,-0.045944346317657585,-0.0486804999204314,-0.05002331943831839,-0.06220050396684109,-0.02175321311015864,0.06727234117647309,0.01569276354116063,-0.07789252077090267,0.007593634039119565,0.05707005279267731,-0.028313787082249922,-0.01565384702195574,0.06607095496218338,0.018223550260237257,-0.0010381191483104229,0.06591618350856351,0.024609232192727485,-0.006455272434190098,0.06741583736454276,-0.050765941653204374,0.08606966516735724,0.026089275710519638,-0.040377073569564444,0.054373459279485926,-0.04698129038753373,-0.025718392456932884,0.007671493036329762,0.041934156615650385,-0.05917318482470885,-0.06221835581527809,0.0009514496599392797,0.07576016378643834,0.0025086466311203246,-0.027724897736497882,-0.06497714637042505,-0.05492883536535772,-0.04580276461608779,0.07879554433099024,-0.015651974932253863,-0.03340451608120787,0.07263993744537121,-0.033988897018322126,0.0017080096008390134,-0.04421660315818082,-0.024835278897574635,0.06364061482915152,0.08413886524452638,-0.06083404522496345,0.06415901419984735,0.07182760408001065,0.08550238554537411,-0.03917271412344954,-0.05297046816150888,-0.00015988693022232414,-0.06696449848627982,-0.06233369638943781,0.009951326308191346,-0.005737320056637343,0.05526231351444065,0.01990600595157002,-0.051856316106129334,-0.06088989155191707,0.045946876673706186,-0.013013853759286084,0.0409893465497349,-0.009965758011194288,0.06787069789825528,0.03922010219703955,-0.06078415051100429,-0.02200513037808811,-0.02058128999123691,-0.06401668345501825,0.07666178148124178,0.03624162476661264,-0.023705288429118183,0.06234320099537687,0.05003882966328028,-0.05942586561188211,-0.0746222992326935,-0.009746192653369148,-0.027312751991048122,-0.015940112208196983,0.006462129768307888,-0.055579401221941147,-0.07904047827022587,0.018105466475005133,-0.041939685198907235,-0.035265003564534575,0.08497978488752568,-0.017428768078533607,-0.0237568846793601,-0.07201928387645742,0.03350655583567936,-0.06483913522459182,-0.0810714154337027,0.07176835816306253,0.05617524893639808,0.08159148379462391,0.04738841492292087,0.04815112143230783,-0.08496578838481403,-0.07016468215230699,-0.03808428182156672,0.08080937607495592,-0.021766481474383256,0.03762241624971941,0.027570962239887038,0.01984990366461378,0.0014403105734248436,0.006564712313360151,0.08269508850706482,0.0430571039646829,-0.002362604468648701,-0.0009562448105327104,0.0702040746002835,-0.03085661302837497,-0.07346334390199451,0.059453461888236414,-0.04405838746936143,-0.08542472927304565,-0.05191490140049876,-0.07658882891816807,-0.04988325826772626,0.07196084525796029,-0.03155186599646031,-0.040951807952473586,-0.0736935671097204,-0.05764850459235472,-0.0650046478589687,0.07054487025413066,0.08022174284343957,-0.07564066593508616,-0.05213090362842126,0.05687256517378924,-0.03407840538673114,0.06720688518212423,0.05390844773624319,0.006591438254016109,0.04307422290989301,-0.08410767636952128,-0.013036345822065304,-0.052006245189906375,-0.03732482649115331,-0.02756304642347228,-0.03730799447850124,0.005331083386994379,0.06363207169939486,0.06785930427653342,-0.06620300383991196,-0.05698163953823666,0.01975520810642039,0.05689842080691305,-0.030240133704199285,0.06913330344085764,-0.005316343326959465,0.06226072004216684,-0.038749644833972856,0.04699166714234076,-0.060193960629547454,-0.03545104638458067,-0.0014827163207230553,0.0014624241981390142,-0.0570196049856882,-0.013192528413540494,0.04865927959447792,-0.08099264622789157,0.00036510578497128096,0.009851311595374298,-0.0580862358282884,0.012040667566839818,-0.07507570365591852,-0.03869202530050017,-0.06530199214605284,-0.05824603970870842,0.020878032767884757,0.013794932532643233,-0.08171145005048898,-0.05496939406091984,0.047608555091665776,0.0022257012236888665,-0.051929268525155295,-0.05452869980646784,-0.05011840255567855,0.016676149999189076,0.08128563572188298,-0.06520573655720094,0.01706084570310867,0.05744503068775402,-0.01069864045301592,0.055982480502443366,0.014833689606597438,-0.02726659114400099,-0.021111001874260165,-0.00047829812636895463,0.030071554530873422,-0.06538019046397003,-0.051879346484908134,-0.0014595301031720745,-0.03301421312277848,-0.07916500546115882,0.008218780966466898,-0.041136020408903295,-0.06202550285354098,-0.08228617047610516,-0.0619940229123332,0.02897696260299885,-0.05934081161270871,-0.056688302857636874,0.013537265880456192]},{"id":"chunk-7db5cddc-22","content":"Structured Responses: Harnesses the power of Pydantic to validate and structure model outputs, ensuring responses are consistent across runs. Dependency Injection System: Offers an optional dependency injection system to provide data and services to your agent's system prompts, tools and result validators. This is useful for testing and eval-driven iterative development. Streamed Responses: Provides the ability to stream LLM outputs continuously, with immediate validation, ensuring rapid and accurate results. Graph Support: Pydantic Graph provides a powerful way to define graphs using typing hints, this is useful in complex applications where standard control flow can degrade to spaghetti code. In Beta PydanticAI is in early beta, the API is still subject to change and there's a lot more to do. Feedback is very welcome! Hello World Example Here's a minimal example of PydanticAI: hello_world.pyfrom pydantic_ai import Agent agent = Agent( # (1)!","metadata":{"url":"https://ai.pydantic.dev","title":"PydanticAI","chunkIndex":22,"totalChunks":208},"embedding":[-0.009553868619240107,0.05798520954967318,0.06697626879876299,0.0034799164591508636,0.058421086645615024,-0.07034832042097323,-0.05080022186124155,0.06968504354070171,0.06653299993609074,-0.08269437322156793,-0.030807616839943788,0.03964405498469702,-0.05157969042208596,0.06965621340856837,0.02920007459816432,-0.04466244402081827,0.0831728025397266,0.006671182340023357,0.039703948382297814,-0.016580940712272313,-0.05086220252648599,-0.04576896913923724,0.006307982582002487,0.06423403132136457,0.018700779745940838,-0.017281494810800074,0.0023188535901829755,-0.003414398657990245,0.07810017030870645,0.07508675752104033,0.037788371082768744,0.011712017565463572,-0.06848169142877733,-0.05669738578950699,0.05626812561335317,-0.055240305625505595,-0.03200445284760034,0.021226040389762103,-0.01582710548214947,-0.07221885920318775,-0.062339979644063376,0.08291488753182076,-0.04097179177049581,-0.005114654367012742,0.046375582234540066,0.04058465939884318,0.06413504986586134,-0.027552904646746163,0.058537924165648056,-0.07256699491195676,-0.035339111274573724,-0.008100037636925777,-0.010731194255498554,-0.024213757660407238,-0.040127007532814486,-0.04003305405798139,0.037680018608071644,0.07761243925848701,-0.03776826059579685,0.05688421418143376,0.0801393155848782,0.05547379442914241,0.04797505945643049,0.06294954085645853,0.031943536697165424,0.07458575553703521,0.021888816403332317,-0.033293900694047286,0.023116177481607592,-0.03950815901038656,-0.07061844766330624,-0.040320207290762626,-0.07670760578554314,0.06880535142574958,0.021055243577646578,-0.050582210548535726,0.017020174158539625,0.0817287905294333,-0.059383384767755655,0.03311817083250758,0.009238602334479864,-0.02085130450381923,0.06350063621268068,0.04445449228464999,0.004521064933619707,-0.0809034037264576,0.07717426116223478,0.006078831641920275,-0.041699280101943105,0.0844221920473896,0.060501747993172775,0.04920929531639849,0.03342928814989363,0.0011310973093236658,-0.08250555128026404,0.08291288019152473,-0.06762833198430956,0.04367278689111703,-0.03226168546383,-0.0694646937570045,0.00785530791252176,0.0628352154783712,-0.05129956504673137,0.04163191254607851,-0.07515701777908321,-0.058574242053204585,0.07361337354000146,-0.02937415352011508,0.054177011203684386,-0.06582575611062619,0.013533428712122474,-0.024728701613773944,0.023611170100613935,-0.002175329809244142,0.053532433316115874,0.02141353135303306,0.004071010774280359,0.0622649475631368,-0.0205735999462482,0.044063005398291846,-0.08385234038230441,0.004319861475842444,-0.052003892914625975,-0.02571363648277823,-0.0069394538583062776,0.049599795594416934,-0.045317497780345904,-0.012210548802297811,0.05852387930186876,-0.07158412578339568,0.08288141433858104,-0.06639669434947842,0.06214066943675783,0.02475934481617056,0.06550103214078007,0.06891125507838629,-0.020889974122378786,-0.0284832215874653,-0.028518361096672558,0.005685705251840905,0.07479929802935632,-0.04186408855154803,-0.008651603167468082,-0.05726656682476788,0.0209649942876356,0.02543565356300146,-0.003403555611352151,-0.08189612360873873,-0.041718179417693846,-0.0028998004178860727,-0.06227578438714306,0.04369943984562642,0.022113606970612393,0.05197140498685196,-0.0149755018629769,0.08470939650101789,0.01076207213471654,-0.08013508546811168,0.03905402700083393,0.021248728703408493,-0.013297966897772314,0.05264586050760864,0.07369982997672336,-0.05113453672101586,-0.02979883069458809,0.05950307644032047,-0.08365842196561808,-0.0620412194928787,0.08131619789201275,0.0542030249560402,-0.0036406273066598304,-0.06506651359012677,-0.06123988436250276,-0.05657017840004232,-0.030187714613529645,-0.061946537196357856,0.014411244889108814,0.03677463551476853,-0.08133416638003188,0.03644490655441512,0.06133345022458119,-0.0008819287030656271,-0.049246403579017585,-0.06699335308990022,-0.08400270668354595,0.065901723458332,0.029098631830192925,-0.012120662307367126,0.069231887856637,-0.0343083246895491,-0.05589175118147761,0.03452884690021507,0.011621124858334128,0.045296720614065304,-0.028869372392852147,-0.05997321625366054,-0.057847793752872675,-0.07240972402328139,-0.06000870177379996,-0.05011599549174667,-0.024850620077119495,0.06157020405893946,0.06004588548921966,-0.0314442735316732,0.046989608254149245,0.036969648785698826,-0.045036163646647885,-0.003288175929149449,0.010978420543134693,-0.08378551608533713,0.023271821651411558,-0.07622587575215432,-0.07389268813574716,-0.01545502393291877,0.017670829357681623,0.06313935366494874,-0.006063501974323047,-0.03357693445729413,0.07128505820515,0.01016409900617722,-0.01855066288123718,-0.04399422457407671,-0.030809477204661883,-0.04344119054784882,-0.06396349365445395,0.07455603613312166,0.019349418140439615,0.03782221008525451,-0.02521339464487816,0.03402638298030395,0.07922025987305638,0.057227465201355,-0.024914770695820973,0.05393695807144532,-0.030712906999015955,0.05950423875084469,-0.08413976807625863,0.07859981754923898,-0.004958019315889309,-0.002817659856142004,-0.009297785399014498,0.07994750199896182,0.051797592440361126,0.07496748180891254,0.07724975586644196,0.0784861613471615,-0.049021898726220904,0.042610360130650955,0.020829001805014208,0.012100048269452416,-0.04617687552649233,0.010936545082133963,0.04033004440081484,-0.07699154059476383,-0.06335813588452065,-0.06879556287953587,0.028897380787611268,0.0021777862433188383,0.017811589304601826,0.04009569087609273,0.06303783029873351,-0.00048198826245063477,0.04094131330494725,-0.02918698552205901,-0.04014210238623779,-0.04209590195832351,0.056593764103649066,0.0037456955003798273,-0.06143565906578302,0.018547709560257017,0.0016618645361444243,-0.016430859948133043,-0.07941868489107087,0.03911718738019404,-0.030108108876883404,-0.027917596081059898,0.07071922658087339,-0.048995333976947976,0.08037733041006333,0.001327709460452856,0.011499339974776406,-0.08039685867879973,0.0006128942218831677,0.043236034321518055,0.00451442050863241,0.008592049389825515,-0.016015584151576237,-0.05533669749901757,-0.03211715127954185,-0.03391793894905688,0.05613510289712855,0.08292392024951038,0.08376091453287325,-0.02525604497454003,0.06106748260813432,-0.01511986702408633,0.06026997339655783,-0.08116827133077896,0.0037637985545795794,-0.04044473310427166,0.04162388325241671,-0.07104534676643598,-0.003857274991153759,0.04325887226539459,-0.015008687834379947,0.04467417932533888,0.041971316396926105,-0.019308995694449486,-0.05360396459335419,0.04816571889529448,0.02038266488118189,0.012573928692241412,0.06433749734850633,-0.008423854381236776,0.06199528106128342,-0.05649239095048767,-0.06750198886776472,-0.0821146957868091,0.0387962405148237,0.06335777402478586,0.008872205133508516,-0.002549514961714864,-0.05407519274712632,0.038105526696765354,-0.04068394419316958,0.07035701481547577,-0.020943024540386462,0.0763100238922992,-0.009653988412188466,0.062481673329318484,0.07949226140056637,0.0628762076935476,-0.022562533472715283,0.05975224975349404,0.040391016312273306,-0.07098172874716382,0.07141358190069458,-0.078547542680832,-0.07232533166938536,0.08189123074092919,0.07297481036314817,0.08246576046906749,0.06218119759154588,0.007965884363406926,-0.04407589366451704,-0.07341144755775951,-0.04780813544272068,0.08029450750593277,-0.06155815895055894,-0.06620144553074565,0.06755998828713675,0.03063764397389106,-0.062019967285421966,0.06272975049899017,0.0398278954675218,-0.012646794547669628,-0.031146649265223203,-0.01577373361582137,0.02501121890777223,-0.07883596955771713,0.019796768431396394,0.01658886456289884,-0.056102442021212846,-0.017644220796738778,-0.0479478204433379,0.024329152575136768,0.08399748031851725,0.00808289610152543,-0.07041155290448578,0.013480496379340765,-0.07835042699888535,-0.07519877740773731,-0.04493057533446442,0.08086778231947482,0.0015478301120822632,0.08393465552693956,-0.07334870737242015,0.01548332567573017,0.07843143338942653,-0.06991000073785524,-0.010831857921920386,0.01851094878791785,0.054036531901515805,-0.04422746204766497]},{"id":"chunk-7db5cddc-23","content":"'google-gla:gemini-1.5-flash', system_prompt='Be concise, reply with one sentence.', # (2)! ) result = agent.run_sync('Where does \"hello world\" come from?') # (3)! print(result.data) \"\"\" The first known use of \"hello, world\" was in a 1974 textbook about the C programming language. \"\"\" We configure the agent to use Gemini 1.5's Flash model, but you can also set the model when running the agent. Register a static system prompt using a keyword argument to the agent. Run the agent synchronously, conducting a conversation with the LLM. (This example is complete, it can be run \"as is\") The exchange should be very short: PydanticAI will send the system prompt and the user query to the LLM, the model will return a text response. Not very interesting yet, but we can easily add \"tools\", dynamic system prompts, and structured responses to build more powerful agents.","metadata":{"url":"https://ai.pydantic.dev","title":"PydanticAI","chunkIndex":23,"totalChunks":208},"embedding":[0.008100435002019991,0.01697550995684778,-0.06869564927695253,-0.0033182801258794564,-0.06294265000152945,0.08870601320470885,-0.07023066308176072,0.013265080173217309,0.059984336390440054,-0.03235539929901852,0.0729848527730044,-0.01494963013677367,0.0189969148107413,0.044810699705040244,0.07383296584821247,-0.06038516254182135,-0.07671720751437389,-0.027644462884839235,-0.01858667564248173,-0.04473862465723044,-0.0008642373775124965,-0.08811926131630181,-0.05806810618065612,-0.023179330210839604,0.000951726811121287,-0.007494516176810253,0.002511944552728117,-0.026248698840878857,0.06887386632969653,-0.03972817085432257,-0.014132291806916993,-0.037360403814532574,0.05799176567933597,-0.03692961720496018,0.004103946157481939,0.019698497454535155,0.03398949441202445,0.033815474029006164,-0.07672018787035446,0.029109212159843946,-0.08997804923075098,-0.04251978266978775,0.049856232642001674,-0.0727266749254642,0.02895602329567374,-0.013716986524091581,-0.06744180572736962,-0.06902815434427292,-0.08358017172110105,0.07958027794025853,0.003127772389946109,0.02674151009808609,0.050981924834663364,0.05453594680914772,0.03427034243450153,-0.009370283717343525,0.006179277481370911,0.05004644943489519,-0.030120392074876056,-0.020805511930821204,-0.07754450802114794,0.027815394801158543,0.01064891852807841,0.06432596982271065,0.03293593383322658,0.07871575270782866,0.0783667911357053,-0.08734888978141883,0.08799639683464161,0.052517092155144524,-0.0566883425640906,-0.06846124784462503,0.034495130087888626,0.02563704910828167,0.011850516719108464,-0.01800475588574713,0.013179045005087923,-0.028421488652550835,-0.051067743727666676,-0.0730943077838695,-0.08465848133727814,0.022606676963285267,-0.003991704293183874,0.037593528076208166,0.07395964533086365,-0.021402881216360768,-0.06567905669795437,0.07138866973889517,-0.08168157010042519,-0.03664499714107998,-0.06380743564038376,0.05604599644245063,0.05570904589054209,-0.005985018797730593,0.0006980745320598564,0.063997049370947,0.005960467448517465,-0.07339543498190165,-0.0192057267656301,-0.030132275159879023,-0.04957792642426108,0.04984112049122503,-0.05315900673186592,-0.040469209432022354,-0.0419473611968568,-0.04333363081385742,0.01876719370243398,-0.08553567625462191,0.04788746870615316,-0.016109562010124333,-0.019864478892617422,0.023300085388738453,-0.003929636814957674,-0.07432857622606648,0.08637589621846593,-0.03872763795603232,0.07157332195667516,0.06703624197061908,0.07798159210946864,0.03946476720499955,-0.01597763612922812,0.0027455846630160437,-0.06817355867896413,0.019327650866888833,0.08165631325165905,0.07564209127916477,0.03455442582361237,-0.011249144780603645,0.0726288905230663,0.07442726336128086,0.020934747012504983,-0.06195474660639715,0.04575810699953961,-0.05430205051430028,-0.06734185816348241,0.0013630109806159602,-0.0066976114427344064,0.022374599595906857,-0.06888016552600651,-0.055996796595977824,-0.08336375009013282,-0.06271464420182521,-0.0891884629369804,-0.06984062524287812,0.042819285635567174,0.04732066954710021,-0.0016411116855778668,0.05198487755237879,0.025629993764389764,-0.054539486133231375,0.01582529560616865,0.055423484693084966,0.040064107678993474,-0.01979585833391296,0.0031643905654899183,-0.051368349066280385,-0.08389156012786081,-0.017546639310088832,0.06780748735978964,0.05390614228001819,-0.009842998807477285,0.08422909631774729,0.011237041920940617,-0.037063662109312986,-0.02782094275235163,0.04911652834161171,-0.056926821446530725,-0.06879246511543728,-0.004712597068619803,0.021550126259946924,0.043282372047865496,0.058668726067138084,0.07732823931047447,0.05801302198914141,-0.0490099082363201,0.08124752753921011,0.055282759948721505,-0.06935383030684601,-0.08764898027510434,-0.05943162745539583,-0.08817240384140712,-0.007614075123058665,-0.015702156493822752,0.02962689656834379,-0.04401640141493808,0.07736779821116868,0.004110527715786056,0.0603770773113361,-0.06965501017355331,0.04544127557787578,-0.06341979981266688,0.0652239286879922,-0.06045402693939943,-0.0004562252764194329,0.011883836031894633,-0.051344427060169555,0.005376225228852195,0.057711997917261774,-0.040561268617035746,0.05411290969916286,0.03909852596672053,0.049159927447703776,0.06760604991671684,0.018959732305837706,-0.036895652848105635,0.07715338980099977,0.0014071006034095258,-0.05705789600345635,-0.020869468821904418,-0.07823999124168982,-0.026992905574663485,0.022390056450080225,0.025513462472138555,0.051651580214414586,0.026395145231849913,0.06056813522055942,0.07799652914583832,-0.07609656436490375,-0.08998436558358551,-0.033120006838833795,-0.04651780502441963,-0.0846373398500916,0.046973538696435405,0.0474231485079236,-0.005911112584391801,-0.0867913056648178,-0.012674062735178815,-0.04187435568388186,-0.06583596957233506,-0.025001163673006383,0.0779401553773895,0.005437017766221707,-0.014644900184295106,0.04698841344441136,-0.0637675104552001,-0.010702225955424258,0.05839429386378851,-0.056945685407094056,0.017003740017489225,-0.037747866574199374,-0.06042788850744184,0.02508587029934055,0.02379411552292031,-0.020049456771712475,0.01200511035632671,-0.04802863042803018,0.08423711805589208,0.028594735740245916,-0.017987654411997473,0.045925008635683925,0.05702000958221454,-0.011418163678602829,0.006181798527247525,-0.024297890401728958,0.012013793560249288,-0.07254022810512267,-0.002326346330369239,-0.005474784873502461,-0.012066719637325996,-0.01112128434445482,0.06457386074606582,0.02951374932900448,0.08370145629099762,-0.03235983632915546,-0.07183157172981172,0.07819781271083562,-0.03589399019256889,-0.04826710631104647,0.06035085505286769,-0.024567279709883164,-0.05144217552771954,-0.08934765793868432,0.023960213796927723,-0.016167302580093964,-0.05027406518744237,-0.045556281623726644,0.03607956520953629,0.0545759809742221,-0.009447428954124166,-0.004357987693330108,0.015500485592832002,-0.03700573173500476,0.04124309292622574,-0.07992015521083896,0.019597130459275677,0.05369095361145713,0.00848709587332437,-0.08940532357262375,0.025913192847413922,0.06102226861208545,-0.06536737807118673,0.0735441249704364,0.03857724779355117,-0.009162088713645569,0.005339344655968852,-0.07247992307371125,0.05446107001461802,0.02178178694369456,0.05053287173426727,0.006604534024296266,-0.08140317024810981,0.04143594582754641,-0.06822642967176108,0.019240484377184234,0.02700475069063401,0.006980118526210669,-0.06753359761464024,-0.0878271694909948,-0.014341988210404085,0.05325905376522127,0.016714536049072675,0.008854774549332832,-0.06894639107500491,0.007001519602070615,0.057604469028320296,0.06818185205609481,0.03534735263601122,-0.08647104881049797,-0.018856156007919785,-0.08474369241954383,-0.0893071557445671,0.07064547981007917,-0.08871136718491342,0.07436546866501986,-0.011572088991919948,0.06515449631010178,-0.0867038373649453,0.008568011006411653,0.05952162541439595,-0.04784239771312099,0.0886285105170008,0.03066443114600716,0.09059393271054288,0.02089443670679357,-0.020377273242850377,-0.0368848547219761,-0.056760652931870964,-0.08763596365572017,0.03643479154265583,-0.049943210974168394,-0.05643842512867791,0.052084617794051824,0.079060911941226,0.0761115038133936,-0.023400604664465703,0.02090043215892625,0.042985676778335404,-0.03556784306223395,-0.044758717363737946,0.03266600293497237,0.0050349313766366545,-0.008143942593129588,-0.049229946240994374,0.01855879451876141,0.013649287214348505,0.030195094742167906,-0.02911431008216598,0.01728287613632761,-0.040099799506373934,0.06743764605886753,-0.04043062010307478,-0.06345554633827571,-0.010026304785343953,0.07720170865016215,-0.018615606066330916,-0.0838925754943942,0.05413370002572568,0.03425329453942296,-0.02645234779413788,0.07411277032207485,0.005921552509140055,0.051275668952699444,0.054615829018157,0.07317359683263054,0.07675413730258271,-0.019126573201278297,0.03450158656748076,0.020119410155312534,0.03578946902517534,0.050623543371744996,0.05061685217360929,-0.007489019588513283,-0.022251887392633576,0.06505107733204234]},{"id":"chunk-7db5cddc-24","content":"Tools & Dependency Injection Example Here is a concise example using PydanticAI to build a support agent for a bank: bank_support.pyfrom dataclasses import dataclass from pydantic import BaseModel, Field from pydantic_ai import Agent, RunContext from bank_database import DatabaseConn @dataclass class SupportDependencies: # (3)! customer_id: int db: DatabaseConn # (12)! class SupportResult(BaseModel): # (13)! support_advice: str = Field(description='Advice returned to the customer') block_card: bool = Field(description=\"Whether to block the customer's card\") risk: int = Field(description='Risk level of query', ge=0, le=10) support_agent = Agent( # (1)! 'openai:gpt-4o', # (2)! deps_type=SupportDependencies, result_type=SupportResult, # (9)! system_prompt=( # (4)! 'You are a support agent in our bank, give the ' 'customer support and judge the risk level of their query.' ), ) @support_agent.system_prompt # (5)!","metadata":{"url":"https://ai.pydantic.dev","title":"PydanticAI","chunkIndex":24,"totalChunks":208},"embedding":[-0.023096534647677615,-0.0043409384884854916,0.008917226934427362,-0.04195738808977641,-0.07465301930504023,-0.07600031257189714,-0.041518154121151514,0.03193056478982755,0.02425229382060463,-0.07587071608857601,0.08803778935690253,-0.003026615972439317,-0.01672702199980011,-0.012492103092015846,-0.04050850898690072,-0.055964761813210764,0.07323926711292132,0.08442524338076096,-0.01613022930611251,0.06945964780694713,0.06660912627862604,0.05892458076742156,-0.03751163042121933,0.007509732659529039,-0.02237451267948385,-0.01627895643274073,-0.01490120645141381,0.06641076582295588,-0.058321360420713605,-0.07010648432865567,0.05393017425638555,0.038206775028469316,0.08077556590548048,-0.007579960878664664,-0.003223652962592941,-0.07506078328900437,0.025526208440864954,-0.06149881283731934,0.03392363385209488,0.08337261535740906,-0.03173611990940122,-0.07744262809635084,0.029635421235474597,0.07532916333718431,-0.03969021280666446,0.07987559800276002,0.08044055626374995,0.032165605567018606,0.02833455913031498,-0.08247692927910874,0.029754774815249737,-0.004818109921824928,0.05087981548398277,-0.05755757617303816,0.05046927193672151,0.03158779736760765,-0.08559910775142526,0.03167133380629614,-0.04326736422476217,-0.07906298339105929,-0.005077573475851807,-0.022976486814214568,-0.000873472553455278,-0.05292775814682833,-0.018106018535049,0.030980325814020045,0.07801738972627371,-0.08197455578855405,-0.007471085691501199,-0.005992207582572124,0.0351989884772263,-0.051400622346793906,-0.04913050415090337,0.015327599075280468,0.013699705447233094,-0.04349118099803571,0.04920194496363538,-0.0677760325901467,-0.06965638132175671,-0.03454795166614191,-0.08426398395922968,-0.05364342434050436,0.01726359099126688,-0.08766973499439183,-0.06184949539816082,-0.03202070033371297,0.07454025591467332,-0.025332441800773667,-0.07757771387018589,-0.000243380601698952,-0.01857516789005027,-0.06196214600867578,0.00025000897715968517,-0.019586464665904583,-0.060799529506181685,0.03929914659599276,-0.0696414030071225,-0.08806551934549071,-0.026756604612649896,-0.06188044311852849,-0.062166085417141616,0.08410597284313963,0.0046563833770202675,-0.06991571364796124,-0.07073006846760353,0.07061821909774865,0.04211331994183683,-0.021242128587054016,-0.021063809986158775,0.0856113810869941,0.03846818400069166,-0.01100116798613107,-0.0034535559027640992,-0.005374352142804598,0.04298334708496544,-0.05696883233156705,-0.053136610037310676,0.017011288838041868,-0.06108138009782306,-0.0787742991665683,0.05958154588882641,0.004997714616664712,-0.04860569290715707,-0.003967633538127647,-0.07271393585015552,-0.08153799332611908,-0.011067288650388814,0.07527941829770185,0.06106394784094082,0.03582566518536891,0.0334037054325894,-0.03608958603324008,0.039225023489691514,-0.060112478694810026,0.07470525091320634,0.031456320803121884,0.011034946176988266,-0.07373734934281248,0.0369078459332451,-0.0067170407685129075,0.02608464518359938,0.014183319652104622,0.028533459476592336,0.06039748707511084,0.047636142375803756,-0.028628079779727915,-0.06397015174924381,-0.021544525260379935,0.051055588453583996,0.0024312706244195774,-0.07185442503132296,-0.01163180256710765,0.06632477850987384,0.054640838456715864,0.021376733129762463,0.03579195943517694,-0.019520760041690215,-0.016531053332938608,0.015375316713047354,0.05929330821577009,-0.0669031827706252,-0.0709290947075906,-0.003393408564326791,-0.0723411253991114,-0.06018257552502014,0.04372223599241054,0.06579496738776586,0.013235347887396868,0.050587305816231366,0.02470362951634266,-0.048954657070550876,0.051012111204785215,-0.008773090626517491,-0.05144838010594167,0.07439844897526231,0.03447300207918929,-0.04353467164515036,0.08495816755739109,0.01584356898694622,-0.03916479615045875,0.05370469699729662,-0.07769474626522144,-0.034084733265522776,0.03987960224451965,-0.0057715720077048255,0.07700779928886821,0.03475383265784443,0.035025030589201187,0.06120753321004387,0.05060174072079247,-0.06273674140759566,0.07290590280880643,0.004473766159187574,-0.05996565396236563,0.0030531966287537233,-0.023268685378030403,0.07592798027291528,-0.053388903875964275,0.027302464223752525,0.05046694779041735,-0.06480983353397628,-0.04139806314741724,-0.04057974974387603,-0.046671796803299075,-0.08715688956309055,-0.07770207141750891,0.00019059852462867323,-0.028737057498954072,0.048374118877386484,0.0581924516866633,-0.07433450270754721,0.013454140343833298,-0.07759091572366197,0.08148518989752304,0.08268834431604506,0.02559222794045702,-0.0868338444703864,0.05884918228028483,0.012009431185773892,0.0010526295074708132,0.027277061250974108,-0.0874527591401122,-0.009251709460438554,0.08163165761032398,-0.05564951309361536,-0.04098743552508867,0.07663795817879764,0.008365958999260448,0.021354871717055024,-0.07192708833851102,-0.01302866584582544,0.029006377428306616,-0.027107689603925494,-0.028123708493213995,0.01799706233345672,0.04336234251050194,-0.036040148020969116,0.05094190202141036,0.08236323665325718,-0.0551518025186503,0.016497106773095745,-0.053218818417645516,0.05663136992407373,0.024985169474413413,0.028409947378164838,-0.08174061572268218,0.059086492728197826,-0.011749737659484765,0.06601470850436661,-0.009455706259257898,-0.060082130647046324,0.04764707929955364,0.03665306599367988,0.05821088272885847,0.0670004038006882,-0.007079007167087028,0.0635052101934177,0.08214004210634698,0.03270719120572653,0.008336126549797223,0.011300215620780943,0.012024463278030726,0.014249770121530949,0.03204118569843959,0.07455770107285362,-0.03884731608657377,0.008458636417791513,0.04191885757792846,0.02935484515020918,0.026898466264021575,0.012442649659508935,0.08176079438220261,-0.05959617041062407,-0.07470173440707914,0.05690677993120618,0.03253635798947341,-0.04601926460254858,-0.08415337223930687,0.011098905991318568,0.07323079100321808,-0.07302218407814473,-0.027795798747982166,-0.01828781867904701,0.07069568107483502,0.07366380512039525,0.06351751281450639,-0.06722740702366778,-0.04879023287119644,0.07433012544147286,0.037650420316276675,-0.031950041980730814,-0.003280139605542318,0.041949004290356265,-0.04927568261388649,-0.017141061838168756,-0.024226886120619223,0.08661409325769263,0.053584579087814534,-0.0351691860183178,-0.05229156362929954,-0.06621925136013479,0.020129943760234078,-0.019475025265106825,0.008613013784530735,-0.06047288792484606,-0.016378931771396224,0.07225362856270139,-0.05768539927591976,-0.07862167776400167,0.06215622015380069,0.07794500583094374,0.020008535071411405,-0.05222919257544558,-0.06028081570820261,-0.05272841558280143,-0.08719366531975319,-0.062099793718289095,0.07284026270513236,0.06252669207672162,0.03580681029305908,-0.0008957534010507294,0.06332291348151321,-0.07373280711546122,-0.007818776359539384,0.06762759434185066,0.04803330160087054,0.04725820408128147,0.0020129154224246405,0.07952740803125752,-0.048512018056996724,0.009371537500223601,-0.0022885019463628514,0.06401576783542885,-0.03825413640211935,0.04731490790785671,-0.011846450784320294,0.020227188760518076,-0.026773450103010063,-0.057499188052997016,-0.07163326024275707,0.026757330369392932,0.054122046311856756,-0.021940991073716307,0.05053380924991094,0.05393458774914419,0.06585039923783755,-0.071071597363261,0.035842008955335423,0.05884506984457408,-0.027792686194678787,0.0002789924119505786,0.07725192516911408,-0.07860648257094313,0.04703396655020467,0.03130287072367481,0.01723732667796692,0.045750571905129114,0.04168942187544107,0.05523353276168248,0.03839263365375404,0.023541027941870636,0.02109079487292108,-0.001545178769177683,0.02900965369110125,-0.07376285828147253,0.06486328242123783,-0.049971956179357596,-0.01664125680028161,0.02943275928652729,-0.08462035546353361,-0.08193956146423284,-0.08287928947039935,0.04306202727958573,-0.027520871086814207,-0.06731320439895515,-0.020638569240216977,-0.01139502823546529,0.0429017270426874,-0.049214721924695524,-0.02808218767422792,0.0034602026028603535,0.05150590229992054,-0.014036808847996554,0.07831220401442496]},{"id":"chunk-7db5cddc-25","content":"async def add_customer_name(ctx: RunContext[SupportDependencies]) -> str: customer_name = await ctx.deps.db.customer_name(id=ctx.deps.customer_id) return f\"The customer's name is {customer_name!r}\" @support_agent.tool # (6)! async def customer_balance( ctx: RunContext[SupportDependencies], include_pending: bool ) -> float: \"\"\"Returns the customer's current account balance.\"\"\" # (7)! return await ctx.deps.db.customer_balance( id=ctx.deps.customer_id, include_pending=include_pending, ) ... # (11)! async def main(): deps = SupportDependencies(customer_id=123, db=DatabaseConn()) result = await support_agent.run('What is my balance?', deps=deps) # (8)! print(result.data) # (10)! \"\"\" support_advice='Hello John, your current account balance, including pending transactions, is $123.45.' block_card=False risk=1 \"\"\" result = await support_agent.run('I just lost my card!', deps=deps) print(result.data) \"\"\" support_advice=\"I'm sorry to hear that, John.","metadata":{"url":"https://ai.pydantic.dev","title":"PydanticAI","chunkIndex":25,"totalChunks":208},"embedding":[0.048797788611183085,0.05141405326594539,-0.035313309629821474,0.06718939105818302,-0.00012820970256800188,-0.02082290121422216,0.01979881714527893,0.03455560111718974,0.04360234085894931,0.0011111114188270595,0.05115203913319291,0.08638872512470418,0.03538828535088926,0.013185194260654126,0.051243732893618776,0.08061638612286988,-0.010776095185620884,-0.07609356577020317,-0.03245397178348341,0.03737595814317702,-0.051015903201831234,0.032747154161028566,-0.05770729966250183,-0.06116433756445203,0.05015530716356446,-0.016031419548440198,-0.08449671449038493,0.03844176773272269,0.07852364440492929,0.00823180085933947,0.08322960156888201,0.04998597714298374,0.0797369497465798,0.030211218534432146,0.03716187777711096,-0.08565712085832763,0.05380724562351038,-0.06330526112822546,-0.047084084578880525,0.016730544349788035,-0.06729899149686251,0.06818655046231197,-0.04626075959222867,-0.07875129174294024,-0.04026486803714167,0.08719646614626499,0.05947861007329893,0.08310085130623668,-0.004288808923248157,0.005949211779560527,0.04933030862157891,-0.07379769949949819,0.06922232300664857,0.03255709696047664,0.007885590541795273,-0.058568917346726417,-0.07041914192548879,-0.07858687820995175,-0.08632206536039361,0.0077097494131249346,0.005279979340155176,-0.012538663584690139,0.03040644071279351,0.08714552899819338,0.0035476841204435264,0.08021266319894542,0.06764420409114713,0.045965000631466676,0.059263479015217134,0.0856275800133541,-0.08567334299889215,0.06502337207249538,-0.050465797755138916,-0.015759018791112897,0.028298062032762673,-0.07172386088827007,0.040533261829052,-0.0003765063877447978,0.06422862523664022,-0.051634515527230605,0.04525993176107106,0.08615194997424067,-0.03948207055864121,0.06463955877602885,-0.03336907020630517,0.02578730268171595,0.001283493067778937,-0.03749107969981559,-0.023639495601190177,0.016277956790808106,-0.05247684932778386,0.0392696969634108,-0.0002253080516636098,-0.07534067018982918,-0.07461890735338987,0.08495793739534284,-0.021596985055487048,0.0671790069582065,-0.049474783394273504,-0.030998676333664633,-0.01842469318348713,-0.0526424236562894,0.07041418518075804,-0.04158087319029849,-0.02802833526049928,0.00254115519727742,0.07600668503094238,-0.05267931998978052,0.03294428659542029,-0.04906402926736783,0.08414288915567246,0.07824454828810885,-0.08035016932952259,0.0729425680954816,0.08651847535191323,0.025666352391162262,-0.02796757202850472,0.04167976532731038,0.08656367001470831,-0.018576808876812345,0.02011495366928148,-0.023072101936379902,-0.06716902845656213,0.036918842287261194,-0.08503785979087067,0.03527212229588669,0.02159258593538462,-0.011199141288886608,0.0185417849294128,-0.007399084739810671,0.06928658852356065,0.0024220332351197926,-0.07165512334291342,0.025062476436464486,-0.01366384784341464,-0.06955068503567156,0.002260158730386516,0.08334505462311598,0.005360023656747021,-0.009556580935882403,-0.04571234910740673,-0.07443885117370638,0.04636724702675599,-0.015020662595158019,0.0160480297404458,-0.07676627542595586,-0.00036564983980853923,-0.06724003485857775,0.05775056720116134,-0.0397737424153456,-0.07374344156287035,-0.021307061462540477,0.04657794792479114,0.0010540425607376439,-0.014639577849187417,0.025974072991867544,-0.01935620028908799,-0.04876675895321812,-0.0881938186530576,-0.07435660851163454,-0.03477787401355081,-0.005851573709478679,0.07494876515741399,0.03554284459568408,0.027901680100520944,-0.03050396711785136,-0.005101732023588071,-0.005631315782969357,0.008087482022693738,-0.03918181716932954,-0.03226505068286325,-0.025210644124871673,-0.08694537382384164,-0.038837444537827594,-0.028322278253714733,0.03831767844019843,-0.0011265588812901216,-0.05345422131268995,0.0032006319759153414,-0.07206104749833066,-0.006634048230297526,-0.053267778067221945,-0.05993290325129666,0.005761701365818648,0.0031962069769929176,-0.04180359778273458,-0.06741482960022688,-0.017948999856316074,0.03453864234071048,0.0347110158512477,0.06288352874717552,-0.06942581073834676,0.07759238086457021,0.02836197923320866,-0.06668734806491551,0.012091467886726841,0.053802279548693495,0.05646205095346955,-0.058569909427725726,0.05617144888505302,0.06165861501574124,0.07934742582184044,-0.06993515442342228,-0.053228322421956305,-0.07515822076680133,0.00860798098284779,-0.012800059323475204,-0.08308337756405089,0.0733596290804301,-0.015416028516149302,0.07211366293254554,-0.011605696639519351,-0.03686077256872518,0.03972656257498764,-0.015985306030270176,0.031413604278031214,0.004693173359684992,-0.07610390143975457,0.052512817754728984,0.06769286258198395,0.017877136666861863,-0.03292117617359581,0.001931979624455309,0.026202186815222357,-0.036706002394002964,0.03984424125386211,0.0872250170602858,-0.03603813756899243,-0.04537657933903762,-0.014662535437840596,-0.04692613613598617,-0.04698114273014919,0.03875788491341693,-0.06254768144093593,-0.08515699452161411,-0.048469748413324076,0.02307432926347709,0.021486566592478842,-0.08057092557124124,0.05514715059651109,0.06391752938563842,-0.05711260587738114,-0.05433436202531174,-0.017499141875669803,-0.01773265243841367,-0.06718190281902284,-0.02560200319884177,-0.08266353210312945,0.023165884683870396,0.07530840937361488,-0.0061099969275618385,-0.017934242568730954,-0.010693054889409342,0.029329985777645697,-0.014010558626094233,0.009916548464741347,-0.05120588124120078,-0.08096771031760581,0.07889864858211673,-0.009286960228365636,-0.058957813834462754,0.0498081121034706,-0.05086381565850029,0.08821275201133975,-0.00789459658199209,-0.08040168842132768,-0.0138148490787704,0.04286866021331352,0.07894446955968587,0.004395968480359354,-0.0787466505181991,0.051494100303450786,-0.0086883178278273,0.003764248832016702,-0.07838870370140762,0.06749598888211834,0.030587086438087756,-0.0060476445065719975,-0.08313939669111105,-0.004876764002388558,0.06237780487897056,-0.06909124456008754,0.060415833318140925,-0.061093023031075035,0.08616766729577346,0.015963768268473212,-0.008745030629170418,-0.027957746627436594,-0.08441269891185181,0.047469330752174924,0.05459260252876628,0.018855969205328345,0.07893150746309512,0.007791710004989725,-0.08765494046663429,0.057600548607282004,-0.03801442083269606,-0.06593930088519585,0.08794241781606346,0.04979227921519614,-0.042861558018660054,-0.04728987132051921,0.08424814279209,0.038030074013160976,0.07628004111993203,-0.022276175886206964,0.005716298232892179,-0.07898020558209035,-0.07156754247734168,-0.00960989607139668,-0.040546477387197404,-0.027880920225876776,-0.022847583965124114,0.012328122389353095,-0.02312517935890751,-0.0752513754372505,-0.057517301871163655,0.010093282618236924,0.005319565196479839,-0.0348582120842702,0.012077575003442845,0.03669357818917513,0.07679852739663495,0.06067501607150773,0.01021620597171659,-0.07528950542788729,0.0021810605735751165,0.024598060089465107,-0.04695412186014101,-0.07561080796653621,0.07126228602246447,0.015219539803544565,0.034897912141827754,0.07580679086598714,0.003732781866901459,0.0793133850504058,0.08741454354495622,-0.02703020926713482,-0.08658716715662267,-0.02970584341176249,0.0009834656663741076,0.05905532705906048,0.022453282282161216,-0.07787437850347002,-0.019637883211980706,-0.03516687520317654,0.008699546924195193,0.005240943290681024,0.05764560207088873,0.053130835108800685,0.03640742254361349,-0.08249916223685315,0.010546746945862726,0.012319778284288952,-0.07493220239282394,-0.015312958987023676,0.001532096231647313,0.059042333326488894,0.08219776192381631,-0.05310613621296572,-0.00939792142601457,0.0007787684548677946,0.017901455420814647,-0.007494589245990765,-0.014549965044036028,0.07490973209053338,0.049030901224517025,-0.029357142446294962,0.03460407026769334,-0.00563357615707445,-0.07911910493996385,-0.03321609259904802,0.0270581235863872,0.02345823460605866,0.0019386489607394245,-0.07419642391655688,-0.016433010730159035,0.023857155367965465,0.008271572100927266,-0.07346132915647074,0.043739590165081534,-0.0389472966064072,-0.008610337366655129,0.07715634792051666]},{"id":"chunk-7db5cddc-26","content":"We are temporarily blocking your card to prevent unauthorized transactions.\" block_card=True risk=8 \"\"\" This agent will act as first-tier support in a bank. Agents are generic in the type of dependencies they accept and the type of result they return. In this case, the support agent has type Agent[SupportDependencies, SupportResult]. Here we configure the agent to use OpenAI's GPT-4o model, you can also set the model when running the agent. The SupportDependencies dataclass is used to pass data, connections, and logic into the model that will be needed when running system prompt and tool functions. PydanticAI's system of dependency injection provides a type-safe way to customise the behavior of your agents, and can be especially useful when running unit tests and evals. Static system prompts can be registered with the system_prompt keyword argument to the agent. Dynamic system prompts can be registered with the @agent.system_prompt decorator, and can make use of dependency injection.","metadata":{"url":"https://ai.pydantic.dev","title":"PydanticAI","chunkIndex":26,"totalChunks":208},"embedding":[-0.0336099411205293,-0.0628710597418275,0.013853141482880589,-0.04539401761201458,-0.06404096126309311,-0.021058022837322245,0.017926036224670167,0.04021611919632529,-0.026826110477452876,-0.07107688448505962,-0.04000509964851646,-0.027395888651641553,0.08444923821312021,-0.025966820952821736,0.08266039708093112,-0.05795029446521905,0.037883268066198426,0.0038153842621477534,0.013266346648257162,-0.0840931789839031,-0.037424493921796004,-0.07422994097591988,0.009327815745266489,-0.00009991222058707588,0.024751262231774717,-0.026170570530091135,-0.04968105006310003,0.0715889805487338,-0.07323773450744041,0.008906019793354328,0.05329241584487254,-0.05749936788347635,0.08096591651439938,0.07225296699273515,0.011188539041485437,0.08224094939739235,0.044592495904999606,0.042646158720107595,-0.060333082835442434,-0.06148265525011888,0.03765119211468198,-0.029512932943611823,0.0032389430184149763,0.06586857332132857,-0.032889630650003256,-0.07146858668082916,0.014913960247881773,-0.048937237890337694,-0.05919036367453437,-0.011831226233565082,-0.057107627078047514,-0.003148359453872727,-0.024779024958382103,0.000626406386381859,-0.011513318929441223,0.011842754794748826,-0.07789274023177127,-0.06039246365120198,0.04527928154062003,-0.07499051410670643,-0.010021293495254588,0.0806848497483769,-0.023159009552769703,0.0764565092865406,0.06931070176777342,0.036440677422212193,-0.07037286045923255,-0.07378665819563744,0.04209618295680567,-0.08209233968238215,0.03861412963268724,0.018329132742435004,0.022706422632656174,-0.05691013286991692,-0.0593041186808054,0.06466952526766145,0.006732374493149291,-0.04864802936775028,-0.05895316423651079,-0.0387229243430228,-0.00092485496072143,-0.021972090353958453,-0.003599503478862988,-0.061324043944131434,-0.05566737159547955,-0.05567325902611697,-0.004340226801651655,-0.05787187915824584,-0.05229723402840236,0.08400078798806483,-0.01909979229877732,0.06882807534990952,-0.06398829260139188,0.08398366100347904,-0.0005831352654831551,-0.005109648878474314,0.0237468334432889,0.038638476546219054,-0.06590719956842916,0.03771919885209197,0.04653455480013929,0.03844756460197278,-0.001567158080476317,0.07358143181718364,-0.07365105823739088,0.003291561131896115,0.02193772959549986,-0.033895802648611084,-0.022404490052311807,-0.0005849050486862086,0.05041424437131136,0.041061158891048395,-0.08478287908670842,0.08754441078186229,-0.040898245699487495,0.057263984702216365,-0.008048372445085024,0.013957929082876928,-0.04496762837326147,0.039851095769455745,0.012521015367710536,0.021397428988865812,-0.05946370792874957,0.062058747278800966,-0.03809269578239537,-0.08099049932978845,0.0650068481388161,-0.08227763881769723,-0.05037620414789002,0.017494612781210218,0.010976450206016777,-0.03787630545550171,0.07489219780120517,0.04999577165618702,-0.08118030213445841,-0.034222743492962907,-0.07518259778372198,0.08459661727353507,0.001975294963976021,0.029815017639815734,-0.05222497887241624,0.05269935368542045,-0.0216851791247567,0.04664411338105208,-0.07926840301524747,-0.08781870429873735,-0.055605316959593976,0.04535574490724301,0.03048187607475035,-0.053467196285786146,-0.035917252925712205,-0.07198095387378843,0.038582128396379874,-0.0015516449128313583,0.029122752007373322,-0.005338515446381749,-0.011334191128615924,-0.05416382191023844,0.06023050795800492,0.018632204022440407,0.02001402118059015,0.050141090447067424,-0.084415782492186,0.03411083986241252,-0.08309939555530074,-0.06556051383008327,0.019243720857824703,0.03965674001860939,-0.06926849417221205,0.032163007071947095,-0.03794839408720375,0.05246450792799617,0.062228157893141844,0.02258773740739454,0.049569844003849124,-0.057949507841642794,-0.01196111143777189,0.000573616895833691,0.011608890402856347,0.0029832828843412455,0.08612524702394007,-0.01610817291295747,-0.059129982467465286,-0.07854752407376002,-0.07190238149601792,0.05255657138460522,-0.04910610826817791,0.03486819343849126,0.06252503796030386,0.08161069461957673,0.06141560919576026,0.025407007855393716,-0.04167123372947621,0.08513410917268831,-0.029656385077953804,-0.046161556520556625,0.07616630784131714,0.041584733910524516,0.05054959355272388,-0.03550861057244368,0.07944712887283324,0.010779885436677654,-0.012625786718237298,0.08442627493174333,-0.05922800503950746,0.05592547713777195,-0.006895365058370263,0.0376986164271467,0.06601085405653835,0.04592631420581553,0.010976546589544738,0.07644412191904768,0.07883277592533779,-0.0434224273405011,0.03163823965226167,-0.007547041207770712,-0.06069357790290429,-0.03207602959231879,-0.06416141567475868,0.049625394040734586,0.029808773631946166,-0.06584796372654718,-0.0851079771627963,0.014046201944751325,0.07124054169258898,-0.048570402345533156,-0.017767003942490034,0.017213632721451745,-0.030155307182938147,0.0479621144055954,0.0330476440549316,-0.001516665753676549,-0.06514518655341779,0.012807491704381025,0.0004842247725127749,0.023052646616714002,0.06896946141833629,0.0662206195354149,0.031903058082224205,0.03528994211289596,-0.08558357995306451,-0.03884478083108218,-0.05219609996279768,-0.047952087631240196,0.004450339798815589,-0.07863040666498912,-0.08649961596348653,0.08515192634127816,-0.06029821083082152,0.03544145440116176,0.006580675387310607,0.040861361100200985,-0.07291312794568772,0.00822564443341123,-0.07462089134026878,0.003045903498139299,0.051900791050923205,0.034529931709056653,-0.08525719971637247,-0.08516152410174035,-0.058668259800811945,0.03753936129111612,0.02143762975958427,-0.07495879363601424,0.015508695745328326,0.025129015389110883,-0.012353549319066388,0.008328816833029641,0.0587323947372082,-0.019170999854382774,-0.05940013909710484,-0.03857282560510813,0.07829234906104147,0.04866936258807332,0.0542298614950067,-0.06657614407683016,0.055493064544568094,0.051021463939095006,-0.05981593148085863,0.04765966907945578,0.018132796102703394,0.06417543219020817,-0.03593828241603596,-0.011615806588141793,0.08081213040161007,-0.058796065088343105,0.08135250037405481,-0.04134275010093041,-0.06792931741468716,0.01988636853236447,0.011742139984475007,0.027255128482325506,0.02644548779433018,-0.007337667570340659,-0.04933616782575846,0.03384614271577687,0.022367078482323388,0.0012911281530597325,-0.0520703609811086,0.0015756555978344669,0.02288867308506293,0.08081972663680716,-0.044306490942058054,-0.0030573750568220807,0.07722898192169468,0.06375659974170594,-0.045389353546344734,0.08744649577609123,-0.06367217670982721,-0.07935537908761389,0.0615327314226686,-0.004855906355299892,0.05119422419105469,0.0655795279520566,-0.017848430840263774,-0.07399155310003822,0.08305141795080336,0.06443003430900804,0.01955780659723398,0.01127743618949996,0.06314091952871231,0.014205162322281056,0.05926376848608945,-0.06716792898350592,-0.011138102228216892,0.07740141257928174,-0.06633008780740292,-0.01915351341024433,0.04814779612897249,-0.009943414821801468,-0.06746012002033056,-0.014525659401128776,0.030592386590697504,-0.05457605826469276,-0.07202993010592094,-0.08268958573958762,0.03480799687446286,-0.06859687880467534,-0.004328283365401485,0.006903219705648572,-0.004811412282410051,0.029422403615016152,-0.08749174355946249,0.07820455807427402,-0.011224749923034105,0.08601108524335271,-0.028494567679155255,0.06463798421252612,0.00437193807333466,0.054611442850464,0.08666731977127262,0.0010419398453816193,-0.0406595885300292,-0.028751000500819197,-0.031678740739957606,-0.016247757096548476,0.05105260346406719,0.023233478376951146,-0.07852121224634769,0.08303170041438965,-0.010314925587516576,-0.07081852812747773,-0.06599904144783394,0.051857457690945526,-0.05190086261654997,0.0720641596364493,0.009207145233756,0.03964652037023653,-0.011726714467771153,-0.07167830528210303,-0.06829852966019956,0.004690306419141378,-0.007371017800119398,-0.05968215513238297,0.037491675816501216,0.03348250316944375,-0.0592379478336489,0.040368886701510724,0.011460628292164824,-0.06217152249933198,-0.025626651358747757,0.031128993482503083,-0.039839196558231135,-0.049710904500396114]},{"id":"chunk-7db5cddc-27","content":"Dependencies are carried via the RunContext argument, which is parameterized with the deps_type from above. If the type annotation here is wrong, static type checkers will catch it. tool let you register functions which the LLM may call while responding to a user. Again, dependencies are carried via RunContext, any other arguments become the tool schema passed to the LLM. Pydantic is used to validate these arguments, and errors are passed back to the LLM so it can retry. The docstring of a tool is also passed to the LLM as the description of the tool. Parameter descriptions are extracted from the docstring and added to the parameter schema sent to the LLM. Run the agent asynchronously, conducting a conversation with the LLM until a final response is reached. Even in this fairly simple case, the agent will exchange multiple messages with the LLM as tools are called to retrieve a result.","metadata":{"url":"https://ai.pydantic.dev","title":"PydanticAI","chunkIndex":27,"totalChunks":208},"embedding":[0.022976237275850263,-0.008849928872578605,-0.08278399202459782,-0.006227862690410164,-0.06974839033601656,-0.006534311033611639,-0.0828930177604781,-0.05175844261773112,-0.014400298236472407,-0.02870979471063437,-0.00811714984330778,0.07985506245042517,-0.07064595952215291,0.023248751085444292,-0.05345646502595245,0.015509265566841877,0.038465567035051454,0.02933186384520658,-0.02238116944957968,0.08392652465192896,0.08062915498355423,-0.020528062631994734,0.012248985282226966,0.08343745974643699,0.045465096806686284,-0.07198249872172109,-0.019458606754745617,0.014436769045262147,-0.025875832652435617,0.030683637108299494,-0.0588009730274261,-0.004110182044042966,-0.07841034470898756,0.018659494300978074,0.08276167739991294,0.03549191406076568,-0.06853133721162932,-0.059253953431327784,0.06189974280914226,-0.026602155931505254,0.016061180082165106,0.06217456975220638,-0.027426808445654302,-0.06012141773549746,0.05126011016508219,0.0720302573963196,-0.047992471675879354,0.06679026294354776,0.07253757113898267,0.022023251377782962,0.029000300514073547,0.007428668658636409,0.08049764251235032,-0.021612523305569602,-0.008227908544832123,-0.05604436057975563,-0.04536533607528701,0.059549547150921124,-0.05808574453205807,0.059994358892563986,0.0540201338001547,-0.06467499937092408,0.0294084141887842,0.08398588415823491,0.047032391542892696,-0.07281406567791458,-0.038956604020522735,0.0680104361488355,-0.08538643173562951,0.022711968116637036,0.08724458411308428,0.07307451209379934,0.0727358456561238,-0.06378589520831063,-0.05121068588626828,-0.06903742310636778,-0.08187028848552838,0.03297058374196289,-0.04203530085559389,0.041543476357370074,0.08138045086724698,-0.017400313073094118,-0.03394115546140605,0.06986797919808965,0.06137067930010969,0.0031687977426654063,0.03508382098489195,0.06820452638420559,-0.048140697925521767,0.024231158021279568,0.003734156873473674,-0.021878956035112168,0.06562111924948023,0.05103934243868925,0.07257894956014535,-0.035965752053824476,-0.028548681376613934,-0.07571311937054973,-0.0036321010228816315,0.04989980670847306,0.004382521038256493,0.013553159031907094,-0.0005531887863048615,-0.06886871239031932,0.05225553832831872,0.010102063797727795,0.0628932785374993,0.02858815379567818,-0.042337768034993506,0.07394967447121131,0.03344734431664501,0.0012576341457883708,-0.05834172776274261,-0.0683676744154634,-0.0032879595415941727,-0.04290540876997793,0.06093453333731166,-0.06049776539648204,-0.017280741631333335,-0.07015257075124741,-0.08516703202848165,-0.016354065309157607,-0.017747981065789207,-0.050485757487954495,-0.009627691371644459,0.023603792986419982,0.06776708082058622,0.001238726383585243,-0.0512635452769823,-0.004808589204796511,-0.026288960563697356,-0.00251782814077994,0.08406711012855299,0.03218533956863316,0.0738101358047644,0.07153950747424834,0.07571124909532811,0.07775399898380178,0.054211291036306716,0.0032597250673358506,0.013630744924686503,-0.020716513478209384,-0.004069247405272811,0.04130813883881815,0.08265330933453206,0.0704618319626653,-0.05005459472415943,-0.022725880884204526,0.023819375535290746,0.07076251957045604,0.0794933824303961,-0.07339150427122144,-0.0037509557383497835,0.06859759323422983,0.04568076179856646,0.04990195711842438,-0.05028946990843027,0.013299019490754523,0.06938964565454087,0.02029375913954583,-0.06771310713583387,0.030918951020616956,0.0390169738465039,-0.0021185876664476366,-0.07856146231422889,0.051432425963443516,-0.024070065172210938,-0.07469022390447938,0.003265326758998639,0.06660641959306705,0.02528098216919644,-0.04964632461240477,0.027772888119380796,0.029332090010682568,-0.04410870950906504,0.07896328801502628,-0.07052962688739177,-0.07086669227268012,-0.012080880952686083,-0.01153054268331087,-0.08205292775463485,-0.0759867543999783,-0.019604865696806112,-0.04083893316489747,0.03536915286479871,-0.037591431538917995,-0.019277290579115747,-0.0869332899505478,0.01809905425576037,0.06438100854875271,-0.02479769752871732,0.019932685139739732,-0.04068741865584615,-0.06547970713148259,0.08079902829610194,-0.03744852682597039,-0.004691491820935041,0.08647108394122845,-0.010567812784964227,0.02962060842323965,-0.06238754702132997,-0.07589573059369169,-0.03656700688776125,-0.08593656064526856,0.031350723489435475,0.025302792264024446,-0.06169116849551671,-0.03501484016032706,-0.05231756953287025,0.06581062960687745,-0.06529092917861318,-0.04074540011184511,-0.061666269722463266,-0.06093973818857867,0.023581624152416183,-0.07561896523529822,-0.05431488253911734,-0.07894748566525595,-0.026402381917887883,-0.038167126879990854,0.023104523482826312,0.07491967785686691,-0.07730686034974528,0.0724640963079035,-0.06580034005119238,-0.06149094967862228,0.033315485803917654,0.01688490636733019,0.040400913233774496,0.04367044298898749,-0.05898954448792568,0.011328696906181645,-0.009353853692640671,0.00499565689583246,0.08131651917670059,0.05601264279903373,0.024852163870772506,-0.054614611048194706,0.06857036378237182,-0.0301311097819187,-0.03718155846814839,-0.04838036213545896,0.031861371307017466,-0.06827280538868526,0.07993730469948847,0.022788000048747238,0.03918276505287345,-0.0081327751971448,0.00031830350461894557,-0.08691750933914422,0.02805979706386722,0.012340541411130626,0.00329450181476027,0.031672588382002625,0.02970572106520036,0.04165501368849258,-0.03489426074589063,-0.004739146409720296,0.07213253219869517,-0.06962882884980344,0.051747847382160705,0.012428317000384877,0.018901967687505287,-0.0023126556137047496,0.02229332622445774,-0.04848784474077399,0.054592702396310915,-0.03526988804519022,-0.060283772631798,-0.05657862868554012,0.0441631157909085,0.010426396009691752,0.032300580194754555,0.04181706611141467,0.04262814180184514,-0.019842779399871273,0.004814615593004513,0.07756723550805177,-0.07686787368066411,0.08225665863201052,0.0353948055835135,-0.07919259265168281,0.04473683015642828,-0.042363675215186566,0.08221630009152442,0.01459989507214184,-0.011077447849489625,-0.07682555240524544,0.024750668138840907,-0.03404283225375837,-0.04531644267790245,0.08032164345945862,0.007936985956845017,0.035839757795450226,-0.04634392346687602,-0.02985024194240839,-0.07756438193274971,-0.046239503000441204,0.08076388533212309,-0.012757653529956762,0.07768610195505479,0.06298685838276732,0.0048767158911772555,-0.024745600203598086,-0.007172358120830561,-0.05676658002689433,0.08397767084187079,0.011615888767020967,-0.06443526737630612,-0.08140331784891,0.03322714448749994,0.00860836672207686,-0.07463784276956989,-0.0633419920761103,0.019811799861397472,-0.05069442997307102,0.014481771080677415,-0.04898282580437268,-0.07525871077838564,-0.009554643625424842,0.0652765009983536,-0.05930848977344474,0.0331548802437836,-0.08031435629172419,-0.01858080767874473,0.02947666099550857,0.01139655765375498,-0.06500950117542527,0.010157566137300162,-0.07644267892711584,0.0276062572383575,-0.004562649414665244,-0.05303058529103079,-0.06299816115495316,0.07015929294841797,0.005874833375553869,0.04727219082577524,0.03295355942198572,0.06288449668600288,0.019872679171018818,0.06593375284357107,0.01222500168108162,0.08313606643732568,-0.03814464397841049,-0.08080184336805336,-0.02982162002158045,0.0069130480002886074,0.0658388127326769,-0.057697944811737685,0.05542117322292666,-0.014457887799831332,0.004439402304169126,-0.05291157792543848,-0.01534374665696763,0.034713121205627716,0.020657835976536056,0.05762386245825363,-0.08370452934386229,-0.03274362084449998,0.01856436118908944,-0.009803903374787256,-0.0591378886112652,-0.07123166704664381,0.037678453268054475,0.0012946003736251334,-0.044785990620474156,0.06595254000713702,-0.08416103209574824,0.028928997109161823,-0.08647259938920629,-0.02918429204199288,0.08668620070561384,-0.07012797402517183,0.0287047225889856,-0.036297153787117134,-0.035484190312036534,0.021682548787631314,-0.056146406889374986,0.043532083546826666,-0.054074515209375486,-0.06429042180171446,0.07052159282748885,0.0014552640360090215,-0.008014149182653415]},{"id":"chunk-7db5cddc-28","content":"The response from the agent will, be guaranteed to be a SupportResult, if validation fails reflection will mean the agent is prompted to try again. The result will be validated with Pydantic to guarantee it is a SupportResult, since the agent is generic, it'll also be typed as a SupportResult to aid with static type checking. In a real use case, you'd add more tools and a longer system prompt to the agent to extend the context it's equipped with and support it can provide. This is a simple sketch of a database connection, used to keep the example short and readable. In reality, you'd be connecting to an external database (e.g. PostgreSQL) to get information about customers. This Pydantic model is used to constrain the structured data returned by the agent. From this simple definition, Pydantic builds the JSON Schema that tells the LLM how to return the data, and performs validation to guarantee the data is correct at the end of the run.","metadata":{"url":"https://ai.pydantic.dev","title":"PydanticAI","chunkIndex":28,"totalChunks":208},"embedding":[0.042551325735224924,0.06426946130926658,0.006399998881213015,-0.009822943813187142,0.06598814554893062,-0.08586839250180764,-0.049218673854659965,-0.08288270051665896,-0.043035419647568095,-0.06882252449487455,0.0629786584846815,-0.08394580658211796,0.030047043241907247,0.07199608700701529,-0.04564140250399759,0.07558150441488423,-0.053930113832236004,-0.06389877088534515,0.012347322876642758,-0.04055880112604134,-0.06798388606265722,0.05248181867403711,-0.025698371069850977,-0.07234160524067389,0.06220325472286875,-0.0642114298208991,-0.009309683846504806,-0.06485792883770473,0.013680313156441635,0.03722859239712707,-0.023708211462331038,0.0028601080392400375,0.04315710630990388,-0.03269241041440943,0.032897652380359216,0.07707127030622127,0.07433920774491146,-0.05519030676660794,-0.020002067348780992,0.02741462606420782,-0.005183054461948865,-0.0757971718572535,0.0631150057193655,-0.039036873862560335,0.06115517011419373,-0.03646061222842847,0.03518628228713536,0.07600714707925228,0.0778686452506614,0.06855752527717977,-0.07607029883518386,0.04963041790821923,0.0467195625718705,-0.025359897219261962,-0.014966424773108876,0.03834909218369464,0.008389639710686783,-0.016411600360693227,-0.008413157001014394,0.08573374155863604,0.05435059125664037,-0.07075132169990737,-0.03476425040868781,0.0642497257931644,0.008622645723532768,0.039567216824910934,0.023919779283917832,-0.08306281309595097,0.04483511621426222,-0.026251739287059647,0.07338333108593717,0.07594431710195397,0.06490843044439583,-0.005685746912387624,-0.027130757489717806,-0.03691006966009323,0.02487175683468765,0.06804263550758166,0.01941900801951602,-0.08163108782244685,0.019181738232899464,0.003982414895592554,-0.04932875281632843,0.022484146627411838,-0.06364637220982902,0.0755782101698465,0.024319360179300014,-0.05526072920282724,-0.05776101770357685,-0.08537280063344478,0.04352426066564388,-0.08437593899877632,0.07198941292540025,-0.025226681929348547,0.018994469882722798,0.003536577480006371,-0.03392274237216011,0.012577594573140739,-0.07300731771104194,0.05704315090744332,0.054951408616605156,0.04472335549449253,0.06664008765570517,-0.040558945159855773,0.005139432381969731,-0.05579308483531499,-0.045337731938128685,0.0005438617833070444,0.011116267731998728,-0.08499465447731074,0.04089235973834696,0.024250518861651738,0.04313860571077597,0.08290700405283512,0.0033797599583939874,-0.04723327402109015,-0.0025366209609411477,-0.04349355791706311,-0.036996532164948664,-0.07486128367402164,-0.01278093260935824,-0.06793270201185288,-0.05818386924187278,-0.04513985514252796,-0.07774577305259175,0.02289955426294527,0.07802492015554778,-0.00073229006733441,0.01827143094346536,0.05233851785390946,0.05660255569856284,0.035416003285356344,0.02617190616588813,-0.07753818961859306,0.0409685158896612,0.03131988627020287,0.044626604894834554,-0.03204330947491951,0.05722162283596836,-0.04642122236503852,0.06873169146141113,0.05237543873458478,0.06003902333350245,-0.03645476553597955,-0.010734313937784836,0.08286705500734254,0.015133383270740142,0.05008780353368604,-0.027683541324294677,-0.026102152042730083,-0.02860303030982271,-0.06227342407780569,-0.05440231551718485,0.03288196249901851,0.029371701118296057,0.07229841986197265,0.047557060018330065,0.08564027840255699,-0.04322001861791061,-0.08035937373582594,-0.009963482589970546,-0.07872077850566903,-0.06242767496708762,0.05397373702003978,-0.06860126239545167,0.08490574344748128,-0.019488583209915252,0.014396759855050744,-0.05210551835105134,-0.0071920800529188,0.015963645700875773,-0.03510000883980498,0.0774791463961083,0.029597556695899405,-0.018499765270521846,0.05121694401007685,-0.03571953848659507,-0.007883662008420911,0.037077043736523235,0.08375240178007841,-0.008098876292765058,0.038660574904590975,0.03228171251274972,0.07466321506201956,0.019232402395051484,-0.07098820991094194,0.03829149031472298,-0.07850986502640052,-0.024447501730441086,-0.07434520997268093,0.01737295704605674,0.021795325353528357,-0.042704161979996366,0.01113077705153374,0.006255383417199987,0.04536254517643944,-0.009404335629085001,0.05806580841414346,-0.006642922817041044,0.0559362646657363,0.04853189961863852,-0.023236336108877795,-0.06245973314539342,-0.01397439694667628,0.04889364533948272,0.05824261748972919,0.059703316214434615,-0.002224295492906378,0.031076906003971547,0.018361060674003737,-0.028760697222426468,-0.07533865969893912,-0.0842496142173695,0.07732243363628322,-0.06454425440578612,-0.07337284898940638,-0.049161312956000375,0.010008230424992938,-0.034982775619609954,-0.01731206271891312,-0.07505886476232068,-0.04349224669083125,0.04140825857742441,0.0780347439458338,0.08207859290525747,0.005114850762611592,-0.06202692223032645,0.024962189204904825,-0.0009271115335743754,-0.005749773532930847,0.03259778047600943,-0.0778562313070449,0.005824815946309628,-0.08221265814262103,0.08145742480846273,0.05551051797805235,-0.03867582700597625,0.048604648388268175,0.05010135397665427,-0.023717266155602535,-0.019831190081663043,-0.0000018049647692584455,-0.06330654867725637,-0.03012237332175058,0.03650562416269728,-0.0764655327159847,-0.05022969994357672,-0.010894707280527932,0.007873040327395319,0.019948426403986454,-0.02441857730065656,-0.0782664101480805,-0.05680931498890868,0.08579888495104103,-0.07805997424208293,0.030063544166888105,-0.010022541245920146,-0.07676618503363006,0.007637308818174773,0.06410332400829755,-0.007941506145612207,-0.003939531250668172,0.0007332314568981953,-0.007299985921819988,0.07668533314770166,-0.006708475764984985,0.0635179979356912,0.01913628608654802,-0.03362441555481378,0.030125590472194763,-0.05947745355408733,-0.020294211009806582,0.017492689462626672,0.08284494824630044,0.041339814593818934,-0.04329532775063043,0.07218981640567151,0.05953715327483514,0.043275253043601,-0.012490666743620487,-0.014519889790846953,0.07891034149846066,-0.07844885411436603,0.07267651329011189,-0.07920015714266469,0.04039128736905354,0.03536903073892439,-0.019005306253253716,0.0019248076261082407,-0.07894421636313374,-0.002268111054197107,-0.06161807045892733,0.0452798117211446,-0.02431633716631005,0.020543307485478796,-0.008849426186236055,0.01403899387944407,-0.048544181829405654,0.012757134809744797,-0.01435115072965734,-0.009953628613950664,0.03890135328456504,0.05921503767545359,0.040193276959254516,0.03789812592025092,-0.009919552944601805,0.08210361359237116,0.07185482829206427,0.071304283213918,-0.06433509973607937,-0.05934223127084475,0.08417984023485435,-0.01494775564670546,-0.06811700242323836,0.0339898199574434,-0.05801406229445348,0.08377325053223339,0.02943484544673312,0.06273300317804657,0.016306760866922163,-0.0054474020823626675,0.006748243154189163,0.08339847053066232,-0.001410873464743481,0.030674002282318317,-0.07776576772883005,-0.04382867298828345,-0.012297656373225415,-0.008606427442470643,0.01632887629350512,-0.0516809262598523,0.08372245050748248,-0.0647569078124705,-0.035423209973825164,0.08583763018408287,0.015673367866259804,-0.005311018063262032,-0.07772353302695978,0.012988903576855742,0.026848720893007005,0.0731907116413866,-0.03117326664065771,0.0791387552626321,-0.036810020978637,0.07994056173098976,0.07126799176114182,-0.08293592229301476,0.034762625141161775,-0.07493830088993812,-0.005770142576486647,0.03016267110313864,0.038487602002952384,0.07764272201513013,-0.03843977337513478,0.02696679087547041,-0.0667548911319583,-0.038677661880130436,0.045458183001363964,0.04026933488247459,-0.08494581683134442,0.0349362544169532,0.013138841837135758,-0.07747195339067242,-0.0802766522787523,-0.06248509974552219,-0.06767013628706664,0.037885039150200465,-0.07512904314651034,-0.07465113657850225,-0.08444441552580806,-0.027310956022929288,0.06387854994209356,0.026378548433313984,-0.06284028440148351,0.023516096493966406,-0.07223833675758277,-0.0007770609844266334,0.04949423437474337,0.046350767178571985,0.05821382162282222,0.03413868220854328,0.028694616867055135,-0.056420634653441916,0.022067412514977878]},{"id":"chunk-7db5cddc-29","content":"Complete bank_support.py example The code included here is incomplete for the sake of brevity (the definition of DatabaseConn is missing); you can find the complete bank_support.py example here. Instrumentation with Pydantic Logfire To understand the flow of the above runs, we can watch the agent in action using Pydantic Logfire. To do this, we need to set up logfire, and add the following to our code: bank_support_with_logfire.py... from bank_database import DatabaseConn import logfire logfire.configure() # (1)! logfire.instrument_asyncpg() # (2)! ... Configure logfire, this will fail if project is not set up. In our demo, DatabaseConn uses asyncpg to connect to a PostgreSQL database, so logfire.instrument_asyncpg() is used to log the database queries. That's enough to get the following view of your agent in action: See Monitoring and Performance to learn more. Next Steps To try PydanticAI yourself, follow the instructions in the examples.","metadata":{"url":"https://ai.pydantic.dev","title":"PydanticAI","chunkIndex":29,"totalChunks":208},"embedding":[0.017255923036449933,0.04838185340109174,-0.058105046929758784,0.03664247861686904,0.016527275113191034,0.01597951444348863,-0.024223035481289016,-0.02586534633342551,0.02685048383010961,-0.05781431426220649,0.0768754848114378,-0.07917473366430822,-0.017056875045847034,-0.07625459293002726,-0.0029552490997870533,-0.08103568765928669,0.05672210276140816,0.06032924612376686,-0.04781117075488919,0.038093824600971216,-0.0280716957495695,0.05187818996625666,-0.062054480098785864,-0.024987638094127386,0.058490484909134395,0.07758677011691413,0.042928062187281575,-0.004544247881817122,-0.08472685119560865,0.029987223509324427,0.01947432792428543,-0.06873963941806803,-0.07526992415340936,-0.06564600973979139,0.07892643332471318,-0.04180171491174488,0.08096078266702893,0.04381505868303034,-0.018140467672171416,-0.04239918041507216,-0.07201394425245089,-0.01040275884044226,0.018398130517462395,0.004933845891735261,0.013769102758513873,-0.036088851243562904,0.007426975622048366,-0.08248652691791118,-0.06448294802290912,0.08372191808762033,0.06682881128861046,-0.07493025943524965,0.03087585770988679,-0.005269058668485586,-0.052875327861193436,-0.07156122767187773,0.040772824786166915,-0.06755101636901975,-0.03962029483582416,0.003929211996928742,0.04451033620837329,0.070193764153135,-0.010566409777117853,0.0780566220921378,-0.04914018478666803,-0.013899883107883078,-0.04629112839880407,-0.03800151038352364,0.03432667358795876,-0.020886829320107256,0.048230531314088325,-0.0815426175350265,0.07679124896162612,-0.012492112891672973,-0.004131475744974581,-0.06483795144555778,-0.03786748342259169,-0.028695700224946004,0.0026139439271365937,0.05788393464516486,0.052431679894315894,-0.06100113856710169,0.037814043660879905,0.028794814095300967,-0.05147064433321036,-0.06897802376243634,-0.05237276269046228,-0.023856276802483187,-0.012345695167270895,0.07424599949047048,-0.011879294765574692,0.0585563557806867,0.005746625163469558,-0.001031557943192078,0.0008401369496690512,0.0596048314783168,0.07236671163046289,-0.06796123016468242,0.0012335428020679882,0.02128928504319632,-0.03496546578201224,0.07137122880376873,0.052949120809900524,-0.04672162484911513,-0.05661864954088866,-0.08121317412142907,0.08637331382803731,-0.01599233394128602,-0.059975916450399985,-0.06571845749726862,-0.011737232209579156,-0.07254693873817103,-0.07371059062361734,-0.029475886626177093,0.0755490780211575,-0.009893415467533286,0.045009867735430156,-0.06664807350813809,-0.06179705089360193,0.05898363746143806,-0.009744902490788174,-0.07987734132099573,0.055086960943871825,0.02507788522796071,0.06991998190067918,-0.025414826637266578,0.012606516660091374,-0.08630196387718966,0.07760806814426043,0.0030957218775591504,0.04061067452389035,-0.06209613823798255,-0.05343922871801261,0.032796075317398254,0.04845388480799214,-0.06739551430452861,0.053672245755517725,-0.05763347410982194,-0.04030108579076318,0.033851607253985234,-0.028443765767966863,-0.08232075178298964,0.06300799666611034,0.03227480281946646,-0.061784607766697516,-0.000830532057904741,-0.07578777387186764,-0.0696386623811974,-0.07939768279064907,-0.04457877206125359,0.07948138240363742,-0.06443233704356285,-0.06274317106536235,0.06031428757719425,0.03400951367962269,0.045125410569357746,-0.08420788483039801,0.06016784267560328,-0.0475085691052748,0.029705833532850102,-0.016077069602297045,0.0385652259204458,0.026303674617039852,-0.033789735834314376,0.012286327693903825,-0.052156181571385074,0.05386563632553206,0.028272311037790633,-0.03473653378944306,-0.012770820382177443,0.08475224603978279,-0.04537885194976091,-0.04004471533250475,0.02625885017652853,-0.04625589591631616,0.07220192209695744,0.07095968367036097,0.011578732869514422,0.006973849180927557,0.05012866895071761,0.07884535948125367,-0.0782624585494284,-0.04769449215594575,0.022532100520053774,0.06733652102945845,-0.05766413053792918,-0.0435858929616707,-0.03264700786076204,-0.030138421866714223,0.06605293847535768,-0.08481664755554777,-0.07440668534344344,-0.029347198928452455,0.010790717871580435,-0.021810653395134133,-0.060690986886754325,-0.05977133318203592,0.009257549564875246,0.08345629063708616,-0.029842951347475274,0.011400401059032417,0.08338199743783219,0.025272564015845433,0.0293848940437115,0.0575877379763447,-0.044416394112847174,-0.07866321980973243,0.011989075911445268,0.03125404940303825,0.04844379063631599,-0.010587421831748718,0.06318505078595964,-0.08370216924091968,-0.013481115667330276,-0.08614925391744628,-0.025059353280408824,-0.06802444862596216,-0.005998925957042999,0.03529045066550074,0.04230299031462176,0.022439281388699946,0.009516783267113022,0.028002714424405946,0.0570578398546027,0.08098711801599502,-0.05500002889075646,-0.012504485252559226,0.027275615655724374,0.006781350420826905,-0.0032659085273094553,0.024355982557778946,0.005539320599469229,0.06950094919663091,-0.06962360994453065,0.020879674323495034,-0.07061616606729106,-0.08477351041614965,-0.08425425233296989,-0.03511603028557954,0.0016793803211429112,-0.05355416158733629,-0.05510547330438258,-0.043708124959397736,0.0495607577626014,0.04882938001767428,0.04834227985665881,-0.05176482189234618,-0.018822342863743326,0.08427648790082931,0.0287127647905111,-0.023714441746580897,0.03264691228241968,0.050024489255057765,0.042841734885754504,0.025135839567086368,-0.04723905034912093,-0.07192173264023287,-0.01795352335112243,0.023989076600189,-0.02919746064794287,-0.01580594611610539,0.07286348740860525,-0.05802588821261269,0.030300496826514502,-0.0187436941521225,0.025364458957323595,-0.07006244303549747,-0.05473895828496271,0.05998846636620474,0.02016692622940392,0.07403699500671639,0.04954384746346752,-0.04437219426885687,0.07164424354954553,-0.08180271408991194,-0.019871739342000146,0.0737144255462484,-0.05795619939633813,0.06324840036669145,-0.0678602589832761,-0.07799023277427128,0.020069178210465874,0.04905300415187382,-0.04392595801816659,-0.04674900780384632,0.030958395257360244,-0.008908530135113637,-0.06118480684857097,0.03679221857589546,-0.03686573591827184,0.06725467388871206,0.04995026608420245,0.05525592025367794,0.08364935841541643,0.025468874329171904,0.03738992270761917,0.07130135998852305,-0.0752468537978296,-0.02138498654221899,0.038875670466751416,0.005803506761502502,-0.01659467531098045,0.07448388614461,-0.061802077944971306,-0.0658147841904571,0.08366367822873108,0.022385184780610853,0.04541082624422794,-0.04536881403391661,0.057707804116760075,0.04988127923397013,0.05254997494130271,0.01591017704785272,-0.01758199326990099,0.047702094875947364,-0.08229520616884219,0.07950164017471606,-0.015041210457157566,-0.018832859239219246,0.07039385743292172,-0.008015730503855597,-0.06797229861091185,0.037019638512471136,-0.07573179429236668,-0.01409353049612404,-0.018004357685136002,0.06728221817615905,-0.018389203953237652,-0.04217598332182055,0.08528393181734176,0.007765209266872033,-0.014730499564555364,-0.015928223001752718,0.00867649160427327,0.03633411037048937,0.054626754264247186,-0.03813557464472486,-0.05374168051551026,0.07624141380765835,0.035375052145820866,-0.07530061610166942,0.03361745377494609,0.013306725185535592,-0.028142465263004346,-0.01811143981092832,0.00018696916098723246,0.07035919734504191,0.04588986541239963,-0.05464743632264507,0.020274577052270423,-0.06642642565392046,-0.0760295708766789,-0.05032859532168403,-0.06796051150783679,0.033165946383589405,0.025127740898951215,-0.05101716895989438,0.012873648848242393,-0.08288442042044497,-0.021265132600145766,0.02514267670962206,0.07339772237331327,0.03788154861642274,-0.06304040711993336,0.006691113974258505,0.07699610174789329,-0.06321758173802527,0.0691053575284351,-0.07096051999811756,-0.02131033085630405,0.029103673712857738,0.08435113269466803,-0.042817075824409134,-0.07433833271443771,-0.0007370791967593696,0.01766344131478325,0.07244348615445778,0.019941078614869785,0.028083655381370413,-0.01303151286673588,-0.03155961257011642,-0.038649875519192196,-0.03685988142187741,0.03570717145740616]},{"id":"chunk-7db5cddc-30","content":"Read the docs to learn more about building applications with PydanticAI. Read the API Reference to understand PydanticAI's interface. Version Notice This documentation is ahead of the last release by 2 commits. You may see documentation for features not yet supported in the latest release v0.0.27 2025-02-26. Introduction Agent Framework / shim to use Pydantic with LLMs PydanticAI is a Python agent framework designed to make it less painful to build production grade applications with Generative AI. PydanticAI is a Python Agent Framework designed to make it less painful to build production grade applications with Generative AI. FastAPI revolutionized web development by offering an innovative and ergonomic design, built on the foundation of Pydantic. Similarly, virtually every agent framework and LLM library in Python uses Pydantic, yet when we began to use LLMs in Pydantic Logfire, we couldn't find anything that gave us the same feeling.","metadata":{"url":"https://ai.pydantic.dev","title":"PydanticAI","chunkIndex":30,"totalChunks":208},"embedding":[0.06995917869292044,0.024774931989859313,-0.07169014416869474,0.08543319496963964,0.00347286376150647,0.058839626831607206,0.01876919356942903,0.0368815064957099,-0.04559524245028396,-0.08128207613772478,-0.07252826319325523,0.012683412329713836,-0.03936380209844382,0.07842915703149185,-0.06237891960330028,-0.08145579009216482,-0.002537495623435369,0.03026329333575164,-0.06693213647826989,0.03584761962620388,0.052959131001679906,-0.0036659529033122927,-0.019058198496617853,-0.027634800008352046,0.08109930177529637,0.052656332566984654,0.02560527730655097,0.046402236349522084,-0.06743536196271425,-0.03664701682196451,-0.07570725577375154,0.07763542039079743,-0.0016116409846141527,0.06717359157545408,-0.08072397378892415,-0.0631151854606996,0.042688773266976884,-0.05283936349477952,0.005208964671997803,-0.05375236933750427,0.011520102239989258,-0.008403106906395612,-0.03519698289836431,-0.03845468327972363,0.07259158749106588,-0.08039952538406818,0.04390905664178127,0.06540052102017399,0.07379623961107286,0.06193831888195065,0.018234007608572626,0.06186288763174061,-0.0224098216618206,0.03603551825067729,0.06927499300569366,0.08073540481063735,0.08083284340364186,0.035174329484515286,0.08333560982140145,-0.03012220720874145,0.02359716006989315,-0.016275872669863446,0.08375353074787349,-0.0687396847350995,-0.07613095335283734,0.04306176292384558,-0.059200723823016596,-0.04652281193657235,0.04134217867959885,0.0785207636771475,0.04424029836968229,-0.03879379656313866,-0.0443873269775957,0.0586922180958621,-0.005282299704451333,0.08575587911961086,0.04312652887621882,0.0613652845449741,0.0384834302265663,0.0042026389554962375,0.02836165502932166,-0.014049674220881513,-0.08271705211572784,0.008285932404239716,-0.046729979624254986,0.02207273060429551,-0.06473189005392972,-0.01008739196096818,-0.020073333373669386,0.06467001588702426,0.008037093136507538,0.03181543188859948,-0.03605132445959729,0.0562903151939253,-0.025663755981091368,0.02094158971798686,-0.013180775438591719,0.0734673914512986,0.008002667523476645,0.0231244950964029,0.06812714786735859,-0.053824051930126196,-0.03226709029730691,0.01255191068110434,-0.0014099276777019933,0.07687064687483443,0.0500497019591656,-0.022873074847821126,-0.05843635918548914,-0.06054688589951084,-0.008210074456986856,0.024905818695589783,-0.01974311206728735,-0.050666124235249695,0.07515296763686899,0.05822455953011486,0.018681904655967287,0.042855727098962966,0.07737889523768972,0.0041928021225892155,-0.04907555586346619,0.011158029298946113,-0.05644813453174612,-0.05989699877119369,-0.07233546103370526,0.035034085804836086,0.057557826768522384,-0.06595534508187177,0.0784253741529506,0.07001960502441187,-0.07250272542420515,-0.0034643546358576237,-0.027292189648949916,-0.048763226139724294,-0.006143999281473948,-0.02292913379320473,0.00973122352435807,0.03979039378373204,0.0661832512147458,-0.07652316294015776,-0.01450739359078551,0.02532914227364134,0.07890033534403094,0.007616987686102484,-0.07293877041130407,-0.006635182417474817,-0.05863522063293369,0.0432576387035209,0.08549711530223444,-0.041868393246323264,0.006360318110850936,0.010006860060072871,-0.05868545754528807,0.029627114443960236,-0.046870610089754454,0.005860327287124134,0.06955467960990278,0.01754261543595972,-0.045092617813133305,-0.005309008025449269,-0.05739504891800136,0.07889651044931727,-0.0034395647375040778,0.011092883639825224,0.07610835123439509,-0.07889430352484943,-0.0253462302598291,0.07983236237398195,0.07969116100395927,-0.0745943006639202,-0.08179324565639101,0.0750350934094755,0.0401051001977444,-0.04594016925747893,-0.06612464011782594,-0.017831290758347468,0.0593652488105178,-0.06755491112162902,0.001964503282757875,0.06585278040850744,0.02982090164932385,0.010498809776582277,-0.04418139912113354,-0.04881401407422219,-0.023147734270585203,0.05819554707559743,-0.07235157353475505,0.029733631247724424,0.0071143589237588475,0.013894214207852293,0.009858127384796803,0.058527726366024234,-0.06984422174838376,-0.03436606091254111,-0.0451399118948137,0.038912063653388056,-0.06931460944975822,-0.03204375186095928,-0.011257770836517685,0.06042120301293947,-0.036067534904033256,-0.05388360540537401,0.037190271584061234,-0.055143286457270374,0.06527927312042854,-0.01488353891225882,-0.07850541553711993,-0.06005170392347232,0.08341264640143738,-0.03199299518040356,-0.04536927970554666,0.06904958172662966,-0.03830002872881275,0.005400050612250099,0.02580311407726393,-0.079325120539165,0.008446576803256929,0.009942349759616491,-0.05310916839984535,-0.05226526558145011,0.07601340615587991,0.01656674150600043,0.03279226324637392,-0.05443518619769893,0.0153512427957048,-0.033358096711072587,-0.0050189896030988475,-0.059041710066689894,-0.03601963994213287,-0.006280929428011786,0.061915151574047325,0.08514545999777155,-0.031665137546415326,0.01732020640676285,0.006307645850913833,0.05473768413301687,0.040343604283836994,-0.07955622253414847,0.07028268259290048,0.07290975064354543,-0.08286497385826191,-0.0741722038403371,-0.08231317355408564,0.007965043639700261,0.00783404183559777,-0.0846942772641109,-0.013952854159642564,0.08280656758368067,0.03490827031251721,-0.07535296912529689,0.021573880468083166,-0.030827404125817495,-0.017656482818367576,-0.016279172007523508,0.05096711506901869,0.07058997406277283,0.08545469019128378,-0.06606904950367348,0.04497876296403699,-0.005375273351631447,-0.018971419377672494,0.05617893870029244,-0.04086187370750774,0.06671945826732785,0.031237109328914325,0.039392797954664785,-0.08579469076027874,-0.04690820109208949,-0.04247936442262347,0.07900709292020675,0.018341101291334216,0.07442974133109075,-0.05020170327626007,-0.0017905179371865533,-0.0449793303209099,-0.002719287336593634,-0.011900329309314488,0.013204222551323256,-0.0639370344964817,0.028106919278469557,0.06183676141086873,-0.011459305418738169,0.010342250263918997,-0.051274872376643375,0.08040959251506556,0.07446083891833927,0.07613025498596576,0.01274488497344517,0.02868913787047693,-0.06693800564402005,-0.017359409523467838,0.06527518530159705,0.01676454062531186,0.06066325813355472,-0.05083123778477775,-0.06747891341029777,-0.045218474301772164,-0.02765182537737155,-0.08618047687915006,0.07489055463134059,-0.07150724500624316,0.05964547737818339,-0.014817857164279262,-0.04155241360098171,-0.04473351690571243,0.08362480927966208,-0.03668002787437421,-0.0044066718390017605,-0.06630553993196155,0.009019920202796463,-0.008916294885086457,0.08043561249767561,0.01998952027240066,0.0013656287347227844,0.033076935787389045,0.016007986566956633,-0.0629341826670635,0.06545244929034548,-0.05772112160579693,-0.06549054543988712,0.0715350060244362,0.011110054538442802,-0.0232730207595073,-0.025300079340778957,-0.014825937099464061,-0.008758038096812117,-0.049900740607320665,0.020316285759272412,0.08296248067264497,0.06772331163151346,-0.061804521241550905,0.0667094392591918,0.026491217574413837,0.007429434781337404,0.03566976810461016,0.06601313426505556,0.003614361682104272,0.039203343877727385,0.04638952377506704,0.008666642306001856,0.010189760551256786,-0.06216353453181698,0.05517376989806396,0.07238747368600457,0.0028602260353841075,0.04176726681906319,0.028280881725221616,-0.009237841298992577,-0.07158693957692436,0.08308703646359346,-0.0477503242912552,0.08057217042778379,-0.03549144073314678,-0.06654660901448647,-0.08143954223923706,-0.025282317927106123,0.021699812933690735,0.07723410709664144,0.04647732967163689,-0.0527639297959515,-0.07161986708904117,0.016711485903226325,0.014239319627867973,0.0653559634424114,0.051514776249255205,0.020600860662919808,-0.039029103091379,0.06282192969261076,-0.026734505409135318,-0.0776121667033364,0.06477634937589842,-0.04788973628724478,-0.0680757519788206,0.07649905119797402,0.012302891183204556,-0.010494381683265844,0.0014030460432279256,-0.025851858410324426,-0.01863230773900374,-0.08618569487166322,-0.011885604656850178,0.023538152393445498,-0.03406834748940866,0.031619989445630485]},{"id":"chunk-7db5cddc-31","content":"We built PydanticAI with one simple aim: to bring that FastAPI feeling to GenAI app development. Why use PydanticAI Built by the Pydantic Team: Built by the team behind Pydantic (the validation layer of the OpenAI SDK, the Anthropic SDK, LangChain, LlamaIndex, AutoGPT, Transformers, CrewAI, Instructor and many more). Model-agnostic: Supports OpenAI, Anthropic, Gemini, Deepseek, Ollama, Groq, Cohere, and Mistral, and there is a simple interface to implement support for other models. Pydantic Logfire Integration: Seamlessly integrates with Pydantic Logfire for real-time debugging, performance monitoring, and behavior tracking of your LLM-powered applications. Type-safe: Designed to make type checking as powerful and informative as possible for you. Python-centric Design: Leverages Python's familiar control flow and agent composition to build your AI-driven projects, making it easy to apply standard Python best practices you'd use in any other (non-AI) project.","metadata":{"url":"https://ai.pydantic.dev","title":"PydanticAI","chunkIndex":31,"totalChunks":208},"embedding":[0.0766111567968011,0.029343484537290486,-0.0017787454835805998,-0.047571232236973605,-0.0627738560290386,-0.05642486579364401,0.01942906521990928,-0.06891286140829184,-0.03818346123304306,0.07519272480092647,-0.010639336568540072,0.07315342217277816,0.06650217006423123,0.0036413727754848963,-0.07204468966749558,0.016860752416934723,0.04142215310893636,0.038678876762503124,0.08369080414440652,-0.07582258232965616,-0.03993939367209846,-0.010683431273505633,0.03774977709362433,-0.06465643814741256,-0.058610430518614656,0.0015465987955501968,0.040399567161046444,0.005696745352631787,-0.049697733628221295,-0.08603083181497384,-0.01814848723794158,0.07233104689224402,-0.07086982626323776,-0.024973321239199042,-0.055915416486175804,-0.004744509737904351,-0.042730311154982666,0.08054880729855231,0.05953710984849949,0.06774754259687424,-0.05617225807814216,-0.012599766973436817,-0.010987508579129203,-0.01676846127363354,-0.03256828149469241,0.0451223407480605,-0.0459041178816814,-0.06496395807760376,0.02861492405469802,0.018436705116640615,0.004587876669662538,0.027491895124428397,-0.05301799063847195,0.042288704272853375,0.01774875519444852,-0.08577315599237462,-0.06018021705463239,-0.031692677920682574,0.06382502628054038,-0.05521311070137383,0.05191632158276372,0.0773311552789114,0.06020524448633747,0.056141329637304074,-0.004228825316991842,0.03153313579243506,0.07982015573188664,0.029852034584963324,-0.028541963987460502,0.06599163748209148,0.027819320546795687,-0.017149592344210984,-0.05745717765659312,0.07227934749079187,0.08028316595051269,-0.07305111227856971,-0.002639348911523519,0.0854933911450583,-0.06431087158097654,-0.06691633250009672,0.00973543632837672,0.08077215332340486,-0.030498241738609048,0.042806574575006945,0.07557767139475147,-0.055190693474301715,-0.08619894918613208,-0.032419920780494785,-0.00643141014170326,0.011660510699447601,-0.06430586944103883,-0.005318934349548052,-0.03672221237923038,-0.008381985309695228,0.0365964453145821,-0.041042858818749285,-0.0647803484278243,0.019021079288885127,0.025664446110352287,0.02688045367811458,0.0853605560603011,-0.04444131408226826,-0.0064024708567425115,0.0141972549571789,0.048523652356935836,-0.08222701988659753,-0.004957690067025443,0.010126414924400928,-0.06353889757530203,0.018239232029196608,-0.01560329489050475,0.00348114946592268,-0.019415822450119215,0.056156061955478745,-0.002366531310951089,0.05698002999857958,0.05718165320492178,0.0516280639304499,0.00764619855297012,-0.05179974981541299,0.08557218412886858,-0.07989135223179522,-0.003994495376650591,0.020670660488456758,-0.07283690502820116,-0.056063180214338766,0.0667412160924793,0.04004847333869548,0.071837062295985,0.07868301060483926,-0.06338768209760569,0.012197334175336185,-0.013190595692212164,-0.0758976205653831,-0.06654823262428335,-0.04664529889949369,-0.08261264861632815,0.045064862413664364,-0.05054265599416469,0.06818456969588434,-0.0825502376036064,-0.0020642138298766584,0.014132543594685952,0.0746165282888682,-0.006237545605609506,-0.03427613375365318,0.054460127507047,0.04372744812830508,0.02956910707146301,0.08461789654599298,0.06999761301620602,-0.038349578511679284,-0.05137701734785427,-0.060076907944555814,-0.08023242721689657,0.03368893887841539,-0.021664866628219363,-0.022550266246478354,-0.053879206363230354,0.046124986466927066,-0.057310432358000214,0.026984439013314047,-0.054423638042944554,-0.029043837066554657,0.020126173944753342,-0.012137772145098912,-0.055679025729890946,0.08524315071343529,0.06253163740158862,0.02390386907226235,0.0077878457564865755,0.052391222426201894,-0.0766385056313733,0.04105460037054162,0.06354880457014687,-0.045944346317657585,-0.0486804999204314,-0.05002331943831839,-0.06220050396684109,-0.02175321311015864,0.06727234117647309,0.01569276354116063,-0.07789252077090267,0.007593634039119565,0.05707005279267731,-0.028313787082249922,-0.01565384702195574,0.06607095496218338,0.018223550260237257,-0.0010381191483104229,0.06591618350856351,0.024609232192727485,-0.006455272434190098,0.06741583736454276,-0.050765941653204374,0.08606966516735724,0.026089275710519638,-0.040377073569564444,0.054373459279485926,-0.04698129038753373,-0.025718392456932884,0.007671493036329762,0.041934156615650385,-0.05917318482470885,-0.06221835581527809,0.0009514496599392797,0.07576016378643834,0.0025086466311203246,-0.027724897736497882,-0.06497714637042505,-0.05492883536535772,-0.04580276461608779,0.07879554433099024,-0.015651974932253863,-0.03340451608120787,0.07263993744537121,-0.033988897018322126,0.0017080096008390134,-0.04421660315818082,-0.024835278897574635,0.06364061482915152,0.08413886524452638,-0.06083404522496345,0.06415901419984735,0.07182760408001065,0.08550238554537411,-0.03917271412344954,-0.05297046816150888,-0.00015988693022232414,-0.06696449848627982,-0.06233369638943781,0.009951326308191346,-0.005737320056637343,0.05526231351444065,0.01990600595157002,-0.051856316106129334,-0.06088989155191707,0.045946876673706186,-0.013013853759286084,0.0409893465497349,-0.009965758011194288,0.06787069789825528,0.03922010219703955,-0.06078415051100429,-0.02200513037808811,-0.02058128999123691,-0.06401668345501825,0.07666178148124178,0.03624162476661264,-0.023705288429118183,0.06234320099537687,0.05003882966328028,-0.05942586561188211,-0.0746222992326935,-0.009746192653369148,-0.027312751991048122,-0.015940112208196983,0.006462129768307888,-0.055579401221941147,-0.07904047827022587,0.018105466475005133,-0.041939685198907235,-0.035265003564534575,0.08497978488752568,-0.017428768078533607,-0.0237568846793601,-0.07201928387645742,0.03350655583567936,-0.06483913522459182,-0.0810714154337027,0.07176835816306253,0.05617524893639808,0.08159148379462391,0.04738841492292087,0.04815112143230783,-0.08496578838481403,-0.07016468215230699,-0.03808428182156672,0.08080937607495592,-0.021766481474383256,0.03762241624971941,0.027570962239887038,0.01984990366461378,0.0014403105734248436,0.006564712313360151,0.08269508850706482,0.0430571039646829,-0.002362604468648701,-0.0009562448105327104,0.0702040746002835,-0.03085661302837497,-0.07346334390199451,0.059453461888236414,-0.04405838746936143,-0.08542472927304565,-0.05191490140049876,-0.07658882891816807,-0.04988325826772626,0.07196084525796029,-0.03155186599646031,-0.040951807952473586,-0.0736935671097204,-0.05764850459235472,-0.0650046478589687,0.07054487025413066,0.08022174284343957,-0.07564066593508616,-0.05213090362842126,0.05687256517378924,-0.03407840538673114,0.06720688518212423,0.05390844773624319,0.006591438254016109,0.04307422290989301,-0.08410767636952128,-0.013036345822065304,-0.052006245189906375,-0.03732482649115331,-0.02756304642347228,-0.03730799447850124,0.005331083386994379,0.06363207169939486,0.06785930427653342,-0.06620300383991196,-0.05698163953823666,0.01975520810642039,0.05689842080691305,-0.030240133704199285,0.06913330344085764,-0.005316343326959465,0.06226072004216684,-0.038749644833972856,0.04699166714234076,-0.060193960629547454,-0.03545104638458067,-0.0014827163207230553,0.0014624241981390142,-0.0570196049856882,-0.013192528413540494,0.04865927959447792,-0.08099264622789157,0.00036510578497128096,0.009851311595374298,-0.0580862358282884,0.012040667566839818,-0.07507570365591852,-0.03869202530050017,-0.06530199214605284,-0.05824603970870842,0.020878032767884757,0.013794932532643233,-0.08171145005048898,-0.05496939406091984,0.047608555091665776,0.0022257012236888665,-0.051929268525155295,-0.05452869980646784,-0.05011840255567855,0.016676149999189076,0.08128563572188298,-0.06520573655720094,0.01706084570310867,0.05744503068775402,-0.01069864045301592,0.055982480502443366,0.014833689606597438,-0.02726659114400099,-0.021111001874260165,-0.00047829812636895463,0.030071554530873422,-0.06538019046397003,-0.051879346484908134,-0.0014595301031720745,-0.03301421312277848,-0.07916500546115882,0.008218780966466898,-0.041136020408903295,-0.06202550285354098,-0.08228617047610516,-0.0619940229123332,0.02897696260299885,-0.05934081161270871,-0.056688302857636874,0.013537265880456192]},{"id":"chunk-7db5cddc-32","content":"Structured Responses: Harnesses the power of Pydantic to validate and structure model outputs, ensuring responses are consistent across runs. Dependency Injection System: Offers an optional dependency injection system to provide data and services to your agent's system prompts, tools and result validators. This is useful for testing and eval-driven iterative development. Streamed Responses: Provides the ability to stream LLM outputs continuously, with immediate validation, ensuring rapid and accurate results. Graph Support: Pydantic Graph provides a powerful way to define graphs using typing hints, this is useful in complex applications where standard control flow can degrade to spaghetti code. In Beta PydanticAI is in early beta, the API is still subject to change and there's a lot more to do. Feedback is very welcome! Hello World Example Here's a minimal example of PydanticAI: hello_world.pyfrom pydantic_ai import Agent agent = Agent( # (1)!","metadata":{"url":"https://ai.pydantic.dev","title":"PydanticAI","chunkIndex":32,"totalChunks":208},"embedding":[-0.009553868619240107,0.05798520954967318,0.06697626879876299,0.0034799164591508636,0.058421086645615024,-0.07034832042097323,-0.05080022186124155,0.06968504354070171,0.06653299993609074,-0.08269437322156793,-0.030807616839943788,0.03964405498469702,-0.05157969042208596,0.06965621340856837,0.02920007459816432,-0.04466244402081827,0.0831728025397266,0.006671182340023357,0.039703948382297814,-0.016580940712272313,-0.05086220252648599,-0.04576896913923724,0.006307982582002487,0.06423403132136457,0.018700779745940838,-0.017281494810800074,0.0023188535901829755,-0.003414398657990245,0.07810017030870645,0.07508675752104033,0.037788371082768744,0.011712017565463572,-0.06848169142877733,-0.05669738578950699,0.05626812561335317,-0.055240305625505595,-0.03200445284760034,0.021226040389762103,-0.01582710548214947,-0.07221885920318775,-0.062339979644063376,0.08291488753182076,-0.04097179177049581,-0.005114654367012742,0.046375582234540066,0.04058465939884318,0.06413504986586134,-0.027552904646746163,0.058537924165648056,-0.07256699491195676,-0.035339111274573724,-0.008100037636925777,-0.010731194255498554,-0.024213757660407238,-0.040127007532814486,-0.04003305405798139,0.037680018608071644,0.07761243925848701,-0.03776826059579685,0.05688421418143376,0.0801393155848782,0.05547379442914241,0.04797505945643049,0.06294954085645853,0.031943536697165424,0.07458575553703521,0.021888816403332317,-0.033293900694047286,0.023116177481607592,-0.03950815901038656,-0.07061844766330624,-0.040320207290762626,-0.07670760578554314,0.06880535142574958,0.021055243577646578,-0.050582210548535726,0.017020174158539625,0.0817287905294333,-0.059383384767755655,0.03311817083250758,0.009238602334479864,-0.02085130450381923,0.06350063621268068,0.04445449228464999,0.004521064933619707,-0.0809034037264576,0.07717426116223478,0.006078831641920275,-0.041699280101943105,0.0844221920473896,0.060501747993172775,0.04920929531639849,0.03342928814989363,0.0011310973093236658,-0.08250555128026404,0.08291288019152473,-0.06762833198430956,0.04367278689111703,-0.03226168546383,-0.0694646937570045,0.00785530791252176,0.0628352154783712,-0.05129956504673137,0.04163191254607851,-0.07515701777908321,-0.058574242053204585,0.07361337354000146,-0.02937415352011508,0.054177011203684386,-0.06582575611062619,0.013533428712122474,-0.024728701613773944,0.023611170100613935,-0.002175329809244142,0.053532433316115874,0.02141353135303306,0.004071010774280359,0.0622649475631368,-0.0205735999462482,0.044063005398291846,-0.08385234038230441,0.004319861475842444,-0.052003892914625975,-0.02571363648277823,-0.0069394538583062776,0.049599795594416934,-0.045317497780345904,-0.012210548802297811,0.05852387930186876,-0.07158412578339568,0.08288141433858104,-0.06639669434947842,0.06214066943675783,0.02475934481617056,0.06550103214078007,0.06891125507838629,-0.020889974122378786,-0.0284832215874653,-0.028518361096672558,0.005685705251840905,0.07479929802935632,-0.04186408855154803,-0.008651603167468082,-0.05726656682476788,0.0209649942876356,0.02543565356300146,-0.003403555611352151,-0.08189612360873873,-0.041718179417693846,-0.0028998004178860727,-0.06227578438714306,0.04369943984562642,0.022113606970612393,0.05197140498685196,-0.0149755018629769,0.08470939650101789,0.01076207213471654,-0.08013508546811168,0.03905402700083393,0.021248728703408493,-0.013297966897772314,0.05264586050760864,0.07369982997672336,-0.05113453672101586,-0.02979883069458809,0.05950307644032047,-0.08365842196561808,-0.0620412194928787,0.08131619789201275,0.0542030249560402,-0.0036406273066598304,-0.06506651359012677,-0.06123988436250276,-0.05657017840004232,-0.030187714613529645,-0.061946537196357856,0.014411244889108814,0.03677463551476853,-0.08133416638003188,0.03644490655441512,0.06133345022458119,-0.0008819287030656271,-0.049246403579017585,-0.06699335308990022,-0.08400270668354595,0.065901723458332,0.029098631830192925,-0.012120662307367126,0.069231887856637,-0.0343083246895491,-0.05589175118147761,0.03452884690021507,0.011621124858334128,0.045296720614065304,-0.028869372392852147,-0.05997321625366054,-0.057847793752872675,-0.07240972402328139,-0.06000870177379996,-0.05011599549174667,-0.024850620077119495,0.06157020405893946,0.06004588548921966,-0.0314442735316732,0.046989608254149245,0.036969648785698826,-0.045036163646647885,-0.003288175929149449,0.010978420543134693,-0.08378551608533713,0.023271821651411558,-0.07622587575215432,-0.07389268813574716,-0.01545502393291877,0.017670829357681623,0.06313935366494874,-0.006063501974323047,-0.03357693445729413,0.07128505820515,0.01016409900617722,-0.01855066288123718,-0.04399422457407671,-0.030809477204661883,-0.04344119054784882,-0.06396349365445395,0.07455603613312166,0.019349418140439615,0.03782221008525451,-0.02521339464487816,0.03402638298030395,0.07922025987305638,0.057227465201355,-0.024914770695820973,0.05393695807144532,-0.030712906999015955,0.05950423875084469,-0.08413976807625863,0.07859981754923898,-0.004958019315889309,-0.002817659856142004,-0.009297785399014498,0.07994750199896182,0.051797592440361126,0.07496748180891254,0.07724975586644196,0.0784861613471615,-0.049021898726220904,0.042610360130650955,0.020829001805014208,0.012100048269452416,-0.04617687552649233,0.010936545082133963,0.04033004440081484,-0.07699154059476383,-0.06335813588452065,-0.06879556287953587,0.028897380787611268,0.0021777862433188383,0.017811589304601826,0.04009569087609273,0.06303783029873351,-0.00048198826245063477,0.04094131330494725,-0.02918698552205901,-0.04014210238623779,-0.04209590195832351,0.056593764103649066,0.0037456955003798273,-0.06143565906578302,0.018547709560257017,0.0016618645361444243,-0.016430859948133043,-0.07941868489107087,0.03911718738019404,-0.030108108876883404,-0.027917596081059898,0.07071922658087339,-0.048995333976947976,0.08037733041006333,0.001327709460452856,0.011499339974776406,-0.08039685867879973,0.0006128942218831677,0.043236034321518055,0.00451442050863241,0.008592049389825515,-0.016015584151576237,-0.05533669749901757,-0.03211715127954185,-0.03391793894905688,0.05613510289712855,0.08292392024951038,0.08376091453287325,-0.02525604497454003,0.06106748260813432,-0.01511986702408633,0.06026997339655783,-0.08116827133077896,0.0037637985545795794,-0.04044473310427166,0.04162388325241671,-0.07104534676643598,-0.003857274991153759,0.04325887226539459,-0.015008687834379947,0.04467417932533888,0.041971316396926105,-0.019308995694449486,-0.05360396459335419,0.04816571889529448,0.02038266488118189,0.012573928692241412,0.06433749734850633,-0.008423854381236776,0.06199528106128342,-0.05649239095048767,-0.06750198886776472,-0.0821146957868091,0.0387962405148237,0.06335777402478586,0.008872205133508516,-0.002549514961714864,-0.05407519274712632,0.038105526696765354,-0.04068394419316958,0.07035701481547577,-0.020943024540386462,0.0763100238922992,-0.009653988412188466,0.062481673329318484,0.07949226140056637,0.0628762076935476,-0.022562533472715283,0.05975224975349404,0.040391016312273306,-0.07098172874716382,0.07141358190069458,-0.078547542680832,-0.07232533166938536,0.08189123074092919,0.07297481036314817,0.08246576046906749,0.06218119759154588,0.007965884363406926,-0.04407589366451704,-0.07341144755775951,-0.04780813544272068,0.08029450750593277,-0.06155815895055894,-0.06620144553074565,0.06755998828713675,0.03063764397389106,-0.062019967285421966,0.06272975049899017,0.0398278954675218,-0.012646794547669628,-0.031146649265223203,-0.01577373361582137,0.02501121890777223,-0.07883596955771713,0.019796768431396394,0.01658886456289884,-0.056102442021212846,-0.017644220796738778,-0.0479478204433379,0.024329152575136768,0.08399748031851725,0.00808289610152543,-0.07041155290448578,0.013480496379340765,-0.07835042699888535,-0.07519877740773731,-0.04493057533446442,0.08086778231947482,0.0015478301120822632,0.08393465552693956,-0.07334870737242015,0.01548332567573017,0.07843143338942653,-0.06991000073785524,-0.010831857921920386,0.01851094878791785,0.054036531901515805,-0.04422746204766497]},{"id":"chunk-7db5cddc-33","content":"'google-gla:gemini-1.5-flash', system_prompt='Be concise, reply with one sentence.', # (2)! ) result = agent.run_sync('Where does \"hello world\" come from?') # (3)! print(result.data) \"\"\" The first known use of \"hello, world\" was in a 1974 textbook about the C programming language. \"\"\" We configure the agent to use Gemini 1.5's Flash model, but you can also set the model when running the agent. Register a static system prompt using a keyword argument to the agent. Run the agent synchronously, conducting a conversation with the LLM. (This example is complete, it can be run \"as is\") The exchange should be very short: PydanticAI will send the system prompt and the user query to the LLM, the model will return a text response. Not very interesting yet, but we can easily add \"tools\", dynamic system prompts, and structured responses to build more powerful agents.","metadata":{"url":"https://ai.pydantic.dev","title":"PydanticAI","chunkIndex":33,"totalChunks":208},"embedding":[0.008100435002019991,0.01697550995684778,-0.06869564927695253,-0.0033182801258794564,-0.06294265000152945,0.08870601320470885,-0.07023066308176072,0.013265080173217309,0.059984336390440054,-0.03235539929901852,0.0729848527730044,-0.01494963013677367,0.0189969148107413,0.044810699705040244,0.07383296584821247,-0.06038516254182135,-0.07671720751437389,-0.027644462884839235,-0.01858667564248173,-0.04473862465723044,-0.0008642373775124965,-0.08811926131630181,-0.05806810618065612,-0.023179330210839604,0.000951726811121287,-0.007494516176810253,0.002511944552728117,-0.026248698840878857,0.06887386632969653,-0.03972817085432257,-0.014132291806916993,-0.037360403814532574,0.05799176567933597,-0.03692961720496018,0.004103946157481939,0.019698497454535155,0.03398949441202445,0.033815474029006164,-0.07672018787035446,0.029109212159843946,-0.08997804923075098,-0.04251978266978775,0.049856232642001674,-0.0727266749254642,0.02895602329567374,-0.013716986524091581,-0.06744180572736962,-0.06902815434427292,-0.08358017172110105,0.07958027794025853,0.003127772389946109,0.02674151009808609,0.050981924834663364,0.05453594680914772,0.03427034243450153,-0.009370283717343525,0.006179277481370911,0.05004644943489519,-0.030120392074876056,-0.020805511930821204,-0.07754450802114794,0.027815394801158543,0.01064891852807841,0.06432596982271065,0.03293593383322658,0.07871575270782866,0.0783667911357053,-0.08734888978141883,0.08799639683464161,0.052517092155144524,-0.0566883425640906,-0.06846124784462503,0.034495130087888626,0.02563704910828167,0.011850516719108464,-0.01800475588574713,0.013179045005087923,-0.028421488652550835,-0.051067743727666676,-0.0730943077838695,-0.08465848133727814,0.022606676963285267,-0.003991704293183874,0.037593528076208166,0.07395964533086365,-0.021402881216360768,-0.06567905669795437,0.07138866973889517,-0.08168157010042519,-0.03664499714107998,-0.06380743564038376,0.05604599644245063,0.05570904589054209,-0.005985018797730593,0.0006980745320598564,0.063997049370947,0.005960467448517465,-0.07339543498190165,-0.0192057267656301,-0.030132275159879023,-0.04957792642426108,0.04984112049122503,-0.05315900673186592,-0.040469209432022354,-0.0419473611968568,-0.04333363081385742,0.01876719370243398,-0.08553567625462191,0.04788746870615316,-0.016109562010124333,-0.019864478892617422,0.023300085388738453,-0.003929636814957674,-0.07432857622606648,0.08637589621846593,-0.03872763795603232,0.07157332195667516,0.06703624197061908,0.07798159210946864,0.03946476720499955,-0.01597763612922812,0.0027455846630160437,-0.06817355867896413,0.019327650866888833,0.08165631325165905,0.07564209127916477,0.03455442582361237,-0.011249144780603645,0.0726288905230663,0.07442726336128086,0.020934747012504983,-0.06195474660639715,0.04575810699953961,-0.05430205051430028,-0.06734185816348241,0.0013630109806159602,-0.0066976114427344064,0.022374599595906857,-0.06888016552600651,-0.055996796595977824,-0.08336375009013282,-0.06271464420182521,-0.0891884629369804,-0.06984062524287812,0.042819285635567174,0.04732066954710021,-0.0016411116855778668,0.05198487755237879,0.025629993764389764,-0.054539486133231375,0.01582529560616865,0.055423484693084966,0.040064107678993474,-0.01979585833391296,0.0031643905654899183,-0.051368349066280385,-0.08389156012786081,-0.017546639310088832,0.06780748735978964,0.05390614228001819,-0.009842998807477285,0.08422909631774729,0.011237041920940617,-0.037063662109312986,-0.02782094275235163,0.04911652834161171,-0.056926821446530725,-0.06879246511543728,-0.004712597068619803,0.021550126259946924,0.043282372047865496,0.058668726067138084,0.07732823931047447,0.05801302198914141,-0.0490099082363201,0.08124752753921011,0.055282759948721505,-0.06935383030684601,-0.08764898027510434,-0.05943162745539583,-0.08817240384140712,-0.007614075123058665,-0.015702156493822752,0.02962689656834379,-0.04401640141493808,0.07736779821116868,0.004110527715786056,0.0603770773113361,-0.06965501017355331,0.04544127557787578,-0.06341979981266688,0.0652239286879922,-0.06045402693939943,-0.0004562252764194329,0.011883836031894633,-0.051344427060169555,0.005376225228852195,0.057711997917261774,-0.040561268617035746,0.05411290969916286,0.03909852596672053,0.049159927447703776,0.06760604991671684,0.018959732305837706,-0.036895652848105635,0.07715338980099977,0.0014071006034095258,-0.05705789600345635,-0.020869468821904418,-0.07823999124168982,-0.026992905574663485,0.022390056450080225,0.025513462472138555,0.051651580214414586,0.026395145231849913,0.06056813522055942,0.07799652914583832,-0.07609656436490375,-0.08998436558358551,-0.033120006838833795,-0.04651780502441963,-0.0846373398500916,0.046973538696435405,0.0474231485079236,-0.005911112584391801,-0.0867913056648178,-0.012674062735178815,-0.04187435568388186,-0.06583596957233506,-0.025001163673006383,0.0779401553773895,0.005437017766221707,-0.014644900184295106,0.04698841344441136,-0.0637675104552001,-0.010702225955424258,0.05839429386378851,-0.056945685407094056,0.017003740017489225,-0.037747866574199374,-0.06042788850744184,0.02508587029934055,0.02379411552292031,-0.020049456771712475,0.01200511035632671,-0.04802863042803018,0.08423711805589208,0.028594735740245916,-0.017987654411997473,0.045925008635683925,0.05702000958221454,-0.011418163678602829,0.006181798527247525,-0.024297890401728958,0.012013793560249288,-0.07254022810512267,-0.002326346330369239,-0.005474784873502461,-0.012066719637325996,-0.01112128434445482,0.06457386074606582,0.02951374932900448,0.08370145629099762,-0.03235983632915546,-0.07183157172981172,0.07819781271083562,-0.03589399019256889,-0.04826710631104647,0.06035085505286769,-0.024567279709883164,-0.05144217552771954,-0.08934765793868432,0.023960213796927723,-0.016167302580093964,-0.05027406518744237,-0.045556281623726644,0.03607956520953629,0.0545759809742221,-0.009447428954124166,-0.004357987693330108,0.015500485592832002,-0.03700573173500476,0.04124309292622574,-0.07992015521083896,0.019597130459275677,0.05369095361145713,0.00848709587332437,-0.08940532357262375,0.025913192847413922,0.06102226861208545,-0.06536737807118673,0.0735441249704364,0.03857724779355117,-0.009162088713645569,0.005339344655968852,-0.07247992307371125,0.05446107001461802,0.02178178694369456,0.05053287173426727,0.006604534024296266,-0.08140317024810981,0.04143594582754641,-0.06822642967176108,0.019240484377184234,0.02700475069063401,0.006980118526210669,-0.06753359761464024,-0.0878271694909948,-0.014341988210404085,0.05325905376522127,0.016714536049072675,0.008854774549332832,-0.06894639107500491,0.007001519602070615,0.057604469028320296,0.06818185205609481,0.03534735263601122,-0.08647104881049797,-0.018856156007919785,-0.08474369241954383,-0.0893071557445671,0.07064547981007917,-0.08871136718491342,0.07436546866501986,-0.011572088991919948,0.06515449631010178,-0.0867038373649453,0.008568011006411653,0.05952162541439595,-0.04784239771312099,0.0886285105170008,0.03066443114600716,0.09059393271054288,0.02089443670679357,-0.020377273242850377,-0.0368848547219761,-0.056760652931870964,-0.08763596365572017,0.03643479154265583,-0.049943210974168394,-0.05643842512867791,0.052084617794051824,0.079060911941226,0.0761115038133936,-0.023400604664465703,0.02090043215892625,0.042985676778335404,-0.03556784306223395,-0.044758717363737946,0.03266600293497237,0.0050349313766366545,-0.008143942593129588,-0.049229946240994374,0.01855879451876141,0.013649287214348505,0.030195094742167906,-0.02911431008216598,0.01728287613632761,-0.040099799506373934,0.06743764605886753,-0.04043062010307478,-0.06345554633827571,-0.010026304785343953,0.07720170865016215,-0.018615606066330916,-0.0838925754943942,0.05413370002572568,0.03425329453942296,-0.02645234779413788,0.07411277032207485,0.005921552509140055,0.051275668952699444,0.054615829018157,0.07317359683263054,0.07675413730258271,-0.019126573201278297,0.03450158656748076,0.020119410155312534,0.03578946902517534,0.050623543371744996,0.05061685217360929,-0.007489019588513283,-0.022251887392633576,0.06505107733204234]},{"id":"chunk-7db5cddc-34","content":"Tools & Dependency Injection Example Here is a concise example using PydanticAI to build a support agent for a bank: bank_support.pyfrom dataclasses import dataclass from pydantic import BaseModel, Field from pydantic_ai import Agent, RunContext from bank_database import DatabaseConn @dataclass class SupportDependencies: # (3)! customer_id: int db: DatabaseConn # (12)! class SupportResult(BaseModel): # (13)! support_advice: str = Field(description='Advice returned to the customer') block_card: bool = Field(description=\"Whether to block the customer's card\") risk: int = Field(description='Risk level of query', ge=0, le=10) support_agent = Agent( # (1)! 'openai:gpt-4o', # (2)! deps_type=SupportDependencies, result_type=SupportResult, # (9)! system_prompt=( # (4)! 'You are a support agent in our bank, give the ' 'customer support and judge the risk level of their query.' ), ) @support_agent.system_prompt # (5)!","metadata":{"url":"https://ai.pydantic.dev","title":"PydanticAI","chunkIndex":34,"totalChunks":208},"embedding":[-0.023096534647677615,-0.0043409384884854916,0.008917226934427362,-0.04195738808977641,-0.07465301930504023,-0.07600031257189714,-0.041518154121151514,0.03193056478982755,0.02425229382060463,-0.07587071608857601,0.08803778935690253,-0.003026615972439317,-0.01672702199980011,-0.012492103092015846,-0.04050850898690072,-0.055964761813210764,0.07323926711292132,0.08442524338076096,-0.01613022930611251,0.06945964780694713,0.06660912627862604,0.05892458076742156,-0.03751163042121933,0.007509732659529039,-0.02237451267948385,-0.01627895643274073,-0.01490120645141381,0.06641076582295588,-0.058321360420713605,-0.07010648432865567,0.05393017425638555,0.038206775028469316,0.08077556590548048,-0.007579960878664664,-0.003223652962592941,-0.07506078328900437,0.025526208440864954,-0.06149881283731934,0.03392363385209488,0.08337261535740906,-0.03173611990940122,-0.07744262809635084,0.029635421235474597,0.07532916333718431,-0.03969021280666446,0.07987559800276002,0.08044055626374995,0.032165605567018606,0.02833455913031498,-0.08247692927910874,0.029754774815249737,-0.004818109921824928,0.05087981548398277,-0.05755757617303816,0.05046927193672151,0.03158779736760765,-0.08559910775142526,0.03167133380629614,-0.04326736422476217,-0.07906298339105929,-0.005077573475851807,-0.022976486814214568,-0.000873472553455278,-0.05292775814682833,-0.018106018535049,0.030980325814020045,0.07801738972627371,-0.08197455578855405,-0.007471085691501199,-0.005992207582572124,0.0351989884772263,-0.051400622346793906,-0.04913050415090337,0.015327599075280468,0.013699705447233094,-0.04349118099803571,0.04920194496363538,-0.0677760325901467,-0.06965638132175671,-0.03454795166614191,-0.08426398395922968,-0.05364342434050436,0.01726359099126688,-0.08766973499439183,-0.06184949539816082,-0.03202070033371297,0.07454025591467332,-0.025332441800773667,-0.07757771387018589,-0.000243380601698952,-0.01857516789005027,-0.06196214600867578,0.00025000897715968517,-0.019586464665904583,-0.060799529506181685,0.03929914659599276,-0.0696414030071225,-0.08806551934549071,-0.026756604612649896,-0.06188044311852849,-0.062166085417141616,0.08410597284313963,0.0046563833770202675,-0.06991571364796124,-0.07073006846760353,0.07061821909774865,0.04211331994183683,-0.021242128587054016,-0.021063809986158775,0.0856113810869941,0.03846818400069166,-0.01100116798613107,-0.0034535559027640992,-0.005374352142804598,0.04298334708496544,-0.05696883233156705,-0.053136610037310676,0.017011288838041868,-0.06108138009782306,-0.0787742991665683,0.05958154588882641,0.004997714616664712,-0.04860569290715707,-0.003967633538127647,-0.07271393585015552,-0.08153799332611908,-0.011067288650388814,0.07527941829770185,0.06106394784094082,0.03582566518536891,0.0334037054325894,-0.03608958603324008,0.039225023489691514,-0.060112478694810026,0.07470525091320634,0.031456320803121884,0.011034946176988266,-0.07373734934281248,0.0369078459332451,-0.0067170407685129075,0.02608464518359938,0.014183319652104622,0.028533459476592336,0.06039748707511084,0.047636142375803756,-0.028628079779727915,-0.06397015174924381,-0.021544525260379935,0.051055588453583996,0.0024312706244195774,-0.07185442503132296,-0.01163180256710765,0.06632477850987384,0.054640838456715864,0.021376733129762463,0.03579195943517694,-0.019520760041690215,-0.016531053332938608,0.015375316713047354,0.05929330821577009,-0.0669031827706252,-0.0709290947075906,-0.003393408564326791,-0.0723411253991114,-0.06018257552502014,0.04372223599241054,0.06579496738776586,0.013235347887396868,0.050587305816231366,0.02470362951634266,-0.048954657070550876,0.051012111204785215,-0.008773090626517491,-0.05144838010594167,0.07439844897526231,0.03447300207918929,-0.04353467164515036,0.08495816755739109,0.01584356898694622,-0.03916479615045875,0.05370469699729662,-0.07769474626522144,-0.034084733265522776,0.03987960224451965,-0.0057715720077048255,0.07700779928886821,0.03475383265784443,0.035025030589201187,0.06120753321004387,0.05060174072079247,-0.06273674140759566,0.07290590280880643,0.004473766159187574,-0.05996565396236563,0.0030531966287537233,-0.023268685378030403,0.07592798027291528,-0.053388903875964275,0.027302464223752525,0.05046694779041735,-0.06480983353397628,-0.04139806314741724,-0.04057974974387603,-0.046671796803299075,-0.08715688956309055,-0.07770207141750891,0.00019059852462867323,-0.028737057498954072,0.048374118877386484,0.0581924516866633,-0.07433450270754721,0.013454140343833298,-0.07759091572366197,0.08148518989752304,0.08268834431604506,0.02559222794045702,-0.0868338444703864,0.05884918228028483,0.012009431185773892,0.0010526295074708132,0.027277061250974108,-0.0874527591401122,-0.009251709460438554,0.08163165761032398,-0.05564951309361536,-0.04098743552508867,0.07663795817879764,0.008365958999260448,0.021354871717055024,-0.07192708833851102,-0.01302866584582544,0.029006377428306616,-0.027107689603925494,-0.028123708493213995,0.01799706233345672,0.04336234251050194,-0.036040148020969116,0.05094190202141036,0.08236323665325718,-0.0551518025186503,0.016497106773095745,-0.053218818417645516,0.05663136992407373,0.024985169474413413,0.028409947378164838,-0.08174061572268218,0.059086492728197826,-0.011749737659484765,0.06601470850436661,-0.009455706259257898,-0.060082130647046324,0.04764707929955364,0.03665306599367988,0.05821088272885847,0.0670004038006882,-0.007079007167087028,0.0635052101934177,0.08214004210634698,0.03270719120572653,0.008336126549797223,0.011300215620780943,0.012024463278030726,0.014249770121530949,0.03204118569843959,0.07455770107285362,-0.03884731608657377,0.008458636417791513,0.04191885757792846,0.02935484515020918,0.026898466264021575,0.012442649659508935,0.08176079438220261,-0.05959617041062407,-0.07470173440707914,0.05690677993120618,0.03253635798947341,-0.04601926460254858,-0.08415337223930687,0.011098905991318568,0.07323079100321808,-0.07302218407814473,-0.027795798747982166,-0.01828781867904701,0.07069568107483502,0.07366380512039525,0.06351751281450639,-0.06722740702366778,-0.04879023287119644,0.07433012544147286,0.037650420316276675,-0.031950041980730814,-0.003280139605542318,0.041949004290356265,-0.04927568261388649,-0.017141061838168756,-0.024226886120619223,0.08661409325769263,0.053584579087814534,-0.0351691860183178,-0.05229156362929954,-0.06621925136013479,0.020129943760234078,-0.019475025265106825,0.008613013784530735,-0.06047288792484606,-0.016378931771396224,0.07225362856270139,-0.05768539927591976,-0.07862167776400167,0.06215622015380069,0.07794500583094374,0.020008535071411405,-0.05222919257544558,-0.06028081570820261,-0.05272841558280143,-0.08719366531975319,-0.062099793718289095,0.07284026270513236,0.06252669207672162,0.03580681029305908,-0.0008957534010507294,0.06332291348151321,-0.07373280711546122,-0.007818776359539384,0.06762759434185066,0.04803330160087054,0.04725820408128147,0.0020129154224246405,0.07952740803125752,-0.048512018056996724,0.009371537500223601,-0.0022885019463628514,0.06401576783542885,-0.03825413640211935,0.04731490790785671,-0.011846450784320294,0.020227188760518076,-0.026773450103010063,-0.057499188052997016,-0.07163326024275707,0.026757330369392932,0.054122046311856756,-0.021940991073716307,0.05053380924991094,0.05393458774914419,0.06585039923783755,-0.071071597363261,0.035842008955335423,0.05884506984457408,-0.027792686194678787,0.0002789924119505786,0.07725192516911408,-0.07860648257094313,0.04703396655020467,0.03130287072367481,0.01723732667796692,0.045750571905129114,0.04168942187544107,0.05523353276168248,0.03839263365375404,0.023541027941870636,0.02109079487292108,-0.001545178769177683,0.02900965369110125,-0.07376285828147253,0.06486328242123783,-0.049971956179357596,-0.01664125680028161,0.02943275928652729,-0.08462035546353361,-0.08193956146423284,-0.08287928947039935,0.04306202727958573,-0.027520871086814207,-0.06731320439895515,-0.020638569240216977,-0.01139502823546529,0.0429017270426874,-0.049214721924695524,-0.02808218767422792,0.0034602026028603535,0.05150590229992054,-0.014036808847996554,0.07831220401442496]},{"id":"chunk-7db5cddc-35","content":"async def add_customer_name(ctx: RunContext[SupportDependencies]) -> str: customer_name = await ctx.deps.db.customer_name(id=ctx.deps.customer_id) return f\"The customer's name is {customer_name!r}\" @support_agent.tool # (6)! async def customer_balance( ctx: RunContext[SupportDependencies], include_pending: bool ) -> float: \"\"\"Returns the customer's current account balance.\"\"\" # (7)! return await ctx.deps.db.customer_balance( id=ctx.deps.customer_id, include_pending=include_pending, ) ... # (11)! async def main(): deps = SupportDependencies(customer_id=123, db=DatabaseConn()) result = await support_agent.run('What is my balance?', deps=deps) # (8)! print(result.data) # (10)! \"\"\" support_advice='Hello John, your current account balance, including pending transactions, is $123.45.' block_card=False risk=1 \"\"\" result = await support_agent.run('I just lost my card!', deps=deps) print(result.data) \"\"\" support_advice=\"I'm sorry to hear that, John.","metadata":{"url":"https://ai.pydantic.dev","title":"PydanticAI","chunkIndex":35,"totalChunks":208},"embedding":[0.048797788611183085,0.05141405326594539,-0.035313309629821474,0.06718939105818302,-0.00012820970256800188,-0.02082290121422216,0.01979881714527893,0.03455560111718974,0.04360234085894931,0.0011111114188270595,0.05115203913319291,0.08638872512470418,0.03538828535088926,0.013185194260654126,0.051243732893618776,0.08061638612286988,-0.010776095185620884,-0.07609356577020317,-0.03245397178348341,0.03737595814317702,-0.051015903201831234,0.032747154161028566,-0.05770729966250183,-0.06116433756445203,0.05015530716356446,-0.016031419548440198,-0.08449671449038493,0.03844176773272269,0.07852364440492929,0.00823180085933947,0.08322960156888201,0.04998597714298374,0.0797369497465798,0.030211218534432146,0.03716187777711096,-0.08565712085832763,0.05380724562351038,-0.06330526112822546,-0.047084084578880525,0.016730544349788035,-0.06729899149686251,0.06818655046231197,-0.04626075959222867,-0.07875129174294024,-0.04026486803714167,0.08719646614626499,0.05947861007329893,0.08310085130623668,-0.004288808923248157,0.005949211779560527,0.04933030862157891,-0.07379769949949819,0.06922232300664857,0.03255709696047664,0.007885590541795273,-0.058568917346726417,-0.07041914192548879,-0.07858687820995175,-0.08632206536039361,0.0077097494131249346,0.005279979340155176,-0.012538663584690139,0.03040644071279351,0.08714552899819338,0.0035476841204435264,0.08021266319894542,0.06764420409114713,0.045965000631466676,0.059263479015217134,0.0856275800133541,-0.08567334299889215,0.06502337207249538,-0.050465797755138916,-0.015759018791112897,0.028298062032762673,-0.07172386088827007,0.040533261829052,-0.0003765063877447978,0.06422862523664022,-0.051634515527230605,0.04525993176107106,0.08615194997424067,-0.03948207055864121,0.06463955877602885,-0.03336907020630517,0.02578730268171595,0.001283493067778937,-0.03749107969981559,-0.023639495601190177,0.016277956790808106,-0.05247684932778386,0.0392696969634108,-0.0002253080516636098,-0.07534067018982918,-0.07461890735338987,0.08495793739534284,-0.021596985055487048,0.0671790069582065,-0.049474783394273504,-0.030998676333664633,-0.01842469318348713,-0.0526424236562894,0.07041418518075804,-0.04158087319029849,-0.02802833526049928,0.00254115519727742,0.07600668503094238,-0.05267931998978052,0.03294428659542029,-0.04906402926736783,0.08414288915567246,0.07824454828810885,-0.08035016932952259,0.0729425680954816,0.08651847535191323,0.025666352391162262,-0.02796757202850472,0.04167976532731038,0.08656367001470831,-0.018576808876812345,0.02011495366928148,-0.023072101936379902,-0.06716902845656213,0.036918842287261194,-0.08503785979087067,0.03527212229588669,0.02159258593538462,-0.011199141288886608,0.0185417849294128,-0.007399084739810671,0.06928658852356065,0.0024220332351197926,-0.07165512334291342,0.025062476436464486,-0.01366384784341464,-0.06955068503567156,0.002260158730386516,0.08334505462311598,0.005360023656747021,-0.009556580935882403,-0.04571234910740673,-0.07443885117370638,0.04636724702675599,-0.015020662595158019,0.0160480297404458,-0.07676627542595586,-0.00036564983980853923,-0.06724003485857775,0.05775056720116134,-0.0397737424153456,-0.07374344156287035,-0.021307061462540477,0.04657794792479114,0.0010540425607376439,-0.014639577849187417,0.025974072991867544,-0.01935620028908799,-0.04876675895321812,-0.0881938186530576,-0.07435660851163454,-0.03477787401355081,-0.005851573709478679,0.07494876515741399,0.03554284459568408,0.027901680100520944,-0.03050396711785136,-0.005101732023588071,-0.005631315782969357,0.008087482022693738,-0.03918181716932954,-0.03226505068286325,-0.025210644124871673,-0.08694537382384164,-0.038837444537827594,-0.028322278253714733,0.03831767844019843,-0.0011265588812901216,-0.05345422131268995,0.0032006319759153414,-0.07206104749833066,-0.006634048230297526,-0.053267778067221945,-0.05993290325129666,0.005761701365818648,0.0031962069769929176,-0.04180359778273458,-0.06741482960022688,-0.017948999856316074,0.03453864234071048,0.0347110158512477,0.06288352874717552,-0.06942581073834676,0.07759238086457021,0.02836197923320866,-0.06668734806491551,0.012091467886726841,0.053802279548693495,0.05646205095346955,-0.058569909427725726,0.05617144888505302,0.06165861501574124,0.07934742582184044,-0.06993515442342228,-0.053228322421956305,-0.07515822076680133,0.00860798098284779,-0.012800059323475204,-0.08308337756405089,0.0733596290804301,-0.015416028516149302,0.07211366293254554,-0.011605696639519351,-0.03686077256872518,0.03972656257498764,-0.015985306030270176,0.031413604278031214,0.004693173359684992,-0.07610390143975457,0.052512817754728984,0.06769286258198395,0.017877136666861863,-0.03292117617359581,0.001931979624455309,0.026202186815222357,-0.036706002394002964,0.03984424125386211,0.0872250170602858,-0.03603813756899243,-0.04537657933903762,-0.014662535437840596,-0.04692613613598617,-0.04698114273014919,0.03875788491341693,-0.06254768144093593,-0.08515699452161411,-0.048469748413324076,0.02307432926347709,0.021486566592478842,-0.08057092557124124,0.05514715059651109,0.06391752938563842,-0.05711260587738114,-0.05433436202531174,-0.017499141875669803,-0.01773265243841367,-0.06718190281902284,-0.02560200319884177,-0.08266353210312945,0.023165884683870396,0.07530840937361488,-0.0061099969275618385,-0.017934242568730954,-0.010693054889409342,0.029329985777645697,-0.014010558626094233,0.009916548464741347,-0.05120588124120078,-0.08096771031760581,0.07889864858211673,-0.009286960228365636,-0.058957813834462754,0.0498081121034706,-0.05086381565850029,0.08821275201133975,-0.00789459658199209,-0.08040168842132768,-0.0138148490787704,0.04286866021331352,0.07894446955968587,0.004395968480359354,-0.0787466505181991,0.051494100303450786,-0.0086883178278273,0.003764248832016702,-0.07838870370140762,0.06749598888211834,0.030587086438087756,-0.0060476445065719975,-0.08313939669111105,-0.004876764002388558,0.06237780487897056,-0.06909124456008754,0.060415833318140925,-0.061093023031075035,0.08616766729577346,0.015963768268473212,-0.008745030629170418,-0.027957746627436594,-0.08441269891185181,0.047469330752174924,0.05459260252876628,0.018855969205328345,0.07893150746309512,0.007791710004989725,-0.08765494046663429,0.057600548607282004,-0.03801442083269606,-0.06593930088519585,0.08794241781606346,0.04979227921519614,-0.042861558018660054,-0.04728987132051921,0.08424814279209,0.038030074013160976,0.07628004111993203,-0.022276175886206964,0.005716298232892179,-0.07898020558209035,-0.07156754247734168,-0.00960989607139668,-0.040546477387197404,-0.027880920225876776,-0.022847583965124114,0.012328122389353095,-0.02312517935890751,-0.0752513754372505,-0.057517301871163655,0.010093282618236924,0.005319565196479839,-0.0348582120842702,0.012077575003442845,0.03669357818917513,0.07679852739663495,0.06067501607150773,0.01021620597171659,-0.07528950542788729,0.0021810605735751165,0.024598060089465107,-0.04695412186014101,-0.07561080796653621,0.07126228602246447,0.015219539803544565,0.034897912141827754,0.07580679086598714,0.003732781866901459,0.0793133850504058,0.08741454354495622,-0.02703020926713482,-0.08658716715662267,-0.02970584341176249,0.0009834656663741076,0.05905532705906048,0.022453282282161216,-0.07787437850347002,-0.019637883211980706,-0.03516687520317654,0.008699546924195193,0.005240943290681024,0.05764560207088873,0.053130835108800685,0.03640742254361349,-0.08249916223685315,0.010546746945862726,0.012319778284288952,-0.07493220239282394,-0.015312958987023676,0.001532096231647313,0.059042333326488894,0.08219776192381631,-0.05310613621296572,-0.00939792142601457,0.0007787684548677946,0.017901455420814647,-0.007494589245990765,-0.014549965044036028,0.07490973209053338,0.049030901224517025,-0.029357142446294962,0.03460407026769334,-0.00563357615707445,-0.07911910493996385,-0.03321609259904802,0.0270581235863872,0.02345823460605866,0.0019386489607394245,-0.07419642391655688,-0.016433010730159035,0.023857155367965465,0.008271572100927266,-0.07346132915647074,0.043739590165081534,-0.0389472966064072,-0.008610337366655129,0.07715634792051666]},{"id":"chunk-7db5cddc-36","content":"We are temporarily blocking your card to prevent unauthorized transactions.\" block_card=True risk=8 \"\"\" This agent will act as first-tier support in a bank. Agents are generic in the type of dependencies they accept and the type of result they return. In this case, the support agent has type Agent[SupportDependencies, SupportResult]. Here we configure the agent to use OpenAI's GPT-4o model, you can also set the model when running the agent. The SupportDependencies dataclass is used to pass data, connections, and logic into the model that will be needed when running system prompt and tool functions. PydanticAI's system of dependency injection provides a type-safe way to customise the behavior of your agents, and can be especially useful when running unit tests and evals. Static system prompts can be registered with the system_prompt keyword argument to the agent. Dynamic system prompts can be registered with the @agent.system_prompt decorator, and can make use of dependency injection.","metadata":{"url":"https://ai.pydantic.dev","title":"PydanticAI","chunkIndex":36,"totalChunks":208},"embedding":[-0.0336099411205293,-0.0628710597418275,0.013853141482880589,-0.04539401761201458,-0.06404096126309311,-0.021058022837322245,0.017926036224670167,0.04021611919632529,-0.026826110477452876,-0.07107688448505962,-0.04000509964851646,-0.027395888651641553,0.08444923821312021,-0.025966820952821736,0.08266039708093112,-0.05795029446521905,0.037883268066198426,0.0038153842621477534,0.013266346648257162,-0.0840931789839031,-0.037424493921796004,-0.07422994097591988,0.009327815745266489,-0.00009991222058707588,0.024751262231774717,-0.026170570530091135,-0.04968105006310003,0.0715889805487338,-0.07323773450744041,0.008906019793354328,0.05329241584487254,-0.05749936788347635,0.08096591651439938,0.07225296699273515,0.011188539041485437,0.08224094939739235,0.044592495904999606,0.042646158720107595,-0.060333082835442434,-0.06148265525011888,0.03765119211468198,-0.029512932943611823,0.0032389430184149763,0.06586857332132857,-0.032889630650003256,-0.07146858668082916,0.014913960247881773,-0.048937237890337694,-0.05919036367453437,-0.011831226233565082,-0.057107627078047514,-0.003148359453872727,-0.024779024958382103,0.000626406386381859,-0.011513318929441223,0.011842754794748826,-0.07789274023177127,-0.06039246365120198,0.04527928154062003,-0.07499051410670643,-0.010021293495254588,0.0806848497483769,-0.023159009552769703,0.0764565092865406,0.06931070176777342,0.036440677422212193,-0.07037286045923255,-0.07378665819563744,0.04209618295680567,-0.08209233968238215,0.03861412963268724,0.018329132742435004,0.022706422632656174,-0.05691013286991692,-0.0593041186808054,0.06466952526766145,0.006732374493149291,-0.04864802936775028,-0.05895316423651079,-0.0387229243430228,-0.00092485496072143,-0.021972090353958453,-0.003599503478862988,-0.061324043944131434,-0.05566737159547955,-0.05567325902611697,-0.004340226801651655,-0.05787187915824584,-0.05229723402840236,0.08400078798806483,-0.01909979229877732,0.06882807534990952,-0.06398829260139188,0.08398366100347904,-0.0005831352654831551,-0.005109648878474314,0.0237468334432889,0.038638476546219054,-0.06590719956842916,0.03771919885209197,0.04653455480013929,0.03844756460197278,-0.001567158080476317,0.07358143181718364,-0.07365105823739088,0.003291561131896115,0.02193772959549986,-0.033895802648611084,-0.022404490052311807,-0.0005849050486862086,0.05041424437131136,0.041061158891048395,-0.08478287908670842,0.08754441078186229,-0.040898245699487495,0.057263984702216365,-0.008048372445085024,0.013957929082876928,-0.04496762837326147,0.039851095769455745,0.012521015367710536,0.021397428988865812,-0.05946370792874957,0.062058747278800966,-0.03809269578239537,-0.08099049932978845,0.0650068481388161,-0.08227763881769723,-0.05037620414789002,0.017494612781210218,0.010976450206016777,-0.03787630545550171,0.07489219780120517,0.04999577165618702,-0.08118030213445841,-0.034222743492962907,-0.07518259778372198,0.08459661727353507,0.001975294963976021,0.029815017639815734,-0.05222497887241624,0.05269935368542045,-0.0216851791247567,0.04664411338105208,-0.07926840301524747,-0.08781870429873735,-0.055605316959593976,0.04535574490724301,0.03048187607475035,-0.053467196285786146,-0.035917252925712205,-0.07198095387378843,0.038582128396379874,-0.0015516449128313583,0.029122752007373322,-0.005338515446381749,-0.011334191128615924,-0.05416382191023844,0.06023050795800492,0.018632204022440407,0.02001402118059015,0.050141090447067424,-0.084415782492186,0.03411083986241252,-0.08309939555530074,-0.06556051383008327,0.019243720857824703,0.03965674001860939,-0.06926849417221205,0.032163007071947095,-0.03794839408720375,0.05246450792799617,0.062228157893141844,0.02258773740739454,0.049569844003849124,-0.057949507841642794,-0.01196111143777189,0.000573616895833691,0.011608890402856347,0.0029832828843412455,0.08612524702394007,-0.01610817291295747,-0.059129982467465286,-0.07854752407376002,-0.07190238149601792,0.05255657138460522,-0.04910610826817791,0.03486819343849126,0.06252503796030386,0.08161069461957673,0.06141560919576026,0.025407007855393716,-0.04167123372947621,0.08513410917268831,-0.029656385077953804,-0.046161556520556625,0.07616630784131714,0.041584733910524516,0.05054959355272388,-0.03550861057244368,0.07944712887283324,0.010779885436677654,-0.012625786718237298,0.08442627493174333,-0.05922800503950746,0.05592547713777195,-0.006895365058370263,0.0376986164271467,0.06601085405653835,0.04592631420581553,0.010976546589544738,0.07644412191904768,0.07883277592533779,-0.0434224273405011,0.03163823965226167,-0.007547041207770712,-0.06069357790290429,-0.03207602959231879,-0.06416141567475868,0.049625394040734586,0.029808773631946166,-0.06584796372654718,-0.0851079771627963,0.014046201944751325,0.07124054169258898,-0.048570402345533156,-0.017767003942490034,0.017213632721451745,-0.030155307182938147,0.0479621144055954,0.0330476440549316,-0.001516665753676549,-0.06514518655341779,0.012807491704381025,0.0004842247725127749,0.023052646616714002,0.06896946141833629,0.0662206195354149,0.031903058082224205,0.03528994211289596,-0.08558357995306451,-0.03884478083108218,-0.05219609996279768,-0.047952087631240196,0.004450339798815589,-0.07863040666498912,-0.08649961596348653,0.08515192634127816,-0.06029821083082152,0.03544145440116176,0.006580675387310607,0.040861361100200985,-0.07291312794568772,0.00822564443341123,-0.07462089134026878,0.003045903498139299,0.051900791050923205,0.034529931709056653,-0.08525719971637247,-0.08516152410174035,-0.058668259800811945,0.03753936129111612,0.02143762975958427,-0.07495879363601424,0.015508695745328326,0.025129015389110883,-0.012353549319066388,0.008328816833029641,0.0587323947372082,-0.019170999854382774,-0.05940013909710484,-0.03857282560510813,0.07829234906104147,0.04866936258807332,0.0542298614950067,-0.06657614407683016,0.055493064544568094,0.051021463939095006,-0.05981593148085863,0.04765966907945578,0.018132796102703394,0.06417543219020817,-0.03593828241603596,-0.011615806588141793,0.08081213040161007,-0.058796065088343105,0.08135250037405481,-0.04134275010093041,-0.06792931741468716,0.01988636853236447,0.011742139984475007,0.027255128482325506,0.02644548779433018,-0.007337667570340659,-0.04933616782575846,0.03384614271577687,0.022367078482323388,0.0012911281530597325,-0.0520703609811086,0.0015756555978344669,0.02288867308506293,0.08081972663680716,-0.044306490942058054,-0.0030573750568220807,0.07722898192169468,0.06375659974170594,-0.045389353546344734,0.08744649577609123,-0.06367217670982721,-0.07935537908761389,0.0615327314226686,-0.004855906355299892,0.05119422419105469,0.0655795279520566,-0.017848430840263774,-0.07399155310003822,0.08305141795080336,0.06443003430900804,0.01955780659723398,0.01127743618949996,0.06314091952871231,0.014205162322281056,0.05926376848608945,-0.06716792898350592,-0.011138102228216892,0.07740141257928174,-0.06633008780740292,-0.01915351341024433,0.04814779612897249,-0.009943414821801468,-0.06746012002033056,-0.014525659401128776,0.030592386590697504,-0.05457605826469276,-0.07202993010592094,-0.08268958573958762,0.03480799687446286,-0.06859687880467534,-0.004328283365401485,0.006903219705648572,-0.004811412282410051,0.029422403615016152,-0.08749174355946249,0.07820455807427402,-0.011224749923034105,0.08601108524335271,-0.028494567679155255,0.06463798421252612,0.00437193807333466,0.054611442850464,0.08666731977127262,0.0010419398453816193,-0.0406595885300292,-0.028751000500819197,-0.031678740739957606,-0.016247757096548476,0.05105260346406719,0.023233478376951146,-0.07852121224634769,0.08303170041438965,-0.010314925587516576,-0.07081852812747773,-0.06599904144783394,0.051857457690945526,-0.05190086261654997,0.0720641596364493,0.009207145233756,0.03964652037023653,-0.011726714467771153,-0.07167830528210303,-0.06829852966019956,0.004690306419141378,-0.007371017800119398,-0.05968215513238297,0.037491675816501216,0.03348250316944375,-0.0592379478336489,0.040368886701510724,0.011460628292164824,-0.06217152249933198,-0.025626651358747757,0.031128993482503083,-0.039839196558231135,-0.049710904500396114]},{"id":"chunk-7db5cddc-37","content":"Dependencies are carried via the RunContext argument, which is parameterized with the deps_type from above. If the type annotation here is wrong, static type checkers will catch it. tool let you register functions which the LLM may call while responding to a user. Again, dependencies are carried via RunContext, any other arguments become the tool schema passed to the LLM. Pydantic is used to validate these arguments, and errors are passed back to the LLM so it can retry. The docstring of a tool is also passed to the LLM as the description of the tool. Parameter descriptions are extracted from the docstring and added to the parameter schema sent to the LLM. Run the agent asynchronously, conducting a conversation with the LLM until a final response is reached. Even in this fairly simple case, the agent will exchange multiple messages with the LLM as tools are called to retrieve a result.","metadata":{"url":"https://ai.pydantic.dev","title":"PydanticAI","chunkIndex":37,"totalChunks":208},"embedding":[0.022976237275850263,-0.008849928872578605,-0.08278399202459782,-0.006227862690410164,-0.06974839033601656,-0.006534311033611639,-0.0828930177604781,-0.05175844261773112,-0.014400298236472407,-0.02870979471063437,-0.00811714984330778,0.07985506245042517,-0.07064595952215291,0.023248751085444292,-0.05345646502595245,0.015509265566841877,0.038465567035051454,0.02933186384520658,-0.02238116944957968,0.08392652465192896,0.08062915498355423,-0.020528062631994734,0.012248985282226966,0.08343745974643699,0.045465096806686284,-0.07198249872172109,-0.019458606754745617,0.014436769045262147,-0.025875832652435617,0.030683637108299494,-0.0588009730274261,-0.004110182044042966,-0.07841034470898756,0.018659494300978074,0.08276167739991294,0.03549191406076568,-0.06853133721162932,-0.059253953431327784,0.06189974280914226,-0.026602155931505254,0.016061180082165106,0.06217456975220638,-0.027426808445654302,-0.06012141773549746,0.05126011016508219,0.0720302573963196,-0.047992471675879354,0.06679026294354776,0.07253757113898267,0.022023251377782962,0.029000300514073547,0.007428668658636409,0.08049764251235032,-0.021612523305569602,-0.008227908544832123,-0.05604436057975563,-0.04536533607528701,0.059549547150921124,-0.05808574453205807,0.059994358892563986,0.0540201338001547,-0.06467499937092408,0.0294084141887842,0.08398588415823491,0.047032391542892696,-0.07281406567791458,-0.038956604020522735,0.0680104361488355,-0.08538643173562951,0.022711968116637036,0.08724458411308428,0.07307451209379934,0.0727358456561238,-0.06378589520831063,-0.05121068588626828,-0.06903742310636778,-0.08187028848552838,0.03297058374196289,-0.04203530085559389,0.041543476357370074,0.08138045086724698,-0.017400313073094118,-0.03394115546140605,0.06986797919808965,0.06137067930010969,0.0031687977426654063,0.03508382098489195,0.06820452638420559,-0.048140697925521767,0.024231158021279568,0.003734156873473674,-0.021878956035112168,0.06562111924948023,0.05103934243868925,0.07257894956014535,-0.035965752053824476,-0.028548681376613934,-0.07571311937054973,-0.0036321010228816315,0.04989980670847306,0.004382521038256493,0.013553159031907094,-0.0005531887863048615,-0.06886871239031932,0.05225553832831872,0.010102063797727795,0.0628932785374993,0.02858815379567818,-0.042337768034993506,0.07394967447121131,0.03344734431664501,0.0012576341457883708,-0.05834172776274261,-0.0683676744154634,-0.0032879595415941727,-0.04290540876997793,0.06093453333731166,-0.06049776539648204,-0.017280741631333335,-0.07015257075124741,-0.08516703202848165,-0.016354065309157607,-0.017747981065789207,-0.050485757487954495,-0.009627691371644459,0.023603792986419982,0.06776708082058622,0.001238726383585243,-0.0512635452769823,-0.004808589204796511,-0.026288960563697356,-0.00251782814077994,0.08406711012855299,0.03218533956863316,0.0738101358047644,0.07153950747424834,0.07571124909532811,0.07775399898380178,0.054211291036306716,0.0032597250673358506,0.013630744924686503,-0.020716513478209384,-0.004069247405272811,0.04130813883881815,0.08265330933453206,0.0704618319626653,-0.05005459472415943,-0.022725880884204526,0.023819375535290746,0.07076251957045604,0.0794933824303961,-0.07339150427122144,-0.0037509557383497835,0.06859759323422983,0.04568076179856646,0.04990195711842438,-0.05028946990843027,0.013299019490754523,0.06938964565454087,0.02029375913954583,-0.06771310713583387,0.030918951020616956,0.0390169738465039,-0.0021185876664476366,-0.07856146231422889,0.051432425963443516,-0.024070065172210938,-0.07469022390447938,0.003265326758998639,0.06660641959306705,0.02528098216919644,-0.04964632461240477,0.027772888119380796,0.029332090010682568,-0.04410870950906504,0.07896328801502628,-0.07052962688739177,-0.07086669227268012,-0.012080880952686083,-0.01153054268331087,-0.08205292775463485,-0.0759867543999783,-0.019604865696806112,-0.04083893316489747,0.03536915286479871,-0.037591431538917995,-0.019277290579115747,-0.0869332899505478,0.01809905425576037,0.06438100854875271,-0.02479769752871732,0.019932685139739732,-0.04068741865584615,-0.06547970713148259,0.08079902829610194,-0.03744852682597039,-0.004691491820935041,0.08647108394122845,-0.010567812784964227,0.02962060842323965,-0.06238754702132997,-0.07589573059369169,-0.03656700688776125,-0.08593656064526856,0.031350723489435475,0.025302792264024446,-0.06169116849551671,-0.03501484016032706,-0.05231756953287025,0.06581062960687745,-0.06529092917861318,-0.04074540011184511,-0.061666269722463266,-0.06093973818857867,0.023581624152416183,-0.07561896523529822,-0.05431488253911734,-0.07894748566525595,-0.026402381917887883,-0.038167126879990854,0.023104523482826312,0.07491967785686691,-0.07730686034974528,0.0724640963079035,-0.06580034005119238,-0.06149094967862228,0.033315485803917654,0.01688490636733019,0.040400913233774496,0.04367044298898749,-0.05898954448792568,0.011328696906181645,-0.009353853692640671,0.00499565689583246,0.08131651917670059,0.05601264279903373,0.024852163870772506,-0.054614611048194706,0.06857036378237182,-0.0301311097819187,-0.03718155846814839,-0.04838036213545896,0.031861371307017466,-0.06827280538868526,0.07993730469948847,0.022788000048747238,0.03918276505287345,-0.0081327751971448,0.00031830350461894557,-0.08691750933914422,0.02805979706386722,0.012340541411130626,0.00329450181476027,0.031672588382002625,0.02970572106520036,0.04165501368849258,-0.03489426074589063,-0.004739146409720296,0.07213253219869517,-0.06962882884980344,0.051747847382160705,0.012428317000384877,0.018901967687505287,-0.0023126556137047496,0.02229332622445774,-0.04848784474077399,0.054592702396310915,-0.03526988804519022,-0.060283772631798,-0.05657862868554012,0.0441631157909085,0.010426396009691752,0.032300580194754555,0.04181706611141467,0.04262814180184514,-0.019842779399871273,0.004814615593004513,0.07756723550805177,-0.07686787368066411,0.08225665863201052,0.0353948055835135,-0.07919259265168281,0.04473683015642828,-0.042363675215186566,0.08221630009152442,0.01459989507214184,-0.011077447849489625,-0.07682555240524544,0.024750668138840907,-0.03404283225375837,-0.04531644267790245,0.08032164345945862,0.007936985956845017,0.035839757795450226,-0.04634392346687602,-0.02985024194240839,-0.07756438193274971,-0.046239503000441204,0.08076388533212309,-0.012757653529956762,0.07768610195505479,0.06298685838276732,0.0048767158911772555,-0.024745600203598086,-0.007172358120830561,-0.05676658002689433,0.08397767084187079,0.011615888767020967,-0.06443526737630612,-0.08140331784891,0.03322714448749994,0.00860836672207686,-0.07463784276956989,-0.0633419920761103,0.019811799861397472,-0.05069442997307102,0.014481771080677415,-0.04898282580437268,-0.07525871077838564,-0.009554643625424842,0.0652765009983536,-0.05930848977344474,0.0331548802437836,-0.08031435629172419,-0.01858080767874473,0.02947666099550857,0.01139655765375498,-0.06500950117542527,0.010157566137300162,-0.07644267892711584,0.0276062572383575,-0.004562649414665244,-0.05303058529103079,-0.06299816115495316,0.07015929294841797,0.005874833375553869,0.04727219082577524,0.03295355942198572,0.06288449668600288,0.019872679171018818,0.06593375284357107,0.01222500168108162,0.08313606643732568,-0.03814464397841049,-0.08080184336805336,-0.02982162002158045,0.0069130480002886074,0.0658388127326769,-0.057697944811737685,0.05542117322292666,-0.014457887799831332,0.004439402304169126,-0.05291157792543848,-0.01534374665696763,0.034713121205627716,0.020657835976536056,0.05762386245825363,-0.08370452934386229,-0.03274362084449998,0.01856436118908944,-0.009803903374787256,-0.0591378886112652,-0.07123166704664381,0.037678453268054475,0.0012946003736251334,-0.044785990620474156,0.06595254000713702,-0.08416103209574824,0.028928997109161823,-0.08647259938920629,-0.02918429204199288,0.08668620070561384,-0.07012797402517183,0.0287047225889856,-0.036297153787117134,-0.035484190312036534,0.021682548787631314,-0.056146406889374986,0.043532083546826666,-0.054074515209375486,-0.06429042180171446,0.07052159282748885,0.0014552640360090215,-0.008014149182653415]},{"id":"chunk-7db5cddc-38","content":"The response from the agent will, be guaranteed to be a SupportResult, if validation fails reflection will mean the agent is prompted to try again. The result will be validated with Pydantic to guarantee it is a SupportResult, since the agent is generic, it'll also be typed as a SupportResult to aid with static type checking. In a real use case, you'd add more tools and a longer system prompt to the agent to extend the context it's equipped with and support it can provide. This is a simple sketch of a database connection, used to keep the example short and readable. In reality, you'd be connecting to an external database (e.g. PostgreSQL) to get information about customers. This Pydantic model is used to constrain the structured data returned by the agent. From this simple definition, Pydantic builds the JSON Schema that tells the LLM how to return the data, and performs validation to guarantee the data is correct at the end of the run.","metadata":{"url":"https://ai.pydantic.dev","title":"PydanticAI","chunkIndex":38,"totalChunks":208},"embedding":[0.042551325735224924,0.06426946130926658,0.006399998881213015,-0.009822943813187142,0.06598814554893062,-0.08586839250180764,-0.049218673854659965,-0.08288270051665896,-0.043035419647568095,-0.06882252449487455,0.0629786584846815,-0.08394580658211796,0.030047043241907247,0.07199608700701529,-0.04564140250399759,0.07558150441488423,-0.053930113832236004,-0.06389877088534515,0.012347322876642758,-0.04055880112604134,-0.06798388606265722,0.05248181867403711,-0.025698371069850977,-0.07234160524067389,0.06220325472286875,-0.0642114298208991,-0.009309683846504806,-0.06485792883770473,0.013680313156441635,0.03722859239712707,-0.023708211462331038,0.0028601080392400375,0.04315710630990388,-0.03269241041440943,0.032897652380359216,0.07707127030622127,0.07433920774491146,-0.05519030676660794,-0.020002067348780992,0.02741462606420782,-0.005183054461948865,-0.0757971718572535,0.0631150057193655,-0.039036873862560335,0.06115517011419373,-0.03646061222842847,0.03518628228713536,0.07600714707925228,0.0778686452506614,0.06855752527717977,-0.07607029883518386,0.04963041790821923,0.0467195625718705,-0.025359897219261962,-0.014966424773108876,0.03834909218369464,0.008389639710686783,-0.016411600360693227,-0.008413157001014394,0.08573374155863604,0.05435059125664037,-0.07075132169990737,-0.03476425040868781,0.0642497257931644,0.008622645723532768,0.039567216824910934,0.023919779283917832,-0.08306281309595097,0.04483511621426222,-0.026251739287059647,0.07338333108593717,0.07594431710195397,0.06490843044439583,-0.005685746912387624,-0.027130757489717806,-0.03691006966009323,0.02487175683468765,0.06804263550758166,0.01941900801951602,-0.08163108782244685,0.019181738232899464,0.003982414895592554,-0.04932875281632843,0.022484146627411838,-0.06364637220982902,0.0755782101698465,0.024319360179300014,-0.05526072920282724,-0.05776101770357685,-0.08537280063344478,0.04352426066564388,-0.08437593899877632,0.07198941292540025,-0.025226681929348547,0.018994469882722798,0.003536577480006371,-0.03392274237216011,0.012577594573140739,-0.07300731771104194,0.05704315090744332,0.054951408616605156,0.04472335549449253,0.06664008765570517,-0.040558945159855773,0.005139432381969731,-0.05579308483531499,-0.045337731938128685,0.0005438617833070444,0.011116267731998728,-0.08499465447731074,0.04089235973834696,0.024250518861651738,0.04313860571077597,0.08290700405283512,0.0033797599583939874,-0.04723327402109015,-0.0025366209609411477,-0.04349355791706311,-0.036996532164948664,-0.07486128367402164,-0.01278093260935824,-0.06793270201185288,-0.05818386924187278,-0.04513985514252796,-0.07774577305259175,0.02289955426294527,0.07802492015554778,-0.00073229006733441,0.01827143094346536,0.05233851785390946,0.05660255569856284,0.035416003285356344,0.02617190616588813,-0.07753818961859306,0.0409685158896612,0.03131988627020287,0.044626604894834554,-0.03204330947491951,0.05722162283596836,-0.04642122236503852,0.06873169146141113,0.05237543873458478,0.06003902333350245,-0.03645476553597955,-0.010734313937784836,0.08286705500734254,0.015133383270740142,0.05008780353368604,-0.027683541324294677,-0.026102152042730083,-0.02860303030982271,-0.06227342407780569,-0.05440231551718485,0.03288196249901851,0.029371701118296057,0.07229841986197265,0.047557060018330065,0.08564027840255699,-0.04322001861791061,-0.08035937373582594,-0.009963482589970546,-0.07872077850566903,-0.06242767496708762,0.05397373702003978,-0.06860126239545167,0.08490574344748128,-0.019488583209915252,0.014396759855050744,-0.05210551835105134,-0.0071920800529188,0.015963645700875773,-0.03510000883980498,0.0774791463961083,0.029597556695899405,-0.018499765270521846,0.05121694401007685,-0.03571953848659507,-0.007883662008420911,0.037077043736523235,0.08375240178007841,-0.008098876292765058,0.038660574904590975,0.03228171251274972,0.07466321506201956,0.019232402395051484,-0.07098820991094194,0.03829149031472298,-0.07850986502640052,-0.024447501730441086,-0.07434520997268093,0.01737295704605674,0.021795325353528357,-0.042704161979996366,0.01113077705153374,0.006255383417199987,0.04536254517643944,-0.009404335629085001,0.05806580841414346,-0.006642922817041044,0.0559362646657363,0.04853189961863852,-0.023236336108877795,-0.06245973314539342,-0.01397439694667628,0.04889364533948272,0.05824261748972919,0.059703316214434615,-0.002224295492906378,0.031076906003971547,0.018361060674003737,-0.028760697222426468,-0.07533865969893912,-0.0842496142173695,0.07732243363628322,-0.06454425440578612,-0.07337284898940638,-0.049161312956000375,0.010008230424992938,-0.034982775619609954,-0.01731206271891312,-0.07505886476232068,-0.04349224669083125,0.04140825857742441,0.0780347439458338,0.08207859290525747,0.005114850762611592,-0.06202692223032645,0.024962189204904825,-0.0009271115335743754,-0.005749773532930847,0.03259778047600943,-0.0778562313070449,0.005824815946309628,-0.08221265814262103,0.08145742480846273,0.05551051797805235,-0.03867582700597625,0.048604648388268175,0.05010135397665427,-0.023717266155602535,-0.019831190081663043,-0.0000018049647692584455,-0.06330654867725637,-0.03012237332175058,0.03650562416269728,-0.0764655327159847,-0.05022969994357672,-0.010894707280527932,0.007873040327395319,0.019948426403986454,-0.02441857730065656,-0.0782664101480805,-0.05680931498890868,0.08579888495104103,-0.07805997424208293,0.030063544166888105,-0.010022541245920146,-0.07676618503363006,0.007637308818174773,0.06410332400829755,-0.007941506145612207,-0.003939531250668172,0.0007332314568981953,-0.007299985921819988,0.07668533314770166,-0.006708475764984985,0.0635179979356912,0.01913628608654802,-0.03362441555481378,0.030125590472194763,-0.05947745355408733,-0.020294211009806582,0.017492689462626672,0.08284494824630044,0.041339814593818934,-0.04329532775063043,0.07218981640567151,0.05953715327483514,0.043275253043601,-0.012490666743620487,-0.014519889790846953,0.07891034149846066,-0.07844885411436603,0.07267651329011189,-0.07920015714266469,0.04039128736905354,0.03536903073892439,-0.019005306253253716,0.0019248076261082407,-0.07894421636313374,-0.002268111054197107,-0.06161807045892733,0.0452798117211446,-0.02431633716631005,0.020543307485478796,-0.008849426186236055,0.01403899387944407,-0.048544181829405654,0.012757134809744797,-0.01435115072965734,-0.009953628613950664,0.03890135328456504,0.05921503767545359,0.040193276959254516,0.03789812592025092,-0.009919552944601805,0.08210361359237116,0.07185482829206427,0.071304283213918,-0.06433509973607937,-0.05934223127084475,0.08417984023485435,-0.01494775564670546,-0.06811700242323836,0.0339898199574434,-0.05801406229445348,0.08377325053223339,0.02943484544673312,0.06273300317804657,0.016306760866922163,-0.0054474020823626675,0.006748243154189163,0.08339847053066232,-0.001410873464743481,0.030674002282318317,-0.07776576772883005,-0.04382867298828345,-0.012297656373225415,-0.008606427442470643,0.01632887629350512,-0.0516809262598523,0.08372245050748248,-0.0647569078124705,-0.035423209973825164,0.08583763018408287,0.015673367866259804,-0.005311018063262032,-0.07772353302695978,0.012988903576855742,0.026848720893007005,0.0731907116413866,-0.03117326664065771,0.0791387552626321,-0.036810020978637,0.07994056173098976,0.07126799176114182,-0.08293592229301476,0.034762625141161775,-0.07493830088993812,-0.005770142576486647,0.03016267110313864,0.038487602002952384,0.07764272201513013,-0.03843977337513478,0.02696679087547041,-0.0667548911319583,-0.038677661880130436,0.045458183001363964,0.04026933488247459,-0.08494581683134442,0.0349362544169532,0.013138841837135758,-0.07747195339067242,-0.0802766522787523,-0.06248509974552219,-0.06767013628706664,0.037885039150200465,-0.07512904314651034,-0.07465113657850225,-0.08444441552580806,-0.027310956022929288,0.06387854994209356,0.026378548433313984,-0.06284028440148351,0.023516096493966406,-0.07223833675758277,-0.0007770609844266334,0.04949423437474337,0.046350767178571985,0.05821382162282222,0.03413868220854328,0.028694616867055135,-0.056420634653441916,0.022067412514977878]},{"id":"chunk-7db5cddc-39","content":"Complete bank_support.py example The code included here is incomplete for the sake of brevity (the definition of DatabaseConn is missing); you can find the complete bank_support.py example here. Instrumentation with Pydantic Logfire To understand the flow of the above runs, we can watch the agent in action using Pydantic Logfire. To do this, we need to set up logfire, and add the following to our code: bank_support_with_logfire.py... from bank_database import DatabaseConn import logfire logfire.configure() # (1)! logfire.instrument_asyncpg() # (2)! ... Configure logfire, this will fail if project is not set up. In our demo, DatabaseConn uses asyncpg to connect to a PostgreSQL database, so logfire.instrument_asyncpg() is used to log the database queries. That's enough to get the following view of your agent in action: See Monitoring and Performance to learn more. Next Steps To try PydanticAI yourself, follow the instructions in the examples.","metadata":{"url":"https://ai.pydantic.dev","title":"PydanticAI","chunkIndex":39,"totalChunks":208},"embedding":[0.017255923036449933,0.04838185340109174,-0.058105046929758784,0.03664247861686904,0.016527275113191034,0.01597951444348863,-0.024223035481289016,-0.02586534633342551,0.02685048383010961,-0.05781431426220649,0.0768754848114378,-0.07917473366430822,-0.017056875045847034,-0.07625459293002726,-0.0029552490997870533,-0.08103568765928669,0.05672210276140816,0.06032924612376686,-0.04781117075488919,0.038093824600971216,-0.0280716957495695,0.05187818996625666,-0.062054480098785864,-0.024987638094127386,0.058490484909134395,0.07758677011691413,0.042928062187281575,-0.004544247881817122,-0.08472685119560865,0.029987223509324427,0.01947432792428543,-0.06873963941806803,-0.07526992415340936,-0.06564600973979139,0.07892643332471318,-0.04180171491174488,0.08096078266702893,0.04381505868303034,-0.018140467672171416,-0.04239918041507216,-0.07201394425245089,-0.01040275884044226,0.018398130517462395,0.004933845891735261,0.013769102758513873,-0.036088851243562904,0.007426975622048366,-0.08248652691791118,-0.06448294802290912,0.08372191808762033,0.06682881128861046,-0.07493025943524965,0.03087585770988679,-0.005269058668485586,-0.052875327861193436,-0.07156122767187773,0.040772824786166915,-0.06755101636901975,-0.03962029483582416,0.003929211996928742,0.04451033620837329,0.070193764153135,-0.010566409777117853,0.0780566220921378,-0.04914018478666803,-0.013899883107883078,-0.04629112839880407,-0.03800151038352364,0.03432667358795876,-0.020886829320107256,0.048230531314088325,-0.0815426175350265,0.07679124896162612,-0.012492112891672973,-0.004131475744974581,-0.06483795144555778,-0.03786748342259169,-0.028695700224946004,0.0026139439271365937,0.05788393464516486,0.052431679894315894,-0.06100113856710169,0.037814043660879905,0.028794814095300967,-0.05147064433321036,-0.06897802376243634,-0.05237276269046228,-0.023856276802483187,-0.012345695167270895,0.07424599949047048,-0.011879294765574692,0.0585563557806867,0.005746625163469558,-0.001031557943192078,0.0008401369496690512,0.0596048314783168,0.07236671163046289,-0.06796123016468242,0.0012335428020679882,0.02128928504319632,-0.03496546578201224,0.07137122880376873,0.052949120809900524,-0.04672162484911513,-0.05661864954088866,-0.08121317412142907,0.08637331382803731,-0.01599233394128602,-0.059975916450399985,-0.06571845749726862,-0.011737232209579156,-0.07254693873817103,-0.07371059062361734,-0.029475886626177093,0.0755490780211575,-0.009893415467533286,0.045009867735430156,-0.06664807350813809,-0.06179705089360193,0.05898363746143806,-0.009744902490788174,-0.07987734132099573,0.055086960943871825,0.02507788522796071,0.06991998190067918,-0.025414826637266578,0.012606516660091374,-0.08630196387718966,0.07760806814426043,0.0030957218775591504,0.04061067452389035,-0.06209613823798255,-0.05343922871801261,0.032796075317398254,0.04845388480799214,-0.06739551430452861,0.053672245755517725,-0.05763347410982194,-0.04030108579076318,0.033851607253985234,-0.028443765767966863,-0.08232075178298964,0.06300799666611034,0.03227480281946646,-0.061784607766697516,-0.000830532057904741,-0.07578777387186764,-0.0696386623811974,-0.07939768279064907,-0.04457877206125359,0.07948138240363742,-0.06443233704356285,-0.06274317106536235,0.06031428757719425,0.03400951367962269,0.045125410569357746,-0.08420788483039801,0.06016784267560328,-0.0475085691052748,0.029705833532850102,-0.016077069602297045,0.0385652259204458,0.026303674617039852,-0.033789735834314376,0.012286327693903825,-0.052156181571385074,0.05386563632553206,0.028272311037790633,-0.03473653378944306,-0.012770820382177443,0.08475224603978279,-0.04537885194976091,-0.04004471533250475,0.02625885017652853,-0.04625589591631616,0.07220192209695744,0.07095968367036097,0.011578732869514422,0.006973849180927557,0.05012866895071761,0.07884535948125367,-0.0782624585494284,-0.04769449215594575,0.022532100520053774,0.06733652102945845,-0.05766413053792918,-0.0435858929616707,-0.03264700786076204,-0.030138421866714223,0.06605293847535768,-0.08481664755554777,-0.07440668534344344,-0.029347198928452455,0.010790717871580435,-0.021810653395134133,-0.060690986886754325,-0.05977133318203592,0.009257549564875246,0.08345629063708616,-0.029842951347475274,0.011400401059032417,0.08338199743783219,0.025272564015845433,0.0293848940437115,0.0575877379763447,-0.044416394112847174,-0.07866321980973243,0.011989075911445268,0.03125404940303825,0.04844379063631599,-0.010587421831748718,0.06318505078595964,-0.08370216924091968,-0.013481115667330276,-0.08614925391744628,-0.025059353280408824,-0.06802444862596216,-0.005998925957042999,0.03529045066550074,0.04230299031462176,0.022439281388699946,0.009516783267113022,0.028002714424405946,0.0570578398546027,0.08098711801599502,-0.05500002889075646,-0.012504485252559226,0.027275615655724374,0.006781350420826905,-0.0032659085273094553,0.024355982557778946,0.005539320599469229,0.06950094919663091,-0.06962360994453065,0.020879674323495034,-0.07061616606729106,-0.08477351041614965,-0.08425425233296989,-0.03511603028557954,0.0016793803211429112,-0.05355416158733629,-0.05510547330438258,-0.043708124959397736,0.0495607577626014,0.04882938001767428,0.04834227985665881,-0.05176482189234618,-0.018822342863743326,0.08427648790082931,0.0287127647905111,-0.023714441746580897,0.03264691228241968,0.050024489255057765,0.042841734885754504,0.025135839567086368,-0.04723905034912093,-0.07192173264023287,-0.01795352335112243,0.023989076600189,-0.02919746064794287,-0.01580594611610539,0.07286348740860525,-0.05802588821261269,0.030300496826514502,-0.0187436941521225,0.025364458957323595,-0.07006244303549747,-0.05473895828496271,0.05998846636620474,0.02016692622940392,0.07403699500671639,0.04954384746346752,-0.04437219426885687,0.07164424354954553,-0.08180271408991194,-0.019871739342000146,0.0737144255462484,-0.05795619939633813,0.06324840036669145,-0.0678602589832761,-0.07799023277427128,0.020069178210465874,0.04905300415187382,-0.04392595801816659,-0.04674900780384632,0.030958395257360244,-0.008908530135113637,-0.06118480684857097,0.03679221857589546,-0.03686573591827184,0.06725467388871206,0.04995026608420245,0.05525592025367794,0.08364935841541643,0.025468874329171904,0.03738992270761917,0.07130135998852305,-0.0752468537978296,-0.02138498654221899,0.038875670466751416,0.005803506761502502,-0.01659467531098045,0.07448388614461,-0.061802077944971306,-0.0658147841904571,0.08366367822873108,0.022385184780610853,0.04541082624422794,-0.04536881403391661,0.057707804116760075,0.04988127923397013,0.05254997494130271,0.01591017704785272,-0.01758199326990099,0.047702094875947364,-0.08229520616884219,0.07950164017471606,-0.015041210457157566,-0.018832859239219246,0.07039385743292172,-0.008015730503855597,-0.06797229861091185,0.037019638512471136,-0.07573179429236668,-0.01409353049612404,-0.018004357685136002,0.06728221817615905,-0.018389203953237652,-0.04217598332182055,0.08528393181734176,0.007765209266872033,-0.014730499564555364,-0.015928223001752718,0.00867649160427327,0.03633411037048937,0.054626754264247186,-0.03813557464472486,-0.05374168051551026,0.07624141380765835,0.035375052145820866,-0.07530061610166942,0.03361745377494609,0.013306725185535592,-0.028142465263004346,-0.01811143981092832,0.00018696916098723246,0.07035919734504191,0.04588986541239963,-0.05464743632264507,0.020274577052270423,-0.06642642565392046,-0.0760295708766789,-0.05032859532168403,-0.06796051150783679,0.033165946383589405,0.025127740898951215,-0.05101716895989438,0.012873648848242393,-0.08288442042044497,-0.021265132600145766,0.02514267670962206,0.07339772237331327,0.03788154861642274,-0.06304040711993336,0.006691113974258505,0.07699610174789329,-0.06321758173802527,0.0691053575284351,-0.07096051999811756,-0.02131033085630405,0.029103673712857738,0.08435113269466803,-0.042817075824409134,-0.07433833271443771,-0.0007370791967593696,0.01766344131478325,0.07244348615445778,0.019941078614869785,0.028083655381370413,-0.01303151286673588,-0.03155961257011642,-0.038649875519192196,-0.03685988142187741,0.03570717145740616]},{"id":"chunk-7db5cddc-40","content":"Read the docs to learn more about building applications with PydanticAI. Read the API Reference to understand PydanticAI's interface. Version Notice This documentation is ahead of the last release by 2 commits. You may see documentation for features not yet supported in the latest release v0.0.27 2025-02-26. Introduction Agent Framework / shim to use Pydantic with LLMs PydanticAI is a Python agent framework designed to make it less painful to build production grade applications with Generative AI. PydanticAI is a Python Agent Framework designed to make it less painful to build production grade applications with Generative AI. FastAPI revolutionized web development by offering an innovative and ergonomic design, built on the foundation of Pydantic. Similarly, virtually every agent framework and LLM library in Python uses Pydantic, yet when we began to use LLMs in Pydantic Logfire, we couldn't find anything that gave us the same feeling.","metadata":{"url":"https://ai.pydantic.dev","title":"PydanticAI","chunkIndex":40,"totalChunks":208},"embedding":[0.06995917869292044,0.024774931989859313,-0.07169014416869474,0.08543319496963964,0.00347286376150647,0.058839626831607206,0.01876919356942903,0.0368815064957099,-0.04559524245028396,-0.08128207613772478,-0.07252826319325523,0.012683412329713836,-0.03936380209844382,0.07842915703149185,-0.06237891960330028,-0.08145579009216482,-0.002537495623435369,0.03026329333575164,-0.06693213647826989,0.03584761962620388,0.052959131001679906,-0.0036659529033122927,-0.019058198496617853,-0.027634800008352046,0.08109930177529637,0.052656332566984654,0.02560527730655097,0.046402236349522084,-0.06743536196271425,-0.03664701682196451,-0.07570725577375154,0.07763542039079743,-0.0016116409846141527,0.06717359157545408,-0.08072397378892415,-0.0631151854606996,0.042688773266976884,-0.05283936349477952,0.005208964671997803,-0.05375236933750427,0.011520102239989258,-0.008403106906395612,-0.03519698289836431,-0.03845468327972363,0.07259158749106588,-0.08039952538406818,0.04390905664178127,0.06540052102017399,0.07379623961107286,0.06193831888195065,0.018234007608572626,0.06186288763174061,-0.0224098216618206,0.03603551825067729,0.06927499300569366,0.08073540481063735,0.08083284340364186,0.035174329484515286,0.08333560982140145,-0.03012220720874145,0.02359716006989315,-0.016275872669863446,0.08375353074787349,-0.0687396847350995,-0.07613095335283734,0.04306176292384558,-0.059200723823016596,-0.04652281193657235,0.04134217867959885,0.0785207636771475,0.04424029836968229,-0.03879379656313866,-0.0443873269775957,0.0586922180958621,-0.005282299704451333,0.08575587911961086,0.04312652887621882,0.0613652845449741,0.0384834302265663,0.0042026389554962375,0.02836165502932166,-0.014049674220881513,-0.08271705211572784,0.008285932404239716,-0.046729979624254986,0.02207273060429551,-0.06473189005392972,-0.01008739196096818,-0.020073333373669386,0.06467001588702426,0.008037093136507538,0.03181543188859948,-0.03605132445959729,0.0562903151939253,-0.025663755981091368,0.02094158971798686,-0.013180775438591719,0.0734673914512986,0.008002667523476645,0.0231244950964029,0.06812714786735859,-0.053824051930126196,-0.03226709029730691,0.01255191068110434,-0.0014099276777019933,0.07687064687483443,0.0500497019591656,-0.022873074847821126,-0.05843635918548914,-0.06054688589951084,-0.008210074456986856,0.024905818695589783,-0.01974311206728735,-0.050666124235249695,0.07515296763686899,0.05822455953011486,0.018681904655967287,0.042855727098962966,0.07737889523768972,0.0041928021225892155,-0.04907555586346619,0.011158029298946113,-0.05644813453174612,-0.05989699877119369,-0.07233546103370526,0.035034085804836086,0.057557826768522384,-0.06595534508187177,0.0784253741529506,0.07001960502441187,-0.07250272542420515,-0.0034643546358576237,-0.027292189648949916,-0.048763226139724294,-0.006143999281473948,-0.02292913379320473,0.00973122352435807,0.03979039378373204,0.0661832512147458,-0.07652316294015776,-0.01450739359078551,0.02532914227364134,0.07890033534403094,0.007616987686102484,-0.07293877041130407,-0.006635182417474817,-0.05863522063293369,0.0432576387035209,0.08549711530223444,-0.041868393246323264,0.006360318110850936,0.010006860060072871,-0.05868545754528807,0.029627114443960236,-0.046870610089754454,0.005860327287124134,0.06955467960990278,0.01754261543595972,-0.045092617813133305,-0.005309008025449269,-0.05739504891800136,0.07889651044931727,-0.0034395647375040778,0.011092883639825224,0.07610835123439509,-0.07889430352484943,-0.0253462302598291,0.07983236237398195,0.07969116100395927,-0.0745943006639202,-0.08179324565639101,0.0750350934094755,0.0401051001977444,-0.04594016925747893,-0.06612464011782594,-0.017831290758347468,0.0593652488105178,-0.06755491112162902,0.001964503282757875,0.06585278040850744,0.02982090164932385,0.010498809776582277,-0.04418139912113354,-0.04881401407422219,-0.023147734270585203,0.05819554707559743,-0.07235157353475505,0.029733631247724424,0.0071143589237588475,0.013894214207852293,0.009858127384796803,0.058527726366024234,-0.06984422174838376,-0.03436606091254111,-0.0451399118948137,0.038912063653388056,-0.06931460944975822,-0.03204375186095928,-0.011257770836517685,0.06042120301293947,-0.036067534904033256,-0.05388360540537401,0.037190271584061234,-0.055143286457270374,0.06527927312042854,-0.01488353891225882,-0.07850541553711993,-0.06005170392347232,0.08341264640143738,-0.03199299518040356,-0.04536927970554666,0.06904958172662966,-0.03830002872881275,0.005400050612250099,0.02580311407726393,-0.079325120539165,0.008446576803256929,0.009942349759616491,-0.05310916839984535,-0.05226526558145011,0.07601340615587991,0.01656674150600043,0.03279226324637392,-0.05443518619769893,0.0153512427957048,-0.033358096711072587,-0.0050189896030988475,-0.059041710066689894,-0.03601963994213287,-0.006280929428011786,0.061915151574047325,0.08514545999777155,-0.031665137546415326,0.01732020640676285,0.006307645850913833,0.05473768413301687,0.040343604283836994,-0.07955622253414847,0.07028268259290048,0.07290975064354543,-0.08286497385826191,-0.0741722038403371,-0.08231317355408564,0.007965043639700261,0.00783404183559777,-0.0846942772641109,-0.013952854159642564,0.08280656758368067,0.03490827031251721,-0.07535296912529689,0.021573880468083166,-0.030827404125817495,-0.017656482818367576,-0.016279172007523508,0.05096711506901869,0.07058997406277283,0.08545469019128378,-0.06606904950367348,0.04497876296403699,-0.005375273351631447,-0.018971419377672494,0.05617893870029244,-0.04086187370750774,0.06671945826732785,0.031237109328914325,0.039392797954664785,-0.08579469076027874,-0.04690820109208949,-0.04247936442262347,0.07900709292020675,0.018341101291334216,0.07442974133109075,-0.05020170327626007,-0.0017905179371865533,-0.0449793303209099,-0.002719287336593634,-0.011900329309314488,0.013204222551323256,-0.0639370344964817,0.028106919278469557,0.06183676141086873,-0.011459305418738169,0.010342250263918997,-0.051274872376643375,0.08040959251506556,0.07446083891833927,0.07613025498596576,0.01274488497344517,0.02868913787047693,-0.06693800564402005,-0.017359409523467838,0.06527518530159705,0.01676454062531186,0.06066325813355472,-0.05083123778477775,-0.06747891341029777,-0.045218474301772164,-0.02765182537737155,-0.08618047687915006,0.07489055463134059,-0.07150724500624316,0.05964547737818339,-0.014817857164279262,-0.04155241360098171,-0.04473351690571243,0.08362480927966208,-0.03668002787437421,-0.0044066718390017605,-0.06630553993196155,0.009019920202796463,-0.008916294885086457,0.08043561249767561,0.01998952027240066,0.0013656287347227844,0.033076935787389045,0.016007986566956633,-0.0629341826670635,0.06545244929034548,-0.05772112160579693,-0.06549054543988712,0.0715350060244362,0.011110054538442802,-0.0232730207595073,-0.025300079340778957,-0.014825937099464061,-0.008758038096812117,-0.049900740607320665,0.020316285759272412,0.08296248067264497,0.06772331163151346,-0.061804521241550905,0.0667094392591918,0.026491217574413837,0.007429434781337404,0.03566976810461016,0.06601313426505556,0.003614361682104272,0.039203343877727385,0.04638952377506704,0.008666642306001856,0.010189760551256786,-0.06216353453181698,0.05517376989806396,0.07238747368600457,0.0028602260353841075,0.04176726681906319,0.028280881725221616,-0.009237841298992577,-0.07158693957692436,0.08308703646359346,-0.0477503242912552,0.08057217042778379,-0.03549144073314678,-0.06654660901448647,-0.08143954223923706,-0.025282317927106123,0.021699812933690735,0.07723410709664144,0.04647732967163689,-0.0527639297959515,-0.07161986708904117,0.016711485903226325,0.014239319627867973,0.0653559634424114,0.051514776249255205,0.020600860662919808,-0.039029103091379,0.06282192969261076,-0.026734505409135318,-0.0776121667033364,0.06477634937589842,-0.04788973628724478,-0.0680757519788206,0.07649905119797402,0.012302891183204556,-0.010494381683265844,0.0014030460432279256,-0.025851858410324426,-0.01863230773900374,-0.08618569487166322,-0.011885604656850178,0.023538152393445498,-0.03406834748940866,0.031619989445630485]},{"id":"chunk-7db5cddc-41","content":"We built PydanticAI with one simple aim: to bring that FastAPI feeling to GenAI app development. Why use PydanticAI Built by the Pydantic Team: Built by the team behind Pydantic (the validation layer of the OpenAI SDK, the Anthropic SDK, LangChain, LlamaIndex, AutoGPT, Transformers, CrewAI, Instructor and many more). Model-agnostic: Supports OpenAI, Anthropic, Gemini, Deepseek, Ollama, Groq, Cohere, and Mistral, and there is a simple interface to implement support for other models. Pydantic Logfire Integration: Seamlessly integrates with Pydantic Logfire for real-time debugging, performance monitoring, and behavior tracking of your LLM-powered applications. Type-safe: Designed to make type checking as powerful and informative as possible for you. Python-centric Design: Leverages Python's familiar control flow and agent composition to build your AI-driven projects, making it easy to apply standard Python best practices you'd use in any other (non-AI) project.","metadata":{"url":"https://ai.pydantic.dev","title":"PydanticAI","chunkIndex":41,"totalChunks":208},"embedding":[0.0766111567968011,0.029343484537290486,-0.0017787454835805998,-0.047571232236973605,-0.0627738560290386,-0.05642486579364401,0.01942906521990928,-0.06891286140829184,-0.03818346123304306,0.07519272480092647,-0.010639336568540072,0.07315342217277816,0.06650217006423123,0.0036413727754848963,-0.07204468966749558,0.016860752416934723,0.04142215310893636,0.038678876762503124,0.08369080414440652,-0.07582258232965616,-0.03993939367209846,-0.010683431273505633,0.03774977709362433,-0.06465643814741256,-0.058610430518614656,0.0015465987955501968,0.040399567161046444,0.005696745352631787,-0.049697733628221295,-0.08603083181497384,-0.01814848723794158,0.07233104689224402,-0.07086982626323776,-0.024973321239199042,-0.055915416486175804,-0.004744509737904351,-0.042730311154982666,0.08054880729855231,0.05953710984849949,0.06774754259687424,-0.05617225807814216,-0.012599766973436817,-0.010987508579129203,-0.01676846127363354,-0.03256828149469241,0.0451223407480605,-0.0459041178816814,-0.06496395807760376,0.02861492405469802,0.018436705116640615,0.004587876669662538,0.027491895124428397,-0.05301799063847195,0.042288704272853375,0.01774875519444852,-0.08577315599237462,-0.06018021705463239,-0.031692677920682574,0.06382502628054038,-0.05521311070137383,0.05191632158276372,0.0773311552789114,0.06020524448633747,0.056141329637304074,-0.004228825316991842,0.03153313579243506,0.07982015573188664,0.029852034584963324,-0.028541963987460502,0.06599163748209148,0.027819320546795687,-0.017149592344210984,-0.05745717765659312,0.07227934749079187,0.08028316595051269,-0.07305111227856971,-0.002639348911523519,0.0854933911450583,-0.06431087158097654,-0.06691633250009672,0.00973543632837672,0.08077215332340486,-0.030498241738609048,0.042806574575006945,0.07557767139475147,-0.055190693474301715,-0.08619894918613208,-0.032419920780494785,-0.00643141014170326,0.011660510699447601,-0.06430586944103883,-0.005318934349548052,-0.03672221237923038,-0.008381985309695228,0.0365964453145821,-0.041042858818749285,-0.0647803484278243,0.019021079288885127,0.025664446110352287,0.02688045367811458,0.0853605560603011,-0.04444131408226826,-0.0064024708567425115,0.0141972549571789,0.048523652356935836,-0.08222701988659753,-0.004957690067025443,0.010126414924400928,-0.06353889757530203,0.018239232029196608,-0.01560329489050475,0.00348114946592268,-0.019415822450119215,0.056156061955478745,-0.002366531310951089,0.05698002999857958,0.05718165320492178,0.0516280639304499,0.00764619855297012,-0.05179974981541299,0.08557218412886858,-0.07989135223179522,-0.003994495376650591,0.020670660488456758,-0.07283690502820116,-0.056063180214338766,0.0667412160924793,0.04004847333869548,0.071837062295985,0.07868301060483926,-0.06338768209760569,0.012197334175336185,-0.013190595692212164,-0.0758976205653831,-0.06654823262428335,-0.04664529889949369,-0.08261264861632815,0.045064862413664364,-0.05054265599416469,0.06818456969588434,-0.0825502376036064,-0.0020642138298766584,0.014132543594685952,0.0746165282888682,-0.006237545605609506,-0.03427613375365318,0.054460127507047,0.04372744812830508,0.02956910707146301,0.08461789654599298,0.06999761301620602,-0.038349578511679284,-0.05137701734785427,-0.060076907944555814,-0.08023242721689657,0.03368893887841539,-0.021664866628219363,-0.022550266246478354,-0.053879206363230354,0.046124986466927066,-0.057310432358000214,0.026984439013314047,-0.054423638042944554,-0.029043837066554657,0.020126173944753342,-0.012137772145098912,-0.055679025729890946,0.08524315071343529,0.06253163740158862,0.02390386907226235,0.0077878457564865755,0.052391222426201894,-0.0766385056313733,0.04105460037054162,0.06354880457014687,-0.045944346317657585,-0.0486804999204314,-0.05002331943831839,-0.06220050396684109,-0.02175321311015864,0.06727234117647309,0.01569276354116063,-0.07789252077090267,0.007593634039119565,0.05707005279267731,-0.028313787082249922,-0.01565384702195574,0.06607095496218338,0.018223550260237257,-0.0010381191483104229,0.06591618350856351,0.024609232192727485,-0.006455272434190098,0.06741583736454276,-0.050765941653204374,0.08606966516735724,0.026089275710519638,-0.040377073569564444,0.054373459279485926,-0.04698129038753373,-0.025718392456932884,0.007671493036329762,0.041934156615650385,-0.05917318482470885,-0.06221835581527809,0.0009514496599392797,0.07576016378643834,0.0025086466311203246,-0.027724897736497882,-0.06497714637042505,-0.05492883536535772,-0.04580276461608779,0.07879554433099024,-0.015651974932253863,-0.03340451608120787,0.07263993744537121,-0.033988897018322126,0.0017080096008390134,-0.04421660315818082,-0.024835278897574635,0.06364061482915152,0.08413886524452638,-0.06083404522496345,0.06415901419984735,0.07182760408001065,0.08550238554537411,-0.03917271412344954,-0.05297046816150888,-0.00015988693022232414,-0.06696449848627982,-0.06233369638943781,0.009951326308191346,-0.005737320056637343,0.05526231351444065,0.01990600595157002,-0.051856316106129334,-0.06088989155191707,0.045946876673706186,-0.013013853759286084,0.0409893465497349,-0.009965758011194288,0.06787069789825528,0.03922010219703955,-0.06078415051100429,-0.02200513037808811,-0.02058128999123691,-0.06401668345501825,0.07666178148124178,0.03624162476661264,-0.023705288429118183,0.06234320099537687,0.05003882966328028,-0.05942586561188211,-0.0746222992326935,-0.009746192653369148,-0.027312751991048122,-0.015940112208196983,0.006462129768307888,-0.055579401221941147,-0.07904047827022587,0.018105466475005133,-0.041939685198907235,-0.035265003564534575,0.08497978488752568,-0.017428768078533607,-0.0237568846793601,-0.07201928387645742,0.03350655583567936,-0.06483913522459182,-0.0810714154337027,0.07176835816306253,0.05617524893639808,0.08159148379462391,0.04738841492292087,0.04815112143230783,-0.08496578838481403,-0.07016468215230699,-0.03808428182156672,0.08080937607495592,-0.021766481474383256,0.03762241624971941,0.027570962239887038,0.01984990366461378,0.0014403105734248436,0.006564712313360151,0.08269508850706482,0.0430571039646829,-0.002362604468648701,-0.0009562448105327104,0.0702040746002835,-0.03085661302837497,-0.07346334390199451,0.059453461888236414,-0.04405838746936143,-0.08542472927304565,-0.05191490140049876,-0.07658882891816807,-0.04988325826772626,0.07196084525796029,-0.03155186599646031,-0.040951807952473586,-0.0736935671097204,-0.05764850459235472,-0.0650046478589687,0.07054487025413066,0.08022174284343957,-0.07564066593508616,-0.05213090362842126,0.05687256517378924,-0.03407840538673114,0.06720688518212423,0.05390844773624319,0.006591438254016109,0.04307422290989301,-0.08410767636952128,-0.013036345822065304,-0.052006245189906375,-0.03732482649115331,-0.02756304642347228,-0.03730799447850124,0.005331083386994379,0.06363207169939486,0.06785930427653342,-0.06620300383991196,-0.05698163953823666,0.01975520810642039,0.05689842080691305,-0.030240133704199285,0.06913330344085764,-0.005316343326959465,0.06226072004216684,-0.038749644833972856,0.04699166714234076,-0.060193960629547454,-0.03545104638458067,-0.0014827163207230553,0.0014624241981390142,-0.0570196049856882,-0.013192528413540494,0.04865927959447792,-0.08099264622789157,0.00036510578497128096,0.009851311595374298,-0.0580862358282884,0.012040667566839818,-0.07507570365591852,-0.03869202530050017,-0.06530199214605284,-0.05824603970870842,0.020878032767884757,0.013794932532643233,-0.08171145005048898,-0.05496939406091984,0.047608555091665776,0.0022257012236888665,-0.051929268525155295,-0.05452869980646784,-0.05011840255567855,0.016676149999189076,0.08128563572188298,-0.06520573655720094,0.01706084570310867,0.05744503068775402,-0.01069864045301592,0.055982480502443366,0.014833689606597438,-0.02726659114400099,-0.021111001874260165,-0.00047829812636895463,0.030071554530873422,-0.06538019046397003,-0.051879346484908134,-0.0014595301031720745,-0.03301421312277848,-0.07916500546115882,0.008218780966466898,-0.041136020408903295,-0.06202550285354098,-0.08228617047610516,-0.0619940229123332,0.02897696260299885,-0.05934081161270871,-0.056688302857636874,0.013537265880456192]},{"id":"chunk-7db5cddc-42","content":"Structured Responses: Harnesses the power of Pydantic to validate and structure model outputs, ensuring responses are consistent across runs. Dependency Injection System: Offers an optional dependency injection system to provide data and services to your agent's system prompts, tools and result validators. This is useful for testing and eval-driven iterative development. Streamed Responses: Provides the ability to stream LLM outputs continuously, with immediate validation, ensuring rapid and accurate results. Graph Support: Pydantic Graph provides a powerful way to define graphs using typing hints, this is useful in complex applications where standard control flow can degrade to spaghetti code. In Beta PydanticAI is in early beta, the API is still subject to change and there's a lot more to do. Feedback is very welcome! Hello World Example Here's a minimal example of PydanticAI: hello_world.pyfrom pydantic_ai import Agent agent = Agent( # (1)!","metadata":{"url":"https://ai.pydantic.dev","title":"PydanticAI","chunkIndex":42,"totalChunks":208},"embedding":[-0.009553868619240107,0.05798520954967318,0.06697626879876299,0.0034799164591508636,0.058421086645615024,-0.07034832042097323,-0.05080022186124155,0.06968504354070171,0.06653299993609074,-0.08269437322156793,-0.030807616839943788,0.03964405498469702,-0.05157969042208596,0.06965621340856837,0.02920007459816432,-0.04466244402081827,0.0831728025397266,0.006671182340023357,0.039703948382297814,-0.016580940712272313,-0.05086220252648599,-0.04576896913923724,0.006307982582002487,0.06423403132136457,0.018700779745940838,-0.017281494810800074,0.0023188535901829755,-0.003414398657990245,0.07810017030870645,0.07508675752104033,0.037788371082768744,0.011712017565463572,-0.06848169142877733,-0.05669738578950699,0.05626812561335317,-0.055240305625505595,-0.03200445284760034,0.021226040389762103,-0.01582710548214947,-0.07221885920318775,-0.062339979644063376,0.08291488753182076,-0.04097179177049581,-0.005114654367012742,0.046375582234540066,0.04058465939884318,0.06413504986586134,-0.027552904646746163,0.058537924165648056,-0.07256699491195676,-0.035339111274573724,-0.008100037636925777,-0.010731194255498554,-0.024213757660407238,-0.040127007532814486,-0.04003305405798139,0.037680018608071644,0.07761243925848701,-0.03776826059579685,0.05688421418143376,0.0801393155848782,0.05547379442914241,0.04797505945643049,0.06294954085645853,0.031943536697165424,0.07458575553703521,0.021888816403332317,-0.033293900694047286,0.023116177481607592,-0.03950815901038656,-0.07061844766330624,-0.040320207290762626,-0.07670760578554314,0.06880535142574958,0.021055243577646578,-0.050582210548535726,0.017020174158539625,0.0817287905294333,-0.059383384767755655,0.03311817083250758,0.009238602334479864,-0.02085130450381923,0.06350063621268068,0.04445449228464999,0.004521064933619707,-0.0809034037264576,0.07717426116223478,0.006078831641920275,-0.041699280101943105,0.0844221920473896,0.060501747993172775,0.04920929531639849,0.03342928814989363,0.0011310973093236658,-0.08250555128026404,0.08291288019152473,-0.06762833198430956,0.04367278689111703,-0.03226168546383,-0.0694646937570045,0.00785530791252176,0.0628352154783712,-0.05129956504673137,0.04163191254607851,-0.07515701777908321,-0.058574242053204585,0.07361337354000146,-0.02937415352011508,0.054177011203684386,-0.06582575611062619,0.013533428712122474,-0.024728701613773944,0.023611170100613935,-0.002175329809244142,0.053532433316115874,0.02141353135303306,0.004071010774280359,0.0622649475631368,-0.0205735999462482,0.044063005398291846,-0.08385234038230441,0.004319861475842444,-0.052003892914625975,-0.02571363648277823,-0.0069394538583062776,0.049599795594416934,-0.045317497780345904,-0.012210548802297811,0.05852387930186876,-0.07158412578339568,0.08288141433858104,-0.06639669434947842,0.06214066943675783,0.02475934481617056,0.06550103214078007,0.06891125507838629,-0.020889974122378786,-0.0284832215874653,-0.028518361096672558,0.005685705251840905,0.07479929802935632,-0.04186408855154803,-0.008651603167468082,-0.05726656682476788,0.0209649942876356,0.02543565356300146,-0.003403555611352151,-0.08189612360873873,-0.041718179417693846,-0.0028998004178860727,-0.06227578438714306,0.04369943984562642,0.022113606970612393,0.05197140498685196,-0.0149755018629769,0.08470939650101789,0.01076207213471654,-0.08013508546811168,0.03905402700083393,0.021248728703408493,-0.013297966897772314,0.05264586050760864,0.07369982997672336,-0.05113453672101586,-0.02979883069458809,0.05950307644032047,-0.08365842196561808,-0.0620412194928787,0.08131619789201275,0.0542030249560402,-0.0036406273066598304,-0.06506651359012677,-0.06123988436250276,-0.05657017840004232,-0.030187714613529645,-0.061946537196357856,0.014411244889108814,0.03677463551476853,-0.08133416638003188,0.03644490655441512,0.06133345022458119,-0.0008819287030656271,-0.049246403579017585,-0.06699335308990022,-0.08400270668354595,0.065901723458332,0.029098631830192925,-0.012120662307367126,0.069231887856637,-0.0343083246895491,-0.05589175118147761,0.03452884690021507,0.011621124858334128,0.045296720614065304,-0.028869372392852147,-0.05997321625366054,-0.057847793752872675,-0.07240972402328139,-0.06000870177379996,-0.05011599549174667,-0.024850620077119495,0.06157020405893946,0.06004588548921966,-0.0314442735316732,0.046989608254149245,0.036969648785698826,-0.045036163646647885,-0.003288175929149449,0.010978420543134693,-0.08378551608533713,0.023271821651411558,-0.07622587575215432,-0.07389268813574716,-0.01545502393291877,0.017670829357681623,0.06313935366494874,-0.006063501974323047,-0.03357693445729413,0.07128505820515,0.01016409900617722,-0.01855066288123718,-0.04399422457407671,-0.030809477204661883,-0.04344119054784882,-0.06396349365445395,0.07455603613312166,0.019349418140439615,0.03782221008525451,-0.02521339464487816,0.03402638298030395,0.07922025987305638,0.057227465201355,-0.024914770695820973,0.05393695807144532,-0.030712906999015955,0.05950423875084469,-0.08413976807625863,0.07859981754923898,-0.004958019315889309,-0.002817659856142004,-0.009297785399014498,0.07994750199896182,0.051797592440361126,0.07496748180891254,0.07724975586644196,0.0784861613471615,-0.049021898726220904,0.042610360130650955,0.020829001805014208,0.012100048269452416,-0.04617687552649233,0.010936545082133963,0.04033004440081484,-0.07699154059476383,-0.06335813588452065,-0.06879556287953587,0.028897380787611268,0.0021777862433188383,0.017811589304601826,0.04009569087609273,0.06303783029873351,-0.00048198826245063477,0.04094131330494725,-0.02918698552205901,-0.04014210238623779,-0.04209590195832351,0.056593764103649066,0.0037456955003798273,-0.06143565906578302,0.018547709560257017,0.0016618645361444243,-0.016430859948133043,-0.07941868489107087,0.03911718738019404,-0.030108108876883404,-0.027917596081059898,0.07071922658087339,-0.048995333976947976,0.08037733041006333,0.001327709460452856,0.011499339974776406,-0.08039685867879973,0.0006128942218831677,0.043236034321518055,0.00451442050863241,0.008592049389825515,-0.016015584151576237,-0.05533669749901757,-0.03211715127954185,-0.03391793894905688,0.05613510289712855,0.08292392024951038,0.08376091453287325,-0.02525604497454003,0.06106748260813432,-0.01511986702408633,0.06026997339655783,-0.08116827133077896,0.0037637985545795794,-0.04044473310427166,0.04162388325241671,-0.07104534676643598,-0.003857274991153759,0.04325887226539459,-0.015008687834379947,0.04467417932533888,0.041971316396926105,-0.019308995694449486,-0.05360396459335419,0.04816571889529448,0.02038266488118189,0.012573928692241412,0.06433749734850633,-0.008423854381236776,0.06199528106128342,-0.05649239095048767,-0.06750198886776472,-0.0821146957868091,0.0387962405148237,0.06335777402478586,0.008872205133508516,-0.002549514961714864,-0.05407519274712632,0.038105526696765354,-0.04068394419316958,0.07035701481547577,-0.020943024540386462,0.0763100238922992,-0.009653988412188466,0.062481673329318484,0.07949226140056637,0.0628762076935476,-0.022562533472715283,0.05975224975349404,0.040391016312273306,-0.07098172874716382,0.07141358190069458,-0.078547542680832,-0.07232533166938536,0.08189123074092919,0.07297481036314817,0.08246576046906749,0.06218119759154588,0.007965884363406926,-0.04407589366451704,-0.07341144755775951,-0.04780813544272068,0.08029450750593277,-0.06155815895055894,-0.06620144553074565,0.06755998828713675,0.03063764397389106,-0.062019967285421966,0.06272975049899017,0.0398278954675218,-0.012646794547669628,-0.031146649265223203,-0.01577373361582137,0.02501121890777223,-0.07883596955771713,0.019796768431396394,0.01658886456289884,-0.056102442021212846,-0.017644220796738778,-0.0479478204433379,0.024329152575136768,0.08399748031851725,0.00808289610152543,-0.07041155290448578,0.013480496379340765,-0.07835042699888535,-0.07519877740773731,-0.04493057533446442,0.08086778231947482,0.0015478301120822632,0.08393465552693956,-0.07334870737242015,0.01548332567573017,0.07843143338942653,-0.06991000073785524,-0.010831857921920386,0.01851094878791785,0.054036531901515805,-0.04422746204766497]},{"id":"chunk-7db5cddc-43","content":"'google-gla:gemini-1.5-flash', system_prompt='Be concise, reply with one sentence.', # (2)! ) result = agent.run_sync('Where does \"hello world\" come from?') # (3)! print(result.data) \"\"\" The first known use of \"hello, world\" was in a 1974 textbook about the C programming language. \"\"\" We configure the agent to use Gemini 1.5's Flash model, but you can also set the model when running the agent. Register a static system prompt using a keyword argument to the agent. Run the agent synchronously, conducting a conversation with the LLM. (This example is complete, it can be run \"as is\") The exchange should be very short: PydanticAI will send the system prompt and the user query to the LLM, the model will return a text response. Not very interesting yet, but we can easily add \"tools\", dynamic system prompts, and structured responses to build more powerful agents.","metadata":{"url":"https://ai.pydantic.dev","title":"PydanticAI","chunkIndex":43,"totalChunks":208},"embedding":[0.008100435002019991,0.01697550995684778,-0.06869564927695253,-0.0033182801258794564,-0.06294265000152945,0.08870601320470885,-0.07023066308176072,0.013265080173217309,0.059984336390440054,-0.03235539929901852,0.0729848527730044,-0.01494963013677367,0.0189969148107413,0.044810699705040244,0.07383296584821247,-0.06038516254182135,-0.07671720751437389,-0.027644462884839235,-0.01858667564248173,-0.04473862465723044,-0.0008642373775124965,-0.08811926131630181,-0.05806810618065612,-0.023179330210839604,0.000951726811121287,-0.007494516176810253,0.002511944552728117,-0.026248698840878857,0.06887386632969653,-0.03972817085432257,-0.014132291806916993,-0.037360403814532574,0.05799176567933597,-0.03692961720496018,0.004103946157481939,0.019698497454535155,0.03398949441202445,0.033815474029006164,-0.07672018787035446,0.029109212159843946,-0.08997804923075098,-0.04251978266978775,0.049856232642001674,-0.0727266749254642,0.02895602329567374,-0.013716986524091581,-0.06744180572736962,-0.06902815434427292,-0.08358017172110105,0.07958027794025853,0.003127772389946109,0.02674151009808609,0.050981924834663364,0.05453594680914772,0.03427034243450153,-0.009370283717343525,0.006179277481370911,0.05004644943489519,-0.030120392074876056,-0.020805511930821204,-0.07754450802114794,0.027815394801158543,0.01064891852807841,0.06432596982271065,0.03293593383322658,0.07871575270782866,0.0783667911357053,-0.08734888978141883,0.08799639683464161,0.052517092155144524,-0.0566883425640906,-0.06846124784462503,0.034495130087888626,0.02563704910828167,0.011850516719108464,-0.01800475588574713,0.013179045005087923,-0.028421488652550835,-0.051067743727666676,-0.0730943077838695,-0.08465848133727814,0.022606676963285267,-0.003991704293183874,0.037593528076208166,0.07395964533086365,-0.021402881216360768,-0.06567905669795437,0.07138866973889517,-0.08168157010042519,-0.03664499714107998,-0.06380743564038376,0.05604599644245063,0.05570904589054209,-0.005985018797730593,0.0006980745320598564,0.063997049370947,0.005960467448517465,-0.07339543498190165,-0.0192057267656301,-0.030132275159879023,-0.04957792642426108,0.04984112049122503,-0.05315900673186592,-0.040469209432022354,-0.0419473611968568,-0.04333363081385742,0.01876719370243398,-0.08553567625462191,0.04788746870615316,-0.016109562010124333,-0.019864478892617422,0.023300085388738453,-0.003929636814957674,-0.07432857622606648,0.08637589621846593,-0.03872763795603232,0.07157332195667516,0.06703624197061908,0.07798159210946864,0.03946476720499955,-0.01597763612922812,0.0027455846630160437,-0.06817355867896413,0.019327650866888833,0.08165631325165905,0.07564209127916477,0.03455442582361237,-0.011249144780603645,0.0726288905230663,0.07442726336128086,0.020934747012504983,-0.06195474660639715,0.04575810699953961,-0.05430205051430028,-0.06734185816348241,0.0013630109806159602,-0.0066976114427344064,0.022374599595906857,-0.06888016552600651,-0.055996796595977824,-0.08336375009013282,-0.06271464420182521,-0.0891884629369804,-0.06984062524287812,0.042819285635567174,0.04732066954710021,-0.0016411116855778668,0.05198487755237879,0.025629993764389764,-0.054539486133231375,0.01582529560616865,0.055423484693084966,0.040064107678993474,-0.01979585833391296,0.0031643905654899183,-0.051368349066280385,-0.08389156012786081,-0.017546639310088832,0.06780748735978964,0.05390614228001819,-0.009842998807477285,0.08422909631774729,0.011237041920940617,-0.037063662109312986,-0.02782094275235163,0.04911652834161171,-0.056926821446530725,-0.06879246511543728,-0.004712597068619803,0.021550126259946924,0.043282372047865496,0.058668726067138084,0.07732823931047447,0.05801302198914141,-0.0490099082363201,0.08124752753921011,0.055282759948721505,-0.06935383030684601,-0.08764898027510434,-0.05943162745539583,-0.08817240384140712,-0.007614075123058665,-0.015702156493822752,0.02962689656834379,-0.04401640141493808,0.07736779821116868,0.004110527715786056,0.0603770773113361,-0.06965501017355331,0.04544127557787578,-0.06341979981266688,0.0652239286879922,-0.06045402693939943,-0.0004562252764194329,0.011883836031894633,-0.051344427060169555,0.005376225228852195,0.057711997917261774,-0.040561268617035746,0.05411290969916286,0.03909852596672053,0.049159927447703776,0.06760604991671684,0.018959732305837706,-0.036895652848105635,0.07715338980099977,0.0014071006034095258,-0.05705789600345635,-0.020869468821904418,-0.07823999124168982,-0.026992905574663485,0.022390056450080225,0.025513462472138555,0.051651580214414586,0.026395145231849913,0.06056813522055942,0.07799652914583832,-0.07609656436490375,-0.08998436558358551,-0.033120006838833795,-0.04651780502441963,-0.0846373398500916,0.046973538696435405,0.0474231485079236,-0.005911112584391801,-0.0867913056648178,-0.012674062735178815,-0.04187435568388186,-0.06583596957233506,-0.025001163673006383,0.0779401553773895,0.005437017766221707,-0.014644900184295106,0.04698841344441136,-0.0637675104552001,-0.010702225955424258,0.05839429386378851,-0.056945685407094056,0.017003740017489225,-0.037747866574199374,-0.06042788850744184,0.02508587029934055,0.02379411552292031,-0.020049456771712475,0.01200511035632671,-0.04802863042803018,0.08423711805589208,0.028594735740245916,-0.017987654411997473,0.045925008635683925,0.05702000958221454,-0.011418163678602829,0.006181798527247525,-0.024297890401728958,0.012013793560249288,-0.07254022810512267,-0.002326346330369239,-0.005474784873502461,-0.012066719637325996,-0.01112128434445482,0.06457386074606582,0.02951374932900448,0.08370145629099762,-0.03235983632915546,-0.07183157172981172,0.07819781271083562,-0.03589399019256889,-0.04826710631104647,0.06035085505286769,-0.024567279709883164,-0.05144217552771954,-0.08934765793868432,0.023960213796927723,-0.016167302580093964,-0.05027406518744237,-0.045556281623726644,0.03607956520953629,0.0545759809742221,-0.009447428954124166,-0.004357987693330108,0.015500485592832002,-0.03700573173500476,0.04124309292622574,-0.07992015521083896,0.019597130459275677,0.05369095361145713,0.00848709587332437,-0.08940532357262375,0.025913192847413922,0.06102226861208545,-0.06536737807118673,0.0735441249704364,0.03857724779355117,-0.009162088713645569,0.005339344655968852,-0.07247992307371125,0.05446107001461802,0.02178178694369456,0.05053287173426727,0.006604534024296266,-0.08140317024810981,0.04143594582754641,-0.06822642967176108,0.019240484377184234,0.02700475069063401,0.006980118526210669,-0.06753359761464024,-0.0878271694909948,-0.014341988210404085,0.05325905376522127,0.016714536049072675,0.008854774549332832,-0.06894639107500491,0.007001519602070615,0.057604469028320296,0.06818185205609481,0.03534735263601122,-0.08647104881049797,-0.018856156007919785,-0.08474369241954383,-0.0893071557445671,0.07064547981007917,-0.08871136718491342,0.07436546866501986,-0.011572088991919948,0.06515449631010178,-0.0867038373649453,0.008568011006411653,0.05952162541439595,-0.04784239771312099,0.0886285105170008,0.03066443114600716,0.09059393271054288,0.02089443670679357,-0.020377273242850377,-0.0368848547219761,-0.056760652931870964,-0.08763596365572017,0.03643479154265583,-0.049943210974168394,-0.05643842512867791,0.052084617794051824,0.079060911941226,0.0761115038133936,-0.023400604664465703,0.02090043215892625,0.042985676778335404,-0.03556784306223395,-0.044758717363737946,0.03266600293497237,0.0050349313766366545,-0.008143942593129588,-0.049229946240994374,0.01855879451876141,0.013649287214348505,0.030195094742167906,-0.02911431008216598,0.01728287613632761,-0.040099799506373934,0.06743764605886753,-0.04043062010307478,-0.06345554633827571,-0.010026304785343953,0.07720170865016215,-0.018615606066330916,-0.0838925754943942,0.05413370002572568,0.03425329453942296,-0.02645234779413788,0.07411277032207485,0.005921552509140055,0.051275668952699444,0.054615829018157,0.07317359683263054,0.07675413730258271,-0.019126573201278297,0.03450158656748076,0.020119410155312534,0.03578946902517534,0.050623543371744996,0.05061685217360929,-0.007489019588513283,-0.022251887392633576,0.06505107733204234]},{"id":"chunk-7db5cddc-44","content":"Tools & Dependency Injection Example Here is a concise example using PydanticAI to build a support agent for a bank: bank_support.pyfrom dataclasses import dataclass from pydantic import BaseModel, Field from pydantic_ai import Agent, RunContext from bank_database import DatabaseConn @dataclass class SupportDependencies: # (3)! customer_id: int db: DatabaseConn # (12)! class SupportResult(BaseModel): # (13)! support_advice: str = Field(description='Advice returned to the customer') block_card: bool = Field(description=\"Whether to block the customer's card\") risk: int = Field(description='Risk level of query', ge=0, le=10) support_agent = Agent( # (1)! 'openai:gpt-4o', # (2)! deps_type=SupportDependencies, result_type=SupportResult, # (9)! system_prompt=( # (4)! 'You are a support agent in our bank, give the ' 'customer support and judge the risk level of their query.' ), ) @support_agent.system_prompt # (5)!","metadata":{"url":"https://ai.pydantic.dev","title":"PydanticAI","chunkIndex":44,"totalChunks":208},"embedding":[-0.023096534647677615,-0.0043409384884854916,0.008917226934427362,-0.04195738808977641,-0.07465301930504023,-0.07600031257189714,-0.041518154121151514,0.03193056478982755,0.02425229382060463,-0.07587071608857601,0.08803778935690253,-0.003026615972439317,-0.01672702199980011,-0.012492103092015846,-0.04050850898690072,-0.055964761813210764,0.07323926711292132,0.08442524338076096,-0.01613022930611251,0.06945964780694713,0.06660912627862604,0.05892458076742156,-0.03751163042121933,0.007509732659529039,-0.02237451267948385,-0.01627895643274073,-0.01490120645141381,0.06641076582295588,-0.058321360420713605,-0.07010648432865567,0.05393017425638555,0.038206775028469316,0.08077556590548048,-0.007579960878664664,-0.003223652962592941,-0.07506078328900437,0.025526208440864954,-0.06149881283731934,0.03392363385209488,0.08337261535740906,-0.03173611990940122,-0.07744262809635084,0.029635421235474597,0.07532916333718431,-0.03969021280666446,0.07987559800276002,0.08044055626374995,0.032165605567018606,0.02833455913031498,-0.08247692927910874,0.029754774815249737,-0.004818109921824928,0.05087981548398277,-0.05755757617303816,0.05046927193672151,0.03158779736760765,-0.08559910775142526,0.03167133380629614,-0.04326736422476217,-0.07906298339105929,-0.005077573475851807,-0.022976486814214568,-0.000873472553455278,-0.05292775814682833,-0.018106018535049,0.030980325814020045,0.07801738972627371,-0.08197455578855405,-0.007471085691501199,-0.005992207582572124,0.0351989884772263,-0.051400622346793906,-0.04913050415090337,0.015327599075280468,0.013699705447233094,-0.04349118099803571,0.04920194496363538,-0.0677760325901467,-0.06965638132175671,-0.03454795166614191,-0.08426398395922968,-0.05364342434050436,0.01726359099126688,-0.08766973499439183,-0.06184949539816082,-0.03202070033371297,0.07454025591467332,-0.025332441800773667,-0.07757771387018589,-0.000243380601698952,-0.01857516789005027,-0.06196214600867578,0.00025000897715968517,-0.019586464665904583,-0.060799529506181685,0.03929914659599276,-0.0696414030071225,-0.08806551934549071,-0.026756604612649896,-0.06188044311852849,-0.062166085417141616,0.08410597284313963,0.0046563833770202675,-0.06991571364796124,-0.07073006846760353,0.07061821909774865,0.04211331994183683,-0.021242128587054016,-0.021063809986158775,0.0856113810869941,0.03846818400069166,-0.01100116798613107,-0.0034535559027640992,-0.005374352142804598,0.04298334708496544,-0.05696883233156705,-0.053136610037310676,0.017011288838041868,-0.06108138009782306,-0.0787742991665683,0.05958154588882641,0.004997714616664712,-0.04860569290715707,-0.003967633538127647,-0.07271393585015552,-0.08153799332611908,-0.011067288650388814,0.07527941829770185,0.06106394784094082,0.03582566518536891,0.0334037054325894,-0.03608958603324008,0.039225023489691514,-0.060112478694810026,0.07470525091320634,0.031456320803121884,0.011034946176988266,-0.07373734934281248,0.0369078459332451,-0.0067170407685129075,0.02608464518359938,0.014183319652104622,0.028533459476592336,0.06039748707511084,0.047636142375803756,-0.028628079779727915,-0.06397015174924381,-0.021544525260379935,0.051055588453583996,0.0024312706244195774,-0.07185442503132296,-0.01163180256710765,0.06632477850987384,0.054640838456715864,0.021376733129762463,0.03579195943517694,-0.019520760041690215,-0.016531053332938608,0.015375316713047354,0.05929330821577009,-0.0669031827706252,-0.0709290947075906,-0.003393408564326791,-0.0723411253991114,-0.06018257552502014,0.04372223599241054,0.06579496738776586,0.013235347887396868,0.050587305816231366,0.02470362951634266,-0.048954657070550876,0.051012111204785215,-0.008773090626517491,-0.05144838010594167,0.07439844897526231,0.03447300207918929,-0.04353467164515036,0.08495816755739109,0.01584356898694622,-0.03916479615045875,0.05370469699729662,-0.07769474626522144,-0.034084733265522776,0.03987960224451965,-0.0057715720077048255,0.07700779928886821,0.03475383265784443,0.035025030589201187,0.06120753321004387,0.05060174072079247,-0.06273674140759566,0.07290590280880643,0.004473766159187574,-0.05996565396236563,0.0030531966287537233,-0.023268685378030403,0.07592798027291528,-0.053388903875964275,0.027302464223752525,0.05046694779041735,-0.06480983353397628,-0.04139806314741724,-0.04057974974387603,-0.046671796803299075,-0.08715688956309055,-0.07770207141750891,0.00019059852462867323,-0.028737057498954072,0.048374118877386484,0.0581924516866633,-0.07433450270754721,0.013454140343833298,-0.07759091572366197,0.08148518989752304,0.08268834431604506,0.02559222794045702,-0.0868338444703864,0.05884918228028483,0.012009431185773892,0.0010526295074708132,0.027277061250974108,-0.0874527591401122,-0.009251709460438554,0.08163165761032398,-0.05564951309361536,-0.04098743552508867,0.07663795817879764,0.008365958999260448,0.021354871717055024,-0.07192708833851102,-0.01302866584582544,0.029006377428306616,-0.027107689603925494,-0.028123708493213995,0.01799706233345672,0.04336234251050194,-0.036040148020969116,0.05094190202141036,0.08236323665325718,-0.0551518025186503,0.016497106773095745,-0.053218818417645516,0.05663136992407373,0.024985169474413413,0.028409947378164838,-0.08174061572268218,0.059086492728197826,-0.011749737659484765,0.06601470850436661,-0.009455706259257898,-0.060082130647046324,0.04764707929955364,0.03665306599367988,0.05821088272885847,0.0670004038006882,-0.007079007167087028,0.0635052101934177,0.08214004210634698,0.03270719120572653,0.008336126549797223,0.011300215620780943,0.012024463278030726,0.014249770121530949,0.03204118569843959,0.07455770107285362,-0.03884731608657377,0.008458636417791513,0.04191885757792846,0.02935484515020918,0.026898466264021575,0.012442649659508935,0.08176079438220261,-0.05959617041062407,-0.07470173440707914,0.05690677993120618,0.03253635798947341,-0.04601926460254858,-0.08415337223930687,0.011098905991318568,0.07323079100321808,-0.07302218407814473,-0.027795798747982166,-0.01828781867904701,0.07069568107483502,0.07366380512039525,0.06351751281450639,-0.06722740702366778,-0.04879023287119644,0.07433012544147286,0.037650420316276675,-0.031950041980730814,-0.003280139605542318,0.041949004290356265,-0.04927568261388649,-0.017141061838168756,-0.024226886120619223,0.08661409325769263,0.053584579087814534,-0.0351691860183178,-0.05229156362929954,-0.06621925136013479,0.020129943760234078,-0.019475025265106825,0.008613013784530735,-0.06047288792484606,-0.016378931771396224,0.07225362856270139,-0.05768539927591976,-0.07862167776400167,0.06215622015380069,0.07794500583094374,0.020008535071411405,-0.05222919257544558,-0.06028081570820261,-0.05272841558280143,-0.08719366531975319,-0.062099793718289095,0.07284026270513236,0.06252669207672162,0.03580681029305908,-0.0008957534010507294,0.06332291348151321,-0.07373280711546122,-0.007818776359539384,0.06762759434185066,0.04803330160087054,0.04725820408128147,0.0020129154224246405,0.07952740803125752,-0.048512018056996724,0.009371537500223601,-0.0022885019463628514,0.06401576783542885,-0.03825413640211935,0.04731490790785671,-0.011846450784320294,0.020227188760518076,-0.026773450103010063,-0.057499188052997016,-0.07163326024275707,0.026757330369392932,0.054122046311856756,-0.021940991073716307,0.05053380924991094,0.05393458774914419,0.06585039923783755,-0.071071597363261,0.035842008955335423,0.05884506984457408,-0.027792686194678787,0.0002789924119505786,0.07725192516911408,-0.07860648257094313,0.04703396655020467,0.03130287072367481,0.01723732667796692,0.045750571905129114,0.04168942187544107,0.05523353276168248,0.03839263365375404,0.023541027941870636,0.02109079487292108,-0.001545178769177683,0.02900965369110125,-0.07376285828147253,0.06486328242123783,-0.049971956179357596,-0.01664125680028161,0.02943275928652729,-0.08462035546353361,-0.08193956146423284,-0.08287928947039935,0.04306202727958573,-0.027520871086814207,-0.06731320439895515,-0.020638569240216977,-0.01139502823546529,0.0429017270426874,-0.049214721924695524,-0.02808218767422792,0.0034602026028603535,0.05150590229992054,-0.014036808847996554,0.07831220401442496]},{"id":"chunk-7db5cddc-45","content":"async def add_customer_name(ctx: RunContext[SupportDependencies]) -> str: customer_name = await ctx.deps.db.customer_name(id=ctx.deps.customer_id) return f\"The customer's name is {customer_name!r}\" @support_agent.tool # (6)! async def customer_balance( ctx: RunContext[SupportDependencies], include_pending: bool ) -> float: \"\"\"Returns the customer's current account balance.\"\"\" # (7)! return await ctx.deps.db.customer_balance( id=ctx.deps.customer_id, include_pending=include_pending, ) ... # (11)! async def main(): deps = SupportDependencies(customer_id=123, db=DatabaseConn()) result = await support_agent.run('What is my balance?', deps=deps) # (8)! print(result.data) # (10)! \"\"\" support_advice='Hello John, your current account balance, including pending transactions, is $123.45.' block_card=False risk=1 \"\"\" result = await support_agent.run('I just lost my card!', deps=deps) print(result.data) \"\"\" support_advice=\"I'm sorry to hear that, John.","metadata":{"url":"https://ai.pydantic.dev","title":"PydanticAI","chunkIndex":45,"totalChunks":208},"embedding":[0.048797788611183085,0.05141405326594539,-0.035313309629821474,0.06718939105818302,-0.00012820970256800188,-0.02082290121422216,0.01979881714527893,0.03455560111718974,0.04360234085894931,0.0011111114188270595,0.05115203913319291,0.08638872512470418,0.03538828535088926,0.013185194260654126,0.051243732893618776,0.08061638612286988,-0.010776095185620884,-0.07609356577020317,-0.03245397178348341,0.03737595814317702,-0.051015903201831234,0.032747154161028566,-0.05770729966250183,-0.06116433756445203,0.05015530716356446,-0.016031419548440198,-0.08449671449038493,0.03844176773272269,0.07852364440492929,0.00823180085933947,0.08322960156888201,0.04998597714298374,0.0797369497465798,0.030211218534432146,0.03716187777711096,-0.08565712085832763,0.05380724562351038,-0.06330526112822546,-0.047084084578880525,0.016730544349788035,-0.06729899149686251,0.06818655046231197,-0.04626075959222867,-0.07875129174294024,-0.04026486803714167,0.08719646614626499,0.05947861007329893,0.08310085130623668,-0.004288808923248157,0.005949211779560527,0.04933030862157891,-0.07379769949949819,0.06922232300664857,0.03255709696047664,0.007885590541795273,-0.058568917346726417,-0.07041914192548879,-0.07858687820995175,-0.08632206536039361,0.0077097494131249346,0.005279979340155176,-0.012538663584690139,0.03040644071279351,0.08714552899819338,0.0035476841204435264,0.08021266319894542,0.06764420409114713,0.045965000631466676,0.059263479015217134,0.0856275800133541,-0.08567334299889215,0.06502337207249538,-0.050465797755138916,-0.015759018791112897,0.028298062032762673,-0.07172386088827007,0.040533261829052,-0.0003765063877447978,0.06422862523664022,-0.051634515527230605,0.04525993176107106,0.08615194997424067,-0.03948207055864121,0.06463955877602885,-0.03336907020630517,0.02578730268171595,0.001283493067778937,-0.03749107969981559,-0.023639495601190177,0.016277956790808106,-0.05247684932778386,0.0392696969634108,-0.0002253080516636098,-0.07534067018982918,-0.07461890735338987,0.08495793739534284,-0.021596985055487048,0.0671790069582065,-0.049474783394273504,-0.030998676333664633,-0.01842469318348713,-0.0526424236562894,0.07041418518075804,-0.04158087319029849,-0.02802833526049928,0.00254115519727742,0.07600668503094238,-0.05267931998978052,0.03294428659542029,-0.04906402926736783,0.08414288915567246,0.07824454828810885,-0.08035016932952259,0.0729425680954816,0.08651847535191323,0.025666352391162262,-0.02796757202850472,0.04167976532731038,0.08656367001470831,-0.018576808876812345,0.02011495366928148,-0.023072101936379902,-0.06716902845656213,0.036918842287261194,-0.08503785979087067,0.03527212229588669,0.02159258593538462,-0.011199141288886608,0.0185417849294128,-0.007399084739810671,0.06928658852356065,0.0024220332351197926,-0.07165512334291342,0.025062476436464486,-0.01366384784341464,-0.06955068503567156,0.002260158730386516,0.08334505462311598,0.005360023656747021,-0.009556580935882403,-0.04571234910740673,-0.07443885117370638,0.04636724702675599,-0.015020662595158019,0.0160480297404458,-0.07676627542595586,-0.00036564983980853923,-0.06724003485857775,0.05775056720116134,-0.0397737424153456,-0.07374344156287035,-0.021307061462540477,0.04657794792479114,0.0010540425607376439,-0.014639577849187417,0.025974072991867544,-0.01935620028908799,-0.04876675895321812,-0.0881938186530576,-0.07435660851163454,-0.03477787401355081,-0.005851573709478679,0.07494876515741399,0.03554284459568408,0.027901680100520944,-0.03050396711785136,-0.005101732023588071,-0.005631315782969357,0.008087482022693738,-0.03918181716932954,-0.03226505068286325,-0.025210644124871673,-0.08694537382384164,-0.038837444537827594,-0.028322278253714733,0.03831767844019843,-0.0011265588812901216,-0.05345422131268995,0.0032006319759153414,-0.07206104749833066,-0.006634048230297526,-0.053267778067221945,-0.05993290325129666,0.005761701365818648,0.0031962069769929176,-0.04180359778273458,-0.06741482960022688,-0.017948999856316074,0.03453864234071048,0.0347110158512477,0.06288352874717552,-0.06942581073834676,0.07759238086457021,0.02836197923320866,-0.06668734806491551,0.012091467886726841,0.053802279548693495,0.05646205095346955,-0.058569909427725726,0.05617144888505302,0.06165861501574124,0.07934742582184044,-0.06993515442342228,-0.053228322421956305,-0.07515822076680133,0.00860798098284779,-0.012800059323475204,-0.08308337756405089,0.0733596290804301,-0.015416028516149302,0.07211366293254554,-0.011605696639519351,-0.03686077256872518,0.03972656257498764,-0.015985306030270176,0.031413604278031214,0.004693173359684992,-0.07610390143975457,0.052512817754728984,0.06769286258198395,0.017877136666861863,-0.03292117617359581,0.001931979624455309,0.026202186815222357,-0.036706002394002964,0.03984424125386211,0.0872250170602858,-0.03603813756899243,-0.04537657933903762,-0.014662535437840596,-0.04692613613598617,-0.04698114273014919,0.03875788491341693,-0.06254768144093593,-0.08515699452161411,-0.048469748413324076,0.02307432926347709,0.021486566592478842,-0.08057092557124124,0.05514715059651109,0.06391752938563842,-0.05711260587738114,-0.05433436202531174,-0.017499141875669803,-0.01773265243841367,-0.06718190281902284,-0.02560200319884177,-0.08266353210312945,0.023165884683870396,0.07530840937361488,-0.0061099969275618385,-0.017934242568730954,-0.010693054889409342,0.029329985777645697,-0.014010558626094233,0.009916548464741347,-0.05120588124120078,-0.08096771031760581,0.07889864858211673,-0.009286960228365636,-0.058957813834462754,0.0498081121034706,-0.05086381565850029,0.08821275201133975,-0.00789459658199209,-0.08040168842132768,-0.0138148490787704,0.04286866021331352,0.07894446955968587,0.004395968480359354,-0.0787466505181991,0.051494100303450786,-0.0086883178278273,0.003764248832016702,-0.07838870370140762,0.06749598888211834,0.030587086438087756,-0.0060476445065719975,-0.08313939669111105,-0.004876764002388558,0.06237780487897056,-0.06909124456008754,0.060415833318140925,-0.061093023031075035,0.08616766729577346,0.015963768268473212,-0.008745030629170418,-0.027957746627436594,-0.08441269891185181,0.047469330752174924,0.05459260252876628,0.018855969205328345,0.07893150746309512,0.007791710004989725,-0.08765494046663429,0.057600548607282004,-0.03801442083269606,-0.06593930088519585,0.08794241781606346,0.04979227921519614,-0.042861558018660054,-0.04728987132051921,0.08424814279209,0.038030074013160976,0.07628004111993203,-0.022276175886206964,0.005716298232892179,-0.07898020558209035,-0.07156754247734168,-0.00960989607139668,-0.040546477387197404,-0.027880920225876776,-0.022847583965124114,0.012328122389353095,-0.02312517935890751,-0.0752513754372505,-0.057517301871163655,0.010093282618236924,0.005319565196479839,-0.0348582120842702,0.012077575003442845,0.03669357818917513,0.07679852739663495,0.06067501607150773,0.01021620597171659,-0.07528950542788729,0.0021810605735751165,0.024598060089465107,-0.04695412186014101,-0.07561080796653621,0.07126228602246447,0.015219539803544565,0.034897912141827754,0.07580679086598714,0.003732781866901459,0.0793133850504058,0.08741454354495622,-0.02703020926713482,-0.08658716715662267,-0.02970584341176249,0.0009834656663741076,0.05905532705906048,0.022453282282161216,-0.07787437850347002,-0.019637883211980706,-0.03516687520317654,0.008699546924195193,0.005240943290681024,0.05764560207088873,0.053130835108800685,0.03640742254361349,-0.08249916223685315,0.010546746945862726,0.012319778284288952,-0.07493220239282394,-0.015312958987023676,0.001532096231647313,0.059042333326488894,0.08219776192381631,-0.05310613621296572,-0.00939792142601457,0.0007787684548677946,0.017901455420814647,-0.007494589245990765,-0.014549965044036028,0.07490973209053338,0.049030901224517025,-0.029357142446294962,0.03460407026769334,-0.00563357615707445,-0.07911910493996385,-0.03321609259904802,0.0270581235863872,0.02345823460605866,0.0019386489607394245,-0.07419642391655688,-0.016433010730159035,0.023857155367965465,0.008271572100927266,-0.07346132915647074,0.043739590165081534,-0.0389472966064072,-0.008610337366655129,0.07715634792051666]},{"id":"chunk-7db5cddc-46","content":"We are temporarily blocking your card to prevent unauthorized transactions.\" block_card=True risk=8 \"\"\" This agent will act as first-tier support in a bank. Agents are generic in the type of dependencies they accept and the type of result they return. In this case, the support agent has type Agent[SupportDependencies, SupportResult]. Here we configure the agent to use OpenAI's GPT-4o model, you can also set the model when running the agent. The SupportDependencies dataclass is used to pass data, connections, and logic into the model that will be needed when running system prompt and tool functions. PydanticAI's system of dependency injection provides a type-safe way to customise the behavior of your agents, and can be especially useful when running unit tests and evals. Static system prompts can be registered with the system_prompt keyword argument to the agent. Dynamic system prompts can be registered with the @agent.system_prompt decorator, and can make use of dependency injection.","metadata":{"url":"https://ai.pydantic.dev","title":"PydanticAI","chunkIndex":46,"totalChunks":208},"embedding":[-0.0336099411205293,-0.0628710597418275,0.013853141482880589,-0.04539401761201458,-0.06404096126309311,-0.021058022837322245,0.017926036224670167,0.04021611919632529,-0.026826110477452876,-0.07107688448505962,-0.04000509964851646,-0.027395888651641553,0.08444923821312021,-0.025966820952821736,0.08266039708093112,-0.05795029446521905,0.037883268066198426,0.0038153842621477534,0.013266346648257162,-0.0840931789839031,-0.037424493921796004,-0.07422994097591988,0.009327815745266489,-0.00009991222058707588,0.024751262231774717,-0.026170570530091135,-0.04968105006310003,0.0715889805487338,-0.07323773450744041,0.008906019793354328,0.05329241584487254,-0.05749936788347635,0.08096591651439938,0.07225296699273515,0.011188539041485437,0.08224094939739235,0.044592495904999606,0.042646158720107595,-0.060333082835442434,-0.06148265525011888,0.03765119211468198,-0.029512932943611823,0.0032389430184149763,0.06586857332132857,-0.032889630650003256,-0.07146858668082916,0.014913960247881773,-0.048937237890337694,-0.05919036367453437,-0.011831226233565082,-0.057107627078047514,-0.003148359453872727,-0.024779024958382103,0.000626406386381859,-0.011513318929441223,0.011842754794748826,-0.07789274023177127,-0.06039246365120198,0.04527928154062003,-0.07499051410670643,-0.010021293495254588,0.0806848497483769,-0.023159009552769703,0.0764565092865406,0.06931070176777342,0.036440677422212193,-0.07037286045923255,-0.07378665819563744,0.04209618295680567,-0.08209233968238215,0.03861412963268724,0.018329132742435004,0.022706422632656174,-0.05691013286991692,-0.0593041186808054,0.06466952526766145,0.006732374493149291,-0.04864802936775028,-0.05895316423651079,-0.0387229243430228,-0.00092485496072143,-0.021972090353958453,-0.003599503478862988,-0.061324043944131434,-0.05566737159547955,-0.05567325902611697,-0.004340226801651655,-0.05787187915824584,-0.05229723402840236,0.08400078798806483,-0.01909979229877732,0.06882807534990952,-0.06398829260139188,0.08398366100347904,-0.0005831352654831551,-0.005109648878474314,0.0237468334432889,0.038638476546219054,-0.06590719956842916,0.03771919885209197,0.04653455480013929,0.03844756460197278,-0.001567158080476317,0.07358143181718364,-0.07365105823739088,0.003291561131896115,0.02193772959549986,-0.033895802648611084,-0.022404490052311807,-0.0005849050486862086,0.05041424437131136,0.041061158891048395,-0.08478287908670842,0.08754441078186229,-0.040898245699487495,0.057263984702216365,-0.008048372445085024,0.013957929082876928,-0.04496762837326147,0.039851095769455745,0.012521015367710536,0.021397428988865812,-0.05946370792874957,0.062058747278800966,-0.03809269578239537,-0.08099049932978845,0.0650068481388161,-0.08227763881769723,-0.05037620414789002,0.017494612781210218,0.010976450206016777,-0.03787630545550171,0.07489219780120517,0.04999577165618702,-0.08118030213445841,-0.034222743492962907,-0.07518259778372198,0.08459661727353507,0.001975294963976021,0.029815017639815734,-0.05222497887241624,0.05269935368542045,-0.0216851791247567,0.04664411338105208,-0.07926840301524747,-0.08781870429873735,-0.055605316959593976,0.04535574490724301,0.03048187607475035,-0.053467196285786146,-0.035917252925712205,-0.07198095387378843,0.038582128396379874,-0.0015516449128313583,0.029122752007373322,-0.005338515446381749,-0.011334191128615924,-0.05416382191023844,0.06023050795800492,0.018632204022440407,0.02001402118059015,0.050141090447067424,-0.084415782492186,0.03411083986241252,-0.08309939555530074,-0.06556051383008327,0.019243720857824703,0.03965674001860939,-0.06926849417221205,0.032163007071947095,-0.03794839408720375,0.05246450792799617,0.062228157893141844,0.02258773740739454,0.049569844003849124,-0.057949507841642794,-0.01196111143777189,0.000573616895833691,0.011608890402856347,0.0029832828843412455,0.08612524702394007,-0.01610817291295747,-0.059129982467465286,-0.07854752407376002,-0.07190238149601792,0.05255657138460522,-0.04910610826817791,0.03486819343849126,0.06252503796030386,0.08161069461957673,0.06141560919576026,0.025407007855393716,-0.04167123372947621,0.08513410917268831,-0.029656385077953804,-0.046161556520556625,0.07616630784131714,0.041584733910524516,0.05054959355272388,-0.03550861057244368,0.07944712887283324,0.010779885436677654,-0.012625786718237298,0.08442627493174333,-0.05922800503950746,0.05592547713777195,-0.006895365058370263,0.0376986164271467,0.06601085405653835,0.04592631420581553,0.010976546589544738,0.07644412191904768,0.07883277592533779,-0.0434224273405011,0.03163823965226167,-0.007547041207770712,-0.06069357790290429,-0.03207602959231879,-0.06416141567475868,0.049625394040734586,0.029808773631946166,-0.06584796372654718,-0.0851079771627963,0.014046201944751325,0.07124054169258898,-0.048570402345533156,-0.017767003942490034,0.017213632721451745,-0.030155307182938147,0.0479621144055954,0.0330476440549316,-0.001516665753676549,-0.06514518655341779,0.012807491704381025,0.0004842247725127749,0.023052646616714002,0.06896946141833629,0.0662206195354149,0.031903058082224205,0.03528994211289596,-0.08558357995306451,-0.03884478083108218,-0.05219609996279768,-0.047952087631240196,0.004450339798815589,-0.07863040666498912,-0.08649961596348653,0.08515192634127816,-0.06029821083082152,0.03544145440116176,0.006580675387310607,0.040861361100200985,-0.07291312794568772,0.00822564443341123,-0.07462089134026878,0.003045903498139299,0.051900791050923205,0.034529931709056653,-0.08525719971637247,-0.08516152410174035,-0.058668259800811945,0.03753936129111612,0.02143762975958427,-0.07495879363601424,0.015508695745328326,0.025129015389110883,-0.012353549319066388,0.008328816833029641,0.0587323947372082,-0.019170999854382774,-0.05940013909710484,-0.03857282560510813,0.07829234906104147,0.04866936258807332,0.0542298614950067,-0.06657614407683016,0.055493064544568094,0.051021463939095006,-0.05981593148085863,0.04765966907945578,0.018132796102703394,0.06417543219020817,-0.03593828241603596,-0.011615806588141793,0.08081213040161007,-0.058796065088343105,0.08135250037405481,-0.04134275010093041,-0.06792931741468716,0.01988636853236447,0.011742139984475007,0.027255128482325506,0.02644548779433018,-0.007337667570340659,-0.04933616782575846,0.03384614271577687,0.022367078482323388,0.0012911281530597325,-0.0520703609811086,0.0015756555978344669,0.02288867308506293,0.08081972663680716,-0.044306490942058054,-0.0030573750568220807,0.07722898192169468,0.06375659974170594,-0.045389353546344734,0.08744649577609123,-0.06367217670982721,-0.07935537908761389,0.0615327314226686,-0.004855906355299892,0.05119422419105469,0.0655795279520566,-0.017848430840263774,-0.07399155310003822,0.08305141795080336,0.06443003430900804,0.01955780659723398,0.01127743618949996,0.06314091952871231,0.014205162322281056,0.05926376848608945,-0.06716792898350592,-0.011138102228216892,0.07740141257928174,-0.06633008780740292,-0.01915351341024433,0.04814779612897249,-0.009943414821801468,-0.06746012002033056,-0.014525659401128776,0.030592386590697504,-0.05457605826469276,-0.07202993010592094,-0.08268958573958762,0.03480799687446286,-0.06859687880467534,-0.004328283365401485,0.006903219705648572,-0.004811412282410051,0.029422403615016152,-0.08749174355946249,0.07820455807427402,-0.011224749923034105,0.08601108524335271,-0.028494567679155255,0.06463798421252612,0.00437193807333466,0.054611442850464,0.08666731977127262,0.0010419398453816193,-0.0406595885300292,-0.028751000500819197,-0.031678740739957606,-0.016247757096548476,0.05105260346406719,0.023233478376951146,-0.07852121224634769,0.08303170041438965,-0.010314925587516576,-0.07081852812747773,-0.06599904144783394,0.051857457690945526,-0.05190086261654997,0.0720641596364493,0.009207145233756,0.03964652037023653,-0.011726714467771153,-0.07167830528210303,-0.06829852966019956,0.004690306419141378,-0.007371017800119398,-0.05968215513238297,0.037491675816501216,0.03348250316944375,-0.0592379478336489,0.040368886701510724,0.011460628292164824,-0.06217152249933198,-0.025626651358747757,0.031128993482503083,-0.039839196558231135,-0.049710904500396114]},{"id":"chunk-7db5cddc-47","content":"Dependencies are carried via the RunContext argument, which is parameterized with the deps_type from above. If the type annotation here is wrong, static type checkers will catch it. tool let you register functions which the LLM may call while responding to a user. Again, dependencies are carried via RunContext, any other arguments become the tool schema passed to the LLM. Pydantic is used to validate these arguments, and errors are passed back to the LLM so it can retry. The docstring of a tool is also passed to the LLM as the description of the tool. Parameter descriptions are extracted from the docstring and added to the parameter schema sent to the LLM. Run the agent asynchronously, conducting a conversation with the LLM until a final response is reached. Even in this fairly simple case, the agent will exchange multiple messages with the LLM as tools are called to retrieve a result.","metadata":{"url":"https://ai.pydantic.dev","title":"PydanticAI","chunkIndex":47,"totalChunks":208},"embedding":[0.022976237275850263,-0.008849928872578605,-0.08278399202459782,-0.006227862690410164,-0.06974839033601656,-0.006534311033611639,-0.0828930177604781,-0.05175844261773112,-0.014400298236472407,-0.02870979471063437,-0.00811714984330778,0.07985506245042517,-0.07064595952215291,0.023248751085444292,-0.05345646502595245,0.015509265566841877,0.038465567035051454,0.02933186384520658,-0.02238116944957968,0.08392652465192896,0.08062915498355423,-0.020528062631994734,0.012248985282226966,0.08343745974643699,0.045465096806686284,-0.07198249872172109,-0.019458606754745617,0.014436769045262147,-0.025875832652435617,0.030683637108299494,-0.0588009730274261,-0.004110182044042966,-0.07841034470898756,0.018659494300978074,0.08276167739991294,0.03549191406076568,-0.06853133721162932,-0.059253953431327784,0.06189974280914226,-0.026602155931505254,0.016061180082165106,0.06217456975220638,-0.027426808445654302,-0.06012141773549746,0.05126011016508219,0.0720302573963196,-0.047992471675879354,0.06679026294354776,0.07253757113898267,0.022023251377782962,0.029000300514073547,0.007428668658636409,0.08049764251235032,-0.021612523305569602,-0.008227908544832123,-0.05604436057975563,-0.04536533607528701,0.059549547150921124,-0.05808574453205807,0.059994358892563986,0.0540201338001547,-0.06467499937092408,0.0294084141887842,0.08398588415823491,0.047032391542892696,-0.07281406567791458,-0.038956604020522735,0.0680104361488355,-0.08538643173562951,0.022711968116637036,0.08724458411308428,0.07307451209379934,0.0727358456561238,-0.06378589520831063,-0.05121068588626828,-0.06903742310636778,-0.08187028848552838,0.03297058374196289,-0.04203530085559389,0.041543476357370074,0.08138045086724698,-0.017400313073094118,-0.03394115546140605,0.06986797919808965,0.06137067930010969,0.0031687977426654063,0.03508382098489195,0.06820452638420559,-0.048140697925521767,0.024231158021279568,0.003734156873473674,-0.021878956035112168,0.06562111924948023,0.05103934243868925,0.07257894956014535,-0.035965752053824476,-0.028548681376613934,-0.07571311937054973,-0.0036321010228816315,0.04989980670847306,0.004382521038256493,0.013553159031907094,-0.0005531887863048615,-0.06886871239031932,0.05225553832831872,0.010102063797727795,0.0628932785374993,0.02858815379567818,-0.042337768034993506,0.07394967447121131,0.03344734431664501,0.0012576341457883708,-0.05834172776274261,-0.0683676744154634,-0.0032879595415941727,-0.04290540876997793,0.06093453333731166,-0.06049776539648204,-0.017280741631333335,-0.07015257075124741,-0.08516703202848165,-0.016354065309157607,-0.017747981065789207,-0.050485757487954495,-0.009627691371644459,0.023603792986419982,0.06776708082058622,0.001238726383585243,-0.0512635452769823,-0.004808589204796511,-0.026288960563697356,-0.00251782814077994,0.08406711012855299,0.03218533956863316,0.0738101358047644,0.07153950747424834,0.07571124909532811,0.07775399898380178,0.054211291036306716,0.0032597250673358506,0.013630744924686503,-0.020716513478209384,-0.004069247405272811,0.04130813883881815,0.08265330933453206,0.0704618319626653,-0.05005459472415943,-0.022725880884204526,0.023819375535290746,0.07076251957045604,0.0794933824303961,-0.07339150427122144,-0.0037509557383497835,0.06859759323422983,0.04568076179856646,0.04990195711842438,-0.05028946990843027,0.013299019490754523,0.06938964565454087,0.02029375913954583,-0.06771310713583387,0.030918951020616956,0.0390169738465039,-0.0021185876664476366,-0.07856146231422889,0.051432425963443516,-0.024070065172210938,-0.07469022390447938,0.003265326758998639,0.06660641959306705,0.02528098216919644,-0.04964632461240477,0.027772888119380796,0.029332090010682568,-0.04410870950906504,0.07896328801502628,-0.07052962688739177,-0.07086669227268012,-0.012080880952686083,-0.01153054268331087,-0.08205292775463485,-0.0759867543999783,-0.019604865696806112,-0.04083893316489747,0.03536915286479871,-0.037591431538917995,-0.019277290579115747,-0.0869332899505478,0.01809905425576037,0.06438100854875271,-0.02479769752871732,0.019932685139739732,-0.04068741865584615,-0.06547970713148259,0.08079902829610194,-0.03744852682597039,-0.004691491820935041,0.08647108394122845,-0.010567812784964227,0.02962060842323965,-0.06238754702132997,-0.07589573059369169,-0.03656700688776125,-0.08593656064526856,0.031350723489435475,0.025302792264024446,-0.06169116849551671,-0.03501484016032706,-0.05231756953287025,0.06581062960687745,-0.06529092917861318,-0.04074540011184511,-0.061666269722463266,-0.06093973818857867,0.023581624152416183,-0.07561896523529822,-0.05431488253911734,-0.07894748566525595,-0.026402381917887883,-0.038167126879990854,0.023104523482826312,0.07491967785686691,-0.07730686034974528,0.0724640963079035,-0.06580034005119238,-0.06149094967862228,0.033315485803917654,0.01688490636733019,0.040400913233774496,0.04367044298898749,-0.05898954448792568,0.011328696906181645,-0.009353853692640671,0.00499565689583246,0.08131651917670059,0.05601264279903373,0.024852163870772506,-0.054614611048194706,0.06857036378237182,-0.0301311097819187,-0.03718155846814839,-0.04838036213545896,0.031861371307017466,-0.06827280538868526,0.07993730469948847,0.022788000048747238,0.03918276505287345,-0.0081327751971448,0.00031830350461894557,-0.08691750933914422,0.02805979706386722,0.012340541411130626,0.00329450181476027,0.031672588382002625,0.02970572106520036,0.04165501368849258,-0.03489426074589063,-0.004739146409720296,0.07213253219869517,-0.06962882884980344,0.051747847382160705,0.012428317000384877,0.018901967687505287,-0.0023126556137047496,0.02229332622445774,-0.04848784474077399,0.054592702396310915,-0.03526988804519022,-0.060283772631798,-0.05657862868554012,0.0441631157909085,0.010426396009691752,0.032300580194754555,0.04181706611141467,0.04262814180184514,-0.019842779399871273,0.004814615593004513,0.07756723550805177,-0.07686787368066411,0.08225665863201052,0.0353948055835135,-0.07919259265168281,0.04473683015642828,-0.042363675215186566,0.08221630009152442,0.01459989507214184,-0.011077447849489625,-0.07682555240524544,0.024750668138840907,-0.03404283225375837,-0.04531644267790245,0.08032164345945862,0.007936985956845017,0.035839757795450226,-0.04634392346687602,-0.02985024194240839,-0.07756438193274971,-0.046239503000441204,0.08076388533212309,-0.012757653529956762,0.07768610195505479,0.06298685838276732,0.0048767158911772555,-0.024745600203598086,-0.007172358120830561,-0.05676658002689433,0.08397767084187079,0.011615888767020967,-0.06443526737630612,-0.08140331784891,0.03322714448749994,0.00860836672207686,-0.07463784276956989,-0.0633419920761103,0.019811799861397472,-0.05069442997307102,0.014481771080677415,-0.04898282580437268,-0.07525871077838564,-0.009554643625424842,0.0652765009983536,-0.05930848977344474,0.0331548802437836,-0.08031435629172419,-0.01858080767874473,0.02947666099550857,0.01139655765375498,-0.06500950117542527,0.010157566137300162,-0.07644267892711584,0.0276062572383575,-0.004562649414665244,-0.05303058529103079,-0.06299816115495316,0.07015929294841797,0.005874833375553869,0.04727219082577524,0.03295355942198572,0.06288449668600288,0.019872679171018818,0.06593375284357107,0.01222500168108162,0.08313606643732568,-0.03814464397841049,-0.08080184336805336,-0.02982162002158045,0.0069130480002886074,0.0658388127326769,-0.057697944811737685,0.05542117322292666,-0.014457887799831332,0.004439402304169126,-0.05291157792543848,-0.01534374665696763,0.034713121205627716,0.020657835976536056,0.05762386245825363,-0.08370452934386229,-0.03274362084449998,0.01856436118908944,-0.009803903374787256,-0.0591378886112652,-0.07123166704664381,0.037678453268054475,0.0012946003736251334,-0.044785990620474156,0.06595254000713702,-0.08416103209574824,0.028928997109161823,-0.08647259938920629,-0.02918429204199288,0.08668620070561384,-0.07012797402517183,0.0287047225889856,-0.036297153787117134,-0.035484190312036534,0.021682548787631314,-0.056146406889374986,0.043532083546826666,-0.054074515209375486,-0.06429042180171446,0.07052159282748885,0.0014552640360090215,-0.008014149182653415]},{"id":"chunk-7db5cddc-48","content":"The response from the agent will, be guaranteed to be a SupportResult, if validation fails reflection will mean the agent is prompted to try again. The result will be validated with Pydantic to guarantee it is a SupportResult, since the agent is generic, it'll also be typed as a SupportResult to aid with static type checking. In a real use case, you'd add more tools and a longer system prompt to the agent to extend the context it's equipped with and support it can provide. This is a simple sketch of a database connection, used to keep the example short and readable. In reality, you'd be connecting to an external database (e.g. PostgreSQL) to get information about customers. This Pydantic model is used to constrain the structured data returned by the agent. From this simple definition, Pydantic builds the JSON Schema that tells the LLM how to return the data, and performs validation to guarantee the data is correct at the end of the run.","metadata":{"url":"https://ai.pydantic.dev","title":"PydanticAI","chunkIndex":48,"totalChunks":208},"embedding":[0.042551325735224924,0.06426946130926658,0.006399998881213015,-0.009822943813187142,0.06598814554893062,-0.08586839250180764,-0.049218673854659965,-0.08288270051665896,-0.043035419647568095,-0.06882252449487455,0.0629786584846815,-0.08394580658211796,0.030047043241907247,0.07199608700701529,-0.04564140250399759,0.07558150441488423,-0.053930113832236004,-0.06389877088534515,0.012347322876642758,-0.04055880112604134,-0.06798388606265722,0.05248181867403711,-0.025698371069850977,-0.07234160524067389,0.06220325472286875,-0.0642114298208991,-0.009309683846504806,-0.06485792883770473,0.013680313156441635,0.03722859239712707,-0.023708211462331038,0.0028601080392400375,0.04315710630990388,-0.03269241041440943,0.032897652380359216,0.07707127030622127,0.07433920774491146,-0.05519030676660794,-0.020002067348780992,0.02741462606420782,-0.005183054461948865,-0.0757971718572535,0.0631150057193655,-0.039036873862560335,0.06115517011419373,-0.03646061222842847,0.03518628228713536,0.07600714707925228,0.0778686452506614,0.06855752527717977,-0.07607029883518386,0.04963041790821923,0.0467195625718705,-0.025359897219261962,-0.014966424773108876,0.03834909218369464,0.008389639710686783,-0.016411600360693227,-0.008413157001014394,0.08573374155863604,0.05435059125664037,-0.07075132169990737,-0.03476425040868781,0.0642497257931644,0.008622645723532768,0.039567216824910934,0.023919779283917832,-0.08306281309595097,0.04483511621426222,-0.026251739287059647,0.07338333108593717,0.07594431710195397,0.06490843044439583,-0.005685746912387624,-0.027130757489717806,-0.03691006966009323,0.02487175683468765,0.06804263550758166,0.01941900801951602,-0.08163108782244685,0.019181738232899464,0.003982414895592554,-0.04932875281632843,0.022484146627411838,-0.06364637220982902,0.0755782101698465,0.024319360179300014,-0.05526072920282724,-0.05776101770357685,-0.08537280063344478,0.04352426066564388,-0.08437593899877632,0.07198941292540025,-0.025226681929348547,0.018994469882722798,0.003536577480006371,-0.03392274237216011,0.012577594573140739,-0.07300731771104194,0.05704315090744332,0.054951408616605156,0.04472335549449253,0.06664008765570517,-0.040558945159855773,0.005139432381969731,-0.05579308483531499,-0.045337731938128685,0.0005438617833070444,0.011116267731998728,-0.08499465447731074,0.04089235973834696,0.024250518861651738,0.04313860571077597,0.08290700405283512,0.0033797599583939874,-0.04723327402109015,-0.0025366209609411477,-0.04349355791706311,-0.036996532164948664,-0.07486128367402164,-0.01278093260935824,-0.06793270201185288,-0.05818386924187278,-0.04513985514252796,-0.07774577305259175,0.02289955426294527,0.07802492015554778,-0.00073229006733441,0.01827143094346536,0.05233851785390946,0.05660255569856284,0.035416003285356344,0.02617190616588813,-0.07753818961859306,0.0409685158896612,0.03131988627020287,0.044626604894834554,-0.03204330947491951,0.05722162283596836,-0.04642122236503852,0.06873169146141113,0.05237543873458478,0.06003902333350245,-0.03645476553597955,-0.010734313937784836,0.08286705500734254,0.015133383270740142,0.05008780353368604,-0.027683541324294677,-0.026102152042730083,-0.02860303030982271,-0.06227342407780569,-0.05440231551718485,0.03288196249901851,0.029371701118296057,0.07229841986197265,0.047557060018330065,0.08564027840255699,-0.04322001861791061,-0.08035937373582594,-0.009963482589970546,-0.07872077850566903,-0.06242767496708762,0.05397373702003978,-0.06860126239545167,0.08490574344748128,-0.019488583209915252,0.014396759855050744,-0.05210551835105134,-0.0071920800529188,0.015963645700875773,-0.03510000883980498,0.0774791463961083,0.029597556695899405,-0.018499765270521846,0.05121694401007685,-0.03571953848659507,-0.007883662008420911,0.037077043736523235,0.08375240178007841,-0.008098876292765058,0.038660574904590975,0.03228171251274972,0.07466321506201956,0.019232402395051484,-0.07098820991094194,0.03829149031472298,-0.07850986502640052,-0.024447501730441086,-0.07434520997268093,0.01737295704605674,0.021795325353528357,-0.042704161979996366,0.01113077705153374,0.006255383417199987,0.04536254517643944,-0.009404335629085001,0.05806580841414346,-0.006642922817041044,0.0559362646657363,0.04853189961863852,-0.023236336108877795,-0.06245973314539342,-0.01397439694667628,0.04889364533948272,0.05824261748972919,0.059703316214434615,-0.002224295492906378,0.031076906003971547,0.018361060674003737,-0.028760697222426468,-0.07533865969893912,-0.0842496142173695,0.07732243363628322,-0.06454425440578612,-0.07337284898940638,-0.049161312956000375,0.010008230424992938,-0.034982775619609954,-0.01731206271891312,-0.07505886476232068,-0.04349224669083125,0.04140825857742441,0.0780347439458338,0.08207859290525747,0.005114850762611592,-0.06202692223032645,0.024962189204904825,-0.0009271115335743754,-0.005749773532930847,0.03259778047600943,-0.0778562313070449,0.005824815946309628,-0.08221265814262103,0.08145742480846273,0.05551051797805235,-0.03867582700597625,0.048604648388268175,0.05010135397665427,-0.023717266155602535,-0.019831190081663043,-0.0000018049647692584455,-0.06330654867725637,-0.03012237332175058,0.03650562416269728,-0.0764655327159847,-0.05022969994357672,-0.010894707280527932,0.007873040327395319,0.019948426403986454,-0.02441857730065656,-0.0782664101480805,-0.05680931498890868,0.08579888495104103,-0.07805997424208293,0.030063544166888105,-0.010022541245920146,-0.07676618503363006,0.007637308818174773,0.06410332400829755,-0.007941506145612207,-0.003939531250668172,0.0007332314568981953,-0.007299985921819988,0.07668533314770166,-0.006708475764984985,0.0635179979356912,0.01913628608654802,-0.03362441555481378,0.030125590472194763,-0.05947745355408733,-0.020294211009806582,0.017492689462626672,0.08284494824630044,0.041339814593818934,-0.04329532775063043,0.07218981640567151,0.05953715327483514,0.043275253043601,-0.012490666743620487,-0.014519889790846953,0.07891034149846066,-0.07844885411436603,0.07267651329011189,-0.07920015714266469,0.04039128736905354,0.03536903073892439,-0.019005306253253716,0.0019248076261082407,-0.07894421636313374,-0.002268111054197107,-0.06161807045892733,0.0452798117211446,-0.02431633716631005,0.020543307485478796,-0.008849426186236055,0.01403899387944407,-0.048544181829405654,0.012757134809744797,-0.01435115072965734,-0.009953628613950664,0.03890135328456504,0.05921503767545359,0.040193276959254516,0.03789812592025092,-0.009919552944601805,0.08210361359237116,0.07185482829206427,0.071304283213918,-0.06433509973607937,-0.05934223127084475,0.08417984023485435,-0.01494775564670546,-0.06811700242323836,0.0339898199574434,-0.05801406229445348,0.08377325053223339,0.02943484544673312,0.06273300317804657,0.016306760866922163,-0.0054474020823626675,0.006748243154189163,0.08339847053066232,-0.001410873464743481,0.030674002282318317,-0.07776576772883005,-0.04382867298828345,-0.012297656373225415,-0.008606427442470643,0.01632887629350512,-0.0516809262598523,0.08372245050748248,-0.0647569078124705,-0.035423209973825164,0.08583763018408287,0.015673367866259804,-0.005311018063262032,-0.07772353302695978,0.012988903576855742,0.026848720893007005,0.0731907116413866,-0.03117326664065771,0.0791387552626321,-0.036810020978637,0.07994056173098976,0.07126799176114182,-0.08293592229301476,0.034762625141161775,-0.07493830088993812,-0.005770142576486647,0.03016267110313864,0.038487602002952384,0.07764272201513013,-0.03843977337513478,0.02696679087547041,-0.0667548911319583,-0.038677661880130436,0.045458183001363964,0.04026933488247459,-0.08494581683134442,0.0349362544169532,0.013138841837135758,-0.07747195339067242,-0.0802766522787523,-0.06248509974552219,-0.06767013628706664,0.037885039150200465,-0.07512904314651034,-0.07465113657850225,-0.08444441552580806,-0.027310956022929288,0.06387854994209356,0.026378548433313984,-0.06284028440148351,0.023516096493966406,-0.07223833675758277,-0.0007770609844266334,0.04949423437474337,0.046350767178571985,0.05821382162282222,0.03413868220854328,0.028694616867055135,-0.056420634653441916,0.022067412514977878]},{"id":"chunk-7db5cddc-49","content":"Complete bank_support.py example The code included here is incomplete for the sake of brevity (the definition of DatabaseConn is missing); you can find the complete bank_support.py example here. Instrumentation with Pydantic Logfire To understand the flow of the above runs, we can watch the agent in action using Pydantic Logfire. To do this, we need to set up logfire, and add the following to our code: bank_support_with_logfire.py... from bank_database import DatabaseConn import logfire logfire.configure() # (1)! logfire.instrument_asyncpg() # (2)! ... Configure logfire, this will fail if project is not set up. In our demo, DatabaseConn uses asyncpg to connect to a PostgreSQL database, so logfire.instrument_asyncpg() is used to log the database queries. That's enough to get the following view of your agent in action: See Monitoring and Performance to learn more. Next Steps To try PydanticAI yourself, follow the instructions in the examples.","metadata":{"url":"https://ai.pydantic.dev","title":"PydanticAI","chunkIndex":49,"totalChunks":208},"embedding":[0.017255923036449933,0.04838185340109174,-0.058105046929758784,0.03664247861686904,0.016527275113191034,0.01597951444348863,-0.024223035481289016,-0.02586534633342551,0.02685048383010961,-0.05781431426220649,0.0768754848114378,-0.07917473366430822,-0.017056875045847034,-0.07625459293002726,-0.0029552490997870533,-0.08103568765928669,0.05672210276140816,0.06032924612376686,-0.04781117075488919,0.038093824600971216,-0.0280716957495695,0.05187818996625666,-0.062054480098785864,-0.024987638094127386,0.058490484909134395,0.07758677011691413,0.042928062187281575,-0.004544247881817122,-0.08472685119560865,0.029987223509324427,0.01947432792428543,-0.06873963941806803,-0.07526992415340936,-0.06564600973979139,0.07892643332471318,-0.04180171491174488,0.08096078266702893,0.04381505868303034,-0.018140467672171416,-0.04239918041507216,-0.07201394425245089,-0.01040275884044226,0.018398130517462395,0.004933845891735261,0.013769102758513873,-0.036088851243562904,0.007426975622048366,-0.08248652691791118,-0.06448294802290912,0.08372191808762033,0.06682881128861046,-0.07493025943524965,0.03087585770988679,-0.005269058668485586,-0.052875327861193436,-0.07156122767187773,0.040772824786166915,-0.06755101636901975,-0.03962029483582416,0.003929211996928742,0.04451033620837329,0.070193764153135,-0.010566409777117853,0.0780566220921378,-0.04914018478666803,-0.013899883107883078,-0.04629112839880407,-0.03800151038352364,0.03432667358795876,-0.020886829320107256,0.048230531314088325,-0.0815426175350265,0.07679124896162612,-0.012492112891672973,-0.004131475744974581,-0.06483795144555778,-0.03786748342259169,-0.028695700224946004,0.0026139439271365937,0.05788393464516486,0.052431679894315894,-0.06100113856710169,0.037814043660879905,0.028794814095300967,-0.05147064433321036,-0.06897802376243634,-0.05237276269046228,-0.023856276802483187,-0.012345695167270895,0.07424599949047048,-0.011879294765574692,0.0585563557806867,0.005746625163469558,-0.001031557943192078,0.0008401369496690512,0.0596048314783168,0.07236671163046289,-0.06796123016468242,0.0012335428020679882,0.02128928504319632,-0.03496546578201224,0.07137122880376873,0.052949120809900524,-0.04672162484911513,-0.05661864954088866,-0.08121317412142907,0.08637331382803731,-0.01599233394128602,-0.059975916450399985,-0.06571845749726862,-0.011737232209579156,-0.07254693873817103,-0.07371059062361734,-0.029475886626177093,0.0755490780211575,-0.009893415467533286,0.045009867735430156,-0.06664807350813809,-0.06179705089360193,0.05898363746143806,-0.009744902490788174,-0.07987734132099573,0.055086960943871825,0.02507788522796071,0.06991998190067918,-0.025414826637266578,0.012606516660091374,-0.08630196387718966,0.07760806814426043,0.0030957218775591504,0.04061067452389035,-0.06209613823798255,-0.05343922871801261,0.032796075317398254,0.04845388480799214,-0.06739551430452861,0.053672245755517725,-0.05763347410982194,-0.04030108579076318,0.033851607253985234,-0.028443765767966863,-0.08232075178298964,0.06300799666611034,0.03227480281946646,-0.061784607766697516,-0.000830532057904741,-0.07578777387186764,-0.0696386623811974,-0.07939768279064907,-0.04457877206125359,0.07948138240363742,-0.06443233704356285,-0.06274317106536235,0.06031428757719425,0.03400951367962269,0.045125410569357746,-0.08420788483039801,0.06016784267560328,-0.0475085691052748,0.029705833532850102,-0.016077069602297045,0.0385652259204458,0.026303674617039852,-0.033789735834314376,0.012286327693903825,-0.052156181571385074,0.05386563632553206,0.028272311037790633,-0.03473653378944306,-0.012770820382177443,0.08475224603978279,-0.04537885194976091,-0.04004471533250475,0.02625885017652853,-0.04625589591631616,0.07220192209695744,0.07095968367036097,0.011578732869514422,0.006973849180927557,0.05012866895071761,0.07884535948125367,-0.0782624585494284,-0.04769449215594575,0.022532100520053774,0.06733652102945845,-0.05766413053792918,-0.0435858929616707,-0.03264700786076204,-0.030138421866714223,0.06605293847535768,-0.08481664755554777,-0.07440668534344344,-0.029347198928452455,0.010790717871580435,-0.021810653395134133,-0.060690986886754325,-0.05977133318203592,0.009257549564875246,0.08345629063708616,-0.029842951347475274,0.011400401059032417,0.08338199743783219,0.025272564015845433,0.0293848940437115,0.0575877379763447,-0.044416394112847174,-0.07866321980973243,0.011989075911445268,0.03125404940303825,0.04844379063631599,-0.010587421831748718,0.06318505078595964,-0.08370216924091968,-0.013481115667330276,-0.08614925391744628,-0.025059353280408824,-0.06802444862596216,-0.005998925957042999,0.03529045066550074,0.04230299031462176,0.022439281388699946,0.009516783267113022,0.028002714424405946,0.0570578398546027,0.08098711801599502,-0.05500002889075646,-0.012504485252559226,0.027275615655724374,0.006781350420826905,-0.0032659085273094553,0.024355982557778946,0.005539320599469229,0.06950094919663091,-0.06962360994453065,0.020879674323495034,-0.07061616606729106,-0.08477351041614965,-0.08425425233296989,-0.03511603028557954,0.0016793803211429112,-0.05355416158733629,-0.05510547330438258,-0.043708124959397736,0.0495607577626014,0.04882938001767428,0.04834227985665881,-0.05176482189234618,-0.018822342863743326,0.08427648790082931,0.0287127647905111,-0.023714441746580897,0.03264691228241968,0.050024489255057765,0.042841734885754504,0.025135839567086368,-0.04723905034912093,-0.07192173264023287,-0.01795352335112243,0.023989076600189,-0.02919746064794287,-0.01580594611610539,0.07286348740860525,-0.05802588821261269,0.030300496826514502,-0.0187436941521225,0.025364458957323595,-0.07006244303549747,-0.05473895828496271,0.05998846636620474,0.02016692622940392,0.07403699500671639,0.04954384746346752,-0.04437219426885687,0.07164424354954553,-0.08180271408991194,-0.019871739342000146,0.0737144255462484,-0.05795619939633813,0.06324840036669145,-0.0678602589832761,-0.07799023277427128,0.020069178210465874,0.04905300415187382,-0.04392595801816659,-0.04674900780384632,0.030958395257360244,-0.008908530135113637,-0.06118480684857097,0.03679221857589546,-0.03686573591827184,0.06725467388871206,0.04995026608420245,0.05525592025367794,0.08364935841541643,0.025468874329171904,0.03738992270761917,0.07130135998852305,-0.0752468537978296,-0.02138498654221899,0.038875670466751416,0.005803506761502502,-0.01659467531098045,0.07448388614461,-0.061802077944971306,-0.0658147841904571,0.08366367822873108,0.022385184780610853,0.04541082624422794,-0.04536881403391661,0.057707804116760075,0.04988127923397013,0.05254997494130271,0.01591017704785272,-0.01758199326990099,0.047702094875947364,-0.08229520616884219,0.07950164017471606,-0.015041210457157566,-0.018832859239219246,0.07039385743292172,-0.008015730503855597,-0.06797229861091185,0.037019638512471136,-0.07573179429236668,-0.01409353049612404,-0.018004357685136002,0.06728221817615905,-0.018389203953237652,-0.04217598332182055,0.08528393181734176,0.007765209266872033,-0.014730499564555364,-0.015928223001752718,0.00867649160427327,0.03633411037048937,0.054626754264247186,-0.03813557464472486,-0.05374168051551026,0.07624141380765835,0.035375052145820866,-0.07530061610166942,0.03361745377494609,0.013306725185535592,-0.028142465263004346,-0.01811143981092832,0.00018696916098723246,0.07035919734504191,0.04588986541239963,-0.05464743632264507,0.020274577052270423,-0.06642642565392046,-0.0760295708766789,-0.05032859532168403,-0.06796051150783679,0.033165946383589405,0.025127740898951215,-0.05101716895989438,0.012873648848242393,-0.08288442042044497,-0.021265132600145766,0.02514267670962206,0.07339772237331327,0.03788154861642274,-0.06304040711993336,0.006691113974258505,0.07699610174789329,-0.06321758173802527,0.0691053575284351,-0.07096051999811756,-0.02131033085630405,0.029103673712857738,0.08435113269466803,-0.042817075824409134,-0.07433833271443771,-0.0007370791967593696,0.01766344131478325,0.07244348615445778,0.019941078614869785,0.028083655381370413,-0.01303151286673588,-0.03155961257011642,-0.038649875519192196,-0.03685988142187741,0.03570717145740616]},{"id":"chunk-7db5cddc-50","content":"Read the docs to learn more about building applications with PydanticAI. Read the API Reference to understand PydanticAI's interface. Version Notice This documentation is ahead of the last release by 2 commits. You may see documentation for features not yet supported in the latest release v0.0.27 2025-02-26. Introduction Agent Framework / shim to use Pydantic with LLMs PydanticAI is a Python agent framework designed to make it less painful to build production grade applications with Generative AI. PydanticAI is a Python Agent Framework designed to make it less painful to build production grade applications with Generative AI. FastAPI revolutionized web development by offering an innovative and ergonomic design, built on the foundation of Pydantic. Similarly, virtually every agent framework and LLM library in Python uses Pydantic, yet when we began to use LLMs in Pydantic Logfire, we couldn't find anything that gave us the same feeling.","metadata":{"url":"https://ai.pydantic.dev","title":"PydanticAI","chunkIndex":50,"totalChunks":208},"embedding":[0.06995917869292044,0.024774931989859313,-0.07169014416869474,0.08543319496963964,0.00347286376150647,0.058839626831607206,0.01876919356942903,0.0368815064957099,-0.04559524245028396,-0.08128207613772478,-0.07252826319325523,0.012683412329713836,-0.03936380209844382,0.07842915703149185,-0.06237891960330028,-0.08145579009216482,-0.002537495623435369,0.03026329333575164,-0.06693213647826989,0.03584761962620388,0.052959131001679906,-0.0036659529033122927,-0.019058198496617853,-0.027634800008352046,0.08109930177529637,0.052656332566984654,0.02560527730655097,0.046402236349522084,-0.06743536196271425,-0.03664701682196451,-0.07570725577375154,0.07763542039079743,-0.0016116409846141527,0.06717359157545408,-0.08072397378892415,-0.0631151854606996,0.042688773266976884,-0.05283936349477952,0.005208964671997803,-0.05375236933750427,0.011520102239989258,-0.008403106906395612,-0.03519698289836431,-0.03845468327972363,0.07259158749106588,-0.08039952538406818,0.04390905664178127,0.06540052102017399,0.07379623961107286,0.06193831888195065,0.018234007608572626,0.06186288763174061,-0.0224098216618206,0.03603551825067729,0.06927499300569366,0.08073540481063735,0.08083284340364186,0.035174329484515286,0.08333560982140145,-0.03012220720874145,0.02359716006989315,-0.016275872669863446,0.08375353074787349,-0.0687396847350995,-0.07613095335283734,0.04306176292384558,-0.059200723823016596,-0.04652281193657235,0.04134217867959885,0.0785207636771475,0.04424029836968229,-0.03879379656313866,-0.0443873269775957,0.0586922180958621,-0.005282299704451333,0.08575587911961086,0.04312652887621882,0.0613652845449741,0.0384834302265663,0.0042026389554962375,0.02836165502932166,-0.014049674220881513,-0.08271705211572784,0.008285932404239716,-0.046729979624254986,0.02207273060429551,-0.06473189005392972,-0.01008739196096818,-0.020073333373669386,0.06467001588702426,0.008037093136507538,0.03181543188859948,-0.03605132445959729,0.0562903151939253,-0.025663755981091368,0.02094158971798686,-0.013180775438591719,0.0734673914512986,0.008002667523476645,0.0231244950964029,0.06812714786735859,-0.053824051930126196,-0.03226709029730691,0.01255191068110434,-0.0014099276777019933,0.07687064687483443,0.0500497019591656,-0.022873074847821126,-0.05843635918548914,-0.06054688589951084,-0.008210074456986856,0.024905818695589783,-0.01974311206728735,-0.050666124235249695,0.07515296763686899,0.05822455953011486,0.018681904655967287,0.042855727098962966,0.07737889523768972,0.0041928021225892155,-0.04907555586346619,0.011158029298946113,-0.05644813453174612,-0.05989699877119369,-0.07233546103370526,0.035034085804836086,0.057557826768522384,-0.06595534508187177,0.0784253741529506,0.07001960502441187,-0.07250272542420515,-0.0034643546358576237,-0.027292189648949916,-0.048763226139724294,-0.006143999281473948,-0.02292913379320473,0.00973122352435807,0.03979039378373204,0.0661832512147458,-0.07652316294015776,-0.01450739359078551,0.02532914227364134,0.07890033534403094,0.007616987686102484,-0.07293877041130407,-0.006635182417474817,-0.05863522063293369,0.0432576387035209,0.08549711530223444,-0.041868393246323264,0.006360318110850936,0.010006860060072871,-0.05868545754528807,0.029627114443960236,-0.046870610089754454,0.005860327287124134,0.06955467960990278,0.01754261543595972,-0.045092617813133305,-0.005309008025449269,-0.05739504891800136,0.07889651044931727,-0.0034395647375040778,0.011092883639825224,0.07610835123439509,-0.07889430352484943,-0.0253462302598291,0.07983236237398195,0.07969116100395927,-0.0745943006639202,-0.08179324565639101,0.0750350934094755,0.0401051001977444,-0.04594016925747893,-0.06612464011782594,-0.017831290758347468,0.0593652488105178,-0.06755491112162902,0.001964503282757875,0.06585278040850744,0.02982090164932385,0.010498809776582277,-0.04418139912113354,-0.04881401407422219,-0.023147734270585203,0.05819554707559743,-0.07235157353475505,0.029733631247724424,0.0071143589237588475,0.013894214207852293,0.009858127384796803,0.058527726366024234,-0.06984422174838376,-0.03436606091254111,-0.0451399118948137,0.038912063653388056,-0.06931460944975822,-0.03204375186095928,-0.011257770836517685,0.06042120301293947,-0.036067534904033256,-0.05388360540537401,0.037190271584061234,-0.055143286457270374,0.06527927312042854,-0.01488353891225882,-0.07850541553711993,-0.06005170392347232,0.08341264640143738,-0.03199299518040356,-0.04536927970554666,0.06904958172662966,-0.03830002872881275,0.005400050612250099,0.02580311407726393,-0.079325120539165,0.008446576803256929,0.009942349759616491,-0.05310916839984535,-0.05226526558145011,0.07601340615587991,0.01656674150600043,0.03279226324637392,-0.05443518619769893,0.0153512427957048,-0.033358096711072587,-0.0050189896030988475,-0.059041710066689894,-0.03601963994213287,-0.006280929428011786,0.061915151574047325,0.08514545999777155,-0.031665137546415326,0.01732020640676285,0.006307645850913833,0.05473768413301687,0.040343604283836994,-0.07955622253414847,0.07028268259290048,0.07290975064354543,-0.08286497385826191,-0.0741722038403371,-0.08231317355408564,0.007965043639700261,0.00783404183559777,-0.0846942772641109,-0.013952854159642564,0.08280656758368067,0.03490827031251721,-0.07535296912529689,0.021573880468083166,-0.030827404125817495,-0.017656482818367576,-0.016279172007523508,0.05096711506901869,0.07058997406277283,0.08545469019128378,-0.06606904950367348,0.04497876296403699,-0.005375273351631447,-0.018971419377672494,0.05617893870029244,-0.04086187370750774,0.06671945826732785,0.031237109328914325,0.039392797954664785,-0.08579469076027874,-0.04690820109208949,-0.04247936442262347,0.07900709292020675,0.018341101291334216,0.07442974133109075,-0.05020170327626007,-0.0017905179371865533,-0.0449793303209099,-0.002719287336593634,-0.011900329309314488,0.013204222551323256,-0.0639370344964817,0.028106919278469557,0.06183676141086873,-0.011459305418738169,0.010342250263918997,-0.051274872376643375,0.08040959251506556,0.07446083891833927,0.07613025498596576,0.01274488497344517,0.02868913787047693,-0.06693800564402005,-0.017359409523467838,0.06527518530159705,0.01676454062531186,0.06066325813355472,-0.05083123778477775,-0.06747891341029777,-0.045218474301772164,-0.02765182537737155,-0.08618047687915006,0.07489055463134059,-0.07150724500624316,0.05964547737818339,-0.014817857164279262,-0.04155241360098171,-0.04473351690571243,0.08362480927966208,-0.03668002787437421,-0.0044066718390017605,-0.06630553993196155,0.009019920202796463,-0.008916294885086457,0.08043561249767561,0.01998952027240066,0.0013656287347227844,0.033076935787389045,0.016007986566956633,-0.0629341826670635,0.06545244929034548,-0.05772112160579693,-0.06549054543988712,0.0715350060244362,0.011110054538442802,-0.0232730207595073,-0.025300079340778957,-0.014825937099464061,-0.008758038096812117,-0.049900740607320665,0.020316285759272412,0.08296248067264497,0.06772331163151346,-0.061804521241550905,0.0667094392591918,0.026491217574413837,0.007429434781337404,0.03566976810461016,0.06601313426505556,0.003614361682104272,0.039203343877727385,0.04638952377506704,0.008666642306001856,0.010189760551256786,-0.06216353453181698,0.05517376989806396,0.07238747368600457,0.0028602260353841075,0.04176726681906319,0.028280881725221616,-0.009237841298992577,-0.07158693957692436,0.08308703646359346,-0.0477503242912552,0.08057217042778379,-0.03549144073314678,-0.06654660901448647,-0.08143954223923706,-0.025282317927106123,0.021699812933690735,0.07723410709664144,0.04647732967163689,-0.0527639297959515,-0.07161986708904117,0.016711485903226325,0.014239319627867973,0.0653559634424114,0.051514776249255205,0.020600860662919808,-0.039029103091379,0.06282192969261076,-0.026734505409135318,-0.0776121667033364,0.06477634937589842,-0.04788973628724478,-0.0680757519788206,0.07649905119797402,0.012302891183204556,-0.010494381683265844,0.0014030460432279256,-0.025851858410324426,-0.01863230773900374,-0.08618569487166322,-0.011885604656850178,0.023538152393445498,-0.03406834748940866,0.031619989445630485]},{"id":"chunk-7db5cddc-51","content":"We built PydanticAI with one simple aim: to bring that FastAPI feeling to GenAI app development. Why use PydanticAI Built by the Pydantic Team: Built by the team behind Pydantic (the validation layer of the OpenAI SDK, the Anthropic SDK, LangChain, LlamaIndex, AutoGPT, Transformers, CrewAI, Instructor and many more). Model-agnostic: Supports OpenAI, Anthropic, Gemini, Deepseek, Ollama, Groq, Cohere, and Mistral, and there is a simple interface to implement support for other models. Pydantic Logfire Integration: Seamlessly integrates with Pydantic Logfire for real-time debugging, performance monitoring, and behavior tracking of your LLM-powered applications. Type-safe: Designed to make type checking as powerful and informative as possible for you. Python-centric Design: Leverages Python's familiar control flow and agent composition to build your AI-driven projects, making it easy to apply standard Python best practices you'd use in any other (non-AI) project.","metadata":{"url":"https://ai.pydantic.dev","title":"PydanticAI","chunkIndex":51,"totalChunks":208},"embedding":[0.0766111567968011,0.029343484537290486,-0.0017787454835805998,-0.047571232236973605,-0.0627738560290386,-0.05642486579364401,0.01942906521990928,-0.06891286140829184,-0.03818346123304306,0.07519272480092647,-0.010639336568540072,0.07315342217277816,0.06650217006423123,0.0036413727754848963,-0.07204468966749558,0.016860752416934723,0.04142215310893636,0.038678876762503124,0.08369080414440652,-0.07582258232965616,-0.03993939367209846,-0.010683431273505633,0.03774977709362433,-0.06465643814741256,-0.058610430518614656,0.0015465987955501968,0.040399567161046444,0.005696745352631787,-0.049697733628221295,-0.08603083181497384,-0.01814848723794158,0.07233104689224402,-0.07086982626323776,-0.024973321239199042,-0.055915416486175804,-0.004744509737904351,-0.042730311154982666,0.08054880729855231,0.05953710984849949,0.06774754259687424,-0.05617225807814216,-0.012599766973436817,-0.010987508579129203,-0.01676846127363354,-0.03256828149469241,0.0451223407480605,-0.0459041178816814,-0.06496395807760376,0.02861492405469802,0.018436705116640615,0.004587876669662538,0.027491895124428397,-0.05301799063847195,0.042288704272853375,0.01774875519444852,-0.08577315599237462,-0.06018021705463239,-0.031692677920682574,0.06382502628054038,-0.05521311070137383,0.05191632158276372,0.0773311552789114,0.06020524448633747,0.056141329637304074,-0.004228825316991842,0.03153313579243506,0.07982015573188664,0.029852034584963324,-0.028541963987460502,0.06599163748209148,0.027819320546795687,-0.017149592344210984,-0.05745717765659312,0.07227934749079187,0.08028316595051269,-0.07305111227856971,-0.002639348911523519,0.0854933911450583,-0.06431087158097654,-0.06691633250009672,0.00973543632837672,0.08077215332340486,-0.030498241738609048,0.042806574575006945,0.07557767139475147,-0.055190693474301715,-0.08619894918613208,-0.032419920780494785,-0.00643141014170326,0.011660510699447601,-0.06430586944103883,-0.005318934349548052,-0.03672221237923038,-0.008381985309695228,0.0365964453145821,-0.041042858818749285,-0.0647803484278243,0.019021079288885127,0.025664446110352287,0.02688045367811458,0.0853605560603011,-0.04444131408226826,-0.0064024708567425115,0.0141972549571789,0.048523652356935836,-0.08222701988659753,-0.004957690067025443,0.010126414924400928,-0.06353889757530203,0.018239232029196608,-0.01560329489050475,0.00348114946592268,-0.019415822450119215,0.056156061955478745,-0.002366531310951089,0.05698002999857958,0.05718165320492178,0.0516280639304499,0.00764619855297012,-0.05179974981541299,0.08557218412886858,-0.07989135223179522,-0.003994495376650591,0.020670660488456758,-0.07283690502820116,-0.056063180214338766,0.0667412160924793,0.04004847333869548,0.071837062295985,0.07868301060483926,-0.06338768209760569,0.012197334175336185,-0.013190595692212164,-0.0758976205653831,-0.06654823262428335,-0.04664529889949369,-0.08261264861632815,0.045064862413664364,-0.05054265599416469,0.06818456969588434,-0.0825502376036064,-0.0020642138298766584,0.014132543594685952,0.0746165282888682,-0.006237545605609506,-0.03427613375365318,0.054460127507047,0.04372744812830508,0.02956910707146301,0.08461789654599298,0.06999761301620602,-0.038349578511679284,-0.05137701734785427,-0.060076907944555814,-0.08023242721689657,0.03368893887841539,-0.021664866628219363,-0.022550266246478354,-0.053879206363230354,0.046124986466927066,-0.057310432358000214,0.026984439013314047,-0.054423638042944554,-0.029043837066554657,0.020126173944753342,-0.012137772145098912,-0.055679025729890946,0.08524315071343529,0.06253163740158862,0.02390386907226235,0.0077878457564865755,0.052391222426201894,-0.0766385056313733,0.04105460037054162,0.06354880457014687,-0.045944346317657585,-0.0486804999204314,-0.05002331943831839,-0.06220050396684109,-0.02175321311015864,0.06727234117647309,0.01569276354116063,-0.07789252077090267,0.007593634039119565,0.05707005279267731,-0.028313787082249922,-0.01565384702195574,0.06607095496218338,0.018223550260237257,-0.0010381191483104229,0.06591618350856351,0.024609232192727485,-0.006455272434190098,0.06741583736454276,-0.050765941653204374,0.08606966516735724,0.026089275710519638,-0.040377073569564444,0.054373459279485926,-0.04698129038753373,-0.025718392456932884,0.007671493036329762,0.041934156615650385,-0.05917318482470885,-0.06221835581527809,0.0009514496599392797,0.07576016378643834,0.0025086466311203246,-0.027724897736497882,-0.06497714637042505,-0.05492883536535772,-0.04580276461608779,0.07879554433099024,-0.015651974932253863,-0.03340451608120787,0.07263993744537121,-0.033988897018322126,0.0017080096008390134,-0.04421660315818082,-0.024835278897574635,0.06364061482915152,0.08413886524452638,-0.06083404522496345,0.06415901419984735,0.07182760408001065,0.08550238554537411,-0.03917271412344954,-0.05297046816150888,-0.00015988693022232414,-0.06696449848627982,-0.06233369638943781,0.009951326308191346,-0.005737320056637343,0.05526231351444065,0.01990600595157002,-0.051856316106129334,-0.06088989155191707,0.045946876673706186,-0.013013853759286084,0.0409893465497349,-0.009965758011194288,0.06787069789825528,0.03922010219703955,-0.06078415051100429,-0.02200513037808811,-0.02058128999123691,-0.06401668345501825,0.07666178148124178,0.03624162476661264,-0.023705288429118183,0.06234320099537687,0.05003882966328028,-0.05942586561188211,-0.0746222992326935,-0.009746192653369148,-0.027312751991048122,-0.015940112208196983,0.006462129768307888,-0.055579401221941147,-0.07904047827022587,0.018105466475005133,-0.041939685198907235,-0.035265003564534575,0.08497978488752568,-0.017428768078533607,-0.0237568846793601,-0.07201928387645742,0.03350655583567936,-0.06483913522459182,-0.0810714154337027,0.07176835816306253,0.05617524893639808,0.08159148379462391,0.04738841492292087,0.04815112143230783,-0.08496578838481403,-0.07016468215230699,-0.03808428182156672,0.08080937607495592,-0.021766481474383256,0.03762241624971941,0.027570962239887038,0.01984990366461378,0.0014403105734248436,0.006564712313360151,0.08269508850706482,0.0430571039646829,-0.002362604468648701,-0.0009562448105327104,0.0702040746002835,-0.03085661302837497,-0.07346334390199451,0.059453461888236414,-0.04405838746936143,-0.08542472927304565,-0.05191490140049876,-0.07658882891816807,-0.04988325826772626,0.07196084525796029,-0.03155186599646031,-0.040951807952473586,-0.0736935671097204,-0.05764850459235472,-0.0650046478589687,0.07054487025413066,0.08022174284343957,-0.07564066593508616,-0.05213090362842126,0.05687256517378924,-0.03407840538673114,0.06720688518212423,0.05390844773624319,0.006591438254016109,0.04307422290989301,-0.08410767636952128,-0.013036345822065304,-0.052006245189906375,-0.03732482649115331,-0.02756304642347228,-0.03730799447850124,0.005331083386994379,0.06363207169939486,0.06785930427653342,-0.06620300383991196,-0.05698163953823666,0.01975520810642039,0.05689842080691305,-0.030240133704199285,0.06913330344085764,-0.005316343326959465,0.06226072004216684,-0.038749644833972856,0.04699166714234076,-0.060193960629547454,-0.03545104638458067,-0.0014827163207230553,0.0014624241981390142,-0.0570196049856882,-0.013192528413540494,0.04865927959447792,-0.08099264622789157,0.00036510578497128096,0.009851311595374298,-0.0580862358282884,0.012040667566839818,-0.07507570365591852,-0.03869202530050017,-0.06530199214605284,-0.05824603970870842,0.020878032767884757,0.013794932532643233,-0.08171145005048898,-0.05496939406091984,0.047608555091665776,0.0022257012236888665,-0.051929268525155295,-0.05452869980646784,-0.05011840255567855,0.016676149999189076,0.08128563572188298,-0.06520573655720094,0.01706084570310867,0.05744503068775402,-0.01069864045301592,0.055982480502443366,0.014833689606597438,-0.02726659114400099,-0.021111001874260165,-0.00047829812636895463,0.030071554530873422,-0.06538019046397003,-0.051879346484908134,-0.0014595301031720745,-0.03301421312277848,-0.07916500546115882,0.008218780966466898,-0.041136020408903295,-0.06202550285354098,-0.08228617047610516,-0.0619940229123332,0.02897696260299885,-0.05934081161270871,-0.056688302857636874,0.013537265880456192]},{"id":"chunk-7db5cddc-52","content":"Structured Responses: Harnesses the power of Pydantic to validate and structure model outputs, ensuring responses are consistent across runs. Dependency Injection System: Offers an optional dependency injection system to provide data and services to your agent's system prompts, tools and result validators. This is useful for testing and eval-driven iterative development. Streamed Responses: Provides the ability to stream LLM outputs continuously, with immediate validation, ensuring rapid and accurate results. Graph Support: Pydantic Graph provides a powerful way to define graphs using typing hints, this is useful in complex applications where standard control flow can degrade to spaghetti code. In Beta PydanticAI is in early beta, the API is still subject to change and there's a lot more to do. Feedback is very welcome! Hello World Example Here's a minimal example of PydanticAI: hello_world.pyfrom pydantic_ai import Agent agent = Agent( # (1)!","metadata":{"url":"https://ai.pydantic.dev","title":"PydanticAI","chunkIndex":52,"totalChunks":208},"embedding":[-0.009553868619240107,0.05798520954967318,0.06697626879876299,0.0034799164591508636,0.058421086645615024,-0.07034832042097323,-0.05080022186124155,0.06968504354070171,0.06653299993609074,-0.08269437322156793,-0.030807616839943788,0.03964405498469702,-0.05157969042208596,0.06965621340856837,0.02920007459816432,-0.04466244402081827,0.0831728025397266,0.006671182340023357,0.039703948382297814,-0.016580940712272313,-0.05086220252648599,-0.04576896913923724,0.006307982582002487,0.06423403132136457,0.018700779745940838,-0.017281494810800074,0.0023188535901829755,-0.003414398657990245,0.07810017030870645,0.07508675752104033,0.037788371082768744,0.011712017565463572,-0.06848169142877733,-0.05669738578950699,0.05626812561335317,-0.055240305625505595,-0.03200445284760034,0.021226040389762103,-0.01582710548214947,-0.07221885920318775,-0.062339979644063376,0.08291488753182076,-0.04097179177049581,-0.005114654367012742,0.046375582234540066,0.04058465939884318,0.06413504986586134,-0.027552904646746163,0.058537924165648056,-0.07256699491195676,-0.035339111274573724,-0.008100037636925777,-0.010731194255498554,-0.024213757660407238,-0.040127007532814486,-0.04003305405798139,0.037680018608071644,0.07761243925848701,-0.03776826059579685,0.05688421418143376,0.0801393155848782,0.05547379442914241,0.04797505945643049,0.06294954085645853,0.031943536697165424,0.07458575553703521,0.021888816403332317,-0.033293900694047286,0.023116177481607592,-0.03950815901038656,-0.07061844766330624,-0.040320207290762626,-0.07670760578554314,0.06880535142574958,0.021055243577646578,-0.050582210548535726,0.017020174158539625,0.0817287905294333,-0.059383384767755655,0.03311817083250758,0.009238602334479864,-0.02085130450381923,0.06350063621268068,0.04445449228464999,0.004521064933619707,-0.0809034037264576,0.07717426116223478,0.006078831641920275,-0.041699280101943105,0.0844221920473896,0.060501747993172775,0.04920929531639849,0.03342928814989363,0.0011310973093236658,-0.08250555128026404,0.08291288019152473,-0.06762833198430956,0.04367278689111703,-0.03226168546383,-0.0694646937570045,0.00785530791252176,0.0628352154783712,-0.05129956504673137,0.04163191254607851,-0.07515701777908321,-0.058574242053204585,0.07361337354000146,-0.02937415352011508,0.054177011203684386,-0.06582575611062619,0.013533428712122474,-0.024728701613773944,0.023611170100613935,-0.002175329809244142,0.053532433316115874,0.02141353135303306,0.004071010774280359,0.0622649475631368,-0.0205735999462482,0.044063005398291846,-0.08385234038230441,0.004319861475842444,-0.052003892914625975,-0.02571363648277823,-0.0069394538583062776,0.049599795594416934,-0.045317497780345904,-0.012210548802297811,0.05852387930186876,-0.07158412578339568,0.08288141433858104,-0.06639669434947842,0.06214066943675783,0.02475934481617056,0.06550103214078007,0.06891125507838629,-0.020889974122378786,-0.0284832215874653,-0.028518361096672558,0.005685705251840905,0.07479929802935632,-0.04186408855154803,-0.008651603167468082,-0.05726656682476788,0.0209649942876356,0.02543565356300146,-0.003403555611352151,-0.08189612360873873,-0.041718179417693846,-0.0028998004178860727,-0.06227578438714306,0.04369943984562642,0.022113606970612393,0.05197140498685196,-0.0149755018629769,0.08470939650101789,0.01076207213471654,-0.08013508546811168,0.03905402700083393,0.021248728703408493,-0.013297966897772314,0.05264586050760864,0.07369982997672336,-0.05113453672101586,-0.02979883069458809,0.05950307644032047,-0.08365842196561808,-0.0620412194928787,0.08131619789201275,0.0542030249560402,-0.0036406273066598304,-0.06506651359012677,-0.06123988436250276,-0.05657017840004232,-0.030187714613529645,-0.061946537196357856,0.014411244889108814,0.03677463551476853,-0.08133416638003188,0.03644490655441512,0.06133345022458119,-0.0008819287030656271,-0.049246403579017585,-0.06699335308990022,-0.08400270668354595,0.065901723458332,0.029098631830192925,-0.012120662307367126,0.069231887856637,-0.0343083246895491,-0.05589175118147761,0.03452884690021507,0.011621124858334128,0.045296720614065304,-0.028869372392852147,-0.05997321625366054,-0.057847793752872675,-0.07240972402328139,-0.06000870177379996,-0.05011599549174667,-0.024850620077119495,0.06157020405893946,0.06004588548921966,-0.0314442735316732,0.046989608254149245,0.036969648785698826,-0.045036163646647885,-0.003288175929149449,0.010978420543134693,-0.08378551608533713,0.023271821651411558,-0.07622587575215432,-0.07389268813574716,-0.01545502393291877,0.017670829357681623,0.06313935366494874,-0.006063501974323047,-0.03357693445729413,0.07128505820515,0.01016409900617722,-0.01855066288123718,-0.04399422457407671,-0.030809477204661883,-0.04344119054784882,-0.06396349365445395,0.07455603613312166,0.019349418140439615,0.03782221008525451,-0.02521339464487816,0.03402638298030395,0.07922025987305638,0.057227465201355,-0.024914770695820973,0.05393695807144532,-0.030712906999015955,0.05950423875084469,-0.08413976807625863,0.07859981754923898,-0.004958019315889309,-0.002817659856142004,-0.009297785399014498,0.07994750199896182,0.051797592440361126,0.07496748180891254,0.07724975586644196,0.0784861613471615,-0.049021898726220904,0.042610360130650955,0.020829001805014208,0.012100048269452416,-0.04617687552649233,0.010936545082133963,0.04033004440081484,-0.07699154059476383,-0.06335813588452065,-0.06879556287953587,0.028897380787611268,0.0021777862433188383,0.017811589304601826,0.04009569087609273,0.06303783029873351,-0.00048198826245063477,0.04094131330494725,-0.02918698552205901,-0.04014210238623779,-0.04209590195832351,0.056593764103649066,0.0037456955003798273,-0.06143565906578302,0.018547709560257017,0.0016618645361444243,-0.016430859948133043,-0.07941868489107087,0.03911718738019404,-0.030108108876883404,-0.027917596081059898,0.07071922658087339,-0.048995333976947976,0.08037733041006333,0.001327709460452856,0.011499339974776406,-0.08039685867879973,0.0006128942218831677,0.043236034321518055,0.00451442050863241,0.008592049389825515,-0.016015584151576237,-0.05533669749901757,-0.03211715127954185,-0.03391793894905688,0.05613510289712855,0.08292392024951038,0.08376091453287325,-0.02525604497454003,0.06106748260813432,-0.01511986702408633,0.06026997339655783,-0.08116827133077896,0.0037637985545795794,-0.04044473310427166,0.04162388325241671,-0.07104534676643598,-0.003857274991153759,0.04325887226539459,-0.015008687834379947,0.04467417932533888,0.041971316396926105,-0.019308995694449486,-0.05360396459335419,0.04816571889529448,0.02038266488118189,0.012573928692241412,0.06433749734850633,-0.008423854381236776,0.06199528106128342,-0.05649239095048767,-0.06750198886776472,-0.0821146957868091,0.0387962405148237,0.06335777402478586,0.008872205133508516,-0.002549514961714864,-0.05407519274712632,0.038105526696765354,-0.04068394419316958,0.07035701481547577,-0.020943024540386462,0.0763100238922992,-0.009653988412188466,0.062481673329318484,0.07949226140056637,0.0628762076935476,-0.022562533472715283,0.05975224975349404,0.040391016312273306,-0.07098172874716382,0.07141358190069458,-0.078547542680832,-0.07232533166938536,0.08189123074092919,0.07297481036314817,0.08246576046906749,0.06218119759154588,0.007965884363406926,-0.04407589366451704,-0.07341144755775951,-0.04780813544272068,0.08029450750593277,-0.06155815895055894,-0.06620144553074565,0.06755998828713675,0.03063764397389106,-0.062019967285421966,0.06272975049899017,0.0398278954675218,-0.012646794547669628,-0.031146649265223203,-0.01577373361582137,0.02501121890777223,-0.07883596955771713,0.019796768431396394,0.01658886456289884,-0.056102442021212846,-0.017644220796738778,-0.0479478204433379,0.024329152575136768,0.08399748031851725,0.00808289610152543,-0.07041155290448578,0.013480496379340765,-0.07835042699888535,-0.07519877740773731,-0.04493057533446442,0.08086778231947482,0.0015478301120822632,0.08393465552693956,-0.07334870737242015,0.01548332567573017,0.07843143338942653,-0.06991000073785524,-0.010831857921920386,0.01851094878791785,0.054036531901515805,-0.04422746204766497]},{"id":"chunk-7db5cddc-53","content":"'google-gla:gemini-1.5-flash', system_prompt='Be concise, reply with one sentence.', # (2)! ) result = agent.run_sync('Where does \"hello world\" come from?') # (3)! print(result.data) \"\"\" The first known use of \"hello, world\" was in a 1974 textbook about the C programming language. \"\"\" We configure the agent to use Gemini 1.5's Flash model, but you can also set the model when running the agent. Register a static system prompt using a keyword argument to the agent. Run the agent synchronously, conducting a conversation with the LLM. (This example is complete, it can be run \"as is\") The exchange should be very short: PydanticAI will send the system prompt and the user query to the LLM, the model will return a text response. Not very interesting yet, but we can easily add \"tools\", dynamic system prompts, and structured responses to build more powerful agents.","metadata":{"url":"https://ai.pydantic.dev","title":"PydanticAI","chunkIndex":53,"totalChunks":208},"embedding":[0.008100435002019991,0.01697550995684778,-0.06869564927695253,-0.0033182801258794564,-0.06294265000152945,0.08870601320470885,-0.07023066308176072,0.013265080173217309,0.059984336390440054,-0.03235539929901852,0.0729848527730044,-0.01494963013677367,0.0189969148107413,0.044810699705040244,0.07383296584821247,-0.06038516254182135,-0.07671720751437389,-0.027644462884839235,-0.01858667564248173,-0.04473862465723044,-0.0008642373775124965,-0.08811926131630181,-0.05806810618065612,-0.023179330210839604,0.000951726811121287,-0.007494516176810253,0.002511944552728117,-0.026248698840878857,0.06887386632969653,-0.03972817085432257,-0.014132291806916993,-0.037360403814532574,0.05799176567933597,-0.03692961720496018,0.004103946157481939,0.019698497454535155,0.03398949441202445,0.033815474029006164,-0.07672018787035446,0.029109212159843946,-0.08997804923075098,-0.04251978266978775,0.049856232642001674,-0.0727266749254642,0.02895602329567374,-0.013716986524091581,-0.06744180572736962,-0.06902815434427292,-0.08358017172110105,0.07958027794025853,0.003127772389946109,0.02674151009808609,0.050981924834663364,0.05453594680914772,0.03427034243450153,-0.009370283717343525,0.006179277481370911,0.05004644943489519,-0.030120392074876056,-0.020805511930821204,-0.07754450802114794,0.027815394801158543,0.01064891852807841,0.06432596982271065,0.03293593383322658,0.07871575270782866,0.0783667911357053,-0.08734888978141883,0.08799639683464161,0.052517092155144524,-0.0566883425640906,-0.06846124784462503,0.034495130087888626,0.02563704910828167,0.011850516719108464,-0.01800475588574713,0.013179045005087923,-0.028421488652550835,-0.051067743727666676,-0.0730943077838695,-0.08465848133727814,0.022606676963285267,-0.003991704293183874,0.037593528076208166,0.07395964533086365,-0.021402881216360768,-0.06567905669795437,0.07138866973889517,-0.08168157010042519,-0.03664499714107998,-0.06380743564038376,0.05604599644245063,0.05570904589054209,-0.005985018797730593,0.0006980745320598564,0.063997049370947,0.005960467448517465,-0.07339543498190165,-0.0192057267656301,-0.030132275159879023,-0.04957792642426108,0.04984112049122503,-0.05315900673186592,-0.040469209432022354,-0.0419473611968568,-0.04333363081385742,0.01876719370243398,-0.08553567625462191,0.04788746870615316,-0.016109562010124333,-0.019864478892617422,0.023300085388738453,-0.003929636814957674,-0.07432857622606648,0.08637589621846593,-0.03872763795603232,0.07157332195667516,0.06703624197061908,0.07798159210946864,0.03946476720499955,-0.01597763612922812,0.0027455846630160437,-0.06817355867896413,0.019327650866888833,0.08165631325165905,0.07564209127916477,0.03455442582361237,-0.011249144780603645,0.0726288905230663,0.07442726336128086,0.020934747012504983,-0.06195474660639715,0.04575810699953961,-0.05430205051430028,-0.06734185816348241,0.0013630109806159602,-0.0066976114427344064,0.022374599595906857,-0.06888016552600651,-0.055996796595977824,-0.08336375009013282,-0.06271464420182521,-0.0891884629369804,-0.06984062524287812,0.042819285635567174,0.04732066954710021,-0.0016411116855778668,0.05198487755237879,0.025629993764389764,-0.054539486133231375,0.01582529560616865,0.055423484693084966,0.040064107678993474,-0.01979585833391296,0.0031643905654899183,-0.051368349066280385,-0.08389156012786081,-0.017546639310088832,0.06780748735978964,0.05390614228001819,-0.009842998807477285,0.08422909631774729,0.011237041920940617,-0.037063662109312986,-0.02782094275235163,0.04911652834161171,-0.056926821446530725,-0.06879246511543728,-0.004712597068619803,0.021550126259946924,0.043282372047865496,0.058668726067138084,0.07732823931047447,0.05801302198914141,-0.0490099082363201,0.08124752753921011,0.055282759948721505,-0.06935383030684601,-0.08764898027510434,-0.05943162745539583,-0.08817240384140712,-0.007614075123058665,-0.015702156493822752,0.02962689656834379,-0.04401640141493808,0.07736779821116868,0.004110527715786056,0.0603770773113361,-0.06965501017355331,0.04544127557787578,-0.06341979981266688,0.0652239286879922,-0.06045402693939943,-0.0004562252764194329,0.011883836031894633,-0.051344427060169555,0.005376225228852195,0.057711997917261774,-0.040561268617035746,0.05411290969916286,0.03909852596672053,0.049159927447703776,0.06760604991671684,0.018959732305837706,-0.036895652848105635,0.07715338980099977,0.0014071006034095258,-0.05705789600345635,-0.020869468821904418,-0.07823999124168982,-0.026992905574663485,0.022390056450080225,0.025513462472138555,0.051651580214414586,0.026395145231849913,0.06056813522055942,0.07799652914583832,-0.07609656436490375,-0.08998436558358551,-0.033120006838833795,-0.04651780502441963,-0.0846373398500916,0.046973538696435405,0.0474231485079236,-0.005911112584391801,-0.0867913056648178,-0.012674062735178815,-0.04187435568388186,-0.06583596957233506,-0.025001163673006383,0.0779401553773895,0.005437017766221707,-0.014644900184295106,0.04698841344441136,-0.0637675104552001,-0.010702225955424258,0.05839429386378851,-0.056945685407094056,0.017003740017489225,-0.037747866574199374,-0.06042788850744184,0.02508587029934055,0.02379411552292031,-0.020049456771712475,0.01200511035632671,-0.04802863042803018,0.08423711805589208,0.028594735740245916,-0.017987654411997473,0.045925008635683925,0.05702000958221454,-0.011418163678602829,0.006181798527247525,-0.024297890401728958,0.012013793560249288,-0.07254022810512267,-0.002326346330369239,-0.005474784873502461,-0.012066719637325996,-0.01112128434445482,0.06457386074606582,0.02951374932900448,0.08370145629099762,-0.03235983632915546,-0.07183157172981172,0.07819781271083562,-0.03589399019256889,-0.04826710631104647,0.06035085505286769,-0.024567279709883164,-0.05144217552771954,-0.08934765793868432,0.023960213796927723,-0.016167302580093964,-0.05027406518744237,-0.045556281623726644,0.03607956520953629,0.0545759809742221,-0.009447428954124166,-0.004357987693330108,0.015500485592832002,-0.03700573173500476,0.04124309292622574,-0.07992015521083896,0.019597130459275677,0.05369095361145713,0.00848709587332437,-0.08940532357262375,0.025913192847413922,0.06102226861208545,-0.06536737807118673,0.0735441249704364,0.03857724779355117,-0.009162088713645569,0.005339344655968852,-0.07247992307371125,0.05446107001461802,0.02178178694369456,0.05053287173426727,0.006604534024296266,-0.08140317024810981,0.04143594582754641,-0.06822642967176108,0.019240484377184234,0.02700475069063401,0.006980118526210669,-0.06753359761464024,-0.0878271694909948,-0.014341988210404085,0.05325905376522127,0.016714536049072675,0.008854774549332832,-0.06894639107500491,0.007001519602070615,0.057604469028320296,0.06818185205609481,0.03534735263601122,-0.08647104881049797,-0.018856156007919785,-0.08474369241954383,-0.0893071557445671,0.07064547981007917,-0.08871136718491342,0.07436546866501986,-0.011572088991919948,0.06515449631010178,-0.0867038373649453,0.008568011006411653,0.05952162541439595,-0.04784239771312099,0.0886285105170008,0.03066443114600716,0.09059393271054288,0.02089443670679357,-0.020377273242850377,-0.0368848547219761,-0.056760652931870964,-0.08763596365572017,0.03643479154265583,-0.049943210974168394,-0.05643842512867791,0.052084617794051824,0.079060911941226,0.0761115038133936,-0.023400604664465703,0.02090043215892625,0.042985676778335404,-0.03556784306223395,-0.044758717363737946,0.03266600293497237,0.0050349313766366545,-0.008143942593129588,-0.049229946240994374,0.01855879451876141,0.013649287214348505,0.030195094742167906,-0.02911431008216598,0.01728287613632761,-0.040099799506373934,0.06743764605886753,-0.04043062010307478,-0.06345554633827571,-0.010026304785343953,0.07720170865016215,-0.018615606066330916,-0.0838925754943942,0.05413370002572568,0.03425329453942296,-0.02645234779413788,0.07411277032207485,0.005921552509140055,0.051275668952699444,0.054615829018157,0.07317359683263054,0.07675413730258271,-0.019126573201278297,0.03450158656748076,0.020119410155312534,0.03578946902517534,0.050623543371744996,0.05061685217360929,-0.007489019588513283,-0.022251887392633576,0.06505107733204234]},{"id":"chunk-7db5cddc-54","content":"Tools & Dependency Injection Example Here is a concise example using PydanticAI to build a support agent for a bank: bank_support.pyfrom dataclasses import dataclass from pydantic import BaseModel, Field from pydantic_ai import Agent, RunContext from bank_database import DatabaseConn @dataclass class SupportDependencies: # (3)! customer_id: int db: DatabaseConn # (12)! class SupportResult(BaseModel): # (13)! support_advice: str = Field(description='Advice returned to the customer') block_card: bool = Field(description=\"Whether to block the customer's card\") risk: int = Field(description='Risk level of query', ge=0, le=10) support_agent = Agent( # (1)! 'openai:gpt-4o', # (2)! deps_type=SupportDependencies, result_type=SupportResult, # (9)! system_prompt=( # (4)! 'You are a support agent in our bank, give the ' 'customer support and judge the risk level of their query.' ), ) @support_agent.system_prompt # (5)!","metadata":{"url":"https://ai.pydantic.dev","title":"PydanticAI","chunkIndex":54,"totalChunks":208},"embedding":[-0.023096534647677615,-0.0043409384884854916,0.008917226934427362,-0.04195738808977641,-0.07465301930504023,-0.07600031257189714,-0.041518154121151514,0.03193056478982755,0.02425229382060463,-0.07587071608857601,0.08803778935690253,-0.003026615972439317,-0.01672702199980011,-0.012492103092015846,-0.04050850898690072,-0.055964761813210764,0.07323926711292132,0.08442524338076096,-0.01613022930611251,0.06945964780694713,0.06660912627862604,0.05892458076742156,-0.03751163042121933,0.007509732659529039,-0.02237451267948385,-0.01627895643274073,-0.01490120645141381,0.06641076582295588,-0.058321360420713605,-0.07010648432865567,0.05393017425638555,0.038206775028469316,0.08077556590548048,-0.007579960878664664,-0.003223652962592941,-0.07506078328900437,0.025526208440864954,-0.06149881283731934,0.03392363385209488,0.08337261535740906,-0.03173611990940122,-0.07744262809635084,0.029635421235474597,0.07532916333718431,-0.03969021280666446,0.07987559800276002,0.08044055626374995,0.032165605567018606,0.02833455913031498,-0.08247692927910874,0.029754774815249737,-0.004818109921824928,0.05087981548398277,-0.05755757617303816,0.05046927193672151,0.03158779736760765,-0.08559910775142526,0.03167133380629614,-0.04326736422476217,-0.07906298339105929,-0.005077573475851807,-0.022976486814214568,-0.000873472553455278,-0.05292775814682833,-0.018106018535049,0.030980325814020045,0.07801738972627371,-0.08197455578855405,-0.007471085691501199,-0.005992207582572124,0.0351989884772263,-0.051400622346793906,-0.04913050415090337,0.015327599075280468,0.013699705447233094,-0.04349118099803571,0.04920194496363538,-0.0677760325901467,-0.06965638132175671,-0.03454795166614191,-0.08426398395922968,-0.05364342434050436,0.01726359099126688,-0.08766973499439183,-0.06184949539816082,-0.03202070033371297,0.07454025591467332,-0.025332441800773667,-0.07757771387018589,-0.000243380601698952,-0.01857516789005027,-0.06196214600867578,0.00025000897715968517,-0.019586464665904583,-0.060799529506181685,0.03929914659599276,-0.0696414030071225,-0.08806551934549071,-0.026756604612649896,-0.06188044311852849,-0.062166085417141616,0.08410597284313963,0.0046563833770202675,-0.06991571364796124,-0.07073006846760353,0.07061821909774865,0.04211331994183683,-0.021242128587054016,-0.021063809986158775,0.0856113810869941,0.03846818400069166,-0.01100116798613107,-0.0034535559027640992,-0.005374352142804598,0.04298334708496544,-0.05696883233156705,-0.053136610037310676,0.017011288838041868,-0.06108138009782306,-0.0787742991665683,0.05958154588882641,0.004997714616664712,-0.04860569290715707,-0.003967633538127647,-0.07271393585015552,-0.08153799332611908,-0.011067288650388814,0.07527941829770185,0.06106394784094082,0.03582566518536891,0.0334037054325894,-0.03608958603324008,0.039225023489691514,-0.060112478694810026,0.07470525091320634,0.031456320803121884,0.011034946176988266,-0.07373734934281248,0.0369078459332451,-0.0067170407685129075,0.02608464518359938,0.014183319652104622,0.028533459476592336,0.06039748707511084,0.047636142375803756,-0.028628079779727915,-0.06397015174924381,-0.021544525260379935,0.051055588453583996,0.0024312706244195774,-0.07185442503132296,-0.01163180256710765,0.06632477850987384,0.054640838456715864,0.021376733129762463,0.03579195943517694,-0.019520760041690215,-0.016531053332938608,0.015375316713047354,0.05929330821577009,-0.0669031827706252,-0.0709290947075906,-0.003393408564326791,-0.0723411253991114,-0.06018257552502014,0.04372223599241054,0.06579496738776586,0.013235347887396868,0.050587305816231366,0.02470362951634266,-0.048954657070550876,0.051012111204785215,-0.008773090626517491,-0.05144838010594167,0.07439844897526231,0.03447300207918929,-0.04353467164515036,0.08495816755739109,0.01584356898694622,-0.03916479615045875,0.05370469699729662,-0.07769474626522144,-0.034084733265522776,0.03987960224451965,-0.0057715720077048255,0.07700779928886821,0.03475383265784443,0.035025030589201187,0.06120753321004387,0.05060174072079247,-0.06273674140759566,0.07290590280880643,0.004473766159187574,-0.05996565396236563,0.0030531966287537233,-0.023268685378030403,0.07592798027291528,-0.053388903875964275,0.027302464223752525,0.05046694779041735,-0.06480983353397628,-0.04139806314741724,-0.04057974974387603,-0.046671796803299075,-0.08715688956309055,-0.07770207141750891,0.00019059852462867323,-0.028737057498954072,0.048374118877386484,0.0581924516866633,-0.07433450270754721,0.013454140343833298,-0.07759091572366197,0.08148518989752304,0.08268834431604506,0.02559222794045702,-0.0868338444703864,0.05884918228028483,0.012009431185773892,0.0010526295074708132,0.027277061250974108,-0.0874527591401122,-0.009251709460438554,0.08163165761032398,-0.05564951309361536,-0.04098743552508867,0.07663795817879764,0.008365958999260448,0.021354871717055024,-0.07192708833851102,-0.01302866584582544,0.029006377428306616,-0.027107689603925494,-0.028123708493213995,0.01799706233345672,0.04336234251050194,-0.036040148020969116,0.05094190202141036,0.08236323665325718,-0.0551518025186503,0.016497106773095745,-0.053218818417645516,0.05663136992407373,0.024985169474413413,0.028409947378164838,-0.08174061572268218,0.059086492728197826,-0.011749737659484765,0.06601470850436661,-0.009455706259257898,-0.060082130647046324,0.04764707929955364,0.03665306599367988,0.05821088272885847,0.0670004038006882,-0.007079007167087028,0.0635052101934177,0.08214004210634698,0.03270719120572653,0.008336126549797223,0.011300215620780943,0.012024463278030726,0.014249770121530949,0.03204118569843959,0.07455770107285362,-0.03884731608657377,0.008458636417791513,0.04191885757792846,0.02935484515020918,0.026898466264021575,0.012442649659508935,0.08176079438220261,-0.05959617041062407,-0.07470173440707914,0.05690677993120618,0.03253635798947341,-0.04601926460254858,-0.08415337223930687,0.011098905991318568,0.07323079100321808,-0.07302218407814473,-0.027795798747982166,-0.01828781867904701,0.07069568107483502,0.07366380512039525,0.06351751281450639,-0.06722740702366778,-0.04879023287119644,0.07433012544147286,0.037650420316276675,-0.031950041980730814,-0.003280139605542318,0.041949004290356265,-0.04927568261388649,-0.017141061838168756,-0.024226886120619223,0.08661409325769263,0.053584579087814534,-0.0351691860183178,-0.05229156362929954,-0.06621925136013479,0.020129943760234078,-0.019475025265106825,0.008613013784530735,-0.06047288792484606,-0.016378931771396224,0.07225362856270139,-0.05768539927591976,-0.07862167776400167,0.06215622015380069,0.07794500583094374,0.020008535071411405,-0.05222919257544558,-0.06028081570820261,-0.05272841558280143,-0.08719366531975319,-0.062099793718289095,0.07284026270513236,0.06252669207672162,0.03580681029305908,-0.0008957534010507294,0.06332291348151321,-0.07373280711546122,-0.007818776359539384,0.06762759434185066,0.04803330160087054,0.04725820408128147,0.0020129154224246405,0.07952740803125752,-0.048512018056996724,0.009371537500223601,-0.0022885019463628514,0.06401576783542885,-0.03825413640211935,0.04731490790785671,-0.011846450784320294,0.020227188760518076,-0.026773450103010063,-0.057499188052997016,-0.07163326024275707,0.026757330369392932,0.054122046311856756,-0.021940991073716307,0.05053380924991094,0.05393458774914419,0.06585039923783755,-0.071071597363261,0.035842008955335423,0.05884506984457408,-0.027792686194678787,0.0002789924119505786,0.07725192516911408,-0.07860648257094313,0.04703396655020467,0.03130287072367481,0.01723732667796692,0.045750571905129114,0.04168942187544107,0.05523353276168248,0.03839263365375404,0.023541027941870636,0.02109079487292108,-0.001545178769177683,0.02900965369110125,-0.07376285828147253,0.06486328242123783,-0.049971956179357596,-0.01664125680028161,0.02943275928652729,-0.08462035546353361,-0.08193956146423284,-0.08287928947039935,0.04306202727958573,-0.027520871086814207,-0.06731320439895515,-0.020638569240216977,-0.01139502823546529,0.0429017270426874,-0.049214721924695524,-0.02808218767422792,0.0034602026028603535,0.05150590229992054,-0.014036808847996554,0.07831220401442496]},{"id":"chunk-7db5cddc-55","content":"async def add_customer_name(ctx: RunContext[SupportDependencies]) -> str: customer_name = await ctx.deps.db.customer_name(id=ctx.deps.customer_id) return f\"The customer's name is {customer_name!r}\" @support_agent.tool # (6)! async def customer_balance( ctx: RunContext[SupportDependencies], include_pending: bool ) -> float: \"\"\"Returns the customer's current account balance.\"\"\" # (7)! return await ctx.deps.db.customer_balance( id=ctx.deps.customer_id, include_pending=include_pending, ) ... # (11)! async def main(): deps = SupportDependencies(customer_id=123, db=DatabaseConn()) result = await support_agent.run('What is my balance?', deps=deps) # (8)! print(result.data) # (10)! \"\"\" support_advice='Hello John, your current account balance, including pending transactions, is $123.45.' block_card=False risk=1 \"\"\" result = await support_agent.run('I just lost my card!', deps=deps) print(result.data) \"\"\" support_advice=\"I'm sorry to hear that, John.","metadata":{"url":"https://ai.pydantic.dev","title":"PydanticAI","chunkIndex":55,"totalChunks":208},"embedding":[0.048797788611183085,0.05141405326594539,-0.035313309629821474,0.06718939105818302,-0.00012820970256800188,-0.02082290121422216,0.01979881714527893,0.03455560111718974,0.04360234085894931,0.0011111114188270595,0.05115203913319291,0.08638872512470418,0.03538828535088926,0.013185194260654126,0.051243732893618776,0.08061638612286988,-0.010776095185620884,-0.07609356577020317,-0.03245397178348341,0.03737595814317702,-0.051015903201831234,0.032747154161028566,-0.05770729966250183,-0.06116433756445203,0.05015530716356446,-0.016031419548440198,-0.08449671449038493,0.03844176773272269,0.07852364440492929,0.00823180085933947,0.08322960156888201,0.04998597714298374,0.0797369497465798,0.030211218534432146,0.03716187777711096,-0.08565712085832763,0.05380724562351038,-0.06330526112822546,-0.047084084578880525,0.016730544349788035,-0.06729899149686251,0.06818655046231197,-0.04626075959222867,-0.07875129174294024,-0.04026486803714167,0.08719646614626499,0.05947861007329893,0.08310085130623668,-0.004288808923248157,0.005949211779560527,0.04933030862157891,-0.07379769949949819,0.06922232300664857,0.03255709696047664,0.007885590541795273,-0.058568917346726417,-0.07041914192548879,-0.07858687820995175,-0.08632206536039361,0.0077097494131249346,0.005279979340155176,-0.012538663584690139,0.03040644071279351,0.08714552899819338,0.0035476841204435264,0.08021266319894542,0.06764420409114713,0.045965000631466676,0.059263479015217134,0.0856275800133541,-0.08567334299889215,0.06502337207249538,-0.050465797755138916,-0.015759018791112897,0.028298062032762673,-0.07172386088827007,0.040533261829052,-0.0003765063877447978,0.06422862523664022,-0.051634515527230605,0.04525993176107106,0.08615194997424067,-0.03948207055864121,0.06463955877602885,-0.03336907020630517,0.02578730268171595,0.001283493067778937,-0.03749107969981559,-0.023639495601190177,0.016277956790808106,-0.05247684932778386,0.0392696969634108,-0.0002253080516636098,-0.07534067018982918,-0.07461890735338987,0.08495793739534284,-0.021596985055487048,0.0671790069582065,-0.049474783394273504,-0.030998676333664633,-0.01842469318348713,-0.0526424236562894,0.07041418518075804,-0.04158087319029849,-0.02802833526049928,0.00254115519727742,0.07600668503094238,-0.05267931998978052,0.03294428659542029,-0.04906402926736783,0.08414288915567246,0.07824454828810885,-0.08035016932952259,0.0729425680954816,0.08651847535191323,0.025666352391162262,-0.02796757202850472,0.04167976532731038,0.08656367001470831,-0.018576808876812345,0.02011495366928148,-0.023072101936379902,-0.06716902845656213,0.036918842287261194,-0.08503785979087067,0.03527212229588669,0.02159258593538462,-0.011199141288886608,0.0185417849294128,-0.007399084739810671,0.06928658852356065,0.0024220332351197926,-0.07165512334291342,0.025062476436464486,-0.01366384784341464,-0.06955068503567156,0.002260158730386516,0.08334505462311598,0.005360023656747021,-0.009556580935882403,-0.04571234910740673,-0.07443885117370638,0.04636724702675599,-0.015020662595158019,0.0160480297404458,-0.07676627542595586,-0.00036564983980853923,-0.06724003485857775,0.05775056720116134,-0.0397737424153456,-0.07374344156287035,-0.021307061462540477,0.04657794792479114,0.0010540425607376439,-0.014639577849187417,0.025974072991867544,-0.01935620028908799,-0.04876675895321812,-0.0881938186530576,-0.07435660851163454,-0.03477787401355081,-0.005851573709478679,0.07494876515741399,0.03554284459568408,0.027901680100520944,-0.03050396711785136,-0.005101732023588071,-0.005631315782969357,0.008087482022693738,-0.03918181716932954,-0.03226505068286325,-0.025210644124871673,-0.08694537382384164,-0.038837444537827594,-0.028322278253714733,0.03831767844019843,-0.0011265588812901216,-0.05345422131268995,0.0032006319759153414,-0.07206104749833066,-0.006634048230297526,-0.053267778067221945,-0.05993290325129666,0.005761701365818648,0.0031962069769929176,-0.04180359778273458,-0.06741482960022688,-0.017948999856316074,0.03453864234071048,0.0347110158512477,0.06288352874717552,-0.06942581073834676,0.07759238086457021,0.02836197923320866,-0.06668734806491551,0.012091467886726841,0.053802279548693495,0.05646205095346955,-0.058569909427725726,0.05617144888505302,0.06165861501574124,0.07934742582184044,-0.06993515442342228,-0.053228322421956305,-0.07515822076680133,0.00860798098284779,-0.012800059323475204,-0.08308337756405089,0.0733596290804301,-0.015416028516149302,0.07211366293254554,-0.011605696639519351,-0.03686077256872518,0.03972656257498764,-0.015985306030270176,0.031413604278031214,0.004693173359684992,-0.07610390143975457,0.052512817754728984,0.06769286258198395,0.017877136666861863,-0.03292117617359581,0.001931979624455309,0.026202186815222357,-0.036706002394002964,0.03984424125386211,0.0872250170602858,-0.03603813756899243,-0.04537657933903762,-0.014662535437840596,-0.04692613613598617,-0.04698114273014919,0.03875788491341693,-0.06254768144093593,-0.08515699452161411,-0.048469748413324076,0.02307432926347709,0.021486566592478842,-0.08057092557124124,0.05514715059651109,0.06391752938563842,-0.05711260587738114,-0.05433436202531174,-0.017499141875669803,-0.01773265243841367,-0.06718190281902284,-0.02560200319884177,-0.08266353210312945,0.023165884683870396,0.07530840937361488,-0.0061099969275618385,-0.017934242568730954,-0.010693054889409342,0.029329985777645697,-0.014010558626094233,0.009916548464741347,-0.05120588124120078,-0.08096771031760581,0.07889864858211673,-0.009286960228365636,-0.058957813834462754,0.0498081121034706,-0.05086381565850029,0.08821275201133975,-0.00789459658199209,-0.08040168842132768,-0.0138148490787704,0.04286866021331352,0.07894446955968587,0.004395968480359354,-0.0787466505181991,0.051494100303450786,-0.0086883178278273,0.003764248832016702,-0.07838870370140762,0.06749598888211834,0.030587086438087756,-0.0060476445065719975,-0.08313939669111105,-0.004876764002388558,0.06237780487897056,-0.06909124456008754,0.060415833318140925,-0.061093023031075035,0.08616766729577346,0.015963768268473212,-0.008745030629170418,-0.027957746627436594,-0.08441269891185181,0.047469330752174924,0.05459260252876628,0.018855969205328345,0.07893150746309512,0.007791710004989725,-0.08765494046663429,0.057600548607282004,-0.03801442083269606,-0.06593930088519585,0.08794241781606346,0.04979227921519614,-0.042861558018660054,-0.04728987132051921,0.08424814279209,0.038030074013160976,0.07628004111993203,-0.022276175886206964,0.005716298232892179,-0.07898020558209035,-0.07156754247734168,-0.00960989607139668,-0.040546477387197404,-0.027880920225876776,-0.022847583965124114,0.012328122389353095,-0.02312517935890751,-0.0752513754372505,-0.057517301871163655,0.010093282618236924,0.005319565196479839,-0.0348582120842702,0.012077575003442845,0.03669357818917513,0.07679852739663495,0.06067501607150773,0.01021620597171659,-0.07528950542788729,0.0021810605735751165,0.024598060089465107,-0.04695412186014101,-0.07561080796653621,0.07126228602246447,0.015219539803544565,0.034897912141827754,0.07580679086598714,0.003732781866901459,0.0793133850504058,0.08741454354495622,-0.02703020926713482,-0.08658716715662267,-0.02970584341176249,0.0009834656663741076,0.05905532705906048,0.022453282282161216,-0.07787437850347002,-0.019637883211980706,-0.03516687520317654,0.008699546924195193,0.005240943290681024,0.05764560207088873,0.053130835108800685,0.03640742254361349,-0.08249916223685315,0.010546746945862726,0.012319778284288952,-0.07493220239282394,-0.015312958987023676,0.001532096231647313,0.059042333326488894,0.08219776192381631,-0.05310613621296572,-0.00939792142601457,0.0007787684548677946,0.017901455420814647,-0.007494589245990765,-0.014549965044036028,0.07490973209053338,0.049030901224517025,-0.029357142446294962,0.03460407026769334,-0.00563357615707445,-0.07911910493996385,-0.03321609259904802,0.0270581235863872,0.02345823460605866,0.0019386489607394245,-0.07419642391655688,-0.016433010730159035,0.023857155367965465,0.008271572100927266,-0.07346132915647074,0.043739590165081534,-0.0389472966064072,-0.008610337366655129,0.07715634792051666]},{"id":"chunk-7db5cddc-56","content":"We are temporarily blocking your card to prevent unauthorized transactions.\" block_card=True risk=8 \"\"\" This agent will act as first-tier support in a bank. Agents are generic in the type of dependencies they accept and the type of result they return. In this case, the support agent has type Agent[SupportDependencies, SupportResult]. Here we configure the agent to use OpenAI's GPT-4o model, you can also set the model when running the agent. The SupportDependencies dataclass is used to pass data, connections, and logic into the model that will be needed when running system prompt and tool functions. PydanticAI's system of dependency injection provides a type-safe way to customise the behavior of your agents, and can be especially useful when running unit tests and evals. Static system prompts can be registered with the system_prompt keyword argument to the agent. Dynamic system prompts can be registered with the @agent.system_prompt decorator, and can make use of dependency injection.","metadata":{"url":"https://ai.pydantic.dev","title":"PydanticAI","chunkIndex":56,"totalChunks":208},"embedding":[-0.0336099411205293,-0.0628710597418275,0.013853141482880589,-0.04539401761201458,-0.06404096126309311,-0.021058022837322245,0.017926036224670167,0.04021611919632529,-0.026826110477452876,-0.07107688448505962,-0.04000509964851646,-0.027395888651641553,0.08444923821312021,-0.025966820952821736,0.08266039708093112,-0.05795029446521905,0.037883268066198426,0.0038153842621477534,0.013266346648257162,-0.0840931789839031,-0.037424493921796004,-0.07422994097591988,0.009327815745266489,-0.00009991222058707588,0.024751262231774717,-0.026170570530091135,-0.04968105006310003,0.0715889805487338,-0.07323773450744041,0.008906019793354328,0.05329241584487254,-0.05749936788347635,0.08096591651439938,0.07225296699273515,0.011188539041485437,0.08224094939739235,0.044592495904999606,0.042646158720107595,-0.060333082835442434,-0.06148265525011888,0.03765119211468198,-0.029512932943611823,0.0032389430184149763,0.06586857332132857,-0.032889630650003256,-0.07146858668082916,0.014913960247881773,-0.048937237890337694,-0.05919036367453437,-0.011831226233565082,-0.057107627078047514,-0.003148359453872727,-0.024779024958382103,0.000626406386381859,-0.011513318929441223,0.011842754794748826,-0.07789274023177127,-0.06039246365120198,0.04527928154062003,-0.07499051410670643,-0.010021293495254588,0.0806848497483769,-0.023159009552769703,0.0764565092865406,0.06931070176777342,0.036440677422212193,-0.07037286045923255,-0.07378665819563744,0.04209618295680567,-0.08209233968238215,0.03861412963268724,0.018329132742435004,0.022706422632656174,-0.05691013286991692,-0.0593041186808054,0.06466952526766145,0.006732374493149291,-0.04864802936775028,-0.05895316423651079,-0.0387229243430228,-0.00092485496072143,-0.021972090353958453,-0.003599503478862988,-0.061324043944131434,-0.05566737159547955,-0.05567325902611697,-0.004340226801651655,-0.05787187915824584,-0.05229723402840236,0.08400078798806483,-0.01909979229877732,0.06882807534990952,-0.06398829260139188,0.08398366100347904,-0.0005831352654831551,-0.005109648878474314,0.0237468334432889,0.038638476546219054,-0.06590719956842916,0.03771919885209197,0.04653455480013929,0.03844756460197278,-0.001567158080476317,0.07358143181718364,-0.07365105823739088,0.003291561131896115,0.02193772959549986,-0.033895802648611084,-0.022404490052311807,-0.0005849050486862086,0.05041424437131136,0.041061158891048395,-0.08478287908670842,0.08754441078186229,-0.040898245699487495,0.057263984702216365,-0.008048372445085024,0.013957929082876928,-0.04496762837326147,0.039851095769455745,0.012521015367710536,0.021397428988865812,-0.05946370792874957,0.062058747278800966,-0.03809269578239537,-0.08099049932978845,0.0650068481388161,-0.08227763881769723,-0.05037620414789002,0.017494612781210218,0.010976450206016777,-0.03787630545550171,0.07489219780120517,0.04999577165618702,-0.08118030213445841,-0.034222743492962907,-0.07518259778372198,0.08459661727353507,0.001975294963976021,0.029815017639815734,-0.05222497887241624,0.05269935368542045,-0.0216851791247567,0.04664411338105208,-0.07926840301524747,-0.08781870429873735,-0.055605316959593976,0.04535574490724301,0.03048187607475035,-0.053467196285786146,-0.035917252925712205,-0.07198095387378843,0.038582128396379874,-0.0015516449128313583,0.029122752007373322,-0.005338515446381749,-0.011334191128615924,-0.05416382191023844,0.06023050795800492,0.018632204022440407,0.02001402118059015,0.050141090447067424,-0.084415782492186,0.03411083986241252,-0.08309939555530074,-0.06556051383008327,0.019243720857824703,0.03965674001860939,-0.06926849417221205,0.032163007071947095,-0.03794839408720375,0.05246450792799617,0.062228157893141844,0.02258773740739454,0.049569844003849124,-0.057949507841642794,-0.01196111143777189,0.000573616895833691,0.011608890402856347,0.0029832828843412455,0.08612524702394007,-0.01610817291295747,-0.059129982467465286,-0.07854752407376002,-0.07190238149601792,0.05255657138460522,-0.04910610826817791,0.03486819343849126,0.06252503796030386,0.08161069461957673,0.06141560919576026,0.025407007855393716,-0.04167123372947621,0.08513410917268831,-0.029656385077953804,-0.046161556520556625,0.07616630784131714,0.041584733910524516,0.05054959355272388,-0.03550861057244368,0.07944712887283324,0.010779885436677654,-0.012625786718237298,0.08442627493174333,-0.05922800503950746,0.05592547713777195,-0.006895365058370263,0.0376986164271467,0.06601085405653835,0.04592631420581553,0.010976546589544738,0.07644412191904768,0.07883277592533779,-0.0434224273405011,0.03163823965226167,-0.007547041207770712,-0.06069357790290429,-0.03207602959231879,-0.06416141567475868,0.049625394040734586,0.029808773631946166,-0.06584796372654718,-0.0851079771627963,0.014046201944751325,0.07124054169258898,-0.048570402345533156,-0.017767003942490034,0.017213632721451745,-0.030155307182938147,0.0479621144055954,0.0330476440549316,-0.001516665753676549,-0.06514518655341779,0.012807491704381025,0.0004842247725127749,0.023052646616714002,0.06896946141833629,0.0662206195354149,0.031903058082224205,0.03528994211289596,-0.08558357995306451,-0.03884478083108218,-0.05219609996279768,-0.047952087631240196,0.004450339798815589,-0.07863040666498912,-0.08649961596348653,0.08515192634127816,-0.06029821083082152,0.03544145440116176,0.006580675387310607,0.040861361100200985,-0.07291312794568772,0.00822564443341123,-0.07462089134026878,0.003045903498139299,0.051900791050923205,0.034529931709056653,-0.08525719971637247,-0.08516152410174035,-0.058668259800811945,0.03753936129111612,0.02143762975958427,-0.07495879363601424,0.015508695745328326,0.025129015389110883,-0.012353549319066388,0.008328816833029641,0.0587323947372082,-0.019170999854382774,-0.05940013909710484,-0.03857282560510813,0.07829234906104147,0.04866936258807332,0.0542298614950067,-0.06657614407683016,0.055493064544568094,0.051021463939095006,-0.05981593148085863,0.04765966907945578,0.018132796102703394,0.06417543219020817,-0.03593828241603596,-0.011615806588141793,0.08081213040161007,-0.058796065088343105,0.08135250037405481,-0.04134275010093041,-0.06792931741468716,0.01988636853236447,0.011742139984475007,0.027255128482325506,0.02644548779433018,-0.007337667570340659,-0.04933616782575846,0.03384614271577687,0.022367078482323388,0.0012911281530597325,-0.0520703609811086,0.0015756555978344669,0.02288867308506293,0.08081972663680716,-0.044306490942058054,-0.0030573750568220807,0.07722898192169468,0.06375659974170594,-0.045389353546344734,0.08744649577609123,-0.06367217670982721,-0.07935537908761389,0.0615327314226686,-0.004855906355299892,0.05119422419105469,0.0655795279520566,-0.017848430840263774,-0.07399155310003822,0.08305141795080336,0.06443003430900804,0.01955780659723398,0.01127743618949996,0.06314091952871231,0.014205162322281056,0.05926376848608945,-0.06716792898350592,-0.011138102228216892,0.07740141257928174,-0.06633008780740292,-0.01915351341024433,0.04814779612897249,-0.009943414821801468,-0.06746012002033056,-0.014525659401128776,0.030592386590697504,-0.05457605826469276,-0.07202993010592094,-0.08268958573958762,0.03480799687446286,-0.06859687880467534,-0.004328283365401485,0.006903219705648572,-0.004811412282410051,0.029422403615016152,-0.08749174355946249,0.07820455807427402,-0.011224749923034105,0.08601108524335271,-0.028494567679155255,0.06463798421252612,0.00437193807333466,0.054611442850464,0.08666731977127262,0.0010419398453816193,-0.0406595885300292,-0.028751000500819197,-0.031678740739957606,-0.016247757096548476,0.05105260346406719,0.023233478376951146,-0.07852121224634769,0.08303170041438965,-0.010314925587516576,-0.07081852812747773,-0.06599904144783394,0.051857457690945526,-0.05190086261654997,0.0720641596364493,0.009207145233756,0.03964652037023653,-0.011726714467771153,-0.07167830528210303,-0.06829852966019956,0.004690306419141378,-0.007371017800119398,-0.05968215513238297,0.037491675816501216,0.03348250316944375,-0.0592379478336489,0.040368886701510724,0.011460628292164824,-0.06217152249933198,-0.025626651358747757,0.031128993482503083,-0.039839196558231135,-0.049710904500396114]},{"id":"chunk-7db5cddc-57","content":"Dependencies are carried via the RunContext argument, which is parameterized with the deps_type from above. If the type annotation here is wrong, static type checkers will catch it. tool let you register functions which the LLM may call while responding to a user. Again, dependencies are carried via RunContext, any other arguments become the tool schema passed to the LLM. Pydantic is used to validate these arguments, and errors are passed back to the LLM so it can retry. The docstring of a tool is also passed to the LLM as the description of the tool. Parameter descriptions are extracted from the docstring and added to the parameter schema sent to the LLM. Run the agent asynchronously, conducting a conversation with the LLM until a final response is reached. Even in this fairly simple case, the agent will exchange multiple messages with the LLM as tools are called to retrieve a result.","metadata":{"url":"https://ai.pydantic.dev","title":"PydanticAI","chunkIndex":57,"totalChunks":208},"embedding":[0.022976237275850263,-0.008849928872578605,-0.08278399202459782,-0.006227862690410164,-0.06974839033601656,-0.006534311033611639,-0.0828930177604781,-0.05175844261773112,-0.014400298236472407,-0.02870979471063437,-0.00811714984330778,0.07985506245042517,-0.07064595952215291,0.023248751085444292,-0.05345646502595245,0.015509265566841877,0.038465567035051454,0.02933186384520658,-0.02238116944957968,0.08392652465192896,0.08062915498355423,-0.020528062631994734,0.012248985282226966,0.08343745974643699,0.045465096806686284,-0.07198249872172109,-0.019458606754745617,0.014436769045262147,-0.025875832652435617,0.030683637108299494,-0.0588009730274261,-0.004110182044042966,-0.07841034470898756,0.018659494300978074,0.08276167739991294,0.03549191406076568,-0.06853133721162932,-0.059253953431327784,0.06189974280914226,-0.026602155931505254,0.016061180082165106,0.06217456975220638,-0.027426808445654302,-0.06012141773549746,0.05126011016508219,0.0720302573963196,-0.047992471675879354,0.06679026294354776,0.07253757113898267,0.022023251377782962,0.029000300514073547,0.007428668658636409,0.08049764251235032,-0.021612523305569602,-0.008227908544832123,-0.05604436057975563,-0.04536533607528701,0.059549547150921124,-0.05808574453205807,0.059994358892563986,0.0540201338001547,-0.06467499937092408,0.0294084141887842,0.08398588415823491,0.047032391542892696,-0.07281406567791458,-0.038956604020522735,0.0680104361488355,-0.08538643173562951,0.022711968116637036,0.08724458411308428,0.07307451209379934,0.0727358456561238,-0.06378589520831063,-0.05121068588626828,-0.06903742310636778,-0.08187028848552838,0.03297058374196289,-0.04203530085559389,0.041543476357370074,0.08138045086724698,-0.017400313073094118,-0.03394115546140605,0.06986797919808965,0.06137067930010969,0.0031687977426654063,0.03508382098489195,0.06820452638420559,-0.048140697925521767,0.024231158021279568,0.003734156873473674,-0.021878956035112168,0.06562111924948023,0.05103934243868925,0.07257894956014535,-0.035965752053824476,-0.028548681376613934,-0.07571311937054973,-0.0036321010228816315,0.04989980670847306,0.004382521038256493,0.013553159031907094,-0.0005531887863048615,-0.06886871239031932,0.05225553832831872,0.010102063797727795,0.0628932785374993,0.02858815379567818,-0.042337768034993506,0.07394967447121131,0.03344734431664501,0.0012576341457883708,-0.05834172776274261,-0.0683676744154634,-0.0032879595415941727,-0.04290540876997793,0.06093453333731166,-0.06049776539648204,-0.017280741631333335,-0.07015257075124741,-0.08516703202848165,-0.016354065309157607,-0.017747981065789207,-0.050485757487954495,-0.009627691371644459,0.023603792986419982,0.06776708082058622,0.001238726383585243,-0.0512635452769823,-0.004808589204796511,-0.026288960563697356,-0.00251782814077994,0.08406711012855299,0.03218533956863316,0.0738101358047644,0.07153950747424834,0.07571124909532811,0.07775399898380178,0.054211291036306716,0.0032597250673358506,0.013630744924686503,-0.020716513478209384,-0.004069247405272811,0.04130813883881815,0.08265330933453206,0.0704618319626653,-0.05005459472415943,-0.022725880884204526,0.023819375535290746,0.07076251957045604,0.0794933824303961,-0.07339150427122144,-0.0037509557383497835,0.06859759323422983,0.04568076179856646,0.04990195711842438,-0.05028946990843027,0.013299019490754523,0.06938964565454087,0.02029375913954583,-0.06771310713583387,0.030918951020616956,0.0390169738465039,-0.0021185876664476366,-0.07856146231422889,0.051432425963443516,-0.024070065172210938,-0.07469022390447938,0.003265326758998639,0.06660641959306705,0.02528098216919644,-0.04964632461240477,0.027772888119380796,0.029332090010682568,-0.04410870950906504,0.07896328801502628,-0.07052962688739177,-0.07086669227268012,-0.012080880952686083,-0.01153054268331087,-0.08205292775463485,-0.0759867543999783,-0.019604865696806112,-0.04083893316489747,0.03536915286479871,-0.037591431538917995,-0.019277290579115747,-0.0869332899505478,0.01809905425576037,0.06438100854875271,-0.02479769752871732,0.019932685139739732,-0.04068741865584615,-0.06547970713148259,0.08079902829610194,-0.03744852682597039,-0.004691491820935041,0.08647108394122845,-0.010567812784964227,0.02962060842323965,-0.06238754702132997,-0.07589573059369169,-0.03656700688776125,-0.08593656064526856,0.031350723489435475,0.025302792264024446,-0.06169116849551671,-0.03501484016032706,-0.05231756953287025,0.06581062960687745,-0.06529092917861318,-0.04074540011184511,-0.061666269722463266,-0.06093973818857867,0.023581624152416183,-0.07561896523529822,-0.05431488253911734,-0.07894748566525595,-0.026402381917887883,-0.038167126879990854,0.023104523482826312,0.07491967785686691,-0.07730686034974528,0.0724640963079035,-0.06580034005119238,-0.06149094967862228,0.033315485803917654,0.01688490636733019,0.040400913233774496,0.04367044298898749,-0.05898954448792568,0.011328696906181645,-0.009353853692640671,0.00499565689583246,0.08131651917670059,0.05601264279903373,0.024852163870772506,-0.054614611048194706,0.06857036378237182,-0.0301311097819187,-0.03718155846814839,-0.04838036213545896,0.031861371307017466,-0.06827280538868526,0.07993730469948847,0.022788000048747238,0.03918276505287345,-0.0081327751971448,0.00031830350461894557,-0.08691750933914422,0.02805979706386722,0.012340541411130626,0.00329450181476027,0.031672588382002625,0.02970572106520036,0.04165501368849258,-0.03489426074589063,-0.004739146409720296,0.07213253219869517,-0.06962882884980344,0.051747847382160705,0.012428317000384877,0.018901967687505287,-0.0023126556137047496,0.02229332622445774,-0.04848784474077399,0.054592702396310915,-0.03526988804519022,-0.060283772631798,-0.05657862868554012,0.0441631157909085,0.010426396009691752,0.032300580194754555,0.04181706611141467,0.04262814180184514,-0.019842779399871273,0.004814615593004513,0.07756723550805177,-0.07686787368066411,0.08225665863201052,0.0353948055835135,-0.07919259265168281,0.04473683015642828,-0.042363675215186566,0.08221630009152442,0.01459989507214184,-0.011077447849489625,-0.07682555240524544,0.024750668138840907,-0.03404283225375837,-0.04531644267790245,0.08032164345945862,0.007936985956845017,0.035839757795450226,-0.04634392346687602,-0.02985024194240839,-0.07756438193274971,-0.046239503000441204,0.08076388533212309,-0.012757653529956762,0.07768610195505479,0.06298685838276732,0.0048767158911772555,-0.024745600203598086,-0.007172358120830561,-0.05676658002689433,0.08397767084187079,0.011615888767020967,-0.06443526737630612,-0.08140331784891,0.03322714448749994,0.00860836672207686,-0.07463784276956989,-0.0633419920761103,0.019811799861397472,-0.05069442997307102,0.014481771080677415,-0.04898282580437268,-0.07525871077838564,-0.009554643625424842,0.0652765009983536,-0.05930848977344474,0.0331548802437836,-0.08031435629172419,-0.01858080767874473,0.02947666099550857,0.01139655765375498,-0.06500950117542527,0.010157566137300162,-0.07644267892711584,0.0276062572383575,-0.004562649414665244,-0.05303058529103079,-0.06299816115495316,0.07015929294841797,0.005874833375553869,0.04727219082577524,0.03295355942198572,0.06288449668600288,0.019872679171018818,0.06593375284357107,0.01222500168108162,0.08313606643732568,-0.03814464397841049,-0.08080184336805336,-0.02982162002158045,0.0069130480002886074,0.0658388127326769,-0.057697944811737685,0.05542117322292666,-0.014457887799831332,0.004439402304169126,-0.05291157792543848,-0.01534374665696763,0.034713121205627716,0.020657835976536056,0.05762386245825363,-0.08370452934386229,-0.03274362084449998,0.01856436118908944,-0.009803903374787256,-0.0591378886112652,-0.07123166704664381,0.037678453268054475,0.0012946003736251334,-0.044785990620474156,0.06595254000713702,-0.08416103209574824,0.028928997109161823,-0.08647259938920629,-0.02918429204199288,0.08668620070561384,-0.07012797402517183,0.0287047225889856,-0.036297153787117134,-0.035484190312036534,0.021682548787631314,-0.056146406889374986,0.043532083546826666,-0.054074515209375486,-0.06429042180171446,0.07052159282748885,0.0014552640360090215,-0.008014149182653415]},{"id":"chunk-7db5cddc-58","content":"The response from the agent will, be guaranteed to be a SupportResult, if validation fails reflection will mean the agent is prompted to try again. The result will be validated with Pydantic to guarantee it is a SupportResult, since the agent is generic, it'll also be typed as a SupportResult to aid with static type checking. In a real use case, you'd add more tools and a longer system prompt to the agent to extend the context it's equipped with and support it can provide. This is a simple sketch of a database connection, used to keep the example short and readable. In reality, you'd be connecting to an external database (e.g. PostgreSQL) to get information about customers. This Pydantic model is used to constrain the structured data returned by the agent. From this simple definition, Pydantic builds the JSON Schema that tells the LLM how to return the data, and performs validation to guarantee the data is correct at the end of the run.","metadata":{"url":"https://ai.pydantic.dev","title":"PydanticAI","chunkIndex":58,"totalChunks":208},"embedding":[0.042551325735224924,0.06426946130926658,0.006399998881213015,-0.009822943813187142,0.06598814554893062,-0.08586839250180764,-0.049218673854659965,-0.08288270051665896,-0.043035419647568095,-0.06882252449487455,0.0629786584846815,-0.08394580658211796,0.030047043241907247,0.07199608700701529,-0.04564140250399759,0.07558150441488423,-0.053930113832236004,-0.06389877088534515,0.012347322876642758,-0.04055880112604134,-0.06798388606265722,0.05248181867403711,-0.025698371069850977,-0.07234160524067389,0.06220325472286875,-0.0642114298208991,-0.009309683846504806,-0.06485792883770473,0.013680313156441635,0.03722859239712707,-0.023708211462331038,0.0028601080392400375,0.04315710630990388,-0.03269241041440943,0.032897652380359216,0.07707127030622127,0.07433920774491146,-0.05519030676660794,-0.020002067348780992,0.02741462606420782,-0.005183054461948865,-0.0757971718572535,0.0631150057193655,-0.039036873862560335,0.06115517011419373,-0.03646061222842847,0.03518628228713536,0.07600714707925228,0.0778686452506614,0.06855752527717977,-0.07607029883518386,0.04963041790821923,0.0467195625718705,-0.025359897219261962,-0.014966424773108876,0.03834909218369464,0.008389639710686783,-0.016411600360693227,-0.008413157001014394,0.08573374155863604,0.05435059125664037,-0.07075132169990737,-0.03476425040868781,0.0642497257931644,0.008622645723532768,0.039567216824910934,0.023919779283917832,-0.08306281309595097,0.04483511621426222,-0.026251739287059647,0.07338333108593717,0.07594431710195397,0.06490843044439583,-0.005685746912387624,-0.027130757489717806,-0.03691006966009323,0.02487175683468765,0.06804263550758166,0.01941900801951602,-0.08163108782244685,0.019181738232899464,0.003982414895592554,-0.04932875281632843,0.022484146627411838,-0.06364637220982902,0.0755782101698465,0.024319360179300014,-0.05526072920282724,-0.05776101770357685,-0.08537280063344478,0.04352426066564388,-0.08437593899877632,0.07198941292540025,-0.025226681929348547,0.018994469882722798,0.003536577480006371,-0.03392274237216011,0.012577594573140739,-0.07300731771104194,0.05704315090744332,0.054951408616605156,0.04472335549449253,0.06664008765570517,-0.040558945159855773,0.005139432381969731,-0.05579308483531499,-0.045337731938128685,0.0005438617833070444,0.011116267731998728,-0.08499465447731074,0.04089235973834696,0.024250518861651738,0.04313860571077597,0.08290700405283512,0.0033797599583939874,-0.04723327402109015,-0.0025366209609411477,-0.04349355791706311,-0.036996532164948664,-0.07486128367402164,-0.01278093260935824,-0.06793270201185288,-0.05818386924187278,-0.04513985514252796,-0.07774577305259175,0.02289955426294527,0.07802492015554778,-0.00073229006733441,0.01827143094346536,0.05233851785390946,0.05660255569856284,0.035416003285356344,0.02617190616588813,-0.07753818961859306,0.0409685158896612,0.03131988627020287,0.044626604894834554,-0.03204330947491951,0.05722162283596836,-0.04642122236503852,0.06873169146141113,0.05237543873458478,0.06003902333350245,-0.03645476553597955,-0.010734313937784836,0.08286705500734254,0.015133383270740142,0.05008780353368604,-0.027683541324294677,-0.026102152042730083,-0.02860303030982271,-0.06227342407780569,-0.05440231551718485,0.03288196249901851,0.029371701118296057,0.07229841986197265,0.047557060018330065,0.08564027840255699,-0.04322001861791061,-0.08035937373582594,-0.009963482589970546,-0.07872077850566903,-0.06242767496708762,0.05397373702003978,-0.06860126239545167,0.08490574344748128,-0.019488583209915252,0.014396759855050744,-0.05210551835105134,-0.0071920800529188,0.015963645700875773,-0.03510000883980498,0.0774791463961083,0.029597556695899405,-0.018499765270521846,0.05121694401007685,-0.03571953848659507,-0.007883662008420911,0.037077043736523235,0.08375240178007841,-0.008098876292765058,0.038660574904590975,0.03228171251274972,0.07466321506201956,0.019232402395051484,-0.07098820991094194,0.03829149031472298,-0.07850986502640052,-0.024447501730441086,-0.07434520997268093,0.01737295704605674,0.021795325353528357,-0.042704161979996366,0.01113077705153374,0.006255383417199987,0.04536254517643944,-0.009404335629085001,0.05806580841414346,-0.006642922817041044,0.0559362646657363,0.04853189961863852,-0.023236336108877795,-0.06245973314539342,-0.01397439694667628,0.04889364533948272,0.05824261748972919,0.059703316214434615,-0.002224295492906378,0.031076906003971547,0.018361060674003737,-0.028760697222426468,-0.07533865969893912,-0.0842496142173695,0.07732243363628322,-0.06454425440578612,-0.07337284898940638,-0.049161312956000375,0.010008230424992938,-0.034982775619609954,-0.01731206271891312,-0.07505886476232068,-0.04349224669083125,0.04140825857742441,0.0780347439458338,0.08207859290525747,0.005114850762611592,-0.06202692223032645,0.024962189204904825,-0.0009271115335743754,-0.005749773532930847,0.03259778047600943,-0.0778562313070449,0.005824815946309628,-0.08221265814262103,0.08145742480846273,0.05551051797805235,-0.03867582700597625,0.048604648388268175,0.05010135397665427,-0.023717266155602535,-0.019831190081663043,-0.0000018049647692584455,-0.06330654867725637,-0.03012237332175058,0.03650562416269728,-0.0764655327159847,-0.05022969994357672,-0.010894707280527932,0.007873040327395319,0.019948426403986454,-0.02441857730065656,-0.0782664101480805,-0.05680931498890868,0.08579888495104103,-0.07805997424208293,0.030063544166888105,-0.010022541245920146,-0.07676618503363006,0.007637308818174773,0.06410332400829755,-0.007941506145612207,-0.003939531250668172,0.0007332314568981953,-0.007299985921819988,0.07668533314770166,-0.006708475764984985,0.0635179979356912,0.01913628608654802,-0.03362441555481378,0.030125590472194763,-0.05947745355408733,-0.020294211009806582,0.017492689462626672,0.08284494824630044,0.041339814593818934,-0.04329532775063043,0.07218981640567151,0.05953715327483514,0.043275253043601,-0.012490666743620487,-0.014519889790846953,0.07891034149846066,-0.07844885411436603,0.07267651329011189,-0.07920015714266469,0.04039128736905354,0.03536903073892439,-0.019005306253253716,0.0019248076261082407,-0.07894421636313374,-0.002268111054197107,-0.06161807045892733,0.0452798117211446,-0.02431633716631005,0.020543307485478796,-0.008849426186236055,0.01403899387944407,-0.048544181829405654,0.012757134809744797,-0.01435115072965734,-0.009953628613950664,0.03890135328456504,0.05921503767545359,0.040193276959254516,0.03789812592025092,-0.009919552944601805,0.08210361359237116,0.07185482829206427,0.071304283213918,-0.06433509973607937,-0.05934223127084475,0.08417984023485435,-0.01494775564670546,-0.06811700242323836,0.0339898199574434,-0.05801406229445348,0.08377325053223339,0.02943484544673312,0.06273300317804657,0.016306760866922163,-0.0054474020823626675,0.006748243154189163,0.08339847053066232,-0.001410873464743481,0.030674002282318317,-0.07776576772883005,-0.04382867298828345,-0.012297656373225415,-0.008606427442470643,0.01632887629350512,-0.0516809262598523,0.08372245050748248,-0.0647569078124705,-0.035423209973825164,0.08583763018408287,0.015673367866259804,-0.005311018063262032,-0.07772353302695978,0.012988903576855742,0.026848720893007005,0.0731907116413866,-0.03117326664065771,0.0791387552626321,-0.036810020978637,0.07994056173098976,0.07126799176114182,-0.08293592229301476,0.034762625141161775,-0.07493830088993812,-0.005770142576486647,0.03016267110313864,0.038487602002952384,0.07764272201513013,-0.03843977337513478,0.02696679087547041,-0.0667548911319583,-0.038677661880130436,0.045458183001363964,0.04026933488247459,-0.08494581683134442,0.0349362544169532,0.013138841837135758,-0.07747195339067242,-0.0802766522787523,-0.06248509974552219,-0.06767013628706664,0.037885039150200465,-0.07512904314651034,-0.07465113657850225,-0.08444441552580806,-0.027310956022929288,0.06387854994209356,0.026378548433313984,-0.06284028440148351,0.023516096493966406,-0.07223833675758277,-0.0007770609844266334,0.04949423437474337,0.046350767178571985,0.05821382162282222,0.03413868220854328,0.028694616867055135,-0.056420634653441916,0.022067412514977878]},{"id":"chunk-7db5cddc-59","content":"Complete bank_support.py example The code included here is incomplete for the sake of brevity (the definition of DatabaseConn is missing); you can find the complete bank_support.py example here. Instrumentation with Pydantic Logfire To understand the flow of the above runs, we can watch the agent in action using Pydantic Logfire. To do this, we need to set up logfire, and add the following to our code: bank_support_with_logfire.py... from bank_database import DatabaseConn import logfire logfire.configure() # (1)! logfire.instrument_asyncpg() # (2)! ... Configure logfire, this will fail if project is not set up. In our demo, DatabaseConn uses asyncpg to connect to a PostgreSQL database, so logfire.instrument_asyncpg() is used to log the database queries. That's enough to get the following view of your agent in action: See Monitoring and Performance to learn more. Next Steps To try PydanticAI yourself, follow the instructions in the examples.","metadata":{"url":"https://ai.pydantic.dev","title":"PydanticAI","chunkIndex":59,"totalChunks":208},"embedding":[0.017255923036449933,0.04838185340109174,-0.058105046929758784,0.03664247861686904,0.016527275113191034,0.01597951444348863,-0.024223035481289016,-0.02586534633342551,0.02685048383010961,-0.05781431426220649,0.0768754848114378,-0.07917473366430822,-0.017056875045847034,-0.07625459293002726,-0.0029552490997870533,-0.08103568765928669,0.05672210276140816,0.06032924612376686,-0.04781117075488919,0.038093824600971216,-0.0280716957495695,0.05187818996625666,-0.062054480098785864,-0.024987638094127386,0.058490484909134395,0.07758677011691413,0.042928062187281575,-0.004544247881817122,-0.08472685119560865,0.029987223509324427,0.01947432792428543,-0.06873963941806803,-0.07526992415340936,-0.06564600973979139,0.07892643332471318,-0.04180171491174488,0.08096078266702893,0.04381505868303034,-0.018140467672171416,-0.04239918041507216,-0.07201394425245089,-0.01040275884044226,0.018398130517462395,0.004933845891735261,0.013769102758513873,-0.036088851243562904,0.007426975622048366,-0.08248652691791118,-0.06448294802290912,0.08372191808762033,0.06682881128861046,-0.07493025943524965,0.03087585770988679,-0.005269058668485586,-0.052875327861193436,-0.07156122767187773,0.040772824786166915,-0.06755101636901975,-0.03962029483582416,0.003929211996928742,0.04451033620837329,0.070193764153135,-0.010566409777117853,0.0780566220921378,-0.04914018478666803,-0.013899883107883078,-0.04629112839880407,-0.03800151038352364,0.03432667358795876,-0.020886829320107256,0.048230531314088325,-0.0815426175350265,0.07679124896162612,-0.012492112891672973,-0.004131475744974581,-0.06483795144555778,-0.03786748342259169,-0.028695700224946004,0.0026139439271365937,0.05788393464516486,0.052431679894315894,-0.06100113856710169,0.037814043660879905,0.028794814095300967,-0.05147064433321036,-0.06897802376243634,-0.05237276269046228,-0.023856276802483187,-0.012345695167270895,0.07424599949047048,-0.011879294765574692,0.0585563557806867,0.005746625163469558,-0.001031557943192078,0.0008401369496690512,0.0596048314783168,0.07236671163046289,-0.06796123016468242,0.0012335428020679882,0.02128928504319632,-0.03496546578201224,0.07137122880376873,0.052949120809900524,-0.04672162484911513,-0.05661864954088866,-0.08121317412142907,0.08637331382803731,-0.01599233394128602,-0.059975916450399985,-0.06571845749726862,-0.011737232209579156,-0.07254693873817103,-0.07371059062361734,-0.029475886626177093,0.0755490780211575,-0.009893415467533286,0.045009867735430156,-0.06664807350813809,-0.06179705089360193,0.05898363746143806,-0.009744902490788174,-0.07987734132099573,0.055086960943871825,0.02507788522796071,0.06991998190067918,-0.025414826637266578,0.012606516660091374,-0.08630196387718966,0.07760806814426043,0.0030957218775591504,0.04061067452389035,-0.06209613823798255,-0.05343922871801261,0.032796075317398254,0.04845388480799214,-0.06739551430452861,0.053672245755517725,-0.05763347410982194,-0.04030108579076318,0.033851607253985234,-0.028443765767966863,-0.08232075178298964,0.06300799666611034,0.03227480281946646,-0.061784607766697516,-0.000830532057904741,-0.07578777387186764,-0.0696386623811974,-0.07939768279064907,-0.04457877206125359,0.07948138240363742,-0.06443233704356285,-0.06274317106536235,0.06031428757719425,0.03400951367962269,0.045125410569357746,-0.08420788483039801,0.06016784267560328,-0.0475085691052748,0.029705833532850102,-0.016077069602297045,0.0385652259204458,0.026303674617039852,-0.033789735834314376,0.012286327693903825,-0.052156181571385074,0.05386563632553206,0.028272311037790633,-0.03473653378944306,-0.012770820382177443,0.08475224603978279,-0.04537885194976091,-0.04004471533250475,0.02625885017652853,-0.04625589591631616,0.07220192209695744,0.07095968367036097,0.011578732869514422,0.006973849180927557,0.05012866895071761,0.07884535948125367,-0.0782624585494284,-0.04769449215594575,0.022532100520053774,0.06733652102945845,-0.05766413053792918,-0.0435858929616707,-0.03264700786076204,-0.030138421866714223,0.06605293847535768,-0.08481664755554777,-0.07440668534344344,-0.029347198928452455,0.010790717871580435,-0.021810653395134133,-0.060690986886754325,-0.05977133318203592,0.009257549564875246,0.08345629063708616,-0.029842951347475274,0.011400401059032417,0.08338199743783219,0.025272564015845433,0.0293848940437115,0.0575877379763447,-0.044416394112847174,-0.07866321980973243,0.011989075911445268,0.03125404940303825,0.04844379063631599,-0.010587421831748718,0.06318505078595964,-0.08370216924091968,-0.013481115667330276,-0.08614925391744628,-0.025059353280408824,-0.06802444862596216,-0.005998925957042999,0.03529045066550074,0.04230299031462176,0.022439281388699946,0.009516783267113022,0.028002714424405946,0.0570578398546027,0.08098711801599502,-0.05500002889075646,-0.012504485252559226,0.027275615655724374,0.006781350420826905,-0.0032659085273094553,0.024355982557778946,0.005539320599469229,0.06950094919663091,-0.06962360994453065,0.020879674323495034,-0.07061616606729106,-0.08477351041614965,-0.08425425233296989,-0.03511603028557954,0.0016793803211429112,-0.05355416158733629,-0.05510547330438258,-0.043708124959397736,0.0495607577626014,0.04882938001767428,0.04834227985665881,-0.05176482189234618,-0.018822342863743326,0.08427648790082931,0.0287127647905111,-0.023714441746580897,0.03264691228241968,0.050024489255057765,0.042841734885754504,0.025135839567086368,-0.04723905034912093,-0.07192173264023287,-0.01795352335112243,0.023989076600189,-0.02919746064794287,-0.01580594611610539,0.07286348740860525,-0.05802588821261269,0.030300496826514502,-0.0187436941521225,0.025364458957323595,-0.07006244303549747,-0.05473895828496271,0.05998846636620474,0.02016692622940392,0.07403699500671639,0.04954384746346752,-0.04437219426885687,0.07164424354954553,-0.08180271408991194,-0.019871739342000146,0.0737144255462484,-0.05795619939633813,0.06324840036669145,-0.0678602589832761,-0.07799023277427128,0.020069178210465874,0.04905300415187382,-0.04392595801816659,-0.04674900780384632,0.030958395257360244,-0.008908530135113637,-0.06118480684857097,0.03679221857589546,-0.03686573591827184,0.06725467388871206,0.04995026608420245,0.05525592025367794,0.08364935841541643,0.025468874329171904,0.03738992270761917,0.07130135998852305,-0.0752468537978296,-0.02138498654221899,0.038875670466751416,0.005803506761502502,-0.01659467531098045,0.07448388614461,-0.061802077944971306,-0.0658147841904571,0.08366367822873108,0.022385184780610853,0.04541082624422794,-0.04536881403391661,0.057707804116760075,0.04988127923397013,0.05254997494130271,0.01591017704785272,-0.01758199326990099,0.047702094875947364,-0.08229520616884219,0.07950164017471606,-0.015041210457157566,-0.018832859239219246,0.07039385743292172,-0.008015730503855597,-0.06797229861091185,0.037019638512471136,-0.07573179429236668,-0.01409353049612404,-0.018004357685136002,0.06728221817615905,-0.018389203953237652,-0.04217598332182055,0.08528393181734176,0.007765209266872033,-0.014730499564555364,-0.015928223001752718,0.00867649160427327,0.03633411037048937,0.054626754264247186,-0.03813557464472486,-0.05374168051551026,0.07624141380765835,0.035375052145820866,-0.07530061610166942,0.03361745377494609,0.013306725185535592,-0.028142465263004346,-0.01811143981092832,0.00018696916098723246,0.07035919734504191,0.04588986541239963,-0.05464743632264507,0.020274577052270423,-0.06642642565392046,-0.0760295708766789,-0.05032859532168403,-0.06796051150783679,0.033165946383589405,0.025127740898951215,-0.05101716895989438,0.012873648848242393,-0.08288442042044497,-0.021265132600145766,0.02514267670962206,0.07339772237331327,0.03788154861642274,-0.06304040711993336,0.006691113974258505,0.07699610174789329,-0.06321758173802527,0.0691053575284351,-0.07096051999811756,-0.02131033085630405,0.029103673712857738,0.08435113269466803,-0.042817075824409134,-0.07433833271443771,-0.0007370791967593696,0.01766344131478325,0.07244348615445778,0.019941078614869785,0.028083655381370413,-0.01303151286673588,-0.03155961257011642,-0.038649875519192196,-0.03685988142187741,0.03570717145740616]},{"id":"chunk-7db5cddc-60","content":"Read the docs to learn more about building applications with PydanticAI. Read the API Reference to understand PydanticAI's interface. Version Notice This documentation is ahead of the last release by 2 commits. You may see documentation for features not yet supported in the latest release v0.0.27 2025-02-26. Introduction Agent Framework / shim to use Pydantic with LLMs PydanticAI is a Python agent framework designed to make it less painful to build production grade applications with Generative AI. PydanticAI is a Python Agent Framework designed to make it less painful to build production grade applications with Generative AI. FastAPI revolutionized web development by offering an innovative and ergonomic design, built on the foundation of Pydantic. Similarly, virtually every agent framework and LLM library in Python uses Pydantic, yet when we began to use LLMs in Pydantic Logfire, we couldn't find anything that gave us the same feeling.","metadata":{"url":"https://ai.pydantic.dev","title":"PydanticAI","chunkIndex":60,"totalChunks":208},"embedding":[0.06995917869292044,0.024774931989859313,-0.07169014416869474,0.08543319496963964,0.00347286376150647,0.058839626831607206,0.01876919356942903,0.0368815064957099,-0.04559524245028396,-0.08128207613772478,-0.07252826319325523,0.012683412329713836,-0.03936380209844382,0.07842915703149185,-0.06237891960330028,-0.08145579009216482,-0.002537495623435369,0.03026329333575164,-0.06693213647826989,0.03584761962620388,0.052959131001679906,-0.0036659529033122927,-0.019058198496617853,-0.027634800008352046,0.08109930177529637,0.052656332566984654,0.02560527730655097,0.046402236349522084,-0.06743536196271425,-0.03664701682196451,-0.07570725577375154,0.07763542039079743,-0.0016116409846141527,0.06717359157545408,-0.08072397378892415,-0.0631151854606996,0.042688773266976884,-0.05283936349477952,0.005208964671997803,-0.05375236933750427,0.011520102239989258,-0.008403106906395612,-0.03519698289836431,-0.03845468327972363,0.07259158749106588,-0.08039952538406818,0.04390905664178127,0.06540052102017399,0.07379623961107286,0.06193831888195065,0.018234007608572626,0.06186288763174061,-0.0224098216618206,0.03603551825067729,0.06927499300569366,0.08073540481063735,0.08083284340364186,0.035174329484515286,0.08333560982140145,-0.03012220720874145,0.02359716006989315,-0.016275872669863446,0.08375353074787349,-0.0687396847350995,-0.07613095335283734,0.04306176292384558,-0.059200723823016596,-0.04652281193657235,0.04134217867959885,0.0785207636771475,0.04424029836968229,-0.03879379656313866,-0.0443873269775957,0.0586922180958621,-0.005282299704451333,0.08575587911961086,0.04312652887621882,0.0613652845449741,0.0384834302265663,0.0042026389554962375,0.02836165502932166,-0.014049674220881513,-0.08271705211572784,0.008285932404239716,-0.046729979624254986,0.02207273060429551,-0.06473189005392972,-0.01008739196096818,-0.020073333373669386,0.06467001588702426,0.008037093136507538,0.03181543188859948,-0.03605132445959729,0.0562903151939253,-0.025663755981091368,0.02094158971798686,-0.013180775438591719,0.0734673914512986,0.008002667523476645,0.0231244950964029,0.06812714786735859,-0.053824051930126196,-0.03226709029730691,0.01255191068110434,-0.0014099276777019933,0.07687064687483443,0.0500497019591656,-0.022873074847821126,-0.05843635918548914,-0.06054688589951084,-0.008210074456986856,0.024905818695589783,-0.01974311206728735,-0.050666124235249695,0.07515296763686899,0.05822455953011486,0.018681904655967287,0.042855727098962966,0.07737889523768972,0.0041928021225892155,-0.04907555586346619,0.011158029298946113,-0.05644813453174612,-0.05989699877119369,-0.07233546103370526,0.035034085804836086,0.057557826768522384,-0.06595534508187177,0.0784253741529506,0.07001960502441187,-0.07250272542420515,-0.0034643546358576237,-0.027292189648949916,-0.048763226139724294,-0.006143999281473948,-0.02292913379320473,0.00973122352435807,0.03979039378373204,0.0661832512147458,-0.07652316294015776,-0.01450739359078551,0.02532914227364134,0.07890033534403094,0.007616987686102484,-0.07293877041130407,-0.006635182417474817,-0.05863522063293369,0.0432576387035209,0.08549711530223444,-0.041868393246323264,0.006360318110850936,0.010006860060072871,-0.05868545754528807,0.029627114443960236,-0.046870610089754454,0.005860327287124134,0.06955467960990278,0.01754261543595972,-0.045092617813133305,-0.005309008025449269,-0.05739504891800136,0.07889651044931727,-0.0034395647375040778,0.011092883639825224,0.07610835123439509,-0.07889430352484943,-0.0253462302598291,0.07983236237398195,0.07969116100395927,-0.0745943006639202,-0.08179324565639101,0.0750350934094755,0.0401051001977444,-0.04594016925747893,-0.06612464011782594,-0.017831290758347468,0.0593652488105178,-0.06755491112162902,0.001964503282757875,0.06585278040850744,0.02982090164932385,0.010498809776582277,-0.04418139912113354,-0.04881401407422219,-0.023147734270585203,0.05819554707559743,-0.07235157353475505,0.029733631247724424,0.0071143589237588475,0.013894214207852293,0.009858127384796803,0.058527726366024234,-0.06984422174838376,-0.03436606091254111,-0.0451399118948137,0.038912063653388056,-0.06931460944975822,-0.03204375186095928,-0.011257770836517685,0.06042120301293947,-0.036067534904033256,-0.05388360540537401,0.037190271584061234,-0.055143286457270374,0.06527927312042854,-0.01488353891225882,-0.07850541553711993,-0.06005170392347232,0.08341264640143738,-0.03199299518040356,-0.04536927970554666,0.06904958172662966,-0.03830002872881275,0.005400050612250099,0.02580311407726393,-0.079325120539165,0.008446576803256929,0.009942349759616491,-0.05310916839984535,-0.05226526558145011,0.07601340615587991,0.01656674150600043,0.03279226324637392,-0.05443518619769893,0.0153512427957048,-0.033358096711072587,-0.0050189896030988475,-0.059041710066689894,-0.03601963994213287,-0.006280929428011786,0.061915151574047325,0.08514545999777155,-0.031665137546415326,0.01732020640676285,0.006307645850913833,0.05473768413301687,0.040343604283836994,-0.07955622253414847,0.07028268259290048,0.07290975064354543,-0.08286497385826191,-0.0741722038403371,-0.08231317355408564,0.007965043639700261,0.00783404183559777,-0.0846942772641109,-0.013952854159642564,0.08280656758368067,0.03490827031251721,-0.07535296912529689,0.021573880468083166,-0.030827404125817495,-0.017656482818367576,-0.016279172007523508,0.05096711506901869,0.07058997406277283,0.08545469019128378,-0.06606904950367348,0.04497876296403699,-0.005375273351631447,-0.018971419377672494,0.05617893870029244,-0.04086187370750774,0.06671945826732785,0.031237109328914325,0.039392797954664785,-0.08579469076027874,-0.04690820109208949,-0.04247936442262347,0.07900709292020675,0.018341101291334216,0.07442974133109075,-0.05020170327626007,-0.0017905179371865533,-0.0449793303209099,-0.002719287336593634,-0.011900329309314488,0.013204222551323256,-0.0639370344964817,0.028106919278469557,0.06183676141086873,-0.011459305418738169,0.010342250263918997,-0.051274872376643375,0.08040959251506556,0.07446083891833927,0.07613025498596576,0.01274488497344517,0.02868913787047693,-0.06693800564402005,-0.017359409523467838,0.06527518530159705,0.01676454062531186,0.06066325813355472,-0.05083123778477775,-0.06747891341029777,-0.045218474301772164,-0.02765182537737155,-0.08618047687915006,0.07489055463134059,-0.07150724500624316,0.05964547737818339,-0.014817857164279262,-0.04155241360098171,-0.04473351690571243,0.08362480927966208,-0.03668002787437421,-0.0044066718390017605,-0.06630553993196155,0.009019920202796463,-0.008916294885086457,0.08043561249767561,0.01998952027240066,0.0013656287347227844,0.033076935787389045,0.016007986566956633,-0.0629341826670635,0.06545244929034548,-0.05772112160579693,-0.06549054543988712,0.0715350060244362,0.011110054538442802,-0.0232730207595073,-0.025300079340778957,-0.014825937099464061,-0.008758038096812117,-0.049900740607320665,0.020316285759272412,0.08296248067264497,0.06772331163151346,-0.061804521241550905,0.0667094392591918,0.026491217574413837,0.007429434781337404,0.03566976810461016,0.06601313426505556,0.003614361682104272,0.039203343877727385,0.04638952377506704,0.008666642306001856,0.010189760551256786,-0.06216353453181698,0.05517376989806396,0.07238747368600457,0.0028602260353841075,0.04176726681906319,0.028280881725221616,-0.009237841298992577,-0.07158693957692436,0.08308703646359346,-0.0477503242912552,0.08057217042778379,-0.03549144073314678,-0.06654660901448647,-0.08143954223923706,-0.025282317927106123,0.021699812933690735,0.07723410709664144,0.04647732967163689,-0.0527639297959515,-0.07161986708904117,0.016711485903226325,0.014239319627867973,0.0653559634424114,0.051514776249255205,0.020600860662919808,-0.039029103091379,0.06282192969261076,-0.026734505409135318,-0.0776121667033364,0.06477634937589842,-0.04788973628724478,-0.0680757519788206,0.07649905119797402,0.012302891183204556,-0.010494381683265844,0.0014030460432279256,-0.025851858410324426,-0.01863230773900374,-0.08618569487166322,-0.011885604656850178,0.023538152393445498,-0.03406834748940866,0.031619989445630485]},{"id":"chunk-7db5cddc-61","content":"We built PydanticAI with one simple aim: to bring that FastAPI feeling to GenAI app development. Why use PydanticAI Built by the Pydantic Team: Built by the team behind Pydantic (the validation layer of the OpenAI SDK, the Anthropic SDK, LangChain, LlamaIndex, AutoGPT, Transformers, CrewAI, Instructor and many more). Model-agnostic: Supports OpenAI, Anthropic, Gemini, Deepseek, Ollama, Groq, Cohere, and Mistral, and there is a simple interface to implement support for other models. Pydantic Logfire Integration: Seamlessly integrates with Pydantic Logfire for real-time debugging, performance monitoring, and behavior tracking of your LLM-powered applications. Type-safe: Designed to make type checking as powerful and informative as possible for you. Python-centric Design: Leverages Python's familiar control flow and agent composition to build your AI-driven projects, making it easy to apply standard Python best practices you'd use in any other (non-AI) project.","metadata":{"url":"https://ai.pydantic.dev","title":"PydanticAI","chunkIndex":61,"totalChunks":208},"embedding":[0.0766111567968011,0.029343484537290486,-0.0017787454835805998,-0.047571232236973605,-0.0627738560290386,-0.05642486579364401,0.01942906521990928,-0.06891286140829184,-0.03818346123304306,0.07519272480092647,-0.010639336568540072,0.07315342217277816,0.06650217006423123,0.0036413727754848963,-0.07204468966749558,0.016860752416934723,0.04142215310893636,0.038678876762503124,0.08369080414440652,-0.07582258232965616,-0.03993939367209846,-0.010683431273505633,0.03774977709362433,-0.06465643814741256,-0.058610430518614656,0.0015465987955501968,0.040399567161046444,0.005696745352631787,-0.049697733628221295,-0.08603083181497384,-0.01814848723794158,0.07233104689224402,-0.07086982626323776,-0.024973321239199042,-0.055915416486175804,-0.004744509737904351,-0.042730311154982666,0.08054880729855231,0.05953710984849949,0.06774754259687424,-0.05617225807814216,-0.012599766973436817,-0.010987508579129203,-0.01676846127363354,-0.03256828149469241,0.0451223407480605,-0.0459041178816814,-0.06496395807760376,0.02861492405469802,0.018436705116640615,0.004587876669662538,0.027491895124428397,-0.05301799063847195,0.042288704272853375,0.01774875519444852,-0.08577315599237462,-0.06018021705463239,-0.031692677920682574,0.06382502628054038,-0.05521311070137383,0.05191632158276372,0.0773311552789114,0.06020524448633747,0.056141329637304074,-0.004228825316991842,0.03153313579243506,0.07982015573188664,0.029852034584963324,-0.028541963987460502,0.06599163748209148,0.027819320546795687,-0.017149592344210984,-0.05745717765659312,0.07227934749079187,0.08028316595051269,-0.07305111227856971,-0.002639348911523519,0.0854933911450583,-0.06431087158097654,-0.06691633250009672,0.00973543632837672,0.08077215332340486,-0.030498241738609048,0.042806574575006945,0.07557767139475147,-0.055190693474301715,-0.08619894918613208,-0.032419920780494785,-0.00643141014170326,0.011660510699447601,-0.06430586944103883,-0.005318934349548052,-0.03672221237923038,-0.008381985309695228,0.0365964453145821,-0.041042858818749285,-0.0647803484278243,0.019021079288885127,0.025664446110352287,0.02688045367811458,0.0853605560603011,-0.04444131408226826,-0.0064024708567425115,0.0141972549571789,0.048523652356935836,-0.08222701988659753,-0.004957690067025443,0.010126414924400928,-0.06353889757530203,0.018239232029196608,-0.01560329489050475,0.00348114946592268,-0.019415822450119215,0.056156061955478745,-0.002366531310951089,0.05698002999857958,0.05718165320492178,0.0516280639304499,0.00764619855297012,-0.05179974981541299,0.08557218412886858,-0.07989135223179522,-0.003994495376650591,0.020670660488456758,-0.07283690502820116,-0.056063180214338766,0.0667412160924793,0.04004847333869548,0.071837062295985,0.07868301060483926,-0.06338768209760569,0.012197334175336185,-0.013190595692212164,-0.0758976205653831,-0.06654823262428335,-0.04664529889949369,-0.08261264861632815,0.045064862413664364,-0.05054265599416469,0.06818456969588434,-0.0825502376036064,-0.0020642138298766584,0.014132543594685952,0.0746165282888682,-0.006237545605609506,-0.03427613375365318,0.054460127507047,0.04372744812830508,0.02956910707146301,0.08461789654599298,0.06999761301620602,-0.038349578511679284,-0.05137701734785427,-0.060076907944555814,-0.08023242721689657,0.03368893887841539,-0.021664866628219363,-0.022550266246478354,-0.053879206363230354,0.046124986466927066,-0.057310432358000214,0.026984439013314047,-0.054423638042944554,-0.029043837066554657,0.020126173944753342,-0.012137772145098912,-0.055679025729890946,0.08524315071343529,0.06253163740158862,0.02390386907226235,0.0077878457564865755,0.052391222426201894,-0.0766385056313733,0.04105460037054162,0.06354880457014687,-0.045944346317657585,-0.0486804999204314,-0.05002331943831839,-0.06220050396684109,-0.02175321311015864,0.06727234117647309,0.01569276354116063,-0.07789252077090267,0.007593634039119565,0.05707005279267731,-0.028313787082249922,-0.01565384702195574,0.06607095496218338,0.018223550260237257,-0.0010381191483104229,0.06591618350856351,0.024609232192727485,-0.006455272434190098,0.06741583736454276,-0.050765941653204374,0.08606966516735724,0.026089275710519638,-0.040377073569564444,0.054373459279485926,-0.04698129038753373,-0.025718392456932884,0.007671493036329762,0.041934156615650385,-0.05917318482470885,-0.06221835581527809,0.0009514496599392797,0.07576016378643834,0.0025086466311203246,-0.027724897736497882,-0.06497714637042505,-0.05492883536535772,-0.04580276461608779,0.07879554433099024,-0.015651974932253863,-0.03340451608120787,0.07263993744537121,-0.033988897018322126,0.0017080096008390134,-0.04421660315818082,-0.024835278897574635,0.06364061482915152,0.08413886524452638,-0.06083404522496345,0.06415901419984735,0.07182760408001065,0.08550238554537411,-0.03917271412344954,-0.05297046816150888,-0.00015988693022232414,-0.06696449848627982,-0.06233369638943781,0.009951326308191346,-0.005737320056637343,0.05526231351444065,0.01990600595157002,-0.051856316106129334,-0.06088989155191707,0.045946876673706186,-0.013013853759286084,0.0409893465497349,-0.009965758011194288,0.06787069789825528,0.03922010219703955,-0.06078415051100429,-0.02200513037808811,-0.02058128999123691,-0.06401668345501825,0.07666178148124178,0.03624162476661264,-0.023705288429118183,0.06234320099537687,0.05003882966328028,-0.05942586561188211,-0.0746222992326935,-0.009746192653369148,-0.027312751991048122,-0.015940112208196983,0.006462129768307888,-0.055579401221941147,-0.07904047827022587,0.018105466475005133,-0.041939685198907235,-0.035265003564534575,0.08497978488752568,-0.017428768078533607,-0.0237568846793601,-0.07201928387645742,0.03350655583567936,-0.06483913522459182,-0.0810714154337027,0.07176835816306253,0.05617524893639808,0.08159148379462391,0.04738841492292087,0.04815112143230783,-0.08496578838481403,-0.07016468215230699,-0.03808428182156672,0.08080937607495592,-0.021766481474383256,0.03762241624971941,0.027570962239887038,0.01984990366461378,0.0014403105734248436,0.006564712313360151,0.08269508850706482,0.0430571039646829,-0.002362604468648701,-0.0009562448105327104,0.0702040746002835,-0.03085661302837497,-0.07346334390199451,0.059453461888236414,-0.04405838746936143,-0.08542472927304565,-0.05191490140049876,-0.07658882891816807,-0.04988325826772626,0.07196084525796029,-0.03155186599646031,-0.040951807952473586,-0.0736935671097204,-0.05764850459235472,-0.0650046478589687,0.07054487025413066,0.08022174284343957,-0.07564066593508616,-0.05213090362842126,0.05687256517378924,-0.03407840538673114,0.06720688518212423,0.05390844773624319,0.006591438254016109,0.04307422290989301,-0.08410767636952128,-0.013036345822065304,-0.052006245189906375,-0.03732482649115331,-0.02756304642347228,-0.03730799447850124,0.005331083386994379,0.06363207169939486,0.06785930427653342,-0.06620300383991196,-0.05698163953823666,0.01975520810642039,0.05689842080691305,-0.030240133704199285,0.06913330344085764,-0.005316343326959465,0.06226072004216684,-0.038749644833972856,0.04699166714234076,-0.060193960629547454,-0.03545104638458067,-0.0014827163207230553,0.0014624241981390142,-0.0570196049856882,-0.013192528413540494,0.04865927959447792,-0.08099264622789157,0.00036510578497128096,0.009851311595374298,-0.0580862358282884,0.012040667566839818,-0.07507570365591852,-0.03869202530050017,-0.06530199214605284,-0.05824603970870842,0.020878032767884757,0.013794932532643233,-0.08171145005048898,-0.05496939406091984,0.047608555091665776,0.0022257012236888665,-0.051929268525155295,-0.05452869980646784,-0.05011840255567855,0.016676149999189076,0.08128563572188298,-0.06520573655720094,0.01706084570310867,0.05744503068775402,-0.01069864045301592,0.055982480502443366,0.014833689606597438,-0.02726659114400099,-0.021111001874260165,-0.00047829812636895463,0.030071554530873422,-0.06538019046397003,-0.051879346484908134,-0.0014595301031720745,-0.03301421312277848,-0.07916500546115882,0.008218780966466898,-0.041136020408903295,-0.06202550285354098,-0.08228617047610516,-0.0619940229123332,0.02897696260299885,-0.05934081161270871,-0.056688302857636874,0.013537265880456192]},{"id":"chunk-7db5cddc-62","content":"Structured Responses: Harnesses the power of Pydantic to validate and structure model outputs, ensuring responses are consistent across runs. Dependency Injection System: Offers an optional dependency injection system to provide data and services to your agent's system prompts, tools and result validators. This is useful for testing and eval-driven iterative development. Streamed Responses: Provides the ability to stream LLM outputs continuously, with immediate validation, ensuring rapid and accurate results. Graph Support: Pydantic Graph provides a powerful way to define graphs using typing hints, this is useful in complex applications where standard control flow can degrade to spaghetti code. In Beta PydanticAI is in early beta, the API is still subject to change and there's a lot more to do. Feedback is very welcome! Hello World Example Here's a minimal example of PydanticAI: hello_world.pyfrom pydantic_ai import Agent agent = Agent( # (1)!","metadata":{"url":"https://ai.pydantic.dev","title":"PydanticAI","chunkIndex":62,"totalChunks":208},"embedding":[-0.009553868619240107,0.05798520954967318,0.06697626879876299,0.0034799164591508636,0.058421086645615024,-0.07034832042097323,-0.05080022186124155,0.06968504354070171,0.06653299993609074,-0.08269437322156793,-0.030807616839943788,0.03964405498469702,-0.05157969042208596,0.06965621340856837,0.02920007459816432,-0.04466244402081827,0.0831728025397266,0.006671182340023357,0.039703948382297814,-0.016580940712272313,-0.05086220252648599,-0.04576896913923724,0.006307982582002487,0.06423403132136457,0.018700779745940838,-0.017281494810800074,0.0023188535901829755,-0.003414398657990245,0.07810017030870645,0.07508675752104033,0.037788371082768744,0.011712017565463572,-0.06848169142877733,-0.05669738578950699,0.05626812561335317,-0.055240305625505595,-0.03200445284760034,0.021226040389762103,-0.01582710548214947,-0.07221885920318775,-0.062339979644063376,0.08291488753182076,-0.04097179177049581,-0.005114654367012742,0.046375582234540066,0.04058465939884318,0.06413504986586134,-0.027552904646746163,0.058537924165648056,-0.07256699491195676,-0.035339111274573724,-0.008100037636925777,-0.010731194255498554,-0.024213757660407238,-0.040127007532814486,-0.04003305405798139,0.037680018608071644,0.07761243925848701,-0.03776826059579685,0.05688421418143376,0.0801393155848782,0.05547379442914241,0.04797505945643049,0.06294954085645853,0.031943536697165424,0.07458575553703521,0.021888816403332317,-0.033293900694047286,0.023116177481607592,-0.03950815901038656,-0.07061844766330624,-0.040320207290762626,-0.07670760578554314,0.06880535142574958,0.021055243577646578,-0.050582210548535726,0.017020174158539625,0.0817287905294333,-0.059383384767755655,0.03311817083250758,0.009238602334479864,-0.02085130450381923,0.06350063621268068,0.04445449228464999,0.004521064933619707,-0.0809034037264576,0.07717426116223478,0.006078831641920275,-0.041699280101943105,0.0844221920473896,0.060501747993172775,0.04920929531639849,0.03342928814989363,0.0011310973093236658,-0.08250555128026404,0.08291288019152473,-0.06762833198430956,0.04367278689111703,-0.03226168546383,-0.0694646937570045,0.00785530791252176,0.0628352154783712,-0.05129956504673137,0.04163191254607851,-0.07515701777908321,-0.058574242053204585,0.07361337354000146,-0.02937415352011508,0.054177011203684386,-0.06582575611062619,0.013533428712122474,-0.024728701613773944,0.023611170100613935,-0.002175329809244142,0.053532433316115874,0.02141353135303306,0.004071010774280359,0.0622649475631368,-0.0205735999462482,0.044063005398291846,-0.08385234038230441,0.004319861475842444,-0.052003892914625975,-0.02571363648277823,-0.0069394538583062776,0.049599795594416934,-0.045317497780345904,-0.012210548802297811,0.05852387930186876,-0.07158412578339568,0.08288141433858104,-0.06639669434947842,0.06214066943675783,0.02475934481617056,0.06550103214078007,0.06891125507838629,-0.020889974122378786,-0.0284832215874653,-0.028518361096672558,0.005685705251840905,0.07479929802935632,-0.04186408855154803,-0.008651603167468082,-0.05726656682476788,0.0209649942876356,0.02543565356300146,-0.003403555611352151,-0.08189612360873873,-0.041718179417693846,-0.0028998004178860727,-0.06227578438714306,0.04369943984562642,0.022113606970612393,0.05197140498685196,-0.0149755018629769,0.08470939650101789,0.01076207213471654,-0.08013508546811168,0.03905402700083393,0.021248728703408493,-0.013297966897772314,0.05264586050760864,0.07369982997672336,-0.05113453672101586,-0.02979883069458809,0.05950307644032047,-0.08365842196561808,-0.0620412194928787,0.08131619789201275,0.0542030249560402,-0.0036406273066598304,-0.06506651359012677,-0.06123988436250276,-0.05657017840004232,-0.030187714613529645,-0.061946537196357856,0.014411244889108814,0.03677463551476853,-0.08133416638003188,0.03644490655441512,0.06133345022458119,-0.0008819287030656271,-0.049246403579017585,-0.06699335308990022,-0.08400270668354595,0.065901723458332,0.029098631830192925,-0.012120662307367126,0.069231887856637,-0.0343083246895491,-0.05589175118147761,0.03452884690021507,0.011621124858334128,0.045296720614065304,-0.028869372392852147,-0.05997321625366054,-0.057847793752872675,-0.07240972402328139,-0.06000870177379996,-0.05011599549174667,-0.024850620077119495,0.06157020405893946,0.06004588548921966,-0.0314442735316732,0.046989608254149245,0.036969648785698826,-0.045036163646647885,-0.003288175929149449,0.010978420543134693,-0.08378551608533713,0.023271821651411558,-0.07622587575215432,-0.07389268813574716,-0.01545502393291877,0.017670829357681623,0.06313935366494874,-0.006063501974323047,-0.03357693445729413,0.07128505820515,0.01016409900617722,-0.01855066288123718,-0.04399422457407671,-0.030809477204661883,-0.04344119054784882,-0.06396349365445395,0.07455603613312166,0.019349418140439615,0.03782221008525451,-0.02521339464487816,0.03402638298030395,0.07922025987305638,0.057227465201355,-0.024914770695820973,0.05393695807144532,-0.030712906999015955,0.05950423875084469,-0.08413976807625863,0.07859981754923898,-0.004958019315889309,-0.002817659856142004,-0.009297785399014498,0.07994750199896182,0.051797592440361126,0.07496748180891254,0.07724975586644196,0.0784861613471615,-0.049021898726220904,0.042610360130650955,0.020829001805014208,0.012100048269452416,-0.04617687552649233,0.010936545082133963,0.04033004440081484,-0.07699154059476383,-0.06335813588452065,-0.06879556287953587,0.028897380787611268,0.0021777862433188383,0.017811589304601826,0.04009569087609273,0.06303783029873351,-0.00048198826245063477,0.04094131330494725,-0.02918698552205901,-0.04014210238623779,-0.04209590195832351,0.056593764103649066,0.0037456955003798273,-0.06143565906578302,0.018547709560257017,0.0016618645361444243,-0.016430859948133043,-0.07941868489107087,0.03911718738019404,-0.030108108876883404,-0.027917596081059898,0.07071922658087339,-0.048995333976947976,0.08037733041006333,0.001327709460452856,0.011499339974776406,-0.08039685867879973,0.0006128942218831677,0.043236034321518055,0.00451442050863241,0.008592049389825515,-0.016015584151576237,-0.05533669749901757,-0.03211715127954185,-0.03391793894905688,0.05613510289712855,0.08292392024951038,0.08376091453287325,-0.02525604497454003,0.06106748260813432,-0.01511986702408633,0.06026997339655783,-0.08116827133077896,0.0037637985545795794,-0.04044473310427166,0.04162388325241671,-0.07104534676643598,-0.003857274991153759,0.04325887226539459,-0.015008687834379947,0.04467417932533888,0.041971316396926105,-0.019308995694449486,-0.05360396459335419,0.04816571889529448,0.02038266488118189,0.012573928692241412,0.06433749734850633,-0.008423854381236776,0.06199528106128342,-0.05649239095048767,-0.06750198886776472,-0.0821146957868091,0.0387962405148237,0.06335777402478586,0.008872205133508516,-0.002549514961714864,-0.05407519274712632,0.038105526696765354,-0.04068394419316958,0.07035701481547577,-0.020943024540386462,0.0763100238922992,-0.009653988412188466,0.062481673329318484,0.07949226140056637,0.0628762076935476,-0.022562533472715283,0.05975224975349404,0.040391016312273306,-0.07098172874716382,0.07141358190069458,-0.078547542680832,-0.07232533166938536,0.08189123074092919,0.07297481036314817,0.08246576046906749,0.06218119759154588,0.007965884363406926,-0.04407589366451704,-0.07341144755775951,-0.04780813544272068,0.08029450750593277,-0.06155815895055894,-0.06620144553074565,0.06755998828713675,0.03063764397389106,-0.062019967285421966,0.06272975049899017,0.0398278954675218,-0.012646794547669628,-0.031146649265223203,-0.01577373361582137,0.02501121890777223,-0.07883596955771713,0.019796768431396394,0.01658886456289884,-0.056102442021212846,-0.017644220796738778,-0.0479478204433379,0.024329152575136768,0.08399748031851725,0.00808289610152543,-0.07041155290448578,0.013480496379340765,-0.07835042699888535,-0.07519877740773731,-0.04493057533446442,0.08086778231947482,0.0015478301120822632,0.08393465552693956,-0.07334870737242015,0.01548332567573017,0.07843143338942653,-0.06991000073785524,-0.010831857921920386,0.01851094878791785,0.054036531901515805,-0.04422746204766497]},{"id":"chunk-7db5cddc-63","content":"'google-gla:gemini-1.5-flash', system_prompt='Be concise, reply with one sentence.', # (2)! ) result = agent.run_sync('Where does \"hello world\" come from?') # (3)! print(result.data) \"\"\" The first known use of \"hello, world\" was in a 1974 textbook about the C programming language. \"\"\" We configure the agent to use Gemini 1.5's Flash model, but you can also set the model when running the agent. Register a static system prompt using a keyword argument to the agent. Run the agent synchronously, conducting a conversation with the LLM. (This example is complete, it can be run \"as is\") The exchange should be very short: PydanticAI will send the system prompt and the user query to the LLM, the model will return a text response. Not very interesting yet, but we can easily add \"tools\", dynamic system prompts, and structured responses to build more powerful agents.","metadata":{"url":"https://ai.pydantic.dev","title":"PydanticAI","chunkIndex":63,"totalChunks":208},"embedding":[0.008100435002019991,0.01697550995684778,-0.06869564927695253,-0.0033182801258794564,-0.06294265000152945,0.08870601320470885,-0.07023066308176072,0.013265080173217309,0.059984336390440054,-0.03235539929901852,0.0729848527730044,-0.01494963013677367,0.0189969148107413,0.044810699705040244,0.07383296584821247,-0.06038516254182135,-0.07671720751437389,-0.027644462884839235,-0.01858667564248173,-0.04473862465723044,-0.0008642373775124965,-0.08811926131630181,-0.05806810618065612,-0.023179330210839604,0.000951726811121287,-0.007494516176810253,0.002511944552728117,-0.026248698840878857,0.06887386632969653,-0.03972817085432257,-0.014132291806916993,-0.037360403814532574,0.05799176567933597,-0.03692961720496018,0.004103946157481939,0.019698497454535155,0.03398949441202445,0.033815474029006164,-0.07672018787035446,0.029109212159843946,-0.08997804923075098,-0.04251978266978775,0.049856232642001674,-0.0727266749254642,0.02895602329567374,-0.013716986524091581,-0.06744180572736962,-0.06902815434427292,-0.08358017172110105,0.07958027794025853,0.003127772389946109,0.02674151009808609,0.050981924834663364,0.05453594680914772,0.03427034243450153,-0.009370283717343525,0.006179277481370911,0.05004644943489519,-0.030120392074876056,-0.020805511930821204,-0.07754450802114794,0.027815394801158543,0.01064891852807841,0.06432596982271065,0.03293593383322658,0.07871575270782866,0.0783667911357053,-0.08734888978141883,0.08799639683464161,0.052517092155144524,-0.0566883425640906,-0.06846124784462503,0.034495130087888626,0.02563704910828167,0.011850516719108464,-0.01800475588574713,0.013179045005087923,-0.028421488652550835,-0.051067743727666676,-0.0730943077838695,-0.08465848133727814,0.022606676963285267,-0.003991704293183874,0.037593528076208166,0.07395964533086365,-0.021402881216360768,-0.06567905669795437,0.07138866973889517,-0.08168157010042519,-0.03664499714107998,-0.06380743564038376,0.05604599644245063,0.05570904589054209,-0.005985018797730593,0.0006980745320598564,0.063997049370947,0.005960467448517465,-0.07339543498190165,-0.0192057267656301,-0.030132275159879023,-0.04957792642426108,0.04984112049122503,-0.05315900673186592,-0.040469209432022354,-0.0419473611968568,-0.04333363081385742,0.01876719370243398,-0.08553567625462191,0.04788746870615316,-0.016109562010124333,-0.019864478892617422,0.023300085388738453,-0.003929636814957674,-0.07432857622606648,0.08637589621846593,-0.03872763795603232,0.07157332195667516,0.06703624197061908,0.07798159210946864,0.03946476720499955,-0.01597763612922812,0.0027455846630160437,-0.06817355867896413,0.019327650866888833,0.08165631325165905,0.07564209127916477,0.03455442582361237,-0.011249144780603645,0.0726288905230663,0.07442726336128086,0.020934747012504983,-0.06195474660639715,0.04575810699953961,-0.05430205051430028,-0.06734185816348241,0.0013630109806159602,-0.0066976114427344064,0.022374599595906857,-0.06888016552600651,-0.055996796595977824,-0.08336375009013282,-0.06271464420182521,-0.0891884629369804,-0.06984062524287812,0.042819285635567174,0.04732066954710021,-0.0016411116855778668,0.05198487755237879,0.025629993764389764,-0.054539486133231375,0.01582529560616865,0.055423484693084966,0.040064107678993474,-0.01979585833391296,0.0031643905654899183,-0.051368349066280385,-0.08389156012786081,-0.017546639310088832,0.06780748735978964,0.05390614228001819,-0.009842998807477285,0.08422909631774729,0.011237041920940617,-0.037063662109312986,-0.02782094275235163,0.04911652834161171,-0.056926821446530725,-0.06879246511543728,-0.004712597068619803,0.021550126259946924,0.043282372047865496,0.058668726067138084,0.07732823931047447,0.05801302198914141,-0.0490099082363201,0.08124752753921011,0.055282759948721505,-0.06935383030684601,-0.08764898027510434,-0.05943162745539583,-0.08817240384140712,-0.007614075123058665,-0.015702156493822752,0.02962689656834379,-0.04401640141493808,0.07736779821116868,0.004110527715786056,0.0603770773113361,-0.06965501017355331,0.04544127557787578,-0.06341979981266688,0.0652239286879922,-0.06045402693939943,-0.0004562252764194329,0.011883836031894633,-0.051344427060169555,0.005376225228852195,0.057711997917261774,-0.040561268617035746,0.05411290969916286,0.03909852596672053,0.049159927447703776,0.06760604991671684,0.018959732305837706,-0.036895652848105635,0.07715338980099977,0.0014071006034095258,-0.05705789600345635,-0.020869468821904418,-0.07823999124168982,-0.026992905574663485,0.022390056450080225,0.025513462472138555,0.051651580214414586,0.026395145231849913,0.06056813522055942,0.07799652914583832,-0.07609656436490375,-0.08998436558358551,-0.033120006838833795,-0.04651780502441963,-0.0846373398500916,0.046973538696435405,0.0474231485079236,-0.005911112584391801,-0.0867913056648178,-0.012674062735178815,-0.04187435568388186,-0.06583596957233506,-0.025001163673006383,0.0779401553773895,0.005437017766221707,-0.014644900184295106,0.04698841344441136,-0.0637675104552001,-0.010702225955424258,0.05839429386378851,-0.056945685407094056,0.017003740017489225,-0.037747866574199374,-0.06042788850744184,0.02508587029934055,0.02379411552292031,-0.020049456771712475,0.01200511035632671,-0.04802863042803018,0.08423711805589208,0.028594735740245916,-0.017987654411997473,0.045925008635683925,0.05702000958221454,-0.011418163678602829,0.006181798527247525,-0.024297890401728958,0.012013793560249288,-0.07254022810512267,-0.002326346330369239,-0.005474784873502461,-0.012066719637325996,-0.01112128434445482,0.06457386074606582,0.02951374932900448,0.08370145629099762,-0.03235983632915546,-0.07183157172981172,0.07819781271083562,-0.03589399019256889,-0.04826710631104647,0.06035085505286769,-0.024567279709883164,-0.05144217552771954,-0.08934765793868432,0.023960213796927723,-0.016167302580093964,-0.05027406518744237,-0.045556281623726644,0.03607956520953629,0.0545759809742221,-0.009447428954124166,-0.004357987693330108,0.015500485592832002,-0.03700573173500476,0.04124309292622574,-0.07992015521083896,0.019597130459275677,0.05369095361145713,0.00848709587332437,-0.08940532357262375,0.025913192847413922,0.06102226861208545,-0.06536737807118673,0.0735441249704364,0.03857724779355117,-0.009162088713645569,0.005339344655968852,-0.07247992307371125,0.05446107001461802,0.02178178694369456,0.05053287173426727,0.006604534024296266,-0.08140317024810981,0.04143594582754641,-0.06822642967176108,0.019240484377184234,0.02700475069063401,0.006980118526210669,-0.06753359761464024,-0.0878271694909948,-0.014341988210404085,0.05325905376522127,0.016714536049072675,0.008854774549332832,-0.06894639107500491,0.007001519602070615,0.057604469028320296,0.06818185205609481,0.03534735263601122,-0.08647104881049797,-0.018856156007919785,-0.08474369241954383,-0.0893071557445671,0.07064547981007917,-0.08871136718491342,0.07436546866501986,-0.011572088991919948,0.06515449631010178,-0.0867038373649453,0.008568011006411653,0.05952162541439595,-0.04784239771312099,0.0886285105170008,0.03066443114600716,0.09059393271054288,0.02089443670679357,-0.020377273242850377,-0.0368848547219761,-0.056760652931870964,-0.08763596365572017,0.03643479154265583,-0.049943210974168394,-0.05643842512867791,0.052084617794051824,0.079060911941226,0.0761115038133936,-0.023400604664465703,0.02090043215892625,0.042985676778335404,-0.03556784306223395,-0.044758717363737946,0.03266600293497237,0.0050349313766366545,-0.008143942593129588,-0.049229946240994374,0.01855879451876141,0.013649287214348505,0.030195094742167906,-0.02911431008216598,0.01728287613632761,-0.040099799506373934,0.06743764605886753,-0.04043062010307478,-0.06345554633827571,-0.010026304785343953,0.07720170865016215,-0.018615606066330916,-0.0838925754943942,0.05413370002572568,0.03425329453942296,-0.02645234779413788,0.07411277032207485,0.005921552509140055,0.051275668952699444,0.054615829018157,0.07317359683263054,0.07675413730258271,-0.019126573201278297,0.03450158656748076,0.020119410155312534,0.03578946902517534,0.050623543371744996,0.05061685217360929,-0.007489019588513283,-0.022251887392633576,0.06505107733204234]},{"id":"chunk-7db5cddc-64","content":"Tools & Dependency Injection Example Here is a concise example using PydanticAI to build a support agent for a bank: bank_support.pyfrom dataclasses import dataclass from pydantic import BaseModel, Field from pydantic_ai import Agent, RunContext from bank_database import DatabaseConn @dataclass class SupportDependencies: # (3)! customer_id: int db: DatabaseConn # (12)! class SupportResult(BaseModel): # (13)! support_advice: str = Field(description='Advice returned to the customer') block_card: bool = Field(description=\"Whether to block the customer's card\") risk: int = Field(description='Risk level of query', ge=0, le=10) support_agent = Agent( # (1)! 'openai:gpt-4o', # (2)! deps_type=SupportDependencies, result_type=SupportResult, # (9)! system_prompt=( # (4)! 'You are a support agent in our bank, give the ' 'customer support and judge the risk level of their query.' ), ) @support_agent.system_prompt # (5)!","metadata":{"url":"https://ai.pydantic.dev","title":"PydanticAI","chunkIndex":64,"totalChunks":208},"embedding":[-0.023096534647677615,-0.0043409384884854916,0.008917226934427362,-0.04195738808977641,-0.07465301930504023,-0.07600031257189714,-0.041518154121151514,0.03193056478982755,0.02425229382060463,-0.07587071608857601,0.08803778935690253,-0.003026615972439317,-0.01672702199980011,-0.012492103092015846,-0.04050850898690072,-0.055964761813210764,0.07323926711292132,0.08442524338076096,-0.01613022930611251,0.06945964780694713,0.06660912627862604,0.05892458076742156,-0.03751163042121933,0.007509732659529039,-0.02237451267948385,-0.01627895643274073,-0.01490120645141381,0.06641076582295588,-0.058321360420713605,-0.07010648432865567,0.05393017425638555,0.038206775028469316,0.08077556590548048,-0.007579960878664664,-0.003223652962592941,-0.07506078328900437,0.025526208440864954,-0.06149881283731934,0.03392363385209488,0.08337261535740906,-0.03173611990940122,-0.07744262809635084,0.029635421235474597,0.07532916333718431,-0.03969021280666446,0.07987559800276002,0.08044055626374995,0.032165605567018606,0.02833455913031498,-0.08247692927910874,0.029754774815249737,-0.004818109921824928,0.05087981548398277,-0.05755757617303816,0.05046927193672151,0.03158779736760765,-0.08559910775142526,0.03167133380629614,-0.04326736422476217,-0.07906298339105929,-0.005077573475851807,-0.022976486814214568,-0.000873472553455278,-0.05292775814682833,-0.018106018535049,0.030980325814020045,0.07801738972627371,-0.08197455578855405,-0.007471085691501199,-0.005992207582572124,0.0351989884772263,-0.051400622346793906,-0.04913050415090337,0.015327599075280468,0.013699705447233094,-0.04349118099803571,0.04920194496363538,-0.0677760325901467,-0.06965638132175671,-0.03454795166614191,-0.08426398395922968,-0.05364342434050436,0.01726359099126688,-0.08766973499439183,-0.06184949539816082,-0.03202070033371297,0.07454025591467332,-0.025332441800773667,-0.07757771387018589,-0.000243380601698952,-0.01857516789005027,-0.06196214600867578,0.00025000897715968517,-0.019586464665904583,-0.060799529506181685,0.03929914659599276,-0.0696414030071225,-0.08806551934549071,-0.026756604612649896,-0.06188044311852849,-0.062166085417141616,0.08410597284313963,0.0046563833770202675,-0.06991571364796124,-0.07073006846760353,0.07061821909774865,0.04211331994183683,-0.021242128587054016,-0.021063809986158775,0.0856113810869941,0.03846818400069166,-0.01100116798613107,-0.0034535559027640992,-0.005374352142804598,0.04298334708496544,-0.05696883233156705,-0.053136610037310676,0.017011288838041868,-0.06108138009782306,-0.0787742991665683,0.05958154588882641,0.004997714616664712,-0.04860569290715707,-0.003967633538127647,-0.07271393585015552,-0.08153799332611908,-0.011067288650388814,0.07527941829770185,0.06106394784094082,0.03582566518536891,0.0334037054325894,-0.03608958603324008,0.039225023489691514,-0.060112478694810026,0.07470525091320634,0.031456320803121884,0.011034946176988266,-0.07373734934281248,0.0369078459332451,-0.0067170407685129075,0.02608464518359938,0.014183319652104622,0.028533459476592336,0.06039748707511084,0.047636142375803756,-0.028628079779727915,-0.06397015174924381,-0.021544525260379935,0.051055588453583996,0.0024312706244195774,-0.07185442503132296,-0.01163180256710765,0.06632477850987384,0.054640838456715864,0.021376733129762463,0.03579195943517694,-0.019520760041690215,-0.016531053332938608,0.015375316713047354,0.05929330821577009,-0.0669031827706252,-0.0709290947075906,-0.003393408564326791,-0.0723411253991114,-0.06018257552502014,0.04372223599241054,0.06579496738776586,0.013235347887396868,0.050587305816231366,0.02470362951634266,-0.048954657070550876,0.051012111204785215,-0.008773090626517491,-0.05144838010594167,0.07439844897526231,0.03447300207918929,-0.04353467164515036,0.08495816755739109,0.01584356898694622,-0.03916479615045875,0.05370469699729662,-0.07769474626522144,-0.034084733265522776,0.03987960224451965,-0.0057715720077048255,0.07700779928886821,0.03475383265784443,0.035025030589201187,0.06120753321004387,0.05060174072079247,-0.06273674140759566,0.07290590280880643,0.004473766159187574,-0.05996565396236563,0.0030531966287537233,-0.023268685378030403,0.07592798027291528,-0.053388903875964275,0.027302464223752525,0.05046694779041735,-0.06480983353397628,-0.04139806314741724,-0.04057974974387603,-0.046671796803299075,-0.08715688956309055,-0.07770207141750891,0.00019059852462867323,-0.028737057498954072,0.048374118877386484,0.0581924516866633,-0.07433450270754721,0.013454140343833298,-0.07759091572366197,0.08148518989752304,0.08268834431604506,0.02559222794045702,-0.0868338444703864,0.05884918228028483,0.012009431185773892,0.0010526295074708132,0.027277061250974108,-0.0874527591401122,-0.009251709460438554,0.08163165761032398,-0.05564951309361536,-0.04098743552508867,0.07663795817879764,0.008365958999260448,0.021354871717055024,-0.07192708833851102,-0.01302866584582544,0.029006377428306616,-0.027107689603925494,-0.028123708493213995,0.01799706233345672,0.04336234251050194,-0.036040148020969116,0.05094190202141036,0.08236323665325718,-0.0551518025186503,0.016497106773095745,-0.053218818417645516,0.05663136992407373,0.024985169474413413,0.028409947378164838,-0.08174061572268218,0.059086492728197826,-0.011749737659484765,0.06601470850436661,-0.009455706259257898,-0.060082130647046324,0.04764707929955364,0.03665306599367988,0.05821088272885847,0.0670004038006882,-0.007079007167087028,0.0635052101934177,0.08214004210634698,0.03270719120572653,0.008336126549797223,0.011300215620780943,0.012024463278030726,0.014249770121530949,0.03204118569843959,0.07455770107285362,-0.03884731608657377,0.008458636417791513,0.04191885757792846,0.02935484515020918,0.026898466264021575,0.012442649659508935,0.08176079438220261,-0.05959617041062407,-0.07470173440707914,0.05690677993120618,0.03253635798947341,-0.04601926460254858,-0.08415337223930687,0.011098905991318568,0.07323079100321808,-0.07302218407814473,-0.027795798747982166,-0.01828781867904701,0.07069568107483502,0.07366380512039525,0.06351751281450639,-0.06722740702366778,-0.04879023287119644,0.07433012544147286,0.037650420316276675,-0.031950041980730814,-0.003280139605542318,0.041949004290356265,-0.04927568261388649,-0.017141061838168756,-0.024226886120619223,0.08661409325769263,0.053584579087814534,-0.0351691860183178,-0.05229156362929954,-0.06621925136013479,0.020129943760234078,-0.019475025265106825,0.008613013784530735,-0.06047288792484606,-0.016378931771396224,0.07225362856270139,-0.05768539927591976,-0.07862167776400167,0.06215622015380069,0.07794500583094374,0.020008535071411405,-0.05222919257544558,-0.06028081570820261,-0.05272841558280143,-0.08719366531975319,-0.062099793718289095,0.07284026270513236,0.06252669207672162,0.03580681029305908,-0.0008957534010507294,0.06332291348151321,-0.07373280711546122,-0.007818776359539384,0.06762759434185066,0.04803330160087054,0.04725820408128147,0.0020129154224246405,0.07952740803125752,-0.048512018056996724,0.009371537500223601,-0.0022885019463628514,0.06401576783542885,-0.03825413640211935,0.04731490790785671,-0.011846450784320294,0.020227188760518076,-0.026773450103010063,-0.057499188052997016,-0.07163326024275707,0.026757330369392932,0.054122046311856756,-0.021940991073716307,0.05053380924991094,0.05393458774914419,0.06585039923783755,-0.071071597363261,0.035842008955335423,0.05884506984457408,-0.027792686194678787,0.0002789924119505786,0.07725192516911408,-0.07860648257094313,0.04703396655020467,0.03130287072367481,0.01723732667796692,0.045750571905129114,0.04168942187544107,0.05523353276168248,0.03839263365375404,0.023541027941870636,0.02109079487292108,-0.001545178769177683,0.02900965369110125,-0.07376285828147253,0.06486328242123783,-0.049971956179357596,-0.01664125680028161,0.02943275928652729,-0.08462035546353361,-0.08193956146423284,-0.08287928947039935,0.04306202727958573,-0.027520871086814207,-0.06731320439895515,-0.020638569240216977,-0.01139502823546529,0.0429017270426874,-0.049214721924695524,-0.02808218767422792,0.0034602026028603535,0.05150590229992054,-0.014036808847996554,0.07831220401442496]},{"id":"chunk-7db5cddc-65","content":"async def add_customer_name(ctx: RunContext[SupportDependencies]) -> str: customer_name = await ctx.deps.db.customer_name(id=ctx.deps.customer_id) return f\"The customer's name is {customer_name!r}\" @support_agent.tool # (6)! async def customer_balance( ctx: RunContext[SupportDependencies], include_pending: bool ) -> float: \"\"\"Returns the customer's current account balance.\"\"\" # (7)! return await ctx.deps.db.customer_balance( id=ctx.deps.customer_id, include_pending=include_pending, ) ... # (11)! async def main(): deps = SupportDependencies(customer_id=123, db=DatabaseConn()) result = await support_agent.run('What is my balance?', deps=deps) # (8)! print(result.data) # (10)! \"\"\" support_advice='Hello John, your current account balance, including pending transactions, is $123.45.' block_card=False risk=1 \"\"\" result = await support_agent.run('I just lost my card!', deps=deps) print(result.data) \"\"\" support_advice=\"I'm sorry to hear that, John.","metadata":{"url":"https://ai.pydantic.dev","title":"PydanticAI","chunkIndex":65,"totalChunks":208},"embedding":[0.048797788611183085,0.05141405326594539,-0.035313309629821474,0.06718939105818302,-0.00012820970256800188,-0.02082290121422216,0.01979881714527893,0.03455560111718974,0.04360234085894931,0.0011111114188270595,0.05115203913319291,0.08638872512470418,0.03538828535088926,0.013185194260654126,0.051243732893618776,0.08061638612286988,-0.010776095185620884,-0.07609356577020317,-0.03245397178348341,0.03737595814317702,-0.051015903201831234,0.032747154161028566,-0.05770729966250183,-0.06116433756445203,0.05015530716356446,-0.016031419548440198,-0.08449671449038493,0.03844176773272269,0.07852364440492929,0.00823180085933947,0.08322960156888201,0.04998597714298374,0.0797369497465798,0.030211218534432146,0.03716187777711096,-0.08565712085832763,0.05380724562351038,-0.06330526112822546,-0.047084084578880525,0.016730544349788035,-0.06729899149686251,0.06818655046231197,-0.04626075959222867,-0.07875129174294024,-0.04026486803714167,0.08719646614626499,0.05947861007329893,0.08310085130623668,-0.004288808923248157,0.005949211779560527,0.04933030862157891,-0.07379769949949819,0.06922232300664857,0.03255709696047664,0.007885590541795273,-0.058568917346726417,-0.07041914192548879,-0.07858687820995175,-0.08632206536039361,0.0077097494131249346,0.005279979340155176,-0.012538663584690139,0.03040644071279351,0.08714552899819338,0.0035476841204435264,0.08021266319894542,0.06764420409114713,0.045965000631466676,0.059263479015217134,0.0856275800133541,-0.08567334299889215,0.06502337207249538,-0.050465797755138916,-0.015759018791112897,0.028298062032762673,-0.07172386088827007,0.040533261829052,-0.0003765063877447978,0.06422862523664022,-0.051634515527230605,0.04525993176107106,0.08615194997424067,-0.03948207055864121,0.06463955877602885,-0.03336907020630517,0.02578730268171595,0.001283493067778937,-0.03749107969981559,-0.023639495601190177,0.016277956790808106,-0.05247684932778386,0.0392696969634108,-0.0002253080516636098,-0.07534067018982918,-0.07461890735338987,0.08495793739534284,-0.021596985055487048,0.0671790069582065,-0.049474783394273504,-0.030998676333664633,-0.01842469318348713,-0.0526424236562894,0.07041418518075804,-0.04158087319029849,-0.02802833526049928,0.00254115519727742,0.07600668503094238,-0.05267931998978052,0.03294428659542029,-0.04906402926736783,0.08414288915567246,0.07824454828810885,-0.08035016932952259,0.0729425680954816,0.08651847535191323,0.025666352391162262,-0.02796757202850472,0.04167976532731038,0.08656367001470831,-0.018576808876812345,0.02011495366928148,-0.023072101936379902,-0.06716902845656213,0.036918842287261194,-0.08503785979087067,0.03527212229588669,0.02159258593538462,-0.011199141288886608,0.0185417849294128,-0.007399084739810671,0.06928658852356065,0.0024220332351197926,-0.07165512334291342,0.025062476436464486,-0.01366384784341464,-0.06955068503567156,0.002260158730386516,0.08334505462311598,0.005360023656747021,-0.009556580935882403,-0.04571234910740673,-0.07443885117370638,0.04636724702675599,-0.015020662595158019,0.0160480297404458,-0.07676627542595586,-0.00036564983980853923,-0.06724003485857775,0.05775056720116134,-0.0397737424153456,-0.07374344156287035,-0.021307061462540477,0.04657794792479114,0.0010540425607376439,-0.014639577849187417,0.025974072991867544,-0.01935620028908799,-0.04876675895321812,-0.0881938186530576,-0.07435660851163454,-0.03477787401355081,-0.005851573709478679,0.07494876515741399,0.03554284459568408,0.027901680100520944,-0.03050396711785136,-0.005101732023588071,-0.005631315782969357,0.008087482022693738,-0.03918181716932954,-0.03226505068286325,-0.025210644124871673,-0.08694537382384164,-0.038837444537827594,-0.028322278253714733,0.03831767844019843,-0.0011265588812901216,-0.05345422131268995,0.0032006319759153414,-0.07206104749833066,-0.006634048230297526,-0.053267778067221945,-0.05993290325129666,0.005761701365818648,0.0031962069769929176,-0.04180359778273458,-0.06741482960022688,-0.017948999856316074,0.03453864234071048,0.0347110158512477,0.06288352874717552,-0.06942581073834676,0.07759238086457021,0.02836197923320866,-0.06668734806491551,0.012091467886726841,0.053802279548693495,0.05646205095346955,-0.058569909427725726,0.05617144888505302,0.06165861501574124,0.07934742582184044,-0.06993515442342228,-0.053228322421956305,-0.07515822076680133,0.00860798098284779,-0.012800059323475204,-0.08308337756405089,0.0733596290804301,-0.015416028516149302,0.07211366293254554,-0.011605696639519351,-0.03686077256872518,0.03972656257498764,-0.015985306030270176,0.031413604278031214,0.004693173359684992,-0.07610390143975457,0.052512817754728984,0.06769286258198395,0.017877136666861863,-0.03292117617359581,0.001931979624455309,0.026202186815222357,-0.036706002394002964,0.03984424125386211,0.0872250170602858,-0.03603813756899243,-0.04537657933903762,-0.014662535437840596,-0.04692613613598617,-0.04698114273014919,0.03875788491341693,-0.06254768144093593,-0.08515699452161411,-0.048469748413324076,0.02307432926347709,0.021486566592478842,-0.08057092557124124,0.05514715059651109,0.06391752938563842,-0.05711260587738114,-0.05433436202531174,-0.017499141875669803,-0.01773265243841367,-0.06718190281902284,-0.02560200319884177,-0.08266353210312945,0.023165884683870396,0.07530840937361488,-0.0061099969275618385,-0.017934242568730954,-0.010693054889409342,0.029329985777645697,-0.014010558626094233,0.009916548464741347,-0.05120588124120078,-0.08096771031760581,0.07889864858211673,-0.009286960228365636,-0.058957813834462754,0.0498081121034706,-0.05086381565850029,0.08821275201133975,-0.00789459658199209,-0.08040168842132768,-0.0138148490787704,0.04286866021331352,0.07894446955968587,0.004395968480359354,-0.0787466505181991,0.051494100303450786,-0.0086883178278273,0.003764248832016702,-0.07838870370140762,0.06749598888211834,0.030587086438087756,-0.0060476445065719975,-0.08313939669111105,-0.004876764002388558,0.06237780487897056,-0.06909124456008754,0.060415833318140925,-0.061093023031075035,0.08616766729577346,0.015963768268473212,-0.008745030629170418,-0.027957746627436594,-0.08441269891185181,0.047469330752174924,0.05459260252876628,0.018855969205328345,0.07893150746309512,0.007791710004989725,-0.08765494046663429,0.057600548607282004,-0.03801442083269606,-0.06593930088519585,0.08794241781606346,0.04979227921519614,-0.042861558018660054,-0.04728987132051921,0.08424814279209,0.038030074013160976,0.07628004111993203,-0.022276175886206964,0.005716298232892179,-0.07898020558209035,-0.07156754247734168,-0.00960989607139668,-0.040546477387197404,-0.027880920225876776,-0.022847583965124114,0.012328122389353095,-0.02312517935890751,-0.0752513754372505,-0.057517301871163655,0.010093282618236924,0.005319565196479839,-0.0348582120842702,0.012077575003442845,0.03669357818917513,0.07679852739663495,0.06067501607150773,0.01021620597171659,-0.07528950542788729,0.0021810605735751165,0.024598060089465107,-0.04695412186014101,-0.07561080796653621,0.07126228602246447,0.015219539803544565,0.034897912141827754,0.07580679086598714,0.003732781866901459,0.0793133850504058,0.08741454354495622,-0.02703020926713482,-0.08658716715662267,-0.02970584341176249,0.0009834656663741076,0.05905532705906048,0.022453282282161216,-0.07787437850347002,-0.019637883211980706,-0.03516687520317654,0.008699546924195193,0.005240943290681024,0.05764560207088873,0.053130835108800685,0.03640742254361349,-0.08249916223685315,0.010546746945862726,0.012319778284288952,-0.07493220239282394,-0.015312958987023676,0.001532096231647313,0.059042333326488894,0.08219776192381631,-0.05310613621296572,-0.00939792142601457,0.0007787684548677946,0.017901455420814647,-0.007494589245990765,-0.014549965044036028,0.07490973209053338,0.049030901224517025,-0.029357142446294962,0.03460407026769334,-0.00563357615707445,-0.07911910493996385,-0.03321609259904802,0.0270581235863872,0.02345823460605866,0.0019386489607394245,-0.07419642391655688,-0.016433010730159035,0.023857155367965465,0.008271572100927266,-0.07346132915647074,0.043739590165081534,-0.0389472966064072,-0.008610337366655129,0.07715634792051666]},{"id":"chunk-7db5cddc-66","content":"We are temporarily blocking your card to prevent unauthorized transactions.\" block_card=True risk=8 \"\"\" This agent will act as first-tier support in a bank. Agents are generic in the type of dependencies they accept and the type of result they return. In this case, the support agent has type Agent[SupportDependencies, SupportResult]. Here we configure the agent to use OpenAI's GPT-4o model, you can also set the model when running the agent. The SupportDependencies dataclass is used to pass data, connections, and logic into the model that will be needed when running system prompt and tool functions. PydanticAI's system of dependency injection provides a type-safe way to customise the behavior of your agents, and can be especially useful when running unit tests and evals. Static system prompts can be registered with the system_prompt keyword argument to the agent. Dynamic system prompts can be registered with the @agent.system_prompt decorator, and can make use of dependency injection.","metadata":{"url":"https://ai.pydantic.dev","title":"PydanticAI","chunkIndex":66,"totalChunks":208},"embedding":[-0.0336099411205293,-0.0628710597418275,0.013853141482880589,-0.04539401761201458,-0.06404096126309311,-0.021058022837322245,0.017926036224670167,0.04021611919632529,-0.026826110477452876,-0.07107688448505962,-0.04000509964851646,-0.027395888651641553,0.08444923821312021,-0.025966820952821736,0.08266039708093112,-0.05795029446521905,0.037883268066198426,0.0038153842621477534,0.013266346648257162,-0.0840931789839031,-0.037424493921796004,-0.07422994097591988,0.009327815745266489,-0.00009991222058707588,0.024751262231774717,-0.026170570530091135,-0.04968105006310003,0.0715889805487338,-0.07323773450744041,0.008906019793354328,0.05329241584487254,-0.05749936788347635,0.08096591651439938,0.07225296699273515,0.011188539041485437,0.08224094939739235,0.044592495904999606,0.042646158720107595,-0.060333082835442434,-0.06148265525011888,0.03765119211468198,-0.029512932943611823,0.0032389430184149763,0.06586857332132857,-0.032889630650003256,-0.07146858668082916,0.014913960247881773,-0.048937237890337694,-0.05919036367453437,-0.011831226233565082,-0.057107627078047514,-0.003148359453872727,-0.024779024958382103,0.000626406386381859,-0.011513318929441223,0.011842754794748826,-0.07789274023177127,-0.06039246365120198,0.04527928154062003,-0.07499051410670643,-0.010021293495254588,0.0806848497483769,-0.023159009552769703,0.0764565092865406,0.06931070176777342,0.036440677422212193,-0.07037286045923255,-0.07378665819563744,0.04209618295680567,-0.08209233968238215,0.03861412963268724,0.018329132742435004,0.022706422632656174,-0.05691013286991692,-0.0593041186808054,0.06466952526766145,0.006732374493149291,-0.04864802936775028,-0.05895316423651079,-0.0387229243430228,-0.00092485496072143,-0.021972090353958453,-0.003599503478862988,-0.061324043944131434,-0.05566737159547955,-0.05567325902611697,-0.004340226801651655,-0.05787187915824584,-0.05229723402840236,0.08400078798806483,-0.01909979229877732,0.06882807534990952,-0.06398829260139188,0.08398366100347904,-0.0005831352654831551,-0.005109648878474314,0.0237468334432889,0.038638476546219054,-0.06590719956842916,0.03771919885209197,0.04653455480013929,0.03844756460197278,-0.001567158080476317,0.07358143181718364,-0.07365105823739088,0.003291561131896115,0.02193772959549986,-0.033895802648611084,-0.022404490052311807,-0.0005849050486862086,0.05041424437131136,0.041061158891048395,-0.08478287908670842,0.08754441078186229,-0.040898245699487495,0.057263984702216365,-0.008048372445085024,0.013957929082876928,-0.04496762837326147,0.039851095769455745,0.012521015367710536,0.021397428988865812,-0.05946370792874957,0.062058747278800966,-0.03809269578239537,-0.08099049932978845,0.0650068481388161,-0.08227763881769723,-0.05037620414789002,0.017494612781210218,0.010976450206016777,-0.03787630545550171,0.07489219780120517,0.04999577165618702,-0.08118030213445841,-0.034222743492962907,-0.07518259778372198,0.08459661727353507,0.001975294963976021,0.029815017639815734,-0.05222497887241624,0.05269935368542045,-0.0216851791247567,0.04664411338105208,-0.07926840301524747,-0.08781870429873735,-0.055605316959593976,0.04535574490724301,0.03048187607475035,-0.053467196285786146,-0.035917252925712205,-0.07198095387378843,0.038582128396379874,-0.0015516449128313583,0.029122752007373322,-0.005338515446381749,-0.011334191128615924,-0.05416382191023844,0.06023050795800492,0.018632204022440407,0.02001402118059015,0.050141090447067424,-0.084415782492186,0.03411083986241252,-0.08309939555530074,-0.06556051383008327,0.019243720857824703,0.03965674001860939,-0.06926849417221205,0.032163007071947095,-0.03794839408720375,0.05246450792799617,0.062228157893141844,0.02258773740739454,0.049569844003849124,-0.057949507841642794,-0.01196111143777189,0.000573616895833691,0.011608890402856347,0.0029832828843412455,0.08612524702394007,-0.01610817291295747,-0.059129982467465286,-0.07854752407376002,-0.07190238149601792,0.05255657138460522,-0.04910610826817791,0.03486819343849126,0.06252503796030386,0.08161069461957673,0.06141560919576026,0.025407007855393716,-0.04167123372947621,0.08513410917268831,-0.029656385077953804,-0.046161556520556625,0.07616630784131714,0.041584733910524516,0.05054959355272388,-0.03550861057244368,0.07944712887283324,0.010779885436677654,-0.012625786718237298,0.08442627493174333,-0.05922800503950746,0.05592547713777195,-0.006895365058370263,0.0376986164271467,0.06601085405653835,0.04592631420581553,0.010976546589544738,0.07644412191904768,0.07883277592533779,-0.0434224273405011,0.03163823965226167,-0.007547041207770712,-0.06069357790290429,-0.03207602959231879,-0.06416141567475868,0.049625394040734586,0.029808773631946166,-0.06584796372654718,-0.0851079771627963,0.014046201944751325,0.07124054169258898,-0.048570402345533156,-0.017767003942490034,0.017213632721451745,-0.030155307182938147,0.0479621144055954,0.0330476440549316,-0.001516665753676549,-0.06514518655341779,0.012807491704381025,0.0004842247725127749,0.023052646616714002,0.06896946141833629,0.0662206195354149,0.031903058082224205,0.03528994211289596,-0.08558357995306451,-0.03884478083108218,-0.05219609996279768,-0.047952087631240196,0.004450339798815589,-0.07863040666498912,-0.08649961596348653,0.08515192634127816,-0.06029821083082152,0.03544145440116176,0.006580675387310607,0.040861361100200985,-0.07291312794568772,0.00822564443341123,-0.07462089134026878,0.003045903498139299,0.051900791050923205,0.034529931709056653,-0.08525719971637247,-0.08516152410174035,-0.058668259800811945,0.03753936129111612,0.02143762975958427,-0.07495879363601424,0.015508695745328326,0.025129015389110883,-0.012353549319066388,0.008328816833029641,0.0587323947372082,-0.019170999854382774,-0.05940013909710484,-0.03857282560510813,0.07829234906104147,0.04866936258807332,0.0542298614950067,-0.06657614407683016,0.055493064544568094,0.051021463939095006,-0.05981593148085863,0.04765966907945578,0.018132796102703394,0.06417543219020817,-0.03593828241603596,-0.011615806588141793,0.08081213040161007,-0.058796065088343105,0.08135250037405481,-0.04134275010093041,-0.06792931741468716,0.01988636853236447,0.011742139984475007,0.027255128482325506,0.02644548779433018,-0.007337667570340659,-0.04933616782575846,0.03384614271577687,0.022367078482323388,0.0012911281530597325,-0.0520703609811086,0.0015756555978344669,0.02288867308506293,0.08081972663680716,-0.044306490942058054,-0.0030573750568220807,0.07722898192169468,0.06375659974170594,-0.045389353546344734,0.08744649577609123,-0.06367217670982721,-0.07935537908761389,0.0615327314226686,-0.004855906355299892,0.05119422419105469,0.0655795279520566,-0.017848430840263774,-0.07399155310003822,0.08305141795080336,0.06443003430900804,0.01955780659723398,0.01127743618949996,0.06314091952871231,0.014205162322281056,0.05926376848608945,-0.06716792898350592,-0.011138102228216892,0.07740141257928174,-0.06633008780740292,-0.01915351341024433,0.04814779612897249,-0.009943414821801468,-0.06746012002033056,-0.014525659401128776,0.030592386590697504,-0.05457605826469276,-0.07202993010592094,-0.08268958573958762,0.03480799687446286,-0.06859687880467534,-0.004328283365401485,0.006903219705648572,-0.004811412282410051,0.029422403615016152,-0.08749174355946249,0.07820455807427402,-0.011224749923034105,0.08601108524335271,-0.028494567679155255,0.06463798421252612,0.00437193807333466,0.054611442850464,0.08666731977127262,0.0010419398453816193,-0.0406595885300292,-0.028751000500819197,-0.031678740739957606,-0.016247757096548476,0.05105260346406719,0.023233478376951146,-0.07852121224634769,0.08303170041438965,-0.010314925587516576,-0.07081852812747773,-0.06599904144783394,0.051857457690945526,-0.05190086261654997,0.0720641596364493,0.009207145233756,0.03964652037023653,-0.011726714467771153,-0.07167830528210303,-0.06829852966019956,0.004690306419141378,-0.007371017800119398,-0.05968215513238297,0.037491675816501216,0.03348250316944375,-0.0592379478336489,0.040368886701510724,0.011460628292164824,-0.06217152249933198,-0.025626651358747757,0.031128993482503083,-0.039839196558231135,-0.049710904500396114]},{"id":"chunk-7db5cddc-67","content":"Dependencies are carried via the RunContext argument, which is parameterized with the deps_type from above. If the type annotation here is wrong, static type checkers will catch it. tool let you register functions which the LLM may call while responding to a user. Again, dependencies are carried via RunContext, any other arguments become the tool schema passed to the LLM. Pydantic is used to validate these arguments, and errors are passed back to the LLM so it can retry. The docstring of a tool is also passed to the LLM as the description of the tool. Parameter descriptions are extracted from the docstring and added to the parameter schema sent to the LLM. Run the agent asynchronously, conducting a conversation with the LLM until a final response is reached. Even in this fairly simple case, the agent will exchange multiple messages with the LLM as tools are called to retrieve a result.","metadata":{"url":"https://ai.pydantic.dev","title":"PydanticAI","chunkIndex":67,"totalChunks":208},"embedding":[0.022976237275850263,-0.008849928872578605,-0.08278399202459782,-0.006227862690410164,-0.06974839033601656,-0.006534311033611639,-0.0828930177604781,-0.05175844261773112,-0.014400298236472407,-0.02870979471063437,-0.00811714984330778,0.07985506245042517,-0.07064595952215291,0.023248751085444292,-0.05345646502595245,0.015509265566841877,0.038465567035051454,0.02933186384520658,-0.02238116944957968,0.08392652465192896,0.08062915498355423,-0.020528062631994734,0.012248985282226966,0.08343745974643699,0.045465096806686284,-0.07198249872172109,-0.019458606754745617,0.014436769045262147,-0.025875832652435617,0.030683637108299494,-0.0588009730274261,-0.004110182044042966,-0.07841034470898756,0.018659494300978074,0.08276167739991294,0.03549191406076568,-0.06853133721162932,-0.059253953431327784,0.06189974280914226,-0.026602155931505254,0.016061180082165106,0.06217456975220638,-0.027426808445654302,-0.06012141773549746,0.05126011016508219,0.0720302573963196,-0.047992471675879354,0.06679026294354776,0.07253757113898267,0.022023251377782962,0.029000300514073547,0.007428668658636409,0.08049764251235032,-0.021612523305569602,-0.008227908544832123,-0.05604436057975563,-0.04536533607528701,0.059549547150921124,-0.05808574453205807,0.059994358892563986,0.0540201338001547,-0.06467499937092408,0.0294084141887842,0.08398588415823491,0.047032391542892696,-0.07281406567791458,-0.038956604020522735,0.0680104361488355,-0.08538643173562951,0.022711968116637036,0.08724458411308428,0.07307451209379934,0.0727358456561238,-0.06378589520831063,-0.05121068588626828,-0.06903742310636778,-0.08187028848552838,0.03297058374196289,-0.04203530085559389,0.041543476357370074,0.08138045086724698,-0.017400313073094118,-0.03394115546140605,0.06986797919808965,0.06137067930010969,0.0031687977426654063,0.03508382098489195,0.06820452638420559,-0.048140697925521767,0.024231158021279568,0.003734156873473674,-0.021878956035112168,0.06562111924948023,0.05103934243868925,0.07257894956014535,-0.035965752053824476,-0.028548681376613934,-0.07571311937054973,-0.0036321010228816315,0.04989980670847306,0.004382521038256493,0.013553159031907094,-0.0005531887863048615,-0.06886871239031932,0.05225553832831872,0.010102063797727795,0.0628932785374993,0.02858815379567818,-0.042337768034993506,0.07394967447121131,0.03344734431664501,0.0012576341457883708,-0.05834172776274261,-0.0683676744154634,-0.0032879595415941727,-0.04290540876997793,0.06093453333731166,-0.06049776539648204,-0.017280741631333335,-0.07015257075124741,-0.08516703202848165,-0.016354065309157607,-0.017747981065789207,-0.050485757487954495,-0.009627691371644459,0.023603792986419982,0.06776708082058622,0.001238726383585243,-0.0512635452769823,-0.004808589204796511,-0.026288960563697356,-0.00251782814077994,0.08406711012855299,0.03218533956863316,0.0738101358047644,0.07153950747424834,0.07571124909532811,0.07775399898380178,0.054211291036306716,0.0032597250673358506,0.013630744924686503,-0.020716513478209384,-0.004069247405272811,0.04130813883881815,0.08265330933453206,0.0704618319626653,-0.05005459472415943,-0.022725880884204526,0.023819375535290746,0.07076251957045604,0.0794933824303961,-0.07339150427122144,-0.0037509557383497835,0.06859759323422983,0.04568076179856646,0.04990195711842438,-0.05028946990843027,0.013299019490754523,0.06938964565454087,0.02029375913954583,-0.06771310713583387,0.030918951020616956,0.0390169738465039,-0.0021185876664476366,-0.07856146231422889,0.051432425963443516,-0.024070065172210938,-0.07469022390447938,0.003265326758998639,0.06660641959306705,0.02528098216919644,-0.04964632461240477,0.027772888119380796,0.029332090010682568,-0.04410870950906504,0.07896328801502628,-0.07052962688739177,-0.07086669227268012,-0.012080880952686083,-0.01153054268331087,-0.08205292775463485,-0.0759867543999783,-0.019604865696806112,-0.04083893316489747,0.03536915286479871,-0.037591431538917995,-0.019277290579115747,-0.0869332899505478,0.01809905425576037,0.06438100854875271,-0.02479769752871732,0.019932685139739732,-0.04068741865584615,-0.06547970713148259,0.08079902829610194,-0.03744852682597039,-0.004691491820935041,0.08647108394122845,-0.010567812784964227,0.02962060842323965,-0.06238754702132997,-0.07589573059369169,-0.03656700688776125,-0.08593656064526856,0.031350723489435475,0.025302792264024446,-0.06169116849551671,-0.03501484016032706,-0.05231756953287025,0.06581062960687745,-0.06529092917861318,-0.04074540011184511,-0.061666269722463266,-0.06093973818857867,0.023581624152416183,-0.07561896523529822,-0.05431488253911734,-0.07894748566525595,-0.026402381917887883,-0.038167126879990854,0.023104523482826312,0.07491967785686691,-0.07730686034974528,0.0724640963079035,-0.06580034005119238,-0.06149094967862228,0.033315485803917654,0.01688490636733019,0.040400913233774496,0.04367044298898749,-0.05898954448792568,0.011328696906181645,-0.009353853692640671,0.00499565689583246,0.08131651917670059,0.05601264279903373,0.024852163870772506,-0.054614611048194706,0.06857036378237182,-0.0301311097819187,-0.03718155846814839,-0.04838036213545896,0.031861371307017466,-0.06827280538868526,0.07993730469948847,0.022788000048747238,0.03918276505287345,-0.0081327751971448,0.00031830350461894557,-0.08691750933914422,0.02805979706386722,0.012340541411130626,0.00329450181476027,0.031672588382002625,0.02970572106520036,0.04165501368849258,-0.03489426074589063,-0.004739146409720296,0.07213253219869517,-0.06962882884980344,0.051747847382160705,0.012428317000384877,0.018901967687505287,-0.0023126556137047496,0.02229332622445774,-0.04848784474077399,0.054592702396310915,-0.03526988804519022,-0.060283772631798,-0.05657862868554012,0.0441631157909085,0.010426396009691752,0.032300580194754555,0.04181706611141467,0.04262814180184514,-0.019842779399871273,0.004814615593004513,0.07756723550805177,-0.07686787368066411,0.08225665863201052,0.0353948055835135,-0.07919259265168281,0.04473683015642828,-0.042363675215186566,0.08221630009152442,0.01459989507214184,-0.011077447849489625,-0.07682555240524544,0.024750668138840907,-0.03404283225375837,-0.04531644267790245,0.08032164345945862,0.007936985956845017,0.035839757795450226,-0.04634392346687602,-0.02985024194240839,-0.07756438193274971,-0.046239503000441204,0.08076388533212309,-0.012757653529956762,0.07768610195505479,0.06298685838276732,0.0048767158911772555,-0.024745600203598086,-0.007172358120830561,-0.05676658002689433,0.08397767084187079,0.011615888767020967,-0.06443526737630612,-0.08140331784891,0.03322714448749994,0.00860836672207686,-0.07463784276956989,-0.0633419920761103,0.019811799861397472,-0.05069442997307102,0.014481771080677415,-0.04898282580437268,-0.07525871077838564,-0.009554643625424842,0.0652765009983536,-0.05930848977344474,0.0331548802437836,-0.08031435629172419,-0.01858080767874473,0.02947666099550857,0.01139655765375498,-0.06500950117542527,0.010157566137300162,-0.07644267892711584,0.0276062572383575,-0.004562649414665244,-0.05303058529103079,-0.06299816115495316,0.07015929294841797,0.005874833375553869,0.04727219082577524,0.03295355942198572,0.06288449668600288,0.019872679171018818,0.06593375284357107,0.01222500168108162,0.08313606643732568,-0.03814464397841049,-0.08080184336805336,-0.02982162002158045,0.0069130480002886074,0.0658388127326769,-0.057697944811737685,0.05542117322292666,-0.014457887799831332,0.004439402304169126,-0.05291157792543848,-0.01534374665696763,0.034713121205627716,0.020657835976536056,0.05762386245825363,-0.08370452934386229,-0.03274362084449998,0.01856436118908944,-0.009803903374787256,-0.0591378886112652,-0.07123166704664381,0.037678453268054475,0.0012946003736251334,-0.044785990620474156,0.06595254000713702,-0.08416103209574824,0.028928997109161823,-0.08647259938920629,-0.02918429204199288,0.08668620070561384,-0.07012797402517183,0.0287047225889856,-0.036297153787117134,-0.035484190312036534,0.021682548787631314,-0.056146406889374986,0.043532083546826666,-0.054074515209375486,-0.06429042180171446,0.07052159282748885,0.0014552640360090215,-0.008014149182653415]},{"id":"chunk-7db5cddc-68","content":"The response from the agent will, be guaranteed to be a SupportResult, if validation fails reflection will mean the agent is prompted to try again. The result will be validated with Pydantic to guarantee it is a SupportResult, since the agent is generic, it'll also be typed as a SupportResult to aid with static type checking. In a real use case, you'd add more tools and a longer system prompt to the agent to extend the context it's equipped with and support it can provide. This is a simple sketch of a database connection, used to keep the example short and readable. In reality, you'd be connecting to an external database (e.g. PostgreSQL) to get information about customers. This Pydantic model is used to constrain the structured data returned by the agent. From this simple definition, Pydantic builds the JSON Schema that tells the LLM how to return the data, and performs validation to guarantee the data is correct at the end of the run.","metadata":{"url":"https://ai.pydantic.dev","title":"PydanticAI","chunkIndex":68,"totalChunks":208},"embedding":[0.042551325735224924,0.06426946130926658,0.006399998881213015,-0.009822943813187142,0.06598814554893062,-0.08586839250180764,-0.049218673854659965,-0.08288270051665896,-0.043035419647568095,-0.06882252449487455,0.0629786584846815,-0.08394580658211796,0.030047043241907247,0.07199608700701529,-0.04564140250399759,0.07558150441488423,-0.053930113832236004,-0.06389877088534515,0.012347322876642758,-0.04055880112604134,-0.06798388606265722,0.05248181867403711,-0.025698371069850977,-0.07234160524067389,0.06220325472286875,-0.0642114298208991,-0.009309683846504806,-0.06485792883770473,0.013680313156441635,0.03722859239712707,-0.023708211462331038,0.0028601080392400375,0.04315710630990388,-0.03269241041440943,0.032897652380359216,0.07707127030622127,0.07433920774491146,-0.05519030676660794,-0.020002067348780992,0.02741462606420782,-0.005183054461948865,-0.0757971718572535,0.0631150057193655,-0.039036873862560335,0.06115517011419373,-0.03646061222842847,0.03518628228713536,0.07600714707925228,0.0778686452506614,0.06855752527717977,-0.07607029883518386,0.04963041790821923,0.0467195625718705,-0.025359897219261962,-0.014966424773108876,0.03834909218369464,0.008389639710686783,-0.016411600360693227,-0.008413157001014394,0.08573374155863604,0.05435059125664037,-0.07075132169990737,-0.03476425040868781,0.0642497257931644,0.008622645723532768,0.039567216824910934,0.023919779283917832,-0.08306281309595097,0.04483511621426222,-0.026251739287059647,0.07338333108593717,0.07594431710195397,0.06490843044439583,-0.005685746912387624,-0.027130757489717806,-0.03691006966009323,0.02487175683468765,0.06804263550758166,0.01941900801951602,-0.08163108782244685,0.019181738232899464,0.003982414895592554,-0.04932875281632843,0.022484146627411838,-0.06364637220982902,0.0755782101698465,0.024319360179300014,-0.05526072920282724,-0.05776101770357685,-0.08537280063344478,0.04352426066564388,-0.08437593899877632,0.07198941292540025,-0.025226681929348547,0.018994469882722798,0.003536577480006371,-0.03392274237216011,0.012577594573140739,-0.07300731771104194,0.05704315090744332,0.054951408616605156,0.04472335549449253,0.06664008765570517,-0.040558945159855773,0.005139432381969731,-0.05579308483531499,-0.045337731938128685,0.0005438617833070444,0.011116267731998728,-0.08499465447731074,0.04089235973834696,0.024250518861651738,0.04313860571077597,0.08290700405283512,0.0033797599583939874,-0.04723327402109015,-0.0025366209609411477,-0.04349355791706311,-0.036996532164948664,-0.07486128367402164,-0.01278093260935824,-0.06793270201185288,-0.05818386924187278,-0.04513985514252796,-0.07774577305259175,0.02289955426294527,0.07802492015554778,-0.00073229006733441,0.01827143094346536,0.05233851785390946,0.05660255569856284,0.035416003285356344,0.02617190616588813,-0.07753818961859306,0.0409685158896612,0.03131988627020287,0.044626604894834554,-0.03204330947491951,0.05722162283596836,-0.04642122236503852,0.06873169146141113,0.05237543873458478,0.06003902333350245,-0.03645476553597955,-0.010734313937784836,0.08286705500734254,0.015133383270740142,0.05008780353368604,-0.027683541324294677,-0.026102152042730083,-0.02860303030982271,-0.06227342407780569,-0.05440231551718485,0.03288196249901851,0.029371701118296057,0.07229841986197265,0.047557060018330065,0.08564027840255699,-0.04322001861791061,-0.08035937373582594,-0.009963482589970546,-0.07872077850566903,-0.06242767496708762,0.05397373702003978,-0.06860126239545167,0.08490574344748128,-0.019488583209915252,0.014396759855050744,-0.05210551835105134,-0.0071920800529188,0.015963645700875773,-0.03510000883980498,0.0774791463961083,0.029597556695899405,-0.018499765270521846,0.05121694401007685,-0.03571953848659507,-0.007883662008420911,0.037077043736523235,0.08375240178007841,-0.008098876292765058,0.038660574904590975,0.03228171251274972,0.07466321506201956,0.019232402395051484,-0.07098820991094194,0.03829149031472298,-0.07850986502640052,-0.024447501730441086,-0.07434520997268093,0.01737295704605674,0.021795325353528357,-0.042704161979996366,0.01113077705153374,0.006255383417199987,0.04536254517643944,-0.009404335629085001,0.05806580841414346,-0.006642922817041044,0.0559362646657363,0.04853189961863852,-0.023236336108877795,-0.06245973314539342,-0.01397439694667628,0.04889364533948272,0.05824261748972919,0.059703316214434615,-0.002224295492906378,0.031076906003971547,0.018361060674003737,-0.028760697222426468,-0.07533865969893912,-0.0842496142173695,0.07732243363628322,-0.06454425440578612,-0.07337284898940638,-0.049161312956000375,0.010008230424992938,-0.034982775619609954,-0.01731206271891312,-0.07505886476232068,-0.04349224669083125,0.04140825857742441,0.0780347439458338,0.08207859290525747,0.005114850762611592,-0.06202692223032645,0.024962189204904825,-0.0009271115335743754,-0.005749773532930847,0.03259778047600943,-0.0778562313070449,0.005824815946309628,-0.08221265814262103,0.08145742480846273,0.05551051797805235,-0.03867582700597625,0.048604648388268175,0.05010135397665427,-0.023717266155602535,-0.019831190081663043,-0.0000018049647692584455,-0.06330654867725637,-0.03012237332175058,0.03650562416269728,-0.0764655327159847,-0.05022969994357672,-0.010894707280527932,0.007873040327395319,0.019948426403986454,-0.02441857730065656,-0.0782664101480805,-0.05680931498890868,0.08579888495104103,-0.07805997424208293,0.030063544166888105,-0.010022541245920146,-0.07676618503363006,0.007637308818174773,0.06410332400829755,-0.007941506145612207,-0.003939531250668172,0.0007332314568981953,-0.007299985921819988,0.07668533314770166,-0.006708475764984985,0.0635179979356912,0.01913628608654802,-0.03362441555481378,0.030125590472194763,-0.05947745355408733,-0.020294211009806582,0.017492689462626672,0.08284494824630044,0.041339814593818934,-0.04329532775063043,0.07218981640567151,0.05953715327483514,0.043275253043601,-0.012490666743620487,-0.014519889790846953,0.07891034149846066,-0.07844885411436603,0.07267651329011189,-0.07920015714266469,0.04039128736905354,0.03536903073892439,-0.019005306253253716,0.0019248076261082407,-0.07894421636313374,-0.002268111054197107,-0.06161807045892733,0.0452798117211446,-0.02431633716631005,0.020543307485478796,-0.008849426186236055,0.01403899387944407,-0.048544181829405654,0.012757134809744797,-0.01435115072965734,-0.009953628613950664,0.03890135328456504,0.05921503767545359,0.040193276959254516,0.03789812592025092,-0.009919552944601805,0.08210361359237116,0.07185482829206427,0.071304283213918,-0.06433509973607937,-0.05934223127084475,0.08417984023485435,-0.01494775564670546,-0.06811700242323836,0.0339898199574434,-0.05801406229445348,0.08377325053223339,0.02943484544673312,0.06273300317804657,0.016306760866922163,-0.0054474020823626675,0.006748243154189163,0.08339847053066232,-0.001410873464743481,0.030674002282318317,-0.07776576772883005,-0.04382867298828345,-0.012297656373225415,-0.008606427442470643,0.01632887629350512,-0.0516809262598523,0.08372245050748248,-0.0647569078124705,-0.035423209973825164,0.08583763018408287,0.015673367866259804,-0.005311018063262032,-0.07772353302695978,0.012988903576855742,0.026848720893007005,0.0731907116413866,-0.03117326664065771,0.0791387552626321,-0.036810020978637,0.07994056173098976,0.07126799176114182,-0.08293592229301476,0.034762625141161775,-0.07493830088993812,-0.005770142576486647,0.03016267110313864,0.038487602002952384,0.07764272201513013,-0.03843977337513478,0.02696679087547041,-0.0667548911319583,-0.038677661880130436,0.045458183001363964,0.04026933488247459,-0.08494581683134442,0.0349362544169532,0.013138841837135758,-0.07747195339067242,-0.0802766522787523,-0.06248509974552219,-0.06767013628706664,0.037885039150200465,-0.07512904314651034,-0.07465113657850225,-0.08444441552580806,-0.027310956022929288,0.06387854994209356,0.026378548433313984,-0.06284028440148351,0.023516096493966406,-0.07223833675758277,-0.0007770609844266334,0.04949423437474337,0.046350767178571985,0.05821382162282222,0.03413868220854328,0.028694616867055135,-0.056420634653441916,0.022067412514977878]},{"id":"chunk-7db5cddc-69","content":"Complete bank_support.py example The code included here is incomplete for the sake of brevity (the definition of DatabaseConn is missing); you can find the complete bank_support.py example here. Instrumentation with Pydantic Logfire To understand the flow of the above runs, we can watch the agent in action using Pydantic Logfire. To do this, we need to set up logfire, and add the following to our code: bank_support_with_logfire.py... from bank_database import DatabaseConn import logfire logfire.configure() # (1)! logfire.instrument_asyncpg() # (2)! ... Configure logfire, this will fail if project is not set up. In our demo, DatabaseConn uses asyncpg to connect to a PostgreSQL database, so logfire.instrument_asyncpg() is used to log the database queries. That's enough to get the following view of your agent in action: See Monitoring and Performance to learn more. Next Steps To try PydanticAI yourself, follow the instructions in the examples.","metadata":{"url":"https://ai.pydantic.dev","title":"PydanticAI","chunkIndex":69,"totalChunks":208},"embedding":[0.017255923036449933,0.04838185340109174,-0.058105046929758784,0.03664247861686904,0.016527275113191034,0.01597951444348863,-0.024223035481289016,-0.02586534633342551,0.02685048383010961,-0.05781431426220649,0.0768754848114378,-0.07917473366430822,-0.017056875045847034,-0.07625459293002726,-0.0029552490997870533,-0.08103568765928669,0.05672210276140816,0.06032924612376686,-0.04781117075488919,0.038093824600971216,-0.0280716957495695,0.05187818996625666,-0.062054480098785864,-0.024987638094127386,0.058490484909134395,0.07758677011691413,0.042928062187281575,-0.004544247881817122,-0.08472685119560865,0.029987223509324427,0.01947432792428543,-0.06873963941806803,-0.07526992415340936,-0.06564600973979139,0.07892643332471318,-0.04180171491174488,0.08096078266702893,0.04381505868303034,-0.018140467672171416,-0.04239918041507216,-0.07201394425245089,-0.01040275884044226,0.018398130517462395,0.004933845891735261,0.013769102758513873,-0.036088851243562904,0.007426975622048366,-0.08248652691791118,-0.06448294802290912,0.08372191808762033,0.06682881128861046,-0.07493025943524965,0.03087585770988679,-0.005269058668485586,-0.052875327861193436,-0.07156122767187773,0.040772824786166915,-0.06755101636901975,-0.03962029483582416,0.003929211996928742,0.04451033620837329,0.070193764153135,-0.010566409777117853,0.0780566220921378,-0.04914018478666803,-0.013899883107883078,-0.04629112839880407,-0.03800151038352364,0.03432667358795876,-0.020886829320107256,0.048230531314088325,-0.0815426175350265,0.07679124896162612,-0.012492112891672973,-0.004131475744974581,-0.06483795144555778,-0.03786748342259169,-0.028695700224946004,0.0026139439271365937,0.05788393464516486,0.052431679894315894,-0.06100113856710169,0.037814043660879905,0.028794814095300967,-0.05147064433321036,-0.06897802376243634,-0.05237276269046228,-0.023856276802483187,-0.012345695167270895,0.07424599949047048,-0.011879294765574692,0.0585563557806867,0.005746625163469558,-0.001031557943192078,0.0008401369496690512,0.0596048314783168,0.07236671163046289,-0.06796123016468242,0.0012335428020679882,0.02128928504319632,-0.03496546578201224,0.07137122880376873,0.052949120809900524,-0.04672162484911513,-0.05661864954088866,-0.08121317412142907,0.08637331382803731,-0.01599233394128602,-0.059975916450399985,-0.06571845749726862,-0.011737232209579156,-0.07254693873817103,-0.07371059062361734,-0.029475886626177093,0.0755490780211575,-0.009893415467533286,0.045009867735430156,-0.06664807350813809,-0.06179705089360193,0.05898363746143806,-0.009744902490788174,-0.07987734132099573,0.055086960943871825,0.02507788522796071,0.06991998190067918,-0.025414826637266578,0.012606516660091374,-0.08630196387718966,0.07760806814426043,0.0030957218775591504,0.04061067452389035,-0.06209613823798255,-0.05343922871801261,0.032796075317398254,0.04845388480799214,-0.06739551430452861,0.053672245755517725,-0.05763347410982194,-0.04030108579076318,0.033851607253985234,-0.028443765767966863,-0.08232075178298964,0.06300799666611034,0.03227480281946646,-0.061784607766697516,-0.000830532057904741,-0.07578777387186764,-0.0696386623811974,-0.07939768279064907,-0.04457877206125359,0.07948138240363742,-0.06443233704356285,-0.06274317106536235,0.06031428757719425,0.03400951367962269,0.045125410569357746,-0.08420788483039801,0.06016784267560328,-0.0475085691052748,0.029705833532850102,-0.016077069602297045,0.0385652259204458,0.026303674617039852,-0.033789735834314376,0.012286327693903825,-0.052156181571385074,0.05386563632553206,0.028272311037790633,-0.03473653378944306,-0.012770820382177443,0.08475224603978279,-0.04537885194976091,-0.04004471533250475,0.02625885017652853,-0.04625589591631616,0.07220192209695744,0.07095968367036097,0.011578732869514422,0.006973849180927557,0.05012866895071761,0.07884535948125367,-0.0782624585494284,-0.04769449215594575,0.022532100520053774,0.06733652102945845,-0.05766413053792918,-0.0435858929616707,-0.03264700786076204,-0.030138421866714223,0.06605293847535768,-0.08481664755554777,-0.07440668534344344,-0.029347198928452455,0.010790717871580435,-0.021810653395134133,-0.060690986886754325,-0.05977133318203592,0.009257549564875246,0.08345629063708616,-0.029842951347475274,0.011400401059032417,0.08338199743783219,0.025272564015845433,0.0293848940437115,0.0575877379763447,-0.044416394112847174,-0.07866321980973243,0.011989075911445268,0.03125404940303825,0.04844379063631599,-0.010587421831748718,0.06318505078595964,-0.08370216924091968,-0.013481115667330276,-0.08614925391744628,-0.025059353280408824,-0.06802444862596216,-0.005998925957042999,0.03529045066550074,0.04230299031462176,0.022439281388699946,0.009516783267113022,0.028002714424405946,0.0570578398546027,0.08098711801599502,-0.05500002889075646,-0.012504485252559226,0.027275615655724374,0.006781350420826905,-0.0032659085273094553,0.024355982557778946,0.005539320599469229,0.06950094919663091,-0.06962360994453065,0.020879674323495034,-0.07061616606729106,-0.08477351041614965,-0.08425425233296989,-0.03511603028557954,0.0016793803211429112,-0.05355416158733629,-0.05510547330438258,-0.043708124959397736,0.0495607577626014,0.04882938001767428,0.04834227985665881,-0.05176482189234618,-0.018822342863743326,0.08427648790082931,0.0287127647905111,-0.023714441746580897,0.03264691228241968,0.050024489255057765,0.042841734885754504,0.025135839567086368,-0.04723905034912093,-0.07192173264023287,-0.01795352335112243,0.023989076600189,-0.02919746064794287,-0.01580594611610539,0.07286348740860525,-0.05802588821261269,0.030300496826514502,-0.0187436941521225,0.025364458957323595,-0.07006244303549747,-0.05473895828496271,0.05998846636620474,0.02016692622940392,0.07403699500671639,0.04954384746346752,-0.04437219426885687,0.07164424354954553,-0.08180271408991194,-0.019871739342000146,0.0737144255462484,-0.05795619939633813,0.06324840036669145,-0.0678602589832761,-0.07799023277427128,0.020069178210465874,0.04905300415187382,-0.04392595801816659,-0.04674900780384632,0.030958395257360244,-0.008908530135113637,-0.06118480684857097,0.03679221857589546,-0.03686573591827184,0.06725467388871206,0.04995026608420245,0.05525592025367794,0.08364935841541643,0.025468874329171904,0.03738992270761917,0.07130135998852305,-0.0752468537978296,-0.02138498654221899,0.038875670466751416,0.005803506761502502,-0.01659467531098045,0.07448388614461,-0.061802077944971306,-0.0658147841904571,0.08366367822873108,0.022385184780610853,0.04541082624422794,-0.04536881403391661,0.057707804116760075,0.04988127923397013,0.05254997494130271,0.01591017704785272,-0.01758199326990099,0.047702094875947364,-0.08229520616884219,0.07950164017471606,-0.015041210457157566,-0.018832859239219246,0.07039385743292172,-0.008015730503855597,-0.06797229861091185,0.037019638512471136,-0.07573179429236668,-0.01409353049612404,-0.018004357685136002,0.06728221817615905,-0.018389203953237652,-0.04217598332182055,0.08528393181734176,0.007765209266872033,-0.014730499564555364,-0.015928223001752718,0.00867649160427327,0.03633411037048937,0.054626754264247186,-0.03813557464472486,-0.05374168051551026,0.07624141380765835,0.035375052145820866,-0.07530061610166942,0.03361745377494609,0.013306725185535592,-0.028142465263004346,-0.01811143981092832,0.00018696916098723246,0.07035919734504191,0.04588986541239963,-0.05464743632264507,0.020274577052270423,-0.06642642565392046,-0.0760295708766789,-0.05032859532168403,-0.06796051150783679,0.033165946383589405,0.025127740898951215,-0.05101716895989438,0.012873648848242393,-0.08288442042044497,-0.021265132600145766,0.02514267670962206,0.07339772237331327,0.03788154861642274,-0.06304040711993336,0.006691113974258505,0.07699610174789329,-0.06321758173802527,0.0691053575284351,-0.07096051999811756,-0.02131033085630405,0.029103673712857738,0.08435113269466803,-0.042817075824409134,-0.07433833271443771,-0.0007370791967593696,0.01766344131478325,0.07244348615445778,0.019941078614869785,0.028083655381370413,-0.01303151286673588,-0.03155961257011642,-0.038649875519192196,-0.03685988142187741,0.03570717145740616]},{"id":"chunk-7db5cddc-70","content":"Read the docs to learn more about building applications with PydanticAI. Read the API Reference to understand PydanticAI's interface. Version Notice This documentation is ahead of the last release by 2 commits. You may see documentation for features not yet supported in the latest release v0.0.27 2025-02-26. Introduction Agent Framework / shim to use Pydantic with LLMs PydanticAI is a Python agent framework designed to make it less painful to build production grade applications with Generative AI. PydanticAI is a Python Agent Framework designed to make it less painful to build production grade applications with Generative AI. FastAPI revolutionized web development by offering an innovative and ergonomic design, built on the foundation of Pydantic. Similarly, virtually every agent framework and LLM library in Python uses Pydantic, yet when we began to use LLMs in Pydantic Logfire, we couldn't find anything that gave us the same feeling.","metadata":{"url":"https://ai.pydantic.dev","title":"PydanticAI","chunkIndex":70,"totalChunks":208},"embedding":[0.06995917869292044,0.024774931989859313,-0.07169014416869474,0.08543319496963964,0.00347286376150647,0.058839626831607206,0.01876919356942903,0.0368815064957099,-0.04559524245028396,-0.08128207613772478,-0.07252826319325523,0.012683412329713836,-0.03936380209844382,0.07842915703149185,-0.06237891960330028,-0.08145579009216482,-0.002537495623435369,0.03026329333575164,-0.06693213647826989,0.03584761962620388,0.052959131001679906,-0.0036659529033122927,-0.019058198496617853,-0.027634800008352046,0.08109930177529637,0.052656332566984654,0.02560527730655097,0.046402236349522084,-0.06743536196271425,-0.03664701682196451,-0.07570725577375154,0.07763542039079743,-0.0016116409846141527,0.06717359157545408,-0.08072397378892415,-0.0631151854606996,0.042688773266976884,-0.05283936349477952,0.005208964671997803,-0.05375236933750427,0.011520102239989258,-0.008403106906395612,-0.03519698289836431,-0.03845468327972363,0.07259158749106588,-0.08039952538406818,0.04390905664178127,0.06540052102017399,0.07379623961107286,0.06193831888195065,0.018234007608572626,0.06186288763174061,-0.0224098216618206,0.03603551825067729,0.06927499300569366,0.08073540481063735,0.08083284340364186,0.035174329484515286,0.08333560982140145,-0.03012220720874145,0.02359716006989315,-0.016275872669863446,0.08375353074787349,-0.0687396847350995,-0.07613095335283734,0.04306176292384558,-0.059200723823016596,-0.04652281193657235,0.04134217867959885,0.0785207636771475,0.04424029836968229,-0.03879379656313866,-0.0443873269775957,0.0586922180958621,-0.005282299704451333,0.08575587911961086,0.04312652887621882,0.0613652845449741,0.0384834302265663,0.0042026389554962375,0.02836165502932166,-0.014049674220881513,-0.08271705211572784,0.008285932404239716,-0.046729979624254986,0.02207273060429551,-0.06473189005392972,-0.01008739196096818,-0.020073333373669386,0.06467001588702426,0.008037093136507538,0.03181543188859948,-0.03605132445959729,0.0562903151939253,-0.025663755981091368,0.02094158971798686,-0.013180775438591719,0.0734673914512986,0.008002667523476645,0.0231244950964029,0.06812714786735859,-0.053824051930126196,-0.03226709029730691,0.01255191068110434,-0.0014099276777019933,0.07687064687483443,0.0500497019591656,-0.022873074847821126,-0.05843635918548914,-0.06054688589951084,-0.008210074456986856,0.024905818695589783,-0.01974311206728735,-0.050666124235249695,0.07515296763686899,0.05822455953011486,0.018681904655967287,0.042855727098962966,0.07737889523768972,0.0041928021225892155,-0.04907555586346619,0.011158029298946113,-0.05644813453174612,-0.05989699877119369,-0.07233546103370526,0.035034085804836086,0.057557826768522384,-0.06595534508187177,0.0784253741529506,0.07001960502441187,-0.07250272542420515,-0.0034643546358576237,-0.027292189648949916,-0.048763226139724294,-0.006143999281473948,-0.02292913379320473,0.00973122352435807,0.03979039378373204,0.0661832512147458,-0.07652316294015776,-0.01450739359078551,0.02532914227364134,0.07890033534403094,0.007616987686102484,-0.07293877041130407,-0.006635182417474817,-0.05863522063293369,0.0432576387035209,0.08549711530223444,-0.041868393246323264,0.006360318110850936,0.010006860060072871,-0.05868545754528807,0.029627114443960236,-0.046870610089754454,0.005860327287124134,0.06955467960990278,0.01754261543595972,-0.045092617813133305,-0.005309008025449269,-0.05739504891800136,0.07889651044931727,-0.0034395647375040778,0.011092883639825224,0.07610835123439509,-0.07889430352484943,-0.0253462302598291,0.07983236237398195,0.07969116100395927,-0.0745943006639202,-0.08179324565639101,0.0750350934094755,0.0401051001977444,-0.04594016925747893,-0.06612464011782594,-0.017831290758347468,0.0593652488105178,-0.06755491112162902,0.001964503282757875,0.06585278040850744,0.02982090164932385,0.010498809776582277,-0.04418139912113354,-0.04881401407422219,-0.023147734270585203,0.05819554707559743,-0.07235157353475505,0.029733631247724424,0.0071143589237588475,0.013894214207852293,0.009858127384796803,0.058527726366024234,-0.06984422174838376,-0.03436606091254111,-0.0451399118948137,0.038912063653388056,-0.06931460944975822,-0.03204375186095928,-0.011257770836517685,0.06042120301293947,-0.036067534904033256,-0.05388360540537401,0.037190271584061234,-0.055143286457270374,0.06527927312042854,-0.01488353891225882,-0.07850541553711993,-0.06005170392347232,0.08341264640143738,-0.03199299518040356,-0.04536927970554666,0.06904958172662966,-0.03830002872881275,0.005400050612250099,0.02580311407726393,-0.079325120539165,0.008446576803256929,0.009942349759616491,-0.05310916839984535,-0.05226526558145011,0.07601340615587991,0.01656674150600043,0.03279226324637392,-0.05443518619769893,0.0153512427957048,-0.033358096711072587,-0.0050189896030988475,-0.059041710066689894,-0.03601963994213287,-0.006280929428011786,0.061915151574047325,0.08514545999777155,-0.031665137546415326,0.01732020640676285,0.006307645850913833,0.05473768413301687,0.040343604283836994,-0.07955622253414847,0.07028268259290048,0.07290975064354543,-0.08286497385826191,-0.0741722038403371,-0.08231317355408564,0.007965043639700261,0.00783404183559777,-0.0846942772641109,-0.013952854159642564,0.08280656758368067,0.03490827031251721,-0.07535296912529689,0.021573880468083166,-0.030827404125817495,-0.017656482818367576,-0.016279172007523508,0.05096711506901869,0.07058997406277283,0.08545469019128378,-0.06606904950367348,0.04497876296403699,-0.005375273351631447,-0.018971419377672494,0.05617893870029244,-0.04086187370750774,0.06671945826732785,0.031237109328914325,0.039392797954664785,-0.08579469076027874,-0.04690820109208949,-0.04247936442262347,0.07900709292020675,0.018341101291334216,0.07442974133109075,-0.05020170327626007,-0.0017905179371865533,-0.0449793303209099,-0.002719287336593634,-0.011900329309314488,0.013204222551323256,-0.0639370344964817,0.028106919278469557,0.06183676141086873,-0.011459305418738169,0.010342250263918997,-0.051274872376643375,0.08040959251506556,0.07446083891833927,0.07613025498596576,0.01274488497344517,0.02868913787047693,-0.06693800564402005,-0.017359409523467838,0.06527518530159705,0.01676454062531186,0.06066325813355472,-0.05083123778477775,-0.06747891341029777,-0.045218474301772164,-0.02765182537737155,-0.08618047687915006,0.07489055463134059,-0.07150724500624316,0.05964547737818339,-0.014817857164279262,-0.04155241360098171,-0.04473351690571243,0.08362480927966208,-0.03668002787437421,-0.0044066718390017605,-0.06630553993196155,0.009019920202796463,-0.008916294885086457,0.08043561249767561,0.01998952027240066,0.0013656287347227844,0.033076935787389045,0.016007986566956633,-0.0629341826670635,0.06545244929034548,-0.05772112160579693,-0.06549054543988712,0.0715350060244362,0.011110054538442802,-0.0232730207595073,-0.025300079340778957,-0.014825937099464061,-0.008758038096812117,-0.049900740607320665,0.020316285759272412,0.08296248067264497,0.06772331163151346,-0.061804521241550905,0.0667094392591918,0.026491217574413837,0.007429434781337404,0.03566976810461016,0.06601313426505556,0.003614361682104272,0.039203343877727385,0.04638952377506704,0.008666642306001856,0.010189760551256786,-0.06216353453181698,0.05517376989806396,0.07238747368600457,0.0028602260353841075,0.04176726681906319,0.028280881725221616,-0.009237841298992577,-0.07158693957692436,0.08308703646359346,-0.0477503242912552,0.08057217042778379,-0.03549144073314678,-0.06654660901448647,-0.08143954223923706,-0.025282317927106123,0.021699812933690735,0.07723410709664144,0.04647732967163689,-0.0527639297959515,-0.07161986708904117,0.016711485903226325,0.014239319627867973,0.0653559634424114,0.051514776249255205,0.020600860662919808,-0.039029103091379,0.06282192969261076,-0.026734505409135318,-0.0776121667033364,0.06477634937589842,-0.04788973628724478,-0.0680757519788206,0.07649905119797402,0.012302891183204556,-0.010494381683265844,0.0014030460432279256,-0.025851858410324426,-0.01863230773900374,-0.08618569487166322,-0.011885604656850178,0.023538152393445498,-0.03406834748940866,0.031619989445630485]},{"id":"chunk-7db5cddc-71","content":"We built PydanticAI with one simple aim: to bring that FastAPI feeling to GenAI app development. Why use PydanticAI Built by the Pydantic Team: Built by the team behind Pydantic (the validation layer of the OpenAI SDK, the Anthropic SDK, LangChain, LlamaIndex, AutoGPT, Transformers, CrewAI, Instructor and many more). Model-agnostic: Supports OpenAI, Anthropic, Gemini, Deepseek, Ollama, Groq, Cohere, and Mistral, and there is a simple interface to implement support for other models. Pydantic Logfire Integration: Seamlessly integrates with Pydantic Logfire for real-time debugging, performance monitoring, and behavior tracking of your LLM-powered applications. Type-safe: Designed to make type checking as powerful and informative as possible for you. Python-centric Design: Leverages Python's familiar control flow and agent composition to build your AI-driven projects, making it easy to apply standard Python best practices you'd use in any other (non-AI) project.","metadata":{"url":"https://ai.pydantic.dev","title":"PydanticAI","chunkIndex":71,"totalChunks":208},"embedding":[0.0766111567968011,0.029343484537290486,-0.0017787454835805998,-0.047571232236973605,-0.0627738560290386,-0.05642486579364401,0.01942906521990928,-0.06891286140829184,-0.03818346123304306,0.07519272480092647,-0.010639336568540072,0.07315342217277816,0.06650217006423123,0.0036413727754848963,-0.07204468966749558,0.016860752416934723,0.04142215310893636,0.038678876762503124,0.08369080414440652,-0.07582258232965616,-0.03993939367209846,-0.010683431273505633,0.03774977709362433,-0.06465643814741256,-0.058610430518614656,0.0015465987955501968,0.040399567161046444,0.005696745352631787,-0.049697733628221295,-0.08603083181497384,-0.01814848723794158,0.07233104689224402,-0.07086982626323776,-0.024973321239199042,-0.055915416486175804,-0.004744509737904351,-0.042730311154982666,0.08054880729855231,0.05953710984849949,0.06774754259687424,-0.05617225807814216,-0.012599766973436817,-0.010987508579129203,-0.01676846127363354,-0.03256828149469241,0.0451223407480605,-0.0459041178816814,-0.06496395807760376,0.02861492405469802,0.018436705116640615,0.004587876669662538,0.027491895124428397,-0.05301799063847195,0.042288704272853375,0.01774875519444852,-0.08577315599237462,-0.06018021705463239,-0.031692677920682574,0.06382502628054038,-0.05521311070137383,0.05191632158276372,0.0773311552789114,0.06020524448633747,0.056141329637304074,-0.004228825316991842,0.03153313579243506,0.07982015573188664,0.029852034584963324,-0.028541963987460502,0.06599163748209148,0.027819320546795687,-0.017149592344210984,-0.05745717765659312,0.07227934749079187,0.08028316595051269,-0.07305111227856971,-0.002639348911523519,0.0854933911450583,-0.06431087158097654,-0.06691633250009672,0.00973543632837672,0.08077215332340486,-0.030498241738609048,0.042806574575006945,0.07557767139475147,-0.055190693474301715,-0.08619894918613208,-0.032419920780494785,-0.00643141014170326,0.011660510699447601,-0.06430586944103883,-0.005318934349548052,-0.03672221237923038,-0.008381985309695228,0.0365964453145821,-0.041042858818749285,-0.0647803484278243,0.019021079288885127,0.025664446110352287,0.02688045367811458,0.0853605560603011,-0.04444131408226826,-0.0064024708567425115,0.0141972549571789,0.048523652356935836,-0.08222701988659753,-0.004957690067025443,0.010126414924400928,-0.06353889757530203,0.018239232029196608,-0.01560329489050475,0.00348114946592268,-0.019415822450119215,0.056156061955478745,-0.002366531310951089,0.05698002999857958,0.05718165320492178,0.0516280639304499,0.00764619855297012,-0.05179974981541299,0.08557218412886858,-0.07989135223179522,-0.003994495376650591,0.020670660488456758,-0.07283690502820116,-0.056063180214338766,0.0667412160924793,0.04004847333869548,0.071837062295985,0.07868301060483926,-0.06338768209760569,0.012197334175336185,-0.013190595692212164,-0.0758976205653831,-0.06654823262428335,-0.04664529889949369,-0.08261264861632815,0.045064862413664364,-0.05054265599416469,0.06818456969588434,-0.0825502376036064,-0.0020642138298766584,0.014132543594685952,0.0746165282888682,-0.006237545605609506,-0.03427613375365318,0.054460127507047,0.04372744812830508,0.02956910707146301,0.08461789654599298,0.06999761301620602,-0.038349578511679284,-0.05137701734785427,-0.060076907944555814,-0.08023242721689657,0.03368893887841539,-0.021664866628219363,-0.022550266246478354,-0.053879206363230354,0.046124986466927066,-0.057310432358000214,0.026984439013314047,-0.054423638042944554,-0.029043837066554657,0.020126173944753342,-0.012137772145098912,-0.055679025729890946,0.08524315071343529,0.06253163740158862,0.02390386907226235,0.0077878457564865755,0.052391222426201894,-0.0766385056313733,0.04105460037054162,0.06354880457014687,-0.045944346317657585,-0.0486804999204314,-0.05002331943831839,-0.06220050396684109,-0.02175321311015864,0.06727234117647309,0.01569276354116063,-0.07789252077090267,0.007593634039119565,0.05707005279267731,-0.028313787082249922,-0.01565384702195574,0.06607095496218338,0.018223550260237257,-0.0010381191483104229,0.06591618350856351,0.024609232192727485,-0.006455272434190098,0.06741583736454276,-0.050765941653204374,0.08606966516735724,0.026089275710519638,-0.040377073569564444,0.054373459279485926,-0.04698129038753373,-0.025718392456932884,0.007671493036329762,0.041934156615650385,-0.05917318482470885,-0.06221835581527809,0.0009514496599392797,0.07576016378643834,0.0025086466311203246,-0.027724897736497882,-0.06497714637042505,-0.05492883536535772,-0.04580276461608779,0.07879554433099024,-0.015651974932253863,-0.03340451608120787,0.07263993744537121,-0.033988897018322126,0.0017080096008390134,-0.04421660315818082,-0.024835278897574635,0.06364061482915152,0.08413886524452638,-0.06083404522496345,0.06415901419984735,0.07182760408001065,0.08550238554537411,-0.03917271412344954,-0.05297046816150888,-0.00015988693022232414,-0.06696449848627982,-0.06233369638943781,0.009951326308191346,-0.005737320056637343,0.05526231351444065,0.01990600595157002,-0.051856316106129334,-0.06088989155191707,0.045946876673706186,-0.013013853759286084,0.0409893465497349,-0.009965758011194288,0.06787069789825528,0.03922010219703955,-0.06078415051100429,-0.02200513037808811,-0.02058128999123691,-0.06401668345501825,0.07666178148124178,0.03624162476661264,-0.023705288429118183,0.06234320099537687,0.05003882966328028,-0.05942586561188211,-0.0746222992326935,-0.009746192653369148,-0.027312751991048122,-0.015940112208196983,0.006462129768307888,-0.055579401221941147,-0.07904047827022587,0.018105466475005133,-0.041939685198907235,-0.035265003564534575,0.08497978488752568,-0.017428768078533607,-0.0237568846793601,-0.07201928387645742,0.03350655583567936,-0.06483913522459182,-0.0810714154337027,0.07176835816306253,0.05617524893639808,0.08159148379462391,0.04738841492292087,0.04815112143230783,-0.08496578838481403,-0.07016468215230699,-0.03808428182156672,0.08080937607495592,-0.021766481474383256,0.03762241624971941,0.027570962239887038,0.01984990366461378,0.0014403105734248436,0.006564712313360151,0.08269508850706482,0.0430571039646829,-0.002362604468648701,-0.0009562448105327104,0.0702040746002835,-0.03085661302837497,-0.07346334390199451,0.059453461888236414,-0.04405838746936143,-0.08542472927304565,-0.05191490140049876,-0.07658882891816807,-0.04988325826772626,0.07196084525796029,-0.03155186599646031,-0.040951807952473586,-0.0736935671097204,-0.05764850459235472,-0.0650046478589687,0.07054487025413066,0.08022174284343957,-0.07564066593508616,-0.05213090362842126,0.05687256517378924,-0.03407840538673114,0.06720688518212423,0.05390844773624319,0.006591438254016109,0.04307422290989301,-0.08410767636952128,-0.013036345822065304,-0.052006245189906375,-0.03732482649115331,-0.02756304642347228,-0.03730799447850124,0.005331083386994379,0.06363207169939486,0.06785930427653342,-0.06620300383991196,-0.05698163953823666,0.01975520810642039,0.05689842080691305,-0.030240133704199285,0.06913330344085764,-0.005316343326959465,0.06226072004216684,-0.038749644833972856,0.04699166714234076,-0.060193960629547454,-0.03545104638458067,-0.0014827163207230553,0.0014624241981390142,-0.0570196049856882,-0.013192528413540494,0.04865927959447792,-0.08099264622789157,0.00036510578497128096,0.009851311595374298,-0.0580862358282884,0.012040667566839818,-0.07507570365591852,-0.03869202530050017,-0.06530199214605284,-0.05824603970870842,0.020878032767884757,0.013794932532643233,-0.08171145005048898,-0.05496939406091984,0.047608555091665776,0.0022257012236888665,-0.051929268525155295,-0.05452869980646784,-0.05011840255567855,0.016676149999189076,0.08128563572188298,-0.06520573655720094,0.01706084570310867,0.05744503068775402,-0.01069864045301592,0.055982480502443366,0.014833689606597438,-0.02726659114400099,-0.021111001874260165,-0.00047829812636895463,0.030071554530873422,-0.06538019046397003,-0.051879346484908134,-0.0014595301031720745,-0.03301421312277848,-0.07916500546115882,0.008218780966466898,-0.041136020408903295,-0.06202550285354098,-0.08228617047610516,-0.0619940229123332,0.02897696260299885,-0.05934081161270871,-0.056688302857636874,0.013537265880456192]},{"id":"chunk-7db5cddc-72","content":"Structured Responses: Harnesses the power of Pydantic to validate and structure model outputs, ensuring responses are consistent across runs. Dependency Injection System: Offers an optional dependency injection system to provide data and services to your agent's system prompts, tools and result validators. This is useful for testing and eval-driven iterative development. Streamed Responses: Provides the ability to stream LLM outputs continuously, with immediate validation, ensuring rapid and accurate results. Graph Support: Pydantic Graph provides a powerful way to define graphs using typing hints, this is useful in complex applications where standard control flow can degrade to spaghetti code. In Beta PydanticAI is in early beta, the API is still subject to change and there's a lot more to do. Feedback is very welcome! Hello World Example Here's a minimal example of PydanticAI: hello_world.pyfrom pydantic_ai import Agent agent = Agent( # (1)!","metadata":{"url":"https://ai.pydantic.dev","title":"PydanticAI","chunkIndex":72,"totalChunks":208},"embedding":[-0.009553868619240107,0.05798520954967318,0.06697626879876299,0.0034799164591508636,0.058421086645615024,-0.07034832042097323,-0.05080022186124155,0.06968504354070171,0.06653299993609074,-0.08269437322156793,-0.030807616839943788,0.03964405498469702,-0.05157969042208596,0.06965621340856837,0.02920007459816432,-0.04466244402081827,0.0831728025397266,0.006671182340023357,0.039703948382297814,-0.016580940712272313,-0.05086220252648599,-0.04576896913923724,0.006307982582002487,0.06423403132136457,0.018700779745940838,-0.017281494810800074,0.0023188535901829755,-0.003414398657990245,0.07810017030870645,0.07508675752104033,0.037788371082768744,0.011712017565463572,-0.06848169142877733,-0.05669738578950699,0.05626812561335317,-0.055240305625505595,-0.03200445284760034,0.021226040389762103,-0.01582710548214947,-0.07221885920318775,-0.062339979644063376,0.08291488753182076,-0.04097179177049581,-0.005114654367012742,0.046375582234540066,0.04058465939884318,0.06413504986586134,-0.027552904646746163,0.058537924165648056,-0.07256699491195676,-0.035339111274573724,-0.008100037636925777,-0.010731194255498554,-0.024213757660407238,-0.040127007532814486,-0.04003305405798139,0.037680018608071644,0.07761243925848701,-0.03776826059579685,0.05688421418143376,0.0801393155848782,0.05547379442914241,0.04797505945643049,0.06294954085645853,0.031943536697165424,0.07458575553703521,0.021888816403332317,-0.033293900694047286,0.023116177481607592,-0.03950815901038656,-0.07061844766330624,-0.040320207290762626,-0.07670760578554314,0.06880535142574958,0.021055243577646578,-0.050582210548535726,0.017020174158539625,0.0817287905294333,-0.059383384767755655,0.03311817083250758,0.009238602334479864,-0.02085130450381923,0.06350063621268068,0.04445449228464999,0.004521064933619707,-0.0809034037264576,0.07717426116223478,0.006078831641920275,-0.041699280101943105,0.0844221920473896,0.060501747993172775,0.04920929531639849,0.03342928814989363,0.0011310973093236658,-0.08250555128026404,0.08291288019152473,-0.06762833198430956,0.04367278689111703,-0.03226168546383,-0.0694646937570045,0.00785530791252176,0.0628352154783712,-0.05129956504673137,0.04163191254607851,-0.07515701777908321,-0.058574242053204585,0.07361337354000146,-0.02937415352011508,0.054177011203684386,-0.06582575611062619,0.013533428712122474,-0.024728701613773944,0.023611170100613935,-0.002175329809244142,0.053532433316115874,0.02141353135303306,0.004071010774280359,0.0622649475631368,-0.0205735999462482,0.044063005398291846,-0.08385234038230441,0.004319861475842444,-0.052003892914625975,-0.02571363648277823,-0.0069394538583062776,0.049599795594416934,-0.045317497780345904,-0.012210548802297811,0.05852387930186876,-0.07158412578339568,0.08288141433858104,-0.06639669434947842,0.06214066943675783,0.02475934481617056,0.06550103214078007,0.06891125507838629,-0.020889974122378786,-0.0284832215874653,-0.028518361096672558,0.005685705251840905,0.07479929802935632,-0.04186408855154803,-0.008651603167468082,-0.05726656682476788,0.0209649942876356,0.02543565356300146,-0.003403555611352151,-0.08189612360873873,-0.041718179417693846,-0.0028998004178860727,-0.06227578438714306,0.04369943984562642,0.022113606970612393,0.05197140498685196,-0.0149755018629769,0.08470939650101789,0.01076207213471654,-0.08013508546811168,0.03905402700083393,0.021248728703408493,-0.013297966897772314,0.05264586050760864,0.07369982997672336,-0.05113453672101586,-0.02979883069458809,0.05950307644032047,-0.08365842196561808,-0.0620412194928787,0.08131619789201275,0.0542030249560402,-0.0036406273066598304,-0.06506651359012677,-0.06123988436250276,-0.05657017840004232,-0.030187714613529645,-0.061946537196357856,0.014411244889108814,0.03677463551476853,-0.08133416638003188,0.03644490655441512,0.06133345022458119,-0.0008819287030656271,-0.049246403579017585,-0.06699335308990022,-0.08400270668354595,0.065901723458332,0.029098631830192925,-0.012120662307367126,0.069231887856637,-0.0343083246895491,-0.05589175118147761,0.03452884690021507,0.011621124858334128,0.045296720614065304,-0.028869372392852147,-0.05997321625366054,-0.057847793752872675,-0.07240972402328139,-0.06000870177379996,-0.05011599549174667,-0.024850620077119495,0.06157020405893946,0.06004588548921966,-0.0314442735316732,0.046989608254149245,0.036969648785698826,-0.045036163646647885,-0.003288175929149449,0.010978420543134693,-0.08378551608533713,0.023271821651411558,-0.07622587575215432,-0.07389268813574716,-0.01545502393291877,0.017670829357681623,0.06313935366494874,-0.006063501974323047,-0.03357693445729413,0.07128505820515,0.01016409900617722,-0.01855066288123718,-0.04399422457407671,-0.030809477204661883,-0.04344119054784882,-0.06396349365445395,0.07455603613312166,0.019349418140439615,0.03782221008525451,-0.02521339464487816,0.03402638298030395,0.07922025987305638,0.057227465201355,-0.024914770695820973,0.05393695807144532,-0.030712906999015955,0.05950423875084469,-0.08413976807625863,0.07859981754923898,-0.004958019315889309,-0.002817659856142004,-0.009297785399014498,0.07994750199896182,0.051797592440361126,0.07496748180891254,0.07724975586644196,0.0784861613471615,-0.049021898726220904,0.042610360130650955,0.020829001805014208,0.012100048269452416,-0.04617687552649233,0.010936545082133963,0.04033004440081484,-0.07699154059476383,-0.06335813588452065,-0.06879556287953587,0.028897380787611268,0.0021777862433188383,0.017811589304601826,0.04009569087609273,0.06303783029873351,-0.00048198826245063477,0.04094131330494725,-0.02918698552205901,-0.04014210238623779,-0.04209590195832351,0.056593764103649066,0.0037456955003798273,-0.06143565906578302,0.018547709560257017,0.0016618645361444243,-0.016430859948133043,-0.07941868489107087,0.03911718738019404,-0.030108108876883404,-0.027917596081059898,0.07071922658087339,-0.048995333976947976,0.08037733041006333,0.001327709460452856,0.011499339974776406,-0.08039685867879973,0.0006128942218831677,0.043236034321518055,0.00451442050863241,0.008592049389825515,-0.016015584151576237,-0.05533669749901757,-0.03211715127954185,-0.03391793894905688,0.05613510289712855,0.08292392024951038,0.08376091453287325,-0.02525604497454003,0.06106748260813432,-0.01511986702408633,0.06026997339655783,-0.08116827133077896,0.0037637985545795794,-0.04044473310427166,0.04162388325241671,-0.07104534676643598,-0.003857274991153759,0.04325887226539459,-0.015008687834379947,0.04467417932533888,0.041971316396926105,-0.019308995694449486,-0.05360396459335419,0.04816571889529448,0.02038266488118189,0.012573928692241412,0.06433749734850633,-0.008423854381236776,0.06199528106128342,-0.05649239095048767,-0.06750198886776472,-0.0821146957868091,0.0387962405148237,0.06335777402478586,0.008872205133508516,-0.002549514961714864,-0.05407519274712632,0.038105526696765354,-0.04068394419316958,0.07035701481547577,-0.020943024540386462,0.0763100238922992,-0.009653988412188466,0.062481673329318484,0.07949226140056637,0.0628762076935476,-0.022562533472715283,0.05975224975349404,0.040391016312273306,-0.07098172874716382,0.07141358190069458,-0.078547542680832,-0.07232533166938536,0.08189123074092919,0.07297481036314817,0.08246576046906749,0.06218119759154588,0.007965884363406926,-0.04407589366451704,-0.07341144755775951,-0.04780813544272068,0.08029450750593277,-0.06155815895055894,-0.06620144553074565,0.06755998828713675,0.03063764397389106,-0.062019967285421966,0.06272975049899017,0.0398278954675218,-0.012646794547669628,-0.031146649265223203,-0.01577373361582137,0.02501121890777223,-0.07883596955771713,0.019796768431396394,0.01658886456289884,-0.056102442021212846,-0.017644220796738778,-0.0479478204433379,0.024329152575136768,0.08399748031851725,0.00808289610152543,-0.07041155290448578,0.013480496379340765,-0.07835042699888535,-0.07519877740773731,-0.04493057533446442,0.08086778231947482,0.0015478301120822632,0.08393465552693956,-0.07334870737242015,0.01548332567573017,0.07843143338942653,-0.06991000073785524,-0.010831857921920386,0.01851094878791785,0.054036531901515805,-0.04422746204766497]},{"id":"chunk-7db5cddc-73","content":"'google-gla:gemini-1.5-flash', system_prompt='Be concise, reply with one sentence.', # (2)! ) result = agent.run_sync('Where does \"hello world\" come from?') # (3)! print(result.data) \"\"\" The first known use of \"hello, world\" was in a 1974 textbook about the C programming language. \"\"\" We configure the agent to use Gemini 1.5's Flash model, but you can also set the model when running the agent. Register a static system prompt using a keyword argument to the agent. Run the agent synchronously, conducting a conversation with the LLM. (This example is complete, it can be run \"as is\") The exchange should be very short: PydanticAI will send the system prompt and the user query to the LLM, the model will return a text response. Not very interesting yet, but we can easily add \"tools\", dynamic system prompts, and structured responses to build more powerful agents.","metadata":{"url":"https://ai.pydantic.dev","title":"PydanticAI","chunkIndex":73,"totalChunks":208},"embedding":[0.008100435002019991,0.01697550995684778,-0.06869564927695253,-0.0033182801258794564,-0.06294265000152945,0.08870601320470885,-0.07023066308176072,0.013265080173217309,0.059984336390440054,-0.03235539929901852,0.0729848527730044,-0.01494963013677367,0.0189969148107413,0.044810699705040244,0.07383296584821247,-0.06038516254182135,-0.07671720751437389,-0.027644462884839235,-0.01858667564248173,-0.04473862465723044,-0.0008642373775124965,-0.08811926131630181,-0.05806810618065612,-0.023179330210839604,0.000951726811121287,-0.007494516176810253,0.002511944552728117,-0.026248698840878857,0.06887386632969653,-0.03972817085432257,-0.014132291806916993,-0.037360403814532574,0.05799176567933597,-0.03692961720496018,0.004103946157481939,0.019698497454535155,0.03398949441202445,0.033815474029006164,-0.07672018787035446,0.029109212159843946,-0.08997804923075098,-0.04251978266978775,0.049856232642001674,-0.0727266749254642,0.02895602329567374,-0.013716986524091581,-0.06744180572736962,-0.06902815434427292,-0.08358017172110105,0.07958027794025853,0.003127772389946109,0.02674151009808609,0.050981924834663364,0.05453594680914772,0.03427034243450153,-0.009370283717343525,0.006179277481370911,0.05004644943489519,-0.030120392074876056,-0.020805511930821204,-0.07754450802114794,0.027815394801158543,0.01064891852807841,0.06432596982271065,0.03293593383322658,0.07871575270782866,0.0783667911357053,-0.08734888978141883,0.08799639683464161,0.052517092155144524,-0.0566883425640906,-0.06846124784462503,0.034495130087888626,0.02563704910828167,0.011850516719108464,-0.01800475588574713,0.013179045005087923,-0.028421488652550835,-0.051067743727666676,-0.0730943077838695,-0.08465848133727814,0.022606676963285267,-0.003991704293183874,0.037593528076208166,0.07395964533086365,-0.021402881216360768,-0.06567905669795437,0.07138866973889517,-0.08168157010042519,-0.03664499714107998,-0.06380743564038376,0.05604599644245063,0.05570904589054209,-0.005985018797730593,0.0006980745320598564,0.063997049370947,0.005960467448517465,-0.07339543498190165,-0.0192057267656301,-0.030132275159879023,-0.04957792642426108,0.04984112049122503,-0.05315900673186592,-0.040469209432022354,-0.0419473611968568,-0.04333363081385742,0.01876719370243398,-0.08553567625462191,0.04788746870615316,-0.016109562010124333,-0.019864478892617422,0.023300085388738453,-0.003929636814957674,-0.07432857622606648,0.08637589621846593,-0.03872763795603232,0.07157332195667516,0.06703624197061908,0.07798159210946864,0.03946476720499955,-0.01597763612922812,0.0027455846630160437,-0.06817355867896413,0.019327650866888833,0.08165631325165905,0.07564209127916477,0.03455442582361237,-0.011249144780603645,0.0726288905230663,0.07442726336128086,0.020934747012504983,-0.06195474660639715,0.04575810699953961,-0.05430205051430028,-0.06734185816348241,0.0013630109806159602,-0.0066976114427344064,0.022374599595906857,-0.06888016552600651,-0.055996796595977824,-0.08336375009013282,-0.06271464420182521,-0.0891884629369804,-0.06984062524287812,0.042819285635567174,0.04732066954710021,-0.0016411116855778668,0.05198487755237879,0.025629993764389764,-0.054539486133231375,0.01582529560616865,0.055423484693084966,0.040064107678993474,-0.01979585833391296,0.0031643905654899183,-0.051368349066280385,-0.08389156012786081,-0.017546639310088832,0.06780748735978964,0.05390614228001819,-0.009842998807477285,0.08422909631774729,0.011237041920940617,-0.037063662109312986,-0.02782094275235163,0.04911652834161171,-0.056926821446530725,-0.06879246511543728,-0.004712597068619803,0.021550126259946924,0.043282372047865496,0.058668726067138084,0.07732823931047447,0.05801302198914141,-0.0490099082363201,0.08124752753921011,0.055282759948721505,-0.06935383030684601,-0.08764898027510434,-0.05943162745539583,-0.08817240384140712,-0.007614075123058665,-0.015702156493822752,0.02962689656834379,-0.04401640141493808,0.07736779821116868,0.004110527715786056,0.0603770773113361,-0.06965501017355331,0.04544127557787578,-0.06341979981266688,0.0652239286879922,-0.06045402693939943,-0.0004562252764194329,0.011883836031894633,-0.051344427060169555,0.005376225228852195,0.057711997917261774,-0.040561268617035746,0.05411290969916286,0.03909852596672053,0.049159927447703776,0.06760604991671684,0.018959732305837706,-0.036895652848105635,0.07715338980099977,0.0014071006034095258,-0.05705789600345635,-0.020869468821904418,-0.07823999124168982,-0.026992905574663485,0.022390056450080225,0.025513462472138555,0.051651580214414586,0.026395145231849913,0.06056813522055942,0.07799652914583832,-0.07609656436490375,-0.08998436558358551,-0.033120006838833795,-0.04651780502441963,-0.0846373398500916,0.046973538696435405,0.0474231485079236,-0.005911112584391801,-0.0867913056648178,-0.012674062735178815,-0.04187435568388186,-0.06583596957233506,-0.025001163673006383,0.0779401553773895,0.005437017766221707,-0.014644900184295106,0.04698841344441136,-0.0637675104552001,-0.010702225955424258,0.05839429386378851,-0.056945685407094056,0.017003740017489225,-0.037747866574199374,-0.06042788850744184,0.02508587029934055,0.02379411552292031,-0.020049456771712475,0.01200511035632671,-0.04802863042803018,0.08423711805589208,0.028594735740245916,-0.017987654411997473,0.045925008635683925,0.05702000958221454,-0.011418163678602829,0.006181798527247525,-0.024297890401728958,0.012013793560249288,-0.07254022810512267,-0.002326346330369239,-0.005474784873502461,-0.012066719637325996,-0.01112128434445482,0.06457386074606582,0.02951374932900448,0.08370145629099762,-0.03235983632915546,-0.07183157172981172,0.07819781271083562,-0.03589399019256889,-0.04826710631104647,0.06035085505286769,-0.024567279709883164,-0.05144217552771954,-0.08934765793868432,0.023960213796927723,-0.016167302580093964,-0.05027406518744237,-0.045556281623726644,0.03607956520953629,0.0545759809742221,-0.009447428954124166,-0.004357987693330108,0.015500485592832002,-0.03700573173500476,0.04124309292622574,-0.07992015521083896,0.019597130459275677,0.05369095361145713,0.00848709587332437,-0.08940532357262375,0.025913192847413922,0.06102226861208545,-0.06536737807118673,0.0735441249704364,0.03857724779355117,-0.009162088713645569,0.005339344655968852,-0.07247992307371125,0.05446107001461802,0.02178178694369456,0.05053287173426727,0.006604534024296266,-0.08140317024810981,0.04143594582754641,-0.06822642967176108,0.019240484377184234,0.02700475069063401,0.006980118526210669,-0.06753359761464024,-0.0878271694909948,-0.014341988210404085,0.05325905376522127,0.016714536049072675,0.008854774549332832,-0.06894639107500491,0.007001519602070615,0.057604469028320296,0.06818185205609481,0.03534735263601122,-0.08647104881049797,-0.018856156007919785,-0.08474369241954383,-0.0893071557445671,0.07064547981007917,-0.08871136718491342,0.07436546866501986,-0.011572088991919948,0.06515449631010178,-0.0867038373649453,0.008568011006411653,0.05952162541439595,-0.04784239771312099,0.0886285105170008,0.03066443114600716,0.09059393271054288,0.02089443670679357,-0.020377273242850377,-0.0368848547219761,-0.056760652931870964,-0.08763596365572017,0.03643479154265583,-0.049943210974168394,-0.05643842512867791,0.052084617794051824,0.079060911941226,0.0761115038133936,-0.023400604664465703,0.02090043215892625,0.042985676778335404,-0.03556784306223395,-0.044758717363737946,0.03266600293497237,0.0050349313766366545,-0.008143942593129588,-0.049229946240994374,0.01855879451876141,0.013649287214348505,0.030195094742167906,-0.02911431008216598,0.01728287613632761,-0.040099799506373934,0.06743764605886753,-0.04043062010307478,-0.06345554633827571,-0.010026304785343953,0.07720170865016215,-0.018615606066330916,-0.0838925754943942,0.05413370002572568,0.03425329453942296,-0.02645234779413788,0.07411277032207485,0.005921552509140055,0.051275668952699444,0.054615829018157,0.07317359683263054,0.07675413730258271,-0.019126573201278297,0.03450158656748076,0.020119410155312534,0.03578946902517534,0.050623543371744996,0.05061685217360929,-0.007489019588513283,-0.022251887392633576,0.06505107733204234]},{"id":"chunk-7db5cddc-74","content":"Tools & Dependency Injection Example Here is a concise example using PydanticAI to build a support agent for a bank: bank_support.pyfrom dataclasses import dataclass from pydantic import BaseModel, Field from pydantic_ai import Agent, RunContext from bank_database import DatabaseConn @dataclass class SupportDependencies: # (3)! customer_id: int db: DatabaseConn # (12)! class SupportResult(BaseModel): # (13)! support_advice: str = Field(description='Advice returned to the customer') block_card: bool = Field(description=\"Whether to block the customer's card\") risk: int = Field(description='Risk level of query', ge=0, le=10) support_agent = Agent( # (1)! 'openai:gpt-4o', # (2)! deps_type=SupportDependencies, result_type=SupportResult, # (9)! system_prompt=( # (4)! 'You are a support agent in our bank, give the ' 'customer support and judge the risk level of their query.' ), ) @support_agent.system_prompt # (5)!","metadata":{"url":"https://ai.pydantic.dev","title":"PydanticAI","chunkIndex":74,"totalChunks":208},"embedding":[-0.023096534647677615,-0.0043409384884854916,0.008917226934427362,-0.04195738808977641,-0.07465301930504023,-0.07600031257189714,-0.041518154121151514,0.03193056478982755,0.02425229382060463,-0.07587071608857601,0.08803778935690253,-0.003026615972439317,-0.01672702199980011,-0.012492103092015846,-0.04050850898690072,-0.055964761813210764,0.07323926711292132,0.08442524338076096,-0.01613022930611251,0.06945964780694713,0.06660912627862604,0.05892458076742156,-0.03751163042121933,0.007509732659529039,-0.02237451267948385,-0.01627895643274073,-0.01490120645141381,0.06641076582295588,-0.058321360420713605,-0.07010648432865567,0.05393017425638555,0.038206775028469316,0.08077556590548048,-0.007579960878664664,-0.003223652962592941,-0.07506078328900437,0.025526208440864954,-0.06149881283731934,0.03392363385209488,0.08337261535740906,-0.03173611990940122,-0.07744262809635084,0.029635421235474597,0.07532916333718431,-0.03969021280666446,0.07987559800276002,0.08044055626374995,0.032165605567018606,0.02833455913031498,-0.08247692927910874,0.029754774815249737,-0.004818109921824928,0.05087981548398277,-0.05755757617303816,0.05046927193672151,0.03158779736760765,-0.08559910775142526,0.03167133380629614,-0.04326736422476217,-0.07906298339105929,-0.005077573475851807,-0.022976486814214568,-0.000873472553455278,-0.05292775814682833,-0.018106018535049,0.030980325814020045,0.07801738972627371,-0.08197455578855405,-0.007471085691501199,-0.005992207582572124,0.0351989884772263,-0.051400622346793906,-0.04913050415090337,0.015327599075280468,0.013699705447233094,-0.04349118099803571,0.04920194496363538,-0.0677760325901467,-0.06965638132175671,-0.03454795166614191,-0.08426398395922968,-0.05364342434050436,0.01726359099126688,-0.08766973499439183,-0.06184949539816082,-0.03202070033371297,0.07454025591467332,-0.025332441800773667,-0.07757771387018589,-0.000243380601698952,-0.01857516789005027,-0.06196214600867578,0.00025000897715968517,-0.019586464665904583,-0.060799529506181685,0.03929914659599276,-0.0696414030071225,-0.08806551934549071,-0.026756604612649896,-0.06188044311852849,-0.062166085417141616,0.08410597284313963,0.0046563833770202675,-0.06991571364796124,-0.07073006846760353,0.07061821909774865,0.04211331994183683,-0.021242128587054016,-0.021063809986158775,0.0856113810869941,0.03846818400069166,-0.01100116798613107,-0.0034535559027640992,-0.005374352142804598,0.04298334708496544,-0.05696883233156705,-0.053136610037310676,0.017011288838041868,-0.06108138009782306,-0.0787742991665683,0.05958154588882641,0.004997714616664712,-0.04860569290715707,-0.003967633538127647,-0.07271393585015552,-0.08153799332611908,-0.011067288650388814,0.07527941829770185,0.06106394784094082,0.03582566518536891,0.0334037054325894,-0.03608958603324008,0.039225023489691514,-0.060112478694810026,0.07470525091320634,0.031456320803121884,0.011034946176988266,-0.07373734934281248,0.0369078459332451,-0.0067170407685129075,0.02608464518359938,0.014183319652104622,0.028533459476592336,0.06039748707511084,0.047636142375803756,-0.028628079779727915,-0.06397015174924381,-0.021544525260379935,0.051055588453583996,0.0024312706244195774,-0.07185442503132296,-0.01163180256710765,0.06632477850987384,0.054640838456715864,0.021376733129762463,0.03579195943517694,-0.019520760041690215,-0.016531053332938608,0.015375316713047354,0.05929330821577009,-0.0669031827706252,-0.0709290947075906,-0.003393408564326791,-0.0723411253991114,-0.06018257552502014,0.04372223599241054,0.06579496738776586,0.013235347887396868,0.050587305816231366,0.02470362951634266,-0.048954657070550876,0.051012111204785215,-0.008773090626517491,-0.05144838010594167,0.07439844897526231,0.03447300207918929,-0.04353467164515036,0.08495816755739109,0.01584356898694622,-0.03916479615045875,0.05370469699729662,-0.07769474626522144,-0.034084733265522776,0.03987960224451965,-0.0057715720077048255,0.07700779928886821,0.03475383265784443,0.035025030589201187,0.06120753321004387,0.05060174072079247,-0.06273674140759566,0.07290590280880643,0.004473766159187574,-0.05996565396236563,0.0030531966287537233,-0.023268685378030403,0.07592798027291528,-0.053388903875964275,0.027302464223752525,0.05046694779041735,-0.06480983353397628,-0.04139806314741724,-0.04057974974387603,-0.046671796803299075,-0.08715688956309055,-0.07770207141750891,0.00019059852462867323,-0.028737057498954072,0.048374118877386484,0.0581924516866633,-0.07433450270754721,0.013454140343833298,-0.07759091572366197,0.08148518989752304,0.08268834431604506,0.02559222794045702,-0.0868338444703864,0.05884918228028483,0.012009431185773892,0.0010526295074708132,0.027277061250974108,-0.0874527591401122,-0.009251709460438554,0.08163165761032398,-0.05564951309361536,-0.04098743552508867,0.07663795817879764,0.008365958999260448,0.021354871717055024,-0.07192708833851102,-0.01302866584582544,0.029006377428306616,-0.027107689603925494,-0.028123708493213995,0.01799706233345672,0.04336234251050194,-0.036040148020969116,0.05094190202141036,0.08236323665325718,-0.0551518025186503,0.016497106773095745,-0.053218818417645516,0.05663136992407373,0.024985169474413413,0.028409947378164838,-0.08174061572268218,0.059086492728197826,-0.011749737659484765,0.06601470850436661,-0.009455706259257898,-0.060082130647046324,0.04764707929955364,0.03665306599367988,0.05821088272885847,0.0670004038006882,-0.007079007167087028,0.0635052101934177,0.08214004210634698,0.03270719120572653,0.008336126549797223,0.011300215620780943,0.012024463278030726,0.014249770121530949,0.03204118569843959,0.07455770107285362,-0.03884731608657377,0.008458636417791513,0.04191885757792846,0.02935484515020918,0.026898466264021575,0.012442649659508935,0.08176079438220261,-0.05959617041062407,-0.07470173440707914,0.05690677993120618,0.03253635798947341,-0.04601926460254858,-0.08415337223930687,0.011098905991318568,0.07323079100321808,-0.07302218407814473,-0.027795798747982166,-0.01828781867904701,0.07069568107483502,0.07366380512039525,0.06351751281450639,-0.06722740702366778,-0.04879023287119644,0.07433012544147286,0.037650420316276675,-0.031950041980730814,-0.003280139605542318,0.041949004290356265,-0.04927568261388649,-0.017141061838168756,-0.024226886120619223,0.08661409325769263,0.053584579087814534,-0.0351691860183178,-0.05229156362929954,-0.06621925136013479,0.020129943760234078,-0.019475025265106825,0.008613013784530735,-0.06047288792484606,-0.016378931771396224,0.07225362856270139,-0.05768539927591976,-0.07862167776400167,0.06215622015380069,0.07794500583094374,0.020008535071411405,-0.05222919257544558,-0.06028081570820261,-0.05272841558280143,-0.08719366531975319,-0.062099793718289095,0.07284026270513236,0.06252669207672162,0.03580681029305908,-0.0008957534010507294,0.06332291348151321,-0.07373280711546122,-0.007818776359539384,0.06762759434185066,0.04803330160087054,0.04725820408128147,0.0020129154224246405,0.07952740803125752,-0.048512018056996724,0.009371537500223601,-0.0022885019463628514,0.06401576783542885,-0.03825413640211935,0.04731490790785671,-0.011846450784320294,0.020227188760518076,-0.026773450103010063,-0.057499188052997016,-0.07163326024275707,0.026757330369392932,0.054122046311856756,-0.021940991073716307,0.05053380924991094,0.05393458774914419,0.06585039923783755,-0.071071597363261,0.035842008955335423,0.05884506984457408,-0.027792686194678787,0.0002789924119505786,0.07725192516911408,-0.07860648257094313,0.04703396655020467,0.03130287072367481,0.01723732667796692,0.045750571905129114,0.04168942187544107,0.05523353276168248,0.03839263365375404,0.023541027941870636,0.02109079487292108,-0.001545178769177683,0.02900965369110125,-0.07376285828147253,0.06486328242123783,-0.049971956179357596,-0.01664125680028161,0.02943275928652729,-0.08462035546353361,-0.08193956146423284,-0.08287928947039935,0.04306202727958573,-0.027520871086814207,-0.06731320439895515,-0.020638569240216977,-0.01139502823546529,0.0429017270426874,-0.049214721924695524,-0.02808218767422792,0.0034602026028603535,0.05150590229992054,-0.014036808847996554,0.07831220401442496]},{"id":"chunk-7db5cddc-75","content":"async def add_customer_name(ctx: RunContext[SupportDependencies]) -> str: customer_name = await ctx.deps.db.customer_name(id=ctx.deps.customer_id) return f\"The customer's name is {customer_name!r}\" @support_agent.tool # (6)! async def customer_balance( ctx: RunContext[SupportDependencies], include_pending: bool ) -> float: \"\"\"Returns the customer's current account balance.\"\"\" # (7)! return await ctx.deps.db.customer_balance( id=ctx.deps.customer_id, include_pending=include_pending, ) ... # (11)! async def main(): deps = SupportDependencies(customer_id=123, db=DatabaseConn()) result = await support_agent.run('What is my balance?', deps=deps) # (8)! print(result.data) # (10)! \"\"\" support_advice='Hello John, your current account balance, including pending transactions, is $123.45.' block_card=False risk=1 \"\"\" result = await support_agent.run('I just lost my card!', deps=deps) print(result.data) \"\"\" support_advice=\"I'm sorry to hear that, John.","metadata":{"url":"https://ai.pydantic.dev","title":"PydanticAI","chunkIndex":75,"totalChunks":208},"embedding":[0.048797788611183085,0.05141405326594539,-0.035313309629821474,0.06718939105818302,-0.00012820970256800188,-0.02082290121422216,0.01979881714527893,0.03455560111718974,0.04360234085894931,0.0011111114188270595,0.05115203913319291,0.08638872512470418,0.03538828535088926,0.013185194260654126,0.051243732893618776,0.08061638612286988,-0.010776095185620884,-0.07609356577020317,-0.03245397178348341,0.03737595814317702,-0.051015903201831234,0.032747154161028566,-0.05770729966250183,-0.06116433756445203,0.05015530716356446,-0.016031419548440198,-0.08449671449038493,0.03844176773272269,0.07852364440492929,0.00823180085933947,0.08322960156888201,0.04998597714298374,0.0797369497465798,0.030211218534432146,0.03716187777711096,-0.08565712085832763,0.05380724562351038,-0.06330526112822546,-0.047084084578880525,0.016730544349788035,-0.06729899149686251,0.06818655046231197,-0.04626075959222867,-0.07875129174294024,-0.04026486803714167,0.08719646614626499,0.05947861007329893,0.08310085130623668,-0.004288808923248157,0.005949211779560527,0.04933030862157891,-0.07379769949949819,0.06922232300664857,0.03255709696047664,0.007885590541795273,-0.058568917346726417,-0.07041914192548879,-0.07858687820995175,-0.08632206536039361,0.0077097494131249346,0.005279979340155176,-0.012538663584690139,0.03040644071279351,0.08714552899819338,0.0035476841204435264,0.08021266319894542,0.06764420409114713,0.045965000631466676,0.059263479015217134,0.0856275800133541,-0.08567334299889215,0.06502337207249538,-0.050465797755138916,-0.015759018791112897,0.028298062032762673,-0.07172386088827007,0.040533261829052,-0.0003765063877447978,0.06422862523664022,-0.051634515527230605,0.04525993176107106,0.08615194997424067,-0.03948207055864121,0.06463955877602885,-0.03336907020630517,0.02578730268171595,0.001283493067778937,-0.03749107969981559,-0.023639495601190177,0.016277956790808106,-0.05247684932778386,0.0392696969634108,-0.0002253080516636098,-0.07534067018982918,-0.07461890735338987,0.08495793739534284,-0.021596985055487048,0.0671790069582065,-0.049474783394273504,-0.030998676333664633,-0.01842469318348713,-0.0526424236562894,0.07041418518075804,-0.04158087319029849,-0.02802833526049928,0.00254115519727742,0.07600668503094238,-0.05267931998978052,0.03294428659542029,-0.04906402926736783,0.08414288915567246,0.07824454828810885,-0.08035016932952259,0.0729425680954816,0.08651847535191323,0.025666352391162262,-0.02796757202850472,0.04167976532731038,0.08656367001470831,-0.018576808876812345,0.02011495366928148,-0.023072101936379902,-0.06716902845656213,0.036918842287261194,-0.08503785979087067,0.03527212229588669,0.02159258593538462,-0.011199141288886608,0.0185417849294128,-0.007399084739810671,0.06928658852356065,0.0024220332351197926,-0.07165512334291342,0.025062476436464486,-0.01366384784341464,-0.06955068503567156,0.002260158730386516,0.08334505462311598,0.005360023656747021,-0.009556580935882403,-0.04571234910740673,-0.07443885117370638,0.04636724702675599,-0.015020662595158019,0.0160480297404458,-0.07676627542595586,-0.00036564983980853923,-0.06724003485857775,0.05775056720116134,-0.0397737424153456,-0.07374344156287035,-0.021307061462540477,0.04657794792479114,0.0010540425607376439,-0.014639577849187417,0.025974072991867544,-0.01935620028908799,-0.04876675895321812,-0.0881938186530576,-0.07435660851163454,-0.03477787401355081,-0.005851573709478679,0.07494876515741399,0.03554284459568408,0.027901680100520944,-0.03050396711785136,-0.005101732023588071,-0.005631315782969357,0.008087482022693738,-0.03918181716932954,-0.03226505068286325,-0.025210644124871673,-0.08694537382384164,-0.038837444537827594,-0.028322278253714733,0.03831767844019843,-0.0011265588812901216,-0.05345422131268995,0.0032006319759153414,-0.07206104749833066,-0.006634048230297526,-0.053267778067221945,-0.05993290325129666,0.005761701365818648,0.0031962069769929176,-0.04180359778273458,-0.06741482960022688,-0.017948999856316074,0.03453864234071048,0.0347110158512477,0.06288352874717552,-0.06942581073834676,0.07759238086457021,0.02836197923320866,-0.06668734806491551,0.012091467886726841,0.053802279548693495,0.05646205095346955,-0.058569909427725726,0.05617144888505302,0.06165861501574124,0.07934742582184044,-0.06993515442342228,-0.053228322421956305,-0.07515822076680133,0.00860798098284779,-0.012800059323475204,-0.08308337756405089,0.0733596290804301,-0.015416028516149302,0.07211366293254554,-0.011605696639519351,-0.03686077256872518,0.03972656257498764,-0.015985306030270176,0.031413604278031214,0.004693173359684992,-0.07610390143975457,0.052512817754728984,0.06769286258198395,0.017877136666861863,-0.03292117617359581,0.001931979624455309,0.026202186815222357,-0.036706002394002964,0.03984424125386211,0.0872250170602858,-0.03603813756899243,-0.04537657933903762,-0.014662535437840596,-0.04692613613598617,-0.04698114273014919,0.03875788491341693,-0.06254768144093593,-0.08515699452161411,-0.048469748413324076,0.02307432926347709,0.021486566592478842,-0.08057092557124124,0.05514715059651109,0.06391752938563842,-0.05711260587738114,-0.05433436202531174,-0.017499141875669803,-0.01773265243841367,-0.06718190281902284,-0.02560200319884177,-0.08266353210312945,0.023165884683870396,0.07530840937361488,-0.0061099969275618385,-0.017934242568730954,-0.010693054889409342,0.029329985777645697,-0.014010558626094233,0.009916548464741347,-0.05120588124120078,-0.08096771031760581,0.07889864858211673,-0.009286960228365636,-0.058957813834462754,0.0498081121034706,-0.05086381565850029,0.08821275201133975,-0.00789459658199209,-0.08040168842132768,-0.0138148490787704,0.04286866021331352,0.07894446955968587,0.004395968480359354,-0.0787466505181991,0.051494100303450786,-0.0086883178278273,0.003764248832016702,-0.07838870370140762,0.06749598888211834,0.030587086438087756,-0.0060476445065719975,-0.08313939669111105,-0.004876764002388558,0.06237780487897056,-0.06909124456008754,0.060415833318140925,-0.061093023031075035,0.08616766729577346,0.015963768268473212,-0.008745030629170418,-0.027957746627436594,-0.08441269891185181,0.047469330752174924,0.05459260252876628,0.018855969205328345,0.07893150746309512,0.007791710004989725,-0.08765494046663429,0.057600548607282004,-0.03801442083269606,-0.06593930088519585,0.08794241781606346,0.04979227921519614,-0.042861558018660054,-0.04728987132051921,0.08424814279209,0.038030074013160976,0.07628004111993203,-0.022276175886206964,0.005716298232892179,-0.07898020558209035,-0.07156754247734168,-0.00960989607139668,-0.040546477387197404,-0.027880920225876776,-0.022847583965124114,0.012328122389353095,-0.02312517935890751,-0.0752513754372505,-0.057517301871163655,0.010093282618236924,0.005319565196479839,-0.0348582120842702,0.012077575003442845,0.03669357818917513,0.07679852739663495,0.06067501607150773,0.01021620597171659,-0.07528950542788729,0.0021810605735751165,0.024598060089465107,-0.04695412186014101,-0.07561080796653621,0.07126228602246447,0.015219539803544565,0.034897912141827754,0.07580679086598714,0.003732781866901459,0.0793133850504058,0.08741454354495622,-0.02703020926713482,-0.08658716715662267,-0.02970584341176249,0.0009834656663741076,0.05905532705906048,0.022453282282161216,-0.07787437850347002,-0.019637883211980706,-0.03516687520317654,0.008699546924195193,0.005240943290681024,0.05764560207088873,0.053130835108800685,0.03640742254361349,-0.08249916223685315,0.010546746945862726,0.012319778284288952,-0.07493220239282394,-0.015312958987023676,0.001532096231647313,0.059042333326488894,0.08219776192381631,-0.05310613621296572,-0.00939792142601457,0.0007787684548677946,0.017901455420814647,-0.007494589245990765,-0.014549965044036028,0.07490973209053338,0.049030901224517025,-0.029357142446294962,0.03460407026769334,-0.00563357615707445,-0.07911910493996385,-0.03321609259904802,0.0270581235863872,0.02345823460605866,0.0019386489607394245,-0.07419642391655688,-0.016433010730159035,0.023857155367965465,0.008271572100927266,-0.07346132915647074,0.043739590165081534,-0.0389472966064072,-0.008610337366655129,0.07715634792051666]},{"id":"chunk-7db5cddc-76","content":"We are temporarily blocking your card to prevent unauthorized transactions.\" block_card=True risk=8 \"\"\" This agent will act as first-tier support in a bank. Agents are generic in the type of dependencies they accept and the type of result they return. In this case, the support agent has type Agent[SupportDependencies, SupportResult]. Here we configure the agent to use OpenAI's GPT-4o model, you can also set the model when running the agent. The SupportDependencies dataclass is used to pass data, connections, and logic into the model that will be needed when running system prompt and tool functions. PydanticAI's system of dependency injection provides a type-safe way to customise the behavior of your agents, and can be especially useful when running unit tests and evals. Static system prompts can be registered with the system_prompt keyword argument to the agent. Dynamic system prompts can be registered with the @agent.system_prompt decorator, and can make use of dependency injection.","metadata":{"url":"https://ai.pydantic.dev","title":"PydanticAI","chunkIndex":76,"totalChunks":208},"embedding":[-0.0336099411205293,-0.0628710597418275,0.013853141482880589,-0.04539401761201458,-0.06404096126309311,-0.021058022837322245,0.017926036224670167,0.04021611919632529,-0.026826110477452876,-0.07107688448505962,-0.04000509964851646,-0.027395888651641553,0.08444923821312021,-0.025966820952821736,0.08266039708093112,-0.05795029446521905,0.037883268066198426,0.0038153842621477534,0.013266346648257162,-0.0840931789839031,-0.037424493921796004,-0.07422994097591988,0.009327815745266489,-0.00009991222058707588,0.024751262231774717,-0.026170570530091135,-0.04968105006310003,0.0715889805487338,-0.07323773450744041,0.008906019793354328,0.05329241584487254,-0.05749936788347635,0.08096591651439938,0.07225296699273515,0.011188539041485437,0.08224094939739235,0.044592495904999606,0.042646158720107595,-0.060333082835442434,-0.06148265525011888,0.03765119211468198,-0.029512932943611823,0.0032389430184149763,0.06586857332132857,-0.032889630650003256,-0.07146858668082916,0.014913960247881773,-0.048937237890337694,-0.05919036367453437,-0.011831226233565082,-0.057107627078047514,-0.003148359453872727,-0.024779024958382103,0.000626406386381859,-0.011513318929441223,0.011842754794748826,-0.07789274023177127,-0.06039246365120198,0.04527928154062003,-0.07499051410670643,-0.010021293495254588,0.0806848497483769,-0.023159009552769703,0.0764565092865406,0.06931070176777342,0.036440677422212193,-0.07037286045923255,-0.07378665819563744,0.04209618295680567,-0.08209233968238215,0.03861412963268724,0.018329132742435004,0.022706422632656174,-0.05691013286991692,-0.0593041186808054,0.06466952526766145,0.006732374493149291,-0.04864802936775028,-0.05895316423651079,-0.0387229243430228,-0.00092485496072143,-0.021972090353958453,-0.003599503478862988,-0.061324043944131434,-0.05566737159547955,-0.05567325902611697,-0.004340226801651655,-0.05787187915824584,-0.05229723402840236,0.08400078798806483,-0.01909979229877732,0.06882807534990952,-0.06398829260139188,0.08398366100347904,-0.0005831352654831551,-0.005109648878474314,0.0237468334432889,0.038638476546219054,-0.06590719956842916,0.03771919885209197,0.04653455480013929,0.03844756460197278,-0.001567158080476317,0.07358143181718364,-0.07365105823739088,0.003291561131896115,0.02193772959549986,-0.033895802648611084,-0.022404490052311807,-0.0005849050486862086,0.05041424437131136,0.041061158891048395,-0.08478287908670842,0.08754441078186229,-0.040898245699487495,0.057263984702216365,-0.008048372445085024,0.013957929082876928,-0.04496762837326147,0.039851095769455745,0.012521015367710536,0.021397428988865812,-0.05946370792874957,0.062058747278800966,-0.03809269578239537,-0.08099049932978845,0.0650068481388161,-0.08227763881769723,-0.05037620414789002,0.017494612781210218,0.010976450206016777,-0.03787630545550171,0.07489219780120517,0.04999577165618702,-0.08118030213445841,-0.034222743492962907,-0.07518259778372198,0.08459661727353507,0.001975294963976021,0.029815017639815734,-0.05222497887241624,0.05269935368542045,-0.0216851791247567,0.04664411338105208,-0.07926840301524747,-0.08781870429873735,-0.055605316959593976,0.04535574490724301,0.03048187607475035,-0.053467196285786146,-0.035917252925712205,-0.07198095387378843,0.038582128396379874,-0.0015516449128313583,0.029122752007373322,-0.005338515446381749,-0.011334191128615924,-0.05416382191023844,0.06023050795800492,0.018632204022440407,0.02001402118059015,0.050141090447067424,-0.084415782492186,0.03411083986241252,-0.08309939555530074,-0.06556051383008327,0.019243720857824703,0.03965674001860939,-0.06926849417221205,0.032163007071947095,-0.03794839408720375,0.05246450792799617,0.062228157893141844,0.02258773740739454,0.049569844003849124,-0.057949507841642794,-0.01196111143777189,0.000573616895833691,0.011608890402856347,0.0029832828843412455,0.08612524702394007,-0.01610817291295747,-0.059129982467465286,-0.07854752407376002,-0.07190238149601792,0.05255657138460522,-0.04910610826817791,0.03486819343849126,0.06252503796030386,0.08161069461957673,0.06141560919576026,0.025407007855393716,-0.04167123372947621,0.08513410917268831,-0.029656385077953804,-0.046161556520556625,0.07616630784131714,0.041584733910524516,0.05054959355272388,-0.03550861057244368,0.07944712887283324,0.010779885436677654,-0.012625786718237298,0.08442627493174333,-0.05922800503950746,0.05592547713777195,-0.006895365058370263,0.0376986164271467,0.06601085405653835,0.04592631420581553,0.010976546589544738,0.07644412191904768,0.07883277592533779,-0.0434224273405011,0.03163823965226167,-0.007547041207770712,-0.06069357790290429,-0.03207602959231879,-0.06416141567475868,0.049625394040734586,0.029808773631946166,-0.06584796372654718,-0.0851079771627963,0.014046201944751325,0.07124054169258898,-0.048570402345533156,-0.017767003942490034,0.017213632721451745,-0.030155307182938147,0.0479621144055954,0.0330476440549316,-0.001516665753676549,-0.06514518655341779,0.012807491704381025,0.0004842247725127749,0.023052646616714002,0.06896946141833629,0.0662206195354149,0.031903058082224205,0.03528994211289596,-0.08558357995306451,-0.03884478083108218,-0.05219609996279768,-0.047952087631240196,0.004450339798815589,-0.07863040666498912,-0.08649961596348653,0.08515192634127816,-0.06029821083082152,0.03544145440116176,0.006580675387310607,0.040861361100200985,-0.07291312794568772,0.00822564443341123,-0.07462089134026878,0.003045903498139299,0.051900791050923205,0.034529931709056653,-0.08525719971637247,-0.08516152410174035,-0.058668259800811945,0.03753936129111612,0.02143762975958427,-0.07495879363601424,0.015508695745328326,0.025129015389110883,-0.012353549319066388,0.008328816833029641,0.0587323947372082,-0.019170999854382774,-0.05940013909710484,-0.03857282560510813,0.07829234906104147,0.04866936258807332,0.0542298614950067,-0.06657614407683016,0.055493064544568094,0.051021463939095006,-0.05981593148085863,0.04765966907945578,0.018132796102703394,0.06417543219020817,-0.03593828241603596,-0.011615806588141793,0.08081213040161007,-0.058796065088343105,0.08135250037405481,-0.04134275010093041,-0.06792931741468716,0.01988636853236447,0.011742139984475007,0.027255128482325506,0.02644548779433018,-0.007337667570340659,-0.04933616782575846,0.03384614271577687,0.022367078482323388,0.0012911281530597325,-0.0520703609811086,0.0015756555978344669,0.02288867308506293,0.08081972663680716,-0.044306490942058054,-0.0030573750568220807,0.07722898192169468,0.06375659974170594,-0.045389353546344734,0.08744649577609123,-0.06367217670982721,-0.07935537908761389,0.0615327314226686,-0.004855906355299892,0.05119422419105469,0.0655795279520566,-0.017848430840263774,-0.07399155310003822,0.08305141795080336,0.06443003430900804,0.01955780659723398,0.01127743618949996,0.06314091952871231,0.014205162322281056,0.05926376848608945,-0.06716792898350592,-0.011138102228216892,0.07740141257928174,-0.06633008780740292,-0.01915351341024433,0.04814779612897249,-0.009943414821801468,-0.06746012002033056,-0.014525659401128776,0.030592386590697504,-0.05457605826469276,-0.07202993010592094,-0.08268958573958762,0.03480799687446286,-0.06859687880467534,-0.004328283365401485,0.006903219705648572,-0.004811412282410051,0.029422403615016152,-0.08749174355946249,0.07820455807427402,-0.011224749923034105,0.08601108524335271,-0.028494567679155255,0.06463798421252612,0.00437193807333466,0.054611442850464,0.08666731977127262,0.0010419398453816193,-0.0406595885300292,-0.028751000500819197,-0.031678740739957606,-0.016247757096548476,0.05105260346406719,0.023233478376951146,-0.07852121224634769,0.08303170041438965,-0.010314925587516576,-0.07081852812747773,-0.06599904144783394,0.051857457690945526,-0.05190086261654997,0.0720641596364493,0.009207145233756,0.03964652037023653,-0.011726714467771153,-0.07167830528210303,-0.06829852966019956,0.004690306419141378,-0.007371017800119398,-0.05968215513238297,0.037491675816501216,0.03348250316944375,-0.0592379478336489,0.040368886701510724,0.011460628292164824,-0.06217152249933198,-0.025626651358747757,0.031128993482503083,-0.039839196558231135,-0.049710904500396114]},{"id":"chunk-7db5cddc-77","content":"Dependencies are carried via the RunContext argument, which is parameterized with the deps_type from above. If the type annotation here is wrong, static type checkers will catch it. tool let you register functions which the LLM may call while responding to a user. Again, dependencies are carried via RunContext, any other arguments become the tool schema passed to the LLM. Pydantic is used to validate these arguments, and errors are passed back to the LLM so it can retry. The docstring of a tool is also passed to the LLM as the description of the tool. Parameter descriptions are extracted from the docstring and added to the parameter schema sent to the LLM. Run the agent asynchronously, conducting a conversation with the LLM until a final response is reached. Even in this fairly simple case, the agent will exchange multiple messages with the LLM as tools are called to retrieve a result.","metadata":{"url":"https://ai.pydantic.dev","title":"PydanticAI","chunkIndex":77,"totalChunks":208},"embedding":[0.022976237275850263,-0.008849928872578605,-0.08278399202459782,-0.006227862690410164,-0.06974839033601656,-0.006534311033611639,-0.0828930177604781,-0.05175844261773112,-0.014400298236472407,-0.02870979471063437,-0.00811714984330778,0.07985506245042517,-0.07064595952215291,0.023248751085444292,-0.05345646502595245,0.015509265566841877,0.038465567035051454,0.02933186384520658,-0.02238116944957968,0.08392652465192896,0.08062915498355423,-0.020528062631994734,0.012248985282226966,0.08343745974643699,0.045465096806686284,-0.07198249872172109,-0.019458606754745617,0.014436769045262147,-0.025875832652435617,0.030683637108299494,-0.0588009730274261,-0.004110182044042966,-0.07841034470898756,0.018659494300978074,0.08276167739991294,0.03549191406076568,-0.06853133721162932,-0.059253953431327784,0.06189974280914226,-0.026602155931505254,0.016061180082165106,0.06217456975220638,-0.027426808445654302,-0.06012141773549746,0.05126011016508219,0.0720302573963196,-0.047992471675879354,0.06679026294354776,0.07253757113898267,0.022023251377782962,0.029000300514073547,0.007428668658636409,0.08049764251235032,-0.021612523305569602,-0.008227908544832123,-0.05604436057975563,-0.04536533607528701,0.059549547150921124,-0.05808574453205807,0.059994358892563986,0.0540201338001547,-0.06467499937092408,0.0294084141887842,0.08398588415823491,0.047032391542892696,-0.07281406567791458,-0.038956604020522735,0.0680104361488355,-0.08538643173562951,0.022711968116637036,0.08724458411308428,0.07307451209379934,0.0727358456561238,-0.06378589520831063,-0.05121068588626828,-0.06903742310636778,-0.08187028848552838,0.03297058374196289,-0.04203530085559389,0.041543476357370074,0.08138045086724698,-0.017400313073094118,-0.03394115546140605,0.06986797919808965,0.06137067930010969,0.0031687977426654063,0.03508382098489195,0.06820452638420559,-0.048140697925521767,0.024231158021279568,0.003734156873473674,-0.021878956035112168,0.06562111924948023,0.05103934243868925,0.07257894956014535,-0.035965752053824476,-0.028548681376613934,-0.07571311937054973,-0.0036321010228816315,0.04989980670847306,0.004382521038256493,0.013553159031907094,-0.0005531887863048615,-0.06886871239031932,0.05225553832831872,0.010102063797727795,0.0628932785374993,0.02858815379567818,-0.042337768034993506,0.07394967447121131,0.03344734431664501,0.0012576341457883708,-0.05834172776274261,-0.0683676744154634,-0.0032879595415941727,-0.04290540876997793,0.06093453333731166,-0.06049776539648204,-0.017280741631333335,-0.07015257075124741,-0.08516703202848165,-0.016354065309157607,-0.017747981065789207,-0.050485757487954495,-0.009627691371644459,0.023603792986419982,0.06776708082058622,0.001238726383585243,-0.0512635452769823,-0.004808589204796511,-0.026288960563697356,-0.00251782814077994,0.08406711012855299,0.03218533956863316,0.0738101358047644,0.07153950747424834,0.07571124909532811,0.07775399898380178,0.054211291036306716,0.0032597250673358506,0.013630744924686503,-0.020716513478209384,-0.004069247405272811,0.04130813883881815,0.08265330933453206,0.0704618319626653,-0.05005459472415943,-0.022725880884204526,0.023819375535290746,0.07076251957045604,0.0794933824303961,-0.07339150427122144,-0.0037509557383497835,0.06859759323422983,0.04568076179856646,0.04990195711842438,-0.05028946990843027,0.013299019490754523,0.06938964565454087,0.02029375913954583,-0.06771310713583387,0.030918951020616956,0.0390169738465039,-0.0021185876664476366,-0.07856146231422889,0.051432425963443516,-0.024070065172210938,-0.07469022390447938,0.003265326758998639,0.06660641959306705,0.02528098216919644,-0.04964632461240477,0.027772888119380796,0.029332090010682568,-0.04410870950906504,0.07896328801502628,-0.07052962688739177,-0.07086669227268012,-0.012080880952686083,-0.01153054268331087,-0.08205292775463485,-0.0759867543999783,-0.019604865696806112,-0.04083893316489747,0.03536915286479871,-0.037591431538917995,-0.019277290579115747,-0.0869332899505478,0.01809905425576037,0.06438100854875271,-0.02479769752871732,0.019932685139739732,-0.04068741865584615,-0.06547970713148259,0.08079902829610194,-0.03744852682597039,-0.004691491820935041,0.08647108394122845,-0.010567812784964227,0.02962060842323965,-0.06238754702132997,-0.07589573059369169,-0.03656700688776125,-0.08593656064526856,0.031350723489435475,0.025302792264024446,-0.06169116849551671,-0.03501484016032706,-0.05231756953287025,0.06581062960687745,-0.06529092917861318,-0.04074540011184511,-0.061666269722463266,-0.06093973818857867,0.023581624152416183,-0.07561896523529822,-0.05431488253911734,-0.07894748566525595,-0.026402381917887883,-0.038167126879990854,0.023104523482826312,0.07491967785686691,-0.07730686034974528,0.0724640963079035,-0.06580034005119238,-0.06149094967862228,0.033315485803917654,0.01688490636733019,0.040400913233774496,0.04367044298898749,-0.05898954448792568,0.011328696906181645,-0.009353853692640671,0.00499565689583246,0.08131651917670059,0.05601264279903373,0.024852163870772506,-0.054614611048194706,0.06857036378237182,-0.0301311097819187,-0.03718155846814839,-0.04838036213545896,0.031861371307017466,-0.06827280538868526,0.07993730469948847,0.022788000048747238,0.03918276505287345,-0.0081327751971448,0.00031830350461894557,-0.08691750933914422,0.02805979706386722,0.012340541411130626,0.00329450181476027,0.031672588382002625,0.02970572106520036,0.04165501368849258,-0.03489426074589063,-0.004739146409720296,0.07213253219869517,-0.06962882884980344,0.051747847382160705,0.012428317000384877,0.018901967687505287,-0.0023126556137047496,0.02229332622445774,-0.04848784474077399,0.054592702396310915,-0.03526988804519022,-0.060283772631798,-0.05657862868554012,0.0441631157909085,0.010426396009691752,0.032300580194754555,0.04181706611141467,0.04262814180184514,-0.019842779399871273,0.004814615593004513,0.07756723550805177,-0.07686787368066411,0.08225665863201052,0.0353948055835135,-0.07919259265168281,0.04473683015642828,-0.042363675215186566,0.08221630009152442,0.01459989507214184,-0.011077447849489625,-0.07682555240524544,0.024750668138840907,-0.03404283225375837,-0.04531644267790245,0.08032164345945862,0.007936985956845017,0.035839757795450226,-0.04634392346687602,-0.02985024194240839,-0.07756438193274971,-0.046239503000441204,0.08076388533212309,-0.012757653529956762,0.07768610195505479,0.06298685838276732,0.0048767158911772555,-0.024745600203598086,-0.007172358120830561,-0.05676658002689433,0.08397767084187079,0.011615888767020967,-0.06443526737630612,-0.08140331784891,0.03322714448749994,0.00860836672207686,-0.07463784276956989,-0.0633419920761103,0.019811799861397472,-0.05069442997307102,0.014481771080677415,-0.04898282580437268,-0.07525871077838564,-0.009554643625424842,0.0652765009983536,-0.05930848977344474,0.0331548802437836,-0.08031435629172419,-0.01858080767874473,0.02947666099550857,0.01139655765375498,-0.06500950117542527,0.010157566137300162,-0.07644267892711584,0.0276062572383575,-0.004562649414665244,-0.05303058529103079,-0.06299816115495316,0.07015929294841797,0.005874833375553869,0.04727219082577524,0.03295355942198572,0.06288449668600288,0.019872679171018818,0.06593375284357107,0.01222500168108162,0.08313606643732568,-0.03814464397841049,-0.08080184336805336,-0.02982162002158045,0.0069130480002886074,0.0658388127326769,-0.057697944811737685,0.05542117322292666,-0.014457887799831332,0.004439402304169126,-0.05291157792543848,-0.01534374665696763,0.034713121205627716,0.020657835976536056,0.05762386245825363,-0.08370452934386229,-0.03274362084449998,0.01856436118908944,-0.009803903374787256,-0.0591378886112652,-0.07123166704664381,0.037678453268054475,0.0012946003736251334,-0.044785990620474156,0.06595254000713702,-0.08416103209574824,0.028928997109161823,-0.08647259938920629,-0.02918429204199288,0.08668620070561384,-0.07012797402517183,0.0287047225889856,-0.036297153787117134,-0.035484190312036534,0.021682548787631314,-0.056146406889374986,0.043532083546826666,-0.054074515209375486,-0.06429042180171446,0.07052159282748885,0.0014552640360090215,-0.008014149182653415]},{"id":"chunk-7db5cddc-78","content":"The response from the agent will, be guaranteed to be a SupportResult, if validation fails reflection will mean the agent is prompted to try again. The result will be validated with Pydantic to guarantee it is a SupportResult, since the agent is generic, it'll also be typed as a SupportResult to aid with static type checking. In a real use case, you'd add more tools and a longer system prompt to the agent to extend the context it's equipped with and support it can provide. This is a simple sketch of a database connection, used to keep the example short and readable. In reality, you'd be connecting to an external database (e.g. PostgreSQL) to get information about customers. This Pydantic model is used to constrain the structured data returned by the agent. From this simple definition, Pydantic builds the JSON Schema that tells the LLM how to return the data, and performs validation to guarantee the data is correct at the end of the run.","metadata":{"url":"https://ai.pydantic.dev","title":"PydanticAI","chunkIndex":78,"totalChunks":208},"embedding":[0.042551325735224924,0.06426946130926658,0.006399998881213015,-0.009822943813187142,0.06598814554893062,-0.08586839250180764,-0.049218673854659965,-0.08288270051665896,-0.043035419647568095,-0.06882252449487455,0.0629786584846815,-0.08394580658211796,0.030047043241907247,0.07199608700701529,-0.04564140250399759,0.07558150441488423,-0.053930113832236004,-0.06389877088534515,0.012347322876642758,-0.04055880112604134,-0.06798388606265722,0.05248181867403711,-0.025698371069850977,-0.07234160524067389,0.06220325472286875,-0.0642114298208991,-0.009309683846504806,-0.06485792883770473,0.013680313156441635,0.03722859239712707,-0.023708211462331038,0.0028601080392400375,0.04315710630990388,-0.03269241041440943,0.032897652380359216,0.07707127030622127,0.07433920774491146,-0.05519030676660794,-0.020002067348780992,0.02741462606420782,-0.005183054461948865,-0.0757971718572535,0.0631150057193655,-0.039036873862560335,0.06115517011419373,-0.03646061222842847,0.03518628228713536,0.07600714707925228,0.0778686452506614,0.06855752527717977,-0.07607029883518386,0.04963041790821923,0.0467195625718705,-0.025359897219261962,-0.014966424773108876,0.03834909218369464,0.008389639710686783,-0.016411600360693227,-0.008413157001014394,0.08573374155863604,0.05435059125664037,-0.07075132169990737,-0.03476425040868781,0.0642497257931644,0.008622645723532768,0.039567216824910934,0.023919779283917832,-0.08306281309595097,0.04483511621426222,-0.026251739287059647,0.07338333108593717,0.07594431710195397,0.06490843044439583,-0.005685746912387624,-0.027130757489717806,-0.03691006966009323,0.02487175683468765,0.06804263550758166,0.01941900801951602,-0.08163108782244685,0.019181738232899464,0.003982414895592554,-0.04932875281632843,0.022484146627411838,-0.06364637220982902,0.0755782101698465,0.024319360179300014,-0.05526072920282724,-0.05776101770357685,-0.08537280063344478,0.04352426066564388,-0.08437593899877632,0.07198941292540025,-0.025226681929348547,0.018994469882722798,0.003536577480006371,-0.03392274237216011,0.012577594573140739,-0.07300731771104194,0.05704315090744332,0.054951408616605156,0.04472335549449253,0.06664008765570517,-0.040558945159855773,0.005139432381969731,-0.05579308483531499,-0.045337731938128685,0.0005438617833070444,0.011116267731998728,-0.08499465447731074,0.04089235973834696,0.024250518861651738,0.04313860571077597,0.08290700405283512,0.0033797599583939874,-0.04723327402109015,-0.0025366209609411477,-0.04349355791706311,-0.036996532164948664,-0.07486128367402164,-0.01278093260935824,-0.06793270201185288,-0.05818386924187278,-0.04513985514252796,-0.07774577305259175,0.02289955426294527,0.07802492015554778,-0.00073229006733441,0.01827143094346536,0.05233851785390946,0.05660255569856284,0.035416003285356344,0.02617190616588813,-0.07753818961859306,0.0409685158896612,0.03131988627020287,0.044626604894834554,-0.03204330947491951,0.05722162283596836,-0.04642122236503852,0.06873169146141113,0.05237543873458478,0.06003902333350245,-0.03645476553597955,-0.010734313937784836,0.08286705500734254,0.015133383270740142,0.05008780353368604,-0.027683541324294677,-0.026102152042730083,-0.02860303030982271,-0.06227342407780569,-0.05440231551718485,0.03288196249901851,0.029371701118296057,0.07229841986197265,0.047557060018330065,0.08564027840255699,-0.04322001861791061,-0.08035937373582594,-0.009963482589970546,-0.07872077850566903,-0.06242767496708762,0.05397373702003978,-0.06860126239545167,0.08490574344748128,-0.019488583209915252,0.014396759855050744,-0.05210551835105134,-0.0071920800529188,0.015963645700875773,-0.03510000883980498,0.0774791463961083,0.029597556695899405,-0.018499765270521846,0.05121694401007685,-0.03571953848659507,-0.007883662008420911,0.037077043736523235,0.08375240178007841,-0.008098876292765058,0.038660574904590975,0.03228171251274972,0.07466321506201956,0.019232402395051484,-0.07098820991094194,0.03829149031472298,-0.07850986502640052,-0.024447501730441086,-0.07434520997268093,0.01737295704605674,0.021795325353528357,-0.042704161979996366,0.01113077705153374,0.006255383417199987,0.04536254517643944,-0.009404335629085001,0.05806580841414346,-0.006642922817041044,0.0559362646657363,0.04853189961863852,-0.023236336108877795,-0.06245973314539342,-0.01397439694667628,0.04889364533948272,0.05824261748972919,0.059703316214434615,-0.002224295492906378,0.031076906003971547,0.018361060674003737,-0.028760697222426468,-0.07533865969893912,-0.0842496142173695,0.07732243363628322,-0.06454425440578612,-0.07337284898940638,-0.049161312956000375,0.010008230424992938,-0.034982775619609954,-0.01731206271891312,-0.07505886476232068,-0.04349224669083125,0.04140825857742441,0.0780347439458338,0.08207859290525747,0.005114850762611592,-0.06202692223032645,0.024962189204904825,-0.0009271115335743754,-0.005749773532930847,0.03259778047600943,-0.0778562313070449,0.005824815946309628,-0.08221265814262103,0.08145742480846273,0.05551051797805235,-0.03867582700597625,0.048604648388268175,0.05010135397665427,-0.023717266155602535,-0.019831190081663043,-0.0000018049647692584455,-0.06330654867725637,-0.03012237332175058,0.03650562416269728,-0.0764655327159847,-0.05022969994357672,-0.010894707280527932,0.007873040327395319,0.019948426403986454,-0.02441857730065656,-0.0782664101480805,-0.05680931498890868,0.08579888495104103,-0.07805997424208293,0.030063544166888105,-0.010022541245920146,-0.07676618503363006,0.007637308818174773,0.06410332400829755,-0.007941506145612207,-0.003939531250668172,0.0007332314568981953,-0.007299985921819988,0.07668533314770166,-0.006708475764984985,0.0635179979356912,0.01913628608654802,-0.03362441555481378,0.030125590472194763,-0.05947745355408733,-0.020294211009806582,0.017492689462626672,0.08284494824630044,0.041339814593818934,-0.04329532775063043,0.07218981640567151,0.05953715327483514,0.043275253043601,-0.012490666743620487,-0.014519889790846953,0.07891034149846066,-0.07844885411436603,0.07267651329011189,-0.07920015714266469,0.04039128736905354,0.03536903073892439,-0.019005306253253716,0.0019248076261082407,-0.07894421636313374,-0.002268111054197107,-0.06161807045892733,0.0452798117211446,-0.02431633716631005,0.020543307485478796,-0.008849426186236055,0.01403899387944407,-0.048544181829405654,0.012757134809744797,-0.01435115072965734,-0.009953628613950664,0.03890135328456504,0.05921503767545359,0.040193276959254516,0.03789812592025092,-0.009919552944601805,0.08210361359237116,0.07185482829206427,0.071304283213918,-0.06433509973607937,-0.05934223127084475,0.08417984023485435,-0.01494775564670546,-0.06811700242323836,0.0339898199574434,-0.05801406229445348,0.08377325053223339,0.02943484544673312,0.06273300317804657,0.016306760866922163,-0.0054474020823626675,0.006748243154189163,0.08339847053066232,-0.001410873464743481,0.030674002282318317,-0.07776576772883005,-0.04382867298828345,-0.012297656373225415,-0.008606427442470643,0.01632887629350512,-0.0516809262598523,0.08372245050748248,-0.0647569078124705,-0.035423209973825164,0.08583763018408287,0.015673367866259804,-0.005311018063262032,-0.07772353302695978,0.012988903576855742,0.026848720893007005,0.0731907116413866,-0.03117326664065771,0.0791387552626321,-0.036810020978637,0.07994056173098976,0.07126799176114182,-0.08293592229301476,0.034762625141161775,-0.07493830088993812,-0.005770142576486647,0.03016267110313864,0.038487602002952384,0.07764272201513013,-0.03843977337513478,0.02696679087547041,-0.0667548911319583,-0.038677661880130436,0.045458183001363964,0.04026933488247459,-0.08494581683134442,0.0349362544169532,0.013138841837135758,-0.07747195339067242,-0.0802766522787523,-0.06248509974552219,-0.06767013628706664,0.037885039150200465,-0.07512904314651034,-0.07465113657850225,-0.08444441552580806,-0.027310956022929288,0.06387854994209356,0.026378548433313984,-0.06284028440148351,0.023516096493966406,-0.07223833675758277,-0.0007770609844266334,0.04949423437474337,0.046350767178571985,0.05821382162282222,0.03413868220854328,0.028694616867055135,-0.056420634653441916,0.022067412514977878]},{"id":"chunk-7db5cddc-79","content":"Complete bank_support.py example The code included here is incomplete for the sake of brevity (the definition of DatabaseConn is missing); you can find the complete bank_support.py example here. Instrumentation with Pydantic Logfire To understand the flow of the above runs, we can watch the agent in action using Pydantic Logfire. To do this, we need to set up logfire, and add the following to our code: bank_support_with_logfire.py... from bank_database import DatabaseConn import logfire logfire.configure() # (1)! logfire.instrument_asyncpg() # (2)! ... Configure logfire, this will fail if project is not set up. In our demo, DatabaseConn uses asyncpg to connect to a PostgreSQL database, so logfire.instrument_asyncpg() is used to log the database queries. That's enough to get the following view of your agent in action: See Monitoring and Performance to learn more. Next Steps To try PydanticAI yourself, follow the instructions in the examples.","metadata":{"url":"https://ai.pydantic.dev","title":"PydanticAI","chunkIndex":79,"totalChunks":208},"embedding":[0.017255923036449933,0.04838185340109174,-0.058105046929758784,0.03664247861686904,0.016527275113191034,0.01597951444348863,-0.024223035481289016,-0.02586534633342551,0.02685048383010961,-0.05781431426220649,0.0768754848114378,-0.07917473366430822,-0.017056875045847034,-0.07625459293002726,-0.0029552490997870533,-0.08103568765928669,0.05672210276140816,0.06032924612376686,-0.04781117075488919,0.038093824600971216,-0.0280716957495695,0.05187818996625666,-0.062054480098785864,-0.024987638094127386,0.058490484909134395,0.07758677011691413,0.042928062187281575,-0.004544247881817122,-0.08472685119560865,0.029987223509324427,0.01947432792428543,-0.06873963941806803,-0.07526992415340936,-0.06564600973979139,0.07892643332471318,-0.04180171491174488,0.08096078266702893,0.04381505868303034,-0.018140467672171416,-0.04239918041507216,-0.07201394425245089,-0.01040275884044226,0.018398130517462395,0.004933845891735261,0.013769102758513873,-0.036088851243562904,0.007426975622048366,-0.08248652691791118,-0.06448294802290912,0.08372191808762033,0.06682881128861046,-0.07493025943524965,0.03087585770988679,-0.005269058668485586,-0.052875327861193436,-0.07156122767187773,0.040772824786166915,-0.06755101636901975,-0.03962029483582416,0.003929211996928742,0.04451033620837329,0.070193764153135,-0.010566409777117853,0.0780566220921378,-0.04914018478666803,-0.013899883107883078,-0.04629112839880407,-0.03800151038352364,0.03432667358795876,-0.020886829320107256,0.048230531314088325,-0.0815426175350265,0.07679124896162612,-0.012492112891672973,-0.004131475744974581,-0.06483795144555778,-0.03786748342259169,-0.028695700224946004,0.0026139439271365937,0.05788393464516486,0.052431679894315894,-0.06100113856710169,0.037814043660879905,0.028794814095300967,-0.05147064433321036,-0.06897802376243634,-0.05237276269046228,-0.023856276802483187,-0.012345695167270895,0.07424599949047048,-0.011879294765574692,0.0585563557806867,0.005746625163469558,-0.001031557943192078,0.0008401369496690512,0.0596048314783168,0.07236671163046289,-0.06796123016468242,0.0012335428020679882,0.02128928504319632,-0.03496546578201224,0.07137122880376873,0.052949120809900524,-0.04672162484911513,-0.05661864954088866,-0.08121317412142907,0.08637331382803731,-0.01599233394128602,-0.059975916450399985,-0.06571845749726862,-0.011737232209579156,-0.07254693873817103,-0.07371059062361734,-0.029475886626177093,0.0755490780211575,-0.009893415467533286,0.045009867735430156,-0.06664807350813809,-0.06179705089360193,0.05898363746143806,-0.009744902490788174,-0.07987734132099573,0.055086960943871825,0.02507788522796071,0.06991998190067918,-0.025414826637266578,0.012606516660091374,-0.08630196387718966,0.07760806814426043,0.0030957218775591504,0.04061067452389035,-0.06209613823798255,-0.05343922871801261,0.032796075317398254,0.04845388480799214,-0.06739551430452861,0.053672245755517725,-0.05763347410982194,-0.04030108579076318,0.033851607253985234,-0.028443765767966863,-0.08232075178298964,0.06300799666611034,0.03227480281946646,-0.061784607766697516,-0.000830532057904741,-0.07578777387186764,-0.0696386623811974,-0.07939768279064907,-0.04457877206125359,0.07948138240363742,-0.06443233704356285,-0.06274317106536235,0.06031428757719425,0.03400951367962269,0.045125410569357746,-0.08420788483039801,0.06016784267560328,-0.0475085691052748,0.029705833532850102,-0.016077069602297045,0.0385652259204458,0.026303674617039852,-0.033789735834314376,0.012286327693903825,-0.052156181571385074,0.05386563632553206,0.028272311037790633,-0.03473653378944306,-0.012770820382177443,0.08475224603978279,-0.04537885194976091,-0.04004471533250475,0.02625885017652853,-0.04625589591631616,0.07220192209695744,0.07095968367036097,0.011578732869514422,0.006973849180927557,0.05012866895071761,0.07884535948125367,-0.0782624585494284,-0.04769449215594575,0.022532100520053774,0.06733652102945845,-0.05766413053792918,-0.0435858929616707,-0.03264700786076204,-0.030138421866714223,0.06605293847535768,-0.08481664755554777,-0.07440668534344344,-0.029347198928452455,0.010790717871580435,-0.021810653395134133,-0.060690986886754325,-0.05977133318203592,0.009257549564875246,0.08345629063708616,-0.029842951347475274,0.011400401059032417,0.08338199743783219,0.025272564015845433,0.0293848940437115,0.0575877379763447,-0.044416394112847174,-0.07866321980973243,0.011989075911445268,0.03125404940303825,0.04844379063631599,-0.010587421831748718,0.06318505078595964,-0.08370216924091968,-0.013481115667330276,-0.08614925391744628,-0.025059353280408824,-0.06802444862596216,-0.005998925957042999,0.03529045066550074,0.04230299031462176,0.022439281388699946,0.009516783267113022,0.028002714424405946,0.0570578398546027,0.08098711801599502,-0.05500002889075646,-0.012504485252559226,0.027275615655724374,0.006781350420826905,-0.0032659085273094553,0.024355982557778946,0.005539320599469229,0.06950094919663091,-0.06962360994453065,0.020879674323495034,-0.07061616606729106,-0.08477351041614965,-0.08425425233296989,-0.03511603028557954,0.0016793803211429112,-0.05355416158733629,-0.05510547330438258,-0.043708124959397736,0.0495607577626014,0.04882938001767428,0.04834227985665881,-0.05176482189234618,-0.018822342863743326,0.08427648790082931,0.0287127647905111,-0.023714441746580897,0.03264691228241968,0.050024489255057765,0.042841734885754504,0.025135839567086368,-0.04723905034912093,-0.07192173264023287,-0.01795352335112243,0.023989076600189,-0.02919746064794287,-0.01580594611610539,0.07286348740860525,-0.05802588821261269,0.030300496826514502,-0.0187436941521225,0.025364458957323595,-0.07006244303549747,-0.05473895828496271,0.05998846636620474,0.02016692622940392,0.07403699500671639,0.04954384746346752,-0.04437219426885687,0.07164424354954553,-0.08180271408991194,-0.019871739342000146,0.0737144255462484,-0.05795619939633813,0.06324840036669145,-0.0678602589832761,-0.07799023277427128,0.020069178210465874,0.04905300415187382,-0.04392595801816659,-0.04674900780384632,0.030958395257360244,-0.008908530135113637,-0.06118480684857097,0.03679221857589546,-0.03686573591827184,0.06725467388871206,0.04995026608420245,0.05525592025367794,0.08364935841541643,0.025468874329171904,0.03738992270761917,0.07130135998852305,-0.0752468537978296,-0.02138498654221899,0.038875670466751416,0.005803506761502502,-0.01659467531098045,0.07448388614461,-0.061802077944971306,-0.0658147841904571,0.08366367822873108,0.022385184780610853,0.04541082624422794,-0.04536881403391661,0.057707804116760075,0.04988127923397013,0.05254997494130271,0.01591017704785272,-0.01758199326990099,0.047702094875947364,-0.08229520616884219,0.07950164017471606,-0.015041210457157566,-0.018832859239219246,0.07039385743292172,-0.008015730503855597,-0.06797229861091185,0.037019638512471136,-0.07573179429236668,-0.01409353049612404,-0.018004357685136002,0.06728221817615905,-0.018389203953237652,-0.04217598332182055,0.08528393181734176,0.007765209266872033,-0.014730499564555364,-0.015928223001752718,0.00867649160427327,0.03633411037048937,0.054626754264247186,-0.03813557464472486,-0.05374168051551026,0.07624141380765835,0.035375052145820866,-0.07530061610166942,0.03361745377494609,0.013306725185535592,-0.028142465263004346,-0.01811143981092832,0.00018696916098723246,0.07035919734504191,0.04588986541239963,-0.05464743632264507,0.020274577052270423,-0.06642642565392046,-0.0760295708766789,-0.05032859532168403,-0.06796051150783679,0.033165946383589405,0.025127740898951215,-0.05101716895989438,0.012873648848242393,-0.08288442042044497,-0.021265132600145766,0.02514267670962206,0.07339772237331327,0.03788154861642274,-0.06304040711993336,0.006691113974258505,0.07699610174789329,-0.06321758173802527,0.0691053575284351,-0.07096051999811756,-0.02131033085630405,0.029103673712857738,0.08435113269466803,-0.042817075824409134,-0.07433833271443771,-0.0007370791967593696,0.01766344131478325,0.07244348615445778,0.019941078614869785,0.028083655381370413,-0.01303151286673588,-0.03155961257011642,-0.038649875519192196,-0.03685988142187741,0.03570717145740616]},{"id":"chunk-7db5cddc-80","content":"Read the docs to learn more about building applications with PydanticAI. Read the API Reference to understand PydanticAI's interface. Version Notice This documentation is ahead of the last release by 2 commits. You may see documentation for features not yet supported in the latest release v0.0.27 2025-02-26. Installation PydanticAI is available on PyPI as pydantic-ai so installation is as simple as: pipuv pip install pydantic-ai uv add pydantic-ai (Requires Python 3.9+) This installs the pydantic_ai package, core dependencies, and libraries required to use all the models included in PydanticAI. If you want to use a specific model, you can install the \"slim\" version of PydanticAI. Use with Pydantic Logfire PydanticAI has an excellent (but completely optional) integration with Pydantic Logfire to help you view and understand agent runs.","metadata":{"url":"https://ai.pydantic.dev","title":"PydanticAI","chunkIndex":80,"totalChunks":208},"embedding":[0.05004204843235343,-0.015456412290501534,0.07643010802513638,-0.008624894756928686,0.010101470639738175,0.054348309928335704,-0.08067350897712272,0.0601350764297007,0.0013540465718739048,0.007360231052514141,-0.083840630170404,-0.010363298413697902,-0.021727183576223184,-0.04305358102720381,-0.020786197534942367,0.06434487363519517,0.07923409548984285,-0.06736392510679254,-0.02695232565670892,0.048032481223923305,-0.011781369265280133,0.007392090926076155,0.0841133390827188,0.022327699188882943,-0.04088927072057108,0.024018099551866786,0.041221339945935416,0.0022946314447838943,0.06482384280040439,-0.07850517917456823,-0.02760229840859836,0.06421680932125365,0.020364420231587594,0.07128823398450153,-0.014284920279159032,0.020860961214100596,0.013187374078811957,0.03949558230168372,0.06631068279778737,-0.04103587334812728,0.08227100763978809,-0.05084975995168423,-0.07755239691292543,0.08079126858976557,0.07041181097541994,-0.08006607017009094,0.022013432212671144,0.02946405429024842,-0.048740979238050895,0.07873905832903172,0.042037794540405356,0.05754660653560993,-0.0657013088240341,-0.03851766351105516,0.08064494312696403,-0.029712776184990335,-0.06360953255619581,-0.03712088418669901,0.08072487108902096,-0.011612813896783274,0.003389921775353222,0.04921293969527101,0.05839460389132114,0.005358560171059204,-0.06734163499754608,0.0004978136952486908,0.005287738175221647,0.016019209911479117,-0.01861009350552019,0.022119368467687823,0.012090523976096288,0.04774400943645305,-0.06762157316914917,0.0029425183955634013,-0.06669184659532525,-0.08346519611525971,-0.046043308930519,0.05778596059816627,0.08115563181267393,-0.08148054424142935,0.08633332098066437,0.02632565279466463,0.05832192803262535,0.04201929089823527,-0.04987358411620273,-0.08520069658385065,-0.07238674549346491,-0.07688205017935874,0.03575838310383594,-0.003898226550460493,0.029485543376056862,-0.006347189540830359,0.06910705642704204,-0.034226769143915835,0.012807404137249019,0.07000239761398745,0.07731850775155517,-0.045608560366984165,0.049051032874951384,0.01870251589714133,-0.03728013630992349,-0.01128417064544539,0.0042322060261603895,-0.08477265242971178,-0.07856295077321701,-0.05866265386074849,0.0665239515314327,-0.055522658516110136,-0.0234826283485972,-0.02601546245816408,-0.020980574863131166,0.04424678694388093,-0.05344495189784791,-0.0760331191988016,-0.02206192938225976,0.05272037879061649,-0.051644870483474735,0.07019532927809428,0.03493472820804311,0.08036539737220673,0.08345478992873986,-0.027614450310396155,-0.06908538292214533,-0.031054664379152115,-0.005124287436350256,0.01491199882299474,0.05761648715407204,-0.00011179851605995291,0.06365212940145847,0.07001242415010854,0.00929389587298767,-0.03695967364760082,-0.04902301616471886,0.035558925927545226,-0.0838844769107999,0.05110549428449213,0.020348191685412503,0.07112039351459384,0.011822335975553894,-0.0774150557889432,0.07516867715815573,-0.02177948278014137,-0.005055624370423701,-0.030006124951552415,0.06582751797067332,0.03542533466383101,-0.08460690176236946,0.008947755460852372,0.0042444631213238776,-0.03803626786795085,0.006876264182323728,0.04216670868398825,-0.05893064206588305,-0.08174533522215029,0.0004865434279828233,-0.06177943340280699,0.037345647540364874,0.08186077950883809,-0.06437301551212854,0.007887626799830048,-0.0673746411696561,-0.04809956098203273,-0.06015364534439676,0.04399567064785757,0.062030087152129085,-0.02006697611860266,0.04599517735736967,-0.0019224732912107743,-0.08043622749522542,0.014321397137273853,0.06641967821851984,-0.0009142884231043534,0.06706986541254104,0.06491375709439388,-0.00006886263137926382,0.036974852729222775,-0.0060073295852623955,0.03384282810674796,0.01868687499282237,0.022765929046677773,-0.01862338348452728,0.057782474256233785,0.045975272342049726,-0.04025941735836746,-0.08110478547712703,0.025201397514453147,-0.08111536593773717,0.005711188031662559,0.08102467049390571,-0.06936988730164034,-0.020239833470646437,-0.08584377175781775,0.07649271641656509,-0.05536174563366237,0.062035999218853624,-0.04448451219333596,-0.0061960454963953734,-0.0031033053449376264,0.0650150890259054,0.048832122207946346,-0.08301472283167666,-0.01791800843850368,0.05503695596597793,0.07704792037903868,0.05153288224845152,-0.0035974551914138304,0.0033813723191217643,-0.011679604225890953,0.06221498993714154,0.07201406591420453,0.07159541445528286,0.005201380941610743,0.04125020602471779,0.03356296207246136,-0.0863859134965971,0.032828240396019094,-0.04901027099988278,0.06931706024219036,0.07845754384631119,-0.018672675324216684,-0.0037719725515466557,-0.013658988158722378,-0.018738062760127815,0.076067247076261,-0.04443067526075396,-0.06484752318825344,-0.05113759839919051,0.006218442998150279,-0.05416222473517596,-0.08550974623888044,-0.005221896499600328,-0.03886745663623835,0.016718510745954457,0.02131386363490737,0.01642986495655998,-0.03177257538392672,-0.03697151689762501,0.06938138623648923,0.06819775342821269,0.0341609552617577,-0.044279266133973594,0.02715740532570107,-0.005096565788783783,0.03441445535844625,-0.05858282639617868,-0.023340183721218342,-0.013642369357909695,0.07761382106723672,-0.04798873666818229,0.03268158582108827,0.061406129367804395,-0.07904508744182902,0.08319538046603946,0.06695665554942144,-0.0006503756527988796,-0.010228040754497276,0.021357971544001427,0.08158532224744716,-0.05255331705728198,-0.07896410093002272,0.05241315574088745,0.0800189848444068,0.07758706726161238,-0.021156242039367407,-0.03786745161859349,0.06146948642665364,-0.032576527367942636,0.03222592591072542,-0.05353800330525291,0.059011537086380905,0.07348905946540366,0.05977886293978704,-0.026252224821347737,-0.015122229294750792,0.05034666046819213,0.017969345512698912,0.054409542823968794,-0.03841727724920475,0.01757572709815289,-0.01093292929320435,0.008396000458388772,-0.0031989316259893696,0.034694149022387495,-0.06512771883604239,-0.005961200787846363,-0.0005243222255883026,-0.041045431581581325,0.07297911383353166,-0.05293735416043298,0.0711315600067836,0.07232827926165236,0.00014205700513680652,-0.026175447930903633,0.06305983113143523,-0.050157028550034136,0.02258662396414113,-0.049189128962714476,-0.043812386293787524,-0.005846022116830504,-0.04858579767287431,0.04093948933851744,-0.005903124744126183,-0.0035334149177752992,0.0030424177543697173,0.01567419681859085,-0.07919992071587076,0.0033440234597539296,0.039076566722642536,0.06918124110297855,0.08114340770205307,-0.03243008858533504,0.058951309153117255,-0.04225210878577759,-0.08071261792420006,0.08002905780453004,-0.05515979236489382,-0.006501002813476849,0.0557298689883908,-0.08651863706055793,0.011655876487131598,0.029158154083127785,-0.07509629699371506,-0.02472612222701551,-0.03217748154662992,0.03777599038103982,0.08032911368088576,-0.02918403200680949,0.006965078333588128,-0.07050911235209761,0.0774854921074708,-0.04705335393445471,-0.003670028278832909,-0.05647416882761433,-0.07545919917858446,-0.0371765972286438,0.008336482293391833,-0.06266923672916028,-0.08315272996637914,0.02419821302392623,-0.04573512139142817,0.010262876115201847,0.07741223011170742,0.04781523390990936,0.06309998917490126,-0.06521053131880404,-0.0469061739542742,0.06223228001886004,-0.07464124111876433,0.004681024009709939,-0.0648664936001089,0.03506120426013084,-0.0016184300902853015,-0.02483448284591516,0.04030943899395805,-0.02790469879385596,-0.022260443930282144,-0.00672331177873965,0.04499771632035743,-0.02511571524465264,0.00518738720801785,-0.004086489628369941,-0.0534791350238374,-0.0682270614620024,-0.04912257987858342,-0.05088714340732812,0.08457378125200371,0.05468245720827545,0.06888551987647652,0.04969393792032058,-0.019196538482946904,0.05898618150462374,0.08006188739441455,-0.07096695734913692,0.07848809526069209,-0.027188749428119205,-0.01723056763457496,-0.059586255531001726,0.06167428380293122,0.0002694419886799869,-0.0804797771966406,0.009368607421004052,-0.05695140346673817,-0.052679317601310824,0.06963723746257483]},{"id":"chunk-7db5cddc-81","content":"To use Logfire with PydanticAI, install pydantic-ai or pydantic-ai-slim with the logfire optional group: pipuv pip install 'pydantic-ai[logfire]' uv add 'pydantic-ai[logfire]' From there, follow the Logfire setup docs to configure Logfire. Running Examples We distribute the pydantic_ai_examples directory as a separate PyPI package (pydantic-ai-examples) to make examples extremely easy to customize and run. To install examples, use the examples optional group: pipuv pip install 'pydantic-ai[examples]' uv add 'pydantic-ai[examples]' To run the examples, follow instructions in the examples docs. Slim Install If you know which model you're going to use and want to avoid installing superfluous packages, you can use the pydantic-ai-slim package.","metadata":{"url":"https://ai.pydantic.dev","title":"PydanticAI","chunkIndex":81,"totalChunks":208},"embedding":[-0.015231316386552892,0.02957746374240511,-0.08202811771842942,-0.04893493129376963,0.0788416794766548,-0.0740814193724546,-0.05571610737348361,0.021655750607957956,0.07681702756980809,-0.06613479683206058,-0.024255490214304468,-0.000667201822480072,-0.02677314395036648,-0.04882436311723841,0.08712457776811917,-0.04685141821132442,0.05397704007286698,0.07124138172624868,-0.012723845119001993,0.05317737512311874,-0.0758825214540301,0.05667229550446215,0.014893875333078028,-0.08642819967699585,0.06338819583370812,-0.06781557645181274,0.0679305308809588,-0.04991474856966877,0.04162740287830212,-0.0482127944218003,-0.05162400900875829,-0.08440201055575196,0.028328335383079977,-0.06551815999897342,-0.054127561248725815,0.011223689963669263,0.018596687956069953,0.04833134833905625,0.03383754555309588,-0.07733341086176289,0.04878882599783363,0.003826148490115692,0.05940140797872326,-0.08062670123282392,0.0827270198836182,0.005805597524425948,0.06055849313018649,0.07053792123634402,-0.07793238788014159,0.08458920969122763,-0.07110629304417701,-0.05856007084172425,-0.07407832952284518,0.08408562015356899,-0.08075258697735517,0.06888762948945283,-0.045919807424113696,0.08338375942671863,-0.07149230152298636,-0.06388634619538547,-0.014115094249673197,0.038133253579149255,-0.05160958230875898,0.02038637669627949,-0.002554017022545835,0.05283310893485497,0.07451122647385293,0.03667048718107864,0.06028312504339751,0.03968141800198459,-0.04896069247719177,-0.028990111095602532,-0.03026633368694885,-0.052187441391737574,-0.05168974064158257,0.0658872062411815,0.005497930790872957,-0.00873940717127237,-0.023012884628730166,-0.0588130543357601,0.07100789479622376,-0.08326757170243085,0.061672865521521,0.04675493123484986,0.022368874464945235,0.050639576746404485,0.08068322944211546,0.025578344818734146,0.039116362688241056,-0.04094170416556479,-0.0737136129472823,-0.08618859707115276,-0.03828197551787379,0.05773118915606857,0.08576854824945314,0.029026998037646957,0.07862666861841952,-0.013177192894358628,0.022311399726242416,0.05993518658975327,0.08413747193107188,-0.0855391264942326,-0.016579526217839414,0.04319858009000673,-0.0001920588833770277,-0.002164888576734873,0.03774802519442654,-0.04220653020691127,0.057595465501114225,0.022098714495846,-0.07147969315052975,0.006938940801987305,-0.021327262690931444,0.06790703563438837,-0.011587276908959564,0.005724971942039748,0.0813179846031888,-0.04725757388117784,-0.007583191038275247,-0.06783599533559963,-0.0031134049207241165,-0.04618339342703318,0.03933359925005796,-0.0008778245946311992,0.08320599717520426,0.007307416946876626,0.004506961088171508,0.004085052071812303,0.04801884691844237,-0.04481825294665036,-0.06138804604509349,-0.021429993946956646,0.02159958189230572,0.06541767247433405,0.05033272012764283,0.016234770627641414,0.023088559640814757,0.01322222415507753,0.05458117223217935,-0.06895588793632688,0.014989993208842277,0.002770476115468986,-0.06266398756584957,-0.03324394158584205,0.002529640864749409,-0.03366514240256299,0.08084019180663214,-0.06703596979729222,-0.07388818739207317,-0.05294169481161449,0.07028503615267974,0.03400283531662918,-0.0690444285899304,-0.02644273945511772,-0.06407556162171199,-0.0006464837249484258,-0.014373423494951685,0.008269106117078324,0.003696494828818889,0.06197762664182492,0.03438940413971691,-0.03127890559799714,0.07385917469581506,0.031613399256376275,-0.000969315860524586,0.0035111256354397598,-0.032941147615355444,0.014170784064162747,0.050565382084621226,-0.04080036589633066,0.03204273869814848,-0.026401104039769096,-0.04032287984685885,0.07550478280318916,-0.017714161345232158,-0.055198251787705946,0.02236914043280707,-0.02557887103887831,-0.08547487326746092,0.035214707158265246,-0.06869700997737191,-0.05673676349081832,0.001780086630036087,-0.003424288165605838,-0.08251847674375651,-0.034129955487889024,0.018848725457226212,-0.04093556267139449,0.050688045738073784,0.05879539277113596,0.04989588367240349,-0.03372715470746473,-0.05383087457991143,0.05792467688098787,0.03647256679155709,0.06659567550936778,-0.02919865825929224,-0.0836425028228864,-0.07109296624612342,0.013146292351379946,0.0725591385103316,0.027830287535722684,-0.0037194013816385847,-0.02795399995835325,0.0136134204427343,-0.002275676694213772,0.010106876244071172,0.0035960140024423565,0.008628247241322641,-0.029301393712320642,-0.05455845220591992,-0.009105175310309438,-0.031690575748050905,-0.06174234439176622,-0.03702291967559663,-0.041172619200582274,-0.05753766163882121,0.06724907534324323,0.03391807217572441,-0.08490440567214567,0.03372181325199861,0.0380670461099399,0.05420630808141803,-0.020781453181615252,0.038029815829289305,0.015525353193861722,-0.08169667833976423,0.04815826403569125,-0.03130820477056199,0.061169014362066926,-0.0810742927518294,0.03086541058150051,0.04334157117645713,0.01178450491574925,0.07101139456466907,-0.022718912740279065,0.06564078923006558,-0.0243214468504765,-0.07325249519704181,0.048849176090276315,0.0038589125003577556,0.035278181351079435,-0.08488174531224242,0.04737758428415275,0.05523256175693353,-0.05740608339766451,-0.03427281203500552,-0.08054638351072604,0.028020039762686168,0.041558727065899574,-0.0303455847840421,0.014229235327352575,0.022540061803684664,0.03701394807734824,-0.015827788853953025,-0.06629670335476626,0.0070842552410268845,-0.06525072817739665,-0.03270827184335183,-0.03653843626759679,0.005953604908885151,-0.06292520919551757,-0.08444571479706686,0.05578954530929116,0.048061101353239134,0.08180861116325785,-0.048635937198534894,0.032199349674806144,-0.007523804455753344,0.04643556586750692,-0.029274185733744313,0.08406994286861431,0.00018525928709747541,-0.05304335782960682,-0.008231011434050365,0.00045683900440504415,-0.029191231740340943,-0.0034574851526123097,-0.026385225407963373,-0.02427592119654294,-0.061098028020801415,0.0476937822446333,0.08266005062878756,-0.025833659116223498,0.032593883125876945,-0.011563897005525285,0.07767261448124924,-0.07463603387750745,-0.07509611275424628,-0.08020426254790682,0.08734300339668255,-0.0877499306990308,0.08657322141659979,-0.0737110640415401,-0.05469332335676583,0.0541010863527424,0.03779061717448481,0.03308150516491576,-0.08264981608623295,0.02242303609234301,-0.013756509337934177,-0.06106319027825974,0.03953822002063007,-0.008648515568488222,-0.015812519589015035,0.042659782920907996,-0.024209886465247663,0.006451385065331434,0.05789961241414831,-0.06872968701662503,-0.03407644690770548,0.026876458616033785,-0.029606258990831417,0.027896054717284596,-0.025454588828851897,-0.07281337472922199,0.019214859306005472,-0.016233112213289814,0.06469959901779228,0.037148094562262514,-0.0009991114796368762,0.008892579315113608,-0.06157419948716687,-0.028658919644891572,-0.07752599679762677,-0.08110326179149371,-0.03212918113259156,0.01165033138899894,0.059638271623330456,-0.03928318422644279,0.07285752567708345,-0.003032292329319072,0.023900070623900416,-0.04881030238670415,0.009890366936332544,-0.041419229656363556,0.022595796454179633,0.0045261720638675885,-0.07024654401136525,-0.06172682355222746,0.051569047104899735,-0.03477003903581986,-0.06980259098526584,0.0855805661278892,0.07613890905195239,-0.05891981548814887,-0.0011604031666040777,0.0465049585650537,0.06237178804445474,0.039263912492684266,0.03633836375724035,-0.06668477578987805,0.05586140720464946,-0.061035616436349534,-0.06883362444779158,-0.0285502825426764,-0.028210627516082956,-0.048285546007663875,-0.07909751609597039,-0.07272853402052522,0.033147487748942085,0.0053695666287280645,-0.03512652309831528,-0.04102706570186301,-0.05729190501426589,0.04481427213586574,-0.029262453960100313,-0.02612776203758027,0.021589055923899588,-0.06365427033504899,-0.07612342432961937,-0.02061032246708932,-0.08778258244704222,-0.038517370269326924,0.08356460412306636,0.08516354321766852,-0.00781288764630647,0.028622804361557265,0.08459311658455196,0.06668439740401574,0.020483496641267706,-0.07357811565999915,-0.08442824996200743,0.008572725148875707]},{"id":"chunk-7db5cddc-82","content":"For example, if you're using just OpenAIModel, you would run: pipuv pip install 'pydantic-ai-slim[openai]' uv add 'pydantic-ai-slim[openai]' pydantic-ai-slim has the following optional groups: logfire — installs logfire PyPI ↗ openai — installs openai PyPI ↗ vertexai — installs google-auth PyPI ↗ and requests PyPI ↗ anthropic — installs anthropic PyPI ↗ groq — installs groq PyPI ↗ mistral — installs mistralai PyPI ↗ cohere - installs cohere PyPI ↗ See the models documentation for information on which optional dependencies are required for each model. You can also install dependencies for multiple models and use cases, for example: pipuv pip install 'pydantic-ai-slim[openai,vertexai,logfire]' uv add 'pydantic-ai-slim[openai,vertexai,logfire]' Version Notice This documentation is ahead of the last release by 2 commits. You may see documentation for features not yet supported in the latest release v0.0.27 2025-02-26.","metadata":{"url":"https://ai.pydantic.dev","title":"PydanticAI","chunkIndex":82,"totalChunks":208},"embedding":[0.039111726370487016,0.05047011157962773,-0.032480231275169816,-0.049727853558567604,-0.05067150386885587,-0.005846513607390892,0.05677273470069569,0.08338463166679765,-0.01777218831126066,0.015707397155140752,-0.0588440031441005,-0.021348782197981087,0.0509039241131081,0.008253939353963168,-0.0530344747163842,0.05548306855120295,-0.03612099976102053,-0.05567178746303612,-0.014385496505851868,0.07946415077551795,0.06959277748550678,0.05804252618238823,-0.017500485698341738,-0.06403545483649341,0.016703656429702524,-0.04756920123517819,-0.0655597501959507,-0.03429686604484002,0.06025364704229193,0.06636647156673428,0.08032814724800653,0.07383121315614964,-0.070903627041879,-0.06585073117241871,-0.026770353647833835,0.08817289733401043,0.025621878171659323,0.031146248961125386,-0.050521577175615576,-0.06674549741478072,-0.05448287785964651,0.05369477664097471,-0.03125653828274576,0.06017036532938543,-0.06569489728447804,-0.0630140816499771,0.08950700390114188,0.007033328524879665,-0.04301274266255059,-0.00150432111577353,-0.01996909532351238,0.015244676515637979,-0.0793303952377688,0.02096918409637647,-0.039876169104790485,-0.08125830711539168,0.01911577936800603,0.06751609691122702,0.04780374973616614,0.026855322221618606,0.05206766169521668,-0.03285053287870343,-0.0023143962544452086,-0.08606203249789823,0.03212962629447904,-0.07057935355728905,0.030802081727445158,-0.030773701409125855,0.07447724111681808,-0.010656603267174634,0.014470782488710776,-0.06670185455362154,0.004408160708706919,0.033867992893369586,0.01407075546375564,0.06023620596491013,0.02893922139719606,-0.07916611664429937,-0.026694272209530655,0.06786744830924579,0.013165751596634271,-0.049902405712998595,0.03056213584921089,-0.0069193445410473215,0.0051353764156178965,0.01866913319294099,-0.07225446841641488,-0.027892924595636928,-0.059741874971046174,-0.016334091305163986,0.03471677512141874,0.05962860996851741,-0.029304003975552086,0.05726111259890137,-0.014804426032726643,-0.033383214640186,-0.06463095145330167,0.04540356906385684,-0.0764479879305826,0.004161902641470217,0.04825870963995633,0.04729092045533103,-0.027329951882305432,0.039211394417259876,-0.01565574455424512,0.005026341514066545,0.044858620211910866,-0.03334027665955285,-0.02911444932727012,0.05553043607776962,-0.02716797816071903,0.023662224220937507,-0.056473993143197745,0.025663650516516937,0.08721377788683483,0.03068987840925499,0.05238944045598532,-0.016231525002718312,0.04948557116402146,0.022457134930019544,0.0009764514316561324,-0.05475221956631938,-0.0825608733670665,-0.05061920407150928,-0.005723046497980377,0.003998675475494382,0.08310679661458027,0.03877020034427888,0.0342968921467149,-0.049704830067718295,-0.08968553684496988,-0.013421728248426664,0.04801676003755249,0.008676556001655957,-0.008215734685637036,-0.06323876179235789,-0.007113234452648578,-0.01722343323619541,0.06240640772828937,-0.06627997503839153,0.032100783993068406,-0.08176744176626478,0.017293708800468523,0.04955330401373213,-0.05244748357133282,-0.05864777360925589,0.08641560692664212,-0.07850621999762149,-0.05121857543876563,0.05607720921255988,-0.06297238445316644,0.04865492784915411,0.067132048473346,0.08345984359325906,-0.0016979594342482083,-0.08058056001186736,-0.022443247582067175,0.05191807667424583,-0.030475621962535962,0.08401787383002293,0.03324213540292723,-0.08023352799925085,-0.00007344153739652648,-0.04952285483554589,0.021029839361454788,0.01202937088520599,-0.003581583883886793,-0.08033169419823258,-0.03438149475428542,0.0022881724071193987,-0.08089882190461686,0.07229189405075773,0.0423413133426677,0.037495623141354836,-0.08411087386488121,-0.08594514189806793,0.06790935822336275,0.011160133027619737,-0.03134477072142756,0.009473221173683415,0.025818983272664856,-0.05116133761283874,0.021038121677297197,-0.08706148991481927,0.03598469171343512,0.011066101115980935,0.06544987152074168,0.0501989511145355,0.06859812652822926,-0.07558695846082293,0.03086293550577628,0.04508282879886028,-0.04747061573849088,-0.06255269335896263,0.026419001518363686,-0.028946764626256668,-0.040079192230400025,0.021982306227449774,-0.06475602554045135,0.018865245947481714,-0.01222917733326762,0.05869300551026821,0.020827813892598506,-0.0804511999128685,-0.04322569697849356,0.026193947661678933,0.040202394342867376,0.015089130462239392,0.08427706121714816,-0.05482526460420635,0.03944850898643946,-0.015254826031934841,-0.07631348804295628,-0.06483543591355408,0.07385469848596747,-0.08501074625362956,0.038671561033769064,-0.07330927663180209,-0.05626879724024031,-0.0734802563771582,-0.008852504241099018,-0.009564050007721644,-0.026617465674023545,-0.07445084720764443,0.07157872251385505,-0.05168103542258348,0.03210065358687744,0.08162156735931626,-0.04691790149412463,-0.027694261930989315,0.0727647892168974,0.001225942735080719,0.039787510023324896,-0.009470551021324354,-0.009601990971569694,0.05820046505401925,0.0026127118660586686,0.008505500199169796,-0.057998739010021304,0.08748806656961326,0.011676718168888245,0.06075496980248424,-0.026797853925160754,-0.03900633172461642,-0.0339372616704294,0.03663753115530966,0.05832590201529203,0.0868703615013686,0.013554335460717213,-0.055180954604905845,-0.016617776887518663,0.025501776934746548,0.005253203991623815,-0.06956678608021448,0.05654461455157833,-0.030315458161522327,0.045610291302337756,-0.026410799730782985,-0.001990664690513942,-0.0692239916642973,0.03275088655932091,-0.012611102434865283,-0.007074580823227856,0.015073513624856092,-0.010171271353030153,-0.05399943210778399,0.014123636650043243,0.055905518259107466,-0.048720971910059425,-0.026034752822720605,0.08584513890239276,0.07488869353536148,-0.029606122159112087,-0.007265318469892874,0.043825571949012154,0.07840598013165778,0.031900032173044414,-0.04689754923581289,-0.03122697840801274,-0.02929870574575197,-0.07487088529213462,0.0860508006254678,0.035880149839640336,0.02850588945069899,0.04260439676538138,0.02791882063049023,-0.05996549947498019,-0.07298151134726025,0.08502273611029271,-0.0235335580210335,0.08019379389763705,0.05089873787553029,0.032510805884132,0.04043824829393165,0.0039937008294545365,-0.028260213466609972,-0.03975068003966266,-0.027091237773936353,0.057730069382210966,0.06101274807199454,-0.03404259931053272,-0.07310770769248404,0.0463311446027983,-0.0586588114547241,0.034099905947645656,0.04659107518365288,0.06237983227381433,-0.010062781515409264,0.0553412582024612,0.05832698697756798,-0.08166100578241164,0.04819552816858681,0.028255439930767175,0.01840376548446822,-0.00823303413189816,0.07042476837675463,-0.0865385858039164,0.0823185643270414,-0.016939286672820922,-0.08503918031399517,0.03490947058203886,-0.012723122349301091,-0.030095758949669493,-0.02672951584217275,0.08844339163481202,-0.01328979215635615,-0.06309057395367894,-0.032838103909167825,0.05388399643358946,-0.06750702401899755,0.025106015355906675,-0.08282300852971436,-0.025256781634296958,0.04976216111934856,0.0847815171324159,-0.0001334003111221679,0.023326512120808655,-0.045516868836450494,-0.08517116217429309,0.024647003135568526,-0.055083252708217414,0.07785738311076561,0.053033196171795735,0.08351141091759458,0.04232805383071567,-0.0340278707065986,0.03132015631221098,-0.050655529975600536,0.0522936163198981,-0.06881466408350016,-0.029972858828573826,0.022852279909247902,-0.0016333701578927842,-0.03433137389684572,0.055985601206165685,-0.08839959644579068,-0.05752776635057757,0.07414156705725806,-0.0789940907982639,0.06528490776029179,-0.030439261102361864,0.07020231662089499,0.0755377334043511,0.04795614192131816,0.038786187949857984,0.08754606890836585,-0.002129218275804739,0.07582260524099911,-0.04320693320777746,0.06933660971463414,-0.0029139124373160005,0.07662533729458271,0.046871805283648024,-0.03562814235434988,0.056089893306644455,-0.06847107982753926,-0.011585427897603187,0.06658054269468008,0.07061449248628282,-0.05867437500100561,-0.004363588460452461,0.0514116567215643,0.07094116068486453,-0.0065075597861158725]},{"id":"chunk-7db5cddc-83","content":"Getting Help If you need help getting started with PydanticAI or with advanced usage, the following sources may be useful. Slack Join the #pydantic-ai channel in the Pydantic Slack to ask questions, get help, and chat about PydanticAI. There's also channels for Pydantic, Logfire, and FastUI. If you're on a Logfire Pro plan, you can also get a dedicated private slack collab channel with us. GitHub Issues The PydanticAI GitHub Issues are a great place to ask questions and give us feedback. Version Notice This documentation is ahead of the last release by 2 commits. You may see documentation for features not yet supported in the latest release v0.0.27 2025-02-26. Contributing We'd love you to contribute to PydanticAI!","metadata":{"url":"https://ai.pydantic.dev","title":"PydanticAI","chunkIndex":83,"totalChunks":208},"embedding":[-0.039506078124226456,0.028624252614147756,-0.012749621635046404,-0.08024904955594978,-0.05337093528148326,0.0008669348342067811,-0.021385940750006105,0.023068936007406744,-0.014625641038953642,-0.014478233880282958,-0.04350510490396509,0.060199264797308874,0.06462250635283187,0.021673309658279755,0.015909026725592943,0.034013498210685736,0.00428374545171638,-0.05151911301269068,-0.044875247174225995,-0.08941423752719867,-0.016909970413594738,-0.025217443392249485,0.0780328916211217,-0.06695978134963042,0.005453159681276722,-0.032340099667595296,0.005302595836302091,-0.004248493523780035,-0.04999605869619195,-0.04097008841708713,-0.04368275038528748,-0.031082160510281807,0.054852437890397655,-0.07821096484089576,0.05033166602890971,0.08922432507062357,0.07071048928183932,0.0036368619723266666,-0.03341521462052946,0.04596376140481781,-0.007377266889738202,0.05076474774687258,0.013319717566832381,-0.039006027596807706,-0.019418544672262537,-0.03570498238276786,-0.0673861447391312,0.03084260191984615,0.0032438139030572344,-0.08673697991332889,0.07345771787364673,-0.07882194746802468,0.0011195878020858667,-0.0749438029889267,0.06567532558690654,0.029759300724027143,0.006104186902023593,0.03701507598170734,0.07874626333314395,-0.05238151361737916,-0.005240847619022541,-0.08803445725581648,-0.08979371375400103,0.06885153187822753,0.03237865662272584,0.05323375871786086,0.044947729043876075,-0.08126318548653343,0.017178879704974507,0.08363973615710686,0.027633506096795563,-0.08746938267918866,-0.047824888198739306,-0.023974288746143095,-0.0388411874136616,-0.029221425017256785,0.04203384184279208,0.08590051526779424,-0.052405432284613064,-0.03923384552266357,0.07595692259631169,-0.06930357355248269,-0.06934445082599845,-0.0021115244044860875,-0.022945176116170942,-0.08827224824912797,0.05982734769791911,-0.018636945695809204,0.02465601537250191,0.057399430920130126,-0.03401088859105037,0.05054417936732691,0.08242988837989117,-0.01496660201596808,-0.02807273249571058,-0.011458052197732965,-0.022542859906286353,-0.015756068672735546,-0.0169932153445215,-0.08924484976880741,0.08732551100729366,-0.08316140760671897,0.006617130011682984,0.002111362147693801,0.07763657044131027,0.04375199027616533,-0.016184138833842916,0.00662017804194505,0.07089241323506934,-0.06360939047736845,-0.008121260044504003,-0.07308177286150772,-0.06349811639240596,-0.0739309654130583,0.027044439957348763,0.03449929294896861,-0.024875771460318944,0.005093150539922606,0.0018606391696960295,0.02838079737229862,0.03905830985150083,-0.018963851251177638,0.070658524090107,-0.02980024805715204,0.03347114198260357,0.07243267224000588,-0.020369321108055116,-0.03643170283951446,0.02813012051616466,-0.0033032964338746574,-0.06426974709308866,0.012049215871562068,0.0847378846132847,-0.05185530331142949,-0.0840982502355833,-0.01239364521378483,0.004563142249734741,0.027855896226621702,0.0252307857620792,0.04282838327254886,-0.07848710029263142,-0.007437088875066361,0.07245948554480212,0.057677122221627394,-0.06223679169674443,0.016990433940962574,-0.015319852274996711,0.027197521975933257,0.07854480460995794,-0.020314863707111306,-0.014120640312640579,0.07746028575032002,-0.07939821859376339,-0.005777415163818598,-0.07324803532962933,-0.04326554411116119,-0.06514510380034068,0.027072168615537833,0.0029706242066669278,0.009200143561559355,0.0281659036107727,0.04820047256183711,0.07123500986489166,-0.04828809903176691,0.04259352328790963,-0.026115097854349578,0.06893016290117976,-0.05812246450725857,-0.061705167022636474,0.05830336465468347,-0.07260151865204897,-0.05331379275288373,-0.02461439685702854,-0.047960602944939805,-0.00075094028409559,0.04360804508223039,-0.027321958928706123,-0.001976454566420696,-0.02848541573237367,0.030969986103256773,-0.04960277641211646,0.033581702447624116,0.043808980348693655,0.08215598572366682,0.02081313836388118,-0.040272196201897086,-0.023272408809692363,-0.07651070548712803,0.08829623489663518,-0.027635007213019126,0.01797031569721538,0.032868857624791484,0.0032461399751289614,0.07655440033974788,0.0868431488945239,-0.08604089408574386,-0.05551875809252599,0.05592557267903893,0.03766151037173688,0.007159232807616607,0.0033121001411457835,0.01747556735611123,-0.04497586730853619,0.025110265523415668,-0.059728456893698476,-0.07313524649326336,-0.018305051600483336,-0.088644082210582,0.049474610513205335,0.0707200482819307,-0.04764671666838514,0.06054882729001538,-0.03440601419606385,0.05859045797733804,-0.05145346899032453,-0.0489107904462561,0.008945346696595599,-0.0351733994428597,0.06760076831222415,0.0665383606521,0.041269743978174664,0.027872981885538984,-0.03848426365441357,0.008931562963586824,-0.07976841403694108,-0.006039361821038752,0.018447216793913927,-0.07545972261162366,-0.07782687499969146,0.07568695766997867,0.05944643397562183,0.04268153513305404,-0.011841184616515324,-0.04115313745359108,-0.06860246646782932,0.029123345121854282,0.0376345359361931,-0.03012334312097118,-0.08370923696182768,0.05022022238899461,-0.03515516245408258,-0.049249256255358136,-0.028242017470249462,0.07699034423023204,-0.047408066862051144,0.06902865494201346,0.06327128761842152,-0.08974772697276012,0.08117556766482073,0.003260459235071429,0.0863656313837747,0.07794199579720665,0.05670513869363355,-0.08260279967316568,-0.08887153994636512,-0.030027946482816162,-0.0701713420310482,0.06329410891181923,0.037531613855640536,-0.01921287525857774,-0.04159168383432789,0.04172080900100364,-0.0421686230094029,0.07128518954306672,-0.07768999208473075,0.0389830547211804,0.07522494423622762,-0.07002764094669266,-0.08581132567191331,0.0809210240455611,-0.059998873567654105,-0.07099667011514765,-0.006364225688285833,-0.010489747678236067,-0.037026687578014805,0.04822141274155082,-0.01200636698277398,-0.027796904044655492,-0.08942318516373719,0.025961911572039625,0.006902026839015241,0.016115704282942473,0.005164231935498915,-0.06118441655051557,-0.015545519983103443,0.04883340454202098,-0.0830902513773104,-0.015427272193483,-0.04610825107751875,-0.006979875647778882,-0.03287639326137608,0.03357809570651528,-0.08084570218843047,-0.08172202048944212,0.017145758433556615,0.08131558325929188,0.06145805283204518,0.06129326107566839,-0.0448446260230465,0.03485435088138624,0.0058637424147115,0.06241309008918568,0.0086814645267675,0.03995133382914595,0.013954390475846247,0.008974155995096305,0.027648560186048943,0.04824276132540786,-0.031179762452609568,0.032819172555405875,-0.038795669418566485,-0.017244225784534325,-0.0677861133545731,-0.07453682273983928,-0.02032324817863226,-0.08608943391829443,0.0625283419116148,0.07132704057901176,0.05060481651149177,-0.06650281519945665,0.07791397779987189,0.0083618111328089,-0.03900522473243993,0.03338530104002429,-0.08363115281782892,0.03074258869024511,-0.017005617047086443,-0.06616235402775741,0.0062418046354327855,-0.0007509631637376147,0.06086872002851208,0.08890802319998499,-0.001941176448629038,-0.0386103005860988,0.0272787720973348,0.04302538892593956,0.004073176663142745,0.03374141302807959,-0.05334912469308089,-0.08807216412230161,0.06107656171633869,-0.03174570520297053,-0.08597029014010676,0.0789093071477,0.007861544741903865,0.04594792427942795,0.03702829621214337,-0.04736380877899321,0.0052321402613551985,0.05325820681498662,-0.08651839748205446,-0.012242481539602017,-0.006892369735016901,0.011021644706212953,-0.010803496464444826,-0.004707132810266587,-0.025924409001176305,0.05988029602838817,-0.051798449684322144,0.058357584109750206,-0.04370811960431059,-0.029895089913053362,-0.035642269466139014,0.05231986958129108,0.06778412453796409,0.06341346763919413,0.08828519285975131,0.0613909404900261,-0.04851823565398051,0.009346055330434443,0.020122185924236754,0.028960442428217173,0.03330725161391435,-0.008048762121245858,0.050436170409429146,0.02771410062525171,0.07587050344219763,-0.03410109154390733,0.06377962706485496,-0.052821449144579695,-0.015666138091701275,-0.009810068287708827,0.0473839357647816,-0.07916139076873124]},{"id":"chunk-7db5cddc-84","content":"Installation and Setup Clone your fork and cd into the repo directory git clone git@github.com:<your username>/pydantic-ai.git cd pydantic-ai Install uv (version 0.4.30 or later) and pre-commit We use pipx here, for other options see: uv install docs pre-commit install docs To get pipx itself, see these docs pipx install uv pre-commit Install pydantic-ai, all dependencies and pre-commit hooks make install Running Tests etc. We use make to manage most commands you'll need to run. For details on available commands, run: make help To run code formatting, linting, static type checks, and tests with coverage report generation, run: make Documentation Changes To run the documentation page locally, run: uv run mkdocs serve Rules for adding new models to PydanticAI To avoid an excessive workload for the maintainers of PydanticAI, we can't accept all model contributions, so we're setting the following rules for when we'll accept new models and when we won't.","metadata":{"url":"https://ai.pydantic.dev","title":"PydanticAI","chunkIndex":84,"totalChunks":208},"embedding":[-0.04611999519234594,-0.07825674131250798,0.04942784039692214,-0.043803672615220335,0.008536385892514804,0.05462109531304143,-0.050779383768500504,-0.07974002087522901,0.07724489324926888,-0.02778936433222784,0.08658968312352767,0.03973864624991824,-0.06296260619002088,0.03755066413353096,-0.002604591991688488,-0.03700982601173309,0.040896587800192084,0.01599506146352372,-0.005693960757083165,-0.07872819574111438,0.06817839232030792,-0.03690118313169485,0.02733582043477549,0.0504038615705413,-0.06295683128029803,0.08581858724506657,0.01054193883560438,0.059479686355663676,0.06378192665092092,0.013785718709538639,-0.050374907618652674,-0.07515551216047366,-0.07724823840806033,0.05293259205537827,0.07095864410062176,-0.08482830186093532,0.07724643408622593,0.0011066451872684582,-0.0095386074666644,-0.03166696077390075,-0.026214147536593086,0.08516048128177897,0.02204525999050429,-0.07838349508387604,-0.057487485819038904,0.0008600897147354298,-0.02507393119225692,-0.08519680588819924,-0.07195058863585807,-0.08616580312692527,0.06000654556068797,-0.0632227850601839,-0.04801504933797649,0.04041324094997979,-0.009358601766074968,0.0843836800553639,0.056872789104448526,0.04889422086039566,-0.011877520190905164,0.07934103423979959,0.04792878376677428,0.06399475783270196,0.006372539116144224,0.02579384163172812,0.06632931486489091,0.07931214402804387,-0.038739023200142796,-0.07433284981191747,0.039690221471583784,0.04162159949072889,-0.001265880565595304,0.024498603857541674,0.03114880582700001,0.053355477016249986,0.043170307601974704,-0.04375270347614599,-0.003575078471545366,0.07457503027259048,0.03085913835986906,0.07115777800091476,-0.016532622398178237,-0.028175107436861198,0.01894453848596073,0.061605766235695324,0.0646938595172483,-0.07769881912713433,0.01950423705126429,0.03479018343312569,0.08506040904423119,-0.006983289381488874,0.018296501745166324,0.04523416866707912,0.03447872754009816,-0.04934006501294598,0.01418129634247919,0.014713596628270416,0.06387578226923575,0.08515986515494056,-0.05872624153055809,-0.0013133172301129374,0.017618906108572426,0.07534633434855388,0.006811067374921861,0.020835191876418347,-0.014497356631583743,0.007660886109367217,-0.010676176117191342,0.0699030561095133,0.070822427589928,0.08699798866731552,-0.08097721648871262,0.06850027088994766,0.027710840908295974,0.00008568803287244839,-0.028856050604677035,-0.016028252453096692,-0.020034319850615916,0.03591643824049825,0.07949177527233506,0.011162223521876995,0.019444777225045756,0.0463087227495095,-0.02668846732089139,0.03989505086669377,0.042212124054537926,-0.05697753895821525,-0.062068811802032144,0.07858610343726388,0.006862749171662851,-0.0017460619239574402,0.015497198090087412,0.08336132603705328,0.02598016642052977,0.06436841105348105,-0.002713770408116251,-0.0014395898710290913,-0.01443100926896207,-0.0032696908435822115,-0.013769242174029852,-0.030563518192066336,0.05308639735419817,-0.06941231061457447,-0.05334434059239546,-0.03266218047455428,-0.0034858899390462147,-0.06622205441991352,0.04408989386227433,-0.03952493905871533,0.03576686653775165,0.03244567942537704,-0.052758051378900876,0.048352007476855016,0.07190526732011361,-0.019134765681395535,0.0804498042610864,-0.03882668946818538,0.08329300852716533,-0.04153066583491913,-0.08158534516321876,-0.06947033687742697,0.08741956256812092,-0.029656328722323443,0.06678662819310442,-0.08622164592809947,-0.016404400662888067,-0.040727076144077085,0.0727502991842272,0.004569174024591829,0.08703397864728125,-0.08259217855675373,-0.0832051774754514,0.009627855789176135,-0.027917271530018457,-0.033248661571204444,0.019776453955165123,0.07254832852171741,-0.06304779660454124,0.02945825155981982,0.0813601106894206,-0.046600123332384676,-0.03350534606103974,0.059357945732788735,-0.025323759858044883,-0.032170929592127105,0.08726045788283776,-0.07161234465980552,0.015049020480536619,-0.0008385723915227402,-0.00516789890246381,-0.031671505745458746,-0.08515675809825068,0.0714289087000635,0.02941269937118362,-0.027811461020038925,0.059845246621913824,-0.04425143981129596,0.05982643960073844,-0.06843767991916513,-0.07764768107919595,-0.035051812029186495,0.03690594104569603,-0.08613422772933232,0.0069359547103772,0.03271083047901701,0.00348699864758848,0.04137612538051375,0.013157181843253781,0.015493254513117772,0.05636363101660282,-0.019525898615998086,-0.02360004010437976,-0.02731644587563,-0.04856448093026301,0.07331687884023286,-0.05101372887744998,0.020905465288757172,-0.04349165260999528,0.009050939651431493,0.04209171871320165,0.007422924523339559,-0.010498949967406293,0.05439491334625352,-0.08726577217475483,-0.08725838101705016,-0.013317794398167458,-0.030053604478358156,-0.022131356929330902,0.000912080947255167,-0.017449694276443252,0.07883590600663636,-0.02098750954117583,-0.07288674893394652,0.013675220467354813,-0.0043539793831125296,-0.038611303551867024,-0.0003494377117262814,-0.026946982024245836,0.01228783668277516,-0.020687722013892774,-0.037648721453890116,0.024838674615974693,-0.06590855768819436,-0.02354193623890021,-0.08627402074284458,0.07047294920135673,0.03899760612368416,0.051465891728176866,-0.06821088412318381,0.0814895140601687,0.08223271075600563,-0.07339160474346886,-0.03564290583237529,0.05355857520750196,-0.07459242580326417,0.03483139666002103,-0.048149298887500025,-0.0037532016768894636,0.06153735438578203,0.027829470220782027,-0.07296409063568367,-0.04354659068544205,-0.04503496749406849,-0.08360665111541388,0.06870230149967542,0.0034092765108715826,-0.04631908808345498,0.012727473093460853,0.05553225433342894,0.05560092086711565,0.08716269977906724,-0.006011027157364314,0.05964026986039518,0.08258801348080869,0.030793699120018347,0.02277994608836782,-0.06434118510174595,0.05397410507941461,0.008064355575415896,-0.0012821824551424465,-0.081357588515946,0.04922025610951152,-0.01347691627467807,0.06083658704299437,0.062483750566147286,-0.04279811818519035,-0.0163961737741183,0.07147381556514593,-0.006987593677101628,0.014194695347293411,-0.02095705017126944,0.04251490940090597,-0.027668053294741583,-0.028256571840314566,-0.07380311508677123,-0.009160932222733592,-0.06437130347128445,-0.0333026578884008,-0.0387649364101575,0.07140623209901398,-0.050210157397332165,0.05486021599743675,0.06007027322557105,-0.029270150591068106,0.0700502328662754,-0.03160787377705214,-0.013966294535302085,0.004004111315219467,0.0853664416757414,-0.02590000443432341,0.06918416493145207,0.02382639396253743,0.033500156974566875,0.006966188712658462,0.0663792339649599,0.02104891217910287,-0.040888439254069875,0.027931939949259018,-0.039324206573563975,-0.0209169744069944,0.03338959134087202,-0.05930630951697887,-0.0021881822262655145,0.017673849554903778,0.0020750106468867035,-0.0868105281133761,0.08022675199276233,-0.04372407072981584,0.0745363668721305,0.022979907659841654,0.07540124541728878,0.036258802748808557,0.03673997191148315,0.04972213641332223,0.08219237905998697,-0.02944487947246255,-0.028353426185652498,0.02790890037090297,-0.06600507584325778,0.037858245622631126,-0.07139911461028238,-0.0369932923575443,0.0794062822871912,0.08545191581046738,-0.025675495195422983,-0.039391244375649545,0.07095445127114927,-0.05344242096826695,-0.08695310011736121,-0.011039776390692478,-0.067651777597604,-0.036939805327233566,0.062037742173649255,0.07263829680225377,0.03958510051844159,-0.05975701199656844,0.02591665128870832,0.026117648079418736,-0.08556624109230751,0.056891443395875166,0.04174472026594132,-0.013374870895566868,0.045069137932335225,0.032323278472767954,0.05302030744676952,0.026007794615026544,-0.04298635089897884,0.009160885356099756,0.07220033333086143,-0.07646786518933732,-0.04868724208588111,0.020500834618915702,-0.007444445956755876,0.036662468677754155,0.02914378882712338,0.05141065795669496,0.05464602767163496,0.006979866852700783,-0.006699647413718855,0.0018169984434056774,-0.07704294495429297,0.07643334301341026,-0.06096917261413197,0.07536389275361079,-0.05760558816400865]},{"id":"chunk-7db5cddc-85","content":"This should hopefully reduce the chances of disappointment and wasted work. To add a new model with an extra dependency, that dependency needs > 500k monthly downloads from PyPI consistently over 3 months or more To add a new model which uses another models logic internally and has no extra dependencies, that model's GitHub org needs > 20k stars in total For any other model that's just a custom URL and API key, we're happy to add a one-paragraph description with a link and instructions on the URL to use For any other model that requires more logic, we recommend you release your own Python package pydantic-ai-xxx, which depends on pydantic-ai-slim and implements a model that inherits from our Model ABC If you're unsure about adding a model, please create an issue. Version Notice This documentation is ahead of the last release by 2 commits. You may see documentation for features not yet supported in the latest release v0.0.27 2025-02-26.","metadata":{"url":"https://ai.pydantic.dev","title":"PydanticAI","chunkIndex":85,"totalChunks":208},"embedding":[0.011604279690887896,-0.0665363061463798,0.00807070296759389,0.04934021765964182,0.026805185599025477,0.08438491330715793,-0.08356378430179971,-0.05122288030349551,0.04393000994370751,0.02117972122172777,-0.08140875494003413,0.008369647877561478,0.024105612470721512,-0.006233491182164628,0.015796089454080776,0.06054615384345361,-0.024409236814893747,-0.06694695895178411,-0.04151305222058417,0.08244260126325252,0.056364166538465287,0.05810521581567547,-0.06980617976192778,0.04746949002177405,0.04585465619651698,-0.05716033382894227,0.05510473515374978,0.02385980125099664,0.06258498136835684,-0.04306834354298744,-0.01806108210489293,0.08076945196681026,-0.05182572352249561,-0.08706295423187174,-0.04032987680059705,-0.07380276134479169,0.01233851442444822,0.009740612302959455,0.032515365178525886,0.03409961898513861,-0.004295457320527927,-0.05364869526657978,0.025854754228073214,0.018274171668603695,0.004819988955899792,-0.04405154017903456,0.006497838443574953,0.020300621100102584,0.0728920837855496,-0.049891284494055096,-0.0016196414983884239,0.0842362178932937,0.06997331499895057,-0.045544594664631,0.0803368970839455,-0.07046250173402255,-0.0798618835081249,0.06747295672625277,0.002615346686836275,0.05290027267659527,0.05993227430183322,-0.02552106488464166,-0.07667476291092543,0.08729892920069283,0.07206272596021278,0.0234387721277961,0.00764091868756938,0.05507498436662248,0.009280387067665152,0.06162031359257418,-0.05927297888767141,-0.005400422362335705,0.07562598618422871,-0.07340291148583962,-0.025491482580148044,0.04836267372374082,-0.0030794837586868924,-0.06022677854953845,-0.013748573300360924,0.02427543113030116,-0.0618093439587997,-0.07359280192727218,-0.07692994536842328,0.04240598447595004,-0.06546207229618507,-0.008917572786059235,-0.0009843316459486138,-0.008685339322961432,0.032973405853456816,-0.07933121889002964,0.08273977509985049,-0.01382102308620959,0.07803175989678535,-0.034040403151525414,0.06596744011538977,0.011694667206793057,0.06078025494297515,0.08589466849694526,-0.005824201957790345,-0.04746904328961609,-0.029301949694204226,-0.025315201883719256,-0.008781351655926792,0.05262356493703923,0.01763913286490992,-0.0859470705925148,0.07990958046815737,-0.005616258640285261,-0.06270359421209337,-0.06192944417319274,0.047950556502991064,-0.0595624308239205,0.06704011530587306,0.011876291687714657,0.04718636841282356,-0.006084006778259853,-0.07305051343250141,-0.07541474797805037,-0.0016519841245918785,-0.006815947781494464,-0.05256976497990143,0.044279682501860124,0.03394684002521853,-0.06531442823242962,0.03283905700118697,0.009731309039411568,-0.056386608433782744,-0.01783810649514167,0.033772548512664764,-0.04441223817461926,-0.05738471232235343,0.012636866062682403,-0.07467073440098222,0.012470478949255254,0.06763816781833334,-0.05619800132032444,0.032780456983017764,-0.05026715768337345,-0.05413028343649199,-0.0846487882985391,0.0242587634083584,0.06467108206840005,0.002027002907430617,0.06872411418289688,-0.00028180400979801155,0.07340775113515977,-0.009222768777703082,0.06196686150804923,0.01714539443708658,-0.08258494414639293,0.0743314820888025,-0.015446501601590022,0.012115238769484463,-0.01802367670716782,0.046608613006046205,0.0442226108260225,0.03801391636963138,-0.02796490074804778,0.03360038874759784,0.02878107952654061,-0.035028119756854756,-0.05816109541464039,0.04559978588832926,-0.08420015853124119,-0.016654008983295096,0.05986934755412424,-0.07160817487937213,0.00006144064335927244,-0.06320478118944044,0.08237284697171661,-0.07422696736839945,0.03805630211792964,-0.053455404811619665,0.009287365190679082,0.022127693968837958,0.07751303268278462,0.03682375479217586,0.06586837740830503,-0.03292835750256095,0.06500733258475883,-0.07234468644366024,0.06968965012059768,-0.009552844179801546,-0.020533049253820667,-0.031784454113331945,0.06530557689061539,-0.07979389375644792,-0.08077442137312771,0.006475808543607698,0.021060069751770643,0.010404002722670285,0.08301328993142816,0.05158918884582289,-0.024932781642014547,0.078362159806007,0.06363027806151401,-0.04413366301597045,-0.015364541975105233,-0.0010506681943670876,0.006389785565440544,-0.08360811054833342,-0.054487213822621144,0.08464341631750034,-0.06912709878853411,0.012422161954077105,-0.03076012986102792,-0.06666437864396993,-0.007879022935947163,-0.06195269819486806,-0.004953758046523576,0.02056938754535082,0.03741425567690915,-0.00867746086890533,-0.03284025003020945,0.05164452391493355,0.04439570231101103,0.02652124366876873,-0.02888251865841037,0.05269320422718089,0.006193410808176606,0.0218518340668223,-0.08461066435690169,-0.03804604620881271,-0.004047533829977758,-0.07168963051757632,-0.03130587288412742,0.026708601928642325,0.038016422718897734,0.07552666736895036,0.08697451113567858,-0.08470691984476317,0.021092391799383065,-0.009580191745672853,0.0006813494378056302,0.05915068502448605,-0.057495412533419936,-0.06118512942420851,0.07754920346573722,-0.08641155940435408,0.062399950641191186,-0.04659790694793753,-0.04945138496920465,0.07532981709208846,-0.007592643586433385,0.04684901232637455,-0.06411408295366462,0.03467835965676473,0.057265545563203867,0.06703471743514704,-0.0023881035737263086,0.0042513042895357496,0.04788374254107065,-0.0046598993864328244,0.033402832746193635,-0.0394013620137525,0.038827258455802004,0.012227919246667449,0.01260772130612727,-0.02207603908735201,0.010620253690153,-0.07348465804362637,0.01022452427225873,0.02464050868937209,-0.030573207235234136,0.060476991219468625,-0.07891168950329948,0.0578861178141591,0.08332706294219559,0.025193480815401403,-0.009573344498234531,0.057003227745247693,-0.07496919343125896,0.0034430018430503147,-0.046490071577943506,-0.021384135175927244,0.015602339870196156,-0.04882904659874312,0.02023792541712255,-0.029168055695455292,-0.007467362460630808,0.02206734350290917,0.04026861090375473,-0.07272105341082653,-0.013043620186933941,0.014385010286053181,0.05923631040165032,-0.07956059363962097,-0.007436922038394912,0.0735087138143204,-0.053109549700000015,0.06844584973903049,0.0642157751646367,-0.0487960348358324,0.017723530677324382,0.07563079752161617,0.08416858679684426,-0.011238105582365474,0.00809828779315205,-0.07605411463886375,-0.003714838915480522,-0.00944327269866206,0.04188259826920192,0.06211702052493143,-0.053872209038207004,-0.00013130681853714982,-0.05472516992620544,-0.071683332476083,-0.03705720296346246,-0.017435462004069247,-0.08249289085722096,0.08515465687989537,-0.027030164784808446,0.033549313274727086,-0.04682525715293316,0.08384676462137132,0.0001141397538949593,-0.06537394369798195,0.014092006111743048,-0.0737469138159341,0.0696408513722288,0.06369499322621243,-0.087379623845258,-0.0704583234727734,0.05950071787478871,-0.056216952607088214,0.029022907826454503,-0.058653145265719124,0.01869951292478111,-0.026715325370920567,-0.03545457761946447,0.054685499239772936,-0.0028597258511565546,-0.009017188297187872,-0.017579432548434748,0.020369105152432634,-0.04180083655906812,0.012677255186592197,0.020291012587029495,-0.03513228906581599,-0.07294628275483793,-0.07290186341298628,-0.0726250330172784,0.08590544253373994,0.07684969216399827,-0.08257742960007104,0.0534930092401318,-0.0388475556553238,0.035443912940469155,0.07423987790540414,-0.05485127592526568,-0.0707368299779607,-0.01737375934508931,-0.03152783233740483,-0.08563651887180856,0.04907595682334309,0.011254012746406526,-0.056231586574804426,0.025700242076029497,-0.06525232010784625,-0.07777082193074474,0.05162652160749122,-0.08296181820433733,-0.07544410012230854,-0.00016157623828369876,-0.022389403611510143,0.03633313286519465,-0.05586889057867404,-0.03035789111245526,0.04697649274895555,0.03448326457682079,-0.046957053569107746,-0.011185672790495874,0.014893835203839342,0.02085911624842242,-0.052708215977359904,-0.0035791166991210746,-0.030799832814485964,0.046527452718403105,0.075243061305417,-0.07926496880012,0.07351747874902607,-0.004018816314421022,0.014986733321233537,-0.07169315579881189]},{"id":"chunk-7db5cddc-86","content":"Troubleshooting Below are suggestions on how to fix some common errors you might encounter while using PydanticAI. If the issue you're experiencing is not listed below or addressed in the documentation, please feel free to ask in the Pydantic Slack or create an issue on GitHub. Jupyter Notebook Errors RuntimeError: This event loop is already running This error is caused by conflicts between the event loops in Jupyter notebook and PydanticAI's. One way to manage these conflicts is by using nest-asyncio. Namely, before you execute any agent runs, do the following: import nest_asyncio nest_asyncio.apply() Note: This fix also applies to Google Colab. API Key Configuration UserError: API key must be provided or set in the [MODEL]_API_KEY environment variable If you're running into issues with setting the API key for your model, visit the Models page to learn more about how to set an environment variable and/or pass in an api_key argument.","metadata":{"url":"https://ai.pydantic.dev","title":"PydanticAI","chunkIndex":86,"totalChunks":208},"embedding":[-0.010233242041248406,0.0062358439294848906,-0.007720184055995503,-0.08063819114847846,-0.029922217076318418,-0.07354815716428428,-0.0024139866457451777,0.0038690775167816117,0.02247029077110041,0.009327646012262752,0.01272908867526413,0.02372955602227204,-0.060759258177390335,0.07084364891783781,0.06119155275105284,0.040526294426115904,0.0045320532306799095,0.061234735739487615,-0.05258464808229228,0.038148962937265225,-0.03100927701473205,-0.025089067131131536,0.05690570172531856,-0.05375673951529586,-0.08128555675247535,0.01529325380606177,-0.07839745310615787,0.047546196104277454,-0.07969955152928049,0.039822064685098774,0.07529027262801188,0.0647957752463545,-0.08766120249461495,0.03762403554440284,-0.06135455693827745,0.08757632425519526,0.009800627587866274,0.034241591401453296,-0.07499725155633122,0.0015954029542318414,-0.08096846447153011,0.08614118437632921,0.07926586535747246,-0.017744849308514627,0.02531648498297882,0.03843503858848257,-0.012081415063568522,-0.06974858089570377,0.06061192941949326,-0.038013824671299636,-0.08792120745338773,0.049994592790117885,0.04193141690309213,-0.05454611559646174,0.024355070347359984,0.025310782393347397,0.08354093662116155,0.07322674365618174,-0.008383792020800604,0.008055374728525366,0.006103131239786778,0.025959660503917858,0.07907925205066654,-0.07470382493911017,-0.024433547252275947,0.036249606723658484,-0.05789659131913968,0.04042934897649587,-0.06898029490265638,0.06562390502820975,0.08273038807092616,0.04371751835310009,-0.03257185340109946,0.08510906035535627,-0.01489160493462104,-0.03916414423039882,-0.002047227515528449,-0.03465800728920194,-0.00682202681604125,-0.016148637775048675,-0.06437598682908593,0.012715348345033683,0.023263979903084642,0.03415564006681174,0.057073969226191484,-0.07276871300082725,0.04637935556502103,-0.02920350978191826,0.041308942289406785,-0.004524372461963453,-0.034812312177410605,-0.0035507108444634604,0.006971114248421124,-0.06342255893424502,0.0839123626772652,-0.08748681111683942,0.021407378496363406,0.036408822146075104,0.020963834727940223,-0.00843297670347458,0.01123488487181192,-0.0798410849706801,0.028385858557096907,0.08136101591755943,-0.013228013337805126,-0.00194762559704253,0.031725986681705204,-0.0014689333041362066,0.033064042901705504,-0.004613135010921827,0.02398231075527972,0.033589349533226946,-0.03334297492248331,0.06317218554064843,0.02775790976628155,-0.08312805702856688,-0.06686771758123669,-0.042454778284169964,-0.060272007370242964,0.06370951786568718,-0.08134184870426367,-0.07621251121742924,0.08123216483361778,0.035783844845982876,-0.061589843722163404,0.06885929286654545,-0.03609803815927516,0.055458201002438236,0.011392045873235468,-0.06091194519591781,-0.03401366126171466,0.06641792375124227,0.041497961777787,0.05066984307163912,-0.08583583144401281,-0.06607960535349916,-0.007318492691304805,0.03912876833842618,-0.017803352705248795,-0.053743597748411906,-0.04874496136600153,-0.08305949544016947,0.004407815328085798,-0.06829039491538161,0.08846633132223121,-0.03077441092798045,-0.016115834805493057,0.07259102037878713,-0.05440905890661086,-0.014680178864066204,-0.006239358158923263,0.08116578908711505,-0.04440017515204629,0.021594928518903406,-0.059172267375164136,-0.06849607345887995,0.03554531458487178,0.012875852356436242,-0.06887684815526543,0.015161518174816353,-0.009670341791517791,0.01846682595080929,-0.05118714444967902,0.022523220637967255,0.030558584978667154,0.0827378806971205,0.015736628473624108,0.06489733055614373,0.026797913980445797,0.03244267879680932,-0.07320198228985748,0.057642109723841956,-0.04834778841923414,-0.059557501941880045,0.024033760651073124,-0.07919111825126617,0.029474021438516077,0.019144577022793628,0.003955125769876616,-0.08317536722940812,0.022404064681716185,-0.07850427767172939,-0.028991171706845512,-0.03117365855492062,0.0008118991672904253,-0.06199622483621542,-0.023288122291512843,0.034035328085444114,-0.034808696934096245,0.040773077290850335,0.028450429868724033,-0.027003798012369472,0.060808658203587315,-0.004323606808722477,-0.025491928857767007,-0.003658758697581169,-0.08479350522624896,-0.07386127504191556,0.04717367493553248,-0.08088301479560084,-0.03142812352391325,-0.08048065026965762,-0.03289109602533006,-0.029360912184612998,-0.04596566624249057,-0.08670926230124094,0.02206580772797034,0.023323827440958705,-0.026499149983782652,0.07484412584161845,-0.03223342693716625,0.0719120235668056,0.030490333312010558,-0.08782724918241,-0.08736299902421633,0.03274017736151563,0.04758142011018262,-0.07078158703193285,0.048551112148787,0.08072812914594338,0.00866312016027534,0.07392796770068347,0.045637254897539156,-0.059545219066101066,-0.07806693203155497,-0.04836847890752823,0.05624313687853104,-0.023318501647378368,-0.018664429367901927,-0.08638582104459562,-0.05992731508119002,-0.05016119326095452,0.007345109069241061,-0.045027660340036905,-0.025702436467182833,-0.04706687204576618,-0.026214367210728184,0.03714145161356406,-0.01676883820568145,-0.07493123080403223,0.08379292720245235,0.05738487421261325,-0.018365592319399222,0.0024914389454896357,-0.04534713529793461,-0.03324650194219052,-0.04819818595900707,-0.047590286802486836,-0.002555751338880822,0.003682831075544,-0.009795522222884987,0.07301165111041358,-0.07577617233379964,0.06976082816870498,-0.0705172685958378,0.05772335990140459,-0.04170570623456005,0.07471320402390665,-0.07807173124757213,-0.027318501009469576,-0.06809351925845232,0.082533032327883,0.046711784370016725,0.018767656172219552,-0.01767429591877507,0.02986652496330259,0.02932351610823266,0.00025916017982640434,0.05427936824985467,-0.03956438815192985,0.06463019467970293,-0.033883330210525815,0.06209157175029918,0.0159560858864053,0.07587919736432196,0.04655786137695796,0.04369154883570179,0.06888280257538523,-0.008400413758007498,0.003824457642471538,0.04214269573064314,-0.061184375387361954,0.02912793177409874,0.04818716520133344,-0.08293834917393561,0.04765640283516998,-0.07994616422278314,0.008807309393540175,0.0036666186126727567,-0.01996952175473421,0.059178674307867433,-0.049450972424572595,-0.06414170581858368,-0.06461265195717683,0.042021811832898166,-0.0006617084761179081,0.059295654413946845,0.05806442047689993,0.07217619335908507,0.023401726780131943,-0.0018822526303366393,-0.008466835678462846,-0.04499447781717486,0.04831517117645777,-0.046494731119449385,0.04061286913980911,0.025809632468992975,-0.07643846491894168,-0.04644435517888687,0.059711805019767285,-0.054854955526768494,-0.08717812665563186,0.06652051122498541,-0.04216468493817065,0.001777587754252825,-0.06673588135714441,0.054271633642326726,0.05930008035657955,0.028627177742037838,-0.024398932239483983,0.08190522576989209,0.023304349061192588,0.07143083492041188,-0.061838369440275674,0.08661282826814663,0.06696301537227121,-0.05769254093537032,0.009298533945302728,-0.05527700190268246,0.06638408117007416,0.03844292998760559,-0.05559784044623579,-0.05354943274372532,-0.036334005382394646,-0.07399793906153146,-0.04487246546072165,-0.05723715371946828,0.07039521783783143,0.008298258205884082,-0.012031922089489128,0.018050925930483106,0.03027730585467694,0.030186075279449876,-0.029807872818426697,-0.02009663105257539,0.029116397042748376,0.012026701860143459,0.07234928818110897,-0.07573871977514247,-0.019078611316933336,-0.00674331015161734,-0.01630184540684164,-0.07472073008494615,-0.02196237782011608,-0.037724569041526185,0.031948935327638546,-0.03607373771708038,-0.04623847486167462,0.05216810926657709,0.05311597421587315,-0.051939668286650656,0.037068628240724155,-0.01995447480150155,-0.07450688685369959,-0.04947323443330045,-0.00407400058143327,0.02576876050804487,-0.07342890906202333,-0.07189519617346998,0.07186030767406514,-0.08914941482836154,-0.011105093538153657,-0.019714473006608727,-0.07499651248188792,-0.024082894512945298,-0.005230892273649595,-0.02813829535669889,-0.07818326581171203,0.08399146812486893,-0.043786280252355515,0.012769935352321559,0.054773313474178006,0.07788344876412659,0.04541242222075443]},{"id":"chunk-7db5cddc-87","content":"Monitoring HTTPX Requests You can use custom httpx clients in your models in order to access specific requests, responses, and headers at runtime. It's particularly helpful to use logfire's HTTPX integration to monitor the above. Version Notice This documentation is ahead of the last release by 2 commits. You may see documentation for features not yet supported in the latest release v0.0.27 2025-02-26. Agents Introduction Agents are PydanticAI's primary interface for interacting with LLMs. In some use cases a single Agent will control an entire application or component, but multiple agents can also interact to embody more complex workflows. The Agent class has full API documentation, but conceptually you can think of an agent as a container for: Component Description System prompt(s) A set of instructions for the LLM written by the developer. Function tool(s) Functions that the LLM may call to get information while generating a response.","metadata":{"url":"https://ai.pydantic.dev","title":"PydanticAI","chunkIndex":87,"totalChunks":208},"embedding":[0.008372163973560094,0.033034166664633755,-0.04229511575344,0.03731664647035178,-0.007988212465459145,-0.08394434793256664,-0.010965514271635397,-0.01833928241564461,-0.06859962043543093,-0.04064638858172266,-0.08304460366823113,-0.03211202129951964,0.06969768502759545,0.04852384425571816,-0.04146197532637187,-0.03543887030063475,-0.035212314747830833,-0.016230094148847858,-0.07352128990649799,0.013450845629287497,0.07194223777795339,0.024413950976815375,-0.0641452312370139,0.01111037424818625,-0.006448675688789429,-0.026951463291828705,0.06207827881011824,0.033403490308883885,0.08915726748527338,-0.02541464275806374,-0.05056894739713096,0.05425185936783967,0.029569313725895535,0.03232756759027877,-0.042558973490004724,-0.016710723213030607,-0.07199407326267356,0.057560810217388104,-0.0030637789355294808,-0.0706707284893495,0.04896737585547998,0.023499344881472532,-0.004307838103895791,-0.004942289086711904,0.07564640875572537,-0.01545136018203256,-0.036312889969907225,0.05669076617222792,0.004262874359795785,-0.08602896963276445,-0.027272725682028164,-0.033876308570364805,-0.06727831837779409,-0.027732474409833754,-0.06770862002690888,0.007122027092175648,-0.028891959463381488,-0.08824029944776553,-0.013648732260645297,-0.028491606367890814,-0.07623342124767767,-0.02066983620800012,-0.08503740292177184,0.06669257176371822,-0.04410142503445802,0.05789244316258944,-0.04252460466013813,-0.018820900301474545,-0.007274178138363008,0.0520748275922184,-0.013375515620128637,0.06199094620380245,0.00410588926299094,0.018468911552004974,0.06568849905649744,-0.038741596996332596,0.01773187124129557,-0.08742432064785681,-0.03447581922068736,0.0883582994378651,-0.05796195025854584,-0.05126218902787877,-0.08515296756237253,-0.06856634343702996,0.002281034525517273,0.07407705692073291,0.07451443046597757,-0.0036726778000607386,-0.03558178446420027,-0.08827607851910783,-0.04250719050137906,0.05842360652715512,-0.03360645083868563,0.03974526138597047,-0.019672580916384082,0.0705850543341631,0.054217670294701856,-0.03377808907306301,-0.0574796158956535,0.0309745183619342,0.054204376086986306,0.01553028223776376,-0.07197645744509579,0.0024149084646430358,-0.04845677300009224,-0.01795934862990735,0.02116445235652277,-0.08876519581019064,-0.08816146697636318,0.020277957899033704,-0.019744306673711454,-0.019639741648448623,0.00778844740761203,-0.030809221916677027,-0.04324442594931862,-0.04141909518982714,0.07399959629833552,-0.053438887686327055,0.0662541113557531,0.06665078292721653,0.007207069012521895,-0.01774283587303166,-0.03061434097914916,-0.043801704028035925,0.047108142779852674,-0.0032692638136489886,-0.06000165471242147,-0.07857084203729274,0.014058428121346412,-0.02208300824670668,0.08627413691813243,0.0718665967942897,0.029331185462464826,-0.016209046604919074,-0.06827196065522433,0.044083448476221726,0.06628159878418637,-0.05594701884303316,0.011664449987534279,-0.07097064812431923,-0.07063671204877447,-0.06001398539615428,-0.044740794661706204,0.048906950880997745,-0.03598426999982794,-0.004386706935415472,-0.0474428699569943,0.053348928671566806,0.05365583864371656,0.0018177279188565504,0.07147257898645341,0.07912342105975478,-0.07008525971806215,0.08404010947252118,0.0072141128813297956,0.01823513900359035,0.046074335648542825,0.08031978360991716,-0.03665188853911427,0.07254775097182029,-0.05848167158776057,-0.05386591026698683,-0.03996360870276505,0.013994285136495314,-0.009677826303239318,0.05314808912138658,-0.03349707314450967,-0.048903511181823095,0.07419927668000721,0.026601424318096225,0.06677933482927,0.06819085411319736,0.07919718786416324,-0.0817912684172213,0.04082877528930145,0.04913800600873942,0.0884942054744646,0.01235696689391536,0.05790620008344462,0.015411698244888854,-0.04449375760905907,-0.007373251116941987,0.0663923699785534,0.06929589844088646,0.08565643850610466,0.071292651285347,-0.021764087389443743,0.07032664883651395,0.06055793508106414,0.024024565806600198,0.050195221332355475,-0.05824863118374987,0.056998263092305226,0.04857240439785617,0.07091385979045652,0.029512028414830867,0.00026035264444518503,0.06420652693009303,0.04153588309839731,-0.07436021798437574,-0.06398986726032432,0.026055772728384566,-0.002788795566251105,0.038209227980887626,-0.03532588722157625,0.025760480113593696,-0.06534560220927908,-0.01695293653675211,-0.040705613761726336,-0.06291982804786762,-0.045476348294629466,0.07989006700898316,0.03305208201855945,0.04203845665772557,-0.06814303540130288,0.004233269272151344,0.013957158810941605,0.07829852353179782,-0.051946233304819345,-0.06574411975913264,-0.04015012383798899,-0.01222405173070628,-0.02870629153212376,-0.025677658384676384,0.000869325091825102,0.014730428095810223,-0.03479938849860838,-0.053599221320885425,-0.022059904136449062,0.0016819264829678144,0.019287425336650666,-0.07420533778056672,-0.011480360619820202,-0.08492557469931056,0.03242497537243852,0.021593592664892247,-0.03260348660207709,-0.04658191446637721,0.024363030095484753,-0.06344511699549102,-0.065797006232328,-0.04526775244970802,0.0865720138067837,0.06981857062396733,0.04226834266418326,-0.016812156646888995,0.04908938524406082,0.026353040654758,-0.03471313543741875,0.015310739339414457,-0.0011433241201532242,-0.025396771776794707,0.08502243278292142,-0.01768882433672552,-0.06873356002208439,-0.008035956477491115,-0.06662745534393981,0.046566849469034714,0.06570185332665106,0.07723754172685057,-0.007670592827736758,-0.07346875615235643,-0.003371483535934094,-0.08801550715184382,-0.0024570082628441953,0.07915166166594981,0.02243630326834725,-0.07709865588396693,0.0328683640068654,0.018313270658157726,0.06497080757832996,0.08800937078896146,-0.044914270463423334,0.0880255762697347,0.08635705745585409,-0.017820555688256676,-0.07121434079140268,0.01931561054948695,0.06834802192964812,-0.0681455199009565,-0.030393059514609144,0.08382407420898937,-0.06345884992226646,-0.02574826289659859,0.07942445997176625,-0.07149838876734534,-0.03295090649430935,-0.07589201360008897,0.014241040595710068,-0.050455718139477704,-0.06912364079808346,0.02908275517134385,-0.05585919626921189,-0.07647126705585472,-0.017481484901435623,-0.010718250723903438,0.0019324297222158423,0.0007929181032470363,0.07351067259206634,0.05198398462006703,-0.03638188403114278,0.0435469493116233,-0.07409054821412643,-0.08025868996416739,0.009670268187632124,0.0041404403371602195,0.01766585894300366,-0.011842116191256644,0.01918670451873279,-0.08081592336550104,0.025637185718200343,0.042195149238245196,0.06085024566401907,0.011218273687252884,0.007252946696612334,-0.051030749438173394,0.008471969778438754,-0.0277860266523168,0.008702876215913157,0.06991902879555274,0.06206886663353831,-0.0279785870251822,-0.030473110190902968,0.02683472139199345,0.06973605929603718,-0.0867007435636646,-0.009196722818442159,-0.041128964413031315,0.06843975819586548,-0.020248192877240733,0.04422479526951317,0.034614239321231255,0.03756175193941445,-0.07721760441406694,-0.009225467836632984,0.03860942559552857,0.0809842092886486,-0.06197100406520592,0.07300668994569634,0.027526262050820326,0.05950445280732981,-0.016669218775921264,0.021840527131213882,0.08836972538016735,-0.045372772788643156,0.036173379964251184,0.04267175775063669,0.05824417780048079,0.06149195329264722,-0.04143386370071368,0.02107641014601675,-0.010321968565729488,0.021020260065836276,0.034485630111559556,-0.02588420806980273,-0.022946636642306176,-0.08457000699270763,0.0011797216941957743,-0.030210290576431684,0.056782767476555356,-0.04922353870865444,0.011469508914069629,-0.026737363928325382,0.019385593872265676,0.03254213085956853,-0.05528801995786305,0.08393379007087516,-0.054155370998885836,-0.08355051681050213,-0.011930322598847085,0.01276957948621429,0.06410807247413375,0.07012427402201937,-0.07592532042309545,-0.03563733973996652,0.053529544697368266,-0.05984245217356014,0.07917839890128725,0.04056303725566841,0.047254034799770736,0.01937251102694782,0.06771566322918747,-0.07876898779385368,-0.08918422340080608]},{"id":"chunk-7db5cddc-88","content":"Structured result type The structured datatype the LLM must return at the end of a run, if specified. Dependency type constraint System prompt functions, tools, and result validators may all use dependencies when they're run. LLM model Optional default LLM model associated with the agent. Can also be specified when running the agent. Model Settings Optional default model settings to help fine tune requests. Can also be specified when running the agent. In typing terms, agents are generic in their dependency and result types, e.g., an agent which required dependencies of type Foobar and returned results of type list[str] would have type Agent[Foobar, list[str]]. In practice, you shouldn't need to care about this, it should just mean your IDE can tell you when you have the right type, and if you choose to use static type checking it should work well with PydanticAI.","metadata":{"url":"https://ai.pydantic.dev","title":"PydanticAI","chunkIndex":88,"totalChunks":208},"embedding":[0.05433369078373785,-0.05545020763090285,-0.004067469892241971,-0.08560770273756667,-0.07979366066851712,0.060703049111779206,0.061881641204977855,-0.06913642660544653,-0.028166694983651656,-0.026064540091564052,0.066954059029974,-0.012640760318269917,-0.03820366963998747,-0.0008349559116483729,-0.016123098481591776,-0.05155546370412805,-0.04372811376840681,-0.07693582736577835,0.07057553085499381,-0.0014224040236228887,-0.017621911499278504,-0.0043615409996892035,-0.01627099722604509,-0.0453524227937321,-0.02756549611608961,-0.010064152002693113,-0.005554993394754724,0.021254456826221367,0.04404518224672599,0.053396341200495634,0.009184698597498688,-0.014675553786772365,0.03213332008567786,0.04816747990948607,-0.08477692248151121,-0.033365315748205775,0.03459901384440936,-0.06797474042036854,0.08206239066507168,-0.03712696545935245,-0.010661143194189258,0.02232579166726254,0.061441699033835305,-0.036299903614983975,0.08641543391855927,-0.07372913196708376,-0.08441120025764799,0.0103374659629593,-0.04270821242531842,0.021938405188786095,-0.06929145683050378,-0.07562285056493954,0.07625924730775188,-0.008932087556383774,0.08104973013583756,0.007828608170868143,0.08035109667396405,0.026536192743799033,0.044030892271129995,-0.014799500566353433,-0.07381081047013399,0.04153230047881135,-0.040202037028979815,0.07620905499386947,0.014752812801400391,-0.08692229984772126,0.0827686181968352,0.06484163281169895,-0.0070911228514141545,0.08564728293479795,0.050200506077409876,-0.017277189988625815,0.012886560965848746,-0.03823734862661835,-0.05297452848001188,-0.0761836609386593,-0.05814564662097602,0.017821658754327684,0.05034844229356917,0.02106257539623443,-0.04478118248933596,-0.04720820726974139,0.019396948570174717,0.0629970954664141,0.08080945246998748,0.05350577895162808,-0.03624923479083128,0.0269658742040099,0.031841782536007036,0.07159129505029399,-0.04737482842100368,0.06952476307525508,-0.01666208607500013,-0.03410537921584931,-0.0479996893591638,-0.06017335975351234,-0.0801011744676691,-0.07930120841332412,0.07320778578063825,0.04998579169300798,0.04207409896496096,0.06495173132303844,-0.033207702637297234,0.07868630003108879,0.08076564583025143,0.07253687748947932,0.06417606985094085,-0.06263393484158888,0.0024592394391694515,0.04083049162531079,-0.08269389040744003,0.01313080470972299,0.07485829716225875,0.04739102567089502,-0.05817727729374171,-0.043060500420061716,-0.00046032888888765833,0.02268957014972663,-0.02423161631968563,-0.04596159995191627,0.04796666594624795,-0.03809451431562437,-0.010476999127256588,0.06344889275276246,0.016669377282802204,-0.07845902487605146,-0.05214006296247942,0.07352629907735672,-0.04769054765477016,-0.04938466006478277,-0.08691860706570416,0.05887250551799674,0.07049315041585437,0.028815329306199018,-0.07654405960765558,0.08516891049414493,0.00046480164937786456,0.07578136490455784,-0.040688721336730065,-0.023556781400411356,0.01663374468771206,-0.07147484333876361,0.042830409073504355,-0.052512272764798446,0.03011486803395738,-0.05776926361785213,-0.08061169985656547,0.04535311299009444,0.0684663215442161,0.021961790768331903,0.04506926403818297,-0.06516625129424554,-0.05924640395538038,0.02098556888562803,0.004063695292396755,-0.022842776956008486,0.0536189131710972,0.0560246436295277,0.015375072029800622,-0.06520065153474197,-0.003631160893161945,0.06289771137082052,-0.07016143850746157,0.0843849999879622,0.0027158697516253393,0.046711765140323665,0.0720285368829255,-0.08220845962714711,0.05178302790994271,0.021802128491746717,0.04477227698282601,-0.011490828099648291,-0.0575129967276991,0.05747878404239277,-0.08574834352155042,0.06906895246913503,0.03384475713328045,-0.03151185132848486,-0.007271583462227867,0.05060741658802387,0.010959040355541598,0.012465190165177366,-0.03977555803603501,0.033287712660191406,0.00959929834047433,0.006195283535770989,-0.010509443455514775,0.05649151207692878,0.053426697601657226,0.008424757709202504,0.06892759351214867,0.04995869438145141,0.060317977306795265,0.06995905302312712,0.08622134314777793,0.07297853136832838,-0.0011226969211327576,0.01802360900610812,-0.010764261909504833,-0.039411621762963,-0.06130736884632491,-0.05598496933742001,-0.07977886155721117,0.08127488664202677,-0.004155656819253771,0.08341131213567052,-0.007994058792521781,-0.025102276297023704,-0.019423012831457948,-0.08396562626046472,-0.059322619278228905,-0.06934324981553623,0.06764291762246896,-0.0853368964504258,-0.035107298032886335,-0.024006109028877946,0.04174079271010033,0.021539292480978498,-0.027772904330677126,0.06721098079584215,-0.0726348721541354,0.06099672005921903,-0.023207777849353427,-0.040697335891466915,0.017273009413400108,-0.040732814582195354,-0.037784340572448845,-0.06488251883548844,0.06425441621490245,-0.028688718090253102,0.08706551111689755,0.036717997098813585,-0.05323616149956908,-0.08311667499276353,0.06000232390767255,0.08317006217836229,0.05337636496813095,0.04854665900551329,0.023090382410674494,0.007746774013667451,-0.0023417505400976416,0.022286579085203647,0.04155783417392665,-0.032750609191199764,-0.08625586391207192,0.06610343435654495,0.002092770946754616,0.038885545406240424,-0.009455226951399312,0.08542449267719804,-0.0031511142050263197,-0.017936718817534277,-0.018279332654537805,0.08423810147952183,-0.06511744164099521,-0.07362089994448856,0.07144736925089683,-0.042298717577598295,0.05935074405597032,0.029763352550479318,0.06635647676699119,0.01279419667114816,-0.08201425936351463,0.06295813388286176,-0.06948562044557616,-0.04582928394064237,0.04023595017950502,-0.021022621887190725,0.022024109423941875,-0.07457358008940347,-0.027348688708451144,0.028920437611960025,-0.002282713100364318,-0.010168057306632084,-0.012796714205473793,0.07038321759874842,0.06721239001610171,0.017320794517624846,0.05949084405394921,-0.038433578949045165,0.04486056941496497,-0.0359930847967742,0.03937940544887997,-0.0826694519709656,-0.06808737095728097,0.024114182053267885,-0.018358591021333272,0.0011218126478815824,-0.01166893327446178,0.08036949304275402,0.08415694355101871,-0.027498940325274505,-0.02684064434500565,0.07030088214611405,-0.046848287741399965,-0.060123002404704924,0.006146551873195628,0.02079355930880612,0.045860051092935,0.07772908962647067,0.07050762439396827,-0.013953273141204483,-0.017421516466525178,-0.030662879542239854,0.0067765209885045094,0.027262597838873116,-0.06908323259432485,0.06597070562740937,0.0484757135137827,-0.007782327753522109,-0.0006435210132286767,-0.07078362247364413,0.027993941969389754,-0.0797695329301308,-0.0012140093499264067,-0.03501848296148597,-0.024698223974681136,0.05367504235703819,0.038256584365043124,-0.008471235388247707,0.07525360206323427,-0.03725145777257764,0.06002630999006007,0.024175749453463916,0.03215388006093767,-0.003115528927163503,-0.029500291256804395,-0.02023389402544938,-0.029553434869108292,0.013846884042576163,-0.021490959352450014,0.06634237926463435,-0.0020989796066499373,-0.006970238203419986,-0.010583141279196564,0.04694411362536813,-0.06350975375570773,0.03957319127254767,0.04390193878338067,0.030507361611613888,0.053683274895759345,0.06574733726093993,-0.08336845169038257,0.035246471698067584,0.07224555220406358,0.008912951800446557,0.08537705627577315,-0.03762632744591006,0.0276031955233378,0.061120033708182704,0.016418593400767803,0.08590671307016802,-0.06197962823682685,-0.003209674725846344,0.018695647910675937,-0.02199777967796531,0.03812743790719762,-0.04698750606527309,0.04776022998958301,-0.08418293611380302,-0.011880067277215984,-0.019280124239398892,0.06634884047074792,-0.017447100414477553,-0.02043835144005617,-0.07159150268006761,0.05413240885522785,-0.08645623909841822,0.012804610879778187,-0.02041594756627862,0.00010154706817379923,0.024665820207756834,-0.06634247747611112,-0.01817105848176695,0.027195804241812546,-0.006931705737757453,-0.04794461123993787,-0.0156976548689101,0.06311310214815322,0.07872642022950545,0.04758820318556208,-0.005057267959321043,-0.07024616656938702,-0.08637358837767226]},{"id":"chunk-7db5cddc-89","content":"Here's a toy example of an agent that simulates a roulette wheel: roulette_wheel.pyfrom pydantic_ai import Agent, RunContext roulette_agent = Agent( # (1)! 'openai:gpt-4o', deps_type=int, result_type=bool, system_prompt=( 'Use the `roulette_wheel` function to see if the ' 'customer has won based on the number they provide.' ), ) @roulette_agent.tool async def roulette_wheel(ctx: RunContext[int], square: int) -> str: # (2)! \"\"\"check if the square is a winner\"\"\" return 'winner' if square == ctx.deps else 'loser' # Run the agent success_number = 18 # (3)! result = roulette_agent.run_sync('Put my money on square eighteen', deps=success_number) print(result.data) # (4)! #> True result = roulette_agent.run_sync('I bet five is the winner', deps=success_number) print(result.data) #> False Create an agent, which expects an integer dependency and returns a boolean result. This agent will have type Agent[int, bool]. Define a tool that checks if the square is a winner.","metadata":{"url":"https://ai.pydantic.dev","title":"PydanticAI","chunkIndex":89,"totalChunks":208},"embedding":[-0.01434378406660229,-0.013011369523907645,-0.06548536319492362,0.06753936337500654,-0.07572445967867945,-0.035702791932998725,0.0655492025738871,-0.08979686291076767,-0.06279166205443797,-0.08900615952712974,0.02704018654979489,-0.000714784718533846,0.024287874920659536,-0.028927337764818938,-0.08850468878362965,0.07276579557478287,-0.05883793003723308,0.0006197764793143704,-0.03345051123326182,0.05600163046746973,0.011718885396910116,0.03958786135204108,0.07788185854427794,-0.045576836011222845,0.0029491510434848022,0.039783038024699284,0.017053480765055796,-0.00958695131473091,-0.040767488528129246,-0.0214948827181878,-0.006081143895735374,-0.020539562792834858,-0.0450695878379569,0.008677204064334422,-0.05284512056224569,-0.026771783342389787,-0.006984094657776078,-0.04453625802894915,-0.008561205800372493,-0.07294478636602524,-0.04435470040199596,0.0029438689307601956,-0.015719600534949016,-0.029877576608688505,-0.025985392310130327,-0.03713422830400289,-0.027457214226566048,0.08121229308705806,-0.0013706429235900404,-0.02421951835453468,-0.011902021820660937,0.000668251955367926,-0.039925980675247184,-0.0430150292250943,0.005521716754681994,-0.07224068806689049,-0.08758624124884463,-0.02994210436402808,-0.031091438204125833,-0.015610486863798982,-0.00604413152433497,-0.077910521220846,-0.007813704963596487,0.03543665428402005,0.05919017846454281,-0.04910321006450714,0.04084394745452709,0.08017267049499695,-0.043064367322524846,-0.0695497713366218,0.028393434312955233,-0.04307976001778832,-0.08738943466869886,-0.028349799645972538,0.018992797801792867,-0.08374131817759027,-0.0900886219550841,0.010917203840948247,0.036100037517018665,0.018751748974117955,0.02122378542372967,-0.07462926559204174,-0.07931989301258814,0.09004606468385817,0.010050255339270363,0.010945993850956631,0.03886657246188326,0.01517700162342286,0.057515960027354145,-0.08363442781076856,0.028538439364824662,-0.07359216627864598,0.08322872375913538,0.0295210100115638,-0.02474382159113479,-0.07698134884288978,0.06963096491008328,0.03990350340457552,-0.06278409599116747,-0.006386319072311232,0.024972331536461476,0.05959006032843265,0.037026077743664704,-0.045675099281122865,0.08446146608926323,0.036269553243653,0.03646770123108773,0.0379834496852566,0.08379996841887759,-0.048318775970260616,-0.0869153147908598,0.04760435119639236,0.07002658109112382,-0.015118847282026072,0.02840117649752272,0.06578848880622286,-0.012630539372397635,-0.046401077067500435,-0.04562555550017635,-0.007802327447137417,0.09034497578586856,0.05925843091977529,0.08670128535892864,-0.023260552246175178,0.0369713355524013,0.01313625559308879,-0.010259780574348409,0.06140093346060337,0.05051991108859944,-0.0001491514796673842,-0.06513587071876932,-0.033659559607719367,0.04625941237215397,0.02784380135455119,-0.07053678479532956,-0.02530443099606275,-0.0008753937007488842,-0.06267033094160841,0.017210597016475686,0.035918170889402655,-0.09024104579674005,-0.011311236249135275,0.007989810011581513,0.010925281807642866,-0.010216968296732779,0.05260375568433935,-0.06167733493381695,-0.007601389303564414,0.03866496664465865,-0.0211899841353601,0.08995982866538295,0.055639891840409794,0.08633500094978658,0.050793449485706146,0.06554096305971135,0.03843153743144867,-0.02802933419569416,0.012616589805103287,0.015033812966316496,-0.037967269555567396,0.012224091847122495,-0.07223823814836974,-0.024965721292030674,0.01618723178175323,-0.05171531725383069,-0.02245618319521922,-0.07209192396938655,0.03418507472395797,0.03662181285047018,0.02783666267316868,0.01053870051018868,0.02447758478368656,0.08651833301220037,-0.022393510322602873,0.03355552654782071,-0.004202326433027829,-0.0684905453515185,-0.06540301516422845,0.045620798486192674,0.0543447130416263,-0.07064833258403581,0.05412955024610925,-0.07689130544587007,-0.026117711510371136,0.029873488144138326,-0.0055768187220092864,0.04139560126395859,-0.025305046402733768,-0.022108423653473843,-0.056743769697815395,0.03867562659750189,-0.07260621894404329,0.04458276373432101,-0.07157559243321457,-0.0379097428373216,0.08051261481161176,0.06775918058615127,0.07608952390848119,-0.036332682509013746,0.05311107978494242,0.01672811716828195,0.004341340455991973,-0.013577118112030127,0.015106911918693677,-0.003072846375433877,0.07846030092621911,0.07472365621757539,-0.021767630041830573,0.022415235369574783,-0.04807163972736046,-0.06808453975922509,0.015779913195361015,0.01637327798934667,-0.04040662884702305,-0.02379735439468297,-0.01827228929698624,-0.05351117253114775,-0.04794902596442054,-0.02826942590242605,-0.08650546392720618,0.06677757284921947,-0.0015850683876724911,0.023102033105898354,-0.006442095180102093,0.05676983769028276,0.010405871751878416,0.045377293309911006,-0.08516847894191894,0.07413477265887758,0.06709243055648603,0.04190582180610137,0.0608489814548314,-0.02074252659310749,0.08800812103865881,-0.0201887597123256,-0.049716331158703816,-0.07205626543637741,0.06365381143329092,0.005466632208336596,-0.07625942281336329,0.029213268627488288,0.03658429261829863,-0.021777713344284643,-0.08915679508129538,0.014920939260062294,-0.049191762673912,-0.05912506050459589,0.05134934941640161,-0.048812823596232006,0.04661058270179685,0.06597676432003584,0.04943641785432497,-0.05381393244333737,-0.012359187425222249,-0.07231250723244496,-0.07285231617539195,-0.02774021334583422,-0.020424049327442732,0.06106883029474967,-0.06422492980422344,0.002166588963376668,-0.06909009802840455,-0.07076087914205226,0.07253511664425262,0.08135151056826333,0.038028493236976255,0.05133469276543563,-0.017373884447575608,0.020827033386155182,-0.020239359894926073,0.012173270744085257,0.03685569120593377,0.04899809479166022,0.03558230192564271,0.013833083587259374,0.08300398737713055,-0.01616392379992356,-0.061927117683587475,-0.05314410191622112,0.07099182539751898,0.05758164657136484,0.01963092397964187,0.029406209731825055,-0.0601868670836383,-0.027985474350618527,-0.05863034445740242,-0.06336554904285746,-0.026112939851795944,-0.04184885727757113,0.02391995110987041,0.05795099879395305,0.07829603591074671,0.06574439196545424,0.016195593237532144,-0.057729560623727444,0.03876742870053447,0.07752285938929657,0.0900609468506969,-0.0747302827813952,-0.04515721776629114,0.0812315404129856,0.07784741439729821,0.07744909921011103,0.07049357493579597,0.08210225068568584,-0.07820600354427207,0.08575471598057115,-0.07944666899506787,-0.03322860210738668,0.0534252555042111,-0.04231367548192498,0.03068903774190448,0.004032101318148637,-0.045400638733207155,-0.005061049214290183,-0.025021860256047065,-0.03894601629560746,-0.09016660524541557,-0.03867128503227591,0.03570531656591248,-0.018418268764617517,0.031286513481655426,-0.05598079453208432,-0.06268992151161623,0.07788070921377117,-0.025445647665426497,0.024254497833164076,-0.059901013599557074,0.07873520670742283,-0.01930937401709151,0.02839430701216445,0.06108723360837857,0.01900337654880994,0.033495142177625656,-0.025848626806898093,-0.0774795365143333,-0.011947926315666279,-0.010051280034128742,0.05910511907753366,-0.06370197866652469,0.050197599309283025,0.08363896418782983,-0.06529289008125502,-0.07688816094737756,-0.023159451468050308,0.06336733309742602,0.01886916129244559,0.026690781339576,0.014895590817499386,-0.06780328201609764,0.07753832521430291,-0.008416229008371677,0.07683240257772096,0.0447706343288511,-0.06822276615272387,-0.03426777904253515,0.007638738682223146,-0.07278767137333336,-0.015910508279864788,0.08870896514888633,-0.001894946669988998,0.06191691024338499,0.06946036777758613,-0.08665016119018348,-0.037549073650241384,0.00024126315811137138,-0.02432842974786137,-0.07863113767337628,-0.004753028116408638,-0.07462611517252096,-0.019690625678127214,-0.08283580867321452,-0.011113538701569682,-0.017294265920913453,0.08073599955292485,-0.00888949773129346,0.00781086599979753,-0.029491962843075127,0.05046845311537983,-0.04605314274297854,0.08982588066894359,-0.029568196889881215,0.047533480674988075,-0.08679150873387033]},{"id":"chunk-7db5cddc-90","content":"Here RunContext is parameterized with the dependency type int; if you got the dependency type wrong you'd get a typing error. In reality, you might want to use a random number here e.g. random.randint(0, 36). result.data will be a boolean indicating if the square is a winner. Pydantic performs the result validation, it'll be typed as a bool since its type is derived from the result_type generic parameter of the agent. Agents are designed for reuse, like FastAPI Apps Agents are intended to be instantiated once (frequently as module globals) and reused throughout your application, similar to a small FastAPI app or an APIRouter. Running Agents There are four ways to run an agent: agent.run() — a coroutine which returns a RunResult containing a completed response. agent.run_sync() — a plain, synchronous function which returns a RunResult containing a completed response (internally, this just calls loop.run_until_complete(self.run())).","metadata":{"url":"https://ai.pydantic.dev","title":"PydanticAI","chunkIndex":90,"totalChunks":208},"embedding":[0.005788746876062129,-0.07066584530112435,-0.08245405251339086,0.03531580445530782,0.02642864915503597,0.08182072788910301,-0.02292261697118926,-0.021042442081857373,-0.0554848606738497,-0.07388657975806877,0.033765518757671066,0.014548216980908454,-0.028087076080042607,0.014710362470401394,0.03595738831196488,-0.01081586398674332,-0.009888094857709907,0.0540134861613035,0.019246113386928814,0.08224399095702187,-0.03011259033539257,-0.060569830647813946,-0.01707382332200737,0.046194261654046526,-0.035708269777400305,0.03891305693208321,0.08105859354806774,-0.047689613441518806,-0.04768238605659052,-0.08159352991551971,-0.06574982070611074,0.05373899294239094,-0.0031170292789392093,0.06425178518315654,0.07999315423371882,0.0785682659419519,0.015098965029203009,-0.04416939017824617,-0.07808110220291085,0.06171532591123004,0.04446673795557414,0.03966446645533098,-0.07151821352522947,-0.0551726589642073,-0.00896431897701713,0.06694480758379596,-0.0566275138740753,-0.057940177694349324,0.08160352518612317,0.05076486320150273,0.04631198979306464,0.0692461893002017,-0.023260189903073682,0.05371706372450392,-0.06657665157353272,0.0710831474644396,-0.06097538391719965,0.020445311235093255,0.056863361454315246,0.039796991502433945,-0.007261218097595864,0.05211742432224163,-0.05813723928951613,-0.00727198931100718,-0.06764016553839526,-0.044067146509722946,0.07117941641993979,0.07399140283165481,0.016006811044616907,0.022854444879193817,0.002034152694507549,0.0807582115785601,0.026024089348797998,0.057006580232525625,-0.021275975705630553,-0.07575334468221549,0.004636377815703226,-0.07659697984095432,-0.029758970663406,0.030707874016532178,-0.08050543279366776,0.024592328692123442,-0.07652937970014703,-0.05124777297537291,0.021252784319541772,-0.008785583212878994,-0.06863074435665105,0.01500911263661447,0.0033955382215321455,0.047336871356438236,-0.014439173871571467,0.06525101487453874,0.010674596524439228,-0.0032200264513494296,0.003507334269950684,0.04754438625882942,0.027684994977604252,0.01145274458125796,0.015984326309596612,-0.048020333487393,0.02119257869709259,-0.05903475823061355,0.056296547585971995,0.0221513108841598,-0.015374095638136593,-0.06494343869920445,0.0667087338635753,0.00969160099732524,-0.03436615815228759,-0.02983688455288891,-0.044094477983167506,0.08364514741467405,0.05212664698408689,-0.03346101171686216,0.053071818254085336,0.06022209048265496,0.035890891818865546,-0.04033199528539493,0.0038990196766864943,-0.03170937013609648,0.005846916903412974,-0.04056717598510838,0.08586620142661741,0.06336197558167413,0.015303708035470463,-0.007533266037233396,-0.05947330539516087,-0.046569484202419596,-0.03446097261487184,0.003369398994542977,0.03224660505016667,-0.08289168800969096,0.0520718992556839,0.049388063774298246,0.042536248326783516,0.05249210634593956,-0.02243317955018605,-0.07990164409415272,0.02862529888913775,-0.07757973322051592,-0.07335244065197608,-0.03622511528908941,-0.07125915916913254,-0.0015659413865007534,0.05303452381325973,-0.042518040551224705,0.037972412852971524,-0.06913185210107714,-0.04375470775972048,0.04154968245236594,0.05436282587755597,-0.029211785522793868,0.07572961756855061,-0.020844966156051803,-0.028484862069426554,0.06815265114275162,0.07430910630368748,0.050578940758317294,0.07019902176333634,0.06220329963211563,-0.026269474420158603,-0.03850425073136488,0.008744225571109671,0.021469781729403822,0.00956012848806331,0.0028811658587244732,0.0767352457145691,-0.00466656028966603,-0.044747054932422654,0.03672012337409562,-0.017387701650777194,0.0805947546350404,0.044853255254738184,0.06664892596150863,0.05334138849268678,-0.002193255336321477,-0.02550710055780219,0.0800437162112993,-0.05926004401098666,0.06677446358333473,-0.0255169179932027,-0.007061136442850604,-0.04192164869965449,0.046002488618595655,0.018210346059445933,0.07503191299992563,0.006310131251506083,0.03635237653358141,0.041109533571355994,0.0793592766521934,0.0054504539549767575,-0.0677519920190457,0.06989322607855193,0.023189257169728954,0.08100824065965463,0.05732462999569248,-0.07510023529379893,-0.020217205375316606,-0.0630758357965662,0.020626639674567508,0.08437795928184173,-0.05980346730791585,0.06116404145184543,-0.08560129396266121,0.003088286668756114,0.05403561361714422,-0.007603392602597657,-0.08051219722040902,0.024766924018085303,0.055942064936682225,-0.06377188193212127,-0.01090749379969459,0.079497006228559,-0.008879425428985413,0.05924476534860858,-0.00869238708622364,0.08293743254704597,-0.00026142023989506584,-0.011168238968889296,-0.08332601169744816,-0.04823794112792977,-0.025685402886586613,0.021901257440965428,-0.07260868410348437,-0.006275453252932688,0.04405305265554643,-0.02800139782900936,0.08307013221168731,-0.04048348619272949,-0.005985121662692279,0.06791174908999346,0.06362279164485284,-0.007901904565449503,-0.027707830958629324,-0.03786691733886211,0.020636758789491404,-0.027578405902667042,0.047168299101251865,-0.020658321332460462,-0.06483156727480646,0.034352823196585815,-0.031238329367402496,0.014646206640544989,-0.06570243305935285,0.08432230667504276,-0.012053439867907126,0.03361566480373834,-0.040209534265921665,-0.05620887236408231,0.05709475013193131,-0.04583869367930318,0.013604582245892786,0.06040076829070146,-0.051172915460863264,0.001240229618134214,0.035325987180705766,0.04107660662308653,0.03320783160450416,0.00811269376533259,0.033755850140478015,0.07520281964527048,-0.035053284516476546,0.004848303453534033,0.02070966222575456,-0.006798355330823358,0.08254640906246957,-0.059687201315325955,-0.030969913023877096,0.027693073412564204,0.07417873155376982,0.07878147186805803,0.0419575191713688,-0.07700534214092965,0.056685187750073425,-0.06717590538192472,0.0782983464710084,0.08461791790314183,-0.010788692966010635,0.08308246881713223,0.018427402117117603,-0.0020337619679541524,-0.06280773080567735,-0.07415644083841891,-0.04252959921244162,0.06607237373258577,-0.05735094901357208,0.023523855562824547,-0.025666354134466572,0.07629595636844609,0.03098822488685909,-0.004899208441510658,0.025738773050131003,-0.040778087044695405,-0.037619893078224595,0.0653297662768361,-0.03209154737030334,-0.04648302940593784,0.027036333053500967,-0.07872289649388574,-0.047059814296000486,0.008644854898924236,-0.0029801252469400263,0.010526694724865945,0.04052352491815304,0.016913501466092874,-0.04724628641563663,-0.0759779232053195,-0.030200900841931076,-0.06365025044726541,0.06769232116937833,0.037374486692605034,0.0108677435827119,0.06889359506040728,0.0842218203240088,-0.05673484978574755,-0.06908421807066807,0.08090489088522859,0.08345164658378587,-0.06415906508466568,0.07859756483036902,-0.018049837480225005,-0.032445221888502455,0.02774788659313161,-0.08030229338441505,-0.034775434585561246,0.03257002491250147,-0.07467716873434345,-0.03806384141615763,0.02554064158928665,0.06966342919920909,-0.04581465956395714,-0.037610795522559665,0.06261674840881377,0.07835395830887247,-0.04693793135579338,-0.06056415403727358,0.040868334630860405,-0.06649897326750863,-0.01809173810186596,-0.03796086606852245,0.05656154104985959,-0.05136748511832839,0.03299979837601444,0.07633543967276274,-0.0208033920160833,0.06036272244294216,0.0759626896758996,0.015862252502650897,0.07500578087632861,-0.04636712757737716,0.08457590825196243,-0.06056239339159956,-0.03758891238021671,-0.0637816402193437,-0.0329490840052954,0.043845254652428604,-0.06188144137553645,0.07525606685803186,-0.0823646035365484,-0.07007181276375031,-0.08193293267394088,0.06644453157177217,0.06818462849590488,0.06290501011988688,0.034762641054986894,-0.08346317679544384,-0.029127796745919587,0.062029972986568274,0.03654806822740301,-0.014510188615963936,-0.017266623810735817,-0.041905170661307174,-0.0818990399406194,0.002413894117681004,-0.03095253317830309,0.06387836864943815,0.04576582863389645,-0.03268922784022119,-0.08516444222011585,0.043359964099617725,0.00832557980626579,-0.03766399915872837,0.04734337552469521,0.003913645377380022]},{"id":"chunk-7db5cddc-91","content":"agent.run_stream() — a coroutine which returns a StreamedRunResult, which contains methods to stream a response as an async iterable. agent.iter() — a context manager which returns an AgentRun, an async-iterable over the nodes of the agent's underlying Graph. Here's a simple example demonstrating the first three: run_agent.pyfrom pydantic_ai import Agent agent = Agent('openai:gpt-4o') result_sync = agent.run_sync('What is the capital of Italy?') print(result_sync.data) #> Rome async def main(): result = await agent.run('What is the capital of France?') print(result.data) #> Paris async with agent.run_stream('What is the capital of the UK?') as response: print(await response.get_data()) #> London (This example is complete, it can be run \"as is\" — you'll need to add asyncio.run(main()) to run main) You can also pass messages from previous runs to continue a conversation or provide context, as described in Messages and Chat History.","metadata":{"url":"https://ai.pydantic.dev","title":"PydanticAI","chunkIndex":91,"totalChunks":208},"embedding":[-0.05365152067684094,-0.05321934805387884,0.06687532584030983,0.05128092225708532,0.018558945335592946,0.08553182860791173,0.0789488546223454,0.07186921939143764,0.014012413382209852,0.052209243651839134,-0.028794012799590728,0.0246097556799024,-0.020997150993833893,0.07494589732035702,-0.07152558270937148,0.03552485706883766,-0.019360308197092026,0.07700591576505256,0.05388132104075512,-0.008363383925926272,0.02546729136346681,0.013728009593453687,0.060393852647393935,-0.06282002006408435,0.05979945773282927,-0.013148812467626947,0.05926840240339201,0.003130511344232752,-0.07725405625401831,0.033205254113481936,0.07494954177007156,-0.04486423081786624,0.08553705649549652,0.018357731631066607,-0.00560181509115358,-0.07579279129511957,-0.060804513583140714,-0.014817386806169685,0.055227081966025736,-0.08140348300332624,-0.0121929639304901,0.0639706929002442,0.0070187159996440585,-0.026307050030418746,-0.028124840205077647,-0.08427754874913133,0.02847228020711459,-0.06787901145902397,-0.03483072586455383,0.06161091969502386,-0.04976179513197131,-0.07762600408628699,0.012867399512657593,-0.02093126593358418,-0.01865600679381554,-0.044025970758755015,-0.07272966485461993,-0.05404788680610213,-0.017896538355959755,0.0855811077514197,0.04404148237534878,-0.03438227257564643,0.0690634681309526,-0.08171637012751368,0.06350502043018735,-0.0764875882129895,-0.043002394155037316,-0.030636729976677594,0.0166326952518374,0.01674132102963608,0.08367767396256608,0.07092001702385277,-0.04689840006280325,0.06071872109259567,0.07080520048277805,-0.030197667490155292,0.0034163397042669017,0.05359770513726447,0.08202580492394394,-0.03526998821735453,-0.04302111313672065,-0.07397404043456865,0.0712340604329921,-0.07801511076164341,-0.04874897822229872,0.06157164450118088,-0.06333344390311824,-0.05591369184152345,-0.021894627285571407,0.05901848769354266,-0.019220856177587998,-0.007867244910864614,-0.031886841996124904,-0.05243769017926718,0.017281593102710026,0.018199789813985637,0.024723970589181892,0.02413678211708644,-0.040353174487129155,-0.048276939317058086,-0.023052538725297902,-0.005357252834704377,0.06999006783807261,-0.019113030302503213,-0.05178372277940193,0.0679979029049867,-0.04974831280585029,-0.003497023128456194,-0.006492962369523715,0.0751157458970307,0.04820772276231179,-0.0018101377967077606,-0.02185799310753842,0.040956289745307024,0.05502371231494886,0.05887461306814685,-0.035664632244346316,0.014918445615706218,0.04881412921632743,0.038497379573547146,-0.04472876826738824,0.029268844634427877,0.0713074593735261,0.0008030947834328963,-0.06418558649152425,0.018056625097976294,0.07256807599168351,0.06555572344439767,0.052680085377718455,0.08218229560856305,-0.029811743265875122,0.017801389529832352,-0.036058044242919425,0.03470080060913385,-0.06698937408826819,0.059021636308510456,0.02081841507782758,0.0833186557277355,-0.07314570687785932,0.015367378496320656,0.0592710184364337,0.017642468045996996,0.07653520577862945,0.0022203352103005998,-0.052799756592411866,0.04932912692522507,0.02678549754773847,0.07801935834991217,0.04092177284873706,0.025708395118554186,0.038968182000267505,0.05191346675928447,-0.001441124583256277,-0.0470225829077495,-0.014443933245937454,0.016093774523701247,-0.06486030805064799,0.057133803877165205,-0.020058483088575635,-0.02347359971516526,-0.03988732015748512,0.06497321147199563,-0.0007093878768591431,-0.018414302628341903,-0.05450234004131192,-0.044983378658515774,-0.031729838439213,0.02929380485885783,0.04102989511501111,0.07949642453720651,0.06103580689211599,0.008819506175904383,-0.04947728995117452,-0.049381897933957385,-0.07554504399933985,0.011477694285487032,-0.07154158090771492,0.025128720611350772,0.06906670001027938,-0.03967339004409332,-0.058152253028998235,-0.0648561553094383,0.024850453024320582,-0.08048201951078415,-0.048549677104712974,-0.03559324945392031,-0.02194309918235691,-0.07692782030477138,0.006809111123261418,-0.06151501731621274,0.03666209651684306,0.034477174990464154,-0.029212942202431175,0.004466976507231603,-0.022125602694672057,0.0850453397882626,0.08709206673353499,-0.08484165913458122,-0.05537631964083524,0.015402927023744255,0.05323422525770249,0.06307837390553284,0.039930159177999025,0.00811475185260611,-0.056060468857314374,0.030432239788387917,0.08729756272877903,-0.03093904077202385,-0.0213561917322607,0.015242152776509975,-0.046454424349597664,0.0469075838627754,-0.08630644838908046,-0.07131371973458543,0.0386122449383511,-0.0644304996984692,0.0020669026801615207,0.01574317024836213,-0.03426688949443301,-0.08342543292895757,0.045639236908658204,0.038026477103314096,0.048569728663451245,0.0476395064849456,0.07386084231474305,0.01777598968826615,-0.04163579049272671,0.0859114875862516,0.06041352244333637,0.043840955956703676,0.00906813238329891,0.05409079269341045,-0.02478922952983039,0.014965443584488189,-0.06564966609818802,0.03185912793922385,0.08523321465637099,-0.004809938268544624,-0.06604651014742306,-0.07813990175400629,-0.0818584984604909,-0.029841754342176247,-0.07391948299068432,-0.011658453969517328,-0.02612688586704653,0.05676199862042265,0.06713066079687718,-0.011636667160139051,-0.08083861981436559,0.08018698341200844,-0.046310448159338866,-0.003672791331240306,0.05940869172879238,0.04487917158781846,0.032888167961147886,0.05018900080854498,0.0685369655599167,0.08304839534442171,0.007440076560076871,0.029658904320130106,0.04027773871111332,-0.07270955819509749,0.085467147297901,0.0741138746494825,-0.0345799205390503,0.08122077881826724,0.0553016179870019,-0.026575661026890154,0.06043650586046209,-0.027709612123995954,0.07361077092095027,-0.003755354737394927,0.046339075005681025,0.08572531080714707,-0.009944982081543052,0.03611726590120908,0.02146003360836266,-0.06717402826641021,0.07883584029316622,0.07690157843016104,0.03255395585034996,-0.011264444511479309,0.07429275569112719,-0.08728970866104283,0.024522766653444057,-0.048346989627154946,-0.06957476774047679,-0.07296739904855569,0.0375257497974555,0.03632480066271606,0.06854384085592498,-0.07330286200220033,0.06370210185825007,0.03351295502128021,-0.061704155208697695,0.05894030089503038,0.017900682825276647,0.053610997515210694,0.03717340361634853,0.03552283474146975,-0.028181957320387162,0.011688372019484862,-0.030170988669164962,-0.04922200710034843,0.07275495221654557,0.03378194975815186,-0.0744578561455488,-0.048497351730140595,0.03686800445454189,-0.01210164011673625,-0.0764990218128523,-0.08580329783521279,0.06925484199525479,-0.03597751016255865,0.018007430950793116,0.006049210276973097,-0.08113076175439121,-0.08031247238197874,-0.0839049286712958,0.034204625622862056,-0.034728404273478286,0.04524126369249768,-0.044563580629514536,0.0014764295530293851,-0.014903670414465029,-0.024094282512522533,0.041866024859012765,0.058639235847789274,0.06542944023914167,0.042712030526508286,-0.04201497248453934,-0.001759726019084753,0.06050622288470785,0.00007560937690102081,0.051288120731109346,0.007239538130110696,0.031102984911059416,0.059031607282169656,0.03148341872731967,-0.022130705680314895,0.03385599559998939,0.05112750162443844,-0.028124010885565157,-0.0008647923143236082,-0.03653599111151191,0.05753731634824815,-0.07174494185414593,0.05763125133644497,-0.06774944807908825,-0.01539089073442972,0.0014665423794657097,0.06467572059729088,0.08500157818780595,-0.059176500738750054,0.011560315722984913,0.04630321248917207,-0.0816005387124597,-0.016389157915073026,-0.036645450782687605,-0.053229955290871815,0.03710704784743108,0.07416144085879255,-0.043141254395536476,0.03866086377780668,-0.024018222433320108,0.006584083177751557,-0.0768009292740413,-0.013190942261814479,-0.05969853496532833,-0.05254995513759867,0.003976033305648916,0.011380689169392754,0.049610381920271125,0.07683560323649144,0.00891554749689588,0.019152456041012803,0.03393613165576147,-0.05350750920389764,0.022597293298499792,0.06458933596451763,-0.0010382077796782189,-0.02424775442597141,0.04889998261346888,-0.07628220118251894]},{"id":"chunk-7db5cddc-92","content":"Iterating Over an Agent's Graph Under the hood, each Agent in PydanticAI uses pydantic-graph to manage its execution flow. pydantic-graph is a generic, type-centric library for building and running finite state machines in Python. It doesn't actually depend on PydanticAI — you can use it standalone for workflows that have nothing to do with GenAI — but PydanticAI makes use of it to orchestrate the handling of model requests and model responses in an agent's run. In many scenarios, you don't need to worry about pydantic-graph at all; calling agent.run(...) simply traverses the underlying graph from start to finish. However, if you need deeper insight or control — for example to capture each tool invocation, or to inject your own logic at specific stages — PydanticAI exposes the lower-level iteration process via Agent.iter. This method returns an AgentRun, which you can async-iterate over, or manually drive node-by-node via the next method.","metadata":{"url":"https://ai.pydantic.dev","title":"PydanticAI","chunkIndex":92,"totalChunks":208},"embedding":[0.024246104784173134,-0.05187408300207663,-0.013113986727645868,-0.05060007622839697,0.005575822201779335,-0.0888059736843339,-0.0883327301374307,-0.0542362101437657,-0.03535583193070229,0.07566909059067027,-0.00620547680507452,-0.013231799360305678,0.05192848246989736,-0.0726868756672148,-0.03770951155133603,0.07714488923409336,-0.005870420111381021,-0.020170435568272083,-0.06561108139285865,-0.05061219368612038,0.06093774827570526,-0.04841620529217078,-0.07470604938039647,-0.05893665255914873,0.027938630570644222,0.01955743160253164,-0.010766597597862084,-0.04183233762914278,0.03241667103281759,-0.0887430841032752,0.029421052676589038,-0.07673606453662604,0.05146695975313711,0.03397382784680807,-0.07252593812178819,-0.01663948158054596,-0.04361753184834128,0.08621781249878242,-0.04122191407357535,0.024512020019804927,-0.044523770882911234,0.019013792193096384,-0.030825980496945547,-0.053865392040586574,0.08429315340257582,0.044741051270598006,0.055981755955862356,0.05024127118512437,-0.0553005799904083,0.056712918163305225,-0.01593809887099315,-0.03786675552937814,-0.06802053613551903,-0.05785518949574225,-0.020225370666165525,-0.029342669794108052,0.04403870412766623,0.041944408088740476,-0.05932140671122545,-0.013161423396435354,-0.036415153801694355,-0.042932430201957056,0.08561266511182933,-0.03355504786043189,0.0342943422510766,0.060011773274265094,-0.05278282873001061,-0.0829547767961224,-0.05907161533578408,0.019715193245347568,0.012995592546658052,0.04306020275392148,0.0387723963909003,0.07791166419212943,-0.026235313707793483,-0.028721529660252827,-0.08837022132035954,-0.001878425638119011,0.033069323808028496,-0.00251244085458069,-0.009360076635054358,0.0614306511585473,0.059654232498558814,0.07419911943591485,-0.05842182177535231,-0.08392119011491418,-0.07013943793526807,0.030872891136602576,-0.020060282702736843,-0.006134045514539272,-0.019676561005193556,-0.05080366865443702,-0.0398062550891753,-0.077826286715072,0.07775586000545678,-0.03236779134581296,0.07361624164661874,-0.020943789477535085,-0.08194475577597946,0.060904126042918845,0.020217285605137702,0.07618091511262443,0.069863781298544,-0.0530755496768427,-0.027919918992025564,0.06148318152219997,-0.03629117893036427,-0.02412341895256075,-0.041406380774740244,-0.041115112530415845,-0.04407942563132297,0.04511787413477822,0.002702153764797886,0.042951770286058094,-0.043908464572720234,0.04649140452745758,0.023373973036609107,0.0807797081886064,-0.07295738108804502,0.028565335923107664,-0.005381568589035308,0.029614795495113498,-0.025780315411883307,-0.08365487280412497,0.05760785260321585,-0.011301664517240833,-0.05937287254427216,-0.008225503456166645,0.019215740353520566,0.0009906620634089903,-0.05557194393574112,-0.028404553361115494,0.06638339584645347,-0.0351548092195563,-0.06956148561591868,0.003923825560546565,0.060671496896041524,0.05203319417562923,0.015053398787443405,-0.04557518236742325,0.023097629223167358,0.005591681014884787,-0.005899721367263272,0.08865530898526411,-0.015946986051349716,0.02419226830818121,-0.01716649913689595,-0.047453340567702375,0.024257148801274962,-0.0541751614575079,-0.06817345634524882,-0.025677751884003664,0.0027402580295660395,-0.001748424597487626,-0.046584074053333716,-0.022593214223884852,0.04268087890162358,0.08864434109522444,-0.011572733911126312,-0.040269279538747045,-0.014557187580349702,-0.07224975126121701,0.07712026200467852,-0.08127276860595796,-0.06365533248874426,-0.05979885483999913,-0.07402006089953513,-0.07560402657916104,-0.011391853644250684,0.051361817666252106,-0.04589893902641177,-0.05407889528521647,0.003871304865210251,-0.07993128784846884,0.022552696861897682,-0.04612266372143071,-0.015596784774117642,-0.05160119872512767,0.07695827348947926,0.036572343081254344,0.07626894383106315,-0.08070501121348411,-0.024792618720359646,-0.08543084742780253,-0.05028787913761563,0.019672454543115676,0.03637491261114454,0.0635829428530787,-0.06102933021933002,0.05856895368520129,0.02683386478192591,-0.0009970428688900646,-0.05364961670404959,-0.02289914660544168,-0.004148569657925663,-0.04174292322619009,-0.021522052784768018,-0.007401026899136643,-0.05811362109492463,0.08034566328792206,0.06874213108181382,-0.02256654383358822,-0.07729853697297097,-0.047306457849258056,-0.07562473817855839,-0.016059267380278713,0.07611620512922528,0.000880545677305513,0.08684349566159846,0.0773513156770271,0.06356943172907899,0.02768105540578321,-0.02792722094648928,0.07548427070579897,-0.08335826489713039,-0.07325127956628645,0.0682917485678442,0.034043073704757267,-0.004614995834170061,-0.015393034510771533,0.08885401450084067,-0.064813071657122,0.054935184021966045,0.04802698288365996,0.015766627850556835,0.06824744075021698,-0.04126608208364828,0.018581445535713788,0.02281133507579107,0.019391541216409267,0.052028541672401306,-0.00468031270048364,0.06679167012817679,-0.0053609566448603535,0.013440732985572358,0.08174617438343731,-0.07812976726933454,-0.01335569820366862,-0.01703460944148027,-0.07600713656556432,0.054639287551323454,-0.06489804273850755,-0.07631421114686733,0.006179785009680768,0.08865592650020233,0.06547015249422102,-0.07134494859151921,0.016820477435779378,0.018304509622430503,0.07888576687240871,-0.0667920998814067,-0.08027727977694685,0.08178167629035812,0.07433005011120102,0.02668795551969409,0.05381764433925328,0.01785556761599819,0.0655347873240704,0.001786371224905869,-0.07564124118072467,0.028243393607037124,-0.010440248620286613,0.0512319266704429,0.07054564071414207,0.020173427806184648,-0.08418725743626053,0.03521563854443642,0.03934736019834237,0.06658661368661753,-0.028279679849897127,-0.034026079883211865,0.07975345251241756,0.054689468713166565,0.0030143263085967422,0.04833082019867191,0.07201749519703263,0.013486182507998464,0.00471697474576504,-0.06719033237148507,0.01782392882581884,-0.04408343926778738,-0.015643213828870496,0.07732999401405244,0.046240949411773286,0.042901976581786065,-0.0023747158736893764,0.07989969254491558,-0.05710492086696773,-0.06847942454338786,-0.005515754360022462,-0.0026111809298329626,-0.03491996723416379,0.08841557131188119,0.04221972983985717,0.014628785025798485,0.03402540713116852,-0.08616972242867056,-0.078430548978929,-0.009112955706701382,0.009120820815476032,-0.04277091656424455,0.02582526333912839,0.025798420263370637,-0.07115262433087338,0.056760649340668205,-0.030888527678044703,0.02130692368913379,0.039763734433421606,-0.04568533867102688,0.059387103620685285,0.01019550794137119,0.011767274447020977,0.05910456370448675,-0.004738967864255191,-0.0029070065494137542,-0.08872156141059827,0.036271310846943544,-0.03102088614343367,0.03266938325808028,-0.053902257156868784,-0.03945754798304239,0.08242036010532017,-0.0463209818344089,-0.018434850989283297,0.05373876420269006,-0.019856383438233257,-0.07272386467023806,-0.03613343682097037,-0.06652298429110509,-0.004959460092093089,0.05609765257725982,0.07853002203188045,-0.03799285378480974,-0.058283298230738315,-0.05863379462132497,-0.03234358423356857,-0.04393119895241285,0.06079763484096237,-0.027704867364073217,-0.011859776127471045,-0.06733302781471037,-0.033328021127539076,-0.046675948394238616,0.07860149579691857,-0.021433281232923374,-0.03949095361009049,-0.016645667327076338,-0.06969142884660814,-0.03009911988101326,-0.023210410123193324,-0.0845879499319311,0.07732375506919827,0.06706216248539462,-0.0007153423448212022,-0.02761575948411518,-0.033305677410684194,0.0023320853679134287,-0.03136175176379429,0.05208138573836764,0.040500626177347454,-0.04144662930938513,-0.08410238393055339,0.01254753144719056,-0.015819748553117397,0.0892807359219542,0.04267198663178412,0.06624956763526893,-0.031103747394862116,0.0421724121528133,-0.016089293522284324,0.07379605350703786,0.02982209011899061,0.07367349399123792,-0.07908665303563077,0.03370271002329925,0.06548752012495994,0.008986803136926763,0.08423490326738509,-0.06989873792542706,0.01626701232140411,-0.0215149356388328,-0.03555433318341757,-0.006264769756617773,-0.03806969630396589]},{"id":"chunk-7db5cddc-93","content":"Once the agent's graph returns an End, you have the final result along with a detailed history of all steps.","metadata":{"url":"https://ai.pydantic.dev","title":"PydanticAI","chunkIndex":93,"totalChunks":208},"embedding":[0.08738560202789475,0.030078870397499537,0.029717324187128986,-0.029311795691006025,-0.00917306864301448,0.07399111856067289,0.04278018226786251,-0.029224095940364625,0.0075834600645954915,-0.0037928123952706686,0.08452140420772193,0.003284659646547591,0.00019597218066086906,-0.03460262497523678,0.05562126701285969,-0.030456416215740873,0.06962770296157927,0.05108814531588578,0.046511064401247554,-0.05704763390102341,0.00035700781448700546,0.016725009242092317,-0.020817284748404035,0.07947594106498103,-0.047504130948533556,-0.01908065368856123,-0.03925511367718906,-0.06580682566346453,-0.060053205320990795,0.06524432974416758,0.06522981473976824,-0.07748640656294571,0.028314553610607838,-0.00933986353664756,0.024573902760609886,-0.007569125782953536,0.0545631672711262,-0.0014030891673622765,0.03319481999759122,-0.045533172525488504,-0.07956461163450387,-0.04754319525457289,-0.014760221963390259,-0.06915273784977687,0.05041730772478905,0.03996377373169597,0.02392628034196377,-0.01357140445573213,0.05584097560817339,-0.07402068539225444,-0.03308571988248863,-0.08893300586637184,-0.014305603186696379,-0.07641216860034973,0.04455427722924351,0.0803186869229945,-0.0009831271290587013,0.022705908251404026,-0.06404359611828438,-0.009159991885435653,0.08836423473319663,-0.04605907185965014,-0.026456923867515476,0.08788612022342358,-0.07946683013209656,0.08281209479537031,0.0010897451638813662,-0.032990436641724456,0.04077693042341527,-0.050119426268896206,-0.03938200029610493,-0.010658046006821284,0.05759627596173745,-0.07921965174211473,0.01735398905666354,-0.06873127791532808,0.05466449987101059,-0.03722445153885461,-0.071427383060408,-0.012021721547119443,-0.028032749530626174,0.062438152314224546,-0.07657849403331032,0.046380379512855265,-0.0851240403823602,-0.06508142413909468,-0.07530230975350163,-0.057757880482363876,0.04558459931698208,0.07902870824875961,0.03190181769709114,0.030975459215915397,-0.011321740141837492,-0.037112243360723614,-0.012708322154099026,0.08388605427707255,-0.073816027751608,-0.022545504081185223,0.02935130311554521,0.05762695126676135,0.014848087126278784,-0.023267412211679578,0.04423191462266992,0.019544261326713094,-0.06972440082688931,0.04360550729291791,0.05788090392620893,-0.019765662426156884,-0.05470527777360922,-0.005966039228509063,-0.013177554964899214,-0.0009415609824617387,-0.06390154541062967,0.07190970260831989,-0.08081127681464341,0.03944013744095115,0.07592195465408065,0.07370501117510271,0.0048637900840793535,-0.005679659902593439,0.061191583743565765,0.03745256200127796,-0.00803708522193782,0.08194354317805186,0.014609311351942506,-0.05819477035116243,-0.004837297665541781,-0.044662971189680926,-0.070234245050536,-0.012733719370728511,-0.06640446859390724,-0.06995203096331683,0.08099006622659796,-0.02185474064885445,0.05542926029101615,-0.08117109553151228,-0.04197095179548104,0.003297419757224841,-0.06817126535572535,-0.035768477909530916,0.011763292430722454,-0.025516720548798093,0.029028347846800192,-0.07042625383760251,0.05148377851564777,0.015491878222395696,0.0306165400794912,0.0531890907836686,-0.05747306914256716,-0.044157870474213275,-0.05594202742981225,-0.014584332595339327,0.08312606635893259,-0.07102345646484458,-0.07177165842704995,-0.01177296855855972,-0.006681173135586445,-0.0022701415359336675,0.024302488882288444,0.08754484630318131,-0.01133929421321355,-0.02064306711692894,0.02340531241405876,-0.06149008685983382,0.0577826581220142,0.04197595540865814,0.032591169151870235,0.0862971639604403,-0.0024512491818227747,-0.004192391345458242,0.07955910173987078,0.04552109121534918,-0.03607315097205282,-0.07767850092340202,0.0034942212571330462,0.07232392163482075,-0.01344334052904019,-0.07532533427718964,-0.0821573174043949,-0.0007931607301096387,-0.04565073589518451,0.0442345577095123,-0.01486514943802239,-0.08152441051829963,0.06842872099830168,0.08775801869157851,0.03369661426267601,0.04722565736389241,-0.06539956813096252,-0.029529974954585154,0.07998591340955065,0.0891380871086585,-0.06260631950092672,0.03963758361244067,-0.0101033843445726,-0.06591116427496232,-0.014137234707558576,0.06605073734150443,-0.0046641188045315725,-0.07453212112865024,0.032632871929496675,-0.08698217293427918,-0.07107749740914254,-0.04173254894476402,-0.03230634751838742,-0.015509813606214153,0.06878253428109461,-0.052614570006814985,0.0543276896736236,-0.01823634908531658,0.04642204514192493,-0.008739382953697087,-0.0857458140777024,0.04888720313212593,0.007803300382446706,-0.03211085012854543,0.016007668781858903,0.08766713196489131,-0.05223146552617382,0.012467855646889287,-0.0511385763504888,-0.07237132922500264,-0.022860526234223806,0.08637466599697351,-0.03185775125289499,0.08289286738964828,-0.02460458708892482,-0.043590245027043374,-0.07798192574433835,-0.04462192036663964,0.03346574104028518,0.0486806791340689,0.024870683457366163,0.02973706415302679,0.02052665563125822,-0.05369225702925524,0.08365841219836394,-0.06902256648328171,0.018556307262623507,0.01354368154964347,0.0183615178877037,0.048656050666812056,0.0015207132750758837,-0.019915570290217295,0.05268740186825794,0.0035654337488277422,-0.0009218678976278179,0.01088773498934643,0.006490636020208769,0.07932600363006366,-0.041320134899621094,0.026363449007611853,0.06071665949469545,0.04036501677188907,0.02926099721842583,-0.03469057621963261,-0.06339450330385739,-0.07434617548710494,-0.032305635296649676,0.08639783979459456,0.0844834169607156,-0.06057992608343853,-0.06355398143803945,-0.0711109646853108,-0.023703405855838362,-0.004054534056894545,0.05630728188404951,-0.0055160797725267875,-0.010038262861884023,-0.061644399137850345,0.08748484019657408,0.08779929005722939,-0.06695436662879432,-0.07158859604592484,0.018446902162351474,-0.07125750636030732,-0.029989340559753535,0.02482868374562805,0.03684941917049012,-0.021716598271802317,0.01521994228272259,-0.020921505371980693,0.031648280927531754,0.05458326329900658,0.010546186076000195,0.05485322419666098,-0.06165539223682158,-0.035102447034361536,0.052302872808589224,-0.07955911330630303,0.06591056694485163,0.06968043658463823,-0.07988773771758095,0.07583460734370144,0.045778480225339674,0.00272740064805527,0.0868364637615101,0.04462291327758582,-0.02324441626361114,-0.001381312068806025,0.05833829660654858,-0.01427942110589098,-0.03120145437554405,0.05177138975070845,-0.010622217441270551,0.0033004901606198665,-0.038626722615413465,0.00017176762745441397,0.07734573455805852,-0.03979187780885212,-0.021840080646876984,0.07241094521537976,0.010414818399472562,-0.03528853825523592,-0.028429321952185234,-0.034177355911703816,-0.07297170012510795,0.0012236248301017074,-0.021244094095721457,0.038922099386831104,-0.04726999147554493,-0.03442054908871152,-0.043128166129612684,0.0036475843311442654,0.07904770207029077,-0.0015602377336103807,0.03095625728567511,0.06635731497726338,-0.0294797060176899,0.08424922946792862,-0.024441900413355696,0.04936339715949728,0.030473754573711088,0.027937759097520536,-0.039493831403794255,-0.041249248457129656,0.0583270587578209,-0.03570419824415847,-0.030193836218624866,0.060462146659916206,-0.035710952073214945,-0.0004916099936990351,0.06267559833840375,0.08134494206490231,-0.08323287171484486,0.05403030494638033,0.02072504807195399,0.049450712227541674,0.08537854248061892,-0.08643176826203092,0.014497293717667198,0.04851777172983041,0.08230231069254162,0.007478115128579452,-0.078105444656202,-0.04419207290489856,0.020164879343261867,-0.01861722562930448,-0.00893713635746359,-0.0432590022803049,0.08587824326618529,-0.010241399928901065,0.08279505979024972,0.01776678818797887,-0.022384556284111335,0.04011972964285117,-0.03506836516619445,0.01909604262733531,0.08723337066631334,-0.018040255307985666,0.01843588508651782,0.05808061138137085,0.08456448842049893,-0.04200260796304706,-0.07373314101661849,0.04646108549530178,-0.01363115420245297,-0.022657574537627855,0.04872983787782684,0.03686988796122439,0.057662230152717694,-0.08669798130162527,0.08376861215292462,0.027137122193809662]},{"id":"chunk-7db5cddc-94","content":"async for iteration Here's an example of using async for with iter to record each node the agent executes: agent_iter_async_for.pyfrom pydantic_ai import Agent agent = Agent('openai:gpt-4o') async def main(): nodes = [] # Begin an AgentRun, which is an async-iterable over the nodes of the agent's graph with agent.iter('What is the capital of France?') as agent_run: async for node in agent_run: # Each node represents a step in the agent's execution nodes.append(node) print(nodes) \"\"\" [ ModelRequestNode( request=ModelRequest( parts=[ UserPromptPart( content='What is the capital of France?', timestamp=datetime.datetime(...), part_kind='user-prompt', ) ], kind='request', ) ), HandleResponseNode( model_response=ModelResponse( parts=[TextPart(content='Paris', part_kind='text')], model_name='gpt-4o', timestamp=datetime.datetime(...), kind='response', ) ), End(data=FinalResult(data='Paris', tool_name=None)), ] \"\"\" print(agent_run.result.data) #> Paris The AgentRun is an async iterator that yields each node (BaseNode or End) in the flow.","metadata":{"url":"https://ai.pydantic.dev","title":"PydanticAI","chunkIndex":94,"totalChunks":208},"embedding":[-0.08284831170991476,-0.08051071270461826,0.07966944864660921,-0.016085832934880827,0.08266624507999587,0.047292977913566944,-0.02911635530792275,-0.06535760595147196,0.009518386285016101,0.07185046242646724,0.04142521682270134,-0.08386611295797607,-0.004669588898395916,0.021381102101883147,0.040703558595590085,0.04623441911930694,0.0042308842177437925,-0.03200363315151771,0.03678177487237502,-0.06847833645003523,0.054068294281621535,0.041993094524440014,-0.05450025523853965,-0.03897245739363029,0.056563754057526124,0.07638847757171355,-0.04566798743642214,0.014322801039269457,0.07508906492462948,0.08708160813105219,0.04194858920075383,-0.04017472555621937,-0.05822118778134394,-0.03416646017154701,0.029448967793788035,0.060536687949704,0.08548724122530584,-0.05645499794126435,-0.0019521971007355325,-0.026178229999154486,0.039355494745468976,-0.03554772534405059,0.012496680392655866,-0.06977359749533646,-0.030127210718574087,-0.08404548024941451,-0.02868969866946698,-0.08269415461107371,0.06457200340115418,-0.08370025327769931,-0.009518228245736384,0.0194905335115135,-0.06632170630004959,0.08531371303719107,-0.059076434470568484,-0.06951784627767059,0.030283044156029747,-0.0052473195821880585,0.027910376110722557,-0.0016373133645305202,0.037932108415662746,0.004009320974670389,-0.06474565791319498,-0.07690412312694882,0.016276370725679598,0.06538848137434439,-0.015341665446928526,-0.07718679013434032,0.013755979930202776,0.035567187435716636,0.035850162436468075,-0.016211467614700274,0.007525748620804985,-0.07807651639147414,0.06479757044804206,-0.03059043040011744,-0.041483300400866466,0.04210125836425568,0.00034703032217865785,-0.011301547309568845,-0.028146755823804312,-0.046734401767239295,0.06372042475191957,-0.07831637098251208,0.038257090553741165,0.05393841531985368,0.036329592710345124,-0.0276533507565761,0.015469706524251758,-0.005586628969497925,-0.01297605889042362,0.06443769030875197,-0.07915137691081439,-0.06503563879905112,-0.06840920439540646,-0.0876159785289131,-0.03857481605742463,0.051001946808682114,0.0085293468770838,-0.05826185705491264,0.05544687478368192,-0.011015368142556707,-0.08586642733057648,0.02468625507532228,0.048613697354780716,0.07426608893873823,0.04123776685591962,-0.07116965383333923,0.004627228438585998,-0.04461357688210164,0.029357368551484457,-0.01853552927609081,0.02756228769011184,-0.040942258322752174,0.06470832594021589,-0.02544332370288423,0.015641903945586486,-0.04944322864078082,-0.011145987391191813,0.03011301884294142,-0.01820047941857397,-0.05899193053663891,-0.022777814705877367,0.07233407781521353,-0.036443916205146386,0.06882700465087872,-0.02323188189919751,0.007135557309712601,0.0009707989071059104,-0.04744327172025919,0.037584936772966634,-0.023241741255074194,0.05706902507760871,-0.027053202815589913,-0.05872581457443916,0.06924421191346646,0.008111556489271468,-0.06279890628612517,-0.0243722995682526,-0.03872434503161748,0.08316242941052755,-0.037741553642394794,0.07081278911252831,-0.04084435886712089,0.07841823917053789,0.0030318059129567057,0.04231365732937599,-0.05901190967887654,0.03594168525766035,0.01095658019795577,0.012069497725479663,-0.04956853083542103,0.011961120434349983,0.054209906110290446,0.07655217062556731,-0.032698632390658955,-0.06815663084765364,0.027015275460212256,0.0358830810871911,-0.023123115504153306,-0.08190843828041934,0.0009414894027356222,-0.0004372328612594283,-0.027304154049822383,0.009140341092262371,0.00493947677148335,-0.04746743940027856,-0.03909172210490655,0.06935974659507814,-0.0530975684189311,-0.08672833561842247,0.04627260930539749,-0.08147349387704622,0.010352132745274875,0.023480819861820885,-0.04711752848205769,-0.07819984624904615,0.021167999687784003,0.0002103529874175337,-0.0725190315953868,-0.02020819834011886,-0.06723751530932182,-0.0477992312115272,-0.013540221746194722,-0.062402292152621726,-0.01161312176760171,-0.045488902412127295,-0.007958393143136898,-0.06914916538552122,0.035677533152448586,0.05198283463988474,-0.08519302007729254,-0.00024526586212273945,-0.001966095668556679,0.032518490880678125,-0.010564637907678854,0.031002144655271593,0.0007942011065829338,-0.05247052816053312,0.06244320753174429,-0.08789462391292344,0.0677732046756872,-0.05579622630302382,-0.019004811514488865,0.06117143248625719,0.07702926826293441,-0.06926960648620968,-0.020543777815464757,0.03788564617588559,0.048729908526497015,-0.08115301937858317,0.007389581900063884,-0.05356357171937971,-0.05259331648133139,0.04913918519362881,0.030927267447503768,-0.042143526835131166,0.05004071725989073,0.001350368765101752,0.0859274096445889,-0.03587312389613051,-0.043108104747009074,-0.021662180896943897,-0.013274103765613622,0.016966143946641407,-0.0685968335024735,0.04244035575183893,-0.01609402422324858,0.042577857948543414,-0.05284602042123706,0.014027008819194943,0.04975325419604393,-0.02821414730727576,0.08553400650302384,-0.06573351799663638,-0.06205922715247877,-0.05993581563989694,0.04371246682293846,-0.06438318944611886,0.0472073782697673,0.054360524112385664,-0.03837835245610214,-0.008759207555274129,-0.07835900715517345,-0.022002470694533982,0.08534127977599153,-0.03981274236039343,-0.022842943721995433,-0.08784236957897773,0.007095872894859054,-0.03214538227401628,0.05672888070690365,0.06521617155869355,0.06299812159229701,0.04468041488626659,0.037418086126307176,-0.044637516959708856,0.07849485512158555,0.03260675924563037,-0.047161118098089115,-0.0657012345354218,0.07034267375865734,-0.021360568297655907,0.03355265941247311,0.010847754638501041,-0.05053041417169474,0.04185352283170214,0.06721499205019552,-0.05081008654899547,-0.05712319349589198,0.07566474945948527,-0.05057278460343196,0.03676070578269909,0.00812404323793861,0.07642921380628794,-0.0341379995015815,0.03265094896991529,-0.024790403685090143,0.03188593082964469,0.0022820697415235017,0.03288717093716923,-0.0195346051926532,0.08182245008501642,-0.0508914396136061,0.07453492271621345,-0.07260789549066296,0.029304573519941503,0.07894036900284639,-0.03669090523912764,0.08357120933631798,0.07837332116004915,-0.044389550705307514,-0.006528371029201,-0.02876072541734974,-0.05521117584134439,0.034883131380578705,-0.08768533269160694,0.03831702152675115,-0.028836207955455544,0.052637471920039786,-0.07071620768674522,-0.0034402244554124,0.03923717207139931,-0.020510620847257334,0.014932499124427288,0.07014957878611355,-0.03709575507474132,-0.019134932131591547,0.06442778547910528,-0.007708969601898472,0.00531650739251768,-0.010657095877714183,-0.04217222421115433,-0.0230669495470608,0.05687791629913968,0.05451428037720221,0.08628305587173708,-0.010671597116255583,-0.031049191788021183,-0.07435012128635103,-0.055242672847392225,0.05464181817444408,-0.015837449392129256,-0.0760123562017925,-0.07308591354095012,-0.007478706409251734,-0.047648382071044396,0.04782774567282495,0.08391479606411206,0.06469210494577199,0.05933945501182524,0.013515254705281967,0.053465727612534646,0.0661554529963992,-0.058506721836495294,0.08244199833780812,-0.051482466189061875,-0.02612104514309648,0.04707149940784775,-0.08001284326233965,-0.07230068758840856,-0.03478338312992922,0.042878096069112186,0.054861370723807354,0.05307855018149783,0.06122820197402594,0.06858752134493823,-0.07339348043082834,0.015248104866165891,0.04852474085791932,-0.03819093527741272,-0.06291664281145366,-0.04866861381646662,0.07862023630564087,0.03498341049826679,-0.07466964580441633,0.04855263904512226,0.043314467089071246,-0.00906518709922432,-0.0569953492032242,0.005598130592284752,0.06059983520254114,0.046487691013213914,-0.0613927832849484,0.06679685973351004,-0.029733964298953582,-0.04214758780785326,0.04681343039216313,-0.025659691712481572,-0.08747086375453343,0.08334032470946066,-0.007450593519846087,0.07478277645339071,0.01266527396808279,0.07913190216153647,0.08383006896872905,0.08219398668688778,0.03662606430754721,0.0713035628822967,-0.0037524214329680973,-0.05165141347405638,0.01958764035644466,-0.0672424084670814,0.0696392301687855]},{"id":"chunk-7db5cddc-95","content":"The run ends when an End node is returned. Using .next(...) manually You can also drive the iteration manually by passing the node you want to run next to the AgentRun.next(...) method. This allows you to inspect or modify the node before it executes or skip nodes based on your own logic, and to catch errors in next() more easily: agent_iter_next.pyfrom pydantic_ai import Agent from pydantic_graph import End agent = Agent('openai:gpt-4o') async def main(): with agent.iter('What is the capital of France?') as agent_run: node = agent_run.next_node # (1)! all_nodes = [node] # Drive the iteration manually: while not isinstance(node, End): # (2)! node = await agent_run.next(node) # (3)! all_nodes.append(node) # (4)!","metadata":{"url":"https://ai.pydantic.dev","title":"PydanticAI","chunkIndex":95,"totalChunks":208},"embedding":[0.08319973417127358,0.04574767582951714,0.08250784586712007,-0.05300493033366012,-0.050001268768226276,-0.025150620794443135,-0.08684464223694016,0.007131366759459193,0.033651336534857176,-0.006233336861777951,0.018203666334505632,-0.02626459962810375,-0.0476060615397313,0.03777316598175841,0.055574831689207245,0.024623971139170014,-0.07057010440916343,-0.05290551048393817,-0.0632702575752677,0.007462788921807007,-0.06432600277327459,0.03574432765167046,-0.02104297151759977,-0.07908033810291915,0.021856178654909977,0.048653990484904416,0.03263433377102737,-0.009296559457914681,-0.03049764729108383,-0.07722656043825746,0.03643500856244868,-0.01842702009936736,-0.03169728676745442,0.013641150493663417,-0.07272925568821849,0.009519855281016863,-0.043940805653265365,0.012322194924943469,0.08238873801550585,0.017601491756811506,-0.02408951400866907,-0.03584398189645205,-0.06460745927292724,0.061637694870695564,0.06201418020309012,0.06915015265496519,-0.08513140651518081,0.04336054024875207,0.024128862596224345,-0.01559269201209536,0.04432445368606046,-0.06767867826705205,-0.030124905960988452,-0.012802193263847243,0.08512211026699029,0.08377708859175884,0.05379621015603132,0.07558727740887619,-0.03879699707850624,-0.06753678318590291,-0.04284453620080189,0.07722924343540642,-0.06655550626024158,0.0033124601844085706,-0.033476581084571876,0.03851043878258333,-0.03020486773616494,-0.015625600934152033,-0.06823241430228616,-0.04538161336714009,0.05627215683345646,-0.07801340818374154,0.04432687961422689,0.07412864002376955,-0.05155656891951251,-0.07568214710795304,-0.0015717789752062515,0.08653421001864084,-0.07349534704856708,0.05999647233330793,0.016712966028850355,-0.03448828977460853,-0.04754711233659819,-0.05552168027012865,-0.01946456051136094,-0.08725754385282038,0.005638373342803598,0.01846804913463849,-0.07357942370768614,-0.08183526580344183,0.083615873820121,-0.04351859068774769,0.07977941182431042,-0.062215329274856616,-0.05770264777833097,0.057877180505575436,0.030856257317380877,-0.0706789028775452,-0.042404976933172536,0.0065186472307621444,-0.04372017158495235,-0.062483828934117004,-0.0673340596306082,-0.06090390084242985,0.011558502626452456,-0.08205788741823196,-0.07006911513443474,-0.06510710726621981,-0.029114567273893374,-0.057064937007396135,0.07181918039763678,0.04686262149830228,0.04015911684057981,0.04753858983887404,-0.07902239255276677,0.08171590626626485,-0.005222778188275368,0.02511591537985104,-0.08345953251982345,-0.07717115750921623,0.046970860278757895,-0.01042552039830577,-0.056766232114210835,-0.06845769903837393,0.014751029350732062,0.0014799456095845715,-0.025416187651668774,-0.0186102688653006,-0.019513258624987585,-0.07703388051895162,-0.07229271841253623,0.07849562157393838,0.03627466407139098,-0.056541372298048384,0.04917076684054711,0.03240811534696783,-0.058349315681067555,0.020634705893672257,-0.03125312891142098,0.030315239630405076,0.03160166827059386,-0.01203959947880945,-0.012277815924761437,-0.07387238970662989,0.022679212532036225,-0.02029420717814177,-0.03650706882317403,0.03482874655888589,-0.08808769564533026,0.004766190126086306,-0.06400742676511692,-0.015846416342334843,-0.05539495388398812,-0.08397684449668191,-0.07476066695651395,-0.06547758468346387,0.00302271392341982,-0.018693113229031177,-0.02131324588096279,-0.06924165667235492,-0.010605402264636351,-0.047416433075079666,-0.05095663327514549,-0.014032516805495549,-0.061532981128762786,0.06870479346985973,-0.03190665643533,-0.02501636746697235,-0.0432909632987804,-0.04681475597128442,-0.02401550271933425,-0.053825423701800344,-0.03403814941684377,-0.010326691512066884,0.059277051367567876,0.07472659703388003,0.04441117161222629,-0.034633500434464545,-0.021204021030273038,0.08713968671327785,-0.03521898947658824,0.06523648440918325,-0.04491635063778052,0.026144788053073093,-0.036251539500304936,-0.02243052401063118,-0.0023910414024118955,0.026883256833825465,0.08561087881751457,0.027968299984548223,0.04708389547149817,0.03327256855010613,0.007815735599182909,-0.010231922090956613,-0.038569784452124965,-0.020547968675258054,0.060092902524148804,-0.0519640246133277,0.05400993122745046,0.0038239528166516975,0.0065624593423284265,-0.0601341708523806,0.05099788336912021,-0.009754849456504924,0.02009496977731656,0.03355341161953108,0.054359957441871325,-0.0542025035674041,0.02744730825105849,-0.03713129222231094,-0.008228531834146931,0.011147881416354729,0.025973156544191106,0.007001329718992729,-0.03957954264593312,0.009972520155554063,-0.07283723736585836,-0.06886341059374851,0.05129262851404243,0.016909331315858186,-0.04302508509203316,-0.019219889514250493,0.03971009469743852,-0.06320744269021264,-0.025786822839083068,0.08065862341008491,0.08606448982092436,0.04497946100154839,-0.004433319915756095,0.06612345355002325,-0.013744621845893836,-0.03699229192743541,-0.02236295136944773,0.08466997990862447,-0.000010723489787510704,-0.07520835849545787,-0.057860805024059846,0.05532358505115676,0.01603839641584473,-0.074281321877373,-0.04056208029235932,0.029216315724377325,-0.07811251663202678,0.08123547499065031,0.06030289175976692,-0.06968274182598998,-0.04066143931268454,0.07435291300723594,0.07889375589128518,-0.0849458464300281,0.06426383484983507,-0.012251428164865472,-0.03861902441722974,0.017790311752246747,0.005011981787988741,0.03775306571991375,0.052611450419283584,-0.004174429250209867,-0.06850362110926565,-0.009662921111231024,0.03102125836867842,-0.08077710248907063,0.08501999069477569,-0.08519088199479039,-0.0433033060148014,-0.013572888673088725,0.04564619842957369,-0.07223065455590173,-0.028117413050342425,0.07603426610286193,0.016178950003582777,0.08625953927300008,-0.05820460028401709,0.06823286254125592,-0.0471657243517917,-0.0810034059081251,0.06142927342674037,-0.02471384797116176,-0.007921316459414867,0.05322790657459772,0.06480319364181032,0.03050506517243662,-0.067119619298208,0.0044553653386077505,-0.008536063020367394,-0.02693061685854642,0.053098708162890494,-0.006611173675113913,-0.0029139787204667806,-0.0403577428473987,0.05513274498700165,-0.0028048816438244876,-0.018813846383678758,-0.04882351677770157,-0.012663945258568732,-0.05627507437437855,-0.08226913511686328,0.04892139964805957,-0.0013826228295349822,0.05268634422132388,0.04353827961736131,-0.0707575009574656,0.0693771682007721,0.05812612664942948,-0.08568674073592174,-0.05077147595783848,-0.011566167563440553,-0.04507269359667934,0.04944705349636402,-0.02112793138191034,-0.01297859973788676,0.053150169563299474,-0.04010552612559169,0.06055821959391858,-0.07002007490625911,-0.027470053565413086,-0.029465892580765065,-0.02468711758618729,0.07341372279158656,0.07945008315278751,-0.00728970432756999,0.05528919202792441,0.016376504659800253,0.05557110968649711,0.01900203395892689,-0.07875386489583396,0.07517375975600309,0.04356730068168393,-0.025324084245199167,-0.053467605006908066,-0.08832374244822845,-0.07947723988133455,0.003234866813210016,0.03469896373311582,-0.017253825677079632,-0.07373061487195827,0.07263832317868354,-0.033982372630593796,0.008962444329431574,-0.001008689918272717,0.07378665028941558,0.04833263611409818,-0.03654831796652368,0.05400467849278889,0.005789960133058241,-0.006479193256112698,0.023898159868198085,0.030615020505646164,-0.0792828603275723,0.016602768473575176,-0.05689519396999255,-0.029668297713798027,0.06423444298997905,-0.04548245884201868,0.030939839093052358,-0.047305183175195074,-0.059476756555811465,0.04348407339525994,0.011914659290744055,0.056329191325239246,0.07307887413527243,-0.04441396693357534,-0.005931477734724528,-0.07781829995669293,-0.04269357652277632,-0.026907351154354043,0.06578627105731663,-0.07770513143655586,-0.021739889678110864,0.08706199360222967,-0.07749003699518706,0.04752814275556233,0.08087232631362759,-0.06018888881609472,0.02212667306270327,0.04303748003786616,-0.08833826548112154,-0.014501757514964356,-0.08345770038925486,0.02901599716605844,-0.007865422397712183,-0.039430194811025304,-0.038835647409713674,-0.014718376383010039]},{"id":"chunk-7db5cddc-96","content":"print(all_nodes) \"\"\" [ UserPromptNode( user_prompt='What is the capital of France?', system_prompts=(), system_prompt_functions=[], system_prompt_dynamic_functions={}, ), ModelRequestNode( request=ModelRequest( parts=[ UserPromptPart( content='What is the capital of France?', timestamp=datetime.datetime(...), part_kind='user-prompt', ) ], kind='request', ) ), HandleResponseNode( model_response=ModelResponse( parts=[TextPart(content='Paris', part_kind='text')], model_name='gpt-4o', timestamp=datetime.datetime(...), kind='response', ) ), End(data=FinalResult(data='Paris', tool_name=None)), ] \"\"\" We start by grabbing the first node that will be run in the agent's graph. The agent run is finished once an End node has been produced; instances of End cannot be passed to next. When you call await agent_run.next(node), it executes that node in the agent's graph, updates the run's history, and returns the next node to run. You could also inspect or mutate the new node here as needed.","metadata":{"url":"https://ai.pydantic.dev","title":"PydanticAI","chunkIndex":96,"totalChunks":208},"embedding":[-0.05997430217708251,0.04588391517704443,0.056093904802953946,0.017406380480578874,0.07755793214071348,-0.07267984075943279,-0.023295000257454068,0.04121832259263238,-0.03900891132431846,0.047844327971695556,0.021387769223282223,-0.08305377587129041,-0.005720540000628432,0.03713759559402091,0.04151749332900067,0.04150881698582167,-0.0640926166307771,0.011902096331298347,-0.07375188231565354,-0.08125565207761304,0.07530137693772498,0.0692688650365132,0.06810009559109172,-0.07759056697405707,0.05927409742661757,0.07029754379553241,-0.0809837675333464,-0.01315745730018636,-0.018244828535530878,-0.0025903523911015,-0.0317553419163122,-0.005647429349284796,0.05275273105319833,0.025392411849887855,0.08920217152634645,0.028142982321453822,-0.0776572354165259,0.008666580484236734,-0.05109454113570993,-0.07426243656139639,-0.024140576324970842,-0.00624706088792537,-0.0445905417532611,0.018940409181900347,0.0911632445047278,-0.020400966521421916,0.07042877874976193,0.022621873263004546,0.019673435649278138,0.04746907398311003,0.08368964018953634,0.04131989828941674,-0.03684435991646733,-0.08030016157642618,-0.034806476125510834,-0.008675139530900641,0.07424108464857977,0.01529684300451387,-0.03049184556768229,0.04492676388948103,0.03944748574227331,-0.0893558962151034,0.03436906092765368,0.05564190037597274,0.06036413678453252,-0.033658224762365456,-0.04813935383231597,0.06444169498011329,-0.07746235720270418,0.07096652355406473,-0.0785430585527208,-0.029747205205015056,0.01242542279428552,0.027651711452678807,0.06026655258558808,0.02457527661632045,-0.07620649593324692,0.03306201936645492,0.0691561645431019,0.017832879315005396,-0.08545817251052681,-0.019148454116130302,-0.0863402684923696,-0.07386000058253307,0.04401973408345007,-0.06569828648090235,0.061958459074317386,-0.025939188660934618,-0.014234246050549867,-0.055076579443522816,-0.037495614681959034,0.018622916464510766,0.07409102982418879,-0.040526308322578114,-0.0871586793129527,-0.02096639777206343,-0.03816303586354553,-0.010159728061487587,-0.08714945718554115,0.08547983306448863,0.032060802320431306,0.05559221156096789,0.057089892571604274,-0.08493153088877617,0.008734041538504734,0.01148691671358954,-0.027782446890119893,0.035188721355537196,0.045665421601480606,-0.023519945414844902,-0.08698148240947441,-0.007159666728845558,0.08955367546108398,0.07574070099710468,-0.0070104285969020555,-0.020324215865317487,-0.04242987653160562,-0.060538266407662834,-0.0298252555476728,0.03582793537192657,-0.028703436280997575,0.021640364962521398,-0.008321191905334906,-0.05029424736513401,-0.0686096935509444,0.08203292113204247,0.008006407980373003,0.09209292212388959,-0.08211271427738225,0.03711111461871157,-0.014472668898114951,-0.0030094535021045533,-0.01788527719703973,-0.062461536605699676,-0.0780150162024273,0.015628335508714602,0.06218896525575091,0.02755587431191461,0.006666205397898512,0.03182912179857093,-0.04013593247626723,0.08385297880133083,0.05631472294806468,0.013792045493762261,0.04266203807278009,-0.03479431607896657,-0.06417305157346788,0.028926447427196595,0.03727478205163562,-0.05250849367889275,-0.08371810936281536,0.031781889450103254,0.028323517875508325,-0.07782736842201686,-0.0383119982628767,0.08025012620737386,0.002173378716425255,0.07440100776028492,-0.05609645880351335,0.01938031107355037,0.011512739974265652,-0.07628995677591714,0.06346173338358557,0.01829353308601381,0.003365256249470763,-0.007368085697763758,0.05029248847612925,0.016530615218260998,-0.027174804956244542,-0.06483054809419984,0.03847554183124976,0.053808304939533674,-0.026354743801189618,-0.05644590155239689,-0.08688495007558701,0.0809684404596181,0.07010917580901001,-0.04670982425430652,-0.04551726725066327,0.023856641065227904,-0.010602746863164475,0.0631606499948537,-0.013375540918531962,0.008904946213704228,-0.03976065885318383,0.027375554536046166,0.03481040312811806,-0.04112821927894271,-0.08751436296630355,-0.080173764696905,-0.0257189107821574,0.026773390903422595,-0.04990716977671987,0.08835622110792345,0.04293296918356837,0.03566671125581398,0.005630719613489177,-0.005547603604724387,-0.07624819049981903,-0.03766605748055006,0.023117535479945658,0.05673029146057072,-0.04695016499482571,-0.09040529091162194,0.0001920570928152367,-0.013075340515273714,-0.03136952689389503,-0.03789364910239653,0.012427373914503456,-0.05228017636283517,0.0701840834800113,0.04256814926817535,0.03860260270905331,0.08414521945181028,-0.004120912517868206,-0.005709952370477393,0.0349805319206641,0.03176633152367992,0.03154615251005603,0.034894578435952346,0.05547298763928749,-0.011809500077526455,0.06576008761364052,0.05352282674511173,0.04519596359165404,0.061774201860983466,0.02676667301047806,0.08800705943937993,-0.03386238077919784,0.014501068389013697,0.040052910369248115,-0.0810532684914539,0.0005135778917372917,-0.08895996707965102,-0.011417533895524305,-0.08261561342798261,-0.05945956558945735,0.0667831317253859,-0.024185730577252203,0.03714393468768898,-0.02494582310964788,0.01607743545327945,-0.006529621185215611,0.011404716398880946,-0.03765494021334546,0.012516517575105014,0.01523021083371317,0.02332208114752472,-0.06622853164681065,-0.04871075431597274,0.05082859020177023,0.04155921302095503,-0.008966628374600263,0.07296956869368325,0.06081448848689469,0.03618052259616554,-0.05590632519294112,-0.03247334403753748,0.055313779602062865,-0.08748227295517783,-0.07430629574164524,-0.05699010841000132,-0.025142553059769188,0.03594493513708993,-0.07183364800754985,0.0384185565835761,0.07752383849473587,-0.06936898846051207,0.050501103219242255,0.01872112626444068,-0.06728373487269207,0.07861433863979411,-0.01909481566242066,0.0551624952376482,0.07942958054103692,0.07627086854707439,-0.07115716756785759,-0.06946277091095841,-0.02075386514766128,0.0780341664714785,0.017683632454272936,0.06790677751284586,0.07527344237127344,0.026572788556890048,-0.06576331040039946,-0.005858681364501493,-0.0033379022423083585,0.04699512934158289,-0.0019243922201780822,-0.06844403028378436,-0.05880117044608422,-0.0030902347312093035,0.006635791001259559,0.007253576549255315,-0.06178384492281673,0.06249412370797063,-0.06814129849089248,0.002011735931980177,0.03171149522495632,0.005624611705319853,0.057101351155532706,-0.05518897109525226,0.023551518138590355,-0.008144770375503832,0.022309030073096717,0.05530348795344822,-0.07047781569392557,0.07696110820584974,0.046593084254883586,-0.08388231422825723,-0.004168429507164694,0.03378786615899851,0.010275479597767735,-0.07083410202980366,0.06269344970156984,-0.025446997118361306,0.00805871879687555,-0.024870397232140014,-0.024002556696056804,0.060308426173084566,0.05632159188937492,-0.029885434609837194,-0.05303226193282494,-0.03493476544909821,0.006299410540016558,-0.0917269068619816,-0.035268415411313585,-0.005625996178080633,0.06520160252038393,-0.0641332800682338,-0.05668736726782123,0.07267306452460615,-0.06002517228838833,-0.012139396341298637,-0.08972369604241348,0.0194769386959354,0.04477560647912985,-0.023285044479828945,-0.00439999175277873,0.01491785568673958,0.011910264652995883,-0.0787336782557487,-0.007533194075205006,-0.04095058577279784,0.0084314612273019,0.0070001390746124974,0.07585882170281291,0.04743854564500781,-0.0353572061947227,0.009786198880980094,0.08183687853627289,-0.0335474384624511,0.03237881858268901,-0.0137867830171031,0.011089765359879019,0.004770322531079927,-0.07067701032923593,-0.027681458117694718,0.03808933559048241,-0.04600145210826484,0.0512842025419526,-0.03138170510420944,-0.07890658434347875,0.052959507229925165,0.004919012050880718,0.021677943430480132,0.07682744355004503,-0.0440733760737751,-0.08471879861883348,-0.04314004467539735,0.004319049571486817,-0.06896718443414981,-0.002463136693645428,0.03280731033617776,0.027571799133117393,0.09183633233344456,-0.034027093521372925,-0.012951227677965563,-0.08226123990111119,-0.0881077041807164,0.05839653464804369,0.04983292809424759,0.035005794458425846,0.07300508186646207]},{"id":"chunk-7db5cddc-97","content":"Accessing usage and the final result You can retrieve usage statistics (tokens, requests, etc.) at any time from the AgentRun object via agent_run.usage(). This method returns a Usage object containing the usage data. Once the run finishes, agent_run.final_result becomes a AgentRunResult object containing the final output (and related metadata). Additional Configuration Usage Limits PydanticAI offers a UsageLimits structure to help you limit your usage (tokens and/or requests) on model runs. You can apply these settings by passing the usage_limits argument to the run{_sync,_stream} functions. Consider the following example, where we limit the number of response tokens: from pydantic_ai import Agent from pydantic_ai.exceptions import UsageLimitExceeded from pydantic_ai.usage import UsageLimits agent = Agent('anthropic:claude-3-5-sonnet-latest') result_sync = agent.run_sync( 'What is the capital of Italy?","metadata":{"url":"https://ai.pydantic.dev","title":"PydanticAI","chunkIndex":97,"totalChunks":208},"embedding":[0.08477526817349082,0.033714207994325215,0.08222464544953739,0.0006076609473105273,0.04925979167750624,0.040715619554083676,0.03426206867960538,-0.01802252762784029,0.08495950870747704,0.042473327301306284,-0.08382776678282294,0.06923292763958343,-0.021606281887435186,-0.01613526837214336,0.049035279261888706,0.029197337176193026,0.01446475018862579,-0.07897994422162997,0.057482811935593715,0.06072399675032049,-0.028416726105259502,-0.005411791577519406,0.047698229884814564,-0.01099759923709636,-0.014520808221536313,-0.052113274973295674,-0.02783219776053991,0.02280756764405234,0.054504452146131935,0.03457016842727156,0.030922274160975156,0.04392705361778511,0.07716131776581779,-0.028758106713737595,0.06130037126022479,0.0027033797066786025,-0.034277850521904324,0.016459726654679034,-0.0051573812869174325,-0.07227732448293438,-0.0683175264801087,-0.011132579252148726,-0.07122477852965242,0.04562378917915697,-0.06695295750999658,0.026228956246157453,0.03095831203505293,-0.0271743335061034,-0.03530371871483484,0.013099968580853414,0.005882647865847315,-0.003080148737588995,0.08236647553979663,0.04186222609809327,0.042756904718809156,-0.0615259861500783,-0.0843015851582674,0.07857617911792217,0.0624363449548267,0.07276404851421973,0.08497923924802137,0.014906136492173419,-0.03794537375401956,0.057341102518203506,0.03765590654651983,0.014538667718456083,-0.025946689004979654,-0.07926052377045584,0.03761918310667223,0.06606868115428409,-0.03022450770229117,0.022411761134895725,-0.04419839474948304,-0.07597873091501764,0.08470014137019051,0.03910187832756378,0.06357841805717543,0.03207083477417182,-0.07828045445164457,-0.05688983539846053,0.03619277197728773,0.042114622608635036,-0.08474237046685411,0.08122779919594977,-0.07773202673496245,-0.028312236782845786,-0.04096700687878548,-0.00602240387551452,0.0598797789115544,-0.00010616245509344686,-0.02023921394359921,-0.06344752061827429,0.05465711941706126,0.03992166810260156,0.05928061505183046,0.03208619564409842,-0.02127295511679326,0.0544816143168333,-0.055437240973344654,-0.053459446784647306,-0.08490937565306242,-0.06850684519386804,0.07888011249619117,-0.019832073131618645,0.0053128411898687765,-0.04626906044119917,0.07413929371979253,-0.0769243817960028,0.08119779154202063,-0.07015930387776875,-0.033791072610056684,0.04193705109403524,-0.0840162007823558,0.01819185716928322,-0.03828532603621193,-0.02923487272300044,-0.049968955601727094,-0.03485374603090484,0.0667995632713273,0.016330951400079022,-0.06777936960805077,-0.04383797241723169,0.06486089529460266,-0.041771970996485594,-0.06791023067414259,0.029305272403851786,-0.01761066966039992,0.05049463841689431,0.04981584378723578,-0.08078899617225647,0.011662667474316095,0.04292680602845053,-0.05336996695845926,-0.046348779108113344,-0.06405058287655425,0.07081396362714201,-0.01860978973437694,-0.05528406243835196,0.01510497442054902,0.08384147949674249,-0.05053581332672056,-0.08030046089549205,-0.03346081108252189,-0.08084129514137783,-0.03280924183127581,0.04687601559202786,-0.06871516747656502,-0.069387630515987,-0.04757345502835424,0.07593036444369522,0.044892592042352485,-0.009689190119539627,-0.06749272828677838,-0.08131737403539036,0.03258802072180869,0.013447591335660024,-0.04667459248163198,-0.0346210972186236,-0.05430377717527547,0.04439352053113373,0.04646776851710107,-0.00855812476646093,-0.028209858647856897,-0.033811664279021575,0.018454784735417635,-0.0821361326196607,-0.010070578247482673,0.05391459706674908,-0.009523155338310258,-0.031130911867662515,0.01933395453079216,0.007352604254191838,-0.017042486030623853,0.009189023752492859,-0.08383967357151248,0.014240995405551685,-0.07496504539795816,0.056670667833342896,0.07700689983234867,0.04439932677803863,-0.08283535216623494,0.0610795689443181,0.034157450604187116,-0.021355710574444332,0.00007637382621680695,-0.01293983966897552,-0.056691874460070756,0.02202799678702325,0.0626027100956239,0.07881068648000084,-0.037090035075638995,-0.06672049164738825,-0.0668947125499476,0.03953197064499869,0.03559121516079359,0.08134346553561646,-0.06776726554874873,-0.010724739443969192,0.011475906806677464,0.006140509319108843,-0.027889953275462766,0.0688073087968033,-0.08040660915245358,0.07982127635870023,0.08429367525518927,0.006310720987928468,-0.03583316963311052,0.049317743273748056,-0.02245158684162566,-0.07838822537861333,0.04645052864861949,0.0658345844265748,0.038076977292787056,0.02166618439789334,0.019364855293023998,-0.04626619217989765,0.07062962137126214,0.07915362453290556,0.01203851095156338,0.06972962441388394,-0.013212583844494943,-0.03189507329189974,0.07033466282254994,0.036224754954506985,0.03408681012822162,0.04224547272226007,-0.06284889473297842,0.053292200475019195,-0.03386414088862566,-0.0741467010963081,0.04946792726110616,0.08057840758828015,0.021855729457528745,0.0216379746583507,0.00698876794994467,-0.0026115960260791535,-0.045983101618752256,0.012583056531501099,0.0373912410197034,0.018569503841995984,0.08106709037155004,-0.020150698937211293,0.08120087386270575,0.020657625339460108,-0.03523594612733969,-0.020471022773506837,0.05150354414842466,0.08375236132066113,0.07271680696263726,0.012999077699660317,0.038229540093497834,-0.0838087987587867,-0.02490130637763181,-0.028012124155414448,0.07377850509055905,-0.00041985359547227764,0.07151771565710202,0.008399047884513535,-0.024126457667561253,0.06179459734272576,-0.01841732035327313,-0.03346370882679615,-0.04160108686736435,0.0310003376319388,-0.046400312299633185,0.027517658873062036,-0.07644413256125669,0.055086352673409396,-0.00608349565779642,0.051512259254628386,0.05501858475268406,-0.03550468099754601,0.023470123617984468,-0.0844610137911163,-0.05071339865950629,-0.07990607797478064,0.005590583808368429,0.03989427170981191,0.06697155096711621,-0.03786891502143805,0.02171001084000079,-0.007092994710121333,0.04139197437792372,-0.0353915194285054,0.039747556166971294,0.06883596186134314,0.07988730657085506,0.057474037769482705,-0.0763846335098885,0.02890048617610827,-0.0004955067507049804,0.06300720088727703,0.020907393766469946,0.01459591286454347,0.018084921642058535,0.06760056990218223,0.00678956375190548,0.07371956771486642,0.08133786009222523,0.0306691255227179,-0.08278990837703737,-0.08020135425032089,0.052432824144903994,-0.0063293835944428865,0.06486686827992645,0.018849057955215163,-0.07563988159496664,0.05970586007401368,-0.012610771384755567,0.06445611473169283,-0.015486981235494803,-0.060342613698905805,-0.03156719521026678,0.08200207288743934,0.038487500925601256,0.04936584567051232,0.007915784525402739,-0.03449976649555155,-0.012872072880315971,0.04595827495165209,0.004379297234484819,-0.04186992890290775,-0.023597549380352602,0.0068528622181687265,-0.027449062293714358,-0.021834961678343916,0.03863873613195692,0.0821837780710643,-0.020639258280030878,-0.07544100894027872,0.01563633474813828,-0.05316309711032798,0.010956998171599178,0.03815833783426472,-0.06797851511452843,0.024520542033558926,-0.06200502022091572,0.014031906977448782,0.0678314090433667,-0.01601129840494527,0.06845414469523785,0.061616964255068976,0.07855929781152132,-0.005639872403080945,0.08165508249003456,-0.08337266962104348,0.07261562747407652,-0.07815747589911175,-0.010659335580377877,0.0733157648683629,0.07887468705507363,-0.022697652914703062,0.08009802587326176,0.07869554161692474,-0.07910088151064099,0.038729831999397946,-0.04081077062285042,-0.04333725264235582,0.04851079768723023,-0.03506955156271156,-0.0745000392789631,-0.08495990855402549,-0.002977372220309173,-0.0569542574551168,0.008789176203074891,-0.058844058057871726,0.0791625861591656,-0.029194865890771377,-0.01709512871320004,-0.034143051823754766,0.020125669557601894,0.023941690914503853,0.07115911486429051,0.06572059397402219,0.06652329459236087,0.02900962342887621,0.0488662591014932,-0.0013340292018783476,0.01764450079060053,-0.02466071998877988,0.0031266333406545417,0.014078535109225895,0.011316802699006104,-0.003875837529257189]},{"id":"chunk-7db5cddc-98","content":"Answer with just the city.', usage_limits=UsageLimits(response_tokens_limit=10), ) print(result_sync.data) #> Rome print(result_sync.usage()) \"\"\" Usage(requests=1, request_tokens=62, response_tokens=1, total_tokens=63, details=None) \"\"\" try: result_sync = agent.run_sync( 'What is the capital of Italy? Answer with a paragraph.', usage_limits=UsageLimits(response_tokens_limit=10), ) except UsageLimitExceeded as e: print(e) #> Exceeded the response_tokens_limit of 10 (response_tokens=32) Restricting the number of requests can be useful in preventing infinite loops or excessive tool calling: from typing_extensions import TypedDict from pydantic_ai import Agent, ModelRetry from pydantic_ai.exceptions import UsageLimitExceeded from pydantic_ai.usage import UsageLimits class NeverResultType(TypedDict): \"\"\" Never ever coerce data to this type.","metadata":{"url":"https://ai.pydantic.dev","title":"PydanticAI","chunkIndex":98,"totalChunks":208},"embedding":[0.01718758119767514,0.01927754808188955,0.03615326014677128,0.057983609228560225,0.027967889900159536,-0.04522283303608415,-0.045020990681375085,-0.0859670951683214,-0.06008397068327801,0.031327525040527604,0.06923060234748062,-0.0307349875063095,0.06495031822348121,-0.009957180056550826,-0.020083276681531537,-0.028910661991571267,-0.04119811729123887,-0.07834389456385919,-0.07327847994122402,-0.06119179062336799,0.07168081770217237,0.03288984761226498,-0.06840249481975402,0.06748996583343407,-0.0023980312280028923,0.033522221071095246,-0.06165733002434754,-0.042365545327559755,0.023942173218531572,-0.053941210754727444,-0.053626273485677056,-0.04575579774319513,0.023570306907886012,-0.06104896805891993,-0.015435734953245751,0.00458788255023981,-0.01883689526690722,0.08261909199734849,-0.08295944950160784,-0.08338708721649433,-0.00524838737885502,0.013107756519978076,0.062121437675024566,-0.05069764139943473,0.048734959894831086,0.0828252458545245,-0.07029597330442344,-0.03817428666745034,0.05222303345138889,-0.003499549763095972,0.0719670330716082,0.04215114258578673,-0.057240104991657166,-0.0024366319465838407,0.054716915504883216,0.03431833930041269,0.018599795629690285,-0.013876034945465665,-0.010760484690751138,-0.0056136348625395955,0.06505041547005408,-0.02493391335088638,-0.05179783319257831,-0.01738973506841841,0.058979531066101036,0.030307136556724203,0.040766004062012105,0.0564372575495815,0.005881923561201631,-0.043076776591764614,0.001492000193591081,0.007200651403176412,-0.06762276239098629,-0.05577980240604352,0.04038541180859348,-0.06196818942651667,0.04896091597185118,-0.06437209388168517,-0.07499355689277902,0.03660803956241454,-0.06780203705050859,-0.025796672078572905,-0.07980796998126419,0.05236009749572141,0.06827505943221027,0.07290721648864383,-0.08414618478743238,0.028335199830567252,-0.023128815285095364,0.04355975161755114,0.019842086320341925,0.03335651159131507,0.07527578898372911,0.030973095495868082,-0.03613390548159315,-0.07989188118279157,-0.07127323223787115,0.06234521164456575,0.016011850931383537,-0.025315648811230485,0.009260596602135926,-0.07156924543276925,0.07935925807717913,0.011209672127303607,-0.04987143892695845,0.00022859628967889477,-0.04394769596780041,-0.0026085858458658965,0.01436889991669692,0.05062340463037503,0.07321068536390422,-0.032063083334940304,-0.006984301843545324,0.06829910305138193,0.07045775246404208,0.06517404313579242,0.06253701108691731,0.011833791937426017,-0.026456988320461058,0.0020222907278439925,-0.07250016480395081,0.0594272059867007,0.0021117571027200518,-0.05837304753200557,-0.024654534036272085,0.049786970267064815,-0.02665744339286199,0.0439573478126805,-0.021430438260933504,-0.018727515073932725,-0.026548799857355306,0.08472633130671452,-0.014029338295499658,0.08606577317573255,-0.04435779132677361,-0.08694357745694543,0.0879123267435859,0.05592399528573973,-0.010729963784311083,0.08523073434970665,0.07732154560856791,0.044057337810081094,-0.056630361031578064,-0.038552557475487775,0.041456256533712016,0.0026011293151266567,0.08033972039737691,0.0183013537926973,-0.04363086562911475,-0.009865681605128235,-0.047801000282336255,-0.007756628441099252,-0.05425359509715253,-0.08263609966807811,0.02043145792439443,-0.03072154302841492,-0.04181961599658443,0.023554016434041807,-0.02149217146458869,-0.04217545403393703,0.05576560886405749,-0.0365760893130667,-0.0817437155458325,-0.023932917540830635,0.020762080158115523,-0.03672779148917157,0.03536321454209341,0.06175066953361554,-0.07122384189469749,-0.03912495776494496,0.08601285546911243,0.07427068910182258,0.07545762685655781,0.08091498452015013,0.051150080369911914,-0.056797457488354644,0.08457559217881958,0.043013081187468424,-0.08624171425923444,-0.05503104292594012,0.08097721061372212,0.06925041422304291,-0.02085502226811778,0.01930848065700848,0.04013663006874062,-0.06313823596624493,0.002972236268949829,-0.010074235243961595,-0.05605440836567257,0.04245265374536453,-0.001975691371241366,0.012241166549683845,0.07423279801448217,-0.06210475538411327,-0.061261622374416125,-0.023680773501576113,0.036823883825045194,-0.018367244354118597,0.049761770529637726,0.05191640511978737,0.07664243639875294,0.006447447963637222,0.08660157258766929,0.039004640818326705,0.08103594288305836,-0.03461456600290219,0.047096755234001766,0.04199025366979189,-0.013357858753109854,0.0036029670194170456,0.0200092688501049,0.035404594288239624,-0.03736685985881004,0.06280273982538474,-0.08407405327637513,-0.025790426963569875,0.004924664171608167,0.010817830997183472,-0.03470909691454901,-0.04358582222112739,-0.07052379525397617,-0.07709490881824325,0.07067182795460751,-0.05471647709729928,0.04537626726818968,0.06901864795658813,-0.05950447744708413,0.08367845091378917,-0.0036466016991177136,0.08661716380792159,0.00918110363070189,0.055589784620747845,0.07338959757117329,0.057730738235894793,0.01403423549264731,-0.010552399738890782,-0.05768894808414546,0.01266392379832908,-0.08206503959348514,-0.04116942525705461,-0.05654327508948393,0.06661066884725125,-0.023379971110662243,0.03147297862356374,-0.003910485599442228,0.024923388364878812,0.051967274589099104,-0.041270896030548544,-0.04463355698016115,0.008235494872917592,0.005047491346169363,0.029918285295703017,0.01077057184022929,0.008955230829024045,-0.048851782577305505,0.028756174976323694,0.07128260575429725,0.007397606710702639,0.00042378731719811534,-0.0736068977378316,-0.05946069458116107,-0.06234165220362898,0.06007177411043035,-0.05056766545773023,0.05712768954201426,0.08599328973097689,0.07494051432126422,0.08192335325007195,-0.027920563870378407,0.053464629157442885,0.05636256296221413,-0.06403145702059972,-0.0509271838573812,-0.040538897723777785,-0.04770847448060709,-0.021853387373176953,0.08293029985047044,0.058188494055647064,-0.041984540491887025,-0.05382099937908695,0.07874887064922566,0.03188430888313643,0.06813805093397178,-0.05095536827372795,0.025061094010776292,-0.004693539769991205,-0.03181932507185141,0.07549201028355756,0.06805026765186387,0.08702493616763572,0.05951896725007795,0.07051115559074153,0.023408725951863694,0.0825335419324538,-0.03499335425803064,-0.05397054965521393,-0.07307451070861867,-0.016372586213902487,-0.00035317126709382394,0.03204959594108934,0.07331560708215647,-0.025601976312986188,-0.002706644496188992,-0.06260334288853574,0.055702867659811126,0.02805968866500006,-0.023868786066117146,-0.07658308236091403,-0.051440530387738354,0.012854959636583401,-0.07321647539700539,-0.005037443005799022,0.028040690230003842,0.02099448034746345,-0.017847316422995762,-0.06256877788285893,0.07714864831726301,0.07689995232932526,-0.0014643486412373675,-0.07070735265866508,-0.02230825965832234,0.053583676908261456,0.011305305616097454,0.054451832718552785,-0.05384028706268109,-0.010954889570304329,0.040112606104716064,-0.043718671640286436,-0.06272516943278593,-0.05760840930030539,0.015625653591309498,-0.0002267917648430024,-0.05944229584350592,0.024974686141138326,-0.057731848446114876,0.024025205592805653,-0.07396979092534564,0.0029672069164051623,-0.0758799609057968,-0.02744812226701072,-0.07930209939549993,-0.0682378437771976,-0.015609347976505794,0.0355259259249777,-0.03661604223730677,-0.032216352836152005,-0.08381672728457322,0.013666925991427959,-0.004101131307793713,-0.07915752277324771,0.05788724461030869,0.05561627581836098,-0.03553954984538725,0.063561479870656,-0.021918529368653298,0.028048291446160386,0.028449572107316842,-0.0298149866089673,0.07705552919373994,-0.07847906750762305,0.03151817414334706,0.08072285068710454,-0.03766574236577562,0.08088071609027257,-0.06113871950686711,0.05367562902018445,0.003262402585567944,-0.041626460556276564,0.06263363313598941,0.05368183714180044,0.012540968293167172,-0.010089609672171544,0.03929183398013271,0.0823663701403197,-0.06585282372963681,-0.027956884253023607,-0.034514040127390275,0.02292345144826039,0.06090645367379653,-0.0034739821647622932,0.0076531256658167604,-0.06389347800563379,0.05561623624023402,-0.05998969847597723]},{"id":"chunk-7db5cddc-99","content":"\"\"\" never_use_this: str agent = Agent( 'anthropic:claude-3-5-sonnet-latest', retries=3, result_type=NeverResultType, system_prompt='Any time you get a response, call the `infinite_retry_tool` to produce another response.', ) @agent.tool_plain(retries=5) # (1)! def infinite_retry_tool() -> int: raise ModelRetry('Please try again.') try: result_sync = agent.run_sync( 'Begin infinite retry loop!', usage_limits=UsageLimits(request_limit=3) # (2)! ) except UsageLimitExceeded as e: print(e) #> The next request would exceed the request_limit of 3 This tool has the ability to retry 5 times before erroring, simulating a tool that might get stuck in a loop. This run will error after 3 requests, preventing the infinite tool calling. Note This is especially relevant if you've registered many tools. The request_limit can be used to prevent the model from calling them in a loop too many times.","metadata":{"url":"https://ai.pydantic.dev","title":"PydanticAI","chunkIndex":99,"totalChunks":208},"embedding":[-0.08299652195199547,-0.08335791656748824,0.05433031907979434,-0.048659788937515734,0.08450374725804229,-0.03793299936999146,0.003652754380889555,-0.0002837874001408641,0.08715531406806974,0.040627965166925205,-0.03828566192181901,0.04876370982088465,0.07260514608142449,0.06325008651187175,-0.043773923099205636,0.07924198088836241,0.019237001251949784,-0.04906160408117308,0.03998756227923333,-0.026108239304128894,0.07299605187428082,0.0654004598432089,-0.013696599755156979,-0.04158432899670718,-0.056331948376791424,0.06027358091607241,0.057601588661018235,0.06693978985492655,-0.07411095135480888,-0.050827592317025466,-0.08654300029590853,0.013360746077784475,0.036223468381659005,0.05136028637453415,0.007090550507333337,-0.011706748549633165,0.05919436800196136,0.07809557677508268,0.021539050782728726,0.05226773950422228,-0.06534206875879771,-0.032399331998878435,-0.045759347172461086,-0.04610833375106635,-0.027237745128961086,-0.07863221204412431,-0.054786027876726984,0.06520648954726549,0.06155694096613286,0.03510985193520128,0.010752824624249112,0.0021091892734467132,-0.06395869944656749,0.06051099301575461,0.07806551738778451,0.017757242370235897,-0.0303025102495923,0.013615014934044456,-0.08751114286170406,0.048837799658883047,0.06776388020082416,-0.023351674050462956,-0.004671009372694419,-0.044269949316328036,-0.032182503256951774,-0.0686283400698496,0.029912060571531226,-0.08453639224254797,-0.07371797482281844,0.023763799093834404,0.08646808281755511,0.08459382665631222,0.010876766095133262,-0.03023432575867857,0.011494909240322846,-0.08686280773522272,0.047788592947062426,-0.07906943094132104,-0.0023649534898661922,-0.06953954093538603,-0.04831942081025742,0.06669772784455595,0.06491907056538489,-0.036499614325947234,-0.004901352765764652,0.08004670304370548,-0.016135402703298676,-0.07383587631479842,0.00574274158302513,0.004664306598010457,-0.08456538718208535,0.024577325887870524,0.024844418873707756,-0.07554023611871058,0.00894835928870798,-0.03977429275790584,0.06929956267529176,0.06613345673035814,-0.06284768049180804,-0.04446997424857016,-0.08551226095891604,0.004225339492702956,-0.002145651361688919,-0.07230462183574425,-0.06834618318743065,-0.049732462052083405,-0.08263865158441493,-0.07468016310062461,0.016023478727225315,-0.05300588458015214,-0.07980652223884661,-0.0344768917714678,0.0010754238028405215,-0.034493321149624216,-0.04286305210548344,-0.06112652894233269,-0.06996490873265013,0.03122790023182129,-0.0037876884314272273,0.0012483883963538905,-0.0321593210979082,0.0024189618018282586,-0.05713874717775546,0.005914705669956188,0.06186095563157516,-0.032747670462765964,-0.05705576332411197,-0.06841873674037986,-0.0835063374051358,0.027909011141284745,0.03137488113417653,-0.07930817388797283,0.016540722754422043,-0.0007828673540481294,-0.026402541664382537,0.006066064158294193,-0.03339167139787253,-0.027392220558450784,-0.003909047346940604,0.05674070450733806,-0.031011500803775873,0.06096500935769067,0.06066566876046403,0.028177723753684297,0.07808362474392792,0.039712556122276615,0.04621963647643275,0.0733518459557309,-0.040808475508096194,0.03810086935592314,-0.0250045746698827,0.06053860297055685,0.050916607965246864,-0.05574179625603345,0.008124084052340712,-0.07579148441030165,-0.016345160501712367,0.060633339257997014,0.029076443549886484,-0.009425437363640649,0.0370864981706777,-0.04917708981282949,0.033910566149900595,-0.07735286150077042,-0.02192523988305542,-0.04610542133943314,0.02324407401096938,0.034119503977376925,0.028344675280348924,-0.050221061186283486,0.010727459191385165,-0.03394700896252241,0.05735860924274645,-0.015115853828901396,0.08760971234425946,-0.07029286899473043,0.005924240046905607,-0.08637614201493683,-0.04760412157827297,0.010284625553133827,0.0548165452706233,-0.005382177442693243,-0.029799031724922733,-0.05303650524537717,-0.0037245680122697344,0.04831338015207126,-0.0848165952751039,0.050150462456884086,-0.07157202908774511,-0.05096978344105245,0.06732258698702026,-0.03594030957244629,-0.028987329491774058,0.054758992816234815,-0.014393550769029302,0.011944776466176353,0.08168795447435112,-0.0691209620883453,-0.058808575942845887,-0.04128902350677378,0.041369236423616826,-0.043040319236215575,-0.04145968395425498,0.07294351439812431,-0.017732369417360186,0.07318123999920911,-0.06072884108130567,0.025765439189459848,0.08449372842715434,-0.03910026627478541,0.06744748317690001,0.010217054413660536,0.017218404414385914,0.008607543467695919,-0.07977415554094422,0.07649248386567914,0.0727684950529703,-0.051328685305441255,-0.03247972305159128,-0.05445194067165871,-0.025166648477689943,-0.06760852123590008,0.036096282677675014,0.037672502653693936,-0.0701516090455085,-0.01855370378121514,-0.07053184062570941,-0.010360113956289533,-0.015199862187918136,0.031323337989696956,0.02212237445919951,0.011743434631674805,-0.01140801275107488,-0.08706001238291414,0.07090961004940083,-0.04292318166623472,-0.03657827201554496,-0.009351029740237618,-0.057476226123456674,-0.042247849602767416,-0.058244204241824436,-0.08553513730786313,0.07002791069160452,0.06031358997694932,-0.010004135681522345,0.0057908521882155395,-0.0706303790293256,0.019162026746173833,-0.056866989575780645,0.039498037076336916,0.05450460624845712,-0.04411799751798634,-0.058422733602951936,0.03313015305456465,0.07981067197995972,-0.07079941856090405,0.018732606635510334,-0.03761966098978588,0.026873050349527975,-0.0791504206249331,-0.0306692900619057,-0.08319771697679611,0.013490372396112194,-0.03933930333591807,-0.07562016295505827,0.06427530384874865,0.05721873234168039,-0.08733256433133223,-0.06469856782127707,-0.07588426946202097,0.04808142216744491,0.016145657485743477,-0.056011374948447615,0.012975705853199059,0.02361928857325335,0.07909994105783306,0.07848479276434495,-0.06347745267031508,0.06673260473162247,0.05786049874670225,-0.06743605201952795,0.011977259166097484,0.015032969388300205,0.07634157782115127,-0.007920537049198909,0.07834385635723347,0.041777658415558125,0.04439413919100583,-0.0029403669627733773,0.03111705917433329,-0.050326531681157596,0.014002635694185231,-0.07876224706679595,0.018339602171896834,0.01854911350213667,0.06175670393596769,0.08308422600160204,0.004431936202793633,0.06451750477669985,-0.03825491138200707,0.023133784239891975,-0.018458980653079087,-0.017055385134489294,0.03624832916570855,-0.07064623082758745,0.06247133675331975,0.04036419784758666,-0.032398439519358224,0.0316760359032064,-0.03355297497580536,0.024021881883881695,-0.012977927080535247,0.06301888982582723,-0.010453217833885075,-0.027087434233107794,0.03380104547103972,0.059050179761435936,-0.003913573307679381,-0.08666303201514816,0.06672686780917486,0.018171495459056972,0.025005178788749357,0.0645459032139561,-0.0799343471563199,0.05025575353664265,-0.0667348299436472,0.02089031480268554,0.01877261408561124,0.06618130984846245,0.07824503648756977,0.03090116075813921,0.07791540508557833,0.054348156862182175,0.03293036492650998,0.02765566727013223,0.06633835207139056,-0.08203373464863811,0.0023289213066536485,-0.002122175853880879,-0.011001997285923859,-0.012070383070777336,0.06028608225686217,0.025595207469768802,-0.07327858425318658,0.020667534795556303,0.06084890639439896,-0.031638974431461665,0.08069211854895358,-0.04081308918708126,0.031219362359243632,0.03876602111297151,-0.0409600672093545,-0.05348229944720224,-0.0005329339836406536,-0.05532879514785008,0.08482882508768823,-0.04690780467130149,-0.006926532030584085,0.054321075040856266,0.05003926359926205,-0.012342318031351631,-0.016694319043121082,0.03646632988256158,-0.03501472713445509,-0.020467148950120945,0.00793094596816287,0.07410321394986821,0.07634749105677813,-0.03933074693294723,-0.07933136538047701,-0.046187633620030165,-0.03624221871122997,-0.002368659596965788,-0.07855812493342842,0.03585897510066197,-0.023888799150289134,-0.022085671876694777,0.01139550666394678,-0.004217030775824046,0.009139880873695157,-0.06546818692464976,-0.016022836366754688,-0.016814992367029696,0.08669728638819232]},{"id":"chunk-7db5cddc-100","content":"Model (Run) Settings PydanticAI offers a settings.ModelSettings structure to help you fine tune your requests. This structure allows you to configure common parameters that influence the model's behavior, such as temperature, max_tokens, timeout, and more. There are two ways to apply these settings: 1. Passing to run{_sync,_stream} functions via the model_settings argument. This allows for fine-tuning on a per-request basis. 2. Setting during Agent initialization via the model_settings argument. These settings will be applied by default to all subsequent run calls using said agent. However, model_settings provided during a specific run call will override the agent's default settings.","metadata":{"url":"https://ai.pydantic.dev","title":"PydanticAI","chunkIndex":100,"totalChunks":208},"embedding":[-0.06909635958430477,-0.059170352945449374,0.025974317142299023,0.08059288069965345,0.004722705795534991,0.06857738590566737,0.01906818589650304,-0.023018008508254445,-0.007609936590810623,0.002266691980265834,-0.04312780960980436,0.013180532183131201,-0.07725452102983271,0.053083789622417166,0.048430267900673965,0.06829984420581346,0.020043143234733846,-0.04564123267416851,-0.009063567148843862,-0.05267437729677568,0.04361599507218495,-0.004661683640664014,-0.07126184186961022,-0.03900276591593669,-0.08553889171044628,-0.07366008313562859,0.05049026295008519,0.028337950916913747,0.013590476721170587,-0.020841398612564534,-0.08155314268883655,-0.023325092344269372,0.07127194802943032,0.02690198496186794,0.07556820693216976,-0.021650402573786923,0.004533287614051968,-0.06937513623436575,-0.0163165196243396,0.027511743531311996,0.07092749578948841,-0.036811420629862306,0.007816700549202749,-0.022915663933975934,0.07111286976037,0.04592082549515104,0.006158009003018377,0.0224139415680462,-0.00006627968555291758,0.033211833775924654,0.004775351134258626,-0.053203714691351794,-0.007716437020223905,-0.015950442428398232,0.02839614261321582,-0.04937807574373605,-0.0018265434377032137,0.03589723339358848,0.08607535587706597,-0.015503700803379554,-0.028446039698345103,0.04680495192613497,-0.03103933445375916,-0.015354901636302706,0.04761256537911339,-0.06864002432360944,0.06969911736305504,0.03745326054886632,0.030129967654238837,0.07281565429936694,0.025687227401865298,-0.07114726827773821,-0.07366833425023897,0.06361129943749902,-0.08751912915700265,-0.06593690714885893,-0.07448825896908345,0.05549280420756766,0.03767073501611117,0.08463627847632997,0.040216398376171504,0.004567073680508844,-0.06638843823681252,0.004686607465786063,0.07127849920008013,0.028298927143556658,-0.030134260589934948,-0.08348171938061069,0.010365045470696955,-0.029307511485536574,-0.02213204407815039,-0.030867544313235164,0.05264078622156731,0.08423272393466358,0.011759354285655615,-0.00967211693388881,0.006829387361056426,0.08879048191935066,0.06644821968646084,-0.046492516265522095,-0.0030494145206878985,0.022125844870406048,-0.020510350311755066,-0.07773688191315793,-0.06108398944156221,-0.002302208742460846,-0.01183414246623727,-0.001977136366173049,-0.059173442145178064,-0.06212352481249183,0.05051241660188723,-0.07133505862390638,-0.031341304237480404,0.03227530167882246,-0.053219523525262914,-0.07123451901932293,0.0005864732645388885,0.07150979434720076,0.06769052267359515,-0.0532460723280318,-0.0037099160501322856,0.023624742049224504,0.07958655298496795,0.005097861441971224,0.03443154872511881,0.05325861811017606,0.049410213673132475,-0.05279614709538737,0.034573044018337905,-0.06366508231953967,0.0383847494872216,-0.03818676999183717,-0.07161225725898447,0.08461636438147271,-0.049365954008183915,-0.07674127832215362,-0.024815337242637438,0.03092101538643406,0.036164259491573064,-0.06755490218141094,0.04605405539843376,-0.040070124328809485,0.06653934927079644,0.011861901830925928,-0.08721342661849704,0.014947613927492984,-0.0807604148766149,0.06977258173158282,-0.07967400591744032,-0.02139966387893194,0.04032844107476857,-0.01214856457659724,-0.08725231124503399,0.023840067685446876,0.05304617111295822,-0.011527157835027951,0.08222952003685047,-0.0168633717907438,0.0014941342092842716,0.03793728503165453,0.05928671060029129,-0.002929009926360328,0.012368782411814277,0.009699560026299892,-0.07350869680884713,-0.058717810111275595,0.026694535026528594,-0.08268575444396221,-0.02256716195806499,0.06943012560132399,-0.028713965460516043,0.04521781835159377,-0.031016490489892724,0.04849930200417356,0.023839333986565903,-0.07678462555374757,0.005085207975521265,0.03390695085505273,-0.06607083642428176,0.06797269137681855,-0.058539132335413274,0.04427434903636407,0.07429868974106714,-0.040154644492087936,-0.060865640919643985,-0.0358773631214061,0.024022337074584305,-0.06514950615620838,-0.07962754131272987,0.01770848251664253,-0.08490824299848858,0.07254858971279082,-0.08619380968604058,-0.019832432892095155,-0.06351412727472165,-0.04529927118988532,-0.027887638548872818,0.01727944293087997,0.07814967815374703,0.02808204182007002,-0.0002848134972126538,-0.07685187701270824,0.015996482711391286,0.08535299738255397,-0.0748009546328304,0.01520956833524,-0.0826560973867878,-0.06283558583869124,0.08252509684017291,-0.0006926501057491524,0.06591723407345035,-0.0013021043046847224,0.04027573542707055,0.04593576142394451,0.0629877120999236,-0.053578520969719795,0.06341997414095199,0.002449543586961726,-0.08255022550241824,-0.02726214667709027,0.05885466679467065,0.007412990475280906,-0.06283377933123871,0.04375526542213054,-0.05560412470970794,-0.06635783899741181,-0.05820500924780486,0.07852738116980698,0.05776219556113124,-0.07465735733848047,-0.06590667679929126,0.07415030242953294,0.013698552309047507,0.03392129610619568,-0.023148148575969335,-0.06232563381504459,-0.08279492216233857,-0.007008683898914519,0.03030714991363928,0.0801598713737938,-0.05309907140724773,-0.0730190663975458,-0.05434684918069516,0.03943259659785661,0.0734178626200806,0.031073686450900733,-0.0025762559448092473,0.08080214501277173,-0.036550150641210845,-0.06098613267465511,-0.046543421889365576,0.08609469596626429,-0.07325288269881076,0.02687112230525706,0.022351004525935164,0.06481093126733972,0.03229416782543828,-0.02424453304902568,-0.034930567119589535,0.021937458846799103,-0.03584028456029555,-0.021808024732664247,0.07203577533853482,-0.07920444972382658,0.08911254125055419,0.013246989648669164,-0.030304792946004994,0.03343957241959631,-0.023208673758738193,0.05093872112395031,-0.003021692410865038,-0.06705267389746948,0.05024748031531008,0.029091204667740338,-0.027364719469576616,0.05805928306672284,0.006056320985222809,0.06726470281643464,-0.06648042009203431,0.03379024011303762,-0.07180199136611436,0.0076032146327950955,-0.04779862784132296,0.003468997319263715,0.026860906139024147,-0.0575142381879267,0.01773547912188514,0.014360073019796962,-0.06766386609178306,-0.056674690117212156,-0.04696414901905259,0.03403386757181294,-0.003527837833055462,-0.056884244420516324,-0.07012090562035198,0.0902259271700149,0.00671936375168224,0.03399594636735065,0.08263211301225287,-0.06894976103212405,-0.0563704224743292,0.032839152559169485,0.041626124264653556,-0.08042087098950183,0.04073866561694539,-0.02528591060323297,-0.06387470907038996,-0.06042419512726096,-0.08538935315497498,0.05962466926521645,0.040800260177793056,0.038842373220743395,0.03132628322593732,0.024752244080931324,0.055815679661213764,0.07191079419443892,-0.0734330271730058,-0.08181435574836868,-0.04630641001040759,0.05739339408149743,0.07256620455456216,-0.05925999233975838,-0.02418842603148824,0.006039507671754178,-0.05571206341652893,0.014477661107421288,0.05605616243525067,0.08741290841254538,0.04013621078570847,0.07240332704889973,-0.06696987564573945,-0.05540189353541264,-0.07109613265878302,0.01985762263700449,0.07105616469259758,-0.04524613783319291,0.027372636576588026,0.0211665993170524,0.01748642862773427,-0.05486366160708837,-0.03405331833275563,0.030710666539095887,0.07156695082701162,-0.044825369746805,-0.05476598833838064,0.029582878685109528,-0.06644324452798386,0.010583575199515638,-0.06078699257279895,-0.009173151925235509,0.04321925161178533,0.02051514602489817,0.07764628449158995,-0.02597960290261917,-0.021145237272595513,0.061605484513860435,-0.08028246762670486,0.026241888458570166,-0.06555698048205096,-0.04069104827950248,0.05836115004607588,-0.04134816761654419,0.05284561449494595,0.0621217668967828,0.026811437255902563,0.02003793985722667,-0.06720968115846111,0.041960243231509466,-0.03719380000362541,0.004034805959847987,-0.02749583305557165,-0.028415214469288318,-0.0042096772616398515,-0.03643348479276627,0.053360963084128424,0.002622984637550763,0.05394115256969009,0.07827448354858754,-0.0026988100745638914,0.0334633346999177,0.05908857206168936,-0.014160748005956871,0.025491401547857707,0.008248254854854118]},{"id":"chunk-7db5cddc-101","content":"For example, if you'd like to set the temperature setting to 0.0 to ensure less random behavior, you can do the following: from pydantic_ai import Agent agent = Agent('openai:gpt-4o') result_sync = agent.run_sync( 'What is the capital of Italy?', model_settings={'temperature': 0.0} ) print(result_sync.data) #> Rome Model specific settings If you wish to further customize model behavior, you can use a subclass of ModelSettings, like GeminiModelSettings, associated with your model of choice.","metadata":{"url":"https://ai.pydantic.dev","title":"PydanticAI","chunkIndex":101,"totalChunks":208},"embedding":[0.05594644695358512,0.07294026434709026,-0.024019488059602606,-0.07848271515460452,0.0727785307044429,-0.07124449162684829,-0.03678336669506351,-0.02710102544288543,-0.053764989840021385,0.06563324377654205,0.02912848248306764,-0.01059840929884875,-0.017372733593634865,-0.018042166951347884,0.0005898143564691516,0.05052505176153937,0.05454579406561783,0.006956253546391302,-0.05940115114476928,-0.064049704124251,-0.08032062696886069,-0.05821572884287297,0.08017915625511585,0.06501880666990646,-0.04475476820457716,0.018229178569070664,-0.04413124610950244,-0.059441694342501,0.07017900539664806,-0.053427349644778924,-0.07257751432950614,0.032933263543387346,0.014435947426473746,0.051845443200133824,0.03743578460459767,0.07935791190658718,0.007071065662108174,0.03999225453110686,0.06313113435313439,0.014019345834478619,-0.005543946056361976,-0.02202364284857234,0.08147466225734686,-0.07170040878716546,-0.06419297812300388,0.06650274290310337,0.07095308380902335,0.07631743310187593,-0.07299813553704883,0.060220643096290036,0.012644386119691745,0.03966832847144559,-0.005635539044383971,-0.06303902483484705,0.052418885289784875,-0.05578452661552795,0.026961470004827202,0.06785101331028594,-0.055525691754028425,-0.03333468763151431,-0.035006700581853345,0.011832938069136923,-0.03826076019986922,-0.05624643260508499,0.030197006431442696,-0.016465933513776707,0.06305248386581436,0.0361005019144219,-0.054217779353206534,-0.03591485363247547,-0.0567608380817833,0.06871013592928808,-0.044645077943458795,0.06741550139028724,-0.047793049318569016,0.02568270507980957,-0.06053191216509218,0.022547064571394042,-0.008607516224790286,0.07965323714406741,-0.02363479517800223,-0.06970694900198421,0.03034430958239606,0.08405203938131456,0.022037976924528014,-0.03853586741109659,0.08093907290853807,-0.012995882868731967,-0.07559868278226481,-0.03586549181142776,-0.005818632197915335,0.027548803924057,-0.07179084499885849,0.009087614694565118,0.0269006147798726,0.06936317360500543,0.06470428654535006,0.07813174527377874,0.008861959789573624,0.04774579659165385,0.07652790897002416,-0.016420005091022094,0.0625786703459022,-0.06789628511001425,-0.05029023533146862,0.03411599334840281,0.05488276445093801,-0.028695217209949955,-0.07806406744866175,-0.008558597686360797,-0.06744378094240003,-0.06793217983481248,-0.058581876076348856,-0.050087202105994426,-0.04484662660691386,0.04239887267408809,0.039507561271653766,0.05339073157607177,-0.0450441622313548,-0.07927987616945223,-0.06448783138114116,0.013132114089624404,-0.06352402956736028,0.07757843567735478,-0.06157948125494808,-0.05739564467506751,-0.07212646898601095,-0.02967570886710823,-0.02506505554331547,-0.07945524655397902,-0.03940133759033863,0.08166771238095488,0.031005366151888206,-0.0602217797968532,0.07891699621288822,-0.06571974776893318,0.06960373313145725,-0.0548263582212609,0.014621097353679835,0.0696134457533181,-0.011251640129884888,-0.023252597394683997,0.05826250959572024,-0.037166105116079255,-0.029481107666745842,0.07420007152210277,0.020900733474439173,-0.05957640953452266,-0.0004671105629427212,0.07032126420086363,0.057311436228610874,0.027920451237437763,-0.06420310644937442,-0.038763637819424164,0.01563669945057825,0.08338866229722756,-0.05478999408331635,-0.015221704357600526,-0.0016487389748263122,0.02795678373095645,-0.02226028026160742,0.06503147161125813,-0.06385755469481601,0.06236971589925371,0.010840884243107689,0.024446493040806115,0.033442927741171836,0.06433585871397571,0.05920413000807946,0.08340249365494538,-0.06701939043293696,0.012474130207122286,0.015797830400388,0.014021192697043093,0.052085499550527055,0.048518225515886054,-0.07131968153343356,-0.0008685702987033928,-0.014205552321258592,-0.044458105977055386,0.00827246507171096,0.03845800156144108,-0.015497387821686982,0.047952939280710476,-0.06594375167459475,-0.039095781040026305,0.024270990308800033,0.024946697404106394,0.05257404660513006,0.012250557785705803,-0.010376455843836617,-0.01491053692844057,-0.06278263833117972,-0.05099700706233748,-0.025443641330627768,-0.04520731918276508,0.07630640620555727,0.05661821291081977,-0.033235155364721346,-0.019914820486803573,-0.0396295717503663,0.07778511891863517,0.0794575249124472,0.023439071270940463,-0.07055956734517876,-0.07326240768058241,0.06452017498384485,-0.04554001732173063,0.00553410551410662,0.05717155322026031,-0.06139612161038044,0.03118404167456987,0.0004982777873121808,0.0230509942567928,0.05477835032155625,0.04563948913257382,-0.029086012830903285,0.06447640481787581,0.014714836627757775,0.060159513948366855,-0.03703871451417619,-0.02035520731938992,0.047754372010216456,0.08221266071888281,0.07387960343596423,-0.045264432680028,-0.05469978755971373,0.011816946160866435,0.06802280232025543,0.022388388994925724,0.06684726118475989,0.06536991759835352,-0.006029055682840317,-0.025440909445874196,-0.02934645657360171,0.059449097628226345,-0.0782164027783441,0.003216034271304741,-0.019604007926390447,-0.07066785986737814,0.011615343379385062,-0.06320438267828159,-0.05525388024579515,-0.04711153370377567,-0.009733556882284288,0.06995591816899249,0.03686432367301243,0.026739774060424625,0.05394182998231458,-0.03264548573624258,0.0046611606477783545,-0.058525902867026365,-0.07229310304297294,-0.056291409387057956,-0.019367428326935675,-0.03055955638369978,-0.0714073025990012,-0.06362501496143927,-0.033887596076294636,0.07291835554337671,0.0026701710413953384,0.06262211919220606,0.012293554897731018,-0.04689113388613367,-0.0249526254009711,0.05486620450460768,-0.07487772119414954,-0.03109213525701797,-0.07625349738421591,0.03242322324684835,0.07393977529217141,-0.031460074115632244,0.05353250265331797,-0.015206102912272043,0.009801969709932773,0.08366941212721446,-0.029570199311745198,-0.030222272594995582,-0.034264737814918976,-0.011379708106034796,-0.05582528835463661,0.06182509373942568,0.08062379316639011,-0.0391807330978178,0.0821893177424049,-0.06670488692249109,-0.059737718155739,-0.003566765739185688,0.03841853811148079,-0.029539763095127992,0.04507511352144468,0.03559242743518911,0.0061760105385604966,0.011483765333558849,-0.07435222647064707,0.03174026798818577,-0.046493026305956114,0.020639854698458044,-0.016238697918976624,0.038599460990174424,0.009939314008190397,-0.0016867875941357884,0.012250179045833701,-0.0708627842767524,-0.06290683381151976,-0.0008135419044595084,0.0406603435621027,0.06837201369518443,-0.02574005851448974,0.061977926224501025,-0.04946804089407388,-0.05732617494343797,0.05589127468341459,-0.062363163092690466,0.04305406957081643,-0.07464679303454014,0.057651494629964724,0.007870993903084525,0.013260253069461493,0.07957602412022484,-0.010350080823492815,0.0064955280335947906,-0.023549225509305494,-0.06616112450282331,-0.004625348747746096,-0.04614844747988763,-0.055068893268050895,0.058516652430539225,-0.04411498780606395,0.04127083006245072,-0.0560104071879487,-0.06262521365886002,-0.05961575984156455,-0.043388361873747366,-0.05775852486877937,0.04757077357060695,-0.05463043174490576,0.0519464343657279,-0.003273559215921764,0.06554442261097464,-0.07723369417474135,-0.04807861134952744,-0.05975552137287817,0.061989250883721925,0.07492217828398139,0.04768531730911354,0.03407096080761487,-0.04668869609957857,-0.06368720835827572,0.033032135140589454,-0.0723129961501998,0.07463458558059599,-0.03007562383613854,0.00614080281411329,-0.047880437028434704,-0.00570101144640081,-0.04023744838693932,0.009112866295542792,0.029671734970944635,0.057498013568911946,0.07916674565094818,0.0831829394548581,0.06931836372556052,0.052985667523476714,0.05942257145082119,-0.07487943020953755,0.004219201766219312,0.05623028024112248,0.066411018592051,0.01282024314370598,0.08371235937511982,0.06355084607313609,-0.02712875862150687,-0.08049399100843484,-0.05339825866788282,-0.061263466006157424,0.03621813572061215,0.03763423614499117,0.07073761370117697,0.06008952182749809,0.030700499343633565,0.08167012808975109,0.05107670541721223,0.05135815981246912]},{"id":"chunk-7db5cddc-102","content":"For example: from pydantic_ai import Agent, UnexpectedModelBehavior from pydantic_ai.models.gemini import GeminiModelSettings agent = Agent('google-gla:gemini-1.5-flash') try: result = agent.run_sync( 'Write a list of 5 very rude things that I might say to the universe after stubbing my toe in the dark:', model_settings=GeminiModelSettings( temperature=0.0, # general model settings can also be specified gemini_safety_settings=[ { 'category': 'HARM_CATEGORY_HARASSMENT', 'threshold': 'BLOCK_LOW_AND_ABOVE', }, { 'category': 'HARM_CATEGORY_HATE_SPEECH', 'threshold': 'BLOCK_LOW_AND_ABOVE', }, ], ), ) except UnexpectedModelBehavior as e: print(e) # (1)! \"\"\" Safety settings triggered, body: <safety settings details> \"\"\" This error is raised because the safety thresholds were exceeded. Generally, result would contain a normal ModelResponse. Runs vs. Conversations An agent run might represent an entire conversation — there's no limit to how many messages can be exchanged in a single run.","metadata":{"url":"https://ai.pydantic.dev","title":"PydanticAI","chunkIndex":102,"totalChunks":208},"embedding":[0.0011657442003356843,0.010254617521238787,0.031249168541433274,-0.03769849930207625,0.08690082312352829,0.018084541247036977,-0.012325002741357085,0.05403329108823194,-0.04021349127533321,-0.07710498236963374,0.04960701261588814,0.0850659708344477,0.01839507394751018,0.08024346532311695,0.039011350786285606,0.05596255649025727,-0.05562221330845578,0.06139169295767864,-0.07220696846434242,-0.0530698746975125,-0.07879383133372944,-0.01825632813827647,-0.029489190705359238,-0.015668837051788023,0.08383325102122083,0.0007761866362168327,0.05225967777743945,0.00604672060242929,0.057556938866329836,0.0747883773305232,-0.03868117441345507,0.04912887991275656,0.03609930866677921,0.005095058893939046,0.002146219736104894,0.00966845669658379,0.03981274139207288,0.05749007574938325,-0.0783249054835857,0.07068934160835613,-0.08549743365160087,-0.06597405593888242,0.025394249829787448,0.08753531693553704,-0.017322199826153104,0.07705230363412784,-0.06330020706738444,-0.04835059255015094,-0.054083067074034936,0.013539900221861327,-0.03192185937930407,-0.009786322948306673,0.06696968114496903,-0.0804757969403527,0.05388175263947512,-0.03527042535654318,0.027408269938704644,0.05553007412765291,-0.015231331499105358,-0.039238531589904924,0.07611249578032253,0.05772511872330991,-0.06766624040334063,-0.04714286617944784,-0.07296306189026482,-0.019648579460936663,-0.03682443334884793,-0.020437083602483058,0.08204915968601502,0.006262833262141632,-0.08026488941711034,-0.07649995484686091,-0.06537378849606382,-0.07516725307124536,-0.04515732578021742,-0.0032724938300816055,0.03181224527543677,0.006116159884054547,0.06751042617866357,0.07310732558733408,0.06152495103291459,0.06470132213115481,0.06342517775676906,0.07950278123530351,0.006298891332158533,0.041166119193760474,0.045407347430319975,-0.010324398721882426,0.017879424114993006,0.021999105239191,0.035160125748998995,-0.05050938342415893,-0.0005268598461435254,0.007425145957839012,0.06005749287684432,0.00619858641863067,-0.02626038612826213,0.02637686864096685,0.0557529701616574,0.0817207744534419,0.06376097536726444,-0.04422890198775482,-0.0028339615507982537,0.04084108350371893,0.008691525665397156,0.041941200050543435,-0.08036162873143392,0.08501487101867224,0.058285761012415095,0.002367552741286588,0.07312700029135884,-0.08283557197516554,0.06166526856337326,0.00694533655569065,-0.052530439922302365,0.01893414554336262,0.04706105193453935,0.04041941075746906,-0.028276387667588682,0.011836594730670103,0.03478485358452961,-0.05252836671013217,-0.07159880250910179,0.03170402605143463,0.013455283513910805,0.07312454818010446,0.058857286422810386,-0.0710076369098822,-0.06049171567807891,0.017633356166855525,-0.06404899892127228,0.04354592715133465,-0.06008479999611011,0.02896487642819605,-0.02223225724469935,-0.05158099954416717,0.06320627290309273,-0.0028913356503271898,-0.08009000888667796,-0.06348974424725766,0.034169287578748625,0.0630234358277863,0.04550893555940171,0.08075210851377378,-0.043462612492417965,-0.034326620675043766,0.08245421012317407,-0.05682501867478643,0.08290238664492909,0.006802674846736741,0.06632123793885172,0.0021566174884683773,-0.027116775434570063,0.04762057334587547,-0.05804746270134273,-0.036549015281628926,0.021480930861816544,0.010285151995855658,-0.030347610572590927,-0.055250554128584796,0.038203795894624866,0.061817264734686725,0.008115784616351035,-0.0751910997835354,0.054727345245879494,0.009301623981517468,-0.06926902508897409,0.05088942199324907,0.06449320046551654,0.08571983586282157,-0.08264519606678153,-0.023513933745021028,0.062654053513852,0.02956616637438384,0.03914265941480996,0.07432957177914867,-0.0678316250915604,-0.06840316324784125,-0.05928789912454716,-0.0590816396633996,-0.04719516478654186,-0.019875246312108238,0.07943101630530182,-0.03420876143403562,0.07695129772237135,0.023965898628981613,0.013441715920138823,-0.04316885426009488,0.060198928870204636,-0.08018407396431883,0.07167719304076674,0.014869650303756587,-0.06080846325427402,-0.05481192315039282,0.023943744989821346,0.06339970341909704,0.028959882405452095,-0.059307057283079466,0.08652140792600818,-0.0653347898682873,-0.039533699444322605,0.02385263273720311,-0.0045059968103231115,0.053476732275535455,0.07649269479570593,-0.020526944425134416,0.06033181692886807,-0.08371275076479555,-0.07372955298294519,0.021450458115038942,0.07010981105407889,-0.054072943784685835,0.03351336691159574,-0.06946361148622374,-0.0015076397085500967,0.053972453050465316,0.023793586591652996,0.0679629148709506,-0.0030989407859182264,0.08245580982762671,0.0030357545837557446,-0.08638649460532417,-0.0750624786230089,-0.08063521822269584,0.009234402365909666,-0.045825602631659766,0.020096498400282915,-0.07149526055352498,-0.06938082541576851,0.07863954658840873,-0.050149782659946754,0.05526205025479932,0.02906372777345281,0.002943553903408222,-0.029181326933211342,0.0776462732210074,-0.08173933623716823,0.025168134198458196,-0.03054124303773538,-0.07237063674087565,0.0593245853428855,0.031217851618083905,-0.026828571723267892,-0.002723546842641048,0.05283682194662208,0.05532465719386245,0.03414879410640758,-0.0028169282950348466,-0.019906838823484777,-0.041059792212710465,-0.05023019497710531,-0.008019705221077833,0.00925902672072345,-0.011312397760875021,-0.00815325435375939,0.05728701254438633,-0.08539995192230487,-0.0389917806672297,-0.038412122909659535,-0.006679043822173642,-0.003961919192386461,-0.05131535867135832,-0.023532120785301938,0.06852561204894568,-0.014074927941962186,-0.01642050829751546,-0.06878293923588558,0.051103190679911425,0.04829549764281516,-0.08287401563596306,-0.07619751459052952,0.009228292516698692,-0.051231246840437915,0.046192231434172615,0.020117391905360858,0.021202098510737743,0.04282438641331609,0.049667188556833955,-0.03919986277066465,-0.046935768027805407,0.010624644717708933,0.06478546371194897,0.07998752832448833,-0.045910760637732695,0.07175867826357113,-0.03163978513494555,-0.0564725197551913,-0.03231318277709261,-0.052243168532541816,-0.06259194359004501,-0.08036189255068446,-0.04700971456633173,-0.08280344539498288,-0.009266526341025825,0.023211087388112693,-0.01733927276784078,-0.03677011326538356,-0.0843679981964949,0.04139623006345921,0.02512978104371836,0.052123130107649136,0.005508120751230994,-0.00878123126482562,-0.023571963634393595,-0.022743509163366076,0.012754568090999988,-0.02988647262085251,0.03331145694912062,0.0644748300314521,-0.02509718881484544,-0.03984773148832422,-0.021846891805880887,0.060923119347778824,0.042090144059238124,-0.02743366175887909,0.04235411593725203,-0.040387908187126,-0.07929132172465529,0.039490774272683875,0.025182318213353667,-0.06882430060459964,0.06968333083281747,0.047330707619025456,-0.012255336967268287,0.03168868515764436,0.05727922844727548,0.007596561470301668,-0.023140636108332915,0.07393939476554938,-0.07366394567414672,-0.011014985166808012,0.012530498784188564,-0.0051410591369941945,0.028133842936398798,0.01114405794870382,-0.07722235994213814,0.05587400498034951,0.06540607259403927,-0.07269786737877397,0.06938594254707171,-0.02707210337867028,-0.018175199515565985,0.03884043052800604,0.014828462843896245,-0.08477923685563094,0.06764325151956087,-0.07815186984120867,0.00999254390393456,-0.03484963656390816,0.07591595886825299,-0.029786269960304767,-0.022242911294572974,0.07225494965582066,0.07105472782480074,0.01217299855361844,0.042730272960085545,0.03811541479345309,-0.02287630571278915,-0.0016237788263425827,0.037308645784298815,-0.03372689026386551,0.04628650617382857,-0.0016919848408580142,0.06281224475817038,0.04918399335530647,0.0726968512343752,0.06090535224770461,0.002926561863799841,-0.02810036359138371,-0.0039869103963093315,-0.07025808641295679,0.005149957356761766,0.07343745124508257,0.07919026736937804,-0.07421308450294839,-0.051620235036904535,0.018725031025347668,-0.014664427248901492,-0.03251246902145855,0.08332959221704589,0.03885610668273253,-0.0015215152551815946,0.009148878491259997,0.08319949989606806]},{"id":"chunk-7db5cddc-103","content":"However, a conversation might also be composed of multiple runs, especially if you need to maintain state between separate interactions or API calls. Here's an example of a conversation comprised of multiple runs: conversation_example.pyfrom pydantic_ai import Agent agent = Agent('openai:gpt-4o') # First run result1 = agent.run_sync('Who was Albert Einstein?') print(result1.data) #> Albert Einstein was a German-born theoretical physicist. # Second run, passing previous messages result2 = agent.run_sync( 'What was his most famous equation?', message_history=result1.new_messages(), # (1)! ) print(result2.data) #> Albert Einstein's most famous equation is (E = mc^2). Continue the conversation; without message_history the model would not know who \"his\" was referring to. (This example is complete, it can be run \"as is\") Type safe by design PydanticAI is designed to work well with static type checkers, like mypy and pyright.","metadata":{"url":"https://ai.pydantic.dev","title":"PydanticAI","chunkIndex":103,"totalChunks":208},"embedding":[-0.019160496025936325,0.05647182588422472,-0.04515538160001716,-0.019486500447598636,-0.02647379849063383,-0.0066594534072313095,0.06291548125354157,-0.08157542007581209,-0.05644549496543594,0.02810184770790613,-0.0018273529017317082,0.02219284222547944,0.05806863471771828,-0.002835125446464065,-0.00014047007551603913,0.060938952615275994,-0.0397212943393189,0.04106168974121483,-0.013087444251359073,0.08330765132151838,0.08281518201317564,0.012432826674463857,0.001536124780488105,-0.0678853806324385,0.04432601541568814,0.01601251967731019,0.01567804397165665,-0.07936022197861656,0.04818176864911149,0.010008239437995272,0.015796726625711886,-0.011827525173373394,-0.07110705216879534,0.054111894415630794,-0.05920719089813192,-0.08344384480747792,-0.061784474431388826,-0.07830290471988723,0.07195145229560762,-0.00504831418151797,-0.08341313819524089,-0.019414028174504126,0.056933822352345856,-0.05735509610412365,-0.038547543139751735,-0.019006091934418552,-0.08109840690513724,0.05912517425084395,-0.06342002176997799,0.03046004070373087,-0.0729566766329744,-0.07139145780832368,-0.017566166986997808,-0.07692202062583565,-0.051445704885268784,-0.08161478920000251,-0.05258217186773377,-0.0011094568024931548,0.0660265156708043,0.04457840706998404,0.0858658261230377,0.03791857705356431,0.050310943034744135,-0.07983296365665361,0.06829656657299925,0.06281811218040943,-0.044489335422357446,0.029623393164780132,-0.01808275491037354,-0.031321104602199716,-0.0027956791076718507,-0.020073868607345606,0.010482537028850797,-0.08258134816492362,0.061440889383826476,0.0653761762723309,0.02351351876886571,0.060789669145383786,-0.07053493715987984,0.08171202261789581,-0.013210897358982754,0.04076227782552223,-0.08537576378586693,0.03467129672691309,-0.06155537860931079,0.03968996374296168,0.06134478376995353,-0.028617454694469392,0.07510353361502742,0.03702707079960209,0.07960287157950312,0.07312351820912001,0.00830988302054306,0.04806652461976441,-0.03340550933136684,-0.06768481584970151,0.02646136112440831,0.04564818486327234,-0.019861361554188592,0.007899451846745684,0.08208318772026961,0.016418845490651875,0.07753336296644703,-0.004676814028191384,-0.07461835513147874,-0.03989756188848789,-0.05605327954176256,-0.03257019084063749,0.07576153713383664,-0.04546178850328267,-0.054407810241788396,-0.008353211180293488,0.07016330418994084,-0.009915950583672194,0.04795220095513156,0.059266208647736365,-0.03279419543762196,0.00031053332512492356,-0.07285325727307958,-0.08174676662227758,0.04167267411721348,0.0495812195809355,0.0172447514925265,0.05267344490524464,-0.08602122067213754,0.021291636848419122,0.0481550913873905,-0.02149221964472639,-0.04503422617266413,0.05730464750418039,0.04025013320033169,-0.013934624256525491,-0.016481055904205292,0.058916065960913984,-0.08411277818723238,0.014235822844201513,0.0065191051801687366,0.04512094055508138,0.01548372537625863,-0.061317984396116854,0.07801675346102335,0.04208717251581757,0.08345072658185083,-0.06009633388657124,-0.05316789601923557,0.05937253144961473,0.03927218258611404,0.08241660569226432,-0.010012901448008567,-0.02482076267629806,0.01805870237433044,0.06085778832564905,-0.06135468050888279,0.032991219351305355,-0.03713727538623962,-0.0161112073019828,-0.037687545091420395,-0.08503563659881065,0.002920854593717016,-0.013965339580346028,0.08438359970534622,0.07599400355446741,-0.04222343473820337,0.07417065798329742,-0.0071702243661826304,0.0240802505925503,0.024976258434315078,-0.006599091916960919,0.062125311004758675,0.041277048174857646,-0.03860847213322391,0.005987623342017798,-0.037009875836405054,0.024068244156442844,-0.013306315915797845,-0.01146171311412902,0.04280773116341607,0.05448718083201774,-0.05199913231584886,0.04768305601395077,-0.07733210010402818,0.02075386194792646,0.08131126595053638,-0.043208684154807823,-0.03426550447323709,0.07928487422471871,0.07546789870831698,0.058042624668412805,0.06804872495420713,-0.03621324570829881,-0.04401250881599959,-0.045788427180411685,-0.07707116313585811,0.07726938969581296,-0.07127178326311062,0.03625272187473325,0.011004144894311662,-0.05091059779399758,-0.0016586239832581564,-0.001426914040067409,0.006101722219382714,-0.07469987706228276,0.044189931935015206,-0.065404378917169,0.007204383614872541,-0.03816416198517727,-0.022380348081462505,0.01914030819022455,0.05999041443125518,-0.012278244481868678,-0.053054508881232885,0.06786437297957383,0.07939928070908686,-0.06829804450021212,0.011093839929947181,-0.0506569516111344,-0.04080305036161284,-0.06941948625543302,0.067417845459067,-0.019186812651987024,-0.08517806541597361,0.031466156557285255,0.0017013541648270524,-0.008556405294341332,-0.07812373554909134,-0.025734234077699963,-0.0017987925366237782,-0.004332712573275189,0.03882171606940215,-0.023149602747020593,-0.05321799916361276,0.011801838889671842,-0.06922335999062458,0.08642457302380047,0.005854353365877432,-0.04677060696712248,0.06175888946858345,-0.08653002553381654,0.026515120944853914,0.07661260520184762,-0.04754431381103936,0.04789683399629008,0.042987147877536484,0.0280251104474338,0.028699310350445897,0.029573998136101808,0.0065983833451566075,0.07914320505549402,0.07507285070841874,-0.003998807945744515,-0.01528850251175704,-0.06638693796638515,0.07896457027215387,-0.05621906030389472,-0.04911832822370002,-0.08069260004468078,-0.03871966377031823,0.044438085016621394,0.03329506589154266,-0.012171291378055825,-0.059893959661822774,-0.059014669892555285,-0.07145275106862832,-0.03493162781431673,-0.04420920156567098,-0.002524232971408233,0.07615589964803361,0.01057438630558223,-0.004232668521187826,0.07870688143225385,-0.052462025845056395,0.06427322813177314,-0.047999857153623586,0.07501230338324882,0.035181963079234935,-0.02843398559806175,0.061672614801805074,-0.08386308861351056,0.01973805478961562,0.07468345101571505,0.04970064535048781,-0.0010860624621247706,-0.03218029523807292,0.017810213816381537,-0.0567656634903016,-0.020006978661676892,-0.08587785448816158,0.06467447375748503,0.031022884118638794,0.0627683853085634,0.07206033688647272,0.07296242745960242,-0.06702467258075966,-0.0040213540689512115,-0.022745216659598357,-0.0018418515451798037,0.05910255579976786,0.06895182299558211,0.030799912982443983,0.05888718788430982,0.05055860670938137,0.0371865661473927,0.03761649135476013,-0.046598606557924846,0.07565841875767745,0.04581438003295316,0.0842278847789615,-0.05635215974470772,0.001260526258316168,-0.03996656996015878,-0.003217600921573456,-0.07710489623443008,-0.03753000587063785,-0.013441160531266764,-0.06277501322496476,-0.0020709068917423197,0.05414254454492672,0.019563378412645577,-0.015821037391993496,-0.06569846338338906,-0.05395081037415688,-0.016764529264431283,0.0019315959757548063,-0.03351928950301128,0.050709269195391884,-0.019024440954872632,-0.0700610227160728,0.042908656817352155,-0.010129391902606649,-0.08346898537492614,-0.05024705742443398,-0.07252230725004088,0.014159652428337825,0.03352198162748994,0.07524397073515363,-0.08367279048817379,-0.07988073497519024,-0.047098480422523355,-0.04638005932624757,0.04630169903526283,0.009712457387824572,0.019027748126331564,0.007003093217916481,-0.04369834127264688,-0.004141701691066159,-0.08504581807857241,0.03368500514300766,0.02503680920262431,0.014898964381646259,0.06199013046341292,0.007253249889440454,-0.08093944035439762,0.06040993688445147,-0.0734511485409969,-0.06401137511656739,0.06688898553108558,-0.012639608754375047,0.044792188068267104,-0.024738185287961834,-0.020952407335773228,-0.00036483759051354574,-0.023079756673337847,-0.04193325015714113,0.07071667926064933,-0.06275129883440775,-0.04988618807486573,-0.0434252819675207,-0.029298966044604014,0.055156201834613325,0.027909197838578353,-0.08325301372038249,-0.012160110760756725,-0.07481091425044471,0.028499281704282575,-0.03290432418536679,-0.043760951715998024,-0.020633972443705868,-0.049452551017352346,0.024307815232106646,-0.04349970731844794,0.028457958063513426,0.03155065126413969,0.08592529011592889,0.08526340794433854]},{"id":"chunk-7db5cddc-104","content":"Typing is (somewhat) optional PydanticAI is designed to make type checking as useful as possible for you if you choose to use it, but you don't have to use types everywhere all the time. That said, because PydanticAI uses Pydantic, and Pydantic uses type hints as the definition for schema and validation, some types (specifically type hints on parameters to tools, and the result_type arguments to Agent) are used at runtime. We (the library developers) have messed up if type hints are confusing you more than helping you, if you find this, please create an issue explaining what's annoying you! In particular, agents are generic in both the type of their dependencies and the type of results they return, so you can use the type hints to ensure you're using the right types. Consider the following script with type mistakes: type_mistakes.pyfrom dataclasses import dataclass from pydantic_ai import Agent, RunContext @dataclass class User: name: str agent = Agent( 'test', deps_type=User, # (1)!","metadata":{"url":"https://ai.pydantic.dev","title":"PydanticAI","chunkIndex":104,"totalChunks":208},"embedding":[-0.038910609482386865,-0.06412867239463191,-0.01672152152994495,0.02861698028509198,0.07833876037251516,0.023470804439566145,0.053919721671671875,-0.03409728607305942,-0.028060984436229324,-0.015451605976563667,-0.04967244622615025,0.08201603962563044,0.06535779793278762,-0.060933965685977684,0.034935406460373776,0.023739746516376187,-0.00020249992153462134,0.021170044485191178,0.016641862066586334,0.04977325732175905,-0.020105259065131588,-0.08527484987177074,0.013007402152562835,-0.027750419150869322,0.0809016421209909,0.06338581917262058,-0.042651546850308884,-0.07915876745538754,-0.07471006214735199,-0.07698405778842583,-0.04016385960211072,-0.028108590283354162,0.01643044807909517,0.08745761817119256,0.07369574262788106,-0.07650768290847938,0.03667849982021747,0.026555685634750872,0.08093859282371377,0.0710711803585619,0.037361835906009534,-0.011730594908812796,0.04407438179902317,-0.05408677282335013,-0.07248774958749353,-0.011797598655741577,-0.008864202441813825,-0.055233482994335906,-0.02102512548446211,0.0044460565620954825,-0.017421708163843176,0.01797262433210278,0.051893223270023076,0.016628438122946163,0.02821562453871171,-0.0110983345385529,0.012723955695605662,0.004523617420604203,-0.010278696372651809,0.06001936549856855,0.0666837775373028,-0.06780312839062741,-0.05243238304765983,0.08433384712983705,-0.0017976181758252822,-0.024081206352406685,0.03789891410778497,0.0031397763462190234,-0.021195507465206365,-0.05220643066451054,-0.0645665460665349,0.022639619457711514,0.04327197972537266,0.031427199211079185,-0.007727438186228982,0.05047843103013801,-0.08303180742560415,0.04659176339839047,0.031895013204688384,-0.08126057385094052,0.06345564707720315,0.07373216437478837,-0.08456787939716953,-0.029981181757745477,0.0284847031927392,0.088270628774434,0.07065693741595279,-0.037249827359700956,-0.08672014060800155,0.05488376121114966,0.0095408013666407,0.07958928719959332,-0.05872124061525119,-0.0025295982386527686,-0.002097650942154759,-0.06998107619643236,0.0867265301706134,0.004661287422490731,-0.03168595796307103,-0.016206902694042836,-0.028646396291459906,-0.04900957127923618,-0.016868968680690617,-0.07114085254071184,-0.02844824186128959,0.04282601139918074,0.034577205426197834,0.030415240923304224,-0.0711009890222869,0.05968966673174209,0.0394855439495154,0.015040276061236679,0.04357572133292233,-0.026032039225935322,0.035156714923321813,-0.06435506750583798,0.07161618638200892,-0.08201377781446435,0.06746701721297806,-0.0029727253125451376,-0.03976546239838034,-0.07932677327915519,-0.022916994208114272,0.028135515417522006,0.048124689220511954,-0.06751344654417642,-0.08340832732661085,0.03024842583961594,0.041609034886077687,-0.08454818559085181,0.002053080186472853,-0.04330646652245099,-0.07366137721477466,-0.03329054139037647,0.040557102158608506,0.06911329576158247,-0.04441352177922908,-0.0008656545731813053,-0.07259778304787808,0.06885130823998208,0.08112607216658092,-0.05615921821892603,-0.060788590902603086,0.060819371025645184,-0.0552167542324229,-0.03337170779679617,0.022101874516787204,-0.01499837681716777,0.0620296747760315,-0.011745887253010196,-0.07845629703223211,0.07522858722436308,-0.04091126014532744,-0.011842559403131584,0.009768920119827385,-0.001280965957404535,-0.0837010864450621,-0.029465499380251232,0.0876934371006838,0.0201228516490774,0.0042733225928711805,-0.07023231017259293,0.002340450736474173,-0.005110171469694556,-0.022353906472355373,0.07244077060605124,0.08411079764336757,0.06350125444127779,-0.01618885980411434,-0.03796112045651652,-0.08471223696856212,0.08110191745153318,0.07583585098801385,-0.003561799149897994,0.008140511478753339,-0.07275815498587981,-0.025261748272032907,-0.0886511892660897,0.0860765724611509,0.08465218676138858,0.012273726353272847,0.006193473019904324,-0.044334431578619604,0.08738714172095155,0.03962386882827086,0.007677580823799252,-0.0689826208525929,0.03578227287638248,-0.06328746482066745,0.0611639864929616,-0.06502431579061489,0.04761087501649363,-0.028189596774493307,-0.060806582485068525,-0.03360807634134916,0.04912735696474024,-0.08115002378052176,-0.059794665912488394,-0.05935137742306112,-0.054991222264034634,-0.04789311266961276,-0.055290869480619766,-0.07582232029943657,-0.07770372818725058,0.013525649772240276,0.05692437238517005,-0.029091765825647674,0.049100389601847545,-0.020903129293494534,-0.027856281401309687,-0.007741002793677833,0.01509388094836732,0.04223702017008253,-0.01362853168331859,-0.07908309558611497,-0.04818771269076198,-0.048377526768149416,-0.034570998924401554,0.08041608654100325,0.05253805929626507,0.0666292405224772,0.07640492235515882,-0.03065054535844005,-0.05953900181424052,-0.0767104502519442,0.015569466818394976,0.08894761562881418,-0.004535846919850328,-0.033404596860814074,0.012592825263099303,-0.06616494678026641,0.08156602748032706,-0.04899688464570142,0.0658861966473188,0.0853739330726155,-0.06431882884133437,0.04840877842780624,0.06646629883150616,-0.008186971686842615,-0.038987528787970106,-0.004890064387671298,-0.08392790867138888,0.0023940188707210824,0.023279178391734275,-0.02910282302815115,0.0822959652814156,-0.08889275668337167,0.0020986923607676593,-0.0854190277428753,-0.06730978238517574,-0.031126329879697906,-0.01362591351625564,-0.02551411867580188,-0.017766842120539226,0.05452401176052938,0.051610254063610174,0.03831507738358796,0.008105366346969567,-0.05707063394976253,0.006909088439784255,0.024660051631812195,-0.00804544020930074,0.031998479241953745,-0.02450754281207786,0.03179101486966521,-0.06446536672894958,0.048861012207986915,-0.013915070277499409,0.03603653790635359,0.024351070608550643,-0.023300147817848428,-0.018631944611929147,0.044727547836677276,-0.046672369221915644,-0.062235918530440595,0.014261857914678844,-0.008322590364514115,-0.009418948740553655,-0.0555587591778826,0.003445653162536011,-0.07458983261503942,0.005599764875242836,-0.0008586490158976751,-0.0016704882242290636,0.01776480061130133,-0.08417879554783357,0.008238941227222107,0.04603181010036471,-0.028790265041752285,0.03380780409962821,0.05799418649382235,0.08388819580169553,0.05792110651023733,0.08266851333857214,-0.007901363972992093,-0.00948685278256467,-0.026285962780450162,-0.07039416859974043,0.08833420002990701,-0.015217975808317713,-0.034441245268870116,0.030030222165193857,-0.009173787887689803,0.07540026852982332,-0.0634111273914437,0.0670019645681811,0.03303871088296124,0.05306777853551712,0.057037239492374964,0.033138653008900835,-0.030954037694495427,0.03554587446248003,-0.01591127051997752,0.029795002020564832,-0.017616164150325707,0.05489087456997213,-0.07885994647417024,0.0029447360567863646,-0.06709623422710619,0.007046880525715414,0.06291736073936133,0.023529055655031276,0.05400559374870659,0.06956139851920615,-0.049772180866398216,-0.0723563947150539,-0.01011531673645317,-0.008341984435425163,-0.0049150081359506,-0.060659106299566216,-0.05020782072454489,0.004310871996376127,-0.04824190805801454,-0.014720419325303276,0.017361844814320508,-0.008145545649476955,0.08001882176133032,-0.038327312938755166,0.0366048810186867,0.06699733542612024,-0.01331895289035503,-0.002051056023390714,-0.08904094958474111,-0.01674410595600377,-0.0039157774623807635,0.05510341203121578,0.07415632424438323,-0.013822280682720853,0.04275318468925619,0.0030178703388577363,0.07531486437388611,-0.07147516574726076,-0.027663987018591678,0.021196469654677436,0.08804242569129753,0.08122196220368863,-0.06352033174807764,0.029326812227261665,-0.06581593842619912,0.04732788075476589,-0.043330640333592775,-0.022577695511135067,0.08782545997751212,0.05477787077657427,-0.009406177336622239,-0.0039058754006183966,0.06341405979230055,-0.04748178616837788,-0.06517923298000353,0.0037648236747210295,-0.0342761982346262,-0.04988346853154503,-0.06475672126091825,-0.01365585754771414,-0.002959890292042784,0.06770599484925431,-0.08857024009066425,-0.05561119789926323,-0.0229116465912394,0.08542578928789386,-0.02584430997042219,-0.08310835658322518,-0.07989402493334051,0.04298223305150737]},{"id":"chunk-7db5cddc-105","content":"result_type=bool, ) @agent.system_prompt def add_user_name(ctx: RunContext[str]) -> str: # (2)! return f\"The user's name is {ctx.deps}.\" def foobar(x: bytes) -> None: pass result = agent.run_sync('Does their name start with \"A\"?', deps=User('Anne')) foobar(result.data) # (3)! The agent is defined as expecting an instance of User as deps. But here add_user_name is defined as taking a str as the dependency, not a User. Since the agent is defined as returning a bool, this will raise a type error since foobar expects bytes. Running mypy on this will give the following output: ➤ uv run mypy type_mistakes.py type_mistakes.py:18: error: Argument 1 to \"system_prompt\" of \"Agent\" has incompatible type \"Callable[[RunContext[str]], str]\"; expected \"Callable[[RunContext[User]], str]\" [arg-type] type_mistakes.py:28: error: Argument 1 to \"foobar\" has incompatible type \"bool\"; expected \"bytes\" [arg-type] Found 2 errors in 1 file (checked 1 source file) Running pyright would identify the same issues.","metadata":{"url":"https://ai.pydantic.dev","title":"PydanticAI","chunkIndex":105,"totalChunks":208},"embedding":[-0.05548044621904358,0.038603471145743744,-0.03485153855320656,0.0487808112359154,0.007473524087091964,-0.02995285566573774,-0.0074702652758256655,0.012409013880957115,-0.053364801991539326,-0.014635341274541478,-0.006902481097221061,0.079256287694389,0.018864695310916092,0.002114594913762401,0.0013367355767251795,0.06603695932489646,0.07989655169841958,0.016736087173859555,0.018026469284560278,0.06027857987922405,0.0015402848524710701,-0.06281406068744852,-0.0404441526105035,0.079028007494969,-0.0116866525449353,-0.004521201809723248,-0.06050514714662751,0.07274088994976398,-0.06370095378738058,0.00963973885668074,-0.02947119465733906,0.05959985694036564,0.016148384724436464,0.08316934089286838,-0.023032504920125665,-0.0803443612183877,0.060474328822655764,-0.0818904184196311,-0.0275307049102905,-0.08082233592315695,-0.03442190896392244,-0.033909063877993015,0.0016094927353955133,0.018107271200670075,-0.07449760823715021,0.06148003390357847,0.016279552988037394,0.0020256946623222506,0.014084033071271698,0.08046778392985018,-0.08563854944519385,0.07970186384663173,-0.06465799986573478,-0.048040672006916356,0.026122165042979602,0.08486658298209927,-0.04027487990801427,-0.058272921908957206,0.0839208981932431,0.005659990260423759,0.01468219031386237,-0.07944837440095648,-0.04461263888120915,-0.029926965189468878,0.06409779129377004,-0.0341416587342658,0.05494511145755497,0.05864788351437452,0.02220920464281439,-0.0409969595153211,-0.041640201230186503,-0.08562136883738365,-0.0628140593114103,0.06547926950175076,-0.008281258962765742,-0.019432732407857367,0.05216813600534249,-0.06670967598940751,-0.002306263689342406,0.06888869044188013,0.08448327307729757,-0.009087542225834057,-0.04156839695027627,-0.05487679410362895,0.04548231291314127,-0.04133634687295093,-0.02501422415678827,-0.060630593302314885,-0.07339312225669856,0.07749582421689508,0.06770233598154836,-0.05146700723568885,-0.02861849786182311,-0.05610395971877344,-0.008337883459559726,0.07196983810924928,0.07447820495817276,-0.030394930057589944,-0.07785724963324141,0.03616641226927883,-0.02109853433638199,0.048105694242497596,-0.04900538265384102,-0.08130767222674194,-0.06419782376426975,-0.03293504414741758,0.032786675785991065,0.07502437276446308,0.05271647608271177,-0.08008270125267777,-0.04288294433333112,0.04887750372459308,0.06034524997614876,-0.06958693364949638,0.0232466533270493,-0.0016958542632774351,-0.046573858429694914,0.02649614622155781,0.0398773998227233,0.025499858713478308,0.05038868328040333,0.005570712021822751,-0.06285779872178895,0.052921023972393136,-0.01657378607230349,-0.07884579637277955,-0.04285161779480093,-0.003461847277434552,-0.01854696741985214,-0.07106685362324199,0.026453912022573047,-0.06050593927617683,-0.05124772723513354,0.07912668203820399,-0.06224804108224827,0.05866244699612118,0.05859379574883677,-0.08503703523373454,0.05536279916869642,-0.016356377805011972,0.009249673826386013,0.033536035235929455,0.03080341475572693,-0.057308323719639134,0.08228402728476508,-0.027150273976358042,-0.06152890864165259,-0.029147926597567833,0.017735391856655167,-0.0074278479588082685,0.08537482293209811,0.029382956111937728,-0.0409306531396792,-0.03650068537942403,0.010466721847764994,0.05729316550832593,-0.060871628063340386,0.08449656538773168,-0.04513349465817538,-0.030097119288081755,-0.01844749106110888,0.07094336616980923,-0.048050525339194315,0.026474825715200927,0.00632073742988954,-0.054762682270573765,-0.037895396047868936,0.047618264147775445,-0.060745969895839864,0.06090248897392887,-0.03332736872256317,0.06448079300047034,-0.06161025500733982,0.050118721251135145,-0.008232522764198,0.026919942360085422,-0.007311039604384034,0.05874476623024933,-0.03733474524095564,-0.014905944646886772,-0.06277449633794584,0.0030359798255464223,-0.06376345669023903,-0.018368176743417747,0.07533201160018979,-0.03348079525306972,0.011438244845141877,-0.013392744265612105,-0.06960137447686356,0.0578587927519663,0.036995889571228076,-0.01725388465870613,-0.08271814362045533,0.006044914189844071,-0.051798201485141734,0.005074807491775557,-0.05263804870823458,-0.08440887099037447,0.04171330824511997,-0.08104129228352627,0.012752053637759109,0.07803094614867948,-0.08096017957399552,-0.007559670341290789,0.01825646157420369,0.03198016765128476,0.0827130564161054,-0.011964195631648243,-0.08467402180256084,-0.0846507364767412,0.06689319491058605,0.05639002874253488,-0.03866108027990268,0.07164543970234277,-0.015108321504787034,-0.032664807277710615,0.08129356380656479,-0.022236078462801546,0.05199103817681084,0.03738935903277942,0.05899821157087754,0.008620944999823233,-0.03910613131092047,0.07113336631999795,-0.040639530594204686,0.04483089179419934,-0.01725784426433732,0.06009286150265645,-0.08204602655578734,-0.0632993179591065,0.041374482691633345,0.004859173300686274,0.04670944145516294,-0.04558569330550967,0.06456483228174524,-0.05228290214251065,-0.0181332713781518,0.01651280824665483,-0.02594037199573965,0.0012420320267207204,0.009105115587802836,-0.059507855135200356,0.050360171864568995,-0.013117102050802526,-0.05511107514960061,0.08547239760617864,0.08146867342110004,0.056605168954555925,0.06038901380724176,-0.084484934147509,-0.07614294574426646,-0.08542350151180296,-0.0547665438186264,0.07895613075019171,0.07334254378361404,0.08280380843789366,0.059086411607607914,-0.04002077703651055,0.009527843669327104,0.04127380986114281,0.05742476215939187,0.0580409259883516,0.043037710627240884,-0.02082450566501918,-0.024522945987119255,-0.07907278192628725,-0.07643314863072777,-0.030207505436959728,-0.04064499657391535,0.04963886364537059,0.025333502717488996,0.04043680084726041,0.0454349907016098,-0.06023775142392943,-0.04714369307919453,0.0070164426165865885,-0.08114717696026977,0.004100153725333383,0.011756830005583366,0.031845507593130394,0.04123498011400029,0.03306043637284673,-0.002209693980795104,0.01685803459436033,-0.03688239513592821,0.02997218865070937,0.036080035692401626,-0.0762876441488069,-0.08300738895316097,-0.06411942996072933,-0.08272087890860062,-0.019487824207649544,-0.06765318606196952,0.07281894963501517,0.0027426405577776988,-0.017045748556658566,-0.08150375260958415,0.08125611207401913,-0.02395882448283816,-0.04203109959014945,0.0693174693668879,0.0776059800468821,0.038139151979499866,-0.06804430612523853,0.03199481664458347,-0.05316933433337799,-0.02648866783108604,0.033079815353877884,-0.0850170116144347,-0.03964588172159711,0.014493438940258528,0.02471025921788731,-0.05570450790374496,0.026708554880046816,0.06691834199068426,-0.08344288179153295,-0.06957627662788836,-0.028462334623332173,-0.07649689635678895,0.002653121103827251,0.07001494845102192,0.03049919698232323,0.04173683588377372,0.05610687609080109,-0.0747044991952596,0.06482458998529596,0.026743253133426004,0.050727841542819334,-0.02662634707149659,0.003274089539851765,-0.0012849087424576322,0.08264867210886,-0.0621648301691525,-0.024007207656416295,-0.06282711087567651,-0.07245002141611731,-0.02346712556966316,-0.007781450548030111,-0.016364163963426017,0.024643871402604746,0.0026527925201768644,0.08528870166796122,-0.057666733763031656,0.030995034896637214,0.0014954311552286418,0.08564210756871429,0.06812009924566567,-0.024551071686410218,-0.0022910662514811424,-0.009357936809616028,0.024703765889140715,0.03458466189622331,0.05020401544284424,-0.05373165034489709,0.05232096731980234,0.061848043562174285,-0.07861877145374628,-0.01475677684273485,-0.06237248532504077,0.027447565606992956,0.08128042032502564,0.028013978662181267,-0.041536947113069864,0.0013453096245303882,-0.012449228845506926,0.02965426208547323,-0.027586038113067445,0.014218633687714817,-0.01803484660744014,-0.05162356197573541,0.06815806427280773,-0.07112647324516236,0.03116082487049053,0.024961076305420733,-0.06172295191208147,-0.046088625521841536,0.016119290347537694,0.034533909106491525,-0.03871987354181196,0.0611540514889966,0.017667767286165315,0.02524398748466138,0.04862412124826702,0.04358119493591649]},{"id":"chunk-7db5cddc-106","content":"System Prompts System prompts might seem simple at first glance since they're just strings (or sequences of strings that are concatenated), but crafting the right system prompt is key to getting the model to behave as you want. Generally, system prompts fall into two categories: Static system prompts: These are known when writing the code and can be defined via the system_prompt parameter of the Agent constructor. Dynamic system prompts: These depend in some way on context that isn't known until runtime, and should be defined via functions decorated with @agent.system_prompt. You can add both to a single agent; they're appended in the order they're defined at runtime. Here's an example using both types of system prompts: system_prompts.pyfrom datetime import date from pydantic_ai import Agent, RunContext agent = Agent( 'openai:gpt-4o', deps_type=str, # (1)! system_prompt=\"Use the customer's name while replying to them.\", # (2)! ) @agent.system_prompt # (3)!","metadata":{"url":"https://ai.pydantic.dev","title":"PydanticAI","chunkIndex":106,"totalChunks":208},"embedding":[0.03671732550549664,-0.05235118738896494,-0.04027843324251986,-0.016170170381955444,0.08503574091725034,0.08655381500277062,0.023566913667015136,-0.019782381340355117,-0.08825829971144304,0.07503151320804649,0.006040950813146558,0.05269008733324436,-0.01780744244994025,-0.059468482650231115,-0.0163775471179732,-0.07183926194144696,0.03299756140620152,-0.052238539945127345,-0.033479086446146784,0.040646449921611885,-0.012277404973334812,0.0350987321295605,0.05039959174393117,-0.0494230761316757,0.08494279816497165,0.0041375916380248364,-0.07382113440810574,0.033039465508704305,0.06338638196022581,-0.054471278301788426,0.024612974437387247,-0.06730106878454536,0.06550858809497988,0.08622700172930362,-0.04139051239541129,-0.07949053174640758,0.04066747628037316,-0.0690899328162146,0.020477883620334737,-0.03447421102972802,-0.06417736526795666,0.010318401000177634,0.08442036940038991,0.005851562516822667,0.08828431563210896,0.03993262794365148,0.06054898228969415,-0.04722324637089279,0.006025874533409392,0.034480681792375185,-0.0846999005071725,-0.00186430980711429,0.011007273926539489,-0.0188541987742855,-0.000642766350181803,0.0006918001767778797,0.015075902566469873,0.07893842695901326,0.04852884398552748,-0.07843258510445435,0.06586123306913255,0.024532804262312555,-0.0680192075692086,-0.019872823233806708,-0.07509851835942925,-0.014587496326813942,0.08383803547366864,0.08006562638250049,-0.03997168921463695,-0.03388040760877208,-0.059769184378248096,0.06958338420883463,0.04110012813928443,0.00960659238535577,-0.019817915666646427,0.0038433128873078797,-0.021623230450951398,0.04518265289184054,-0.08100062324575706,0.061012729752998277,-0.07358061889434239,-0.022859100902145574,0.06538192501839198,0.08307019739328542,0.07376060969069473,-0.011745880776530522,-0.01658360983306589,-0.010095873168443828,-0.03098311916737849,0.04765396376860244,0.033289242349995564,0.061011095538513846,0.05570067775527216,0.010990309648682577,0.06669536620394804,0.03170713616576765,0.0030365215272038304,-0.06554331012473413,0.0009935948211132436,-0.04629297529929726,0.05946325885577523,0.017220137461263104,0.03559212273979565,0.016575198878852372,-0.05669497928034568,0.06811150449557495,0.04580536269473217,0.08431118578765397,0.012798983630479585,0.06940087012896134,-0.06772279597164062,-0.0664054728788656,-0.041734429280692154,-0.034726811820016926,0.006809461597689634,0.08249690045889169,-0.05924794349325524,0.05618030248889277,0.038117332683128356,0.024379132908481878,0.0628381229733873,0.003815332087030255,0.05050071023761039,0.04368915778678958,0.06432743115549204,-0.08251047271402583,0.0867666448462401,0.0591322813617591,0.06792498817032527,-0.01887731797112519,0.08554190542806214,0.014202937326370482,0.03316385206685195,-0.023028400159067475,0.06653885238357447,-0.044424267231119884,0.05032956933019661,0.006176129962344481,-0.06414196280549257,0.0846741664651063,0.07630788189177827,-0.058243869846685725,0.008541052628574578,0.08107069670795845,-0.07111883215754304,-0.06486576988713728,-0.04633393380925352,0.0429939410588056,0.02316348384801644,0.0703623228000942,-0.05863091079549763,-0.006030597584897192,0.0799389294831335,-0.060788700506837184,-0.043694719238309115,0.04112643689534176,0.06979721119780388,-0.0028262171981874376,-0.04773911230455267,0.08168989747187576,-0.05329525160983955,0.08142651511174283,0.009924622676654664,-0.012421352824278736,-0.036073416725933685,-0.02845216493675449,0.0033416955578554,0.04615400670660839,0.08803859846472362,-0.0778089684851416,0.08434528698082495,0.08062717818593637,-0.0725526236229699,-0.009393348580966429,0.026023406171122244,0.06916251451534688,-0.079779549121803,0.012910951621726861,-0.008584731813947463,-0.0017233663533461998,-0.015238770737409186,0.010125721328361478,0.05341815477633133,-0.017789098082435124,0.06187025778709417,0.009707132170603745,0.019420740225454557,0.015872983615027786,-0.026842855146666074,0.01261270174438733,-0.00958787411367713,0.009273008828419577,-0.0518244472552142,0.02305095085586885,-0.032964989875690354,0.06496590903929042,-0.045036325445972115,-0.03813346825419243,-0.01984672990751369,0.0388383377968187,-0.07267371520894533,0.05755455042504845,-0.03945875386029639,0.07707655823423312,0.06444540695325016,0.08136054431260742,0.06454092467781695,0.0655741451338074,0.04176574719133171,-0.04214388325397578,-0.03617137283308909,0.06711825326962399,-0.011416292346506315,-0.017157697251405066,0.058006588424466106,-0.02289227793941988,0.018849640245679724,0.01821534970177864,-0.023839862293284036,-0.03348626226999338,-0.015230408190322115,-0.016828033183528813,-0.003526016000971928,0.014571190748335591,0.03242521314771468,0.012923915927449287,0.056501743749251813,0.08584232492311163,-0.03046991800847131,-0.03388836645602004,0.03088471378852487,-0.0726574929639518,0.006041809834944801,0.07230150102033221,-0.023893501671139683,-0.07623140549388803,0.07582481439665888,-0.0821534095326181,-0.06495271694897117,-0.06158190309432152,0.0028219212829282453,-0.03184872264921402,0.006614243695195367,-0.07976631803867382,0.05722965084095886,-0.03642227079581381,0.037024988835697444,0.07857225857235037,-0.05814590592897185,0.05183760383690653,0.013417171072427011,0.07316988679925603,-0.05827230966166232,-0.02773367836205973,-0.060576661933033314,-0.07361099940495523,-0.064349796821514,-0.08759532346228947,0.007814814174321158,-0.06431797751277298,-0.0063391955641822735,0.06528438649465264,-0.07159374577845641,0.05422700863291048,0.04537247933157647,0.07304728446142485,-0.08721472074761098,0.008487082760906182,0.009143482653606498,0.004655906768159685,-0.06015718724718328,0.042332700858382845,-0.012151755871058805,-0.0039014170120430743,0.04001681367567218,-0.015340810234899947,0.020131417916469344,-0.06297981570531593,-0.08017256682646176,-0.026528859817891094,0.04849915685789747,-0.07494539217620795,0.015184231207766286,-0.029462539826676147,0.05238611119329497,-0.03247059037250094,0.03831242166650225,0.03614442747449591,-0.08646942809199563,0.06875608270009535,0.008503183107772259,-0.08263958368766228,-0.05841768198606712,-0.011445893978032721,0.025441507512394802,0.004034259596734802,0.02427242791289468,0.024351798488852532,-0.0625290950648703,-0.020209889270530256,-0.07987510393900443,0.060126710929502315,-0.06599026291773304,-0.03517929186593138,0.039524540032192745,-0.045754803363852126,0.05383327058194467,-0.034595079609621035,-0.0792404126860145,-0.06823003934686916,-0.07114867855589381,-0.016109031254859754,0.08805228696106948,-0.024589645184108232,0.0557850045355852,0.034794558965676806,-0.0520531207476255,-0.07279823912435228,0.0437335783004151,-0.0005028384469307311,0.008140136080967574,-0.03404843940804503,0.009452388262487593,-0.012187381546942981,0.04460112162358418,0.036159086582728914,0.019840974626571587,-0.01848031752804071,-0.0673598269948272,-0.030589044595601664,0.07770235014174226,0.02235285431455413,0.022662303120435514,0.01184383217319531,0.05937191207769459,-0.039190441295560485,0.06867114535222463,0.06577905399912316,-0.08797779693554224,0.030701762575776975,-0.06489337369113868,-0.05499994335831428,-0.034802653696875636,0.04678245621321476,-0.0671731366645127,0.060436455088289966,0.01573660624692094,0.07308431581968686,-0.013453846498610719,0.043544850329436745,-0.012787711748787369,0.048125563429001254,-0.033978414543320845,-0.07637832423588395,0.054412973126655655,-0.055512723609412964,0.08468374162964024,-0.08471750496485111,0.04190293816372276,0.06776714482787456,0.03842645447360645,-0.05572200960425589,0.03878521043627211,-0.0377821031271503,-0.037097673578803184,-0.017739109463303496,0.07546503238421315,-0.025145894812929424,0.06362783213022581,0.06382549661030744,-0.05977765803215094,-0.029534852307078942,0.008867235807417195,-0.01685085392117668,-0.05166191145345603,0.05070398680934267,0.017440670947216616,-0.03205185231721406,0.016710324894431826,0.04008995609161371,-0.029450378830208766,-0.07856473442466513,0.020740958357264597,-0.03161518260975138]},{"id":"chunk-7db5cddc-107","content":"def add_the_users_name(ctx: RunContext[str]) -> str: return f\"The user's name is {ctx.deps}.\" @agent.system_prompt def add_the_date() -> str: # (4)! return f'The date is {date.today()}.' result = agent.run_sync('What is the date?', deps='Frank') print(result.data) #> Hello Frank, the date today is 2032-01-02. The agent expects a string dependency. Static system prompt defined at agent creation time. Dynamic system prompt defined via a decorator with RunContext, this is called just after run_sync, not when the agent is created, so can benefit from runtime information like the dependencies used on that run. Another dynamic system prompt, system prompts don't have to have the RunContext parameter. (This example is complete, it can be run \"as is\") Reflection and self-correction Validation errors from both function tool parameter validation and structured result validation can be passed back to the model with a request to retry.","metadata":{"url":"https://ai.pydantic.dev","title":"PydanticAI","chunkIndex":107,"totalChunks":208},"embedding":[-0.07107681601559014,-0.0016634328907081338,0.06609758601920757,-0.05571295013002753,-0.06562910944925049,-0.05926308767704711,0.08314707749990732,-0.003967764094768442,0.07643437298465906,-0.06842607516437466,-0.06564780491222842,-0.026283681783314757,0.07579678547513227,-0.05543879092303199,0.020116893001366223,-0.0010530699634888328,0.04701310271784591,0.045834589923046495,0.07949836014437264,-0.020595273557766365,-0.07633494623650158,-0.06716446752848747,-0.08241811476229514,0.03708037211617876,-0.057451738969649564,-0.06993857065006269,-0.04926057213233258,0.04937317244422467,0.07464207822777442,-0.018163467109486596,-0.011729847955752971,-0.001124626733814959,-0.04720968456400926,-0.005022216965063406,0.0783368179358615,0.05330527006402935,0.07786973032114261,-0.03354363655654467,0.009594887666206774,0.009006077517546245,-0.07473446624993535,-0.05905441385516931,-0.006060711855738915,0.042164298302062544,0.01923423412654728,-0.05630621183029561,-0.05203524600695421,0.07042959322149775,-0.03776568300110713,0.04849593405746264,0.06455542258195512,-0.07527739080617057,0.04117704549919082,-0.06052984516262219,-0.07586546441789806,-0.07391468528264863,0.06534332340203301,0.03237190927613055,-0.04837630961390244,-0.05865777738005237,0.004314570337711245,-0.04185713002355217,0.023215203276109375,0.0796923412692661,-0.08256278165853614,0.03805353245983812,-0.07388079070858564,0.06049433921954869,-0.07191327922864134,0.05388557856846746,-0.009430591665967046,-0.06769467109363252,0.001979248074645638,-0.049656958391136784,0.0036924411965039167,-0.08165771332350932,-0.06864486416347014,-0.07296470147379734,-0.004446125021625014,-0.03318555377146452,0.06001561699472303,-0.05706419093466131,0.07798024873793699,0.051574224118755146,0.07460918354302302,-0.04066070228472593,0.00835037450030772,-0.0053841063143952915,0.07833361224143427,-0.050799319633185576,-0.07395839398117099,0.0323732634861153,0.024466281264264617,0.009074580814730506,0.06056526811954436,0.05687757335039282,0.0436749297040013,-0.07479553186157524,-0.020784309093602196,-0.055825416408473494,0.07411059829698505,-0.05176994180121697,0.05361892419559628,0.04540874928415187,0.07933065619016239,-0.03701482880808618,-0.05078988181479057,-0.058706758343444944,0.06002916244675303,0.02674747536289062,-0.03206739827766747,0.02837680612636708,-0.012150420002537552,0.0054361750011674105,-0.008468853687812746,-0.04098824154190766,0.08304203579958128,0.05469226238372986,-0.014822471183027397,0.027313762460606066,0.008132443517341449,-0.04327289621334164,0.06056672682648953,0.05589852361109317,0.0435869896645508,-0.07360927433176313,0.02547555401255371,-0.0029616849083931225,0.07240373573149311,0.05157662943593764,0.04609248471196373,0.06594354396513126,-0.06545230172355353,0.005616551082163185,-0.005491835981555619,0.0005777212014962167,-0.03743179181119682,-0.003234987613519367,0.06949805240288995,0.04888304398679128,0.0763155939765077,0.05665685733896114,-0.0598980616248308,0.03627252849188562,-0.0644673060866238,0.019881466539111457,-0.017712014939784852,-0.026106982216864475,-0.05657399076899565,0.06949395467012222,0.028478972427402702,0.061368093327287175,0.007141107234152697,0.06175698981763066,0.04726098345402302,-0.05002319523029699,-0.03991559872555988,-0.05080819460716968,-0.05540464992428572,-0.04474321992580651,-0.015426288000781822,-0.03150310074282431,-0.059709628142865755,-0.009680428338452137,0.007558512859974998,0.07580231553119501,-0.06250103264286233,-0.007137363160697732,0.03735551646336268,-0.08102144248107694,0.013148542653239646,0.003789525524006148,0.08274582609528526,0.055580002155593375,-0.05106281103302753,-0.0742717464275843,-0.08141933438438967,-0.06382330936729068,-0.019834457338057866,-0.021849915797887576,-0.046903451036572605,0.01823784086960594,-0.07799438156399469,0.05958805809605621,-0.035925914342172016,-0.0006525631810824789,-0.017602305369586416,0.0430838028304763,-0.014595917869231426,0.07244643873427613,0.0639028333198612,0.05973380085849974,-0.06188387625994366,-0.048246305148081356,-0.07065957731810943,-0.06810431181846327,-0.08299377100688186,-0.02895145379094884,0.0009809381805508954,0.002065934278962117,0.017924820694736093,0.04947601690670776,0.008203307098605297,0.08193537320983404,0.04351104976074856,0.03546162193282079,0.044007266685528075,-0.02575055886794017,-0.0785030664028428,-0.05892909862110984,-0.03932962779791583,-0.04736372434947603,0.050037175782242746,-0.07730359560319222,0.034441311500805476,0.0627442552392335,-0.06513048551999967,-0.02308746094916377,0.06117002705078438,0.08094765967629874,0.02597551701345579,0.06662752542861608,0.04496192198570883,-0.0316479830276569,0.0051357563065238185,0.08004810328247951,-0.048896957124729266,0.08027523535671678,0.034547538998660574,-0.07851534688064656,-0.0532292739011938,-0.02725713780136365,0.056831000604920946,-0.069053727678456,-0.04523976527504548,-0.03400171732330479,0.07001692410448822,-0.046153594024997226,-0.01000868881084488,0.049771423821676056,-0.05213062347676668,-0.08225087284116891,0.0011295275050750603,0.026411268734130345,-0.0006434673658018373,-0.03206587411727703,0.005745536211755894,-0.002465065129154117,-0.07308078180674724,-0.07068416163257976,-0.03131874361223726,-0.021679004974649356,0.07674922369555381,0.0469626829113625,-0.037959324526228244,-0.0572612931409858,-0.07721853823748227,-0.0606196042616695,0.08268043327891275,-0.0026530245609250537,-0.039312378883622844,-0.011223677761117198,0.05703116197419287,0.033385942762781354,-0.08288451865906522,0.052673081438342206,0.01596203747940422,-0.02540129150266345,-0.039704562446705394,0.021125144258278352,-0.012879115303976934,-0.06533648999086518,-0.05459894135403842,-0.008559123761260517,0.008981839113889625,0.000811415168800529,-0.017244550526937595,-0.07717021168049418,-0.0187510126045747,0.025947164055751044,0.010842691503335557,-0.0827076405168921,0.04594922747041378,0.0742203737344051,-0.07702615207698987,0.06513147433637603,0.0523786824194139,0.03229663971202607,0.07724782038869296,0.03609070558104722,-0.07191117095579695,0.030693756995598273,-0.027944365244186534,-0.006124541358801153,0.05659626289441139,0.0015880630492078453,-0.03749903782759922,0.05044924159605421,-0.05875801116564834,-0.029215318980223556,-0.0007990765475748115,-0.029294884776326566,-0.01642901514121083,-0.033902746762983514,-0.010255679287569371,-0.07051358084244032,-0.054239142360395454,-0.04528689281841809,-0.07772616622292035,0.05253433383094934,0.055381133161004445,0.00045780200155560763,-0.004768313450629238,0.015294787886593931,0.02773811481558342,-0.0510568675528126,0.024434517788196757,0.04273600263216465,0.009850041363924521,-0.032248289791823724,-0.06902882354808511,0.04043538733603146,-0.03270381602273672,0.07047877108575576,-0.06505572993054548,0.01858757005787922,-0.06742425064732786,-0.0006444665009923467,0.0005965412379662818,0.07409122652145128,-0.007966260799664657,0.02901166382270605,-0.07819243898123139,0.0827942388779461,-0.06642088778788172,0.00764658365922434,0.013812821378837634,0.07048369575930291,-0.020099695189670252,0.04294097698062301,0.07291308089415872,-0.05639712880142505,0.0655789167841931,0.044482046097672735,-0.0471879706629463,0.018183075993794394,0.0652309264300579,-0.039971614449005224,0.019248318519596623,-0.027498690018367807,0.07159658310222691,0.01645142457760485,0.036567003707456885,0.056919865104003625,-0.009445632027858404,0.049648276911390336,-0.048388035468929134,0.06875316862249047,0.07047478039392646,-0.05326994333166389,-0.07047968496641392,0.07656132228090859,-0.04222587845456246,0.04895629020515996,0.06910746116752686,-0.05900654942000778,0.0719102110732569,-0.06934625624590125,0.016782733266572647,-0.0683393364059304,-0.012400267112058591,-0.013328397400496336,0.004018595063535893,-0.059311483855332574,-0.007443879814291692,0.02584883150433752,0.04064809249275217,-0.06325755072699736,0.01302819243192154,-0.07774117574491528,0.054749904444727694,0.0005324810284467191,0.08066775686427587,-0.06640114465657442]},{"id":"chunk-7db5cddc-108","content":"You can also raise ModelRetry from within a tool or result validator function to tell the model it should retry generating a response. The default retry count is 1 but can be altered for the entire agent, a specific tool, or a result validator. You can access the current retry count from within a tool or result validator via ctx.retry.","metadata":{"url":"https://ai.pydantic.dev","title":"PydanticAI","chunkIndex":108,"totalChunks":208},"embedding":[0.018348536727628244,-0.020987984414939608,0.08000815915304378,0.05583165609420654,-0.03847074402592112,-0.027423628029400616,-0.009282503390362741,-0.05863536675061717,0.05552168360084605,0.015029852651973876,-0.06261896121059805,-0.03592535155485807,-0.01754130904481339,0.08862448969577606,-0.0027671172783370816,-0.056217960796021635,-0.0042808343568541485,-0.048381870832003356,-0.0811003586710345,-0.0008751433500256408,-0.06877427525148676,-0.007085938810039039,-0.018293941175718528,-0.01371109496192591,0.04654176537895631,0.04587402369408606,-0.07481264220890632,0.01572524035452785,-0.03639876489163796,-0.0838728652436898,0.02943870862176923,0.03877418136778967,-0.03439934140333732,0.016770555612208773,0.02913281459089089,0.0073292108014899925,0.028310138105155903,-0.04951364713266454,-0.012895836673674095,-0.0809698316977528,0.08339981103559813,0.018752339981842916,0.05707429868014593,-0.011127885473653482,-0.05077074822072401,0.03569823723055605,0.06314958172655633,-0.08972578577971141,-0.0002148685980914595,-0.06981580282875585,0.03291816730797507,0.0726645884371802,-0.035789411952005,-0.04947030558015409,0.0848037255839932,0.08987287094844927,-0.08053753963953729,-0.03823929918147311,0.05624648778801214,0.013621237603233638,-0.05209894975771765,0.08218294014313812,0.05355962969072329,0.06102510391397766,-0.07910716028811943,0.07620296438216247,0.008652172318888844,-0.043724027697718486,-0.04657096239076303,0.07509634846784069,0.08133195053266941,0.008000227688296056,0.020191907968684066,-0.08747492287979965,-0.0356051937178161,0.016759937276766747,-0.08978122107493056,0.07694645607734903,-0.009088694012805387,0.005223440917515703,-0.06885082773413165,-0.017018665065850293,0.017271506875009703,0.04358001839058151,0.03192724677357096,-0.056575769932017156,-0.044877286369442826,-0.006769450880114828,-0.037101194186266256,0.0365401455030286,0.0841242984025155,-0.001348833584129674,0.013683199420311017,-0.010528019403702323,0.057558392901289494,-0.05389856117593792,0.0029210600305465983,0.059666283792162544,0.05052241668981736,0.026651925791158992,0.058643503874511366,-0.09037206555747167,0.00842434198241301,0.05966312838517013,-0.06255730168873516,0.06677476441527827,0.022294443325655236,-0.03302158406220117,-0.048271340960250084,-0.016596452383348212,-0.04405818487732759,-0.012899461421543705,0.0057140625290907935,0.04880457202854487,0.07585050384214478,0.07669006398533623,-0.08471315990061615,-0.009243031737983506,-0.04627780421951768,0.0008392844765060091,0.03177863296711006,-0.03970269260091029,-0.06798122427521051,-0.06712274385632962,-0.054861968200554966,0.039444825807636266,0.005950013248433418,-0.052465753408090135,-0.035465370997001144,0.027727951756713852,-0.0021704315453775474,-0.005724270634966936,0.053057864746574465,-0.028443864427170597,-0.04252228060052169,-0.03583988745121926,0.013257157769871075,-0.024818684539633647,0.060774024368291,-0.08627427040119948,-0.01613224706558117,-0.01697804464971351,0.025043254604472834,-0.036831052454428255,0.03694516212276146,-0.07677470611479956,0.026128938557273364,0.08160972199397329,-0.027372636635332008,-0.08535748651100043,0.007783000799838575,0.07152048306098241,0.014025739153115583,0.07336123487784928,0.010911023854419801,0.08873428497076431,0.026836248107946475,-0.03821058538895308,0.07967443801138026,0.03519096307584337,0.014767557611547246,-0.02024483517057497,0.004172969329576484,-0.011591547352396458,-0.04122102901745655,0.021025610148332697,0.034632390820038834,-0.01970168163094666,0.07883586971096992,-0.06088177619110661,-0.055193457806716986,-0.016385619547073012,0.06056618028403401,-0.0828124198499873,0.013911504072985135,-0.004986927549777146,0.03230194401867258,0.011752986970899092,0.04081820819280961,-0.006946151505695946,0.008545193119409603,0.07384222800849873,0.03853749029044229,-0.03437702207652998,0.08133235795571143,0.08522171115386463,0.017958579893754545,0.08806772857212185,0.0340376108583574,-0.0065254283851330286,-0.08011985116496699,0.0793407164171607,0.06183741951504985,-0.003099967188355657,0.011561078195983579,0.0051970265533516115,-0.08284426643321341,-0.018779996729591325,-0.0009032845990461312,0.09015894655482226,0.02104238737170961,-0.010341754732227336,0.08276450153078757,0.058982605738778074,-0.039192638317963255,0.07041549907859992,-0.05860111585431099,-0.023307558672903617,0.04353711311313956,0.0705451473978713,-0.06179771325391182,-0.024365330483883348,-0.021227899194010552,0.043968480872064654,0.0063778981292201015,-0.038289301091186466,-0.04336150944060619,-0.01868401409230817,0.013004548687174187,-0.0017220444590884912,0.07502669272559381,-0.03377428178227879,-0.031955852020655845,-0.09020006838784654,0.009586835271898884,-0.0710673438818014,-0.013340940975895976,-0.08911546438339443,-0.07317307888109158,0.0071903326566983925,0.03891168077390969,0.046973046513260855,0.04844724497501832,-0.06974466145249143,0.04319666811776122,0.05291353488638768,0.03258397892554259,-0.039283308493189964,0.03498858348289021,-0.05865955554139163,0.013443442975442515,0.06616534350317985,-0.07286208456587442,0.001298705691741386,-0.00758242812423512,-0.054066505243398615,0.07508167287317356,-0.03824116305409771,-0.06135566948781296,-0.08924461069309253,-0.047147445025542176,-0.037254110455123356,-0.08555008169038275,-0.07961336081721954,0.006225422789273846,-0.0719248582242875,0.01525028286428192,-0.008086196901422557,0.0011702052950943783,0.05372387549571856,0.013415260493285008,0.046838171042061824,0.004693342358232566,0.006734827221002489,-0.00644106942244393,0.0060317236027557525,-0.08388046314858626,0.08191775569336934,0.026419810949433215,0.08861879806493661,0.08175590734590185,-0.07948602857460606,0.05683794194579115,-0.06707422607176218,-0.08337398458410988,0.028294828964578713,0.07852489596545449,0.08627883496064614,0.025824363780713833,0.002563307882579221,0.07440750164635554,-0.003911181346386309,0.0792491303445938,0.053168937414877805,-0.06860446250802982,-0.03631692354804251,-0.01722632214532254,0.013017081960608351,-0.05511608849265121,0.0059254048422285,0.04659030654942924,-0.08069963855351091,-0.047291041540047714,0.05365276602460027,0.044882154882211735,-0.05654600115044481,-0.07626114075316262,-0.07489663968366482,0.059470803125352176,0.027846477986036223,0.015571204647102809,-0.036402013808346956,-0.07943515334544514,0.06969679719450185,0.04883341044225784,-0.05940787489188497,-0.0014918666534628913,0.022876372500157127,-0.037970228112682955,-0.05967714370424777,0.062171975539588836,-0.027765244177607413,0.06907689814331407,0.015108150994471993,-0.04261753877730778,-0.015473073338889086,-0.0778169278556414,0.046594945076997296,0.022773197510699707,0.039354798605444656,-0.05852140691229025,0.09031657162833223,0.040513171775926185,-0.07129720055099072,0.015004086454128382,-0.0690019043914728,-0.035618088399457966,-0.029114329736139356,0.023445597150590594,0.03330220651561562,-0.008062304184261676,-0.04578943597032839,0.0631670610211948,-0.017137221359697023,-0.01273872189375947,-0.07342689766681343,0.007590523256812086,-0.033802366147949875,0.04272942584637847,-0.08446649056754804,0.06164653260013455,0.07743467557615498,-0.08111780048245436,-0.07766059259781752,-0.012098682697955535,-0.04148050564401662,-0.06317883517732156,0.000720648507324563,0.061974446334840234,0.032429645986783426,0.003921791497547326,0.04902273165099628,-0.026526498911621798,-0.05978045268545592,0.04059060388192959,-0.051437830968392856,-0.03338497364103885,0.07529322151464136,-0.0291939012173625,-0.08804575587530347,0.05962615123606996,-0.010370557278000228,0.005195655551278378,0.0873519343512974,-0.0027548423353291962,-0.0669902239844115,0.07914864933050403,0.012890033494633867,0.044093778374603536,-0.04472022597029859,0.05315240626817782,0.048455525245115386,-0.0817849556001656,-0.08914636947335318,-0.03834059410223341,0.015676540996372883,-0.011075980246522626,0.05176582194029092,0.06804288273621362,-0.021302465710763652,-0.07293210785015757,0.020334252017137434,-0.04753675588007647,0.056501484700207494]},{"id":"chunk-7db5cddc-109","content":"Here's an example: tool_retry.pyfrom pydantic import BaseModel from pydantic_ai import Agent, RunContext, ModelRetry from fake_database import DatabaseConn class ChatResult(BaseModel): user_id: int message: str agent = Agent( 'openai:gpt-4o', deps_type=DatabaseConn, result_type=ChatResult, ) @agent.tool(retries=2) def get_user_by_name(ctx: RunContext[DatabaseConn], name: str) -> int: \"\"\"Get a user's ID from their full name.\"\"\" print(name) #> John #> John Doe user_id = ctx.deps.users.get(name=name) if user_id is None: raise ModelRetry( f'No user found with name {name!r}, remember to provide their full name' ) return user_id result = agent.run_sync( 'Send a message to John Doe asking for coffee next week', deps=DatabaseConn() ) print(result.data) \"\"\" user_id=123 message='Hello John, would you be free for coffee sometime next week?","metadata":{"url":"https://ai.pydantic.dev","title":"PydanticAI","chunkIndex":109,"totalChunks":208},"embedding":[-0.05722277215250644,0.03472000949137704,0.012881475459992325,-0.07779175412444081,0.0069460658248105085,0.0073030467719853555,-0.022664687781848922,-0.051391157794967744,0.06893388590083559,0.0015131748693098974,-0.057331453176525236,0.07614717907082674,0.01893384642302312,0.0424635563656118,-0.035710650385780744,-0.03230755598019255,-0.054764851000108083,0.054118800528589334,0.028331489559531405,-0.09068827158501179,-0.03645902467742458,-0.06582431105246618,0.026999122354556447,0.00879226827105031,-0.008473327149108105,0.06606823845164794,-0.02677151008447935,-0.07609401286604674,-0.014895638269595383,0.07638825167791602,0.01945770111446141,0.03739756905568124,0.034806281526922736,0.039251529852315184,-0.051272954565357194,-0.07004280208225504,0.035498687571569404,0.08668305039787608,0.04090015434316621,0.06708335013590286,0.016187244042686528,0.011181248436587044,0.08788090307010646,0.010795352721136093,-0.037567980884167865,0.04077075430086648,-0.036420981928711745,-0.00931328727463851,-0.06077042974871525,-0.0161681469448095,0.00044705169065736497,0.01812516336842647,0.07330323160023067,-0.014723027525855093,0.04031352788195336,0.007796297895084495,0.010043179897041987,0.05219135882154884,0.0038479998936941573,-0.053338691901490584,0.013961841399054426,-0.06450566924378531,0.017395326225904985,0.028942572301281666,-0.06344703374526525,-0.016269389043481765,0.08875754452450563,-0.0005943148083937624,-0.058847259281131645,0.0897295654131765,0.0729902471160095,0.08638036627627724,0.06549638998357606,-0.04960151390170919,0.01775693722295881,-0.06886537019925432,0.013292756862428536,-0.03668452633022332,-0.0779161526170233,0.01145982102093098,-0.08111525514292582,-0.06678254360364012,0.0718399588940354,-0.06300572368940126,0.05172535169056092,-0.029665799106848818,-0.03577207412062828,0.08338582565142867,0.001449192403062395,0.05156896950680672,-0.07063877520437432,0.05605981292167641,-0.009046356679276966,0.048558693704552375,-0.0005745747976433083,0.017340185202813548,0.06981339658638723,0.030849402484896912,-0.013223246590092611,0.04866471009897846,0.0738424192790571,0.06056582317678308,0.013229682463563866,0.09088886154143908,0.0656131738973366,-0.047103366877645096,-0.0406474955173315,-0.009040120544313648,0.02684378426200965,-0.031422970791599975,-0.05134562182332772,-0.010865597468354013,0.06236747893016912,-0.06401743529945704,0.04994516025848634,-0.026179743107306495,-0.013849820528282918,0.07936869171081377,0.02895898157065988,-0.052432910809674375,-0.04107772257428361,-0.044989728545353165,0.001379816796060214,-0.0860216863841626,0.019172453719910842,-0.018052257712062977,-0.06282590185631101,0.02995769601695057,-0.051668125814337176,0.08721489794612182,-0.09054222127846151,0.0433667500597794,0.06107031380252735,0.05936054830083307,0.08246367383823834,-0.06617077622684152,-0.01297230979076473,0.029580373161749444,-0.021739904451525068,-0.05938791659175339,0.04837813670639782,-0.0488832206194334,-0.0316804543195493,0.026913687551934816,0.03489524194261897,0.0645068321283869,-0.017313936885650753,0.02920859099807974,-0.07997358974111363,-0.06624654454870572,0.04439811074638391,-0.023053132173452954,0.04392328391867851,0.06151445360503042,-0.03075073782087672,-0.014210647423017092,0.0010517780670782806,-0.028904459486380586,0.07911784605946363,-0.05999988746459742,-0.07498548822724335,-0.07655430062335497,0.06314766143747678,-0.08998032487251395,0.04906589174267453,0.004308178715908256,-0.0015921217938239037,0.004390243970472154,-0.01757976526133305,0.058411148149220965,-0.0011663896981084557,-0.02705752890187791,0.06143112007965958,-0.0015268902786661855,-0.06774980180724174,0.08161145134156342,-0.03949674721709716,0.05627834488428025,0.049608418073852495,-0.014761800817211526,-0.06565119505913654,-0.06318079511635331,-0.05922393361471244,-0.03599187100681095,-0.0010831684068672179,-0.0771687969570613,-0.010493062410165252,-0.047419606154007414,0.08133908813205548,0.060764685915543494,0.08428059680148355,-0.06385569469812909,-0.05721658990266423,0.06927352464757669,-0.08294340423834554,-0.013547996022950435,-0.02093345038439058,0.07170996566453039,-0.03228936577748625,-0.0027067217294967434,-0.05140144699966513,0.015594826759421747,-0.028309959878412214,-0.024985834126740696,0.060203433422833644,0.03406021841486786,-0.051456667385493565,0.005375595795831405,-0.08463342472105874,-0.08069286873048276,0.08881325445249215,-0.07768281126456833,0.00029825805946565265,-0.011977758241569058,0.07300522376108076,-0.06158071348393052,0.01912545317706987,0.06836209759107277,0.04137459534111876,0.025199202019484102,0.0643469202078723,0.03434463989540256,0.00314458993014657,0.026134736228849643,0.021799608958801793,-0.037980098138543285,0.0724887514153131,0.08159396669798863,-0.08864235624271412,-0.05895664530664491,0.055062509929146845,0.01757473882233882,0.03745812105547731,0.04592112071710886,-0.055533474955877855,-0.013656370287551603,-0.04592756418554199,0.005162276422720302,-0.05082693160430107,0.018845412462009433,0.005316629799296489,-0.009730164725846027,-0.05675889204153775,0.031678250360835394,-0.08551531722917066,0.07168911188581226,0.08428411807593855,0.0689920687368787,0.02442862504067505,0.05350605296150407,0.058924793063601794,0.056649892805660636,-0.08326543893482573,0.05365896491626959,0.0846703416169666,0.03497383109008744,0.08266029638940951,-0.040216824208657166,-0.02429922599075919,-0.08306147986707232,-0.004808267271433185,-0.06611169827617398,0.0638310396096917,0.06483749299879032,0.009597115436311678,-0.014526359511511253,-0.06637369073969616,0.0543973661078609,0.07467724556224366,-0.06682232587161031,0.01317775617416506,-0.07642079315762948,-0.04250305719810546,0.0009603157953211898,-0.011989356778527393,0.050107424309424095,-0.09074989379787435,0.016390379877736744,-0.08291616707577878,-0.009132270770891236,-0.043887416621543156,-0.06724348888510304,-0.03308312809328791,0.07331907321997085,-0.0680815047424047,-0.009757692170826124,0.07707772288875658,-0.0847731175841373,0.08998057644794538,-0.040443789034594724,0.04597144239265826,0.03024571744060813,-0.0038618708385478265,-0.012067905191780436,0.04063225320146314,0.06855671823181142,0.048211237409236864,0.03357869316789023,-0.01994658532777576,-0.01768327976852089,0.057540636995063586,-0.01928735520071635,0.06832667535610647,0.08084573980793316,-0.01834122612365457,-0.040338741233126564,0.008560019162253013,0.02743418824748508,-0.02135982053315158,0.08333028215746462,0.013528179268012556,0.068079551091848,-0.08159632609775805,0.04196021297598131,-0.0519766090963694,0.029313205145327648,-0.05456634560393581,-0.08390919779962534,-0.02475620816349197,0.06025559293316235,0.06628079962206135,-0.03157966237848244,-0.007775264275816666,-0.057237668230066006,-0.0487031809756979,0.04345261902960104,-0.02179585964470477,-0.032969193080911854,-0.06825310066281895,0.06290782876784923,0.005067066919714538,0.019894851737079094,-0.061134116472468934,0.04476749975037722,0.031268498905286005,0.030841137534320325,-0.02790765317966374,0.025484128573129223,0.08555806066625127,0.04565158940746491,-0.05902929816363686,0.03084153890216085,-0.04896151549663528,-0.0499630033292835,-0.06513648207711978,0.0576999535470718,-0.015309231494189106,0.0568596123878144,-0.02933388643631629,-0.03510055438066006,0.06643963908986444,-0.07833641810514437,-0.028172242677957024,-0.04409227574293152,0.05167942293445916,0.06541029453910176,-0.07590780826645334,-0.06557672315018384,0.06203682522866409,0.028724333043128072,0.046997479642765676,0.04567168817755554,0.021952102110071935,0.058103402239848445,-0.03131176149533672,0.07994994277923052,-0.02190694826965277,0.017059907519716096,-0.057808770662314574,-0.016865212894361468,-0.009160950049534199,0.06252965542263328,-0.004259611030475133,0.01778177612688263,0.09065928964979693,-0.009685559021794958,0.015989243035665446,-0.03470654298082748,0.032714125472466854,0.06103274827112312,-0.050778679340556306,-0.00926594295067255,0.021862215809898215,-0.0076700386964686845]},{"id":"chunk-7db5cddc-110","content":"Let me know what works for you!' \"\"\" Model errors If models behave unexpectedly (e.g., the retry limit is exceeded, or their API returns 503), agent runs will raise UnexpectedModelBehavior. In these cases, capture_run_messages can be used to access the messages exchanged during the run to help diagnose the issue. agent_model_errors.pyfrom pydantic_ai import Agent, ModelRetry, UnexpectedModelBehavior, capture_run_messages agent = Agent('openai:gpt-4o') @agent.tool_plain def calc_volume(size: int) -> int: # (1)! if size == 42: return size**3 else: raise ModelRetry('Please try again.') with capture_run_messages() as messages: # (2)!","metadata":{"url":"https://ai.pydantic.dev","title":"PydanticAI","chunkIndex":110,"totalChunks":208},"embedding":[0.0645792936117598,-0.044234375525331486,0.012249018689649019,-0.004465717364694295,0.04417646028871964,0.07354668118046392,-0.037957558782456345,-0.06209364596598823,-0.013787602218075748,-0.0017938310649778244,0.04488795226897361,0.03361683649757612,0.018955968483585148,-0.06138680967717473,0.006149190950757429,0.05929872757111551,0.016630586242653553,0.023046034520292306,-0.05908600374749144,-0.06617882891117743,-0.08486619976890031,0.04315520934693558,-0.04816857389784128,0.07842000470442338,-0.07141287286313024,0.07603010680780588,0.06366644870239913,-0.04916938339579668,0.050478030430360664,0.0740796595693712,-0.04264137887469546,-0.04475561970594938,-0.05577403187111819,-0.07091217755499593,-0.03180475478544483,-0.08175156911555408,0.08170049659553254,-0.029865749309253717,-0.06372124910307382,0.056916881532374224,0.01708208770625432,0.07514144708769509,-0.029547241892895554,0.042729986204465574,-0.007867100688750003,-0.05293508193259972,0.05693930636306004,0.06864731376130373,-0.07059644349090964,0.08101300801436719,0.07458382091376498,0.006385497142384186,0.06139119797860241,-0.04186237604999948,-0.03956208338764658,-0.05115187766588643,-0.007001885367986409,-0.012728168975661919,0.009473062165862179,0.061692057935558764,-0.01634114364629122,0.01994403557717006,-0.048272734273927705,0.04978989522915499,0.006356379016808086,-0.041392812762907426,-0.07405220157038678,-0.031104344854388098,0.03221496990616883,-0.07406991093061825,-0.024417516287108483,0.007539612088375106,0.018072142365099794,-0.0006337784872402239,-0.04127670663048169,0.08426044954602065,0.06257651349464899,-0.024131063300672956,-0.08079698629393763,-0.00999824585365468,0.07704803068740544,0.023635919979434615,0.04530634710283813,-0.07710557123052182,-0.0258948365846817,0.04721410370163511,-0.02212199824465452,-0.04623360697483051,-0.061732343501879755,-0.005165009030849246,-0.019344744845383757,-0.05976274014475673,0.04466976044270495,-0.03762483862913834,0.027213745097829742,0.08547526633304985,-0.01888419872248799,-0.08278342003040641,-0.012459768167350917,-0.05750473970305304,-0.059775558655154375,-0.028482046874838067,0.012988919839557434,-0.04903728081582987,-0.022656843214018774,-0.06195394579920007,0.028479852044037447,-0.011022612208326147,0.07565918491690674,0.04148066626190467,0.059919758196963734,-0.014874370280109421,0.08322417338859701,-0.022645144288767446,0.008796874671514505,0.00812626325123316,-0.03286239379929161,-0.08222764648367666,-0.05747216506122,0.037765618603108904,0.0661368102761688,-0.06064393834790042,0.07273581098212246,-0.048894260433605036,0.07713389512552105,0.01516453956504095,-0.05213476784423475,0.040526791499135274,0.039724128899836425,0.019743181623467818,0.011962584092149028,0.056570354814510636,0.079294856502644,-0.08764971331567653,-0.04713609901007488,-0.034170339253857616,0.04280887213443752,0.08206785417739978,-0.0009734567674976368,-0.010055770193131608,-0.08631523649176376,0.050469137978027816,-0.04503917239836676,0.02430799888469451,0.04240464214047729,0.06369609999273411,0.0068365015971459065,0.07733907046269606,0.0018630771794580416,-0.035131837407019126,-0.00018927760160550593,-0.07375112101636272,-0.06419139979964554,-0.07108821735265715,-0.00022033621021366184,-0.041614168451982556,-0.08790007911284087,0.05243423898735667,-0.022798657225104994,-0.05632184929321937,0.07415189925030877,0.014585973593768316,-0.08180913000157233,-0.003864923499104272,-0.051667030972469656,-0.012444468645004196,0.06936112113184496,-0.015226030079781686,-0.08592542560228417,-0.0500969988619214,-0.004817772598619534,0.04454404981296552,0.02988150479179882,-0.004310532211836315,0.08222077533162458,0.0029769505701349977,0.05812536428071962,0.04604261287557036,-0.03461416320370872,-0.03210334706310342,-0.06776760295495445,-0.08426213515396228,-0.008799220385880447,0.06767652199622633,0.0274483167723008,-0.00013832565700384606,0.04708103809348537,0.026265807852031264,-0.05207949977890164,0.08052028967939301,-0.01884142506558468,0.08022737530677086,0.06155564824063531,-0.0675372349069682,0.04971007524565534,0.036303095037234744,-0.06724690324466928,-0.030875780974488946,-0.07503994459389049,0.07550662954574933,0.06020050074881136,-0.02687644621296539,0.05008181492272393,-0.01689841351924815,-0.017462141223414652,-0.058021753155618735,0.07282052181844657,-0.03816726569601203,0.05794732764731134,-0.06698246439102647,0.08303495079028306,-0.08112090631811797,-0.04679007409263515,0.01062753819733628,0.005099439044885335,-0.0748585143218209,-0.061602487806348964,-0.021820217348109145,0.020468561807779312,-0.022068885388479474,0.05072601604672626,0.031305434385172734,0.010140424958183805,-0.05317250102672602,0.07692691003059866,0.005410396949622617,0.004741533199445256,-0.044524318546425135,-0.04241663464352808,-0.05924246556355724,-0.08481772431262795,-0.04193987019514223,0.015963220781530486,0.01630369961882276,-0.07389597369627315,-0.04533070244731145,-0.016828666576866557,0.028386125255027723,0.006546785755812814,-0.039554735385399824,0.056912978918632146,-0.022767064086876374,0.015065177966968237,-0.009843235357816359,0.0023282667629823247,-0.08331100937220653,0.04115047723155101,-0.06010356434246758,0.046862568347902166,0.0631997302382012,0.060240881117888063,-0.06284689786893198,0.03266465695303576,-0.05619024130123243,-0.06761023004212918,-0.063078338036287,0.02664419670847249,0.024478201100112233,-0.026953761510399233,0.027982655566405553,-0.0630279906856017,-0.02949399969745414,0.014048597970646243,-0.011485217170126889,0.05514957910402935,0.03669527585923005,0.07914832964809423,0.08092846545409638,-0.047747152995772785,0.004317181452314929,0.04048008263253824,0.0010082607511003058,0.05029495622247709,0.04868983075875563,-0.07835754541584142,0.007091343069652863,0.07233372545616837,0.042960448776734876,0.009573597452209186,0.05134345519489806,-0.05089943162914953,0.0847246937531866,0.054037087243614196,0.05078666878734173,-0.056816614413299896,-0.053782993309076876,-0.08335754978476703,0.06703902524790546,-0.07584638670257522,0.06022246662979443,-0.058223599550812695,-0.016870542497434065,0.08863910140581835,0.030636745761383217,0.06744498368056391,-0.07577942990811952,0.04327284525108282,0.01029246385103773,-0.030551106175707186,0.04480037658211299,-0.033529114833126816,-0.00381472558144503,0.07204069469284444,-0.012253426598756998,0.019701086837168338,-0.02387598315769506,0.07259925040314871,0.041687322502081944,0.06927801124381235,0.052964003842227346,-0.013208631756419493,0.015452049726576728,-0.07763169482106355,-0.07890771087223376,-0.07866900343363725,0.018607732555438475,-0.05912200607779066,-0.03386581214061614,0.07347793576294372,0.005237787620021631,-0.05733051066570948,-0.02322052329804644,0.04399502219686448,0.010111031699110958,-0.03585564312572675,-0.06642267354915286,0.02027210247334444,-0.051695494960607505,-0.06260680016333486,0.04692181784122744,-0.012619628117125114,-0.040053834702504634,0.011241894203037561,0.04741388193530353,-0.07901175526159675,-0.07353357234187569,-0.07044529798321827,0.03000745777287585,-0.07412133440402247,-0.07501125745710667,0.08269448115897655,-0.054878485838694216,0.013171672676090504,0.0708102415055443,-0.03974504317929473,-0.06967485461881777,-0.058279541909338824,-0.02767066292133893,0.0030789181018497074,-0.0013473326296423354,0.02805157732323876,-0.03345929782471153,-0.08691952466643897,0.07080437415172192,0.08078557606043323,-0.07094735630949699,-0.003972219023688925,-0.05797322437768133,0.0032625243794344298,0.0002475695104327466,-0.024338676722097375,0.04670792553539749,0.022341328175138103,-0.03791930246681976,-0.014328570805220315,-0.010602989397352292,0.01955405436497122,0.004215778520984406,0.03325541549007378,-0.05971985224882327,0.0886866121332867,0.004784189214631433,0.02985218006314894,-0.0829093662477965,0.05190928906090382,0.03369919002467703,-0.08417697619484586,0.055007273205103395,-0.030008307847244335,-0.0608545727275423,-0.07530108895803209,0.06938877693860447,0.00015092959468702134,-0.05876017413952974]},{"id":"chunk-7db5cddc-111","content":"try: result = agent.run_sync('Please get me the volume of a box with size 6.') except UnexpectedModelBehavior as e: print('An error occurred:', e) #> An error occurred: Tool exceeded max retries count of 1 print('cause:', repr(e.__cause__)) #> cause: ModelRetry('Please try again.') print('messages:', messages) \"\"\" messages: [ ModelRequest( parts=[ UserPromptPart( content='Please get me the volume of a box with size 6.', timestamp=datetime.datetime(...), part_kind='user-prompt', ) ], kind='request', ), ModelResponse( parts=[ ToolCallPart( tool_name='calc_volume', args={'size': 6}, tool_call_id=None, part_kind='tool-call', ) ], model_name='gpt-4o', timestamp=datetime.datetime(...), kind='response', ), ModelRequest( parts=[ RetryPromptPart( content='Please try again.', tool_name='calc_volume', tool_call_id=None, timestamp=datetime.datetime(...), part_kind='retry-prompt', ) ], kind='request', ), ModelResponse( parts=[ ToolCallPart( tool_name='calc_volume', args={'size': 6}, tool_call_id=None, part_kind='tool-call', ) ], model_name='gpt-4o', timestamp=datetime.datetime(...), kind='response', ), ] \"\"\" else: print(result.data) Define a tool that will raise ModelRetry repeatedly in this case.","metadata":{"url":"https://ai.pydantic.dev","title":"PydanticAI","chunkIndex":111,"totalChunks":208},"embedding":[-0.037657205860684065,-0.02249447476739387,-0.014097797335872252,0.05539138579681654,-0.01725329548354143,-0.06532467884377578,-0.01214327319254391,-0.012007216829039536,0.06635583380644727,0.06304855265582357,0.07402939407548313,-0.05156041072341538,0.04946535624858874,-0.06817154977314466,0.08067054055424656,-0.07568512527108318,-0.07278016960282094,0.03886932620531273,-0.05206881551137403,-0.06557404816829347,0.053239554603095714,0.04789437365773095,0.0484402062323549,0.05970744871544985,0.02700282495757205,0.0874662041421549,-0.07037144092530778,0.0358845150298,0.05902401049044914,-0.06776738143479687,-0.024385216040017046,-0.07189358822754666,0.040121612994921396,-0.03416983266012055,0.006330106613226894,0.042709708510129465,-0.06618139036012931,-0.06852559954414317,0.07974647230312308,-0.07067203827785748,-0.07277203074073152,-0.014751322159884518,-0.07191459321857825,0.03859741032908357,0.04672804930679397,0.062032480220809275,0.011615721487959241,0.006689959240484573,-0.020570516086800876,-0.06754723263984665,0.02092430010253475,-0.008883539207196913,0.055422277570147734,-0.052814286665669646,-0.01701773593778223,0.03290038296969618,0.07547814115237184,0.04115680293124754,-0.022799114519543365,0.07383595277310287,0.014972424765928121,-0.017614246558097988,-0.01955063672692056,0.00907861482499947,0.05182340896650101,-0.08098207586308848,-0.06975813629553468,0.013073127272505015,0.07604934805380581,0.016061225961563366,-0.06573075005350502,-0.017646605553385684,-0.049905120655903364,0.06588608331911071,0.018631271759542708,-0.043848517548677336,0.03277034551180963,0.05443801728627223,0.059863446623420656,-0.005019971069308143,0.010015540127885383,0.05975448163506024,-0.035120638060309656,0.04758116854382956,-0.02571755202919809,0.08352236878343555,0.008213090622064118,0.07960355709338605,0.019842619092529736,0.06833973036136345,0.06407535190715317,0.022238979285061244,-0.024075749164242252,0.04306682700835043,0.027402243395173484,0.07283210513955785,-0.02128503416652384,0.0076551182908871414,-0.08619754098678901,-0.04963154534013822,-0.057958274648437835,0.025047748537565286,-0.07378698962829044,0.02234521713997855,-0.018261646367035245,-0.01811516427109014,0.03144950551905289,-0.08669867969047819,0.06791935877977785,-0.034795326698321284,-0.07345611413820173,0.04952422667782084,-0.07691223179021323,0.055022033380481956,-0.06581981387339775,-0.009364279276776664,0.04711039604315904,-0.05147125665581761,-0.04666945716121914,-0.01625972346857381,-0.0011757572575597174,-0.0482361750908407,-0.08099904508504621,0.07717676675414377,0.037846113928598143,0.03442405717717083,-0.03316174563808012,-0.07189267326372545,0.00220243319665716,0.0013946022866249941,0.07553243833870346,-0.05311963024225803,0.05248467228108323,-0.013297646836133103,-0.038025870955634124,-0.06986736403716526,-0.017933830947212608,-0.08281944818056178,0.0031215497924862823,0.046100934842653166,0.00715880007886126,0.07003669419474476,0.05324703332728903,0.06278400200812208,0.0022227085488886983,0.05179589261053735,-0.08049994030710372,-0.0527398492909723,0.013152212808218091,0.046256280589252526,-0.07509672563537201,-0.005851580345760997,-0.0851574551030548,0.006538614359486059,0.04390347511291753,0.00148204250324677,-0.0733643463147955,0.021601339855698277,-0.0804726697631134,0.055561847068595564,-0.00026220058134890405,-0.05549922330839182,-0.036698466419904985,0.007919484543545281,-0.0712067643351866,0.005086341708848328,-0.060077098915507686,-0.05625006182210181,0.025468883983713254,0.032559053626525156,0.0772330223612977,-0.08336521882519582,0.009812421787580855,-0.07626253907481659,-0.03787828621764413,-0.0024499180524115375,-0.03925785099112428,-0.01528678634549751,0.05603532567706847,-0.0868095696014339,0.007687379082576882,-0.08553022137003377,-0.0562438274459932,0.07844304858183501,-0.042768046071404116,-0.03992355245242356,0.05624809993823089,0.022809661050494784,0.07704521314658536,-0.06495360406376222,-0.05104757770439093,0.026172309486561154,-0.05964099644385469,0.00702367878677313,0.016480148065104054,0.06669267193128228,-0.06216819443476474,0.04056216756868238,-0.06557387879237114,0.05591924374639046,-0.08682027557548383,0.0874883172656074,0.057771436131292556,-0.005179172615293939,-0.010328622004855799,0.06358195125482402,0.05470824493727079,0.02557018645274725,-0.009566768857933484,0.029931430013084077,-0.05288958852642925,-0.041621959137748,-0.01905611571651008,0.05377113760753983,-0.06699645727337848,0.004388695994295754,-0.003890045531340822,0.03553274563962515,0.03187538067642212,0.056695654168067273,-0.08484425530135419,0.05270554897871375,-0.012017929329703367,-0.022915239541086582,0.06261391697022266,0.03988016943890783,0.022114607990486253,-0.017220421891991432,0.00012873478515885317,0.03555619475279351,-0.06763901480176077,0.014859826681295117,-0.012637905925575276,0.020248951172573568,0.0065602728290149945,0.08226677379414088,-0.05082760209081438,0.05021242380330999,-0.04748451162558496,-0.054101681199966056,-0.04968875922405258,0.06498672320910284,-0.04049513087155657,0.045195929754929025,0.0636258043822067,0.06964944241629681,-0.015489779483481734,-0.01916732875068511,0.021470181069542245,-0.03901144004071836,0.056287810744163946,0.03340882907075888,-0.0031215817605027858,0.019235223056633048,-0.057494177177905066,-0.04706638758044253,-0.08776989600870536,-0.07979216248146757,0.05745394396793753,0.005384031663744272,-0.03973407000765684,-0.010001116244717827,-0.06053040657515858,-0.050769288335358514,0.0861405708600889,0.0037559977973006067,-0.06842990228815254,-0.04966085688151577,-0.020627592213650143,-0.056374338475333144,0.056270618387521405,-0.07340333539929657,-0.04739941457836351,-0.054739031475331976,0.04576123440442511,0.04593751129387885,0.08572620229089353,-0.05637094606924274,0.08441608188138564,-0.06109754630393862,0.04820138599112817,0.0071860656218728745,0.08833207107572412,-0.021505806602801256,-0.05694596899910172,0.07769335879318925,-0.05121340619949411,-0.021072712444563057,0.02684655250298733,-0.03779902153225263,0.044513031284417595,0.008879188582111931,-0.07744341001858251,0.001111713780948227,-0.02607093677247973,0.02798825506626453,-0.06148504937883031,-0.033943888516536735,-0.07177815361747798,-0.0633587322709496,0.004473220426260966,-0.01428637150088696,0.08735301900894599,0.08829895136441522,0.07891509215691012,-0.02767015190393892,0.04868111378489035,0.03176953534670458,-0.06517259913069424,0.00555830071887091,0.06071817138441944,0.016197074108967993,-0.05494232922979625,-0.015071671887155044,0.041435366424513835,0.07736807671573565,-0.013881140014760096,0.047299780735691535,0.051500241713317504,-0.05436784984002467,0.01535942985718761,0.05051270156420781,-0.002573133128627321,-0.04851743285382029,0.06884757810972236,0.06380450754890624,0.06991803581745928,-0.020765182251001994,0.08418532871699322,0.07673350309995701,0.0866209620813773,0.043980578620723375,-0.01657825627724875,-0.06358918120651394,0.050692331801975056,0.07439569543570494,0.05237575003090594,0.01648267691499914,-0.009329312451094222,0.005698783245802563,-0.017016040636416395,0.040867145918526755,0.08383113302470062,-0.08121541909026112,0.08813245572493833,0.07208879992077061,0.01396852652570914,0.06731661109532666,-0.003004673542872041,-0.00946822867816331,0.014062611370096168,-0.04840516591786897,-0.014032864894435795,0.0485556260983857,0.017638462151295494,0.0034592535016199737,-0.030541034834858153,-0.009014666567077726,-0.027331311276770364,0.07068760531860313,-0.082284261235354,-0.009217300906149426,-0.04075640516419618,0.07527835422628845,-0.0488150110138578,-0.02299252417696052,-0.08481268112943373,-0.056286981000813946,0.019882935267480095,0.05126041186047614,0.0749582982678332,-0.05993619542338991,0.010024221816676122,0.060329546822835534,0.025607084497784826,0.07260145601762909,-0.06352367068379318,-0.013880080106141616,-0.006732320015085259,-0.0043177827026418154,0.06136245562718042,0.016930697656635893,-0.06517126123797051,-0.03723066023754583]},{"id":"chunk-7db5cddc-112","content":"capture_run_messages is used to capture the messages exchanged during the run. (This example is complete, it can be run \"as is\") Note If you call run, run_sync, or run_stream more than once within a single capture_run_messages context, messages will represent the messages exchanged during the first call only. Version Notice This documentation is ahead of the last release by 2 commits. You may see documentation for features not yet supported in the latest release v0.0.27 2025-02-26. Models PydanticAI is Model-agnostic and has built in support for the following model providers: OpenAI Anthropic Gemini via two different APIs: Generative Language API and VertexAI API Ollama Deepseek Groq Mistral Cohere See OpenAI-compatible models for more examples on how to use models such as OpenRouter, and Grok (xAI) that support the OpenAI SDK. You can also add support for other models. PydanticAI also comes with TestModel and FunctionModel for testing and development.","metadata":{"url":"https://ai.pydantic.dev","title":"PydanticAI","chunkIndex":112,"totalChunks":208},"embedding":[0.04127600695524031,0.06667447646414709,-0.08201395774847042,-0.0650327354483012,-0.027889569495494367,-0.02801870968124397,-0.0318045065329533,0.04280196189617728,-0.06973130430132046,0.04656312455023368,0.05092822964845282,-0.028523015123045937,-0.002174246255940604,-0.01686684597772824,-0.08805198910191357,0.020572169658202216,0.04299240589948408,0.07928810030630325,-0.0030283015639208507,0.05873805928370511,-0.0037195516737765035,0.01790304218965251,-0.033778745093811124,0.036265014986810465,0.04681127252906105,-0.006022596457862189,-0.014143651894776326,0.05592424773053361,0.028165677654911434,0.07111161170369311,-0.015125676225535171,0.024345957958344103,-0.014765448661185674,0.013492905511531757,0.013338455943869912,-0.03141266404959154,0.03697502516748474,-0.04156328111327876,0.06667774214364494,-0.010164451908582367,-0.08189167823863445,0.06824480353271226,-0.006165909533075566,-0.027071425311822973,-0.06795183254007903,-0.006712096786876514,0.03100659996492517,-0.023894119353883952,0.08471105701263165,0.04797643246567973,0.0893693747878459,-0.01349438768444176,-0.02334663323736827,-0.0395355747670771,-0.03264736812495105,-0.06633910216644227,-0.07207027344640596,-0.06956372148744573,-0.08508725652885897,-0.07563424516002347,-0.04622574268810133,0.025049996527944936,-0.05278999947621015,0.0533008829712096,-0.05109637542981596,0.07567155777883358,0.08465024914722694,0.02610151531279082,0.029095003343008113,-0.026355311382607646,-0.004775576788134411,0.07639333990132545,0.04046341068184241,-0.03414607438556465,0.005492271182437534,-0.0015886254141189134,0.09006369205038163,0.006048720337672168,-0.0014573246556505073,-0.03950368036185584,0.05301442414395415,-0.029763447735349096,0.07474122994716066,0.05531393856816899,0.04664118013607783,-0.061757670938222965,-0.0036567260657837677,0.016645336834119763,-0.01731792138360491,0.08465628039847636,-0.0471194770778251,-0.022603537818088666,-0.04418172640994536,-0.06807967137322918,-0.057896035045893475,0.07056322801138182,0.0680942023248707,-0.08062952669043925,0.024024020713220916,-0.012138202054467006,0.02654053678216883,-0.003128706597964596,0.05836534021726947,-0.0024899029327338064,0.029210461176298625,-0.04967222362421883,-0.08002143710924556,-0.043976687331704685,-0.010926769402817138,-0.06969653165133625,0.04722308090052705,0.036125926740970336,0.02331962102682607,-0.010383142094546773,0.060942448688596086,-0.07334047328732472,-0.036310231631515984,0.08574882540893593,-0.016567752227948793,-0.07494415743831274,0.04965669424802788,0.08387268013349215,-0.002725465370391373,0.01842600192764701,-0.06792158277246899,-0.008150918944132501,-0.08654727738721783,-0.04296330139080563,-0.027219093185203148,0.08474938444539944,-0.08432704991453292,0.08354848469213914,0.004879998892806374,-0.029090410504091214,0.04206261109085875,-0.054043599990311386,-0.04429070866693719,-0.012240762047522984,0.06112514126752893,-0.07551431330211134,0.019613608562077597,-0.07184767534422154,0.05066321258580431,-0.040266035753620553,-0.07045207898454325,-0.007615698238198537,-0.025207941249444664,0.06198166030039181,-0.08180918246349242,0.04331374936329434,-0.08556143718379576,-0.061672933996160015,-0.07218308105868179,-0.05825660223908062,0.04228984337210433,0.07565603020563574,0.03146410084454908,0.034714620269857874,-0.006986757262707314,-0.036099231334885344,-0.015769990935015032,0.08023708293321949,-0.07666661724027267,-0.020408576956786263,0.034287644530039955,0.06086164959252084,0.01320630973959214,-0.028072666402129662,0.041617200055126286,0.020951424274906028,-0.06610716571491827,0.04764642800577067,0.05797495819562875,-0.024135148019751033,-0.05924833182741728,-0.0061347654994062095,-0.009499651350654247,0.0032830171831788766,-0.06385973097955958,0.06928655449657008,-0.08615973154334243,0.03849187552648444,0.07971768387070978,0.07910065313792036,0.006911284328794747,-0.008165123750345166,0.05726066690863396,0.0353084676981666,-0.006282121498177136,0.08740760479804709,0.017847718794944095,-0.06007090228446845,-0.009295515837966268,-0.04868951654788036,-0.07042509145930893,-0.008707800663769768,-0.06322891945236248,-0.07066790355464789,0.0780431961872979,-0.026316361792944217,0.05533358450118904,-0.07862365518303573,-0.037998030865150835,0.004681698998868387,-0.07191209689384641,-0.04073725728895818,0.009937486181773375,-0.02334334539667093,0.03396255161292382,-0.06868269435178845,0.05017435777293199,0.011104454310472219,0.027911325325363577,0.05504888244042031,-0.053695465763598224,-0.04114492173146268,-0.057194018130707645,-0.01893119362130841,0.08015811566491075,-0.07183362494438832,-0.06869996985373276,-0.007701754767765234,-0.0060840498191481185,-0.005771939248065072,0.02014442245503038,0.08720931675484389,-0.00845116297015655,-0.01630684739081652,0.025584956082273694,-0.06466493996628246,0.05381312383150096,0.039950437022460324,0.03487222778385486,-0.08843837535410727,0.0005362338054292197,-0.00554680893201544,0.07601538926875492,0.04254997340313181,-0.03580344262116867,-0.07434009689185053,0.007402853069500723,0.07310772355532297,-0.017484202045685765,-0.08034761035395857,-0.0837014169817871,0.0027012747170986405,-0.04174151876706206,0.04599554441670111,-0.018075304529894073,-0.08699022576957595,0.06730695018032899,-0.08900115386584996,0.03868270969732208,0.05020815465468235,-0.0680823166798068,-0.03442931798845946,0.07789119142911667,-0.08878451204925651,-0.058862951312367164,0.043528238229702525,-0.010926677699447735,-0.07086214439276894,-0.018141801582727178,0.06684570754314989,-0.0008027577895889081,-0.07119273501455187,0.03358607540184279,0.08878164158273456,-0.07627215835429256,-0.043426434167598,-0.029589937709772418,-0.011128770222766692,0.07139198890210824,-0.05575908525207569,0.05032047143265328,-0.020862009924900934,0.04893076020217107,-0.004260154579013931,-0.08374635244465446,0.0480446535311028,0.003439941078585255,-0.03589062725963252,0.016936888972899588,-0.0873839838881196,-0.04898720508089381,0.012504759453123883,-0.05564159831975873,-0.07732582236256166,-0.02366460862445949,-0.08936976706848855,-0.027819422429666833,0.08500483593086539,-0.0279838258773695,-0.04862150082808519,-0.08065614278909114,-0.04252427705098389,0.03844783188945699,0.05160988374096444,0.02311761085865027,0.025486344419944428,0.01783379502646129,-0.05286423383410394,0.08904885385556083,-0.06639431842622592,0.017971000092676048,0.009443466005556343,0.01476376971791092,0.04933930941458861,0.005493400218283814,-0.01600475581606541,0.05378244221894353,0.000023411933557558264,-0.00531191167151356,0.009857565653626346,0.009698602831794901,0.08474743512187115,-0.04000951536235414,0.024029222020938427,0.05678261192679522,0.03846051710066206,0.031652287141618836,-0.030490402519178426,-0.06120979629689725,-0.0766360381334071,-0.037135510490394964,0.08399046416415408,0.08625413356529611,-0.05698682501876441,-0.060481775763468595,-0.07208459164141702,-0.02794346893808816,-0.008213474577452928,0.05646424374787857,-0.001970163908228249,-0.0057829889642050224,-0.06121793334409845,0.08529154743045313,0.08424272024078493,-0.06943063008794285,-0.0697235744318542,0.023259184118114853,-0.06973155718465089,-0.0324251391441902,0.0205147508203867,0.03440160807974973,-0.02045576438895839,0.01986975928868628,-0.017814418956958348,0.031128181940785246,0.050908181296058556,0.006908380620309622,0.05568693653923666,-0.05834352520491975,-0.03139732333074717,0.05331242222469517,-0.08407588179444174,0.06228957753443601,0.06938294669962206,-0.07758044734057266,0.08120215491549439,0.04798148671664319,0.00006379004052729216,0.08319632786876116,0.04283631639748599,-0.02136403085482742,0.0031970151143328423,0.061811910529710745,-0.015978864611143916,-0.03603838474894315,0.049035463660496305,-0.009828376257294139,0.007633912238349015,-0.03532486085225004,-0.00009113727268387206,0.07418805269111484,-0.04431047725644355,-0.0224703935063325,0.07687327312797713,0.014870482064033574,-0.0346485466263702,-0.03196980289145795,-0.039073835955537574,-0.07543891117721828,0.0039641748785278355]},{"id":"chunk-7db5cddc-113","content":"To use each model provider, you need to configure your local environment and make sure you have the right packages installed. OpenAI Install To use OpenAI models, you need to either install pydantic-ai, or install pydantic-ai-slim with the openai optional group: pipuv pip install 'pydantic-ai-slim[openai]' uv add 'pydantic-ai-slim[openai]' Configuration To use OpenAIModel through their main API, go to platform.openai.com and follow your nose until you find the place to generate an API key. Environment variable Once you have the API key, you can set it as an environment variable: export OPENAI_API_KEY='your-api-key' You can then use OpenAIModel by name: openai_model_by_name.pyfrom pydantic_ai import Agent agent = Agent('openai:gpt-4o') ... Or initialise the model directly with just the model name: openai_model_init.pyfrom pydantic_ai import Agent from pydantic_ai.models.openai import OpenAIModel model = OpenAIModel('gpt-4o') agent = Agent(model) ...","metadata":{"url":"https://ai.pydantic.dev","title":"PydanticAI","chunkIndex":113,"totalChunks":208},"embedding":[0.023313463613801808,-0.014490503181520068,0.05301966264612562,0.009595387544640954,0.05847098029907402,0.05349396760579787,-0.045608899921029004,-0.03890531078092418,-0.07523124192268398,-0.08666944363287368,-0.07783451356519651,-0.03655483780488358,-0.024972380265530548,0.055998456922231474,0.06050569620649808,0.029647019366570007,0.021020630530350352,0.0027896964730543985,0.04063571031907276,-0.04062833157439685,0.040695679015079304,-0.04576640087214021,-0.037109324094688194,-0.029925396380875054,0.007372815793061729,0.08618257234651663,-0.01760808278523571,-0.015903001332377834,-0.08419247347674522,0.06996180050122049,-0.04877060162580751,0.031001858940715048,-0.052883932547388046,-0.08310444196660675,-0.04848005606306645,-0.013469489383207179,0.058456291185563954,-0.052563536346803795,0.06837120398214581,-0.011940503482276337,-0.03949550463721149,-0.07585802069740247,0.06137342289887098,-0.011676283583508062,-0.07772002623574825,0.03276911499177806,0.030282603901326054,-0.03443734039163254,0.02376575080564976,0.04523083932991428,0.04696313813608105,0.021868796986140603,-0.06133589472423131,0.03344591022502566,0.07124435852791709,0.07256894254441978,-0.08437570022907588,0.07052062836350666,-0.04148049754718434,-0.055182194033273936,-0.06459500096020337,0.06010845716752302,-0.026996407722880804,0.08270787067183757,-0.024241616421482756,-0.0267776539617409,-0.03593208603078216,0.005708577930260513,0.012872635156564559,0.014349289650707767,-0.07652518156401357,0.0357489734397824,-0.02191021786102148,-0.0591878015828616,0.050201373100182516,0.07253539242798196,0.023479762736195897,0.06771430226024576,0.06637578736667998,-0.050034798878147754,0.06682426705687695,-0.061201240658281336,-0.031372862900062054,0.030575798131745397,-0.020229949564189467,0.01900562939253067,0.0258192245975636,-0.015847964317647806,0.02325984170198895,-0.08526761956060838,0.040249565288828164,-0.027119178999935576,-0.00249926877428218,-0.04829998185293881,0.010262748535357974,0.0425639939415301,0.08155975761088939,0.005775787234113872,-0.05402896456746802,0.018666174602688893,-0.07428562047919021,-0.047135809332009206,0.04319869557942522,0.04459310124273293,0.0405855980234605,-0.08201647152921415,0.004295319462166885,-0.05023763168112016,-0.06605034777839751,-0.03943130397379883,-0.0633847765299754,0.02770153854613412,-0.01077549256016024,0.0739451929875028,0.03572865128054457,-0.008345718087877133,-0.013248715763331854,0.027443563028290287,0.022630630101729332,0.0888080271725479,0.021111998133720358,0.023776565991827498,-0.0710856831241492,0.042169808567608325,0.06766732174762995,-0.07180052584407304,0.03791965421173083,-0.08389309724888362,0.07369747264557855,0.009925944340450361,-0.03308713200066285,0.015651906804597698,-0.02052997810837633,-0.010768874768866392,0.0757782290196011,0.021954285972737315,-0.023550794861887193,-0.04301258090932489,0.032094958660191124,0.02769156597071486,-0.0074515298997509805,-0.0015661744754860531,0.07457135701134042,-0.016587968432892255,0.01499953920068775,0.06576905281953453,-0.04378007740720694,-0.03632704810505137,-0.027121746034760634,-0.06663810801323256,-0.03466360536024391,-0.07499111469771899,-0.08432698823343693,0.08616637989815017,0.04937124882103377,0.03426179467461915,-0.05636918717130213,-0.08140936947066028,-0.033656858055845326,0.023612856459606816,-0.06802707373282757,-0.030531743792230438,0.05152268950854491,-0.0882903031800847,-0.054353213823557504,-0.04071944449348198,0.06334939507922535,0.0784453090219387,0.06343928910643125,-0.07498787773199622,-0.0720302837507667,-0.0004725483002327532,0.055467749847216835,0.06640511024505599,0.06231529753606144,-0.08702053214677902,-0.022007311001283864,0.07999389244069463,-0.04837041713380775,-0.07474697558700286,-0.04244985283068168,0.06733818020713762,-0.055707815074272214,-0.018393379627731788,0.02248110929139439,0.0015501588003592943,-0.08244810025132279,-0.02933396658771354,0.015235281682275238,0.05993855919348062,0.05099906104297542,0.048611017267748434,0.08061728412347831,-0.07056713146297272,0.04298437873370365,0.016877197229182087,-0.0788427103814656,-0.014121373868480634,-0.0626891564357965,0.023769816732910305,0.06138949271298151,-0.08622970197625152,0.07425037515490363,-0.05266502209599477,-0.018067383431642547,-0.059413091234305694,-0.03592156601287693,0.08504369490381046,-0.019449144063060607,0.048263594823077655,-0.07399735172045929,0.05219888961063954,0.056762917037193696,-0.061336329966230126,0.002295666489845735,-0.07637001446639789,-0.08383739797424013,0.002082050241800724,-0.04406920203900905,0.04032008093050075,0.027863848799695595,0.010576803410344204,0.01637873163716376,0.02922409128150236,-0.06209081773400874,-0.06682242849499098,-0.06538030563684791,0.08648385497134121,-0.011871684943971901,0.005251643316958156,0.0034273269739937265,-0.015552028684650923,-0.06381784968348549,-0.058099793229537185,-0.031125056945243205,-0.06599955611863265,0.00034081303626218247,0.08551342227665858,0.0682175721274598,0.05572762356670441,-0.04954345794446549,0.007380662654735751,-0.052612149449389356,-0.005221256120475252,-0.006016780256020538,0.06896744853016176,0.006306789523887843,-0.0656482105035725,-0.05112305252325275,-0.06331877509726419,-0.05639897823227378,0.08475224184658349,-0.04680946911242917,-0.06932804142511473,0.041032128183554555,-0.04303111934118364,0.05042904558012367,-0.02136841825510226,-0.08760621134799329,0.042942408224262804,0.002744410063398131,-0.013356412386146183,0.003746976200629915,0.0500458151656766,-0.03992949354619254,-0.03968265487820696,0.08455440608801361,-0.031545331514810086,-0.08520050725639333,-0.08302820068820893,0.012841135392268903,-0.009592293048390486,0.062067816204378796,-0.0003350480466411225,-0.029026386875714648,0.028936647925249318,-0.034397329851971636,0.07400359952965327,0.0629272750794979,-0.033706100834952527,0.0806101967314927,0.04716207115150832,0.050063609980270145,0.049802682690915964,0.0034500372872272923,-0.03567762616920944,0.0706751189259588,-0.05398516256270563,-0.07306012918060009,0.03766092053234501,-0.05686776575923316,-0.021914084816523367,0.00103279477083632,-0.04620759325392393,-0.004437184234775836,-0.07929240387569755,0.04673859008365553,-0.041797905770313296,0.042686901449271904,-0.035596085401460795,0.047395732306532136,0.05444084955532964,0.021553043475734147,-0.00008863729806334684,-0.04980376995095547,0.0118956420367302,0.02799481338210343,-0.04942435902372829,-0.03852074090676493,-0.06959745791245942,-0.029427286750852946,-0.08848503345274594,0.06363980675375014,0.02536316195146691,0.01071547806296321,0.05321102471572505,0.06077758684104492,-0.025080331657732526,-0.006953233350229274,-0.06950856613552328,-0.06467312045311428,-0.07142149326123312,-0.025839532722736563,-0.04203338842968324,-0.04180473191826224,-0.0059587835882849455,-0.002380500808521035,0.007247374891843944,0.07984229329121462,0.026216594064637614,-0.05763269825499169,0.0543550139907024,0.04589875901258572,0.007207851426135375,0.06517773909618298,0.07183065477604676,-0.04929816249478898,-0.011877605033753996,-0.05239633136501831,-0.04126817346022872,0.08826410420767651,-0.051537981104621815,-0.07884994268480224,0.06831064134848881,0.05078732531753727,-0.0023161254185726714,-0.018964301298479452,-0.029257330495459623,-0.07263542911136352,0.06974293139220752,0.02905713534156308,-0.07160434222386201,0.04090210822264148,-0.0781542817102179,0.02267092204814524,0.027029770777748405,0.026086664317105393,0.0871451020957114,-0.062051769207602005,-0.07734321904946709,-0.021431014169572337,-0.07884861991211117,0.06467589915862473,0.04955944447149989,0.033157792538369577,0.04568137406193976,0.05532165806995142,0.07740503229522729,-0.018106311598622995,-0.07199192125113225,-0.07995123244468792,-0.06389337012767603,0.0011860364783974813,0.006533224640724749,0.0876235672711646,-0.03708134555100041,0.0026768305849115335,-0.013067797739473858,0.018793337410501584,0.030774951779648497,-0.03382785980965647,0.03603505902607721,-0.01653943569831352,0.030708050164584114]},{"id":"chunk-7db5cddc-114","content":"api_key argument If you don't want to or can't set the environment variable, you can pass it at runtime via the api_key argument: openai_model_api_key.pyfrom pydantic_ai import Agent from pydantic_ai.models.openai import OpenAIModel model = OpenAIModel('gpt-4o', api_key='your-api-key') agent = Agent(model) ... Custom OpenAI Client OpenAIModel also accepts a custom AsyncOpenAI client via the openai_client parameter, so you can customise the organization, project, base_url etc. as defined in the OpenAI API docs. You could also use the AsyncAzureOpenAI client to use the Azure OpenAI API. openai_azure.pyfrom openai import AsyncAzureOpenAI from pydantic_ai import Agent from pydantic_ai.models.openai import OpenAIModel client = AsyncAzureOpenAI( azure_endpoint='...', api_version='2024-07-01-preview', api_key='your-api-key', ) model = OpenAIModel('gpt-4o', openai_client=client) agent = Agent(model) ...","metadata":{"url":"https://ai.pydantic.dev","title":"PydanticAI","chunkIndex":114,"totalChunks":208},"embedding":[-0.08113640676389282,0.011155553985900133,0.02391016197947158,0.012575172354060606,-0.006140086679909918,-0.002700676235210063,-0.03744014769761322,0.05037945687552963,0.056284079010734664,0.04975821086607067,-0.08245909423408064,-0.08235946281054539,0.03143844418230037,0.038000502354015704,0.044088100850726085,-0.04741733088163821,0.08761684991337554,-0.07201512428530614,-0.08656774406090588,-0.008020009065389213,0.024602143637962603,0.07991211128807896,0.010963894725624463,0.05026750727735074,-0.059727233303994015,-0.031748926532414894,0.0007726019624711946,-0.07079117438224498,0.004776535353702367,0.014193328979791428,0.0020435685879786744,-0.04902671037912198,-0.007367552457439043,-0.006344052599901909,-0.0542936190082915,0.0787603764825669,-0.06424121128635,-0.0742926983446152,0.08889749106177783,-0.023023140895173447,0.014736783256419635,-0.01776837232569086,0.0571093937828697,-0.05087009836578852,-0.08221172583686195,-0.00485585523285553,-0.023244229673228606,0.010828626254649741,-0.08594003526670417,-0.07945300265566989,0.0717559085544987,-0.0027293223186418514,-0.03662757142842942,-0.002084090599552885,0.0335636822759299,-0.08933019365310964,-0.0439069165152305,0.03859401197024689,0.06822787590453659,-0.0555820756237324,0.0496499733898782,-0.026653241162527087,-0.03869198172375362,0.08476443550473947,-0.01305879328482089,-0.07858454696646691,-0.06625570229687519,0.03208884235990596,0.04332935498903299,0.05004263286637926,0.08206089976243727,-0.08702877656994074,-0.011289118971653944,-0.0856193180843568,0.04623454782361811,-0.07746162915125576,0.004580040004028562,0.009531940185762696,0.08325530434900522,-0.02951857057496323,-0.05729260014449022,0.07515173733327127,0.038786137788399344,0.04170604041546427,-0.02119993418546827,-0.012638397516245455,0.02264042677255352,-0.05367853399258948,0.07338161128021445,0.04966159938062902,0.0005909378437441814,0.029818093679039263,0.009888450323272133,0.027396785655722816,-0.005932506637404251,0.07115769090709526,-0.029633072967216262,-0.07296313924195365,0.0727688100902349,0.06393687874137614,-0.06438501620412623,0.07513070113919068,0.0326810585378527,0.016363257559367673,0.006492609097377415,-0.023350603988970372,-0.016521914423928027,-0.017826895752681152,-0.08469359970842874,0.08757988271975113,0.060777974555269614,-0.06092741612316143,0.07092014984057249,-0.06998099542858086,-0.008373896201421156,0.07898167404820552,-0.019795322204387292,0.04525018576840409,-0.014406224588264389,-0.08875864411379704,-0.08433187949768875,0.05072517523868772,-0.012080060593188658,0.004544062505388905,0.004360002886463861,-0.03918288571725012,-0.0045215780347859615,-0.027195103549773857,-0.02779097033196107,0.00638858126909393,0.017502642049243015,-0.024135330416428034,0.024945767459609827,0.0027969407829029316,-0.07620278962400719,0.0705560909848001,-0.08759463943086143,-0.052735638736302354,0.088187676661401,-0.08218144214813372,0.08711056661332538,0.021428521916831145,0.02937268813931198,0.006333646899594571,-0.035025192524677395,-0.02836864163471486,-0.052582864281334886,-0.005930775255686623,-0.04512344625025871,-0.07184026889116617,-0.027306924211942023,0.04720706662643796,-0.0004495930256009769,0.04490505391296405,0.030470733965131343,-0.05691480778749498,0.014153206409339411,-0.03164235488577886,-0.08208774968640485,0.07559211871907953,-0.018419566400037824,0.03875615406037167,-0.00915406454554324,-0.0865920136632826,-0.08769668661986532,-0.05331319246670963,0.02575448372034039,-0.004252947919039704,-0.06981193476992506,-0.06232639347809784,-0.037673774942282585,-0.03942209472006222,0.002151593150399525,0.037326248166121276,0.032361699196152165,0.029659096925775143,-0.046387398654283055,0.04382927386312525,-0.06422376489820925,-0.046672290145260004,-0.025235020072911223,0.0318274517514926,-0.009221445411566755,0.08591345261200682,-0.0376897829638957,-0.07641919968287747,0.07799872110898738,0.08896496296298197,0.03929734309328719,-0.08662445092664636,0.0029720394026974636,0.06414789945425,0.07191737481909512,-0.0013447781957048443,-0.07817290255074309,-0.0791622707151206,0.06848849367047918,-0.018010219736526993,0.022703959985575683,0.03535527455783637,0.044770462134546773,-0.016239884415490183,0.04947129853292328,-0.08780384830147192,-0.005012185003165059,0.06837879663563046,0.0522007793602467,-0.0744704709146122,0.0004843140431737267,0.06850951711828797,0.021005645141234326,-0.060716274067678204,0.07130163137364162,-0.000269174107366955,-0.05715200947797777,0.014817501287755953,0.07569106255989794,0.07801481015184147,0.05782040961371366,-0.08084096878789815,0.04069089176316331,0.0010215921366149385,0.045294393329329455,0.03989381335079162,0.008362325873937825,-0.08937812301386415,0.06087886631667845,0.040922956451129096,-0.033161261277226024,-0.001979020149741927,0.03202658348259205,-0.05925514451736358,-0.026687831267903212,0.08579840470163642,0.028792423865784705,0.051967515152315666,-0.007087970925189704,-0.0022256911323668854,0.004430847322583996,-0.03358689758768424,-0.04900269458506048,0.08732605538999337,0.03663136381518214,0.026476333712430532,-0.026502096217382472,-0.024344226067525516,0.03330802973942715,-0.04077392353867827,0.022402973482873373,-0.05362788705276571,-0.02064380606195575,-0.0557361241265479,0.005800009072837208,0.06506832657854725,-0.021685403631112907,0.010743469591010546,0.0565964025425025,-0.03940943614996772,-0.059272378814753515,-0.035198993610542406,0.01921305413558166,-0.0544291906202229,0.08442168143658993,-0.0024205822884409097,-0.07398649332125529,0.06382147366091794,0.08048005326431008,-0.03036522219685742,0.0050391309560231445,-0.06454860079788677,-0.06450227549468401,-0.029345532545881292,-0.07012413085629894,0.06745659580270873,0.06579757963377104,-0.08719342563846705,-0.05699227546689016,-0.04771436596922246,0.03488512617451663,-0.03669679617824428,0.07519604271708198,-0.0843279158120154,0.033081210608155005,0.005801044252365003,0.01766450447371631,0.007643970747691785,0.07123011351861464,0.0880621368077257,-0.02774824084429352,-0.05634891070955046,0.05818269387342937,0.045395659127333454,0.06562792620561624,0.02652046942144017,-0.056846149209440276,-0.03356340934075593,-0.06547071885325889,-0.05367733846604855,0.08271552048747269,0.02446068766110709,0.0566129228792165,-0.004898782560140107,-0.040186675225065395,0.000940143570009505,0.020075913804013395,-0.0014086877977954131,-0.0778993812848179,0.07659314832600919,-0.02820683813915441,0.06065483493254035,0.04992257910165832,-0.07659360672313889,-0.043464465057898465,-0.08346541472312743,-0.025977876616375524,0.06303646842794106,0.0416594959485731,-0.045572992750307,-0.007586868233424539,-0.004799472236471149,-0.05601985103784662,0.05968058933385601,0.031263165709874974,-0.015664813864192793,-0.04626222441347344,-0.07697662400284914,0.0010360081064428703,0.04159196114424436,-0.08307025393109069,-0.06878555168860179,-0.05524970994334728,0.03054605801133192,0.03248860952067012,0.06808062980660207,-0.0481458856797886,-0.0006501813938955981,-0.05426087326550218,-0.05971515895312467,-0.06607034451312559,-0.01095809556872299,-0.026360958653921882,0.08331322952756644,-0.022569252055475178,-0.0248309997929103,0.06133625847809186,-0.0828438816740003,0.004116407956803293,-0.04742551136578842,0.08495599031231305,0.05384950704624247,-0.07760903902449882,-0.03201390795033784,-0.0012339788294327715,0.0005757112398150907,-0.037881225238647225,0.08188717449112293,0.035043537827147864,0.025262021964417063,-0.00563857542823973,-0.03553637863620142,-0.049271701312051344,0.02295502215299348,-0.014059772793233396,-0.002551735350055969,-0.028014476589257976,0.0522231301091832,0.02794260626012995,-0.060005586202163834,-0.014453431214178955,0.009924114835536017,0.08223610910231853,0.07654713122759067,0.019488604327327765,0.0461942277218945,0.016918721075115405,0.025387361937508554,-0.03479193303466544,-0.01219632759785545,0.08383140633025801,0.010763473810779406,0.025290413115515806,0.04121205814717975,-0.057932359370519465,0.009243657163096164]},{"id":"chunk-7db5cddc-115","content":"Anthropic Install To use AnthropicModel models, you need to either install pydantic-ai, or install pydantic-ai-slim with the anthropic optional group: pipuv pip install 'pydantic-ai-slim[anthropic]' uv add 'pydantic-ai-slim[anthropic]' Configuration To use Anthropic through their API, go to console.anthropic.com/settings/keys to generate an API key. AnthropicModelName contains a list of available Anthropic models. Environment variable Once you have the API key, you can set it as an environment variable: export ANTHROPIC_API_KEY='your-api-key' You can then use AnthropicModel by name: anthropic_model_by_name.pyfrom pydantic_ai import Agent agent = Agent('anthropic:claude-3-5-sonnet-latest') ... Or initialise the model directly with just the model name: anthropic_model_init.pyfrom pydantic_ai import Agent from pydantic_ai.models.anthropic import AnthropicModel model = AnthropicModel('claude-3-5-sonnet-latest') agent = Agent(model) ...","metadata":{"url":"https://ai.pydantic.dev","title":"PydanticAI","chunkIndex":115,"totalChunks":208},"embedding":[-0.07988557955609883,0.020760822616218845,0.08858755448024304,-0.016990662513146505,-0.029638367238455924,-0.03128555458149046,-0.04437875182428115,-0.035410576360099984,-0.06845371426715577,0.07296468726128995,-0.041931503128317754,-0.032813787647048356,-0.05466432591961913,0.08984576235253465,0.06265824869084444,0.044466921659222954,0.06957333162774612,-0.04957600404864585,-0.06806185492906164,-0.07229571038354493,0.05206025988125981,0.031249910665340223,-0.07893636898128417,-0.06013901654674393,0.004068734770428186,-0.0069871475269055626,0.06774251707675226,-0.08066718871468749,0.0633105205738155,0.04611695910690479,0.06381636327611985,0.0648104591789388,0.07283869966463351,-0.08019130119869813,0.0010937689403930193,-0.028372666144556438,0.057340419548183065,0.017374498147013816,-0.04191196361980448,0.011722235747819372,-0.072709980966359,-0.000645764070126831,0.021697382994378206,0.06281415747761761,-0.07118777735060071,-0.019043823077667693,0.0841034712168969,-0.030170399882928908,0.022362185538449285,0.03172962164457883,-0.009209456250456459,-0.011829539631335461,0.08216128549523684,0.0709061904361251,0.03591855025948285,0.0706266389293823,-0.024820972364866602,0.0059410046824396314,-0.07238472479765039,-0.019374935880101335,-0.026039326178895764,-0.06271517296456489,-0.00798904173979499,-0.062356735279203844,-0.020885852298102334,0.045113789188723594,-0.0100842440443637,0.03581913064994757,0.006214375429867883,-0.052487843522053816,-0.05986169185803055,-0.0009469704120295199,0.06316928237293361,-0.0678162399640702,-0.010113780946417416,0.05980275437124269,0.0764206413374632,0.06265113208616638,-0.05339506173716398,-0.02256666020244965,-0.018585869951695887,-0.03959574740696367,-0.046164531102515165,0.023226932907957555,-0.04921553843231432,0.08135289450591005,-0.055328150274805324,0.004300469792568417,-0.03831704653239263,0.010506522236992827,0.08679652692356156,0.07533489373065225,0.04421632234660104,-0.012921333687951278,-0.045706511148399326,0.012911136131314404,0.08181611894820619,0.08484417519658435,-0.04949059961539348,0.039778943363318615,0.05223272406217855,0.07827657968627902,0.03635334799259589,-0.019621458778253217,0.07838887852662649,-0.07450546677865048,0.0628483858131808,-0.05666609520112762,0.0275017677114439,-0.029539834768601527,0.03659785167416766,0.05964862753813366,-0.003817251306743831,-0.039018700514978716,0.025123563556082543,0.011117184552117307,-0.042386501711124305,-0.004125192052447192,0.06209133233637097,0.035085235778369354,0.06378967865558936,-0.016195988128399744,0.029339003097805447,0.007175599771454913,0.018010199600207867,0.015621684970758908,-0.07077243918257396,0.037236994187397454,-0.03172195097814251,-0.01139098338347368,-0.07676903931643973,0.02937347264339662,0.01476145148231507,-0.0652884721069809,-0.07361834812420712,-0.055822275854205544,0.03156684814929832,0.005116296029683042,0.020041619067237663,0.04185458985787112,-0.0598279470102399,-0.058108860344449974,0.060741617912915616,0.04572799061610651,-0.012060465077702302,-0.05345643637611597,0.03685734203430518,0.052710612898331434,0.023442932797007522,0.08760095532119612,-0.04534780873229728,-0.05776798368879259,0.023703344056213868,-0.0025725407889780937,0.0649936511075916,0.005692205939429615,-0.03602314845528525,0.02827474210982418,-0.03343375229658792,-0.0345348557698134,-0.0667681013261354,0.05377838041306881,-0.08982082848101981,-0.016679091110265405,0.03670120807624875,0.053069967218781745,0.07723437212077323,0.06050580504251046,-0.021754909540577464,-0.006201566102920873,0.06348293427351219,0.06154475366344117,-0.0107430360753857,0.08414982581598567,-0.04945482344282927,-0.05208971667837838,0.08424571652455484,-0.06041438231668038,-0.02657848888589924,-0.05800373882617704,-0.02010211326778593,0.0758932093663707,0.0015151770795115457,0.07821213741335623,0.027503380192088533,0.009892372410895186,0.004203976794262833,0.07920624366024033,-0.04558822950742661,-0.028252529583112487,-0.06222870596320663,0.02624092368116283,-0.009615105664425265,0.05518782235460918,0.01853336176723884,-0.0680349716088053,-0.025387176383309017,-0.04444649973616747,0.07882312378408166,0.04843185294580832,0.07989100252275005,-0.03588480114476122,-0.05065457769914686,0.05233923645360942,-0.0038095932365097796,-0.07768492531443945,0.06527630607286612,0.07757862372568093,-0.0029153491973698993,-0.080819282964571,-0.0818726241566053,-0.043385611713755504,0.03371494418848731,0.06635552425384281,-0.004856699153024159,-0.07623205822014115,0.023149798558164132,0.009693054397995912,0.019656683019532262,-0.0696098492379814,-0.013786271366672195,0.03100305659506207,0.057617137392814204,0.07370651481830698,0.06482066842183928,0.009159204790032802,0.07290255681642492,-0.05492210729445729,-0.007011857878332683,-0.06456693545005227,-0.04083536068407939,-0.04940333223414014,-0.05641927681484908,-0.02578249287798222,-0.07188867896829952,0.09007582989933131,-0.019983904980379066,0.0005834459576914783,0.06480883682891543,-0.08966726363066078,0.06753571556263101,0.03490993822304075,0.08164131005452732,0.001637511722009037,-0.026623517655885304,-0.056051679633264254,-0.02178768358507951,-0.07885636190460157,-0.027769793615191597,-0.04140804213018703,-0.02323664305914208,-0.04980215402695961,-0.05295715186367644,-0.04793086435693388,-0.07939716070936545,0.055368178263807466,-0.004639185687159406,0.044228654721911606,0.0840643479842403,-0.007515300950017334,0.07932460020189597,-0.05236316549362268,-0.05680280133463364,-0.032955589266053326,0.07776207811674585,0.0346961099187688,0.008657919491472474,-0.01649920531707025,-0.07906249551759531,-0.024780578649106984,0.047964723738773626,0.006565199011304391,0.026695682515918237,0.08611104790384436,-0.07656570213887838,0.011073145281076396,-0.052516431337846455,-0.04525612826714417,0.01669413895189178,0.07266814493590168,-0.00703873770173226,-0.08427427641189623,0.08414194381590866,0.05559236379992897,-0.05095059903509926,0.06496168636927958,0.07683720700461126,0.03950643486665553,-0.004964730893834027,-0.03690890775761532,0.05807321003151056,-0.05756814261982928,0.04751897121482918,-0.021302583375355715,-0.004593845147978217,-0.045218512920909004,0.06913577500426425,-0.019124289429968327,-0.08771466523002698,-0.004679987861212025,0.034608906205838286,-0.0812759331766999,-0.030859017714352142,-0.08475954159852274,-0.013198437174137148,0.08020591815367119,0.0745276850722695,0.048143919693287456,-0.004983553984586762,-0.04317809722011204,0.016787221653737056,0.03655245306788162,0.08411828059382412,-0.03591565156413525,-0.07910980150679611,0.08609928303199364,-0.04183828176543986,-0.07202476044216327,0.07493560604350553,0.07089718469051073,-0.041734138752632426,-0.0857068669785293,0.03213429962615602,-0.017332481289225946,0.029668323413741995,-0.02726658990787372,0.06726095136831073,0.0053217076487955565,-0.013008499026172524,0.05541698373712876,0.0676327063987507,-0.024472398075705174,-0.04536744595177551,0.017017675127494702,0.013703523989036511,-0.05408700281920158,0.047511530969757326,-0.02116021603923679,-0.06891616778707134,0.08449185209447795,0.0052423367398986955,0.015083079049918693,0.08125856595302466,-0.044300381591944805,-0.03776413700029465,0.041805641916638554,0.010582477760077504,0.060820382504414926,-0.06489677123405896,0.04859795157503084,0.0457499979446432,-0.016282268793546936,-0.08487675233770847,-0.016039509397958684,-0.08833822747471087,0.057023834316610275,0.00837392077528162,-0.03424267117000329,0.04658125065070895,0.00726920993355665,-0.022477248100309356,0.008651576611321158,0.05056642874237392,-0.059725999062341495,-0.031816004627649934,0.034292300157256574,-0.016589852947337322,0.008917727027967354,-0.08987610749162712,-0.016944440896497562,0.00496197500243409,-0.061874045736436456,0.008466991228249177,0.015939980200049508,0.057081584999579695,-0.016378839205791067,0.022521722454018546,-0.07892354948619394,0.030599351893710266,-0.058413886677511954,-0.022198809596187363,-0.04493584503522712,-0.04578623169702046,-0.027947217511531862]},{"id":"chunk-7db5cddc-116","content":"api_key argument If you don't want to or can't set the environment variable, you can pass it at runtime via the api_key argument: anthropic_model_api_key.pyfrom pydantic_ai import Agent from pydantic_ai.models.anthropic import AnthropicModel model = AnthropicModel('claude-3-5-sonnet-latest', api_key='your-api-key') agent = Agent(model) ... Gemini For prototyping only Google themselves refer to this API as the \"hobby\" API, I've received 503 responses from it a number of times. The API is easy to use and useful for prototyping and simple demos, but I would not rely on it in production. If you want to run Gemini models in production, you should use the VertexAI API described below. Install To use GeminiModel models, you just need to install pydantic-ai or pydantic-ai-slim, no extra dependencies are required. Configuration GeminiModel let's you use the Google's Gemini models through their Generative Language API, generativelanguage.googleapis.com.","metadata":{"url":"https://ai.pydantic.dev","title":"PydanticAI","chunkIndex":116,"totalChunks":208},"embedding":[0.05923479900400282,0.008841408430674751,-0.02411727829800646,0.0377429156212605,0.0016632202929562573,-0.05763074387642799,0.021015567341458586,-0.03212513166785657,0.02166091892755765,-0.01129743704971289,0.03583414886070935,0.06458033760424017,0.0839485224832279,-0.011600373927852023,-0.08512520575747147,-0.0043144923602729795,-0.05797443211963742,0.07665701588854906,-0.0682408499416305,-0.06461873024816389,-0.07352355490744328,0.005114373467934439,-0.0654624995802606,-0.060925645070683696,0.03191779758219996,-0.05149164634824648,-0.04029671395369364,-0.008794604523428333,0.05334547881296017,0.023475470989975777,0.08503491313153129,0.008307278282481186,0.023484846732424566,0.016757236796668136,0.0633585878204924,0.03633903220886767,0.06083263641016006,0.00038612596282642706,0.01498500372233556,0.030634045622099735,0.0004991290910053369,0.035671919590142626,0.043064600091611845,0.04057015543849636,-0.06713496266538702,0.06883391100404064,0.06518619680169115,0.05137071801057568,-0.040961923602117534,-0.04046637791538588,0.03858035466325925,-0.07607708106046437,-0.06757805987957367,0.01868818450635644,-0.009610354371529151,-0.056823003107358536,-0.08167085740784613,0.023226812667790107,-0.07443507287723693,0.06351025878615511,-0.04070478335703465,0.07067124951405077,-0.009082094331861825,0.045013588708405265,-0.05177781494286898,0.004899030374801258,-0.00540614298621567,-0.032941603584685064,0.07636336975301859,-0.03619837254202945,0.07123756201736775,0.033399587752656085,0.044830799712128694,0.01784845082553257,-0.0735735189837676,-0.0685184979335105,-0.07665078831954007,0.0553183804017907,-0.030141199270482442,0.003386823963779181,-0.045340189822687144,-0.014902819798711714,-0.03525355766101439,-0.03772624388982404,-0.07839718771295219,-0.007126734610426774,-0.07194485187757346,0.030760458988367056,-0.058576819737672155,-0.046385877357543605,0.056896922801292604,0.004794031112910726,-0.05105156716734437,0.030612163472704727,0.040421222699661336,-0.01952861454076934,-0.004859689445114615,-0.03139451146458712,0.0630935705679671,-0.011934615500824614,-0.06960156000413648,0.05614125804268363,-0.04446238620146309,0.024126962237531458,0.04047094892945574,0.04191259133479509,-0.07988623971328561,0.023164180783261837,-0.014516717374292956,0.02297377567127464,-0.08487450412718071,-0.0026127728896146625,0.05001319309717383,0.044021613374907585,-0.01908417072009728,0.019210899115286274,0.04728692270912784,0.0804594109158414,-0.039456871565945996,-0.06058707874385098,0.051073266875255874,-0.07364719283633689,0.03695140776367402,-0.03131364780339956,0.001185053220677583,0.08129830174446735,0.026060206564343828,-0.08321653468379551,-0.03127814744636535,0.07719349699134957,-0.03183069268749406,0.006194732262281554,-0.07731400834294282,0.008876942976555892,-0.05505237151478517,0.05997942714095286,-0.032738653861730124,-0.010827769685126092,0.03604526535755001,-0.02858553468289153,0.034630348547101654,0.00047586162694613054,0.07617876129104507,0.030350137895969104,-0.042175353078968136,-0.07696795467550879,0.003601716954062581,0.04035938639045648,0.0060640464981617315,-0.009771093145555569,0.07007696595038894,0.049947760225535445,0.03975209913495569,0.05224247868287594,0.029783806196170323,0.027258128461236167,-0.041000890111160634,0.027191195961832403,0.035606929239508374,-0.056405495445287744,0.051205407294400936,0.0346723805721115,0.01983575989097536,0.04149928977635107,0.07014357094122481,-0.029919272329485883,0.08413150665780858,-0.07500312188962929,0.03027703000280629,-0.045204298907017854,0.03555849883002236,0.06563707579847225,-0.03751436426438186,-0.06285389250865378,-0.009408031466809567,-0.02597514424941192,0.057196935686521774,0.06593862092856369,0.06595424299937988,0.03610344141801993,0.009996118950402168,0.01173572735707482,0.03496152478935684,0.07331763063726265,0.046958435841587085,-0.06651685437068539,0.023410101231843644,0.0727037884856052,0.009730829691856586,-0.026103067279081706,0.06839928277466326,-0.06785170708447223,0.019487590426381953,-0.08436360715446702,-0.0653999181775579,-0.037401777173517,-0.05905141200144948,0.08549806943397298,-0.013356951583641011,0.05402967238646923,-0.019013410705270094,-0.07728411092487134,0.0678090343779154,-0.027230386488458408,0.047077354679562866,0.046804652537714125,-0.06309146286242279,0.07575663964029083,-0.01326855218493669,0.012343008948523011,-0.0691532802718504,0.03659384224808884,0.043376946266485104,-0.04291089562435771,0.0011882593651883037,0.06592236168885472,0.06624469905063034,0.07834455808433766,-0.005919355136570601,-0.05848747573975751,0.011233658103647954,-0.044046305273912366,0.07078225134910117,-0.07622668322943454,0.073325547478118,-0.06784621332736065,0.046678011423729515,-0.05161364383699417,0.028038319305904308,-0.07039968921438974,0.07008647362396728,-0.05344593799161469,-0.0761198323471964,0.044404515384109354,-0.022999964529277227,0.03358380372110152,0.07284117283241855,-0.010274496691730504,0.03600070525357632,-0.05891033751992535,0.033043603334835026,-0.05598113381407708,-0.051955272434768364,0.07522254905106095,-0.049045027357838215,0.08278681937613205,0.08127214891016978,-0.06999669779321381,0.025396387721810094,-0.059495346457408574,0.05873541557547584,0.05162819033580191,-0.02171487827705251,0.05022576139973246,0.08212378434438496,-0.04635262506817691,0.04209216635184745,-0.07447248651017671,-0.06919725527057542,-0.08262934468775586,-0.07095639965673649,-0.021960266854212145,-0.022440070073349416,-0.08397302877363134,-0.034759276046996,0.02413198259634448,-0.0470157379907413,0.05643587808908757,-0.017828810149072553,-0.07277115567508975,0.08069872431947941,-0.055693935854710996,-0.026367608508931353,-0.020625381239720467,0.038824882244034964,-0.002293285342596371,0.05229680386074959,-0.02989019852285697,0.07052557911739027,-0.006933383037559759,-0.013086627274322669,0.04144309854308136,0.03965369207623625,-0.006084107030373701,-0.025782980477699256,-0.036805407800855706,0.07638264080760476,-0.08288558719273947,0.046819196518561076,0.002536269798109216,0.07959100256435242,-0.018764092837808805,-0.023338369941900253,0.05378314935302978,0.046817322696157716,-0.021424541549550705,0.050715961565698325,0.08065532093182,0.014512122912856813,0.012066012817456544,0.028195709476850614,0.04033611762344537,0.0035649977717285898,-0.03764306861731554,0.056870918410132594,-0.029412144832648788,-0.05987816509273198,0.0764485903555616,-0.07179693911479026,-0.07010368594431154,0.04880202742622492,0.08194488096840745,0.07582824115436143,0.0024951560932288943,-0.024885258256752932,0.06580501085117423,0.050758949657937466,0.07333651599721436,-0.07621988237963132,0.05790900864412493,0.06142144088216828,-0.0707361071983651,0.0043084101143633325,-0.026847721893992777,-0.07459800478667804,0.07131012769234828,-0.046169891737014905,-0.041912213847584555,-0.06330106235772813,-0.03590688449639692,0.019887908587928348,-0.07963566774666384,-0.06760190220521894,0.03409405972823158,0.06620392405540947,-0.050540986110738186,0.06278661454900421,0.03917323211415208,0.07702232375972826,0.0374812236291895,0.03839662839663325,-0.07100671884092656,0.061551977639870935,0.03365734504461448,0.0036256941042075146,-0.03241612571508909,0.0557276235859904,0.02887028874939912,-0.07280340947474682,0.0476116173750717,0.05243200413053243,-0.08386306190907322,0.08045500550285888,0.01812927786046908,0.008732916774719076,-0.009000476857927259,0.00812511825697833,-0.007782936864553722,0.08222496910476236,-0.0253471951889911,0.08347577768716515,0.030596670280715277,0.06205251985389053,-0.04093348285894488,-0.03945597260025662,-0.07140595345867254,-0.052265984050473106,-0.03506977064458702,0.052104625026753885,0.08001553445137517,-0.04171129311663247,0.013348427380671542,-0.07885429693609071,-0.06091346838602192,-0.058932632194603776,0.08298380971337334,-0.04274614708700424,0.015337176653668436,0.044391763570739214,0.0003409367455114169,-0.06852146610183722,0.06357329639740446,-0.01744543172613808,0.06642876559367726]},{"id":"chunk-7db5cddc-117","content":"GeminiModelName contains a list of available Gemini models that can be used through this interface. To use GeminiModel, go to aistudio.google.com and follow your nose until you find the place to generate an API key. Environment variable Once you have the API key, you can set it as an environment variable: export GEMINI_API_KEY=your-api-key You can then use GeminiModel by name: gemini_model_by_name.pyfrom pydantic_ai import Agent agent = Agent('google-gla:gemini-1.5-flash') ... Note The google-gla provider prefix represents the Google Generative Language API for GeminiModels. google-vertex is used with Vertex AI for VertexAIModels. Or initialise the model directly with just the model name: gemini_model_init.pyfrom pydantic_ai import Agent from pydantic_ai.models.gemini import GeminiModel model = GeminiModel('gemini-1.5-flash') agent = Agent(model) ...","metadata":{"url":"https://ai.pydantic.dev","title":"PydanticAI","chunkIndex":117,"totalChunks":208},"embedding":[0.06582761999495472,-0.08832377576604905,-0.01283831692091535,0.026604808260050555,0.0641204359723697,0.03966485640707352,-0.07846256427335993,-0.0172731971201885,-0.05566798347705328,0.08750436286800133,0.07582180212615827,-0.0889565997989165,0.07288433392940737,0.04102341267687231,-0.015181775010168326,-0.0737778505984528,-0.005164784974999542,-0.011610432433190009,-0.035936193922353345,-0.012555430194871818,0.011959163891271751,0.07649331525678008,0.030016408055561453,0.07811648027487526,0.006058814768777965,-0.06456768942745779,0.039433553836531805,-0.05318341668980322,-0.04194510076258714,-0.038726984984594925,-0.0428818621043299,0.07116788221026829,-0.06479602035706997,0.08044420901214691,0.06847625086295256,0.028677637568121275,-0.005076413251431464,-0.02993205866925173,-0.044004752533984504,0.010569504609195108,-0.024642012548522513,-0.0168554038060577,0.07429045573581348,0.06856282402792806,-0.08654125399767693,0.02320896321268608,0.04550097220987228,0.059802204897035985,-0.041383497547105456,0.04103056750839218,0.033008076243126454,-0.01937189148320593,-0.030713147594693173,0.06898878267836231,-0.0001129597454331999,-0.05823678490932428,0.03703885478435592,-0.05221873546806713,-0.00783007960068696,0.051644108233686106,0.05209492981168345,0.04244196080842973,0.004265605901848248,0.08500934788397271,-0.05208270282582558,0.028667815494768874,-0.07432543795252912,-0.03842830805909097,0.03518385004719676,-0.012601908393541751,-0.05741913846491651,-0.0019926566455892797,-0.07245992630872383,0.01265968923966515,-0.08116847061254713,0.025989107556195608,-0.05872112344804031,0.023564632708960063,-0.03228033980195197,0.029193168523595547,0.05269959898962019,0.007749900926808733,-0.01886777653135561,0.03191856493870345,-0.08012456870467863,-0.013777291269012174,-0.07965567736815404,-0.012893380782780801,-0.08210739029003114,-0.03148237025365753,-0.06875462368171677,-0.07675028267851441,0.07792141819303337,-0.06514186174622964,-0.01834276695903251,0.05958903625436974,0.023373325517508068,0.0008933619266998762,0.06252768474847889,0.02234096579382684,-0.08350531535463826,0.040816088365303184,0.04986558982317188,0.0308278015772886,-0.055925401505666605,-0.05661044044420644,0.07302815282688613,-0.01857180441100326,-0.03438383275020918,0.06339763929838473,0.02135844256523448,0.0073467505968496105,0.05404995803676982,0.02978853345420772,-0.01925615522306594,-0.016611243723098256,0.061646064503902184,-0.019914979957016046,0.02467191351556755,0.027959169291709843,-0.010720065197434684,-0.07824784869469245,-0.04532422033116555,0.019957235719044123,0.05531509639412537,0.009939841568618654,-0.005649573060702421,0.032790491649262066,0.01801431459148941,0.01195163887688507,0.03673015194652153,-0.003072013859552398,0.07829017985088932,-0.06636907103135899,0.010087755298769534,-0.024444840779317235,0.0587419806740264,0.06785134858940735,-0.0578793636923545,0.04725475755785853,-0.06173491694748908,0.06623549597667516,0.0808955780296216,-0.035270505430539896,0.06164573110911119,-0.03288201335033826,-0.010645621744291116,0.04900951973187197,0.025129041633388086,0.03838065473937342,-0.015793353524996404,0.03373499598826414,0.07370585923882571,0.011189801419937867,-0.03856728897159922,0.029359902531125158,0.05338132415278125,0.060468325862961324,-0.017302683907245795,-0.08737379494380863,0.007461788724469573,0.035833456524238215,0.08658421566655673,0.07233081332649885,0.08393874839891906,-0.03693942286036028,0.03526803218767926,-0.0024895191205192894,-0.006891542455791212,-0.03034327113100309,-0.0022322586571596045,0.02245491376688139,-0.07871359414486537,0.05959736742709247,0.05836868683974543,-0.08882536063638649,0.037599768073373147,-0.07351053079387171,-0.06511384830804196,0.04057474606443113,0.07224158546543123,0.07397640986767652,-0.0889957337428693,-0.05039568425212926,0.08020427847627747,-0.08670165023838336,0.050182484427942826,-0.062743741101985,-0.06794187110994805,0.08661530243071408,-0.0014903734226460422,-0.06508550577378588,-0.06333216233155158,-0.038271576373872476,0.08634224121025909,0.06455742285942832,-0.07546733498342763,0.05885402769503701,-0.07533184908029471,0.01961873097928456,0.02396409844553649,0.07747335684955348,-0.044467303034801994,-0.02645959961947731,-0.05350747298380006,-0.0043370686151034555,-0.08347287247191146,-0.023682549942904516,0.05194624201982301,-0.020832438176056636,0.03708523520594669,-0.041769842580555695,0.03457610832082281,0.05823810027851695,-0.006327350071720178,0.010240815340538622,-0.006128683082012985,-0.04994209746856057,-0.023514171041145122,0.07766081554086393,-0.02647488306696845,-0.04486315052308152,0.07120950097735379,-0.058006819426698164,-0.06692545037418923,-0.05637355638098486,0.06327256865229544,-0.049051247728519556,-0.07555012443615539,0.08117800176130333,-0.034571978950281815,-0.06995430448894464,0.05660140951092855,0.04662490200178235,0.0870451102426209,0.05172260932038579,0.03270462095920604,0.06046245175124351,0.015309473310646363,0.07489098711354293,0.06149137793339733,0.03672575110312647,-0.0885328168901443,-0.029970915135882008,-0.04335071693852148,0.07901132821818041,0.08465579549927024,-0.002476364170919102,0.06007815798615723,0.031581060209744063,0.03925049698633592,-0.08632467842467828,0.07653186813938435,-0.02004776938687701,-0.03423305949371077,0.07652484169530233,-0.008205167018819631,-0.08743209013939865,-0.01547648144360664,0.005533611899715433,0.06525902927631257,0.038637868162638575,-0.0395781878568716,-0.046678647557756386,0.0639448255553616,0.02771713876412274,0.07178614658416221,0.03790379194259012,-0.009643767213720766,0.023624492181058176,0.03947516296805758,0.05754203770060114,0.015403900228356481,0.03965269355166801,-0.00028521177382700346,-0.06678410883085098,0.07332095567438202,0.029206045759540288,0.086511995150814,0.0497112416498717,-0.045690781970058256,-0.031216942158489958,-0.05832628234980732,0.06590514887005462,-0.041106804779654005,-0.04675583323517231,-0.07794268430679904,0.05059119130755357,0.02054917532822344,0.06346231723714256,0.021010242444875527,-0.005882488332823256,-0.0051885556542651074,-0.04092722374854448,0.08855622542996529,0.05831774036067419,-0.015312274914159872,-0.024701489489138976,0.005001666864065978,-0.007938684629333972,0.033199127048438595,0.06062724458580946,-0.027052174708767238,0.017772209227686638,-0.035171785962011565,-0.032306188268783724,0.0012468250134601597,0.06434368324439374,-0.047668279495595,-0.025721252139316964,-0.05433756106506163,-0.026547030475193967,0.05850386032009066,-0.05193493975703346,0.014909258038838203,-0.08061446410200507,0.006479027277895624,-0.02888277674812032,-0.030410756638117716,-0.06311832051751458,-0.02320522235906509,0.03838487297631505,0.006682935706843365,-0.06458537263820881,0.05515705208399997,0.033612851115720245,0.03611285040303042,0.03894295097021863,-0.017907733168546654,-0.005050412756942578,-0.043508927310662186,0.07482149544495326,0.02845948582875568,0.02937928429279266,-0.04976335045965187,-0.02718363127289951,-0.06830144526026624,-0.050123384734465135,0.05465637396056017,0.04973570279738873,-0.04005876427506378,-0.024907967182149066,-0.01805554981445101,0.05712083367400106,-0.029190048149853483,-0.03863294287070809,-0.03825866300626019,0.05644604537158141,0.056424586753012373,-0.08601037057828997,-0.0882361905789865,0.046041131428389656,-0.004892068709187274,-0.018647425687403785,0.058199900477036506,-0.07180528612473411,-0.0481804331673289,0.06386570530601583,-0.013153744059411436,0.07758103359705168,0.08564411689612907,0.05780732514426136,0.04783765310470309,-0.06884226124891177,-0.06005836356138003,0.07834671602423918,0.03554901223997523,0.07162181439643044,-0.02401861476306783,0.06724466567875294,-0.06516112350580051,-0.004479401910217919,-0.038065722234353,-0.008099901019381945,0.014645977585621209,0.034335986202063074,-0.028557109955590066,-0.02451147363132793,0.05808954789726988,-0.05693568695408869,0.051577454488112094,-0.0025939894342116103,-0.07221092113034576,0.06216063657609383]},{"id":"chunk-7db5cddc-118","content":"api_key argument If you don't want to or can't set the environment variable, you can pass it at runtime via the api_key argument: gemini_model_api_key.pyfrom pydantic_ai import Agent from pydantic_ai.models.gemini import GeminiModel model = GeminiModel('gemini-1.5-flash', api_key='your-api-key') agent = Agent(model) ... Gemini via VertexAI To run Google's Gemini models in production, you should use VertexAIModel which uses the *-aiplatform.googleapis.com API. GeminiModelName contains a list of available Gemini models that can be used through this interface. Install To use VertexAIModel, you need to either install pydantic-ai, or install pydantic-ai-slim with the vertexai optional group: pipuv pip install 'pydantic-ai-slim[vertexai]' uv add 'pydantic-ai-slim[vertexai]' Configuration This interface has a number of advantages over generativelanguage.googleapis.com documented above: The VertexAI API is more reliably and marginally lower latency in our experience.","metadata":{"url":"https://ai.pydantic.dev","title":"PydanticAI","chunkIndex":118,"totalChunks":208},"embedding":[-0.03368801488000977,-0.07214642366616324,0.035651662850056325,0.013834329696255941,-0.07454988668925461,-0.07053028082998933,-0.01960486081172608,0.034136093835575115,-0.08699132902741374,-0.06446366498564024,0.01189124775742338,-0.08568094476977522,-0.018206736805983486,0.05208192703500351,0.057613641704815526,-0.05850812692752419,-0.02202929473067269,0.0027838995116043776,0.06910035562324826,-0.01418361835020485,0.06708051759928924,-0.02995412125623936,-0.056021670033150665,-0.054109620124663534,-0.04543795302808806,-0.07580480426221531,0.03364189108679364,0.03157068758217991,0.015774206328171954,0.026627137675447183,0.08656464284177745,0.011594447388553121,0.02374963190905195,-0.0036651718300951385,0.06059181448796123,0.07514949812359198,-0.054856768437655766,-0.06002784924146199,-0.024828280180485805,0.039174503949940494,0.011664945523362447,-0.07241996409875368,-0.06905610917633223,-0.043001835581315186,-0.029633265897488385,0.06484920500192497,-0.06881253717041994,-0.05531676214484184,-0.06328181307576045,-0.0362557894486912,0.025513158925196316,-0.0032697796734141877,-0.046765022453235314,-0.014370697024437471,0.01567958869447736,0.05520406923107666,-0.030256412878820093,-0.08599161879423052,-0.08349499991781988,-0.08434994803763338,-0.06275363390010776,0.05057638623009349,0.009761129452172718,-0.03683105776300965,-0.054155829033081575,0.0019603917244136113,-0.057284168289391584,0.04057134679232382,-0.04256277208690345,0.029182599442511364,-0.011886062566662017,0.08494083095832833,0.07148235915006916,0.07127015148059034,-0.032595897114086204,0.07168432949550117,0.04338583728493513,-0.0689180321359526,-0.07177128865443844,-0.01846222495607365,0.008447386340127813,-0.033007525514036955,-0.06552828979256958,0.07678977079983541,0.04200384587944482,-0.006015833082279024,-0.04610953697465434,-0.022168736721320092,-0.03358401158717135,0.08636095378093003,0.030941006271132398,-0.019164929687683324,0.018061673691218805,-0.003417503748914951,0.041218151016957943,-0.05695184882244246,-0.02285672429809629,-0.00784920456604081,-0.0253690513147251,0.04477863135509141,0.06988371086692229,0.06254955432477503,-0.06929061026372921,0.0638872477502534,0.06167901111606892,-0.07181452816518347,0.006797324972885103,0.025193565613512662,0.020231755168254994,-0.07026462723408097,-0.04569959387724677,0.07870066863464766,-0.07143027629180124,0.024060929268011427,0.043989530881974714,-0.03336473310577973,-0.013295717320413004,-0.03879497751946184,0.0383395986113826,-0.0036774377283942165,-0.070726982974156,0.01725327396277957,0.03695847839527454,-0.04518640304465302,-0.08299088749214516,-0.009230537789840653,0.07315226935676686,-0.06580262645514676,0.01923360655162146,-0.01951070620921507,-0.04232160544253162,-0.07449897617625094,-0.05522240140909377,-0.012651091932091423,-0.009999278300925667,-0.04266660612692091,0.0010633486655894952,0.025020031488817256,0.01815005666101604,0.04051369144795068,-0.013632674881462524,-0.03598376143789759,0.07131940167332501,0.05734624971965523,-0.07522628276897309,-0.034706380677715476,-0.07544559181494176,0.04455919927853808,0.01132779962666101,-0.012795752716414881,0.053644862478286336,-0.012222230994324108,-0.06264777904297657,-0.06656192064676286,-0.011588189646606928,0.06524486112058324,0.038220399982843975,0.07377689409280835,0.02060474512782239,0.02884759851588121,-0.05460453498389183,0.052671193307151754,-0.05149462644492768,-0.048865632521612835,0.022607071066460625,0.08063091771165425,0.045969861487730204,0.003629266626881496,0.020989382489542373,0.0037459028453452753,0.03288606769242928,-0.041817605637746336,-0.05001891974410923,0.07119269090965874,-0.05402803856731064,-0.030982628802445858,0.07034874116535113,-0.0625058768718663,-0.012670105581215627,0.05838803569423509,0.06632024628416557,0.045929525388688906,-0.05309374053514246,-0.06705394459678182,-0.017290387519597213,0.08478041053046093,-0.03550020018482603,-0.08210846437067829,0.04975533587879942,-0.03722530737410999,0.07168572440736233,0.03985021480281408,-0.03008140267000442,0.055338187105361085,-0.030959147547214703,0.01598779852133058,0.04276835263714709,0.018702316761903866,0.05472274203378699,0.005022480643287837,-0.06722405260690109,-0.00588754834456897,0.08657747547941463,-0.07436144056751813,-0.043021302837239074,0.003495109816942371,0.04516235203345846,-0.0728929803898713,-0.03361211765530176,-0.052831661290431174,-0.03631486913160949,-0.038015077444524606,-0.027916620838696077,-0.001741446798034445,-0.020876796580237292,-0.028024802396634328,0.015570886247698545,-0.07356237023274143,-0.07772382988112786,-0.07189678890136467,-0.01568618081295217,-0.06794740858191646,0.027470158975441264,-0.055496851419447275,0.04514664083811234,0.056021921021520336,-0.007381684949016883,-0.03742144848789339,-0.031859213395256596,0.01433949507086615,0.011121777906062124,-0.025050743097841704,0.08721673950165952,0.04645905255787113,0.022198454764367475,0.05747565503935113,-0.05345402373756998,-0.03987421591961847,-0.07925295921655777,-0.07422352330007477,-0.01609237242134983,0.016726672519865617,-0.011677974966585807,0.07727639720483535,-0.043233237983015135,-0.05001703715423991,0.06151417338540699,0.009525272205979266,0.03091490307326323,-0.00489548353560078,-0.02289153350979385,-0.08483354668625251,-0.0725617414371952,-0.033288571355297475,-0.026816341202974988,0.012947201006412262,-0.05446328734243346,-0.0334594604853648,0.07737271276900887,-0.026452750115351382,0.04830194576752535,0.07940066859078335,0.06450944211391085,-0.0285086509528006,0.026163972930831905,-0.033569487739122175,-0.05945992411581383,-0.025509332789238143,-0.05670644978252254,0.05184742613559485,-0.028766438873336964,-0.05195573165373911,-0.0552009591241357,-0.06362905475685308,0.044310827439531235,0.05316183198892058,0.028611677277601503,0.033321596642967515,-0.049919901749433615,-0.06932048469655795,-0.04975585229672487,0.05265923625344167,0.07640437756020564,0.05685508624479489,-0.06792022955471665,-0.06657972657896652,-0.02656706967351423,-0.06262280074217175,-0.06914808861008942,-0.0682811304730061,-0.060266980792720894,-0.06511007150491774,0.0021263917751156505,0.03423117644134552,-0.08330421775301824,0.08075389003023403,0.07268501224838307,-0.03444438546752065,0.08305168806917473,-0.009648557446700746,-0.05814992211784517,0.0752975744322307,-0.030515938230407724,-0.03896202719310308,0.05516667721320512,0.01577707638718871,0.026707433848753404,-0.08136881110064129,0.011683625144367576,0.03618573146506726,0.08052879307972438,-0.016549201416253243,-0.05905306635852924,0.029796594264865327,0.047813219948148175,0.05724711836515632,-0.08501055682753537,0.03460928154204502,0.07166101573438254,-0.022999075438696056,0.039888370132390855,-0.08500394392015473,0.02948937126387704,0.016527107500726244,-0.010015868990483259,-0.014432643392823416,0.07981384074624862,0.050679846283356735,0.05875642713440201,-0.05059906629365258,0.01968880304885678,-0.061161741297670595,0.02468954338091733,-0.07035749220531787,0.06483948579071531,0.05456894678569151,0.054715230419358454,-0.04709123794132322,0.0361098447942305,0.06553356803461892,0.04544000822293326,-0.05525928173341772,-0.04719414174996702,0.07709418875211042,-0.03864711941161323,-0.03258470921099264,-0.0043335514674802495,-0.06724467397131556,0.0432750218516644,-0.08048428819338525,-0.01353526295987841,-0.06201426217594336,-0.06875136543285182,-0.037544649567952525,-0.07129573524942615,-0.01893587769532745,0.04357836692562074,-0.01389854413698424,0.03824024744537173,-0.06550498679727608,0.055756996486446095,-0.03087812788056163,-0.07391495988717092,-0.08008469137221402,-0.062229135120045964,0.03235140057138605,0.08560877170781284,-0.026113902066054667,0.07467094225321891,-0.06496850271269995,-0.07619243908478147,0.0724713378861429,0.01185078797333129,0.07084569499552731,-0.0378699564255425,0.08587166479585868,0.058643294719511616,-0.06592885921070658,0.08228537734080722,0.02326155247204089,0.02366512633344135,-0.06780786695475291,-0.016350920740804277,0.03483831977808551]},{"id":"chunk-7db5cddc-119","content":"You can purchase provisioned throughput with VertexAI to guarantee capacity. If you're running PydanticAI inside GCP, you don't need to set up authentication, it should \"just work\". You can decide which region to use, which might be important from a regulatory perspective, and might improve latency. The big disadvantage is that for local development you may need to create and configure a \"service account\", which I've found extremely painful to get right in the past. Whichever way you authenticate, you'll need to have VertexAI enabled in your GCP account. Application default credentials Luckily if you're running PydanticAI inside GCP, or you have the gcloud CLI installed and configured, you should be able to use VertexAIModel without any additional setup. To use VertexAIModel, with application default credentials configured (e.g.","metadata":{"url":"https://ai.pydantic.dev","title":"PydanticAI","chunkIndex":119,"totalChunks":208},"embedding":[0.07647369265125531,-0.03536803920688852,-0.059031237322242684,-0.007397823547809837,0.014893649520022563,0.08147405680299347,-0.06751080691176574,-0.023409294924032802,-0.04822580015530677,0.05512511551138379,0.026325273960066686,-0.009746227803402788,-0.084368498161501,-0.013184613937147684,0.06047075361497976,0.08288967425501195,0.0826239807329642,-0.07840275195452127,-0.03968323037427474,-0.012864400740618894,0.06530566403882697,-0.06259322146012429,0.015843188494561396,-0.08416765992617253,-0.03427143110988241,0.037219215182800164,-0.0337879042999528,-0.030020702461566157,-0.03317920686001226,-0.04712010086240165,0.0803934682476069,0.050164810764230225,0.04759179318024654,0.06423188076649919,0.061210370848203285,0.0016127243667734903,-0.07502571439049667,-0.08448192753242846,-0.014671148075208675,-0.03201591051989926,0.03870546866440784,-0.06962199058592991,0.04565098408763243,0.05945839728037507,0.042433643565166275,-0.03516436251528599,-0.08416466542382431,-0.029632768774702195,-0.034417008437604424,0.016670255373350807,0.07883905686666125,0.02008074064630127,0.020339288308515977,-0.08390367665431005,-0.007460371748299638,-0.08070027258958688,0.0449384018129984,0.04794897697003918,0.04764199561181854,0.01643823969397716,-0.0729189229536559,0.02121991637069351,0.020554921853362718,-0.01663049996509202,-0.044296258983393885,0.06414898924710881,-0.0828386423952268,0.053336208017133464,0.07541477500305736,-0.014231264745154189,0.020975672800087216,-0.04159653251142862,-0.07054166203196115,-0.06608871598572558,-0.08433406998858313,0.04708559459609591,0.023977319490859603,0.05930959394498617,-0.0653427212118103,0.03300424378717286,0.021359295432517914,-0.04761033461732818,0.01167838930762939,-0.05836217605223567,0.030885995323442817,-0.06881542682112725,-0.0699943668366165,0.03153349381195383,-0.06309233823143062,0.0304110815292316,0.06017487483797189,-0.07639071519559822,0.07323371303204715,-0.06464686534362953,0.009364168679553668,0.016493380596712723,-0.05805793449048038,0.05928979503335803,0.07142595887347715,-0.0002077115806164411,0.000904713969965892,-0.07371917030860876,0.03796342648358459,0.007581148112315205,0.02760120688609022,-0.02665588052104668,-0.022742468769738844,-0.012125121430044825,-0.0414244421420443,-0.007755648221957817,0.05493061353390856,-0.04719797175833944,0.017012895763681268,-0.036626459538294055,-0.07770940561024595,-0.03739546155000585,-0.0660183735347647,-0.041899303157889665,0.06760442455626758,-0.06458689484220591,0.06156894211470793,0.07316266412917777,-0.022163661262286773,0.07307624621628189,-0.05628067796979437,-0.06518691912190254,-0.043760551472477156,0.06466223772617412,-0.04564936734641328,-0.08098473832034637,0.03868488830978344,0.0346681573114249,-0.06113780356867386,-0.0022326082172953476,0.03191685326655407,0.012883263024855672,-0.008412800735364835,0.008667144906109715,0.07195911682791921,-0.026355838578382217,0.055655477500425994,-0.03220475604282831,-0.08475379405753634,0.060959378242617365,-0.0395955945628543,-0.0299591554043436,0.03388340561755197,0.04999522237378341,0.03564214170337409,-0.05610578049312673,0.005331441254824041,0.010059513249909901,0.07881086716735437,0.056829991748526536,0.08054389523411656,-0.05248467598464445,-0.036957658866697614,-0.02086911623972002,0.01635950618828225,-0.019013584136194937,-0.028275719441127497,0.017679304066990958,0.0275887704085843,0.06247040280959624,-0.0008233034223300292,-0.06278057204296439,0.01382069212678001,-0.0567450905005372,0.028947544190900107,0.038803446608124396,-0.0020903769252142066,0.0014257517407744104,-0.026615213078520227,0.054095205668664215,0.027609342493288228,0.07306098753820126,0.05765266606204321,0.04244598426489312,-0.0022762861322621407,0.05944044688234001,0.05301934691836761,0.06865989993623388,-0.06393860983032253,0.06888511246158581,0.021863918073507734,-0.02723101016619451,0.024488512189791548,-0.06780554603097243,-0.06921385281682904,0.018515557545758444,0.03768906011073613,-0.03239560808305876,-0.05804835088325367,-0.0706822253578444,-0.05944040809035913,0.059325642087036626,-0.01810469146184176,0.08400242036668176,-0.01536285508011783,0.0316302327088653,-0.08344989722009584,0.04217922102850136,-0.029250540693789073,0.01178908334979092,0.03395635253435748,-0.0646570070850951,-0.034312710686972864,-0.07248732504149487,0.01479664787293939,-0.008365949249679705,0.03520992394197528,-0.026088824702491218,-0.0644232918781305,-0.06839425113194826,-0.02370494066474382,-0.07496595702635589,0.08250708863086625,-0.012234972385410511,0.061734958479288296,-0.018571494641088742,-0.03660998071208348,0.0005967102084230571,-0.04553022458420186,0.054122852203562596,0.08112916989302521,-0.05245733398682125,-0.05030728869102247,-0.02941969346180902,0.009676891641113464,0.06602294682955785,0.051564782496355654,-0.04805166518925047,-0.0804984815345784,0.08056737502632538,0.05150556802463116,-0.0765267651353227,0.07657039240180921,-0.07378284021055491,-0.041878647246054224,-0.024563491171822462,0.011691965396190235,0.06934090308680058,-0.0725382647913844,0.029801845181259633,0.05037081399224283,-0.007935160161204297,-0.03819667779651579,0.05308915426587086,-0.05774344654377671,0.042776805740439065,0.05213463945610806,0.047660264350725685,-0.052913760733596604,0.06750320225397322,0.034501874493845404,-0.013419509281079057,0.0008238779949720277,-0.04089365451853604,0.07022959155746869,0.008437433224666158,-0.06315939710266985,0.049897338742146635,-0.03309800321497477,-0.0661046873534076,0.004720842205285349,0.04749807416750771,0.06850322577454206,-0.012264407793557124,0.06926295065753729,-0.013418693143418313,-0.04795726061408221,0.025517022139039006,0.018407146933370526,0.06965769695875285,-0.01177315478717034,-0.05005358835635767,-0.06589732836770965,-0.004629217968751342,0.07729549239063654,0.08054802088588948,-0.07857873176513012,-0.06864936867015926,0.0636992618247662,-0.06259505870374456,0.003026371035063442,0.008278337596195923,0.06925690098531273,-0.06355098863780975,0.028603715987035767,0.0076305057894228085,-0.0038843524234412068,-0.06683003292982237,0.027037037621571555,-0.006756237549797502,-0.05155989604620701,-0.07766999842158502,-0.026116275429465617,-0.004242649066227038,0.004094990464078535,-0.02751239366715165,0.053177524730069856,-0.04158266222300033,-0.05038067927932628,-0.08446167344177957,0.039528141135343225,0.06148612944011665,0.07798897203037372,-0.0648988382723516,0.021410865348555755,0.019033434460673928,-0.0028748790541730704,0.0206802664119706,0.01088581801490074,0.01831261099291307,-0.048011664436551284,0.07148983306092599,0.04720139976364271,-0.024673903795647826,-0.004061470401216732,-0.07428912156950648,-0.017760034589082246,-0.058698895087482245,-0.05277234121607731,-0.07686322365488367,-0.023752133375595275,-0.05836665697543906,-0.07615326256443491,-0.04540111104729185,-0.039792858254961413,0.06573319246014642,0.06136116028428635,-0.08424391071176718,0.02439464922483472,-0.07150945403218797,0.08016111313354081,-0.010955731340160483,-0.05986737611541497,-0.05099924490261206,-0.0051990987902265536,0.06879869010825918,-0.06631643359640352,-0.05357839703720243,-0.06370929289826836,-0.07708118121415725,-0.07871036234376057,-0.06360351285464509,-0.0371467065251105,-0.011396230302030895,0.045428988668104006,0.013171736956011747,0.0515004745836371,-0.010169991242992935,0.02286404864623504,-0.07941920259987274,0.07600401421016038,-0.025933669355879076,0.06921430241221868,0.04506564213655416,-0.041539726220751326,-0.053810196301347556,-0.0745899069589525,-0.05576410963125169,0.06661721033285667,0.04856088195928099,0.07165956741599365,-0.07295975127590347,0.0021986210162413685,-0.04678351061777507,0.062312263779306834,-0.04586168724579386,0.05339980778790464,0.03636899453766856,0.05702462656630481,0.06721946161246965,0.06399830459464304,-0.03758636295597174,0.04141292219034624,-0.0664500186463274,0.05066198514849547,0.048671874577715345,0.01184764521711963,0.0724093364634965,0.022688339769621573,-0.013365610243499953]},{"id":"chunk-7db5cddc-120","content":"with gcloud), you can simply use: vertexai_application_default_credentials.pyfrom pydantic_ai import Agent from pydantic_ai.models.vertexai import VertexAIModel model = VertexAIModel('gemini-1.5-flash') agent = Agent(model) ... Internally this uses google.auth.default() from the google-auth package to obtain credentials. Won't fail until agent.run() Because google.auth.default() requires network requests and can be slow, it's not run until you call agent.run(). Meaning any configuration or permissions error will only be raised when you try to use the model. To initialize the model for this check to be run, call await model.ainit(). You may also need to pass the project_id argument to VertexAIModel if application default credentials don't set a project, if you pass project_id and it conflicts with the project set by application default credentials, an error is raised.","metadata":{"url":"https://ai.pydantic.dev","title":"PydanticAI","chunkIndex":120,"totalChunks":208},"embedding":[0.05930297252136133,0.05998058207071264,0.0797005127676595,0.017122262914692106,-0.07963317244444318,-0.07921376665784531,0.03221880402425332,-0.032022526244793174,-0.006335695349355494,-0.04438256916702875,-0.014929489723589276,-0.08131143516167959,0.047010033803235755,-0.015303147162887507,-0.05921638828731992,0.0055791692510391904,0.01593133489694168,0.006428861316732249,0.02472230140609584,-0.08737441703196795,-0.026842515572551313,-0.011141693786316829,0.04732089859621854,-0.03619805010496279,-0.010743355889292039,-0.0066218236570601335,-0.06905448518454946,-0.05791556508372805,0.07925917365261578,-0.08354111730360632,-0.06864438835901128,0.07273361401823436,0.037869118042146245,-0.0752268430386808,0.06994054277150275,-0.0408941582609414,0.040262138736424515,-0.041045652647459074,-0.01894241512162457,0.03683753924078091,0.0621807140786503,-0.0680167832274598,-0.029462384114768193,-0.08707751071054347,-0.08079220850381817,0.05536244653930427,0.07641878682565796,0.08451095971752183,0.0030991460176387833,0.07853188411980512,0.08767402987374423,0.0616002216966662,0.0676744351184921,-0.045652079903469714,0.07504199105943081,-0.027915707762042108,-0.04848419993740557,-0.03438641856772752,0.04925876890161887,-0.08095260050320911,-0.029097599976009865,0.036342839274308855,0.027800292245754296,-0.06709438083923029,-0.039837657654137194,-0.010979382860874265,0.04191969468631183,0.05772227711033279,0.07315861502424664,-0.0761941036280976,-0.07339013852439676,0.01846657375414251,-0.0054139229526919495,-0.07766734578113463,0.00822784127736456,-0.037973812250356995,0.027061666017873885,0.04060319799926654,0.06531611872335533,0.06597193634263067,-0.034612337219696206,0.008160436570030245,-0.04784846400527737,-0.049793334160720126,0.05760107665193824,-0.033202610203425784,0.058717552676983364,-0.0469409033917264,0.06849598929761484,0.048331967119915276,-0.08577279086654521,-0.017406718243128238,-0.07129225014333554,-0.058661518116141516,0.023984744170332535,-0.043783360958085514,0.017485735403736644,0.0037268197243824955,0.0070421160074782205,0.0362439915911269,0.053920703019264805,-0.05420371698061938,-0.08340267826873848,0.08510201355583498,0.07475880575715599,0.0028528022261863285,0.0314471378530086,0.017204377444315758,-0.026667002866554733,0.0865194037472293,-0.07413774484352932,-0.02282523519316298,-0.03974615586889969,0.019851957929949652,0.08008002719510511,0.04316370064045851,0.03315719094569036,-0.0483068002030027,0.02968005146194007,-0.028234366348676942,-0.001991095846040596,-0.026173873780833048,0.04298741640364493,-0.0005872728186597175,-0.047069759988341626,-0.024513015193119988,-0.05212638396733331,-0.07037567158286606,0.05732138818902347,-0.0597904284780831,-0.056834051469265005,0.0665614104878586,-0.0257787262084749,0.041641665606642744,-0.04647813212934237,0.06976619904899961,0.04683496979616883,0.02691176362603894,0.008499548414747388,0.0029089345821662503,0.02683447479606106,-0.06292991070060482,-0.04206306028501725,-0.07174788909236432,-0.006152609396777734,-0.0774441441950897,0.0757953581710725,-0.013201680970486922,-0.019565713000757042,0.07615821905669279,0.02592556765407809,-0.015199750552993387,0.016790799180474953,-0.06004395045043775,0.0565048601254956,0.0703735072749926,-0.007779192254918183,-0.07682376256450649,0.041798912074864907,0.02507910806941822,0.027576779076057698,0.004421305600844198,-0.01254543624784421,-0.08237671155421115,-0.05054520945586354,0.08293791192163444,0.012257509986687938,-0.062441036090433215,-0.003596977438859082,0.02684270808455458,-0.03568028674223269,-0.019512398492040218,0.07107786405486725,0.03286827833847324,-0.029267291868544088,0.06824315459361033,-0.01880835388271297,0.03820897630212499,0.02817194655918628,0.0022140507179990473,0.004854425013085609,-0.024735303385788627,0.033137358822260064,0.02635790954488121,-0.07150090607504611,-0.06133077738019007,-0.07110301530806187,-0.008344196490241946,-0.06245679629393121,0.06889388155754007,0.006829977763762501,-0.01521258540362812,0.042803026440623254,0.07526589466042954,0.001501184298113467,0.00616739560386365,-0.08071196517713894,0.08557637503819422,-0.08655148668435822,-0.016730229807056105,-0.015881193214775373,-0.02234761985051869,-0.01104670440730851,-0.026815498042732432,-0.01412247955053146,0.08022541569756711,0.04872823415137653,-0.03360530192542088,0.055839005481563245,0.024446057196934313,-0.017622899932343086,0.05837490246217859,-0.08633296944189342,-0.022884187893673878,-0.0022557594988599898,-0.06718840275970919,-0.0669222707762355,0.07422546069699111,-0.03846090249687886,-0.051577319448152546,0.0832992146693432,0.04111533174283992,-0.02790944468500482,-0.03742157996718751,-0.023456340696803815,-0.04708298704333144,-0.0856100612051172,0.026941260026015407,0.08192056123090723,0.017214725206234155,-0.07907853375941697,0.043319728841452215,0.05130930841156191,0.03140504947892451,0.06742774739075834,-0.08688355265903104,-0.08551827772775979,-0.005434541193684739,-0.051554485750991384,0.07640355277809942,0.03630495284144198,0.006497097938296431,0.02930751567901182,0.06374966423053725,-0.07351071558052165,0.0006979069686270847,-0.0766250510982243,0.07204178176432921,-0.08400659964458537,0.003117131720753588,0.02954129404655001,-0.06609601356770468,-0.034801075345743004,-0.01846063031294625,-0.03745838534706585,0.013083765408502661,0.0490315917637695,-0.007724636480705392,0.044561308961004735,-0.03219849560970339,0.004094535294486522,0.06910871864378497,0.08660206701947147,0.04845059371047262,-0.07647789079535791,0.05360519703224058,-0.029719043365330718,-0.04214246273359475,-0.04001367822379456,-0.04920033522898055,-0.004577232343869992,0.005208866926354815,-0.03099699047186606,0.005793390846977106,-0.06516202067971322,0.07552680434377225,-0.025070188640242293,-0.016574555231374306,-0.08665871660271932,-0.04315142836497483,-0.04997482703822043,0.0038311243315061233,0.03256364822025126,0.015231570543056303,0.021376233946339303,0.06347330507100048,0.05893706370714619,-0.04256159729502263,-0.014641209787234013,-0.014625206957277922,0.022589244187937292,-0.020298158438811734,0.0012818156891655213,-0.05201486668306361,-0.07862623125429985,-0.01289506667346132,0.027842047296864805,-0.03801280604442842,-0.03811167252793918,-0.020685419984750326,0.044584311828977805,0.06280050935189922,-0.07417873974014048,-0.08424755861817684,-0.05720702885544272,0.022195197235561254,-0.009787294477245953,0.0075652423082503825,0.022598494477629193,0.07908505308184831,0.03225981984562502,-0.0050713217290843,-0.04690264089289805,-0.040217742034156366,-0.08259463063003991,-0.03811737637174158,-0.05064300382894587,-0.08706521366192936,-0.0286977608094421,0.08045603215528668,0.05034677433149052,-0.07706513233217852,0.07806844532418404,-0.05003840688229354,-0.022746963245736867,-0.0783502858897117,0.06862351199974337,-0.006425324346675896,0.05476169616869013,-0.08482591460534125,0.008103540995220615,0.011898077365400108,-0.02433181844993225,-0.07513294966725394,-0.06228383914149295,0.056373860118668774,0.0739473451867024,-0.08597839766782107,0.0666727391892721,-0.05801470637486055,0.06767408672605651,-0.026338431591849107,-0.010506505485961356,-0.04099684804405243,0.06886536700221259,0.003683460684509782,-0.010689893402617046,-0.041854000712156746,-0.0656020393322294,-0.06198987919722697,0.018609842499258834,-0.008432096908723596,0.023782482021829046,-0.05440226262093919,-0.007945761253967263,0.08054600925849123,-0.04637633104513918,-0.029324086450732582,0.023710484660671122,0.07338080146740723,0.03162467817030206,-0.07739142153514827,0.030797875925723563,0.05018495007803234,-0.08253366533280432,0.023606649954170878,0.04207965732360761,0.07744335760763074,-0.0006528495579949974,-0.08247912676484823,0.046932683705686144,0.006984138931654091,-0.034178147574217686,-0.07762378193683536,0.057958119460013904,0.04795660928723552,0.0633739783985457,-0.011992544677015266,0.02214174766261832,-0.03977430327296884,-0.033911489365481426,0.0757716593655904,-0.06981710419551992,-0.03433217606256586]},{"id":"chunk-7db5cddc-121","content":"Service account If instead of application default credentials, you want to authenticate with a service account, you'll need to create a service account, add it to your GCP project (note: AFAIK this step is necessary even if you created the service account within the project), give that service account the \"Vertex AI Service Agent\" role, and download the service account JSON file. Once you have the JSON file, you can use it thus: vertexai_service_account.pyfrom pydantic_ai import Agent from pydantic_ai.models.vertexai import VertexAIModel model = VertexAIModel( 'gemini-1.5-flash', service_account_file='path/to/service-account.json', ) agent = Agent(model) ... Customising region Whichever way you authenticate, you can specify which region requests will be sent to via the region argument. Using a region close to your application can improve latency and might be important from a regulatory perspective.","metadata":{"url":"https://ai.pydantic.dev","title":"PydanticAI","chunkIndex":121,"totalChunks":208},"embedding":[-0.060696610963697974,-0.022309484800365896,-0.008445810882647047,0.007318063790022221,0.032060125759356094,0.025001564582980515,-0.07592528463501942,-0.043352587941519666,-0.012037562246466503,0.060413072656321495,0.02546317605234109,0.03586529930579862,-0.07729066001713839,0.0513557232314676,-0.05749376114521228,0.009541332766467344,0.01812009689822095,0.03100487678191731,0.017394393859934562,-0.025677348910659398,-0.002067617627262077,-0.04219047327956979,0.08178729038539981,0.030472777936510227,-0.011720389192876591,0.05879140903784731,0.06524663359671772,0.08378621475371129,0.056258594887958986,0.07605437987648146,-0.06455546646861238,-0.003929896411959488,-0.04487329544886412,0.052050617780214574,0.03378836370710431,-0.0489806386293411,-0.0815505181786972,0.009783441393783373,0.038283171027339996,0.027289238530899856,-0.03668429130295564,0.0022486136311375368,-0.026331300418591906,-0.05718752860013712,0.03354666485865536,0.03342641191442602,-0.02666699394798009,-0.0860904338744495,-0.07609804773431521,0.022148818625511577,-0.07919997881103964,-0.007192072278610723,-0.05478520287685334,-0.0035148439306278982,-0.04912112025972072,0.03674197167799707,-0.048258898341107914,-0.004565470873515678,0.06316276699687245,0.040124221263880266,-0.050624708056995024,0.052906734900504834,-0.026617703690161598,-0.01837595683764593,-0.06553158588812374,0.0802031356472721,0.06300983126689788,0.005786414801322441,-0.049449740734045816,0.07472695447865428,-0.00043451663461434753,0.004334312178506034,-0.029712373018765312,0.011722251640767104,0.022958474697627816,-0.03760189947933587,0.08169795424280575,0.044841990678705645,-0.05407269083014583,-0.06433568204681639,-0.060289968478892786,0.015649849101818065,0.01853516279603327,0.07553251937000313,-0.002526422953627315,0.07426277303598716,-0.06952452944603553,-0.025858542196892882,-0.023197739365063093,0.025001083103280947,0.06484056099680095,-0.02483829984101241,-0.008859712659852356,0.012058755768364002,-0.07750866945645503,0.08368300784421238,-0.015300062191260275,-0.04733318933221365,-0.052172460732781235,0.052696953593131396,-0.07446640167448842,0.08100038523912949,0.07173168720511565,-0.0037191363908042683,0.05836497896905532,-0.0631448035252985,-0.049144963660300765,0.004023217477721685,0.08209150566800962,0.06730820657594822,0.021207313246496422,0.049396643586248665,-0.018426395340504435,-0.0634488265785085,-0.07110762257511148,-0.07247282313323883,0.05227577844054115,0.07009480678774364,0.03299758199917289,0.08463114445670267,-0.04014888436268202,0.01772693911812974,0.08497336885571198,-0.044881578300169,0.07785983678277651,-0.07516501184889295,-0.006319161499311266,0.0829039183875558,0.006608404553752004,-0.042111376269492774,0.028950439089215463,-0.029420319695477905,-0.057093284332474015,-0.05587814091339115,0.08327921754956905,0.015872153740138662,0.06713912493406668,0.0039030386247511876,-0.06845061264120834,0.04854904173995283,-0.07723666419637448,-0.07473929138883471,0.021822126089314938,-0.08076128776540689,0.023152942725811233,-0.04457730760211502,-0.041394781698651725,0.04611344328827156,-0.00012666231628342107,0.04051125990782753,-0.04314022775067097,0.03976677346145517,0.08356735992382142,0.0853616944145317,-0.04322514263290803,-0.004506520995543361,-0.08418352174754476,-0.00647246122473712,0.0198098238135264,0.018366581320515357,-0.048387175615338444,0.08366562712096659,-0.02494534363592569,0.018095008944354462,-0.06770438453589782,-0.038945709748157094,-0.07635818888686917,0.013796103087520424,-0.0057771319906237,-0.08253786813204074,-0.039437328612906566,0.040014327320190446,-0.01626819571543675,0.0032559969001788557,-0.07022488389954208,-0.060013030128577026,-0.0686205174386988,-0.0434441697984812,0.020075015281802295,0.03515497838761055,-0.014631137575131773,0.006798149209145598,-0.049791096271639065,0.054850590624626445,-0.07592534300672053,0.08487430500750794,0.004368986990118069,-0.005693426994195173,0.07522488752311327,-0.03749646532174076,0.062451548001725525,0.009566104521213946,-0.04871520853054791,0.024991407712609007,-0.0016744279123300017,0.08693340541825721,-0.07010926296550848,-0.04759240188288684,0.04442460276364748,0.026644475259518165,-0.06404070210835142,0.07231060821861303,-0.08364349263139441,-0.08052769977627507,0.014439740590442791,0.05919768638512623,0.03273543174145876,-0.059605063994377795,-0.006690223711352442,0.03932833710909472,-0.02032616993498054,-0.05788297920932656,0.04672283747925581,-0.0006269475545273937,-0.08413799877869113,-0.06256418557828643,-0.07802543005146749,0.038223725258925235,-0.009722235171510211,0.06426868271643994,-0.058430719145577965,0.05384006660049522,0.04088035666871654,0.03229466389160647,-0.07230368022231849,0.02980253198942803,-0.019462140409617204,-0.07838232434708732,-0.020807882170252225,0.07983613474909204,0.07540468177694501,-0.06075572489971537,0.08637193895969117,-0.07654433465802268,0.025340630763700994,0.05501161638826402,-0.08400181956032898,0.07388807918068864,0.08206124220343436,-0.030711698402824106,-0.03971172348579426,0.009030423319205024,-0.06339928283745636,-0.022792725203329398,0.05045478442229553,-0.0006156176384325732,-0.040946885716028496,-0.02989162033988002,0.0646259564611403,0.003575027831181519,0.041317001540260634,0.028975943020902277,-0.03711118737477295,0.06877325109457369,0.0743759873364435,-0.08105676007286033,0.07085675980871052,0.0021261902328396113,0.03024627733708035,-0.060149217950533816,-0.011264968374449423,0.06496382684976765,0.045407147907083376,0.0027884565718398133,-0.027345698881628595,0.053284270385444074,-0.03686194020849129,0.006746362545341659,0.07608991396515509,0.08191375512757995,0.02443685465891689,-0.009801068449811403,0.07871164725997584,0.08107408967004585,0.06670935653877405,-0.062179627047413005,0.06106570520697744,0.007634976438991436,0.011770629308151351,0.0026683699814864415,0.07171810237044281,0.022535694915438897,0.040606990446931716,0.03286861087061102,-0.008509676890072822,0.07348037964352996,-0.017497412693206402,0.02991175548841353,-0.08062089028460784,-0.050645486677417396,-0.03411865362256629,-0.012837454807300286,-0.0737914139991355,-0.07619939312421836,0.010183474639213664,-0.06131682016664502,0.00918527602207354,0.039774708854846075,0.029206449225261596,-0.05086085491901723,0.07627674207873943,-0.06871272792845397,-0.04821466332605346,0.037762526383765586,0.003242561324547066,0.08581462133571341,-0.06983171373296791,-0.06275697036849053,0.023642462499964455,-0.0537341407471273,-0.047331193662223645,-0.0418639401130228,-0.0839676045234086,-0.002080512238996601,0.08363851280715592,0.079386564455645,0.03912363076229543,0.08553161496167305,-0.015656504459791123,-0.0003595913842131395,0.003625495041805309,0.03595718786334552,0.012086126004006003,0.021186956586335248,0.07386898541876222,0.05459249791251594,0.054670939872400647,-0.07303927175935014,0.014318598078169624,-0.035885627358110725,0.009061113470251337,0.019272528514551492,0.07345269535229441,-0.07749044836241255,-0.07112879978418045,-0.038266176180439995,-0.054168393759647465,0.0011402995330215496,-0.051323168466536034,0.02078436674281984,-0.048073878776031614,-0.05726329779529365,0.014068770287028158,0.03771611892299015,0.07264075599542841,-0.0335724329087359,0.024975965038357636,0.04749821353084789,-0.04100174192777605,-0.07086620582437268,0.0020582004083776065,0.04922126523761704,-0.08077447941531324,0.07237887169672387,0.0012351415658160814,0.06040689494821833,-0.022019603738003716,-0.039166690610494395,-0.014439263941408024,0.007857174009177296,0.025254453786300785,-0.08383133295214985,0.008646021969337461,-0.03985609844950498,-0.08178303575213298,0.0033380039694442774,0.016627351745250152,-0.06893292223281965,-0.07367506148931213,0.005452760506801086,-0.04345773979772147,-0.0027293221114562433,0.019542872462291014,0.02183696229925486,0.01752318405670217,-0.04597516667783443,-0.001570616147592969,-0.08103294112978278,0.014103464774973214,0.05913533338532973,-0.052130844390080304,0.06868206212245677,0.04024019975517129,-0.07020076219291077]},{"id":"chunk-7db5cddc-122","content":"vertexai_region.pyfrom pydantic_ai import Agent from pydantic_ai.models.vertexai import VertexAIModel model = VertexAIModel('gemini-1.5-flash', region='asia-east1') agent = Agent(model) ... VertexAiRegion contains a list of available regions. Groq Install To use GroqModel, you need to either install pydantic-ai, or install pydantic-ai-slim with the groq optional group: pipuv pip install 'pydantic-ai-slim[groq]' uv add 'pydantic-ai-slim[groq]' Configuration To use Groq through their API, go to console.groq.com/keys and follow your nose until you find the place to generate an API key. GroqModelName contains a list of available Groq models. Environment variable Once you have the API key, you can set it as an environment variable: export GROQ_API_KEY='your-api-key' You can then use GroqModel by name: groq_model_by_name.pyfrom pydantic_ai import Agent agent = Agent('groq:llama-3.3-70b-versatile') ...","metadata":{"url":"https://ai.pydantic.dev","title":"PydanticAI","chunkIndex":122,"totalChunks":208},"embedding":[-0.04991443282768515,0.05524283282244731,0.04213261905901979,-0.08307695720729326,-0.044515055856896926,0.06344380412433213,-0.04755487450616808,-0.05023857944084644,-0.020569964333748473,0.008304716194109045,-0.00667813223527227,0.059016521652534716,0.012148047212521568,0.02266818412264936,0.011816883907827577,-0.026465283167405346,0.05632852945001168,-0.02159018141052946,0.005574818176100162,0.05581581986593895,0.061744637990252746,0.022289708421074035,0.058233658129714656,-0.047455917772805715,-0.056659633774217864,0.06180890909679486,-0.02376201035506942,0.04046695992243266,0.0216198671516606,-0.001935366416424099,0.04374452539255666,0.08530867953710272,-0.02922033138701297,-0.07487988753817666,0.01857165032412465,-0.001526864530445231,0.04544876701965134,-0.0014781153201370346,-0.0024313622610900643,0.0368746759051531,-0.07929297913005828,-0.025356548541264356,-0.06855273823925705,0.0528925665506947,-0.02468676392318316,-0.05971675454773654,-0.07807617866668247,0.08765240898472981,0.027985090842954276,0.024235111574006037,0.060471321527262895,-0.06800098103586155,-0.07910668806452519,-0.06998176046734002,0.019106277397705453,-0.05373831382221593,0.03069533395963114,0.02119947735133518,0.02314406333998161,-0.06549077538602908,0.0861361942599463,0.015524947898027969,-0.08737261453216089,0.03347650298203121,-0.00858965550393132,-0.0814498324513252,-0.050447962268793896,-0.08641702475742444,0.009035875850321317,-0.013907073263424129,0.032562859224944146,-0.08041052302934208,-0.02219806679579672,0.08355551528288972,-0.05048074453469476,-0.05502855246765604,0.03743299062103476,-0.023815928459225234,0.016844712203063734,-0.08193257458608265,-0.04281246087832996,0.05046659243719519,0.04447549900286283,0.0413782291535966,-0.03226681847335927,-0.08007856628657738,-0.007209833713938205,0.06223586614782791,-0.009018768209103842,-0.041050444359195935,-0.08686880090252608,0.06923118487174118,0.01731393279226217,-0.04907955310075144,0.03889222574252611,-0.04414813331454493,-0.00560874849767717,-0.06138630666019836,0.03510121104091636,-0.045491848014221736,0.013865135086399838,0.008061748419967606,0.014698870381970507,0.04752807728418233,-0.037646913585945865,-0.03273329399865943,0.08529756514064477,-0.010845136254307003,-0.05899296753509987,0.005891812749746221,0.027422646757327595,-0.08650994580322802,-0.041459530407423596,-0.07812615530417583,-0.0009595364593889715,0.013608603541099697,0.06594791973163922,-0.050810744727821246,0.07023634634886125,0.06665745150195251,-0.060354401941989856,0.08693380496347394,0.0539535995783747,0.02422381151550125,0.060050519776841095,-0.05354262058798784,0.06939659101886202,-0.040384005109471106,-0.07065418267240395,0.06344865298499854,0.030292756422702845,0.051849673423548584,-0.005010324779331723,-0.05779426666857461,0.02529512990225622,0.04100477649006634,-0.08236904678877578,0.009686166300844743,0.05895001155553166,0.025998603555773405,0.03373744073071978,0.03993224488609918,0.037883548817733204,0.07421571268142445,-0.045228620558738705,-0.01464591651942049,-0.00436434163853484,-0.031458626489599566,0.03608921831286754,0.0009713428857305317,-0.012723469648500551,-0.07779677737072567,-0.08162093415169183,-0.058404072191069335,-0.057982131447854156,-0.05468112799861439,-0.0417461244534582,0.04173033734956877,0.05750182543414265,-0.019590030789779278,-0.06118186416061331,-0.057945363211235494,0.04431190140407173,-0.08316961966046874,0.03276442551064039,-0.08491569306705009,-0.03919862795520119,-0.037084125184494145,-0.0069892848493110305,0.030596454236042292,0.07315106540149956,-0.02386447909679116,-0.010031378400974811,0.05394351711963377,0.03605958031884557,0.012640667244009078,-0.014592266535394652,0.07298015852244233,-0.08392496599763258,0.006234744557093911,0.07480118939859796,0.014889313430425617,-0.05980385521069177,-0.028652771809037088,0.04867769435498585,0.06375421629718939,0.02386891916146517,-0.056033819714534916,0.022573027870377644,-0.04465603997111389,-0.024832761126504118,0.05708009409828913,-0.045403661493932046,-0.06794875958031833,-0.03805208678529663,0.008067910049526821,-0.06852763418893051,0.08656715877247627,0.047026834298457595,0.0020027163198296544,-0.0013063078056730084,-0.009360661381467248,0.038071482314482034,0.00562851804419111,-0.0472940655066046,0.05724725774206683,0.03791742555650714,0.01762329601866474,-0.03138899929788592,-0.0020083683877181687,-0.07999042990767231,0.08363525693216343,-0.0772513081164091,-0.05659364779705782,0.0567300993072568,-0.0762792349023878,-0.017903922775570447,0.06771644600975023,0.0020948700360528603,-0.06442031018957116,-0.03952577509609482,0.00655579642862209,-0.05322444874042121,-0.031980691840835546,-0.04505357447811515,-0.043174756674283055,0.030100431371747723,-0.027201838089994622,0.04896547550750731,0.015640349298508927,-0.010687177908058789,0.08191706653358241,0.03471161508073423,-0.07953346368540336,-0.03743800535613562,-0.031118513690009494,0.0686404217868635,-0.07231626863106805,0.0009397752201792286,0.07052483787844642,-0.011668079381046768,-0.07796305801986302,-0.00771736193202704,0.07635682415399585,0.07041988582848847,-0.058493806655014496,-0.05306983116653811,-0.07696216443050446,-0.06401436274793317,-0.06212893233155973,0.04129677757483821,0.011703614586090932,-0.07306902330604181,-0.006565370702769698,-0.061848461970676526,0.03202019053498028,0.01589089563983425,0.02920453418010276,0.021296584817495256,-0.012924529440600262,-0.08594460338023462,-0.0709378792901901,-0.07969495271597542,-0.012373897956823393,-0.08140182887471864,-0.07390288087585989,-0.04910710457140244,-0.07070762617842255,0.07958389235331685,0.0017306636784540793,-0.02739829278061426,0.03547811102540905,0.04435883915214823,0.07693006257460931,-0.0696881973198422,-0.049332190262199566,-0.01532209305094285,0.059245414008650715,-0.03285902502053116,0.06325889474884075,0.025129800308269754,-0.020950737734493064,-0.07995124334317384,-0.06647735413445763,-0.07882226132482788,-0.015302531304153629,-0.044787507836872874,-0.014840892380053186,-0.011883776906422266,0.0674010251041507,-0.03368712004971086,-0.08176678629768873,0.06871881703677836,-0.06943089393185027,0.044690753279101485,0.06964703290470604,0.0876283560637638,0.0869841374984103,0.02167188981302197,-0.01869303071947223,0.08716951242010612,-0.07126646141987406,-0.0318152354915702,-0.0008656898499860238,-0.029996087870072193,-0.010132955308553017,-0.041577214388522576,-0.01603398523852612,0.03428082131027947,0.014883258322663772,-0.06220199399034026,0.0687441418753249,-0.08543008455016347,-0.03597790751804534,-0.060440159263020425,-0.011261539775495209,0.04461737407854499,0.07697517648847266,0.018726200124216674,0.0683211041665564,0.0420139404044929,0.022605719548030825,-0.0017250252883795468,-0.004272786121013728,-0.0014337645033821185,0.07725568310840689,0.0629287752057613,-0.051052680267286224,-0.08583312548925028,-0.06843789647787153,-0.06284884794804066,0.07283854502990257,-0.08164220746818528,0.013795052377632682,-0.07325768500780544,0.0008640417505210743,0.003045371699188017,0.02999597718484274,0.03834014390652814,0.010331574933294467,-0.07292186034565838,-0.06352919780110444,0.0009629636159097601,-0.07135531388941696,-0.048731550868188825,-0.013464488673318118,0.07482133912410872,-0.031175311466447534,-0.017838082337933554,0.07408037541390593,-0.06775500075769056,-0.08422034719535207,-0.04557000588630814,-0.07145887777785549,-0.08318791424446838,0.03713413559496326,-0.01883977611776996,0.009984989130177487,-0.07292909753797164,0.013918197536823294,0.05949914441578924,0.02090283791336914,0.07441684304842991,0.07334914408505,0.024550445241051506,-0.01059760855011956,0.06538159755114953,-0.05054873721037762,-0.012640740229390244,0.0374195082050813,0.06964291165638557,-0.058906977093712745,-0.024373729493524027,-0.052665184628585514,-0.06073797611890675,-0.019973176284031623,0.027770881990186996,-0.045909414970596835,0.010712961355332958,0.004630782461625338,-0.08128856935096336,0.05474105096222763,0.01248879447876474,0.004625324664967277]},{"id":"chunk-7db5cddc-123","content":"Or initialise the model directly with just the model name: groq_model_init.pyfrom pydantic_ai import Agent from pydantic_ai.models.groq import GroqModel model = GroqModel('llama-3.3-70b-versatile') agent = Agent(model) ... api_key argument If you don't want to or can't set the environment variable, you can pass it at runtime via the api_key argument: groq_model_api_key.pyfrom pydantic_ai import Agent from pydantic_ai.models.groq import GroqModel model = GroqModel('llama-3.3-70b-versatile', api_key='your-api-key') agent = Agent(model) ... Mistral Install To use MistralModel, you need to either install pydantic-ai, or install pydantic-ai-slim with the mistral optional group: pipuv pip install 'pydantic-ai-slim[mistral]' uv add 'pydantic-ai-slim[mistral]' Configuration To use Mistral through their API, go to console.mistral.ai/api-keys/ and follow your nose until you find the place to generate an API key. MistralModelName contains a list of the most popular Mistral models.","metadata":{"url":"https://ai.pydantic.dev","title":"PydanticAI","chunkIndex":123,"totalChunks":208},"embedding":[0.06027272942269288,0.030036429206776606,0.01447153205341521,0.05189888454674836,-0.031184122542452692,0.0074232483819869615,-0.08058711978355836,0.014415045372770054,0.06144295040025009,0.04907005222045367,-0.052531912030056874,0.036342123549468246,0.04556591370973115,0.04745784660486924,0.05279652812070494,0.023189944588692044,0.08125303008649175,-0.011624167331933074,0.07402110372421272,-0.021710320420929834,-0.0016564491930990176,0.06221244134695918,0.06384988398075261,-0.07687179844016356,-0.08043937414973655,-0.008915150988340365,0.00481462088394317,-0.009291989974080673,-0.03210626512876544,-0.07080317352810579,-0.07102648017323744,0.0587399424869312,0.04548530050605837,-0.08476743011454196,0.08143749720996325,-0.046257228222344,-0.07843784136844534,-0.08516409917603446,0.034039886806903695,-0.06894431725910027,-0.03709199858061561,-0.014436594563611647,-0.013423765297455719,0.058137657892048056,0.07910472442265191,0.083589339151776,0.022620122001231237,0.058925979113655304,0.05919068916577781,-0.05508640141768774,0.035576884233611016,-0.08338582901964978,-0.00987384398279368,-0.03982807692127273,0.002339753490133894,0.036614249987411335,-0.008143231390812968,-0.0012835870023862434,0.040347685536820076,-0.03418770804305838,0.0778182715620713,0.030296348331641618,-0.010374753967580792,-0.014306705977910669,-0.017157039547906837,0.023702588400114993,0.02816750692546074,-0.049944947205918876,-0.012614779787555267,-0.028247032814504733,0.011811653082464464,0.011945271415300447,0.0691200304317636,-0.07010022660657284,0.009492824327931177,0.06803863589684393,0.08203724560047083,-0.06544498481754428,0.07881901569104821,-0.07797825944273919,0.062188156518906426,-0.009378794065839765,-0.07081111581256655,-0.045722940789404004,0.06718461006318283,-0.06549886997671281,-0.07890367569434346,0.03887626982185811,-0.0393799059010009,-0.024315851389582813,0.04930096693919466,-0.08408006353603803,-0.04501525351904945,-0.032952134718062,0.06450497301651929,0.013185123929418415,0.07120873004950795,0.02822706500745064,0.04657248031284825,-0.00060974044385694,0.05314372523005872,-0.060983224551202427,-0.057172746243195814,0.04194972855688664,-0.055629153344683574,-0.05691487227771951,0.04057734481950326,0.08184463262248695,-0.04426038754874483,-0.07432698388436833,-0.04630739627568766,-0.033261758114935765,0.04116699392639051,-0.06643198866483821,0.04032278602068327,-0.05566979711595919,0.08066198660420189,0.08133937874068252,-0.05854407850888251,-0.07513221262209789,-0.04248953196008817,-0.012027410490596156,-0.043472668002949154,0.07232544345950885,-0.054662789916693856,-0.06233171861866208,-0.04337829937607708,-0.06841210822418474,0.0313322524213122,-0.03543297061534784,0.04164686175595656,0.08382406919049169,0.05700703790083712,0.04968298397462331,0.08552056586605969,-0.039321233802557684,0.0023736385859598583,0.08226297819537813,0.01457781986549553,-0.04069210860151667,-0.04846009804878988,0.0715634997016131,0.07820382215715056,-0.06849813660378581,0.06605196975598651,0.04434492230492144,-0.07286032087057547,0.0693323424095672,0.021845155615550574,0.07686373053777887,0.06372233442493198,-0.07304234262266783,0.08629748894693506,-0.06854407453769595,0.006456361095453674,-0.024662365490786427,-0.08279127891501177,0.05683941527819141,-0.08319246407261077,-0.047894361070836354,-0.005819625176613078,0.03754176050854246,0.0780636209228162,-0.016411573486744095,0.019223599503270843,0.06859437958925299,0.050676016432841836,0.05602811442428456,-0.07766903075437047,-0.061760226480665134,-0.051951457020698415,0.03095172291118717,0.018501262156658056,0.07017656459449768,0.0063231962115159555,0.029665489938564226,0.02945373624536508,-0.04209584328279808,-0.050491337509578085,0.012945101705486843,0.029543040866337182,-0.046364325520081726,0.06681219391759427,-0.0718479849769733,-0.031252014200360466,0.08129076128132914,-0.07728197482294431,0.012618275699671095,0.03988736073719501,-0.027632045622783506,-0.012664130356341115,0.03842513911658082,-0.03955254579088134,-0.08169722183375776,0.06863350211757024,0.04470668527044865,0.025463993098814017,0.031631345710620776,0.007173196079532676,-0.021821988291299405,-0.02997220757475567,0.00361297186697853,-0.014284531931725982,0.02671702195776315,-0.025859548575251363,-0.029138608656677382,0.08173642754349168,0.08033939759857053,-0.07654990204293374,-0.0033069465429606646,0.006540510681012812,0.04282336795401724,-0.0008152206632096152,0.0018619164132174712,0.08046779704797569,0.07474631377285028,0.019115119771308586,0.0731642660382874,-0.008463304209662594,0.058555301556127315,0.0571837442240118,0.04337997542249951,-0.02240036381315238,0.06528711701416734,0.03756698585153005,-0.06480233806176952,0.05669944398161151,-0.0800021047465442,-0.057794642519383786,0.048583043747915146,-0.07607485451600568,0.07708511984648433,-0.01608612586709143,0.07147058209263202,-0.05538494072837886,-0.060288608699883096,-0.07130531102841733,-0.009463534521999068,0.0648898493307014,-0.0776913654432008,-0.057811086591124085,0.04403008648841798,-0.050598270320265426,-0.022251658656011152,0.036035538429663234,-0.046013680728431365,0.07316867492882498,-0.01318491686251836,0.012375267100726743,0.0538222969915734,-0.0395700895573239,0.05119349953382527,0.017174820215639902,-0.062134027463336725,-0.012401491714986793,0.029846592770435783,0.009325434655037497,-0.034678453517744005,0.012566493358893482,0.057924096575031156,0.02359309238460042,-0.03177528263353575,0.0011350359991518697,0.007237097626922088,-0.02614423992534636,-0.041899609210613975,-0.012082476660704049,-0.062338421533964745,0.02768788796851674,0.0356150943252231,-0.007638158655669771,-0.06504365785516562,0.03662912622691834,-0.03531803316145083,0.08036336640502317,-0.0406385084011328,0.08007033880380854,-0.0010029068534295501,-0.03451437032448402,-0.06358474035704648,-0.07746274039344113,-0.04675502362733478,0.062073089768678154,0.08315700401560223,0.005266689141836688,-0.04082402356855146,-0.00045319452113509935,-0.023299001906717257,-0.048306716174456754,-0.08477192580791514,0.005121055184261186,-0.0035825372403401994,-0.07191177371972057,-0.05904079838474141,0.06763220973952995,0.07759400775001271,-0.04366357171794567,0.057598146314185285,-0.015345703735169868,0.01439548819512743,-0.04097147039486393,0.010822039321995965,-0.07896315396318891,-0.024705882250148227,0.022353236169066693,-0.07708578187912048,0.03912063259890298,0.05791888486406288,-0.041559819027972636,0.044770910566851944,-0.028742558575255532,-0.03170530554369221,0.0013161541910878594,-0.08181414447445515,0.05455003439034415,-0.027031459369215513,0.07120508782152798,-0.006381040586353296,0.04529945659015599,0.012176625395494897,-0.007911007271947863,-0.0697120491798278,0.04360814072194908,0.01906549128243318,-0.06192007327393314,-0.015590011271340446,0.0697646466635468,0.014184568575682422,0.03789836308872444,-0.059711167148342265,-0.021297447400368562,-0.022149067753239084,0.07166838641737655,0.06721483132496518,-0.04720199328620478,0.04675252130903151,0.058734172958929694,-0.02214499342346556,0.06604368223650245,-0.0045266142772592095,-0.08513557183586845,0.0031055835599733787,-0.011438724442677404,-0.006069088995315044,0.02741649203470834,-0.02489821698405676,-0.01758390812244326,-0.005756696637374349,0.005815399165874369,-0.06778687548976621,-0.06307025134360553,0.04739155497054715,0.017058228159819496,-0.04494365302943468,-0.08163116499863886,-0.022633456089106652,-0.03997025795815157,-0.06284534654809887,0.07848161583660647,0.033806068956144956,0.037749177283203296,-0.04594093379531696,-0.009672631173506276,0.07020977783327213,0.07453007944339897,0.04052005667024471,-0.00020268284867978452,0.005498387937394932,-0.02841696745097834,-0.08328516794255325,-0.07517698853964919,0.06577780895371434,0.03585177594153379,-0.022151838507519835,0.05353287901221619,-0.015825212452751446,0.05979387452897802,0.07155036584787712,-0.08546202111672425,-0.0437379116568163,0.0509844222433643,-0.00789672520889057,-0.03610781742867504,-0.013870871797372954]},{"id":"chunk-7db5cddc-124","content":"Environment variable Once you have the API key, you can set it as an environment variable: export MISTRAL_API_KEY='your-api-key' You can then use MistralModel by name: mistral_model_by_name.pyfrom pydantic_ai import Agent agent = Agent('mistral:mistral-large-latest') ... Or initialise the model directly with just the model name: mistral_model_init.pyfrom pydantic_ai import Agent from pydantic_ai.models.mistral import MistralModel model = MistralModel('mistral-small-latest') agent = Agent(model) ... api_key argument If you don't want to or can't set the environment variable, you can pass it at runtime via the api_key argument: mistral_model_api_key.pyfrom pydantic_ai import Agent from pydantic_ai.models.mistral import MistralModel model = MistralModel('mistral-small-latest', api_key='your-api-key') agent = Agent(model) ...","metadata":{"url":"https://ai.pydantic.dev","title":"PydanticAI","chunkIndex":124,"totalChunks":208},"embedding":[0.01566751149330976,0.06316180421960534,0.053745549036012266,0.08458497203240148,0.05963437161730343,0.04282526727603632,0.03625373395856387,0.052177712036420694,-0.007486651960995448,0.01833629067419695,-0.003312469503511617,-0.0269988237407037,0.046314172013813645,0.01612647746372827,0.037191996088334296,0.07125400029568502,0.046347784885152746,-0.06026053750069221,-0.08657283406165002,-0.07741909266663745,-0.042021983936647196,0.04070464968809713,-0.0007374224052882774,-0.0478380537259918,0.0305632700394056,-0.031353805178973126,-0.030268042394893713,0.08512309550995775,0.07529473826797306,-0.002550379468513629,-0.06679485813776798,0.030393472592046465,-0.08241947321202055,-0.08386405916583636,0.0863081272529969,0.06561165447951282,0.07768327335594902,0.014029864812817164,-0.08056035654561192,0.08745254852814378,0.04493964417475761,0.010985784725456289,-0.06683585037367772,-0.08571460048398329,0.060957296311905614,-0.023798669750997446,-0.07534258172361602,0.06300272857730828,0.03894537203486684,-0.08130986664190386,-0.08250468576589619,-0.06608985374971148,0.016192415382317703,-0.01952898190122154,-0.00777851366156583,-0.04082935442247094,0.0818166415717151,0.04798347071744908,0.054686814265031684,-0.05576981542185768,0.07596420393618494,-0.02459383178503931,-0.04272002699015424,-0.06304504226476895,-0.07431923330198384,-0.006799344691625038,-0.019773208442991557,-0.02267483015881341,0.08076765895717242,-0.004919145110544677,-0.08683463517405783,-0.05460846526576441,-0.013826816815380415,-0.020583707145603262,-0.015732674015358602,-0.051589027014989755,-0.07837390571867092,0.049359874674796377,-0.02358563370236057,-0.004643436516744846,-0.08244494361737195,0.05361877118142295,-0.03372864163437721,0.04629942958825786,0.08009293768288041,0.05917520275421998,-0.06008697979363168,0.061298408937226524,0.05168848372348839,0.010623191241161971,-0.04700310556727489,0.03356054533694876,-0.00043049438744933755,-0.028097995850929466,0.037363053950811874,0.08583628353782755,0.06492058345245952,0.008097321445369073,-0.008969111728148628,0.05891952981746795,-0.08598765134745276,-0.02130704451784345,0.0048050528058125,-0.0072193380719809686,-0.04497406683966816,0.02387154610082673,0.018283546823147243,-0.0004905142441103557,-0.05755455238057791,-0.07776456999762538,0.019862337436245433,0.061052834745044325,-0.025797156624201744,0.02567167982380124,0.04615644890259558,-0.02195659254245947,0.012709210292399005,0.047065224915189795,0.012260572932195088,-0.026204705413118156,-0.08247254616202299,0.06641631865200534,0.07189944394605165,0.031076150937176153,0.0034791337317709756,-0.08379616359314793,-0.016562727825302787,-0.011289727664374203,-0.07667765663354573,0.06364104806688428,0.07718923357466172,0.05616903298343312,-0.020387303367768627,-0.017916295944681162,-0.03804162882827619,0.0036938025848792253,-0.04918444379409652,0.029553085447433514,0.03832033145983516,-0.028257560066140552,-0.04075455371713612,-0.06893414815318635,0.0028526219112271585,-0.07367568473046562,0.06531280831387362,-0.025873329057766584,0.05682289833020349,0.04427414167000739,0.04398538258878685,-0.08314999277882527,-0.0806529980443814,-0.0742180251273633,0.00018054892028839065,0.0035277673725090204,-0.04906844422784668,0.03658854072454653,0.06312045569877103,0.052927920841065755,0.008359039751035307,0.005006559375901369,-0.01409100815317282,0.034470183427967926,0.021026708270736702,-0.07443889227731791,0.07108090609104808,-0.037760858588404826,0.02596104596948461,0.006909198204933055,-0.009418513491923344,-0.05013428864992776,-0.03847445584949735,0.0830285334856016,-0.07266470438673711,0.03334831401339421,0.0019729685019396924,0.07415536507725493,0.01192275216384884,0.05737698247725061,-0.04956113078248176,-0.019051969264769934,0.07747176674603928,-0.08143083375679093,-0.08623417865825264,-0.06689906755201278,0.04646758839835607,-0.06956686715376288,0.03741949503136406,-0.0825596185666299,0.004785353006593259,0.024604544135844945,0.029086572135177596,-0.07375656352148195,0.001213086260642024,0.012534249990866112,0.009804127346320069,0.05783718598206772,-0.08463979032760265,0.061905722929970694,-0.042651124157004026,-0.08736869539058072,-0.0025252643405516257,0.06924985706763086,-0.03392492447741613,0.023907173260566402,-0.08756303945650362,-0.04879339767302214,0.014248557373394574,-0.026355814767353995,0.021493768704431534,0.0829732785943847,0.018545780976037273,-0.06745521725200285,0.06044862527545148,-0.024073168806423552,0.06661309996594801,-0.028879495843830615,-0.08158570986684267,-0.022672104773129143,0.0732720843580439,-0.06071982843887567,-0.035339311202945846,0.05231156060616838,-0.08249314668565959,-0.0270234542966149,0.03767682357855354,-0.0076965652847164915,0.008035563148979179,-0.03964761620573434,-0.028078936934570642,0.011865242883027545,-0.07107434121802196,0.03711126435781763,0.07900130766552424,-0.05510227647766445,-0.08439116512159972,-0.007020911860219066,0.011715446741383721,-0.03312767497418675,-0.06330677262403145,0.03554927646724595,0.0311528379762061,-0.07763044120557168,0.04758360253339135,0.048864362889224223,-0.04635708763873812,0.0669311771622532,0.08566290892262325,0.03253898417711917,-0.025386279001815785,-0.017651418008965525,-0.004551208710881034,-0.06322295868107083,-0.06542340238058336,0.07278710193834337,0.05422168203269032,-0.0067807582637673626,0.043468049072003336,-0.008921483880280846,-0.06185752016069815,-0.0029017734689264934,0.07407395893443769,0.08020528618836174,-0.05213259818548011,0.00198867482789757,0.004846521829802361,-0.04169230719464323,0.03793405284543394,-0.012461949511186857,0.01610614494621297,0.07734658838974472,-0.03678410261437851,0.04397177551836702,0.08322675091172285,0.005636039642173659,0.03814967459483426,-0.06103286123687525,-0.06774636088723948,0.07635773272260397,0.061602391566125306,0.07233918396658597,0.08500565109348024,-0.03771386117364969,0.04900994640174643,0.025325341160968188,-0.01129711583264794,-0.06331383688793556,0.05465726220114204,-0.0727682305432311,-0.0677011755185339,0.03816139433934536,0.0069455958495753915,0.02886397089326591,0.0038193360942153282,-0.038128687308556806,-0.03201117720277998,-0.01538315613850528,-0.023848352635717943,-0.07293691418226035,-0.037823224873921354,0.023118544653497664,-0.05457902343674405,-0.008149520494781291,-0.08235448524140378,-0.021399028656712737,0.04540280539358745,0.00007161656906022897,-0.015437525757992482,0.08595957479317312,-0.051645204026715234,-0.05759995755378137,-0.03993041482666826,0.03249420373261834,0.02184290068612496,0.00012075514911811458,-0.0521336867896967,-0.00106009571818899,0.026041209109024466,-0.08231160186907878,0.02373076867063648,-0.021387480589740056,0.08634216962676583,0.05819881310344587,-0.06523897588864169,-0.007657119375819182,0.05510068960894514,0.00554317968423467,-0.006544312885662102,0.017982157018152086,-0.044146016310123194,-0.06980034266210632,-0.012796020318849641,0.08278253535501677,-0.0660557622046454,-0.024971705958106473,0.07193445237223721,0.011012994557158233,0.0070857470828878145,0.07477421011745829,-0.06493224700183248,-0.06437885942597092,-0.03900714361064717,-0.007600745704607968,-0.07718781379264952,0.03196983407699863,-0.05251946569099648,-0.025388084553506912,-0.004442858747988326,0.08445502148976002,0.010251702144876196,-0.07833004538374541,0.015460461132141503,0.014699882468527234,-0.03795660669406623,-0.00382271270591979,0.03456084069717461,-0.05972437268283878,0.06390669441187818,-0.06205806162809847,-0.045104481414435335,-0.008659058789741362,-0.027221599767703504,-0.07036765171675372,0.07088649229322891,-0.015095862952274906,0.009728263928632587,0.0562216715463135,0.05610819686901514,-0.06776765120959166,-0.06841857914859405,-0.0722456031308723,-0.056840988038762356,0.004280589671013664,-0.07497474841790101,0.07948876528205726,0.029467772500068566,-0.002710364994290906,-0.04109131207054833,0.04505194218309012,-0.07942033814509522,-0.022713615545642267,-0.008436958795279174,-0.020579695153961464,0.07525289746447415,-0.040824142508591885]},{"id":"chunk-7db5cddc-125","content":"Cohere Install To use CohereModel, you need to either install pydantic-ai, or install pydantic-ai-slim with the cohere optional group: pipuv pip install 'pydantic-ai-slim[cohere]' uv add 'pydantic-ai-slim[cohere]' Configuration To use Cohere through their API, go to dashboard.cohere.com/api-keys and follow your nose until you find the place to generate an API key. CohereModelName contains a list of the most popular Cohere models. Environment variable Once you have the API key, you can set it as an environment variable: export CO_API_KEY='your-api-key' You can then use CohereModel by name: cohere_model_by_name.pyfrom pydantic_ai import Agent agent = Agent('cohere:command') ... Or initialise the model directly with just the model name: cohere_model_init.pyfrom pydantic_ai import Agent from pydantic_ai.models.cohere import CohereModel model = CohereModel('command', api_key='your-api-key') agent = Agent(model) ...","metadata":{"url":"https://ai.pydantic.dev","title":"PydanticAI","chunkIndex":125,"totalChunks":208},"embedding":[-0.020182221365914733,0.029886792531569947,0.007846152035186047,0.03456733104260788,-0.06360769717861148,0.033049194586521786,-0.0114843213049664,-0.08002363642069318,0.02734937371477355,0.03651121058940399,-0.046364027303380705,-0.06959278638544951,0.05960461117643299,-0.06684083667329263,-0.06724376124998874,-0.05654860888485504,0.012143454832785755,-0.013344582460639702,-0.06928248293315149,-0.06180855816138436,-0.04920094062498083,0.07108979863962833,-0.03606185042743168,0.06931937945517881,-0.04624287174868898,0.010779856746755523,0.07816754977516939,-0.0012318593580049665,0.047542782859920314,-0.033933746908711995,0.0806707221323577,-0.010303319711412871,-0.06668430809074519,0.036187298096725294,0.01954071855501342,-0.002906966623040108,-0.019698254441285326,0.0863162937569041,-0.004926280361351823,-0.07049321822653137,0.03553394127311194,-0.029039711181625637,0.05498460312078707,0.060232827715712166,0.05195693299974861,-0.07376888654476607,0.0531841544813301,-0.010675684416956162,-0.02619825196694453,-0.01818636517930175,0.0374670566572415,-0.08207884654378643,-0.00758651881392188,0.0473284800030845,0.0529170350961038,-0.028853476960229787,-0.000043603657993542874,0.031121002367438155,-0.022842519323866294,-0.026229759290670212,0.036048627933564385,-0.08233348730599926,0.06657338798374889,0.08202347730938593,0.018196541204604847,-0.06836121643991931,-0.027733797001131898,-0.015665147925265202,-0.02749572847833591,-0.03448404789632671,0.0811521507345637,0.0240029337387097,-0.06989918964465666,0.0802686569116592,-0.07119631852130096,0.027311172591039993,-0.08698453159422115,0.0464045216365807,0.05527195901334079,-0.017512452087175504,0.021810266238500804,0.05143434032029451,0.06856802408966564,-0.051848564266895374,-0.06388348566321807,0.0770057341944844,0.004844812406558404,-0.04558613337541029,-0.03638729176801,0.02390332982165659,-0.03199412156853339,-0.04988525720433777,-0.06807538535898673,-0.015016366685392118,0.05029699509998502,0.03875001402225642,-0.0197283217475532,-0.04010692293592819,-0.00485075482085942,0.08654723415578953,-0.010203662403234129,-0.038217874006499536,0.021648500896726118,0.011329141205647245,0.039605183271800175,-0.04847604576175284,-0.04256618955498991,0.07458857801087766,0.04909575261771893,-0.06790302422041312,-0.034002325670823834,0.04994210623740796,-0.047744452562402215,-0.08423869697065965,-0.013795307582712876,-0.009973655831011024,0.02080571923356965,0.07404414904927181,-0.06682984271426262,-0.00825983152435934,0.04791868185819663,-0.02279456737572503,0.03822228013823482,-0.03781940170483032,0.06781497000000392,0.013071211279426634,-0.012312072373753181,0.03382343474284648,0.07754478241890246,-0.014238735084152798,-0.004818790966134283,0.06154110303209406,0.06490293919182206,-0.03256722732752598,-0.08285270691413148,-0.08610619164085899,-0.008967465582392012,0.05216619983488715,0.03131415659231643,-0.07088593441129228,-0.018734824171713103,-0.05708236585012694,-0.041738195296157264,-0.062271235926924656,0.035678530192765595,0.07110550264993863,0.0570440809239562,0.04863736526620041,0.02390382482842466,-0.07730182602002877,-0.04002595251950359,-0.08383797145179339,0.0355167349623696,0.06356591057290116,-0.05650319980546097,-0.07512583733576277,0.07655126543464227,0.03867832712173687,-0.03861492977828791,0.06143993170134318,-0.03297224781552093,-0.04758295453898803,-0.07076753999029223,0.06259823235558938,-0.01418154860972599,-0.0067427801223540725,-0.03809929533382079,-0.0613102689770362,-0.046671608818836176,-0.021336704924143777,-0.07454330844393108,0.0036170579704181767,-0.07101096058217048,0.045434942277765004,0.03402168770924058,0.0420814556861181,0.008981189596841343,-0.07616994820609019,0.06548820337481306,0.05197845942705448,-0.016868565616759933,0.018749368434295786,-0.015326599503866454,-0.06768605042813639,-0.014268931548002283,-0.008942439796827517,-0.05385777061113468,0.05683331710836739,-0.03016859042656095,0.008093268137458044,0.07410726169592476,0.07831344596551124,-0.009794935536235824,0.01413166905650349,0.08238194210579734,-0.044754101446348706,-0.030615713559068582,-0.031182581996353986,0.07749559222782186,-0.03522595155695763,0.006289691373033963,-0.011330598038029074,0.0004231055587262929,0.054468989008065224,-0.061111641965244226,0.06895483970021869,-0.07334558222653578,0.07095956319677536,0.07114693101853643,0.08500144078209548,-0.0058570727427830465,-0.08530273683994043,0.03601010515954979,-0.04446344119739601,0.054727960174489804,0.02295154757333388,0.004903946898731375,0.08180915029864855,-0.044710790629874354,0.0790290774670949,-0.028571327181487225,0.0599925625606162,0.05535842455874097,0.01325263666106211,-0.08544366183762196,0.06849593891435334,-0.08562551909634081,0.04310793417170339,-0.015994637526565308,-0.07508728436354879,-0.03716595408734976,-0.06916517470289739,-0.027247517000707485,-0.0558200526044805,0.06355223828111964,-0.0811114252689794,-0.06006117310597026,0.0604406007181075,-0.01564464860652056,0.017574433609255955,0.016729408019096136,-0.012510118105834874,0.01829863563503519,0.00280011953053407,-0.07508237400353246,-0.057430520729158496,-0.07727948918326093,-0.040437711600335026,-0.0675341915755989,0.08057309113975658,-0.06490056739249256,0.021953087860722094,-0.0486147698328874,0.0686570167407999,-0.04548343722828527,0.06724835702949916,-0.023228581095516263,-0.04909574762961466,0.025589436501515243,0.08297711424820448,-0.05115698242240736,-0.07916265256949483,-0.05860399822148512,0.006908022700943433,-0.04654184243459608,0.020110028258048425,0.05173417971852879,-0.03063838223373504,-0.034030619302379946,0.03674481854007698,-0.0015402915319522666,0.08191247232001377,-0.03357399541763163,-0.08637421184810588,0.012535524744187551,-0.08227598278568156,0.05060960983113106,0.05063657496546378,0.01604726988765503,0.08580345601531285,0.048902916860579196,0.0705087776819474,0.022293101119804815,-0.07128917796207876,-0.004904882736740137,-0.06330142209193129,-0.06102301247108176,0.046419416242092226,0.01583076095678438,0.07704851297364781,0.07014855594494743,-0.05860492498508592,-0.05600465790876892,-0.007272748457818731,-0.03577254789312232,-0.07943806149444331,-0.029343972602741013,-0.06537893337577236,0.01111876086178356,0.05095446711536681,-0.04083513936850742,-0.02813535199813801,0.010556848585670072,0.0005777106028504961,-0.07294754011013316,0.08543967993525117,0.0006442397615669905,0.008565174661134784,-0.043887496897097915,-0.029139685290352563,0.045445328858254815,-0.08208284336769313,-0.030238963058723978,-0.06699522110153718,0.06641600010106137,0.043201719697384774,-0.07666409027113483,-0.0477128685718434,-0.07460055080527843,0.027113004749958942,0.03523906863046364,-0.024025133306599646,-0.07778239572941599,0.04942139705117128,-0.029533143065245192,0.053285956818599475,0.029900071413481322,0.0366440153066346,0.07033469740489676,-0.017967028055374423,0.01277178453465038,-0.07099250735562923,-0.06022594914320931,0.04601393897245683,-0.08654120849679488,-0.009525779190646039,-0.03012965531698411,-0.01478795986783275,0.023691942170662127,-0.05417919375899826,-0.0496674968125426,0.021670831429068994,-0.016217542971304934,0.04318588870192356,-0.007414412588019438,0.025398815754664735,0.007778815854542566,-0.05902942852269497,-0.06832199089946044,0.05351372771397956,-0.032776556545971405,-0.08162812568514502,-0.019735667559506682,0.07881504139668082,0.02737715795053877,0.03089606233023491,-0.06735519729956377,-0.0590485239861188,-0.05242844553685912,-0.07868964884602656,0.019284902769179386,0.03613521900066996,0.054327412798628655,-0.07976772916089853,-0.06745850360199984,0.06534059519963978,-0.053152669101088505,-0.022980333126967734,0.05496374063893137,0.017785038452033452,0.014980380973040707,-0.007603550817965431,0.059818651587752576,-0.059236242939272765,0.06469671237603479,0.006641703978460749,0.054231255036055546,0.025803444409831528,-0.031526798700044836,-0.07685880046284811,0.006643479007343839,0.06376185940426998,-0.05106205350959846,-0.07178232016745222]},{"id":"chunk-7db5cddc-126","content":"api_key argument If you don't want to or can't set the environment variable, you can pass it at runtime via the api_key argument: cohere_model_api_key.pyfrom pydantic_ai import Agent from pydantic_ai.models.cohere import CohereModel model = CohereModel('command', api_key='your-api-key') agent = Agent(model) ... OpenAI-compatible Models Many of the models are compatible with OpenAI API, and thus can be used with OpenAIModel in PydanticAI. Before getting started, check the OpenAI section for installation and configuration instructions. To use another OpenAI-compatible API, you can make use of the base_url and api_key arguments: openai_model_base_url.pyfrom pydantic_ai.models.openai import OpenAIModel model = OpenAIModel( 'model_name', base_url='https://<openai-compatible-api-endpoint>.com', api_key='your-api-key', ) ... Ollama To use Ollama, you must first download the Ollama client, and then download a model using the Ollama model library.","metadata":{"url":"https://ai.pydantic.dev","title":"PydanticAI","chunkIndex":126,"totalChunks":208},"embedding":[-0.0640944700163264,-0.06481878398374528,-0.06199381779576447,-0.0577216016096299,0.017697135065270504,0.050764050127091676,0.017766675922355635,0.07398168404989748,-0.010838284721342982,0.06960974937778064,0.05038744852948798,-0.05475507167475655,-0.07939404232609039,-0.028403074123490704,-0.075585421080735,-0.06439358271095691,-0.022031969566333055,0.04421680608500454,0.0038820689440914433,0.07988863497857572,0.02290616350156756,0.0806442492145592,0.040869243563590923,0.04424648875986273,0.0011684819226959835,0.05871819157406971,-0.029468692010034287,0.06508593530061844,0.06753620048274829,-0.08368099428201546,0.08103296786954649,0.05955385833647866,0.024074326572134243,0.021722813570807572,0.07466910116698863,0.018644823516218434,0.054097939593768796,-0.02189623523768409,0.007012652979791129,0.014411909579910636,-0.06692903324069278,0.08085435210695514,-0.07027407957557304,0.0766462407060061,0.04901875344819963,-0.08323170666597683,-0.07136403996024954,0.026357854579076776,0.08362533944090504,-0.05311012741608102,-0.05709502562211357,0.06901597454616752,0.06289390075490915,0.03992882868237402,0.07541672072782821,-0.04291201386422849,0.04725425573056429,0.0038831288421952224,0.032087029938999076,-0.016317535572721757,-0.023133071448025514,0.017813222205864298,-0.0769009912224493,-0.0246139276612079,0.041152158258882014,-0.029284697648329965,-0.036464659165736706,0.014714902105774159,-0.06350028876773098,-0.030324860853484473,-0.013172202740738263,0.08112980127613531,-0.04828601712418138,-0.028841990447851778,0.08378110821866491,-0.032541041909721395,-0.013831108425082105,-0.05035536938179232,0.050354131297502484,-0.03802006466805172,-0.01415465410681992,0.01055306823212611,0.06925934854708822,0.026364353375203386,-0.07645692115571473,-0.07942866311446235,0.06540555333002784,-0.05469411217934276,-0.07954462695403136,-0.007825602406487917,0.06712793818913271,-0.04589558889957989,-0.012695189438847183,0.019217542037929913,0.07969840092122893,-0.0379835938509643,-0.017190395148195012,-0.08103180381208813,-0.03957047995632621,-0.07754230479455669,-0.03184594133653746,0.08260435614625873,0.05949206716553986,0.0395842833391174,0.023841648203911086,0.021985435238905657,0.02247615096264638,0.06208842985176877,-0.08224203601342409,0.007265723632035746,-0.03616654041170904,0.06359160137032173,0.06057356537853936,0.03327872318266328,-0.007118293203366906,-0.08009053388286154,-0.03632312942970942,-0.03549557907165741,0.07394125522679383,-0.03609783602617274,0.08362490726947888,-0.07824883637165415,0.06587266642675972,0.03162334824120195,0.000699194079696345,0.033598046529159986,0.07888540240398983,0.004408400014761046,0.07099239592581312,0.07772637255344285,0.010291035278570818,0.003390222684837001,0.04638120113080307,-0.014938878750233133,0.016507404019726384,0.0691095340871439,0.07370420199951341,-0.0663622716032479,-0.08266610420886192,0.08004423371171741,0.08175630054714525,0.04843815015744622,0.05092713649024201,0.013992178250228287,0.015098957795503784,0.030367588085984644,0.0009844854164219477,-0.06158915139021136,-0.040106028195434476,0.06336964919554519,-0.03610788980186322,-0.004917253224773079,-0.018576988123554763,0.022819297557834427,0.04992869913172371,0.0309822356540518,0.03789485267727989,0.07398441478501756,-0.020053518610666416,0.08371170118555829,-0.05809095772979878,0.07357063880946986,0.05478256962633931,0.04330065237002189,-0.02905342238723978,-0.0664265324047144,-0.04239937553048431,0.06878045533393225,-0.06385813771235581,0.04396540066266857,0.026774389250102535,-0.05803390273317664,0.041233367423800626,0.05677683058018185,-0.06007576515913971,0.08209931487478266,0.08239777163103752,0.05536240593090213,-0.05574501764052643,0.0426764213372059,0.015347285339488627,0.028267493117396392,-0.04653713341283592,0.07780792899219302,0.020348449527897577,-0.07030330301790635,0.02001152262908323,0.06799085243771526,0.015446971226061994,0.005961976630001639,0.019148265545099036,0.01970643236233123,-0.03774574670691866,-0.019611856017712516,0.08145190956093942,-0.06631040997171155,0.05665543243191568,0.01816132985011049,0.061967723580830546,-0.07499046176328972,0.03709437205432114,-0.08385049646578419,-0.060665804645766916,0.06640338361329899,0.061204414991809904,-0.02875791797266136,0.029419096521962115,0.031843340403152384,-0.024961098904868285,-0.019211812735584862,0.06634879003645702,0.08276373552809667,-0.03428361088352461,0.038227768603066356,0.07187345763293526,0.0006744431279851944,0.004532049657830409,0.03462351805666328,0.02974644306357068,0.012468734536047474,0.02022324751936966,0.026899479842175795,0.01801611308467443,0.050495989153689795,-0.011011445492198095,-0.03132555496037114,0.013234217096370713,-0.05375253718910661,-0.03635316130763284,0.07281373796833542,0.04506071671053149,-0.07939313797827946,-0.0354904110935988,0.00007104676212349495,-0.05949241344853513,-0.04921878199003091,0.04008784032236204,-0.05246205205365596,0.036712393643051434,0.03717508899856209,-0.03193491153207425,-0.005758503834879288,0.008269988833450455,-0.07818921894620941,0.05854112500583267,0.056423082940108636,0.030515180364309325,0.03440112550070679,-0.007819980572961042,0.0027526802813556276,0.0008087895031928478,-0.07631351297246117,-0.08146775457843668,0.059218911999661096,0.0606830312830202,0.08289293001827593,-0.073362853819237,0.012804799355216629,0.03690548177843309,0.006096694702722059,-0.036782194650469946,0.02012339279526777,-0.04919464367878457,-0.03843636538605248,0.019598111015509546,0.059771011211446824,0.06940738223660549,-0.06784003339603563,0.0032228919085952957,-0.07544547534094517,-0.07831591533234561,0.012537144307239203,0.07686881607340187,-0.02059360394008436,-0.03275859178146497,0.08023336717496952,0.025553241936328804,0.0033725212851660885,-0.0720838680328549,0.0714854436183514,0.034492201997867566,-0.028901883358010447,-0.0046387302714550665,-0.03953701259068211,0.044656576228079344,-0.04782645551644546,0.06532513539521899,0.02934144462053017,-0.06565780004011706,-0.017220606622346646,0.07683001332332981,-0.013812725418543956,0.07795220181550393,0.00900370484920026,-0.02824741632643002,0.049052429537215725,-0.039730220667632134,-0.0032594205846141963,-0.05449576060036829,0.07849212162984484,-0.007824205626638244,-0.036035725019511175,0.08075955924002702,-0.0479849294575006,-0.08022052118113017,0.022183692895128962,0.04643114322391905,-0.07181164135688599,0.07209397198100419,-0.022032005930071444,-0.06978957782647414,0.03164301194338033,0.06657978011766588,0.06544078747237073,0.008028707742575247,-0.06849298359535767,0.021098477696471968,-0.008296878577112312,-0.03610634445256075,0.0465332065378997,0.025510100807874442,0.006541242261410276,-0.023731982552884622,0.04943301459062142,-0.045312142117000784,0.05722467026591787,-0.04516975793180749,0.03081576319668035,-0.056846857911904324,0.0613318512625239,0.07349964269660501,-0.08072418025858252,0.0007303290750523872,0.023586203114120366,0.06978291525539478,-0.07959270499005647,-0.010640786911051196,-0.0010514305589444447,-0.055106482115667085,0.06565002382956864,-0.07707724816249227,-0.04242854672435724,0.062046792754888044,0.07888681281275012,-0.0007279585383987138,0.0559201853903035,0.02610627573948002,0.0004326991921069283,0.044961521207208505,0.049759145366906385,-0.012541033245956424,0.07908062580629323,0.0011162092310749744,-0.05823615150495827,-0.06333733482153643,0.020621937960292155,0.019423723708400488,0.05641223836819106,-0.07101172376714258,0.030420910234204252,-0.03813104827381753,-0.05223344115908187,0.044237273812034086,-0.00859328993947234,-0.04072965124980731,0.00025209335579218575,0.08059629604408956,0.05667864666714432,-0.021984511552166915,0.043851759283935234,0.08048962710187757,0.07115909116258474,-0.007225856317557508,-0.013036599629102722,0.041324892359203,-0.06441402712848968,-0.07861446022930732,0.0028320194018932915,0.0009475085538454857,0.003967097031864165,0.06973424659607956,-0.018506880826862703,-0.07728409354724787,-0.032742013702034035]},{"id":"chunk-7db5cddc-127","content":"You must also ensure the Ollama server is running when trying to make requests to it. For more information, please see the Ollama documentation.","metadata":{"url":"https://ai.pydantic.dev","title":"PydanticAI","chunkIndex":127,"totalChunks":208},"embedding":[-0.05738609153044779,0.08249253352250668,0.013254341075024878,0.0023723212482699213,-0.05383319636324392,0.05188045939797825,-0.03360804584785529,-0.031138411516871942,-0.07076336086435016,-0.04649520422679289,0.008621334569555704,0.07787945999941856,-0.06706887535770356,-0.05894257421770705,-0.004786727103370963,0.05822399499943812,0.00277143004795589,-0.07357320646275681,0.06922961142577988,0.03653511810559209,0.0472481394422385,0.08411663381650773,-0.018280706413815108,-0.06315954475447146,-0.008354100880374112,0.03701954474165098,-0.03317270242352301,0.0844688969562711,-0.041335447415836016,0.03578232701187263,0.06167392900319836,0.07981184827633755,-0.0825554830733779,0.07606379898909364,-0.03798941006694651,-0.03389867256120505,-0.07692411558043913,0.0718599593568605,0.017078863501760144,0.07093170570562764,-0.011570430451145272,0.044487002376745195,0.01566037270382528,-0.02461577236830718,0.017495951787576475,0.0032442390203568246,0.049952669479754214,0.014417733457505199,-0.014525842762408838,0.0601563556543477,0.009438456164749216,-0.07804181231215847,0.027509124260345567,0.011036614137574962,0.024213369566585555,0.020255493339246762,0.0005914378839104797,0.08134983852873962,-0.07896748404279172,-0.04059607327968961,0.016215146274979213,-0.013655429034929579,-0.054095158128077935,-0.016340327576440244,0.04740582639460558,-0.007925030429313883,0.058902587481533625,-0.07493641481023344,0.03552999015914746,0.016721003897056476,0.024375182936310368,0.03055371014161896,-0.044199188973470326,-0.014609332644136611,-0.023364170513528616,-0.05247979878512563,-0.005811692071504538,-0.022783855513730175,0.0056425497969697725,-0.0838125478458135,-0.04417355754730782,0.021631131078889514,0.0703584484563963,0.07360969471687182,-0.0458823252753037,0.05077980238350345,-0.06355409888337091,0.014678716395096252,-0.03762939855505459,-0.06695043699822364,-0.07676680564782994,0.041076217408006876,0.0037335447244071914,-0.01062743435704715,-0.025800032384325943,0.06977607369134267,-0.0750812858838102,0.043406524380048744,0.02712219860635128,-0.06761418132402183,0.020449915345442615,0.04167843799936764,-0.07175801922825409,-0.016155621298780322,0.06756383229413278,-0.07773997197811461,-0.03221310256219001,0.025341684723045394,0.032337303580473854,0.0031797523035308533,-0.082138046921779,0.07779178628421565,0.07488950331392935,-0.014417250740921423,-0.06991974052763839,0.05145431019183243,0.027071525524321145,0.08494719793062504,-0.07610480056922724,0.017290432540768057,0.08452829493324411,0.07761147332991038,-0.08002876894476962,0.04467087088165286,0.08259910517671927,0.025358975624392988,-0.0845335739699363,0.025437924481159217,-0.05772434396731047,-0.0402519187667672,0.046701501170460354,-0.04447348520564633,-0.04369610380198528,0.04211596566760711,-0.031033187356026774,0.07482723073130512,0.0018580007347910837,0.020491593349406537,0.0414116751343006,0.06784465923546637,-0.04142823205355766,0.04174108130888282,0.015563441004202318,-0.00632899661822823,0.0017959908923410794,-0.002408473747402906,0.010894510992450058,-0.05042947569265953,-0.019977497336359784,0.08391387418971913,-0.028020531750791777,-0.005374698715523112,-0.0015736895205016072,-0.06443157641489616,0.06941415535606775,0.05244449060848837,-0.053663749088798784,-0.048927317439525,0.027855896087264177,-0.03383021886809301,-0.00821573790937037,-0.01081421202418355,0.08376035418622492,-0.046946685862988384,0.017710259364064777,0.025335916128721478,0.04063848880327606,0.0036282062718226865,-0.03550353405983728,-0.07990117218351676,0.0740328056723974,-0.07848655997842542,-0.05665865520428138,-0.061582797490691926,0.0052110280840949414,-0.02019476151061408,0.005783079458089821,-0.01687935567204994,0.005604380957457253,-0.06419923475756692,-0.019070996600045676,-0.01035856713961142,0.04681195035656271,-0.08356522781590713,-0.051888092400434994,-0.0027684496576443566,-0.012080616478045954,0.03871634147554167,-0.04612287700759313,-0.04797867664163673,-0.00954411349539901,0.019536601306704135,-0.07814154893711812,-0.04108440637030317,-0.031952879812099,0.06932588759240545,-0.058099642078718344,-0.04774028691017313,-0.010231549230401456,0.023971021591696482,0.0039006627667165813,-0.07944832683520722,-0.028374147654233944,-0.06146494111192543,0.014244689038381065,0.04283093374199529,-0.053186213026844585,-0.06396047903254751,-0.032276280470023136,-0.014272689116226176,0.013508275522778702,-0.037336706913196294,-0.04742676899558197,0.06025212944394451,0.0328033268092504,-0.0707560430797722,-0.05225147271560375,-0.01850251186480993,-0.011720022760756987,-0.07549026250516484,-0.05528543369828517,-0.07405671761097606,0.024000894098840785,-0.03839900072027157,-0.057803864571034064,0.07793420720806374,-0.0014942213065059905,-0.03944142934938767,0.05799915446507799,0.07359200019044054,-0.057260512668047575,0.07469563747759146,0.05835122889937395,0.08019371284852393,0.03317272497877933,0.011807560639373974,0.06149189839516685,0.06975053990523536,-0.03444303465529389,0.08220701988456047,0.03128724249394506,0.0437905993320636,0.01753725460485585,-0.004971516271292,0.0842969351438861,0.07372658347492271,-0.06748803101155151,-0.0401423637618304,-0.08606219776348518,0.07341049159078761,0.038462999735517284,-0.025044447673169462,-0.06406454669020757,-0.048443895222105855,0.0018568573989293374,-0.08091325689919639,0.053102301042137694,-0.062079202403713146,-0.03180850793151831,0.04343877879795463,-0.0540700573969925,0.08384120824367211,-0.00008705110204315752,-0.02842953663410224,-0.048212053659207915,0.04030085998549802,0.014963018787122234,-0.02742340563119668,0.05953202468982388,-0.05081320540655313,0.07696221936757092,0.027692850304068515,-0.06476422581967975,-0.08275928649396536,0.051196174767517005,-0.06356170609104904,-0.020537527987478543,0.0398060447593475,-0.03974690113679101,-0.08307196627109528,0.050131260789983347,0.07676967771177211,-0.02592433614794366,0.03834484616892945,-0.08240505134284384,0.028219275213626653,-0.025904542678931438,-0.03156373793140923,0.0242861537146513,0.07282666771827358,0.08146858929123983,0.02137561907039734,0.027807111756054003,0.08107701197339857,0.02192932912256875,0.07843633555172504,-0.07645559799948821,-0.08451704802910133,-0.0034456378291368925,0.04282745226217455,-0.07242719468109315,0.07991291153508351,0.056455998148167486,-0.08614490818813608,-0.07167971909642425,0.06798886221097644,0.044267725406623055,-0.041970828849918346,0.033108033481999526,-0.021617484401166048,-0.03074802531423878,-0.03835572096576898,-0.010389428657980258,-0.042894581431408965,-0.054809434659084215,-0.05485493782914383,-0.08344386377952039,0.036945561662994314,-0.03273609734500805,-0.023751642909922408,0.07122571815392781,0.005758311395047051,-0.06231015012580399,0.07038062780880606,0.056506358881524874,-0.014624740784776862,0.0031664258581111018,-0.05732883673195891,-0.05849974699057263,0.06849411745306654,0.02585901894008543,-0.05282486133270428,0.0055840696476831,-0.07512200469179277,0.07191703291761295,-0.05819485996729331,0.0030698133987332424,0.06615235944490308,0.07788805547831608,0.08258718780611692,-0.06841870540577843,0.04251634579973291,-0.011477027546284423,-0.01338793627383791,-0.07257991082647619,-0.021724232420460413,-0.04366645262272452,0.05238696090169707,0.05781451316598257,-0.07091858877006582,-0.04680136395798366,0.06585727187414216,0.022192952784033562,0.08203778017206814,0.05004176185382532,-0.07816426360180453,0.07909377650337973,-0.06190443358235467,-0.04407481342169782,0.05741938350755432,-0.0063027168584729384,0.07927337748474801,0.03490683694041075,0.029170207119269657,-0.0022189749503953955,-0.019668947500238596,-0.04110338230378433,-0.05459844472954468,0.07704825660751745,-0.026436201097377127,0.06238601458216771,-0.027572796540892352,-0.07383727412840418,-0.017364662808570495,-0.005534467028496781,-0.06561364153880743,0.03749220102156678,-0.018298751005497396,0.07447811171159822,0.0571644539520033,0.0044065809308761715,0.029127611799568697,0.0421891659659082,-0.004108202322374241]},{"id":"chunk-7db5cddc-128","content":"Example local usage With ollama installed, you can run the server with the model you want to use: terminal-run-ollamaollama run llama3.2 (this will pull the llama3.2 model if you don't already have it downloaded) Then run your code, here's a minimal example: ollama_example.pyfrom pydantic import BaseModel from pydantic_ai import Agent from pydantic_ai.models.openai import OpenAIModel class CityLocation(BaseModel): city: str country: str ollama_model = OpenAIModel(model_name='llama3.2', base_url='http://localhost:11434/v1') agent = Agent(ollama_model, result_type=CityLocation) result = agent.run_sync('Where were the olympics held in 2012?') print(result.data) #> city='London' country='United Kingdom' print(result.usage()) \"\"\" Usage(requests=1, request_tokens=57, response_tokens=8, total_tokens=65, details=None) \"\"\" Example using a remote server ollama_example_with_remote_server.pyfrom pydantic import BaseModel from pydantic_ai import Agent from pydantic_ai.models.openai import OpenAIModel ollama_model = OpenAIModel( model_name='qwen2.5-coder:7b', # (1)!","metadata":{"url":"https://ai.pydantic.dev","title":"PydanticAI","chunkIndex":128,"totalChunks":208},"embedding":[0.0725691627210555,-0.011662037807683073,0.07928653920464453,0.04969655333036786,0.04390265471319331,0.0005673143326576903,0.045855089955924175,0.052531441262879154,-0.06799761224503793,-0.025863855912558114,0.08102290483695451,-0.0661117519722808,-0.06372376496632919,0.06259661808429211,0.03470259372132736,-0.005802782292621118,-0.047971624592951415,-0.0405507530304646,-0.051861409799491776,-0.04609068942561211,-0.08469677907641357,0.006240458742406432,0.050289137291905234,-0.059623294010596926,0.04799803334501223,0.05151470579674801,-0.023351551614896156,-0.0635783876503219,-0.06015713759971742,-0.06289039647702764,0.08277397469224203,0.02496077088196043,-0.0332415369302271,0.05165771672513776,-0.033387329961219236,-0.036819567129247395,0.05482188470450594,0.013664060340653475,0.027882155004652985,-0.05039074698265924,-0.06564999311159288,-0.04267927901301873,-0.051038622981772246,-0.05247854216303742,-0.06392521921593945,-0.047609301569272386,0.0511683395457414,0.07125172989225158,-0.009279985585014465,0.06114094329956123,0.029646058624223988,-0.06748034257821002,-0.019396607903101205,0.015711529402684964,-0.06354917210789253,0.04165073317407863,-0.07844848975102126,0.07722662046059246,-0.035463950124524295,0.016118985652788784,0.08175647238960583,0.015041396603508075,-0.02902782783392206,0.056108262589848835,-0.011786857394584878,-0.02667778552100982,-0.030962945300807922,-0.008618842885589761,-0.03303313626169134,-0.07538415131872454,0.05280640953161449,0.006018901601391844,0.04607904881849248,-0.003426590492887954,0.05030074111050799,0.0751915161871252,0.036655956741800194,-0.043190838852870006,0.0561364206400854,-0.011196145428952928,0.07985702912560032,-0.08344992073126575,0.06127657373286567,-0.02610309068577622,-0.00753466346750338,0.006638261584837385,-0.06882885420740885,0.060069151141426705,0.06208553208741094,0.055536981341796236,0.0686030752904658,-0.03855315605288858,0.06554203066413589,0.0343999477587331,0.004154362689575784,-0.06871716418138958,-0.00474751695520936,0.045745889633187535,-0.05654849854917516,-0.046083061893221755,-0.07134221920595145,0.009268105291852033,-0.01746285367952571,0.01665946129172443,0.05872097809979105,0.0846907379572101,0.0040066709574440385,0.02518105861081019,-0.05144336273966518,-0.04810967396136232,-0.028727619701782572,0.07962490282091922,0.014272589352894974,-0.07318004357729219,-0.0037857966738969384,-0.011523457799829308,-0.008342272166997133,-0.05809119787267477,0.055157325121332944,-0.03561643339205172,-0.0494738863259347,0.053639609371930685,-0.04742455429596431,-0.07039409110925182,0.020904779065757294,0.012744468330213407,0.07204242190110144,-0.02033217366978165,0.03936955357185625,0.020866533571325802,0.030596933031102745,-0.008796416721039774,-0.06983410450774341,-0.05488595398789716,-0.04456862386924517,0.06799979170693995,-0.06530393235857425,-0.07394753917125846,-0.033945826956599895,0.03951893706226855,-0.030776336957296424,0.06627312019222638,-0.06063459011716276,0.021462803832548005,-0.043106206618996584,0.02193740388452644,0.08036569741146375,-0.004826779803592584,0.062147979520390764,0.0057181223912836365,0.04922127054227354,0.0259455625991687,-0.04137294448803397,-0.061328536706790296,0.06274793778353643,0.04301445110183924,0.022833820801136915,0.05350201042338653,-0.031044597269343173,0.04973739986963429,-0.04843310688589582,-0.04598131073415506,-0.06757350966498,0.033587497168291285,0.042582825905686836,-0.008575959087144334,-0.00011830309100856548,-0.03442318694072401,0.057847732249408666,-0.04035813423586186,0.052487036317480425,-0.04195206139570894,0.07316596513706485,0.006830027344866054,0.08492665745119612,-0.0842978105203061,0.04924619546517509,-0.04519431502692951,0.05039239391540021,0.05244235179639448,-0.04914642913898427,0.0848375758285391,0.08344564804828956,0.07630826489111887,0.06749457474691009,0.07949140962592655,-0.0668263668376458,0.08021178829404271,0.005390359263775653,-0.0647948909715979,0.07818069351885577,-0.0488169455049104,-0.07180388664606226,-0.04144986579129351,-0.06315332585800836,0.05151881442592879,0.00917258573000389,-0.06944896394192712,0.07776654831794677,0.06260836574194314,-0.002996653262198062,-0.04327625955719102,-0.0384789618247251,0.012714258630167077,-0.07063198878181855,0.042255474137185264,0.03181972013995631,-0.06264347202597594,-0.039349254908494946,-0.06570890134090326,0.027424881920440465,-0.06638219735734177,0.02731796334748171,-0.07078133826249212,-0.005180286568055645,0.07180888568439533,-0.07946005007023113,-0.02853036649505881,-0.06819140115790648,0.008183170764632269,0.07020757642943977,0.07514512028039941,0.0060417405155737715,-0.08038118746710562,-0.04805636110255744,0.0014401503355351212,0.009522625310254844,0.03228309192235906,-0.05958482865980615,-0.0838207992109292,-0.06608831759666958,-0.03401743628458344,0.0731106266253156,0.08371547159518103,-0.032190411265067456,0.055963472369051935,0.007870889568431171,-0.04803373051219675,0.011697935540242293,-0.07668081312995362,-0.08060084661140902,-0.07542582985037982,0.022345885807694456,-0.02371910285048045,-0.05901658018015399,-0.02526478037594103,-0.03560407254538174,0.04362494541639964,-0.07122174456436194,0.04441812440714285,0.016591717030006167,0.01641403834967456,0.03883490525603007,0.04647537520110918,0.03632556552082594,0.01387187242178909,-0.06255550074301476,-0.07830052462669185,0.06273750075745153,-0.030962626235306528,-0.07690709942418651,-0.07815953230239765,-0.07640144511827231,-0.07164550697602819,-0.013032682282414509,-0.04648202976171563,-0.010163721969815579,0.01768445380971269,-0.05251655785114349,0.02432260247860648,0.0836572118722895,0.06963059533563382,-0.07520680204919195,-0.07797214949976021,-0.04933333171386196,0.029236746786996268,-0.012732944438331645,-0.05587772827426685,0.0843342119597031,-0.03379260496072839,-0.03406121480038753,-0.005320465309356686,-0.06790950713472131,-0.02259802144075488,0.023306707347674975,-0.08205336660845518,0.07421659106690626,-0.034947581691700695,0.0304077897444843,-0.06910704437146241,-0.03193834237850199,-0.03433938826056118,-0.046330659106188485,-0.03008406816339471,0.06462183989786593,-0.07501246706626594,-0.0751432370366182,-0.0224303340463932,0.027871468492149245,0.043387694147344114,-0.03214922839540506,-0.06285956569114885,0.07667761845170767,-0.015778633632816973,0.0794259644130566,0.03669300961355329,0.0694402116827409,0.022096435798008043,-0.03510261015844774,-0.07633469016037983,-0.0021979878451978334,0.008603884061148074,-0.05300810962960688,-0.012943548245304715,-0.04126582622459858,0.007345751621241145,0.014396084739615098,-0.07185926134302305,-0.0074255466851555945,-0.0660068370855774,-0.08192815469789536,0.02250836217243428,0.07659320085892245,0.025109650407753002,-0.017991792119218204,-0.0762496337932976,0.04250650371630392,0.03496154285949883,-0.03139135709525972,0.07961906123022769,0.06807029551394567,0.03833641752746297,-0.07399296587775601,-0.008421773850479396,-0.03700043210715152,-0.05467922893319665,0.008066311227548265,-0.0002344364277754732,0.010495381225542727,0.0034762578890766608,-0.0472761475890365,0.06361068785610023,0.0035170640677467608,0.030866961263842134,-0.04509795272723306,-0.024570842893711583,0.028570009781472377,-0.06283064554299142,0.045140481869317274,-0.0198625428662578,0.03526227831889041,-0.05120605771057999,-0.002340298869486751,-0.02381347510621414,0.0261186875121054,0.06923288185004192,-0.04001335038749931,0.06623745332732416,-0.026181026940321712,0.007567688969674661,0.031536250028321736,-0.06263417393721168,0.06881678879530631,0.030492393999877743,0.035570664004846764,-0.0330284650024551,-0.06331539304682225,0.061283514593610595,0.06419358112800463,-0.08066602860977676,0.0009276333186864299,-0.08291639893303482,-0.08218189053546698,0.06395438198054396,0.010307704550161273,0.03393654841701181,-0.025309213210244652,-0.02013469065038545,-0.060306267366548164,-0.02233515784081087,-0.07543707274960271,-0.028161943941967135,0.031835033737838844,0.077368618526403]},{"id":"chunk-7db5cddc-129","content":"base_url='http://192.168.1.74:11434/v1', # (2)! ) class CityLocation(BaseModel): city: str country: str agent = Agent(model=ollama_model, result_type=CityLocation) result = agent.run_sync('Where were the olympics held in 2012?') print(result.data) #> city='London' country='United Kingdom' print(result.usage()) \"\"\" Usage(requests=1, request_tokens=57, response_tokens=8, total_tokens=65, details=None) \"\"\" The name of the model running on the remote server The url of the remote server OpenRouter To use OpenRouter, first create an API key at openrouter.ai/keys. Once you have the API key, you can pass it to OpenAIModel as the api_key argument: openrouter_model_init.pyfrom pydantic_ai import Agent from pydantic_ai.models.openai import OpenAIModel model = OpenAIModel( 'anthropic/claude-3.5-sonnet', base_url='https://openrouter.ai/api/v1', api_key='your-openrouter-api-key', ) agent = Agent(model) ... Grok (xAI) Go to xAI API Console and create an API key.","metadata":{"url":"https://ai.pydantic.dev","title":"PydanticAI","chunkIndex":129,"totalChunks":208},"embedding":[0.048183527635014795,0.01014158131557502,-0.0077561804360103855,0.05184029873570775,0.07852935299151913,-0.07830058391512866,-0.03478563861753674,-0.03363693396805451,0.012428788954768852,0.05606052308402469,-0.06257024685275359,-0.05033986590227088,-0.060856666771099334,0.02979314798272651,0.0092439592608613,0.06696616415210074,-0.07348377220319396,-0.029807454881521814,-0.0850632342158256,-0.006474167627537296,0.06062298263529617,0.035514901583909186,-0.007833575140304291,-0.050619846186026884,-0.020853975466189716,-0.05728462457234903,-0.05352732456217307,0.04936966956032969,-0.04148955880358797,-0.03668294924911717,0.06971514825203523,-0.03704197775612265,0.017805304913636927,0.06116813276336858,0.05638402935572705,-0.03317717225173732,-0.03707908381066213,-0.02681049825014463,0.0742241739299482,-0.045018636268286435,-0.05474431205997928,0.08802528816109598,-0.07962835930544077,-0.07348184329296371,-0.07876366994942044,-0.04637285240925992,-0.0528403331377419,0.08964923772839084,-0.020620979985181732,-0.08591430380397827,-0.06983064333601649,-0.015685641497658786,0.08369951058081174,0.005070894417723626,-0.04205460407070866,0.061472389776001404,-0.019211088745749512,-0.061571494442194265,-0.07382873325103041,-0.0651387392399757,0.007809993637711537,0.08054395307014614,0.08386112237925226,-0.05479519550372479,-0.04227670559765583,0.024940026055457414,0.03224866548869776,-0.07995589669915391,0.047429567691061936,0.030378720331820337,-0.03708381201145233,0.0081262298854428,0.008914563056076604,0.01082005065928822,0.06836795103064845,0.038605472815639,-0.04598850620684882,0.043919962792781445,-0.0494427831485557,0.07480977375126785,-0.037851514823051026,0.027173537099316962,0.006910192677047903,-0.07669498782399901,-0.001195759909398477,0.08843072088058164,-0.055886034324262375,-0.07142432170351376,-0.03434000792930364,0.06824558882078109,0.03796283032807028,0.059508468263077846,0.046548888389699214,0.002711996806715499,0.042447350517422176,0.05067111080125094,0.01629710272822333,0.0878019744985894,0.06654002415232056,-0.016693569991241285,-0.03218517927709979,-0.007427755811659216,0.011297976378123792,-0.03866377216629169,0.06316163400459031,0.0333871728174315,-0.013807671987745386,-0.009491602281256747,0.012942164524706964,0.033394447414421435,0.08621155830021338,0.08177161125739801,-0.02368037073165215,0.0005474890066987269,-0.008211998807931668,0.05415015141044253,-0.08300632405148034,0.012351986906459271,0.02278558615753506,-0.024460372336557137,-0.020348018149755513,0.03782998340315727,0.08477825784105608,0.04084862950767683,-0.02732241174442678,-0.08210640791755527,-0.03848334284282294,0.04947511304947106,-0.03774870167525201,-0.00038589277254417266,-0.009351107518784367,0.0881423309341992,-0.00849235023935094,-0.009270848288015953,-0.08938470017116462,-0.028784500159300078,-0.07749950680368933,0.0010688842886131787,-0.06902649665733737,-0.019937563726894383,-0.004463798661170959,-0.046839640142865645,0.08869256812421979,0.07276074410393185,0.07097799083604737,0.0045941684030758245,0.08620646301360045,-0.024766143597789652,-0.07995299122176683,0.00854239047770664,-0.02578338614019466,-0.05988816520499436,0.0450424202647225,0.06890964956976967,-0.01711071991737311,0.07558011993257438,-0.06074945777259294,0.023983893389719613,0.02962778447249292,0.012939973020105635,0.05381623990866542,-0.02733503464734682,-0.07188340439230557,-0.055693199738388384,0.08877800137089843,0.04646454254537112,-0.07277304967106374,0.05250668720906546,-0.007701631973354252,-0.002982825835134666,-0.06991976205559278,-0.02678105161457011,0.024975475988988863,0.010857282270566216,0.06058420031503427,0.0360521213112371,-0.010564233761044787,0.08014716052983996,-0.0666322827070324,0.015070414702318206,-0.028307310601733665,0.0835873331752959,-0.053149773904636766,-0.051644617832728626,0.02634563367500253,-0.027772101534595757,0.030280239644187266,-0.03489557373517151,-0.08062382636608766,-0.03246863296268056,-0.02734796105187304,-0.01400161533034296,-0.05254277972422879,0.005112137510415657,0.0390549234635908,-0.03414123784100404,0.05350479631994186,-0.040919134392313664,-0.08786600422971527,0.08393616262207916,-0.07100811234239852,-0.08959182383463575,0.07314213206016769,0.07121658256611031,0.06827190013145254,0.07689520120450766,-0.04010390370756988,-0.06509759908336683,-0.0854974975687188,0.07355510896696288,0.029363513827057205,-0.06385806853212575,0.018628382706517434,0.07452996665278727,0.08528731575285206,0.05660410291653858,0.015355577003992598,-0.04972770883393768,-0.026190327357016242,-0.05534156774252732,-0.049833867470230477,-0.026420770214993526,-0.0670293606188537,0.020250027726375623,0.016794102793478836,0.06347693191280347,0.08011474416772979,-0.04896638739978721,-0.06673312629105663,-0.025527934842634756,0.07757669018817108,0.017605737143776317,0.04477843954270039,0.055090395289747844,0.03418501605043536,0.0031316111039890364,-0.027349428878259113,0.022022499220423406,-0.008793377476110718,0.059141193749746364,0.03798717030389476,0.07322823706207288,0.06373108596048598,-0.07194987603708745,-0.06180831208642676,0.011206298999364287,-0.061335332163628006,0.05475757117303914,-0.029686074419640728,-0.031602130070221904,-0.06757543295517214,-0.0626850007168403,-0.007211537101404412,-0.05754382441641695,0.03997530671489917,0.059605513572990876,0.04911335274026818,-0.039638420757556095,0.058312733913702244,-0.06028926283717991,-0.057609417671964536,0.006962386468880726,-0.08888025603195951,-0.013786193173588182,0.04502970244327009,0.030443258403145167,-0.08316403853472344,-0.0035723771911148343,0.06084583319917103,-0.0656493769070534,-0.04025778044983801,-0.0162602488526818,0.08261615839085806,-0.030093465828563135,0.05562743261979489,0.0457468082019983,0.07621899285062742,0.08002663474332335,-0.0876365585593406,0.036189916737234484,0.0033138291106765065,0.058023451302777515,0.0021750884695390183,0.030902208604211983,-0.0016753300401701973,0.05860774142296185,0.08577346811044213,-0.029419672645742852,-0.040621289400979615,-0.044353509690826305,-0.015679266202708826,-0.029981965124996235,-0.04958483744557034,0.01253220752255403,0.02093317423457579,-0.05847053822685742,-0.04295861038985288,0.01830774772487314,-0.031039775846542283,0.06845313935246324,0.08102796126984126,0.0060113161401946094,0.022067788493980944,-0.015041358722226655,-0.004303170168779086,0.008855635844146366,0.053131565884341314,-0.02820930877180174,0.08434669707044043,0.06870946042385329,0.0730345948663568,-0.04677100582756071,-0.0738213530777127,0.050767632295634926,-0.06310556970612642,0.0422767463684399,-0.06184457072244516,-0.03145288621248596,-0.030129127752177864,0.04538859701632958,0.0037867599187754696,0.03576917593937788,-0.028920311806312243,-0.08575965688968963,0.04701889105414378,-0.06885167567029407,0.06284776091654652,0.05326140137557832,-0.06547027517015151,-0.07634585729182754,-0.012636642425504494,0.0323869774173677,-0.015035190078197147,-0.08533123986449255,0.0267827530717457,0.0041285517004966,0.01848306769499731,0.032873679291722566,0.03942172675284431,-0.06246990987451404,-0.017561536055972393,-0.055752419376679116,0.006782669005259056,-0.03081144741794795,-0.06906421904932179,0.021305615564423928,-0.030961089708886686,0.013320325010123629,0.003882388467053489,-0.03567495021641987,0.038662201438248216,0.07344777205701382,0.05905225049303676,0.08706454058834352,0.04813039808785946,0.08077035705937549,-0.02342421417703745,0.044989948665622795,0.0016773157875151095,-0.05793174015813142,0.04704084481005418,-0.019591392454131315,0.006136602524197822,0.012231257134825728,-0.0019124321105509798,-0.08411804966486879,0.032773083818882935,0.008021290304838103,-0.06932051737115356,0.0008779595543729382,-0.01650100261219624,-0.06264618757083672,0.027332989608410452,0.03797834815370025,-0.04193151212147392,-0.06584549734405316,0.007247304685743663,0.05926512715226396,0.06343481220917417,-0.01672966516186346,0.003856603160587493,0.03337639885704033,-0.017716831396463906,-0.08469623984736772]},{"id":"chunk-7db5cddc-130","content":"Once you have the API key, follow the xAI API Documentation, and set the base_url and api_key arguments appropriately: grok_model_init.pyfrom pydantic_ai import Agent from pydantic_ai.models.openai import OpenAIModel model = OpenAIModel( 'grok-2-1212', base_url='https://api.x.ai/v1', api_key='your-xai-api-key', ) agent = Agent(model) ... DeepSeek Go to DeepSeek API Platform and create an API key. Once you have the API key, follow the DeepSeek API Documentation, and set the base_url and api_key arguments appropriately: deepseek_model_init.pyfrom pydantic_ai import Agent from pydantic_ai.models.openai import OpenAIModel model = OpenAIModel( 'deepseek-chat', base_url='https://api.deepseek.com', api_key='your-deepseek-api-key', ) agent = Agent(model) ... Perplexity Follow the Perplexity getting started guide to create an API key.","metadata":{"url":"https://ai.pydantic.dev","title":"PydanticAI","chunkIndex":130,"totalChunks":208},"embedding":[-0.027209903119879576,-0.06430366370644457,-0.0346290201519326,-0.008313313709559934,-0.018342854257073236,0.011806090240161835,0.08246970634655575,-0.08606904226060497,-0.010849187295608138,0.002183089348656475,-0.04646343624495313,-0.09138339510499598,0.0069588069905199244,0.043113958217351485,0.0827591644681697,-0.03742066731122941,0.08499682261966231,-0.08009778099373104,0.030429227562264644,-0.042103466811398024,0.08308457036546346,0.07258942718808978,0.0751590985617078,-0.06954925627463009,0.037848909122176276,0.03942621792523121,0.08384290188672948,0.04494931540331859,-0.0012019771309182109,0.0464726038645645,0.05304791510365457,0.018357684030900618,-0.08021921784428941,-0.06374089022642869,-0.0188084930352618,0.016539164332983625,0.05035484477564807,-0.025710985251957676,-0.014318131259218688,0.0741324212999239,-0.054905330888771454,-0.058275214647465476,0.0818427552122779,0.06469185143565176,-0.02061938753781191,-0.0092570971818302,0.008106426443201059,-0.0028623896093025085,0.04317851447583484,0.023879820231625163,0.04646322567671436,0.0042670901394488295,-0.02639095998869519,0.009585747454859869,-0.00768307093776901,-0.04672220014572094,-0.012195204977088894,-0.02547737486775765,-0.08581270215393688,-0.05446610145245369,0.05780961804791952,0.0003929833695883759,0.0392975568474936,0.06155733642873343,0.06985552901257513,0.02437070040498216,0.04782884495781948,-0.06472015943712392,0.08055511850852293,0.08120658598868125,0.002696537340217975,-0.03556256773338317,-0.03430339259262752,-0.06488199469499592,-0.06835827481967373,-0.08645649181136345,-0.057758339761955275,0.05518700258609114,0.08632278214324131,-0.015107779298551538,0.02463150409408521,-0.08882695536933144,-0.0332450937182531,0.038750187673081214,0.016306685161657987,0.03327723306407425,0.013039967120211889,0.027174869382046482,0.025652909226872442,-0.0764465252340746,0.06241451968024021,-0.0903481469980952,-0.036857186125205,-0.009298682196093718,-0.035894239874716564,-0.04923991623390209,0.04710220839621908,0.02936498087136568,-0.08889838646339819,0.03923774069082734,-0.02051251206724373,-0.07932233645048167,-0.051164761279657946,0.08900742996764288,-0.058253091713872975,-0.007109599360344286,0.07151199072691262,-0.04391209540296438,0.03497141799083103,-0.03623987478012899,-0.015571951621000685,0.06730938192473426,-0.06990115673098711,0.029510677261381464,0.058036685744673105,-0.07323173406688045,-0.018587000476969776,-0.027318278883271055,0.09090444420793588,-0.022118556603948417,0.07972000401447278,-0.05409201907655728,-0.0015999533374700529,-0.05671947876286896,-0.016927302357864375,0.053809776364983346,0.032214136882405514,0.0869248769037041,0.06386788825929282,-0.028619343743005263,-0.029364832333505998,0.003067800863227087,-0.07899025140968785,0.09089553261052385,-0.05851236235214768,-0.08125210691993395,-0.06496930710108109,-0.08295012249019082,0.01376760303804767,-0.0733999023862938,0.020288593709374476,0.06519181290006193,0.08654247332212946,-0.009749101057406073,-0.02028877138648985,0.05534390427458677,-0.004695000883088456,0.02718785570004493,-0.07084849926848087,0.08958834416663153,-0.05570620762856712,-0.00006604442696900288,-0.03103716800132379,0.07210892256707681,0.07561677177444542,-0.03024843243272421,-0.04345386940287931,0.061435131302973164,0.05639043729997769,-0.07275781912591545,0.050998453905540295,-0.01402141134310968,-0.013267974470355432,0.024273441611652204,-0.044453674518885086,-0.03192445508110917,0.086492988753755,0.08465556417029198,-0.06632208473549765,0.03454879005492068,-0.0103248451895385,0.026507326296691128,0.08730372082425865,-0.052328591482478724,-0.03593547342960488,-0.005725731906525307,0.024758438345865424,-0.06713806452743108,0.008717609077827468,0.030743105002791822,-0.031036678729052854,-0.009111685064827187,0.0069763474412589755,-0.07837511345637752,0.07065923396060275,-0.06243859971108719,-0.02139019028568169,-0.0033719190658818574,-0.013994686428822165,0.0021974801089611907,0.04565300677300148,-0.055528025162625914,0.029105483813878164,-0.0674390457850796,0.0247139838735022,0.0014073359035506282,0.045770783481686464,-0.01908443105615714,-0.03785061967086409,0.01914846191025778,-0.020236945865108612,-0.012750945252184195,-0.012354051958295949,-0.038680042051346786,-0.0036834939011586615,-0.014825742622381781,-0.008410811434498112,0.04879791625368302,-0.07360895018994121,-0.06855525046363563,-0.013526866399273071,0.05199679417767154,0.06767739656999552,0.03559019724084705,0.013358900494362417,0.032126275245535046,0.08631955552134338,-0.029454417920985836,0.0026955271548626254,0.00252072451875383,-0.03728930584255471,-0.010350703308027911,0.07763750210599948,0.06875177881226462,0.07504242496228206,0.03333189713983781,-0.06155188469782987,-0.07433380675949933,0.009166934150478758,0.017164659491634936,-0.03597869179787826,0.06520462239720459,-0.004275232799245873,-0.06511191023162921,-0.09129382005384451,0.025435504784168287,0.06742738082702854,0.08050555083227688,-0.053709225271727216,-0.04793853489861408,0.07272002726407206,0.05522881622333118,0.01827466064237183,0.0419664544565958,0.002787537380091326,-0.016231147765533374,0.025055608717891104,0.024624216917986295,0.006070962649076424,-0.019561204197120107,-0.07223805028260945,0.047367763874123746,-0.017791589519739328,0.012590403877081274,0.06775870000282029,0.03836781697654361,0.026156830133149286,0.05561216999008023,-0.08927830985423603,-0.08818173294116322,0.06080078759029319,0.04849958391626583,-0.08751917654371029,0.02935591377704639,-0.08941255849366123,0.06812899247808198,-0.0380477749530843,0.039369511117417016,0.08000391320242008,0.048676567301797785,-0.01391078659899577,-0.0714470652317461,0.013600882941140868,-0.05851543926185134,0.052836443849734856,0.019338246395418732,0.006051170674515635,0.027012413806543394,-0.05656278970113685,0.08814628044003398,0.053355693368559755,-0.008035362587364318,0.07573515598196355,0.02669398265765354,0.04055160690078404,-0.07309745340418054,0.06833099982068624,0.047966014771172155,0.02848519436582673,0.04433064993786186,-0.02479041477658648,-0.0704024190443008,0.0857745993352974,-0.01805649559510719,-0.01592810531105901,0.015731644984625197,-0.07041719526828327,0.021536363142802255,-0.03343191399981615,0.053540523981737566,0.00011416155862546177,-0.09022864486590094,0.03917413545235065,0.023746386818524402,0.010812870762358642,0.006784265834910985,0.06932815619846797,0.07615038434807475,0.043991582529621306,-0.02477694237186121,0.02556907331603196,-0.050672069137125415,-0.006098865573190377,0.041054391159897945,-0.03903178468955768,-0.07988560998843974,0.07855877133221294,0.08154047969375541,0.07179653611552267,0.04893658522207385,0.013993545188039157,0.08543075444021259,-0.04109226346061759,-0.04914977342691011,-0.003797201129782656,0.042098494471804936,0.046205234255074515,0.033319804222079225,-0.05991745100867225,-0.03865811170962764,-0.06322639994782309,0.046855426434714104,0.05954843162916507,-0.021207616086259855,0.0114118024441807,0.03887682643209674,0.057747433559283745,-0.00014227190555820882,-0.017498367481425615,-0.05052468364526485,-0.05823842806672359,-0.048212770865050075,0.05266461682819608,-0.07600797003547964,-0.0029156345190969398,-0.03692382647495285,0.022681599462645915,-0.007199518545974568,-0.06339870325358395,0.037431853094244336,-0.06764819528525838,-0.03924714723629407,-0.011619200155183572,0.0679368580850398,0.08253935665088494,-0.011164202962417687,0.010101725731491255,0.014432262093549414,0.0406905417845491,0.07352659428842052,0.015448485655587062,0.07514118131089546,0.031008003104742554,-0.022917705915987102,0.01638928927880436,-0.08304347983218881,-0.052356446249411416,-0.01799951833358664,0.08869523954292205,0.05593686580639153,0.04070873145747476,-0.036796548329480344,-0.05444805175220725,-0.02589883388544033,-0.0017983434268845062,0.04828774463509833,-0.08484760282800989,-0.03643444740568759,-0.05968973874284007,-0.01810829898823327,-0.07219863584303737,0.04434566932414193,-0.07177725158565415,0.027366221642988724]},{"id":"chunk-7db5cddc-131","content":"Then, you can query the Perplexity API with the following: perplexity_model_init.pyfrom pydantic_ai import Agent from pydantic_ai.models.openai import OpenAIModel model = OpenAIModel( 'sonar-pro', base_url='https://api.perplexity.ai', api_key='your-perplexity-api-key', ) agent = Agent(model) ... Implementing Custom Models To implement support for models not already supported, you will need to subclass the Model abstract base class. For streaming, you'll also need to implement the following abstract base class: StreamedResponse The best place to start is to review the source code for existing implementations, e.g. OpenAIModel. For details on when we'll accept contributions adding new models to PydanticAI, see the contributing guidelines. Fallback You can use FallbackModel to attempt multiple models in sequence until one returns a successful result. Under the hood, PydanticAI automatically switches from one model to the next if the current model returns a 4xx or 5xx status code.","metadata":{"url":"https://ai.pydantic.dev","title":"PydanticAI","chunkIndex":131,"totalChunks":208},"embedding":[-0.06537943180821373,0.01448895289246521,0.06577844561694401,0.010091355823479847,-0.039675759344580716,0.061389030912240274,0.08805007159734561,-0.07877796466482256,0.029816917113714255,0.06497979179652774,-0.047057579852853006,-0.03394593814777782,-0.08718196003896855,-0.0674819088144691,0.08127524478916315,0.015105699774990216,-0.04394371387730632,0.04461071306924908,0.000332390160808583,0.0813940551312125,0.07509150778494378,0.013807878595184855,-0.07157766234080083,-0.003958264649389302,0.07633691026285894,0.03561558333070861,-0.044603788554557676,-0.07816894764218331,0.004318251207676223,0.002036544989102683,-0.08599967545475501,-0.03250395944023725,-0.04122236638859718,-0.05659267495565006,0.06117970297664031,-0.023412645466915846,0.019840927982491978,0.010833272795071925,-0.08647560355682568,-0.02348048397851009,0.0026959660625427225,0.006525731786480674,0.01110901168909461,0.07053374632224237,0.07029584316405892,-0.08176849998163332,0.014975034776013176,0.0554482270077208,0.04325113818663157,0.05631151129349565,-0.05280607766873967,-0.029908250293097103,-0.014743487849813565,-0.05071129231648122,0.06937569940402345,-0.02932567235241475,0.024936906891813646,-0.0113895522618276,0.03599128558170682,0.06785571195045055,-0.0034376266752493773,0.04096581999538335,0.0798907685979008,-0.05476735201982241,0.02217507212862441,-0.07966025482687752,0.06922478891105487,0.06521603241633904,0.012064356586292376,0.06943586451957696,0.04465981392794674,0.005356607512924915,0.05775520944239944,-0.014856510876989798,-0.0816892390821615,0.007716164485992553,-0.036736660413793164,-0.05996664250057497,0.005934220973370946,-0.0050713279810960035,-0.07353841057437749,-0.07552266768796975,-0.03885544435642378,0.08055530517800544,-0.07072812374469935,0.06314731368928432,0.00038471723792346947,0.012547954272649134,0.005917926212336492,0.054651172135959526,0.020098570372899867,-0.05721478030833497,-0.04361659916793599,0.06843999542229061,-0.019497035300661797,-0.04337576591216851,0.023615585884142715,-0.014461975355668073,-0.057369570469234084,-0.029645119247314958,0.02200521759420374,0.07331930935796314,-0.08243159532595153,0.012954962971971665,0.036546464020374925,0.010628992474449612,-0.031095568189793355,-0.03147142394364327,-0.07766686653117087,-0.04462473963530462,0.05714547968907904,0.07401688097771318,0.0638783970050875,0.08418302812924851,-0.04544066725521379,0.07635690853003234,-0.06164749483569387,0.0273392865195301,0.01131159312112423,0.07046435564975605,0.03718120684966581,-0.05350695434518732,0.06832848590423408,-0.017442567155261535,0.07781259336794252,-0.05737725954790651,0.010737635368293917,0.039554701975466434,0.05003910051572694,-0.040465195824613845,0.03209996062653836,-0.001566670321925106,-0.08193680320729135,0.07916353422346062,-0.08645096711901278,0.026245359644352675,0.04511935995247615,-0.08801978773963821,0.008922280518159431,0.06379413394648734,-0.021886871594970957,0.001196713524380256,-0.07983664603834792,-0.04469139441309095,0.07532706996931454,0.014430230530403244,-0.08783404604661378,0.03311460774783729,0.07306539268125421,-0.05584570812270449,0.01300044952651398,-0.02356752059137739,-0.0389996143037473,-0.04941380430435743,0.06841262994667145,0.014091977411986683,0.04652527375343847,0.07869125757096627,0.04553435340301362,-0.03229105372120859,0.0015270613360416263,-0.0544150062401961,0.0069067311022733575,-0.024540019938595885,0.009591956687454287,-0.027428419154264562,0.07698447032133837,-0.0648354963608697,-0.06516696022670146,0.05907077032145584,0.0653293192182536,0.03943161548246226,0.01931220894986247,0.046897757537428426,-0.07921389731130862,0.020121225248723718,-0.016518723400791135,0.00016574512252739455,0.05698765274286833,-0.04598283706535124,-0.051035437345170645,-0.06947243301603369,0.030009983493524878,-0.054632669483348356,0.03483034459637529,0.000019927427295138875,-0.003603281903738919,-0.08424699829710651,0.0034635889970831765,-0.0072244140953156046,0.02951754714016384,-0.04197954049605883,-0.07343441983480115,0.008497424077277405,0.02858633279250052,-0.02928867878462584,-0.02921252272066308,-0.08600817245936235,-0.07380997079591654,0.05344558007400479,-0.048726185616009374,0.051966963800983264,-0.027648857598371913,0.041572263847285906,0.07319115078969439,0.08605146979439335,0.07192183911323416,0.07191927423310696,0.06258994001372316,0.02804800620005618,0.03682071693627983,0.024731455732601066,0.017117363838351846,-0.08513345534804716,-0.04833600519194349,-0.08674878957996894,0.020624205855523336,-0.029507168436215724,0.010245580664145076,0.06964236381194593,0.026203705250000816,0.002588311492719763,-0.07023075417507721,0.07989921373667166,0.013099070688331287,-0.061603633000222424,0.04149236994527475,-0.03898184376944673,0.026925176419334323,-0.014397789610398738,-0.010834368207289573,0.018358863975395042,-0.021983050370867955,0.01289635199108912,-0.0735176050803443,-0.02988647360902238,-0.05333353420843584,0.01768186985711422,0.008634731767111294,-0.046697780474663976,-0.03918498324402746,0.029956424022060082,-0.017194768433083218,0.007104311102734307,-0.054081832032694795,0.0031890966921856033,-0.08078045083878578,-0.04573324964495293,-0.02091149912773836,-0.08744343418737305,0.02032489234708168,0.0034371952002362712,0.0255189090636945,-0.05375346246705951,-0.04739481729044338,0.07019512054596316,-0.03798337065155015,0.03342023770063879,0.02598621216201031,0.023454999259974747,0.06094185056637495,0.0811892841368941,-0.06156454518817042,-0.03731627877639025,0.04688063432204334,-0.08144441477467633,0.06984124934634138,0.051734963803264346,0.05326057533592783,-0.07359482428493101,0.04126463134315143,-0.05879203264532876,-0.03603386310904959,-0.03862362908271219,0.06905670525796724,0.07691650229355346,-0.00570494892855791,0.07948629862114039,-0.034284063542787846,0.07525128906415811,-0.04651215447373531,-0.03786128470390465,-0.053759976550443095,-0.07368815980233365,-0.059734900030380414,-0.04659569465072272,0.06107604523644596,0.04290228696491065,0.02188928726647326,-0.06829059766229785,0.07045372927982617,0.06783467052785648,0.07413045091190625,-0.05253096981073898,0.019011639242731058,-0.05689217665371846,0.08075266119648727,-0.08662965478193747,0.005399359178933908,0.06678588021800744,-0.06379349724663305,0.0560527873398589,-0.061079668811721326,0.02673854767401948,-0.02933652580909231,0.023904690706570662,0.04903519257722708,0.04437344996802502,0.04633500908118407,-0.06683446414651027,-0.04360635079924983,0.04653180388409614,0.061529305119204514,0.06187968984114592,0.027391513920771125,0.06941105207691833,0.03192931147805721,-0.06938759380175614,0.05362742706804111,0.08167564502041437,0.04775860172812302,0.02094490347778994,-0.019452522193170625,-0.07373974947280024,-0.05656659358713508,0.008709650502597885,0.011066090305703354,0.06846135123266073,-0.08162156744049724,0.044936696218541905,-0.01635239309113777,-0.024298640940308223,-0.005742385871997803,0.013498240725122667,0.08113283510176453,0.03847288074202993,0.007276017492929314,0.0072545469404433115,0.05847175068072367,0.06418856914986933,0.057910723016248514,-0.060838347228542373,0.02321998235587204,0.009583547798686467,-0.07009214318933708,-0.02288298947685953,0.04703433612943761,-0.0672778426669095,-0.06704632159517526,-0.02727506737142914,-0.02011536078023089,-0.04583598968564492,0.025562310587354854,0.055150195487401216,-0.049241932458711106,0.06467842958712441,0.029884893196188377,-0.017126860671610414,-0.0018920748521483177,-0.00011564477001241217,0.06385852784507061,0.07286209186792202,-0.06325511294073441,0.022902880037120044,-0.04242307278253111,0.01871267729472729,-0.019240413290279007,0.05805344595216145,-0.08725376092535705,-0.028686864249521417,0.020011601977326043,0.02930325156283561,0.0808970486059567,-0.04073560654510012,-0.07411610423781487,-0.026823704101379606,0.031072581770308614,0.07180789110486087,-0.040673409451665046,0.05164928263215594,-0.043349383722255164,0.08470602981268822,-0.04720819964419456,0.010764328743677724]},{"id":"chunk-7db5cddc-132","content":"In the following example, the agent first makes a request to the OpenAI model (which fails due to an invalid API key), and then falls back to the Anthropic model.","metadata":{"url":"https://ai.pydantic.dev","title":"PydanticAI","chunkIndex":132,"totalChunks":208},"embedding":[0.07658016450830565,0.038926581085017974,0.03901026494222274,-0.08628819693607438,-0.021520873274567007,-0.04028892270595354,-0.06269969378624421,0.01696936479049367,0.026966325238830965,0.002003954086328887,-0.08061615700306451,-0.01311175155202718,-0.025524956990592918,-0.07440099724954478,0.013327468523652847,-0.04411551019421165,-0.05278364746441657,-0.0320065572604562,0.08273638484091149,-0.08320595231453475,0.038861864162506546,0.054514111924022335,0.08263950621685208,0.06878413510299096,-0.06737171476942892,0.08251115223690819,0.005909912969348511,-0.04907949017576353,0.02952140386073217,-0.02745727070040836,-0.02704105422456733,-0.03368076693361692,0.0262965490871896,-0.08185635014808312,0.027634848667525577,-0.044031940835346166,0.05648095786349569,0.019234638261737002,0.0455179357715851,0.06525710444589847,-0.014552120051021654,0.0004518563444926926,-0.03865705582845465,0.023200133769381057,-0.04401802757619754,0.07146378287891468,-0.03625328636438282,0.05278579375266335,-0.0782886139607205,-0.07412604325843003,0.0640287058368958,-0.032311945579928274,0.06485836087723659,-0.011663050984626359,0.08108620004202807,-0.036883777648145724,0.06238313296693461,-0.04637678986951878,-0.08199540385209318,0.07428962550982703,-0.02239782744835958,0.024015858329761833,0.06291292854087394,0.08571787332570854,-0.07440187625735145,-0.052246132057096495,-0.017220751163403623,0.06324882831226794,-0.07651248834588446,0.027318109025433846,0.06368954953377029,0.061976721180751246,-0.042831563517969476,-0.010664697042228407,0.03364655561397662,-0.0410059845530135,-0.06860718964242768,0.021062804890743542,-0.06960108457804134,-0.0012764087046870996,0.06358201877508787,-0.06319258807801376,-0.017774756928616818,-0.06230253888898452,-0.05315323803559337,-0.00006202703340819992,-0.04708130498025055,0.03214437796309177,-0.07414879126729011,0.048374181360090474,0.057918311596485125,0.026397901044116157,0.03881332487595611,0.08537651819140053,0.07983258776912563,-0.018673370439572616,0.07957588746050479,0.018658178487940144,-0.06262815763182925,-0.04452564707312438,-0.00688147745462889,0.011794249927025392,-0.0015967584670306414,-0.051747679127413765,0.07619656076890974,0.05011807224919872,-0.015367037599091004,-0.08459164258185808,0.05437346040108905,0.03759441802234164,-0.028749748231624635,-0.057464094042651445,-0.08232745082555844,-0.04105403322737701,-0.056104599129405075,-0.019703008418905803,0.00009649785778433394,-0.05268808399451763,-0.05644768406757469,0.07769571919399318,-0.03655038534914909,-0.06694135833678923,-0.006062453511527973,0.01598307569682444,0.07041992505883281,-0.07832416652138602,0.01997166997878322,0.01203208742190823,-0.030737551793070358,-0.0045845386016910425,0.053180467216667936,0.016565276076726667,-0.02334708322046124,-0.03677063956464822,-0.02395569596654924,0.01780812470759215,-0.010903528258918483,-0.08513479407387615,-0.024019308415564142,0.0496999025903688,0.07100521392251825,-0.0730045926496696,0.01917035781140599,-0.034562400561900436,-0.06651625756699214,-0.08321237734116053,0.07768213084907902,-0.0679012965433319,0.0785329902652654,0.05038236127918565,0.016774340459551722,-0.0816854423109487,0.07184259814660116,-0.0200801497655871,0.0576005271162301,0.06107890587916907,0.08654735603335637,0.04217901781252045,-0.012728678410716877,0.05528499957452307,-0.006961585422687558,0.028646679634831432,0.05077359607817682,-0.03375382480503143,-0.06035849895277926,0.0008098495105509824,0.0515045450256995,0.017012805543198756,0.07971950500983278,-0.032481928222091075,-0.024833579384527318,-0.06381282509485478,0.0579236986455686,-0.0034607831207420004,-0.08073651025566175,-0.027568207008897262,-0.07520779061331855,-0.0162360024242224,0.06894645538982062,0.03629085862834733,-0.04613528195018432,-0.06497540613728177,-0.08229525625390557,-0.009319955857660111,0.03920356558845482,0.06957287060472417,-0.01283217605219688,-0.005688214260212211,0.050169226649010704,0.007430535132263896,-0.02083604055110632,0.032214948078220375,-0.005844872040239878,0.028735481089548362,-0.01999790160177251,0.08478208542281249,-0.02712664335772196,-0.04712673675979238,0.07736738505115193,0.07704357708602945,0.07920836381698919,-0.0803496590222066,0.012569946837163882,-0.05962478629558734,-0.05516821486829957,0.06735137193341889,0.007098580538915795,-0.03548600777133922,0.025284190520004517,0.04906076137418994,-0.06353533555524978,0.01102962070984748,-0.07999337047973873,0.06788410868086647,0.012313704741360244,0.05438332834479729,0.044167563621450426,0.012962365206625859,0.07833105988711596,0.06959279145102075,-0.06527903205100866,-0.07022586496116226,-0.00852835476153187,-0.08286801562648947,-0.0597262306945199,-0.029767846568980263,0.07016764858022566,-0.02969717755229531,-0.015600933761900837,-0.06746782374091462,0.024080605842620652,0.04323319105647648,-0.012348088988196518,-0.07353717709545063,0.04843992311234363,0.08107984317456013,0.006613843792581762,-0.011052564339130119,0.0429083853353352,0.05709069866564252,-0.07348630814128451,-0.03928279199393171,0.04014356952101549,-0.0034666680400635167,0.06669277183041065,-0.06991331083797468,0.012693223405089818,-0.014691037213654971,0.038416210363548725,0.07137661935311394,-0.013751712547032837,0.06420972075679447,0.03769904753057593,0.07676000720556363,0.004394992647559712,0.007198019374174246,-0.05825431957476517,0.04216319269927771,-0.05212254633744187,0.014860230365333422,-0.06649316415552084,0.05433323761249645,0.013192713103523419,-0.04435992694894037,-0.003162857573968164,-0.030742616011840588,-0.07926707175284935,0.017764221065662472,-0.044636529690261405,0.018731589637718413,0.07636256544522918,-0.01933359303505532,0.08102523430425498,0.04630996592716007,-0.035520203101020324,-0.06086637379714761,0.08643954286807161,0.012816372075976742,-0.06487147920747706,0.0853318850017459,-0.04863947457545397,-0.0653697041693241,0.025875898644225293,-0.00036983485826076425,-0.07207587658044365,0.007866919681384177,-0.04446031563505823,-0.0004472341319051875,0.04584121567966596,0.06410401094907212,-0.019339933550015665,0.01789193807506154,-0.06530776795747709,0.0485748374382028,-0.012261603869982589,0.08292301837867935,-0.031680508015093915,0.08302627576414108,-0.08515937463449312,0.01462728602138132,-0.026868606239539516,0.05768960291620942,-0.05357743142122709,-0.011880228021979904,0.07966289046560905,-0.04374222054158987,0.07668292784223792,-0.025848288178259713,-0.0725122395414333,-0.07772345436853459,0.03400486637866736,-0.00047778279964555447,0.0060555989985450216,0.07859882377498792,-0.07271145191906717,0.013968412362905872,-0.01841741289487556,0.07125505889239105,-0.009073207266198396,0.03087840148285185,-0.009203490780149155,0.08337600894828645,-0.01484717924765601,0.0517326295598775,0.011882376243818132,0.04327163501792341,-0.07681666345781071,0.0767995817111082,-0.027586181102314568,-0.07514563374862944,0.00721574920179672,-0.08209791679661725,0.013333325047030085,-0.03578960858749312,0.08364311493119386,0.04013188729952094,-0.009239504279353201,0.006697770012123138,0.010913966514125958,0.012194410024900598,-0.017306316147400313,0.06714859080316787,0.02358882147555281,0.04236863675185181,0.01622643188068096,-0.06639352200168142,-0.0014858148425984305,-0.02921111107804382,-0.033678060034117975,0.07643479980642147,-0.07465147700462103,-0.05354851214985293,0.06511021235134372,-0.042900268257098965,-0.013381189521720373,0.04588157745992351,-0.07488287041029947,-0.026291971291316447,-0.038046634651157964,0.06250834365323292,0.03488043612235249,0.015867787862865645,-0.06216765172410206,-0.02897589661835429,0.041022780746872614,-0.04491395121393535,0.022499159310243922,-0.012835426362119887,0.023561182332650137,-0.029904823629965972,0.07704175873273934,-0.0690933090964675,0.05544206383983967,0.06446508820803488,0.03077447992403227,-0.06868646039158592,-0.0343112357620138,-0.03098358883657127,-0.03316738872045738,0.054203417785459854,0.04167694661589156,-0.04660594008419834,0.054949644428379116,0.017517939011385573]},{"id":"chunk-7db5cddc-133","content":"fallback_model.pyfrom pydantic_ai import Agent from pydantic_ai.models.anthropic import AnthropicModel from pydantic_ai.models.fallback import FallbackModel from pydantic_ai.models.openai import OpenAIModel openai_model = OpenAIModel('gpt-4o', api_key='not-valid') anthropic_model = AnthropicModel('claude-3-5-sonnet-latest') fallback_model = FallbackModel(openai_model, anthropic_model) agent = Agent(fallback_model) response = agent.run_sync('What is the capital of France?') print(response.data) #> Paris print(response.all_messages()) \"\"\" [ ModelRequest( parts=[ UserPromptPart( content='What is the capital of France?', timestamp=datetime.datetime(...), part_kind='user-prompt', ) ], kind='request', ), ModelResponse( parts=[TextPart(content='Paris', part_kind='text')], model_name='claude-3-5-sonnet-latest', timestamp=datetime.datetime(...), kind='response', ), ] \"\"\" The ModelResponse message above indicates in the model_name field that the result was returned by the Anthropic model, which is the second model specified in the FallbackModel.","metadata":{"url":"https://ai.pydantic.dev","title":"PydanticAI","chunkIndex":133,"totalChunks":208},"embedding":[0.02111396223154762,0.0896402948234029,0.07335225735700315,0.00867985988095504,0.03796502776046377,0.018800952215561925,0.03578464879335494,-0.025552833055322553,-0.012481982632195666,0.07444021397178592,0.0006693704357426149,0.02401922817714948,0.049994541899446666,-0.04736501241370218,0.012164832298853045,-0.05858005205934888,-0.0669279982729689,0.023392243183405513,0.04443132542115645,0.07214912005454621,0.08847703639578322,0.07304866781648078,-0.0009792578503473029,0.032825422291591674,-0.06875084994500046,0.08674765156607912,0.03365414348289411,0.006478059164183849,0.0630754366615512,-0.0032343685984029765,0.08449145027549147,0.06134046811655374,0.08225423606620003,-0.003625000540682955,0.03501853608797677,0.01716235759410857,-0.08832634926459798,0.04751584919251185,-0.0795065525870063,0.02731011607075444,-0.07117341694526012,0.023784259248495556,0.010470502303002,-0.009171340524859298,-0.0029534367356426265,-0.08408169137484986,-0.07069842937506725,-0.03709132081208954,-0.009242293901927752,-0.07306934877360476,0.07399159998872062,-0.04832259664316755,0.06376746645227943,-0.08893893019883146,0.07887664260135704,-0.0568201649676124,-0.03076494610876782,-0.031452053073434974,0.027142559343995825,0.040629993200840535,0.06998080418163362,0.052974847819299634,0.03341079070390555,0.056191324112772514,-0.05042040699005164,-0.00044643159220911243,-0.00806823594286045,0.06491864705202836,-0.017408761306909052,0.02214071140994091,0.06888481561971088,0.00018933823757058695,-0.08381581557960963,0.0002496599719035058,-0.07032935440791833,0.007275234454412254,0.05783190087803986,-0.023821359928269836,-0.061776471822952005,-0.089581056338624,-0.009311529703582871,-0.02571036458830247,-0.08673453346559026,-0.08371774625031088,0.06957683883143252,0.051188868871322145,0.03200770428272643,-0.044763355284532576,0.03279546172205822,0.023882240151846,-0.028533746998260605,-0.04067740656640712,-0.030664174090993562,0.030924101130320753,-0.034766422691183844,-0.03457689954721177,-0.064749575484141,0.003730916559825555,0.05175276605095927,0.06466562725615813,0.06061469933897628,-0.017260078823433313,0.03453685095192954,0.08959675182935893,-0.05000506402984813,0.06538415209442093,-0.05751356699928723,0.014831965333453356,0.044142187912204915,-0.03562667060411971,-0.06997835264643479,-0.0005429637882406438,0.027105837110684563,-0.08952489539827685,0.07468102457613297,-0.02002745030456861,-0.07908765390395892,-0.02868258479544873,-0.020608507362188982,0.05482938264162963,-0.046731854566179995,-0.06582288704008278,0.03524286055337006,-0.008852209027736212,0.07847233964221496,-0.05215812630901043,-0.02300283549261614,0.0015706980270989651,-0.06886223569482161,-0.07199544228281138,0.003591751852638216,0.06002351812311236,-0.06263921635592143,0.04530482577787463,0.022117816817605825,0.007679240386485659,-0.019033238015141864,-0.03313369962537014,0.06219573961367949,0.007511706330334528,-0.03552851957637981,-0.0008543259575356828,-0.07178810388512648,0.027392317414116237,-0.045790305703171455,-0.01426643154221246,0.03201970922872288,-0.08572334080534823,-0.05502424104281091,0.06430332183855302,-0.053207279822501716,-0.06195612851836926,0.005189683427347998,-0.027829663038667542,0.004298464472766047,0.02359254873561225,0.061432284021385196,-0.0770221514083652,0.04383701629361334,-0.05218063372917743,0.08661788648707683,-0.08191051571520165,0.05206590932644316,0.01424726535946248,-0.05930465572043919,0.05053798315048181,-0.02796632098037383,0.08779123361200557,-0.0037385556894520273,-0.03885291356964714,-0.07914993019902511,-0.08243540837390344,0.062467815142312325,0.026263861742466012,-0.0698901929433026,-0.0615621664161553,0.06274282556461426,-0.025890107224565737,0.08470054776624272,-0.06322855747035823,0.03279408310045555,-0.08631620016160158,-0.006522268383807523,0.06987523474702499,-0.028903097428304093,0.08710424777438316,0.07909547820420731,0.013114258504733394,0.0040091103505900125,-0.03188821982845491,0.017436414107000132,0.06477420720255563,0.06473808393549485,0.05324957870111067,0.04031556737580756,-0.0031837656751952906,0.008918014789048885,0.02776368071463973,0.04377381063797294,-0.037674904936127976,0.08204293917505205,0.0498317873665621,-0.030728033039322866,0.08690063436139796,0.06071124820344882,0.02958588165811415,-0.03407155143517468,0.0576979303334422,0.011325230173901501,-0.03740970044155766,-0.06232415010849234,0.02872989438872623,-0.07287112991753786,0.007053890297448503,-0.08396619867620504,0.022840624088713072,-0.073363765794274,-0.0060344007759054056,-0.0027017556641094455,-0.052406764446478765,0.03690836279646087,-0.014630997769077468,-0.01818009697498699,-0.06256007974044812,-0.04916994790909408,0.05012957051404905,-0.06936654475817387,-0.03645246776331202,-0.0440245265578865,-0.08552579426353707,-0.02986734839568358,0.022403164208659274,0.02088055965489783,-0.07947936784119854,-0.011193801402099808,0.005287110320372319,-0.042952905166174955,0.035573097914672204,0.03589422172469051,0.00014196474681910922,0.0506746523008965,-0.04487761777429786,0.05847544850113464,0.002521700193481098,0.08524428885808844,-0.08082659327285063,0.02503746327079971,0.03754465037295973,0.0336787055465455,-0.048297507652680115,0.08205232023133888,-0.004743155549754047,-0.024548351820284593,0.031861630701817335,-0.05965161544331518,0.00429026595888046,0.0539734324662396,0.07828723734917852,-0.047206645540069,-0.04787798211549116,0.07288427960953107,0.02210856275294627,0.028725384129792142,0.08243842615751618,0.030830619120438576,0.07329278606594974,0.07926242471723824,0.01955442587457712,-0.07703078956711633,0.011767925588033058,0.04515824777175113,0.04268781791576131,-0.07986703764065683,0.033231086123781194,-0.02800987853568023,0.05565319097061549,-0.0034062131665407993,0.014677577307208405,-0.05567713047033264,-0.07584334251167839,-0.006353147322164102,0.014455958408729494,-0.0727662861357188,-0.061963389103057105,-0.05503994064287332,-0.0596203800806047,0.05843890436592883,-0.03110637829578902,0.06717810337618069,0.06413275079317343,0.023303897833293237,-0.016732004726271725,0.015058348325507195,0.054245422969229226,0.037312856165465126,-0.0010702660965139553,0.005469066122011731,0.07704138730123303,-0.011667862436490132,0.023726005965582827,0.016503299537866282,-0.013554566345116826,0.021417419368327407,0.06432164199248028,-0.03543986123320557,-0.06033791881423786,0.028805843345488504,-0.024241251821336535,0.034471365653560807,0.051232761323523696,0.018957727824568126,0.012010650565267029,-0.044029564487671764,-0.02299315205636856,-0.03452392166060852,-0.062453684803652376,0.04577706528067828,0.09040297701580505,-0.08777264389734152,-0.06792444676783518,-0.07718201305295087,0.06035857244113226,0.06336063482633361,0.00984436813676839,0.0032204165194777215,-0.007088854399402304,0.06991209192882622,-0.01845851285582938,0.049450145871971246,-0.011184661673731644,0.053704323227387774,0.048015603299392265,0.023822646159619605,-0.06822135372355512,-0.042621608443809654,-0.07324629741125382,0.014442354034517631,-0.01711353126513477,0.011424688069842082,0.05963962074149907,-0.08814577193703817,-0.08300329828336696,0.09000721154565736,-0.0847849628977507,-0.002732979166861647,0.08602350221046696,-0.06876383690996367,-0.00549910734234408,-0.029825192222121842,-0.06241606122038469,0.0017938906427575967,-0.015790616558182848,0.03778932790611839,-0.08630637884327637,-0.013985905834953264,-0.07526235587353777,0.05646008375963313,-0.05692224089662316,0.04397937434358475,0.002508767132779776,-0.027724017024333143,-0.08590074866939591,-0.01967979078472495,0.01371950058590892,-0.0278703225241147,0.04841675107700119,-0.01754643034615256,0.08891913302466764,-0.00459214771619649,-0.02621839282241416,-0.08565439137370615,-0.060288987143003465,-0.0020392020771554317,-0.07514540656066425,0.054313322364073324,0.06430308442768178,-0.04900606589697724,0.055184944789006374,0.0017068910773064252,0.05186094008660934,0.04147398182996389,-0.07380246530706965,0.0029211069722467346,-0.012770332563400346]},{"id":"chunk-7db5cddc-134","content":"Note Each model's options should be configured individually. For example, base_url, api_key, and custom clients should be set on each model itself, not on the FallbackModel. In this next example, we demonstrate the exception-handling capabilities of FallbackModel. If all models fail, a FallbackExceptionGroup is raised, which contains all the exceptions encountered during the run execution.","metadata":{"url":"https://ai.pydantic.dev","title":"PydanticAI","chunkIndex":134,"totalChunks":208},"embedding":[-0.014766603063539023,-0.011887906767128321,0.0665798897097785,-0.02441470925254917,-0.017781069576476405,-0.08527878274499887,0.05227239270815848,-0.040720890434981546,0.040166512058559485,-0.025883183922390668,0.012327954449305525,-0.006131962997836859,-0.05870553289132376,-0.08172694906566651,0.020087853009214722,0.05865765620753998,0.021308615127404538,-0.04195568232076894,0.0867454278176434,0.014916156687450305,0.07712549657463416,0.03457126807162145,0.08495383913446532,0.060138309250399986,0.05331483297994591,0.0356565446978008,0.04973035310295286,0.04068569143388929,-0.06803536374594829,0.04069089929101042,-0.01261339246948285,-0.00299386972706243,0.00423646299320783,0.06911266633973583,-0.024679088689898317,0.007464639849202322,-0.03315548905907189,-0.017785267283187692,-0.023192237678737022,0.0012385955272831858,0.030541200146557878,0.01810103623490756,0.054968049773865234,-0.03651697168590442,0.08082233773881538,-0.0029831452435131424,0.038420392813337,0.04835773074587759,-0.03053623753535337,-0.0360829180908208,0.003454524135235653,-0.07347717202368888,0.029942677444031084,-0.07467845517738787,-0.006968569521098243,-0.010596732162561755,0.0516687608487846,0.07222616521165469,-0.06536833314612538,0.024750603415061478,0.0004952090079230017,-0.03492119886005554,-0.01577804936306901,-0.007877404458680752,0.07531979035676499,0.07687330061039625,0.04007088325516364,0.015314543051343244,0.005967413318573604,-0.054763391942124,-0.04091668349131483,0.07125288963831353,-0.03150204330253312,-0.033603931807642415,0.08208084000120383,0.08429246083902836,-0.005330484223355981,0.003896376117920571,-0.0216484305121889,0.017711878061111432,-0.07153437246031964,-0.08001622798324103,0.045595678187285216,-0.03166886328377029,0.043118400631003306,-0.04444209914141065,0.05450480487529473,0.01807916372427883,0.07284369703458546,0.07568574374217353,-0.012663170961483687,-0.015445740505825322,-0.008112743310679694,0.027863927549667957,-0.02256209714038571,-0.0683186806823425,0.02387516354604339,-0.02508462610633063,0.03385836994831723,-0.04848090978648806,-0.06600610967448385,0.06922095120878444,-0.07837193796125459,0.010202075710105899,0.05996066695573897,0.025491159782041257,0.060979073728822046,-0.036143241724625866,0.07618589284175499,-0.0743443081790467,-0.07077625382018977,0.078715909304052,-0.01830640276758243,-0.012582621880971128,0.0026649219870749606,0.08624084985903552,-0.014219827423191276,0.03270348709239289,0.00025668616257222776,0.07013566629195542,-0.07981148787825208,-0.030023217744889346,0.03807570712171375,0.015885723870019047,-0.005800833507036121,0.010357188388378515,0.029350320945620022,0.05265019487093794,0.05151199235357931,0.0769324208366438,0.055088349040430314,-0.08208457019717406,-0.04736271937842797,0.04201480567609059,0.08692526063292913,-0.03399823883765239,0.05836300995541563,-0.06567628030681885,-0.03290650656737013,-0.03456351583230931,0.01902382460713165,-0.04481319767477804,-0.02946759230171252,0.058274983092998264,-0.06905519563851456,0.07346743905453455,-0.024312639554287772,0.01883039725502325,0.035368300466545724,-0.028106603564741282,-0.033218376269078434,-0.07908001521379401,0.07231393222142184,-0.07018510920038394,-0.06503767462489467,0.08469690951966588,-0.019335561217528212,-0.019675735463882967,-0.0022170951417050896,0.08411936916678367,-0.009002461091473481,0.07505639391141679,-0.08137466388780558,-0.05167080543303453,-0.054919636210568556,-0.03677614447375786,-0.014256516176868062,0.01163012653530631,-0.004488666407190173,0.07558594778400159,-0.08145763065241783,0.07394244490911094,0.05833449798538837,0.043743629335498795,0.06407361742771227,0.00942057023492549,0.059174030472174004,0.06169470440078023,-0.010604934693497005,0.00076943843882291,0.0038438662279687524,0.032447244115625516,-0.03482161570627711,0.0185157437577812,0.012611580806808246,0.04625994894683554,-0.013539733426176726,-0.033981262932544914,0.03734663468786718,0.07532092099881262,-0.082290150650792,0.054610076055695976,-0.06373977137464885,-0.015525273696090294,0.046639933347036096,0.02791619555331315,0.05640448622544504,-0.08314081230040148,0.0660564817511862,0.041373540368695526,0.0028802604893985923,-0.08415838084391207,-0.06433286421964275,0.06352705350169327,-0.00855094366443765,-0.07114894885635593,0.013734472456637175,0.060241712720076,0.059802857841279616,-0.020337499791513818,0.0004540710822880384,0.014589796661823744,-0.062422458571731676,-0.06223455101038583,0.05132258471225762,0.025935743292017595,0.0663623796163489,0.03911639295329788,-0.08514851779207397,-0.056555563000709685,0.03594396988784116,-0.047196581400945445,0.04253622033391703,-0.07683371621775686,0.010916553110608117,-0.0241936035010817,-0.035661942426449225,0.08169494583790698,0.002025288554479802,0.08068272567128706,-0.08268109799890047,0.02635244155153824,0.07402878297942464,0.06513743921817816,-0.08355517822481896,-0.05218190690184373,-0.05394561222856156,0.06944219517619431,-0.05000903677831211,-0.07215507131106588,0.021270869635263357,0.06217061389691671,-0.016359173981831853,-0.04323171505405504,0.04817065323170074,-0.04038472067827329,-0.018527630843955978,0.02327174431270605,-0.005455816252620533,-0.04900875657106837,-0.05958997028149489,0.051704300679089446,0.08098764700380205,0.015473799810879863,-0.08625585324212422,0.0344071837143918,-0.0007192124987912092,-0.05960581054402687,0.07041001311197292,0.07634109360719128,0.07853516865929311,0.07236864462520128,-0.03774365608819096,0.06607816584370733,0.04792622009561425,0.05507109725754244,0.07275201865360743,-0.08470408227633733,-0.08561091660510292,-0.06063896045921086,-0.042891306126747124,-0.028051209954121394,-0.01518344059962727,0.06498222769004208,-0.05353762308411993,0.06916400623425992,0.03553151810618062,0.03327680806546239,-0.03306522021470262,0.050442469536126126,0.07433660320315018,0.05901873424440193,0.02151892018783328,-0.04092848975592231,-0.04015861353362964,0.019742136047058014,0.044326740452163144,0.012660063985777866,-0.05765793567250386,-0.07050225627550921,-0.04727642711771489,-0.03766910784336239,0.007800516282923412,-0.02322939713484365,0.04872265844990407,-0.08387273112865685,-0.0008518375762766631,0.06699621385255367,0.07884853281656559,0.08071945424090797,0.01165268178120237,0.0791127569188936,-0.03379022174165833,0.045297175231591845,-0.07589792066775664,-0.020991536454911232,0.039449105250962416,0.027834959451095452,0.08618191971643042,0.012915301579548082,0.08046885000387356,-0.014503392865023465,0.07055036762063954,-0.07595120536465116,-0.06408048870383734,0.027863563798420216,-0.04129747268029919,0.005810222673884594,0.08336148816393726,-0.0758166151278277,-0.0837447782009076,-0.029894364862867104,0.06436945339035233,0.019213667197580754,-0.016994880174820308,-0.04085381317873537,0.08418894666468857,-0.06163727616812845,0.03901401143697924,-0.03470808408094069,0.0832323305211536,0.04302435588304923,0.032587765710496944,-0.00903936679096773,0.014728491796992087,0.05370434247193749,0.038841429447020605,0.015279604063272277,-0.00683273870770624,-0.005497776682252142,-0.021317413405896463,-0.04312573999033527,-0.020121260206054245,-0.010696993569933626,-0.020570687915667882,0.0017051955615889605,0.07681608837046679,-0.07307037763220196,-0.045969102072320744,-0.05771146230472155,-0.020527630787107995,0.0006179030938308255,-0.03214297395008061,-0.007589269094206083,0.06628360197648053,-0.03166134783960569,-0.033652198562030215,-0.06936278664433931,0.06694760332037075,0.06652520799122763,-0.07843343587785413,0.08379353154422556,-0.010251666803385226,-0.05746115141421411,0.058167074115222636,0.039852805533014124,0.030234842685798822,0.03257045585628184,0.029382384605209314,-0.050516553729437925,-0.039194486074467405,0.030152076997580445,0.07810117342093953,0.07470532975469596,-0.06446299037414856,0.05558813951597398,-0.029479242972855174,-0.03831254409903511,-0.014829535836798512,-0.05099525851248436,-0.07845877524471033,0.07555025002909978,-0.05037043916889716,-0.06771062245216447]},{"id":"chunk-7db5cddc-135","content":"Python >=3.11Python <3.11 fallback_model_failure.pyfrom pydantic_ai import Agent from pydantic_ai.exceptions import ModelHTTPError from pydantic_ai.models.anthropic import AnthropicModel from pydantic_ai.models.fallback import FallbackModel from pydantic_ai.models.openai import OpenAIModel openai_model = OpenAIModel('gpt-4o', api_key='not-valid') anthropic_model = AnthropicModel('claude-3-5-sonnet-latest', api_key='not-valid') fallback_model = FallbackModel(openai_model, anthropic_model) agent = Agent(fallback_model) try: response = agent.run_sync('What is the capital of France?') except* ModelHTTPError as exc_group: for exc in exc_group.exceptions: print(exc) Since except* is only supported in Python 3.11+, we use the exceptiongroup backport package for earlier Python versions: fallback_model_failure.pyfrom exceptiongroup import catch from pydantic_ai import Agent from pydantic_ai.exceptions import ModelHTTPError from pydantic_ai.models.anthropic import AnthropicModel from pydantic_ai.models.fallback import FallbackModel from pydantic_ai.models.openai import OpenAIModel def model_status_error_handler(exc_group: BaseExceptionGroup) -> None: for exc in exc_group.exceptions: print(exc) openai_model = OpenAIModel('gpt-4o', api_key='not-valid') anthropic_model = AnthropicModel('claude-3-5-sonnet-latest', api_key='not-valid') fallback_model = FallbackModel(openai_model, anthropic_model) agent = Agent(fallback_model) with catch({ModelHTTPError: model_status_error_handler}): response = agent.run_sync('What is the capital of France?') By default, the FallbackModel only moves on to the next model if the current model raises a ModelHTTPError.","metadata":{"url":"https://ai.pydantic.dev","title":"PydanticAI","chunkIndex":135,"totalChunks":208},"embedding":[-0.07370889187135679,-0.06210266979676882,0.008057007673462265,0.07060571348523134,0.018649055427214584,0.010525291059313203,-0.05431617080676329,0.08115008738586289,-0.06255512131125496,-0.05446245712591258,0.010718148784527192,-0.07271612794509506,-0.08502131545113077,0.052315443062754624,-0.014418621863452956,-0.06550050203979524,0.06298716496356523,0.046086291416099386,0.04685888278337825,0.02477937763778331,-0.03604734526268332,-0.07563758197639502,0.012094626216503031,0.02396342534461081,0.06986193108646686,0.0352342115022655,0.020923789166359372,0.0802276981283266,-0.04770526552322082,0.04869797905217618,-0.060287771105037774,-0.03334524334787458,-0.08798984866317011,-0.08304798724653373,-0.018064065152476765,0.06295046271840475,0.042305068776048324,0.06374783689432059,-0.0865262053031435,-0.0555017501702795,-0.02546730356081891,0.08712020554474453,-0.06150518903077083,-0.03555847351077855,0.005873140267124873,-0.058774263642346024,0.008319279537166721,0.08629021593021904,0.0005576413325075136,0.007393368671773925,-0.08687516619486929,-0.05300990470728356,0.024340741003548605,0.015311526527673315,0.03266317300688144,0.024351529209213726,0.036269008470878064,-0.041209715600641454,-0.014276631853614824,0.038435631100780125,-0.028607495531274788,-0.008348423147549838,0.06357728561315767,-0.06145649513602898,0.07119211709806414,-0.07148847224734343,0.01947415190871524,-0.009664865139316085,-0.06437236499639568,-0.08065292218121145,-0.08377122906249049,0.07941521002042261,-0.07363776039507147,-0.06768763853989766,-0.005401735612614671,-0.06766286515492605,-0.0221186165076404,0.07060649143847761,0.029492579153117968,0.05967375479340004,-0.06854113015646845,-0.06301390835874357,-0.07164010036501624,-0.0325964990951238,0.014720237161491984,0.07509452078649287,0.00793039000722737,0.043917721101290406,-0.08781553729493555,0.0035147726600263584,-0.07992921557955524,-0.05263105476034592,0.05238831388517843,0.014604959361258026,-0.0011634258861476815,-0.04117296415678034,0.002251795217597735,0.01260293735271601,0.05673145956756332,-0.023624223085155757,-0.0012985070977085795,0.05846641057285711,0.02800279150469292,0.008972655854809263,0.033271596077988186,0.002371753980886506,-0.031307930514729305,0.04912104718232435,0.0002025024751700729,-0.05991197638107642,0.02182497623924912,0.07805617982828883,0.07176345127408307,-0.03999447267837286,-0.08412036280153613,0.06335032601509273,-0.04338237469177176,0.026106782109873543,-0.013670723074652192,-0.026374985439680074,0.04012826110195349,0.010528214892558601,0.055265094728199314,0.04103765442511799,-0.03998987119446037,-0.052319268596758735,-0.03334717811472559,-0.07904930336106665,-0.014911130597489337,0.04271198523127236,0.08238235573508725,-0.056380620603601654,0.0017818975529422076,-0.058872016324446656,0.08766244329169631,0.004033432397551246,0.002656617784336856,0.04197663378588023,0.030880188121311828,-0.0646853171848204,0.038437181009695856,-0.06880042120569932,0.08596651495307195,-0.030126786716294308,-0.013484944204652361,-0.00438277259864979,-0.07365137581372323,0.015036231378207912,0.07192231525943435,0.08667545344293047,-0.0519866239268718,0.0035556750698959535,-0.07963372728855363,-0.05023129032164824,0.016705523243725987,-0.06021977087875169,-0.04311212254033177,-0.016046549931557925,0.01427366179552094,0.022219249923211004,0.038058784319303283,-0.019541411813427285,-0.07532878510697431,-0.08035254575965342,-0.08139082003083646,0.0812256968833099,0.052089308000462214,0.008823157668154896,-0.03996800262760888,-0.07314349492376321,0.027952245771483968,-0.02631749483024152,0.05389862165587308,-0.011015778144524702,-0.007477365111188021,0.026873176414507222,-0.07700841666167957,-0.07566728681886427,-0.029601923579452277,0.07558908643762156,0.03405202168067913,-0.07769692962940787,0.01418278604665519,0.04898261580766087,-0.05389337293234564,-0.05795956247316738,-0.053438927080262814,0.014387338655163262,0.006814139460588655,-0.05460809791867232,0.025670724460032518,0.048636256247805584,0.0878318121208442,0.07606361890340438,0.010257043977859185,-0.020235179750352716,0.000957714786228324,-0.051713542280063175,0.001842978871890905,-0.06365045357002565,-0.04533500143036311,-0.005210873540563577,0.028650652526274623,-0.053783959133302944,-0.011181584917359997,-0.023053503747677475,-0.0035776677012764246,-0.04657190516713805,-0.03593504627279015,-0.08089582932923763,0.012921064534154522,-0.03501806333008486,-0.05932238409669782,0.05946824060822428,-0.06533134949160765,-0.05997611054869142,0.03545847108659105,-0.08690403628128868,-0.07683873091199654,-0.05111403251635645,0.03203283156528487,-0.05374450428981228,-0.08730682853265773,-0.01849692938319849,-0.024626157570037967,0.019416278590117905,-0.04647966815907362,-0.05884024598257819,0.06950138636754387,0.039186438929526134,-0.004081613286298202,-0.05751443517108922,0.06658205856889148,0.08276922485272392,-0.03724632953804736,-0.07513062757913178,0.08166078433577907,-0.020862013054541714,-0.012958122663793986,-0.021522904583624835,0.05711421797898192,-0.07356688857599229,-0.024865996751751482,0.07469940930424428,0.0746924473840664,-0.0040514748112934025,-0.04687409977330843,0.0025612607024868925,-0.018787734564713273,0.020286864591127322,0.03436339981752955,0.08083655373334592,-0.003973601495990553,0.045608755784582795,-0.06916156345417714,-0.08836427194900091,0.08817724497001586,-0.0006795150838815952,0.040085787711977044,-0.011652912714355956,-0.07882421449837583,-0.00857911613300896,0.05921282336114863,0.07286648848181251,-0.023107154310242246,-0.00010021501144578546,0.08198445039477982,0.07245212790120241,0.009591720453913915,-0.010926493332752665,0.030531720895445372,-0.038915168806173024,0.04478828327620719,0.03982230828945187,0.06055772584073555,-0.059197064843236724,-0.004336762708502723,0.05151152405594179,0.08238423368062028,-0.0100162652235128,0.05424327008858464,-0.018401608565571787,0.06393366318968426,0.0002476403159657286,0.08088545622863363,0.052077946450755655,-0.06535461017785159,0.007855935758677355,-0.02750160327911851,-0.009295773531638766,-0.04130797706230341,0.004458320375105545,0.010693882215464197,-0.0616677848170642,0.04830135802100639,-0.046428989064272556,0.010877712870582595,-0.0799438515271591,-0.023940533471688407,0.028091242399922108,0.05777307998728443,-0.0688415052158501,-0.010748105260466873,-0.06708797764947469,0.05657459054241558,0.04647507325718904,0.05464718750441001,0.05389788444693084,-0.06356489051610313,0.07814814653184135,-0.06231385192012479,-0.008785388704131864,-0.03421854380911291,0.01806319494003494,0.07267060793807521,-0.07320112338171691,0.039171806218439506,-0.06171046284969213,-0.032840008457530594,0.018992386733407023,-0.02219221727323391,0.026258804088508014,0.021229680692112774,0.05928800370123051,0.00658638670492536,-0.08480668121347334,0.07238019434934788,0.04545794777256042,0.06422030521740675,-0.03789176091470893,0.05563024561417018,-0.0799882552951898,0.011632010180747693,-0.017835603537835205,0.03918970457152397,-0.05785673164765092,0.07287161045789421,-0.08688356863911424,0.04805066964005596,-0.06875013997040547,0.004842036557316732,0.06382453457907575,-0.0351024257547217,-0.0372228513744913,0.035809791577007144,0.03961909127975642,-0.04191099592310727,-0.058068664047569135,0.07920478920275377,0.0779639107611834,-0.082435059249229,0.0780438741966481,-0.08766348971395362,-0.003251086285702322,0.0013487458012544468,-0.08821949542503943,0.027185398812304747,-0.06087595884364592,0.08425072968934878,0.010224636336109727,0.042834884655073825,0.08310373100321317,0.07361328162046869,0.0097217253323642,0.01962265118265626,0.0044671922200443135,-0.053050291002913565,-0.051799526223627615,-0.06012998496292244,-0.034220540889778,0.02075534035816171,-0.06269983027647591,-0.0010306345463803048,0.0015411331277705089,-0.017533754105808597,-0.004523016445027725,0.024551438483390996,-0.02672818676315013,0.011309625135458351,-0.01711214952100751,-0.013505604754733632,-0.05019353807386871,0.043430243882013574,0.019316510786504426]},{"id":"chunk-7db5cddc-136","content":"You can customize this behavior by passing a custom fallback_on argument to the FallbackModel constructor. Version Notice This documentation is ahead of the last release by 2 commits. You may see documentation for features not yet supported in the latest release v0.0.27 2025-02-26. Dependencies PydanticAI uses a dependency injection system to provide data and services to your agent's system prompts, tools and result validators. Matching PydanticAI's design philosophy, our dependency system tries to use existing best practice in Python development rather than inventing esoteric \"magic\", this should make dependencies type-safe, understandable easier to test and ultimately easier to deploy in production. Defining Dependencies Dependencies can be any python type. While in simple cases you might be able to pass a single object as a dependency (e.g. an HTTP connection), dataclasses are generally a convenient container when your dependencies included multiple objects.","metadata":{"url":"https://ai.pydantic.dev","title":"PydanticAI","chunkIndex":136,"totalChunks":208},"embedding":[-0.023652951818203094,0.05129880702589056,0.01918360070952627,0.01111810330815109,-0.06525160830752084,0.011980376062023613,-0.008403969728135,0.06755036147883699,-0.0742162836437053,0.04844664451466275,0.048748557401273325,0.026010589917599705,0.02887326917027184,-0.08140062381754752,0.044182185942049326,0.02212333219543897,-0.02396251946678341,0.0483647951311389,-0.013481113928965926,0.07280824985901997,0.07166865812964525,0.07636173589894198,-0.057064130894159855,-0.023190679266063916,0.02632587832953426,0.058912017934582096,0.017260636357837884,0.003580483764519357,0.01841040873163181,-0.05747612246494186,0.07284900780043987,0.00064047548888113,0.02542711395971204,0.021677742712804277,0.045955963183661935,0.06022175552615811,0.019806181889137693,-0.009058062210399478,0.03428306563275518,-0.062404303459965775,0.016288637923536766,0.05655984810066333,-0.05775689143262611,0.022662790979166313,0.029329358019455264,-0.06897034313690482,-0.03259935512805735,-0.03686441367140118,0.07662017406683724,-0.0616302980095063,0.0724777908171538,0.0205935865733396,-0.02302107673298892,0.015073734803252187,0.0859118647304066,0.051926806646565134,0.0030942650748499146,-0.026471052787088226,-0.015764365035986345,0.04256091498045937,-0.07668584237829243,-0.00479251728577958,-0.060424509071940684,0.04334701760295313,-0.03809364515380805,-0.0828567681135762,-0.0703935812451632,0.04795630332716281,-0.00025189202953190343,-0.07823717442952009,-0.039232587491473236,-0.016439368869068664,-0.08507680038503954,0.044309853064699686,-0.07481652650166411,0.08200991512541345,-0.02735128330448279,-0.06910874213798483,0.002877172213426013,-0.018619372389465365,-0.05555287372551838,0.05527606063527345,-0.028358460738826547,-0.025984247722284675,-0.03218771152499682,-0.014726453124825555,0.03855690714097105,-0.0741788396622775,0.0008533360192283718,0.08514139680978217,0.07212749076920699,-0.06927324062656705,0.050063607759489,0.05257736180103671,0.01851941696964962,0.039879855056853375,0.04189856563301338,0.06549161065075695,-0.02155033942759056,0.03046748024842547,-0.06445659862215691,0.07381651955766783,0.015075008987075793,0.07262286337484979,-0.07459181572666658,-0.0227120886751958,0.08296482290675342,0.03474555220572147,0.055375184842407894,-0.08644386142785383,0.002051221853276946,0.027412380858756042,-0.004613519478461064,-0.05656727293459479,0.06805246510881023,-0.04704630273694678,-0.050255131041208656,0.08469433640892035,-0.056118974753421445,0.07665218713475808,0.05955970442338461,0.0634071601673163,0.003915489205039979,0.040437866576529986,-0.04038920020417565,-0.07004581963459099,0.027678154589940853,-0.028312967664536885,0.08668706944824484,0.07608132822508458,-0.0643928227644445,0.029655070653015377,0.06059037969785449,-0.030049647522830063,-0.02404409664336654,-0.0782186050363851,0.042688189372245125,0.00009810705645179729,0.0010768060502239713,-0.06258923790426885,-0.06126696000972331,0.02728369201926219,-0.08544436601832783,-0.03361054108187754,-0.00018381284792179587,0.03127065256793659,-0.04755750259720207,-0.06255991077447083,-0.00801319790786403,0.0015971719609836805,0.05792531954780458,0.037729837999407344,-0.012482685581346882,0.06632806952242687,-0.00935901436909306,-0.07615401917083187,0.013912968472145315,-0.06234503152599447,-0.026787580566822865,0.0880260361670296,-0.04841859964267079,0.07333256960510517,-0.0459797475051713,-0.021410596332796447,-0.0803516345301736,0.05789663979683616,0.0538765957853885,0.06894193493784169,0.07116024968543884,-0.031912066642416664,0.01438298986239159,-0.07631932501873408,0.018462153613180664,-0.018361596446930077,-0.002101160101843968,-0.02329931709119184,0.021479432291420627,-0.06652044061447132,0.03495022534833125,-0.055706319818395036,0.06371705764908779,-0.03877122004926842,0.013058181352012721,0.060199447925353866,0.020810574508388635,0.08482186629673726,0.0824098204992711,0.04261975842173955,0.012706126584443565,0.01433770935150283,-0.031129724289699505,-0.0027195541337030576,-0.045571534885665635,0.07500135423146044,0.04049805490977932,0.042966344740075074,-0.07114526027998225,0.01971224726878507,0.08247750586889037,-0.07583575604248452,0.05582472016366686,0.07470855589815176,0.02370509532604691,0.03024222699425321,-0.07241465500450157,0.019840127267640815,-0.04116076166919104,-0.039970459359624726,0.07804050162740132,0.08815929866404223,-0.020605969583368623,0.07677533305833317,-0.07183237609568496,-0.012347424827646374,-0.07796357008513535,0.0015183636845277242,-0.056169495800068185,0.06795589068876746,0.054855759534506075,-0.05570685333602906,0.05302757271136773,-0.03280977493482833,0.0703763193117043,0.0063597114318291155,-0.05601589689512275,-0.062230156860702136,0.047250777593527665,0.04200237643489336,-0.07167297146279976,0.06596674107860927,-0.04312233847238761,0.08528073068744883,-0.030820362036372142,0.013131563354052639,0.058708931673071334,0.07760081592076833,0.0007931881262390716,0.025914931624404457,0.028229603085184577,0.041064952573725444,0.05001834284995048,-0.04689046433276242,-0.0702313988394065,0.03686140848785842,-0.056880559021426885,-0.010201538281112758,0.032081146430195585,-0.043787556671508764,0.06335358016431453,-0.06621009676647487,-0.038589918294304186,0.014719428512604413,-0.010066578945399468,-0.028497746636448086,-0.036098976309216664,0.07382703913237877,0.07118361936243647,-0.015214007784212806,-0.0807877878639729,0.02020106994571636,0.04365474360447975,-0.0121978241794049,-0.06420829523888225,-0.06873094197316507,-0.031985073299326094,0.06263333099622542,0.08199954811135737,-0.0621495057505648,0.04922895001453385,-0.06865072147953345,-0.08200136173776305,0.0515935830557562,0.014942585514088311,-0.02296090507963124,0.08275155115947495,-0.0796624037157331,0.04237763111985368,0.01776115951500233,0.03812923574865305,0.004019315338850243,-0.03747835634839051,0.039272038688210296,0.018497270076432114,0.02258189473808884,-0.013223086138572069,0.04609471352481988,0.07642104148114287,-0.08630831477059524,0.03259314443635663,0.03132941854828959,-0.010715228171663998,0.04271960136763072,0.00962717815230583,0.0030335735979617126,-0.035362065306687514,-0.0420532880831569,0.002168111773031702,0.06036381923377128,0.012655508285090898,0.06998941015017779,-0.029333359077745584,-0.044534550956357305,-0.003868443853881284,-0.026815465967342512,-0.03600703106964497,-0.0710287966229133,0.004881343760949984,-0.06370871273869484,-0.06420469343859807,0.033127817369564765,0.06976038542606681,-0.0746172359743089,0.03182286644140023,-0.05657792294682411,-0.025497234765043075,0.07946981564160392,-0.07881301453435174,0.0028178965123801286,-0.06514579710620327,0.0868949521660486,0.04864374281285864,0.018333613953117302,0.0800972552310209,-0.041037016111723834,0.027729953786203135,-0.05677345238650297,0.008509915702193727,-0.021977282924441573,0.08831076801620015,-0.05655730626810472,-0.003531344544631883,-0.08038659775484987,-0.03243113500349977,0.012637261712423183,0.06465655397322018,-0.06825354602549315,-0.04776413156261922,0.05872522200538599,-0.02873990793688348,-0.038484759439506945,-0.0733633888134274,-0.005956411214215615,-0.04726152878366801,0.07515508180416332,-0.011449807666748541,0.07383331203364851,-0.035333771702596266,0.032381315839868856,0.06436914475854748,0.0793061194105644,-0.08711335525840633,-0.04215060218087073,-0.05267436664271974,0.04873659094513144,0.03377443440234389,-0.02265700169071925,0.07903717856924619,-0.024730217210356394,0.030876674740991046,-0.06214648737747654,0.0010561132844478496,-0.02843510709285205,0.05792913588442138,0.05395084687471464,-0.017500603294595147,0.004957314225202027,0.0010781814194191297,-0.05330688956412563,0.02790876960193111,-0.0775521099040776,-0.004691171706597627,0.0761697164457205,-0.009381617798923284,0.003399318155558545,0.055638600816115956,0.06283962274205293,-0.07383209205194129,-0.07471060517017991,0.07096288503656487,-0.021252739411592555,0.07712229662049319,-0.06803270473251141,-0.01615486653784108,0.018773723628626126]},{"id":"chunk-7db5cddc-137","content":"Here's an example of defining an agent that requires dependencies. (Note: dependencies aren't actually used in this example, see Accessing Dependencies below) unused_dependencies.pyfrom dataclasses import dataclass import httpx from pydantic_ai import Agent @dataclass class MyDeps: # (1)! api_key: str http_client: httpx.AsyncClient agent = Agent( 'openai:gpt-4o', deps_type=MyDeps, # (2)! ) async def main(): async with httpx.AsyncClient() as client: deps = MyDeps('foobar', client) result = await agent.run( 'Tell me a joke.', deps=deps, # (3)! ) print(result.data) #> Did you hear about the toothpaste scandal? They called it Colgate. Define a dataclass to hold dependencies. Pass the dataclass type to the deps_type argument of the Agent constructor. Note: we're passing the type here, NOT an instance, this parameter is not actually used at runtime, it's here so we can get full type checking of the agent. When running the agent, pass an instance of the dataclass to the deps parameter.","metadata":{"url":"https://ai.pydantic.dev","title":"PydanticAI","chunkIndex":137,"totalChunks":208},"embedding":[-0.08071590313368635,-0.05458797732476363,0.014994559310192966,-0.01928039603353734,0.011234040864074729,0.043461889166562157,-0.08010817759678016,0.029229962577971055,-0.060189087200797034,0.01538705820394477,-0.06559845360685584,-0.08485918801042247,-0.07644182281922285,-0.07850805902650439,-0.008040480030408912,0.061727811004082284,0.05501546445612972,-0.05398808646104686,-0.07339561986074766,-0.06361851572205339,-0.05257294660125522,0.08640874749721955,0.004049646922540926,0.0743829838805222,-0.04755730619585513,-0.047655937168283126,-0.008938060921495466,-0.024964373908528847,-0.009353068510315412,0.06591957953110418,-0.05659070294311818,-0.024636933585518724,0.06124620341886456,0.041143156079999785,-0.06518645048010088,0.023640673645053265,-0.03138585376692568,-0.06407559470927324,-0.01591107015630918,0.03881747347699885,-0.0015852049264719768,-0.01861954134440667,-0.057396811343385236,-0.06942763478839842,-0.03512944829617917,-0.048790242782809544,0.04695988848696067,0.033371495929933874,-0.03379633926329832,0.058158648278118855,0.019327648102318868,0.05291237635977352,-0.07160178307056039,-0.07907695576827642,0.08017811638647707,0.08787387813685302,-0.013864162398977902,0.07319499196039628,-0.02889371372836806,-0.08328755856361837,-0.07109679318447007,-0.0873151475038627,0.06983821278122536,-0.018527697599780714,0.045086084778248575,0.03969496260320302,-0.0010731328147498263,-0.022587633047849456,-0.014386757442499013,0.06125118333533185,-0.058583534987095384,0.03387067729508466,0.051176814726982905,-0.034218434787105345,-0.0836406003403292,-0.0568946891660604,-0.007220428875685002,0.050335417511254706,-0.036822617810540165,-0.035932435071898666,0.012250885929399628,0.027598752834075528,0.029777127091393192,0.024409987396622555,0.045637365489629676,-0.00012017647394060754,-0.08684396916822626,0.0015749908437682494,-0.0719719087982274,-0.035625257320081816,-0.04897513047063225,-0.05955356906407345,-0.06573062653022284,-0.07647600757091005,-0.02736291755800867,0.053852394110466724,-0.003970501390550736,0.08206226879382506,0.07154980112958154,0.07061238206072815,0.04031625890447925,0.040082605227964724,0.0821669062218464,0.056552352415382895,-0.03547593322907569,-0.026606546146243415,0.005508742451380171,0.07396950033108589,0.007462149964082906,-0.053167043424152835,0.07921907306107182,0.047227715706706384,-0.03384706644569934,-0.039331850862919134,0.055423808862931245,0.07079709255932498,0.08599382144159172,0.06388812408469523,-0.018199177007304324,0.002501961400185229,0.0783093479007716,0.07760666825942361,0.004526600852798483,-0.0853835065238434,-0.07943643746005498,0.005426132239456458,0.08776582862319272,-0.08114889768431748,-0.04627710768901458,-0.026652584982795043,0.01669125039072318,-0.06191826871578389,-0.021397715853496334,-0.01179189660327459,-0.08752191013444184,0.060481501153813,-0.08654196329039608,-0.017977465206060278,-0.052259282073182624,0.03265568374684038,-0.024561347121534034,-0.019947447877171596,0.08507400260812406,0.03137786870477159,0.07693793685076496,-0.004199781864795702,-0.0195744331677265,-0.036561473486573,-0.010446079143878958,-0.05344896795284072,0.0754525873929132,0.033378180513823436,0.014977862682232593,-0.006669296185152896,0.07501199186515292,-0.07112013232663981,0.0603212008016663,-0.00474759776988276,-0.01642537832951792,-0.08083564819989732,-0.0728740074035749,0.007980515209557943,-0.044608976703023294,-0.03078763131837116,-0.03441926584230091,-0.045012686002542796,0.06799277241350854,0.053124666925506374,0.038206830296079235,0.035666827505666895,-0.02110694874750237,0.07958011961945234,0.08396252601468569,0.08220237096232869,0.07271049065101397,0.0819289427221964,-0.06499037907909645,0.026172882917236507,-0.059138233075589665,0.048758081158073924,0.07741123287882529,0.048707944890229074,-0.06312098088177821,-0.009899887045712466,0.051009255600823984,-0.025023716633771263,-0.054431027944368444,-0.03769487904192067,0.08689995730600367,-0.06162144199130963,0.024422123139428733,-0.0015578599367587198,0.0072901751594942376,0.002000022022949064,-0.08161451765635533,0.03092227406710162,0.07242348015478862,0.013140647248368288,-0.007963957954834492,-0.029607830456466703,0.08277492304063779,-0.017566131034742964,0.07966186577255563,-0.06026855483528857,-0.06615277681539838,-0.027021667920050004,0.0042730124329246975,0.010546963047222902,0.005645128126513108,0.04196024007449244,-0.01313802781366638,0.02990979568086173,0.006580763271139992,-0.06694716133069975,0.05150969734844514,-0.014744124416631733,-0.0812844797654684,-0.020639192918740654,0.07634849613453737,0.07180919985864204,-0.03262677679023233,0.08189295874913555,0.04575223078741074,0.0877839929081244,0.07225204833776716,-0.061423760887640906,-0.06760177264299587,-0.07286449458384438,0.05563797627046024,0.07526344086970438,0.005030986473083544,0.031211570513608056,0.06116484831246555,0.04180120531519419,0.04546560189228584,-0.004756199445401356,0.02086725895722321,-0.04212005101281543,0.05195658093530339,0.062195550613332984,0.008955401919848331,0.016007066318399907,0.011664537366441187,-0.007722723451687125,0.023921838628101613,-0.08444902107538586,-0.005487666938803725,-0.0340368457021821,-0.062025991100719775,-0.042154118728960126,-0.056055826418884624,-0.05766398209818003,0.022375976299936717,-0.00502598032638628,-0.05407763928842202,0.022470340405661336,-0.005682629480769335,0.03970821918083994,-0.04900374843611167,-0.006410411648364014,-0.004975607887429676,0.020718723193118266,0.022591164234285022,0.07375865952801682,0.07017419879864581,-0.016631566319089377,0.06097345011491153,0.00837403336480519,0.07128663539411229,-0.006080910666349814,-0.0732472406819093,0.02066681617299716,-0.0019177231413072438,-0.062311049632689935,-0.08785009704165554,0.054249375234494614,-0.009238587724703016,-0.04712873435595748,0.05076587095455987,-0.03673552717389891,0.0332556424373198,-0.016236775097757075,-0.060866707292624424,-0.05283700088456565,0.005445040811879805,0.011679550274414448,-0.036438483899685764,-0.00932779474064194,0.04992355158528695,-0.03614724745678232,0.08225367897242686,0.007161046169438061,-0.05300304349581721,-0.03862401997374631,-0.058607114258141094,-0.06793383013676874,0.015602773019500188,-0.0020752869891563297,-0.04588905721181908,0.0323510825023205,-0.005851054851208146,-0.005332275981363336,0.026031521598732232,-0.06492485171197976,-0.029006318231943638,0.034666335440027424,0.08206058956749401,0.07802622326773374,0.062253371103451347,0.08610834214425898,-0.0038390326247881063,-0.0072182012225488505,0.07187109658212691,0.02962589151010831,-0.0874924283334662,-0.07958011190088886,0.06295766737608899,-0.0779290911092134,0.018576862372685386,0.023258365442090725,0.042571010398837025,0.02169619163027646,0.04764790684064478,0.08766252669802242,0.04726090580464543,0.0733066758741161,-0.07817747947300717,0.03329605230613671,0.06712680943584018,0.00990994282074061,0.02881392593864217,-0.03844392883562835,-0.02465187212787087,-0.05484957016043514,-0.00595416413891436,0.07267708510724696,-0.031705036609525915,-0.01780966543127457,-0.012249139087899354,-0.02846740020602567,-0.014672359110959137,0.05901943291984778,0.020294239788236256,0.060926113021786334,-0.001306185085047853,-0.03563593392137282,-0.07767424084793781,-0.008095484152942891,0.03205470556300804,0.02522066039599995,0.0736662624078367,0.07486006616148429,-0.06162009014516502,0.04264510370840356,0.036758879232420126,0.04734723800525359,0.07119578623129112,0.036320580713514954,0.058123964088419584,-0.020574642111136993,0.08338451901206431,0.036567160893980453,-0.02734352118752958,-0.07001487184809825,0.03197993340127516,0.07120392921040339,0.04354949919366769,0.02619690697076243,0.0655228600614061,0.04425352999274224,-0.00961062324438576,-0.034910440974444595,0.02359647979473642,0.0204492860573862,0.03679606990626284,0.07653482175776999,-0.033692988881216246,0.02895336979245111,0.08434794258459298,-0.003872770965716976,0.009132905158198165,0.018739972034852604,0.07407939627160681,0.05262507706818543]},{"id":"chunk-7db5cddc-138","content":"(This example is complete, it can be run \"as is\" — you'll need to add asyncio.run(main()) to run main) Accessing Dependencies Dependencies are accessed through the RunContext type, this should be the first parameter of system prompt functions etc. system_prompt_dependencies.pyfrom dataclasses import dataclass import httpx from pydantic_ai import Agent, RunContext @dataclass class MyDeps: api_key: str http_client: httpx.AsyncClient agent = Agent( 'openai:gpt-4o', deps_type=MyDeps, ) @agent.system_prompt # (1)! async def get_system_prompt(ctx: RunContext[MyDeps]) -> str: # (2)! response = await ctx.deps.http_client.get( # (3)! 'https://example.com', headers={'Authorization': f'Bearer {ctx.deps.api_key}'}, # (4)! ) response.raise_for_status() return f'Prompt: {response.text}' async def main(): async with httpx.AsyncClient() as client: deps = MyDeps('foobar', client) result = await agent.run('Tell me a joke.', deps=deps) print(result.data) #> Did you hear about the toothpaste scandal?","metadata":{"url":"https://ai.pydantic.dev","title":"PydanticAI","chunkIndex":138,"totalChunks":208},"embedding":[-0.051958521385823804,0.022501439054939502,0.04357805774049463,0.03042661126119024,0.04179250828624851,0.028242117122078834,-0.05825985793309454,0.07399390135195145,-0.07882264373613923,0.020886283843155815,0.02447077402897628,0.028249699925611615,0.0491941244633873,-0.008388057612915684,-0.030662160773455432,0.052377772584095504,0.012628035067120232,0.010063077962261299,0.013979989157790787,-0.0012669045727232262,0.06938289480938703,-0.04652687016639274,0.03344838417788316,0.07341199638841135,0.04701930283463302,0.02460993212634505,-0.046848558306743567,-0.07181966481073083,-0.07203879347225331,-0.021669957650643487,-0.08511332651567736,0.08394979546410555,-0.07241246020627196,-0.07421588797176254,-0.07196003031987998,-0.01415076909428943,0.006204751898288246,0.058521894318382096,-0.014678841013755661,-0.021192479442169045,-0.06557184163449777,-0.08451380488435575,-0.08076023267143348,-0.06383617573656,-0.07959028684946429,0.007213296669444423,-0.07839220555397065,-0.025260216800130315,0.03681550182103884,0.04470559570747882,-0.025889900660634776,0.004244945451425962,-0.029695778048574567,0.03442103769351873,0.06634389223690675,0.02017288940146495,0.05530049268045577,-0.07283129857093813,-0.04603599243643309,0.052190177673458266,-0.07189932894523968,0.07806017305062327,0.07365622386367976,-0.08938491570962845,0.06586508791808059,0.042365574693991125,0.009544625265304679,-0.08155776054308372,0.051178309950465004,-0.0290448015325606,-0.012945910249493578,0.05231560002618177,-0.010672123053881983,-0.02049689426423499,0.06104266552100672,-0.013108420342724015,-0.007431981932785769,-0.04871058191353265,0.0008400825606183819,0.0888613024352759,-0.030284931982453644,-0.021268604788295464,0.06455672257257108,-0.0002951338261349359,-0.03853122396282246,-0.02085298512122964,-0.023461067017488645,-0.07015504491897127,-0.005603809382537395,-0.033197670367469505,0.033994359163315925,-0.04267736915610969,-0.023506560933526353,-0.03690672447550081,-0.00025197565242586343,0.06920119510301519,-0.009835269311714068,0.033917299998785906,0.07840923679482643,-0.020710537880665368,0.08503303444657527,-0.03503329878081352,0.040081049244901794,0.030163466536429862,0.037701823212999995,-0.02935442880684831,-0.039515909449845364,0.05122824457383979,-0.04768606831831002,-0.0348142410526778,0.06850783930105726,-0.02481289563402791,0.0050539946591369464,0.05827643589632761,0.07128727042013715,0.08986229942713936,0.05908808591532154,0.032430759129610846,0.05853522145573811,0.08445936221070222,0.08267215397689585,0.0055136122825304975,0.05028091950609134,-0.08755318292938621,0.017757945170075347,-0.07877449219517406,-0.05431680436579377,0.009705530697587287,-0.021352665800026482,-0.0008565431468915229,-0.032753151125627336,-0.09013365727515167,-0.01744424728716049,0.07277167266290581,0.012629475626196105,-0.017153733532629476,0.05242076619352963,-0.028862804217827352,0.015288887628560935,0.07749434474184705,-0.026473415405376143,0.021366666321306127,0.07005123293236733,-0.08625132430220694,-0.04374800566271185,-0.08532968492215719,0.03722439879956734,-0.014548931335951901,-0.013703117664394646,0.06042094990807599,0.039840997107016614,0.05040711836492178,0.08198763190946903,0.08143929445360927,0.034732405772934696,0.07213833763578767,-0.08644594155670489,-0.0812991839319889,0.014249044200409417,0.034720557365916234,-0.040870692348219786,-0.03462164758068733,-0.08546569720218541,0.011451320027359144,0.0069220485852042254,0.08036015445151966,0.07702976525446015,0.010107752620453296,-0.02236700569148688,0.06832338586874362,-0.01621880504051118,-0.000638724426106153,-0.01620368296810313,-0.017418468000443544,0.08277127460240805,0.06132339334653229,0.06042235426522081,-0.04804888103871212,0.03424494608031296,0.056139040105085004,-0.08847823728969606,0.0748660469749747,0.017200129305203003,0.019278403378562157,-0.08671727972214437,-0.0010647978270465028,0.05071760442283028,0.013155174065825101,0.03132406614326403,-0.05101936173666255,-0.06342427264718259,-0.08261578249210046,-0.03645703935803098,-0.00631963145611658,-0.049315602528087775,0.082544242830912,0.08193614614652787,0.024552945044996055,-0.0856829811420424,0.037775085806105606,-0.037008816380358564,-0.08955515445257205,-0.012552243494534706,0.0624947967715097,0.056190366487734185,-0.0302282537110041,-0.0007935708747899881,-0.0528241406734177,-0.06259910651435484,-0.013721617377928333,0.0819317104794701,0.027623613256048365,0.039676571338134056,0.05748190077164223,-0.010859119725767268,-0.040712863785899625,-0.025077326769628393,-0.06330749552164439,-0.03020351225112238,0.02445962500522343,0.04026512990865563,-0.04256954221965089,-0.08739311298925329,0.0006235708680216055,-0.07302241823242925,-0.08295817396523517,0.001782766127453581,0.06623278016291487,-0.01598500837616292,-0.031037235794280603,0.029916412830659687,-0.0776793553749258,-0.053807559064451296,0.05895389797390798,-0.0890342938623613,0.007033615622251088,-0.02235946750288672,-0.038662493915957975,0.05804278416090841,-0.041214880966990886,-0.05762700331190867,-0.027194103280203014,0.07662423175559929,0.06368366000548893,-0.023602822291275527,0.028447170033924888,-0.01917917854424956,-0.014188760322891066,-0.009069885213979948,0.055509854204756265,-0.043656262623139076,0.07076795502554403,0.04613303000635925,0.07851183893498534,0.06600938695650861,-0.026021171430912052,0.031013204974768522,0.07066419314829854,-0.04648966995379924,0.061725818640599714,-0.04979155939818956,0.05039208105712076,0.0012103993978560218,-0.015965653951672022,-0.08422530585132246,0.07919388527045729,0.006324471202456305,0.002999551704621196,-0.0727070908416508,0.0480881810222582,-0.03482744932971845,0.0268810145656104,-0.002688009598037383,-0.06603773305597868,0.017213077849149876,0.012191520606300327,0.06286874421399133,0.054004256172515294,-0.0482461685473412,0.07252522177626149,0.03689232008556148,-0.02732309191795979,0.0005234466122764684,0.03483777524056099,0.016678337492006576,-0.07691503599135108,-0.016651687628472935,-0.02169142790572556,-0.04179409933708404,0.0859316160598799,-0.01570066912153519,-0.019434449055513097,-0.051143563279766935,0.05096154026585527,-0.025707996281100477,0.016505544478944558,-0.039597428703708894,-0.01382945001993062,0.030462647085833742,0.039798482447343714,-0.03976275861282257,-0.073467730784378,0.050098127493959976,-0.065695202417749,0.08957277133992377,-0.03196771582546237,0.005171305032544226,-0.05692416928035102,0.04362657417566945,-0.05587685674066575,-0.05207884665497311,0.06855777248285429,-0.07746136899589419,-0.07108739862375286,0.08490263788257155,0.07283970580981827,-0.053544440397075815,0.07818035083786379,0.022227379663427194,-0.0726451151693557,0.016941739681976545,-0.07497045120870081,0.050392588004699895,-0.06783673996707705,-0.031860764078456276,0.03691253260516704,-0.03875788210783001,-0.05995509829329618,-0.06796672597031331,0.0540084767114216,0.004127799966194519,-0.026804778791820538,-0.08730958018581383,0.07753173631398014,-0.012188790270664603,0.04124024714111655,-0.06592081070593017,-0.033914581665188064,0.059702695215046675,-0.03682092463218294,0.03368659751918559,0.0647251053411211,-0.023331812118462303,0.052661106008907214,0.01741015087784209,-0.011745791453468248,0.08889161155281068,-0.06903059593607401,0.028426624453383096,0.06032929834610688,-0.008649339227142307,0.08600328126878534,0.0541144970013714,0.08693084054247269,-0.0852337766916773,0.02117846195023312,-0.0772127778470196,-0.07191932331796719,-0.006340974754516925,0.012575807176894473,0.006422898793176839,0.041350718533739526,0.05463044427763239,0.03852769801273854,-0.011492078091178075,0.025975593753881202,0.016868671993775345,-0.05088537147601623,-0.03855788362784638,-0.018376592821019902,-0.05842333463125148,0.029877856298899375,0.04191454632080663,-0.00031862001608395837,-0.03594818121328421,0.05830239828269863,0.025523126326773327,-0.0022689641667438328,-0.018715627493332828,-0.019093574372515423,-0.04912963005954995,-0.007573268819960061,0.037530885371390925,0.08940800740629222]},{"id":"chunk-7db5cddc-139","content":"They called it Colgate. RunContext may optionally be passed to a system_prompt function as the only argument. RunContext is parameterized with the type of the dependencies, if this type is incorrect, static type checkers will raise an error. Access dependencies through the .deps attribute. Access dependencies through the .deps attribute. (This example is complete, it can be run \"as is\" — you'll need to add asyncio.run(main()) to run main) Asynchronous vs. Synchronous dependencies System prompt functions, function tools and result validators are all run in the async context of an agent run. If these functions are not coroutines (e.g. async def) they are called with run_in_executor in a thread pool, it's therefore marginally preferable to use async methods where dependencies perform IO, although synchronous dependencies should work fine too. run vs. run_sync and Asynchronous vs.","metadata":{"url":"https://ai.pydantic.dev","title":"PydanticAI","chunkIndex":139,"totalChunks":208},"embedding":[0.08093356416332159,0.08352579371238972,0.031218188439618964,0.0012224962256103865,-0.010908438711689242,0.07174269122379848,-0.03685665089560909,-0.00814670444703271,0.08823287471413056,0.06048055947826723,0.07262866562499581,0.04241994229195572,0.05805714885693012,0.04136702532070347,0.07475101951533009,-0.04991826434343224,-0.054321099945461304,-0.026237964710691973,-0.07914723292228831,-0.04636283161677576,-0.02279865081804735,-0.07611365014468938,-0.03680719850491548,-0.05718503706167974,0.0044266782526047,0.04786028778559995,-0.07836017761214359,0.010887060330962848,-0.08657232289092416,0.08332401995240271,-0.04828599647613568,0.07403024236566069,-0.08558646552289086,-0.07526976184049632,0.08142136008579079,0.07334500188697858,-0.0070105145853710474,0.025060175550461364,-0.006076310881371114,0.06098897956387364,-0.0038263417464232,-0.06319886140841918,-0.06752699505967819,0.047115246430902806,0.03189027757060014,-0.034343853925313625,0.02894802366696921,0.042827926681903876,0.07097479893639812,0.03401241666509195,0.07271898441166644,-0.07703523989234749,0.04058070123390717,-0.07649512456990604,0.03032050021839441,-0.0832474976502926,0.012276727797486751,0.04780663207780487,-0.06783473898237827,-0.06507156014326826,0.017881974152623936,-0.06897723162449815,-0.014359983062772882,0.03668393774224633,-0.06670409106082147,0.06837610161845428,-0.06629517396643614,0.01129021933569738,0.04625405401908094,0.0839931972888615,0.03407188252985244,-0.026618121893583317,0.07865355414393928,-0.011615042060388332,-0.06632145700491854,-0.05349206023292984,-0.08473679834248234,0.07702205253136304,0.018759089234729603,-0.04809914047137574,-0.030124595832970103,-0.009436248132435009,0.019366983013053903,0.05141995778676144,-0.0441129256598967,-0.05306005355671745,0.06697629962616095,0.086011988711842,-0.03852643396326885,-0.051221601915107474,-0.050291527403146206,-0.07092850448941655,-0.0591219095793058,-0.034217235962216735,-0.010428182481042155,0.004858165931054953,-0.05196150052859035,-0.04101614170095164,0.06938957136556739,-0.08595786365302686,0.003585295421071067,-0.07183757061306509,-0.055216520073200784,0.020499719411973292,0.07252802330403957,-0.009536396365674068,-0.0002710305509281596,-0.06603772080835267,0.06788625817452273,0.026699306970537667,-0.07490287592460076,-0.02564261415073388,-0.01789979994437794,-0.08206297676590128,0.005195204450105111,-0.02903485066892337,0.08016344606409478,-0.08227617049052871,-0.044274185540406505,0.0022911446511573075,0.01650388995567924,-0.06738551983689908,-0.0787621926688272,-0.045979048399793554,-0.03472368457169148,0.031182091975489705,0.06425937683695243,-0.05545230842725566,-0.030323332248057673,-0.037051134779308596,0.018280341717787408,-0.050123825337006184,0.0493849755458315,0.041744668629131856,-0.019293146402324678,0.01766803142762009,-0.05198948891635407,0.03656394201551582,0.06927936619451554,0.06611527420398541,-0.0011183841172761433,-0.008629637137771377,0.0049368457436557035,0.024434997300160435,0.027562160626138314,0.04485446890079293,-0.056159201060496364,0.03375239772505051,-0.07287918587150956,-0.03634840977344544,-0.04360390177954477,0.005311281873691585,0.03304974295422272,-0.014788376132880792,-0.06374745873394876,0.0017968262363395736,-0.017854041133299057,0.08542268498691868,0.021865368106050522,0.012764424022738355,-0.08036334251522707,0.0426993608867622,0.008274175283346346,0.05966716357442687,0.045759423367101364,0.03736631545320726,-0.02812888255086065,0.07455329514788962,-0.03071702848502225,-0.037312411846453626,-0.04616532833111822,-0.07118000404893206,0.0442012356341969,-0.017752781272419364,-0.044390744598170516,-0.01157729448424793,-0.060514430632210285,0.07481302663353535,-0.04828327807586584,-0.04852948367738472,0.08413891457963733,0.05859135700750941,-0.04709436499250601,-0.06456370164775892,0.023997238584773945,0.023621847177363986,0.009270978052418522,0.05942617429350708,0.07994437241136597,0.045766261233203806,-0.06075179756599385,-0.01983040425136439,-0.06498232810319973,0.019468038731222555,0.027719468982148283,0.07472461877893993,0.01693164058463443,-0.04851494611605185,-0.03412024794871773,0.08464112657282195,0.03799242716509791,0.050326867053531524,-0.08630755881122615,-0.0708342088551645,-0.04407747399651425,-0.0014618592335510993,0.08178841691148371,-0.06290921828699249,0.009459781907504591,0.04375620349313744,-0.003829015471787395,-0.04914641018176945,-0.028016572148036267,-0.041657964195257274,0.04950216325752319,0.01404050348204938,0.007316944725582614,0.002085322138247544,0.048135551835568835,0.015464882063575307,-0.009503165832508206,0.05698791651736151,0.049761670866187976,0.08784291921191832,-0.016409487000968115,0.022843298532416612,-0.0036254900847046915,-0.022347570366363836,0.032896237583335416,0.058527833836348374,0.07589546926271945,0.009205997924815523,-0.022043556120422598,-0.06372719042926393,-0.0590821813910258,0.04375901366895051,-0.0865989419417478,-0.030574858463933895,0.02856597009948808,-0.033635452720779745,0.029055743007391988,-0.06702281878846551,0.012513664358634076,0.035177905487359475,-0.03733641205869928,-0.008611827619668444,0.0463964434371824,0.08649748780114824,0.011681890557997395,-0.04363337961076476,-0.01188885889267452,-0.010800000810880714,-0.08583252536387895,-0.03841915442503031,-0.00183873989445379,-0.06518344929197263,-0.03653385079539654,0.012883493010093852,-0.00185591572833291,0.03136559196766273,0.044090121454972785,0.01954534369842824,-0.07103172978988061,0.02360320748205533,0.02529896457066566,-0.002654275574677337,-0.07424534526556627,0.06928729429741406,-0.004714841208400619,-0.07962784546407461,0.01976891954833517,0.021693818958872842,0.03503857230033524,-0.07996257615336445,0.019510702509669284,0.042663114486641916,0.07499808604167985,0.07923892524004685,-0.041240186806074206,0.05103642288014941,0.03663792915642056,-0.017644503215504218,-0.047391826713335264,0.04057585683611038,0.07899298413918625,-0.06297116442184555,0.07451587873002655,0.022967483171276434,-0.0733762512882153,0.0875206536362446,0.07110343798612598,-0.04234581195399195,0.08807312158041494,0.08719864227077942,0.07515218035501621,0.03478720726022997,-0.05475290499122632,-0.020719682855844777,-0.018295190620821005,0.02084794424864225,-0.06617688421766227,-0.05747207047187813,-0.017184436371739012,-0.00935547160971983,-0.017891199770809173,0.03154221912524926,-0.05414274664250215,0.005556094272740496,0.045616824573597885,0.08370354577548289,-0.05480331497379411,0.07414511296261654,-0.06796329900637212,-0.0790211726523954,0.02201767323663054,0.07527364234997685,0.03983032698677337,-0.03205507693349226,0.01203085598237199,-0.028627284012259658,0.009944160135260564,-0.05568378617285287,0.0026792837747089482,0.00703887613703758,-0.05707697381852277,0.04840035596137543,-0.027673683487611678,-0.05681635515166108,-0.0023131714244688153,-0.029138208239582308,-0.028596410162469995,0.038830900910511404,-0.07823472224350533,-0.01820109855175187,-0.003627451182915428,0.0874819420304325,0.007408534123893517,0.02592300422626356,-0.02380972939072779,0.07148643077881882,-0.06915161237583052,-0.07207982925822776,-0.04949769934717845,0.02453795327531495,0.051824540170989565,-0.07901433527005809,0.008056805052069616,0.08041638232234669,0.006167209487934897,0.03482461841241439,0.08916648256902823,-0.045837853813319944,0.05334779507231969,-0.03207012849747258,-0.0625270095947046,-0.07676069241537853,-0.03608628681164352,0.015872289748183194,0.0022241847720295524,-0.03245754009481468,0.056620763018104946,0.025859402496162462,0.04657118479853364,-0.035713955643313845,-0.042152853678158034,0.07332903064420541,0.08257315570717086,-0.0833484829008668,-0.015018443594768189,-0.020987286545384815,0.08166702040892951,0.03486521919695832,-0.026534905817200295,0.041576506404037435,0.05853660180264285,0.07352440954150102,-0.059917243161117344,0.03215919697471342,0.009521666548447967,-0.05128393471008992,-0.05083108469332558,-0.05666443469983717,0.03924888565288471,-0.08156915421375727]},{"id":"chunk-7db5cddc-140","content":"Synchronous dependencies Whether you use synchronous or asynchronous dependencies, is completely independent of whether you use run or run_sync — run_sync is just a wrapper around run and agents are always run in an async context. Here's the same example as above, but with a synchronous dependency: sync_dependencies.pyfrom dataclasses import dataclass import httpx from pydantic_ai import Agent, RunContext @dataclass class MyDeps: api_key: str http_client: httpx.Client # (1)! agent = Agent( 'openai:gpt-4o', deps_type=MyDeps, ) @agent.system_prompt def get_system_prompt(ctx: RunContext[MyDeps]) -> str: # (2)! response = ctx.deps.http_client.get( 'https://example.com', headers={'Authorization': f'Bearer {ctx.deps.api_key}'} ) response.raise_for_status() return f'Prompt: {response.text}' async def main(): deps = MyDeps('foobar', httpx.Client()) result = await agent.run( 'Tell me a joke.', deps=deps, ) print(result.data) #> Did you hear about the toothpaste scandal? They called it Colgate.","metadata":{"url":"https://ai.pydantic.dev","title":"PydanticAI","chunkIndex":140,"totalChunks":208},"embedding":[0.05152095990381912,0.05768204351436335,0.04985209582981688,-0.06256037314228326,0.08317958104304446,0.03153768889582395,0.0003643352316848551,0.06999360807387534,-0.04317591981953098,-0.08736143263206848,-0.026726184360867756,-0.07572834697995363,0.03374226729219518,0.05894692884101511,0.0420650172567253,-0.009423393044322862,-0.05034476604400358,0.0769570991857472,0.029438734925621247,-0.06561785980732333,-0.033778128395081576,-0.034500194945233896,0.037310481062915506,0.08344838312854491,-0.037501339812101214,-0.0762856291625038,-0.07212733273943774,0.014831589156567232,0.05550386507662622,-0.08209505476783735,0.030423352454712952,0.06311706998161923,-0.07963618643670928,0.005388911442878485,0.02492804464801907,0.08275710571066572,-0.05866407821643462,0.005526164310664605,-0.021777107959531593,0.06492112398287953,0.03184677724419172,-0.052952152727527055,0.03639139043943843,-0.05117371004723174,0.05199913435815071,0.06820338856175596,-0.026421299385456322,0.05643323887926846,-0.044684717504350234,-0.01678700433382075,0.02822303181743104,0.010817123853662451,-0.057553401713499944,0.015567860611034125,-0.06659827887892548,-0.07263472931582092,0.020323220182759488,0.011263718479834374,0.036254311317192055,0.08595979770380424,0.0519025081813383,0.011538517843635417,-0.019170062133719596,0.0189496943754571,0.08762931587738244,0.07495315461972893,0.030640553794969713,0.013689980808832505,-0.03320655884300802,-0.05232704543800927,-0.08327632927046114,-0.026043170782749477,-0.07706790807839863,-0.03271402104288738,-0.05088371860725545,0.02808161901255431,-0.06052576043886549,-0.07387517346017108,0.005115661672694103,0.009205185731884918,0.02502490761828006,0.08721667274018051,-0.0388730657028629,0.04528091143306123,-0.06829360755555257,-0.009228814596016299,0.012552237358830728,-0.03614817531663507,0.06729616729677891,0.022805396759734184,0.0401894337470615,0.06275631383789995,-0.0717187350511339,-0.06161317396598325,-0.08344362122022811,-0.02697552946144269,-0.05663509888034869,-0.019536482938366302,-0.06695479228527614,0.08287618475457673,0.07545730622391554,0.03257907473271085,0.05060917129921689,0.0009569239673252877,-0.01846620733282838,-0.060023633586197826,0.05572277102061992,0.024987569694441283,0.014834126583516207,-0.06594005001174869,0.0042817382382642315,-0.002651861559167774,0.006023702085070785,-0.0865091702652773,-0.016533832790970794,-0.07194434679694452,-0.07483306251821786,-0.008288008126779456,0.029027202993042612,-0.0400741146849788,-0.0769276963866873,0.04557735260449186,-0.08744139506583631,0.03795366592958334,-0.08762038966255585,0.0017840804058633995,-0.0543872635294363,0.03297749573354701,0.056042104356497785,-0.06742201971785397,0.005413682434893293,0.05636505669711151,-0.06850351500103,-0.07354347908268717,0.06966062044703979,-0.05328139371970768,-0.0040242115016558095,0.07580994793313833,0.026120581177842665,-0.03627145123668624,-0.04218280162961188,-0.026037071888154257,-0.035777421190088116,0.0398878549122007,0.031895340554206425,-0.04407035428613186,0.08611594381077818,0.07925127908602572,0.0806314329937941,0.03558014297398735,0.08515540190253533,-0.03792795601327855,-0.07285369379642057,0.0641567806675709,-0.05150101607530016,0.029528798366145553,0.08463595216385034,0.006521063113551058,-0.04151968506099916,0.04960381317411533,0.05273962530062791,-0.015870680826076688,-0.07930551052889519,0.04335301893966294,0.0547439979442384,0.011960498128112477,-0.08553725994866368,-0.015302925517434252,-0.04619228566922781,-0.0674392222237006,-0.05912199823353375,0.030271657677106944,0.04679103840541499,-0.061437610591697694,0.011399910754644055,0.056407786407311714,0.0056390901677842095,-0.04036986913254141,0.05746917472252595,0.04992135107246461,-0.02322152294572523,0.04743393105534732,0.015096245013719261,-0.010076765127732399,-0.01612768245316979,-0.013014616482801646,0.01905234953014681,-0.025381686743085573,0.073782296422975,-0.03441913238108103,-0.03206488480629055,-0.038196428122998935,-0.011281602216402857,-0.05513512577473088,0.0759444291352125,0.015400047699029671,0.003715383448330443,-0.06748427893921961,0.02922055209985546,-0.07016625308519639,0.031575409053539776,0.06082372073715675,0.023318058895780643,-0.01604778072310434,-0.05516608131101528,-0.06239557907195208,-0.02255803770791726,-0.0638335118839875,-0.008988408170313688,0.0002783253634352486,0.002295192425410289,0.016518867015898813,-0.02707346441579534,0.06298416951664614,-0.04393799166054848,0.039256029480677565,0.07272931522079379,-0.0008005856768387291,0.027096135187337184,-0.0301850224484859,-0.051864122862304185,-0.04865926909199064,-0.0010600739315201001,0.011335760827787712,0.04051446035459217,0.03233466986421335,0.06866403893286321,0.0584811891587288,0.019430309172179795,0.01038900789473792,-0.08589837410652093,0.06345771529664208,0.03403828125215327,0.07006199379798993,0.04801741929056468,-0.007912924486926376,0.04799387814183865,0.017130432985324462,0.03502865548771681,0.01882390104590206,0.07222113632946303,0.060195226443198434,0.06107879134927753,0.04497846417292072,0.02724682981822159,0.08612509595680193,0.008084919465806467,0.0789066220470939,-0.05678635505356969,0.020980145693751662,0.025799625181013065,-0.001154140860028339,-0.08474427777037973,0.009708790991327513,-0.008212978705774289,-0.05072225055217761,-0.03082038694995866,0.04963196305306511,0.0002427452010789679,0.06185443898826858,-0.04879624772805963,-0.07065211442301454,0.049249666519213905,-0.02178707138529856,-0.05565277890766814,0.08175885978442343,0.06490117534359917,-0.003115292501930627,0.005839837617813655,0.03409494821971301,0.020731254957896454,0.0004976113320338482,0.06222310487080547,0.03497362562876459,-0.00699509440334871,-0.0439941630023674,-0.07868187808689811,-0.07349066892518934,-0.024474999241751366,-0.013488552473634443,0.07375750693563474,0.07488353223439892,-0.030533086627603023,-0.018189392854257982,-0.03981927109661965,-0.08580710600495965,0.03437545394077897,0.019214927933553297,0.07655074986871307,-0.08349352013605563,-0.08159954023621006,-0.020504016069565867,0.0383011418359521,0.05191559276181104,0.068119342705857,0.06496528689899951,0.010750700140229868,0.03925809449306226,0.04989819175890342,-0.049773299226440026,-0.05781720773044091,0.07614424183251277,0.08243406733496515,-0.07583278398136994,0.026404511063421784,0.0708697988562173,0.07477093279080971,0.087709219722943,0.003962573241887153,0.003939221513965252,0.0747239348099442,-0.0031705910715189,0.04285982367315374,0.05645740735592655,0.05654517515727704,-0.0017496023118179485,-0.06583886261658473,0.05148364404671649,0.07254193825268472,0.004650425567387629,-0.07999134754692007,0.07024222871179182,-0.0735900970026032,-0.06295842006772545,0.05702855678076824,-0.059199426231552776,0.06208994349069526,-0.08621520553450406,0.021909989733956838,0.01529644479690012,-0.0605693556724491,0.02391164038916654,0.008881947221113202,-0.0869825265694405,-0.06460347544203529,0.033206353238674303,0.04483434981748747,0.02385047996749445,-0.06873407827517786,-0.031847104819311384,-0.06630014972899416,0.08776098959394889,-0.007796063668879185,0.011053333548443511,0.06737843652439622,-0.025049491151419943,0.0359287801504988,-0.02091299440065224,-0.060211307521126314,0.06305463993394372,-0.07491964324576114,-0.046763292128009074,-0.03900257568314081,0.07339795345274157,0.023285759458958024,0.0014265715836468734,-0.029485875158595555,-0.07233071775871776,0.010073702264646014,0.05823579304098625,-0.016049533158545935,0.050610953961699935,-0.0303976312245352,0.03498822581610389,0.03891779588279757,-0.017434538916162923,0.07645170249862336,0.011200117294098984,-0.011105336313222695,-0.035309556324582415,-0.031118217245867465,-0.00022014593477349221,0.08459792478870129,0.005890660463039589,-0.0577600565800566,0.05493860811778254,0.005090132547428793,0.08540248091593194,0.06440734211760481,0.0604034266205805,-0.04682199546034435,-0.06964689119068046,-0.030767314952573413,0.0690501400671255]},{"id":"chunk-7db5cddc-141","content":"Here we use a synchronous httpx.Client instead of an asynchronous httpx.AsyncClient. To match the synchronous dependency, the system prompt function is now a plain function, not a coroutine. (This example is complete, it can be run \"as is\" — you'll need to add asyncio.run(main()) to run main) Full Example As well as system prompts, dependencies can be used in tools and result validators. full_example.pyfrom dataclasses import dataclass import httpx from pydantic_ai import Agent, ModelRetry, RunContext @dataclass class MyDeps: api_key: str http_client: httpx.AsyncClient agent = Agent( 'openai:gpt-4o', deps_type=MyDeps, ) @agent.system_prompt async def get_system_prompt(ctx: RunContext[MyDeps]) -> str: response = await ctx.deps.http_client.get('https://example.com') response.raise_for_status() return f'Prompt: {response.text}' @agent.tool # (1)!","metadata":{"url":"https://ai.pydantic.dev","title":"PydanticAI","chunkIndex":141,"totalChunks":208},"embedding":[0.035938225076051225,-0.04595354944130431,0.037761197672720986,0.07362607419360623,-0.028915048708572113,-0.051348393633796896,-0.02512231099596966,0.085019909894727,0.03158834614717156,-0.05950974067545027,0.022871641774607463,0.00489286162409921,0.011235458338572297,-0.04419990175751622,-0.08697131321435025,-0.048521318157541495,-0.06707492230809466,0.08169172478420927,-0.03265768750928995,0.07664302757825707,-0.03553150788200499,0.05994940957291432,0.07998432582485218,-0.004748599604254951,0.0734452714739705,-0.0324893066685755,-0.0212277779282946,0.02471158249153858,-0.036568532662065424,0.03656155261516045,-0.06521865513765283,0.0048380282000035696,-0.04607405884685901,0.024258156188983075,-0.06561885845450983,0.011497285369705288,-0.008458094908604039,-0.0851943813797755,0.08355316483148739,-0.07157661421885857,-0.07928282702314039,0.01987717889188763,-0.04945068962981426,0.042145784331744186,-0.04897948681044238,-0.07596212694619793,0.06107288006429525,0.0031277599138073856,0.016589465085699518,-0.05468146083674997,-0.07198277401205026,0.08530275151577277,-0.031228203891690166,0.02226417666452547,-0.008657216465543193,0.08252923278525726,-0.011606626431597553,-0.06436583727101738,-0.035191334388161966,-0.024027107241322475,-0.03088720924396891,0.022677984491117,-0.08368434631790582,0.010488431637701676,-0.0025686792231654557,-0.06273307299077673,0.050469625884414705,-0.0679399519053582,-0.08563482990836523,0.013227524208748722,0.04225714201772913,-0.03634907199045913,-0.0044278159098579024,0.08476620698313332,0.07907873618266358,-0.023009529031337274,-0.037752968460688596,0.03147084404462299,0.04338871216345043,0.025559700005340903,0.039585354186930016,0.0186498683936212,0.08622515632998415,0.06494448144210126,-0.012091633604106033,0.011626606870395729,0.013603786041889766,0.000917213289968084,-0.08565544182278939,0.07961435196440815,0.001006617114493074,-0.015346522841616247,0.023470209271254,0.0695393899315447,0.08634645106766094,-0.01282380817565692,-0.07786841472974503,-0.001387251000486601,0.007933595424280482,-0.010118393783329302,-0.030897798284676464,-0.0742644822761568,-0.0045979534876242475,-0.0757903719799167,-0.07028236136682331,-0.013022906355097709,0.009159682406904,-0.08736552540375611,0.016122826204116758,-0.03401457853820977,-0.022484129897721493,0.04133080461962553,0.013818041179282823,0.002000328500575001,-0.03610576490890758,-0.04425855891367276,0.005681151438780383,0.056012083782567626,0.027122593337043935,0.04970947351589344,-0.08094390229936106,0.031941398040108,-0.02469224699426319,0.03322068987654819,-0.06990775625661182,0.016121943138590996,-0.018001112384266174,-0.0002614074185231443,-0.08471985623934226,0.03964823033172552,-0.08639938394933867,-0.017104140817316836,-0.08368448238348518,0.06116124134925769,0.04194394288555185,0.028038754643921412,-0.0038069091880029208,-0.04013373705679811,0.08354776073258988,-0.03680667534622156,0.0736434561945118,0.05748054922888264,0.07939682386783345,0.0809598279563229,-0.056014944569850955,-0.08160014385190026,0.005860407077650378,-0.016751342364530082,0.00146041063435759,-0.02506465496755302,0.0595278149369463,-0.047828584176553404,0.01880577628774685,-0.024862627470181788,0.048915529502137664,-0.030281175978876605,0.009135033465100273,-0.07599711458004915,-0.08248503027076354,0.00606802238843317,0.003640791395140091,-0.044106726853466977,-0.04670538275203206,0.03503508601279801,-0.0041162966405159426,0.028182956302057017,-0.08223834432692843,0.04212941251282872,0.018362267073158734,0.07656148264914503,-0.05936317547926528,0.08898514631647293,0.06744772764366529,-0.06518217663867629,0.008629059269986522,-0.01922908401572772,-0.05261771139862463,0.04388750472285876,0.011964044360791952,-0.03511938796623819,-0.06093283121602743,-0.032422349019225055,0.08795556539400637,0.007832437522243288,0.07078708716014917,0.03040389427031835,0.03413719430392431,-0.003272027389295457,0.08183014566954691,0.08425289264789584,-0.0025908127622890358,-0.01621151700100188,0.01453296990238739,-0.013275935298045998,0.05919420051015449,-0.05818008633473231,0.003915508092854334,-0.02790778345339878,-0.0822415327667265,0.07658903605490895,0.07216974769814045,-0.052350977842437314,0.07710834362143629,-0.058354248557680406,-0.0006626666404352864,-0.03192219936788162,0.03181581071889643,-0.07680198124636367,0.007952106202279279,0.022877534623963833,0.058426361113973355,0.059822932844593314,-0.0533550529868335,0.012794296340414901,-0.04622568943227394,-0.023837923144226284,-0.08197217081318604,0.06259846200203946,-0.05627093989043309,-0.012885105572792151,-0.001959499107565336,0.02495016504009219,-0.0825008423262709,-0.01680814626045091,0.034462427324890015,0.08736531229386765,-0.08853622960158285,-0.06250125795893192,-0.08235951896167608,-0.07283484211582504,0.05686670539714013,-0.08736097922091003,0.016717243832371442,0.059376249888469256,-0.028552694768568972,-0.06517908772878904,-0.022747012434673423,0.022339558272471603,-0.00016282416638891428,0.050810358107535786,-0.029939581800098147,-0.03566508620955294,-0.050037184015778106,0.008262242316154526,0.018204614809935387,0.06315744001811564,0.08216483934630213,-0.05392438366458714,0.0026577159481899985,-0.08035145038374515,0.08030948470420485,0.06084182701905645,-0.05116531675148962,0.018875185968089854,0.050370026010075335,-0.08449526212085588,0.06989303385128777,-0.005988337041041417,0.013141311644295408,0.017798838463106884,0.010046411855247479,0.07550383267048605,0.07664377197099631,-0.005614050350816404,0.058835495422555416,0.0016743189741335721,-0.05666744764365342,-0.08547849359721997,-0.07006801851866949,-0.042664065887932354,0.07884361445505918,-0.07481657143114256,-0.0251213126827087,-0.06421029495302584,-0.02427389906394608,0.003978355904593824,-0.08266460672823339,0.014624542719368996,-0.07045328079233783,0.023628242502312057,0.07606133612207379,0.08160311209218385,0.05126099628592301,-0.08620992899445767,-0.08397760119132944,-0.04053639717398492,-0.02326185620812736,-0.05445188504250899,0.018829425761504315,0.0825547797100747,-0.07122668307623574,0.024885457122435457,0.023486488597317053,-0.006021906913279117,-0.0837591921106183,0.08171124054110984,-0.009542055156873638,0.01919310730874172,0.08136478365588341,-0.027081096068165392,0.0300099841587267,0.011115789742984857,-0.06765411564713009,0.0359425135147081,-0.004474287843103544,-0.017589833202446725,0.05206616161685529,-0.005069755324716364,-0.05785383611403711,-0.028446024818058083,-0.0820608957605139,-0.053171748926173816,-0.014255310259494823,-0.07167241781226492,0.04555553440892,-0.0341920654595837,0.06867685767599356,0.06610457217061824,-0.024840629891927847,-0.08879268635360892,-0.0476714741547175,-0.05724880726339067,0.0516710579402474,0.08112304937939141,-0.03735698045976906,-0.014058074094411269,0.02674110297879464,0.0565790864071557,0.018976342810224797,-0.034812780619657556,0.0074589926003388015,0.06908701484649128,0.06728603905028972,-0.003883075171470478,-0.03037776050255476,0.005528233495656724,0.07170271391665722,0.01785058529340999,0.06979465250915429,-0.024030019989345095,-0.05155386335895961,0.027014694096051877,-0.017211866474151186,0.06103306708317981,0.00338434383150711,0.054941786849602416,0.059753230578712534,0.031034222424315982,0.06123457497072678,-0.02966566416584311,0.04917251802706632,-0.019015650999724222,-0.0049356114938523,-0.06774716035890753,0.02635969101538289,-0.08839912234516252,0.027350090227115625,-0.00540328422473929,-0.020056504481302365,0.054444659340544946,0.02536623890588286,-0.028483735857508543,0.06125442672314422,-0.012501983143215004,-0.06613978405907446,0.014848945908435445,-0.01670141921899181,-0.06171642781643729,0.0014584909298078217,-0.0869534062976256,-0.08231584177341168,-0.06423743668444497,-0.07838602231777407,-0.01067691950520658,0.05144281710488412,0.024691862781804953,-0.021529501404157648,-0.02762795077489289,0.022905231768454788,0.07203761726303552,-0.021042251575013684,-0.003882436183246322,0.0016857625813313818,-0.08801528373992723]},{"id":"chunk-7db5cddc-142","content":"async def get_joke_material(ctx: RunContext[MyDeps], subject: str) -> str: response = await ctx.deps.http_client.get( 'https://example.com#jokes', params={'subject': subject}, headers={'Authorization': f'Bearer {ctx.deps.api_key}'}, ) response.raise_for_status() return response.text @agent.result_validator # (2)! async def validate_result(ctx: RunContext[MyDeps], final_response: str) -> str: response = await ctx.deps.http_client.post( 'https://example.com#validate', headers={'Authorization': f'Bearer {ctx.deps.api_key}'}, params={'query': final_response}, ) if response.status_code == 400: raise ModelRetry(f'invalid response: {response.text}') response.raise_for_status() return final_response async def main(): async with httpx.AsyncClient() as client: deps = MyDeps('foobar', client) result = await agent.run('Tell me a joke.', deps=deps) print(result.data) #> Did you hear about the toothpaste scandal? They called it Colgate. To pass RunContext to a tool, use the tool decorator.","metadata":{"url":"https://ai.pydantic.dev","title":"PydanticAI","chunkIndex":142,"totalChunks":208},"embedding":[0.04557354032284337,0.06843651602682344,0.03496917102173014,-0.07002274511587268,-0.08556251227824437,-0.0668856299322893,-0.03197616003679092,0.041089899660940156,-0.010996966815082648,-0.05935583658237073,0.02896871852889384,-0.022374138721718194,-0.018721801762763685,-0.08755797528784161,0.06786529929491904,-0.014695217145124102,-0.07240743641294876,0.037199784844537225,-0.07077423510911686,-0.07782796910004855,0.0818719541855369,0.05397187218210186,0.070217558741115,0.01757090627683663,-0.06939918367238847,-0.07946475392029563,0.043519608509380685,-0.00007556378214522379,-0.0776140099794667,-0.08631837959374881,0.0717130328342128,-0.012845994444443747,-0.0741805056612318,0.05418185010344423,0.02749259548767116,-0.08530353209915222,-0.07504570188960649,-0.0544590038287267,0.021338856883985555,-0.026347491161366105,-0.020078687649565507,-0.04767979988759552,0.08757236999280621,0.06046341635511298,0.06303179661330299,-0.059717888097761046,0.0647395271751323,-0.0339550667116799,-0.04117667241081492,-0.05231728443113078,-0.06462537148268191,-0.006975861824383078,-0.030287838897176796,-0.033919352906682805,0.07975236508956124,0.004393939628082444,-0.07576103581404198,-0.051706203130277156,-0.022066728876847703,-0.03282765414753538,-0.02077676783120445,-0.04519646111532689,-0.06670057629762136,0.056180478742157924,-0.029016506236308717,-0.016822785473959188,0.08589762107070706,0.05765482012627611,-0.022168011120924345,0.05574626497995034,0.07871396729553956,0.04837570267164231,-0.07069712529923676,0.061979112816863,0.06249211134952791,0.021733629191073484,-0.045850087736619485,0.024385864537052198,-0.012105616868877253,-0.03149645344127829,0.04585454935180439,-0.07826960155467655,0.07022253090748848,0.001298826418237307,-0.02127472315443188,0.052977656099272886,-0.08125494229518976,-0.00930294465640933,0.01262163097900756,-0.011021704497567897,-0.057134584610863265,0.015007117433524378,0.02048391817374811,0.0107779648827768,-0.04785952617197593,-0.07867321174358538,0.009521996991112542,0.05051039395137718,-0.02737129507605687,0.03534543903501568,0.05813048378962659,-0.019026424382428738,0.004501389193675554,0.035348263294981745,0.0076189603534073365,-0.01944820857212217,-0.07083411286445675,0.07317569490664501,0.06696717295910427,0.01913072854316503,-0.004193301033672883,-0.08055181700256764,-0.0048218000696816105,-0.002407385805156015,-0.0794088776478451,0.052789354091700894,0.06769830179437242,0.05702914609222555,-0.00999521551169647,-0.007108837047730601,-0.03703887866038222,-0.005834812515099334,-0.06114636679688897,0.02678307847690218,0.04697812361256086,-0.016423245370095253,-0.03642003495157913,-0.07647060238475362,-0.009360083307926374,-0.08039449014939168,0.0713384555870748,-0.01387879759211661,0.06484872370804091,0.04064003148840771,0.03241720542804876,0.08416232847175278,-0.07895789223951111,-0.06340216449442954,0.010171135686872603,0.0029929452512009215,-0.06001971894000646,0.02596583371070853,0.062407683040137815,0.06293516250676101,0.019989437373316495,0.007922348523905942,-0.02265151475313254,0.022701179599255335,0.016649414211056448,-0.06785532780695769,0.08382562486194331,-0.03194518892373324,0.020501936631931065,-0.005233435337291297,-0.017014868520230625,-0.04644033244665843,-0.026840766249679397,-0.08435953647933309,-0.07557973450085456,0.022195522495952687,-0.007938918215356444,0.07536263355616998,0.022658144532512227,0.06863216509649764,-0.04885780108466138,-0.02887980501960725,0.06650067218197413,-0.08479623948839488,-0.07832429944626387,-0.055386723220539,0.051234227375587305,-0.07728419668440524,0.025468726187968915,0.087651491360983,0.010563706860343546,0.036985471469702304,0.03674000968658218,-0.07845242062667583,-0.010715783758682474,0.003885540839404863,0.012368806362845031,0.06969145582384909,-0.07539214409044087,0.061578470446527346,-0.05366276466171705,0.07801553548160867,-0.0034988873030280926,0.07950815043604634,-0.022674375408749392,0.02674912335953596,0.07999384726512489,-0.06112393792310671,0.010024104349612373,-0.019247869428470128,0.03386554425757279,-0.08732955342173612,0.012841394102746135,-0.08015582173629632,0.0535318242129917,-0.01998607849813231,0.07905820533778335,-0.02042574307107577,-0.08477773941981077,-0.03430928128929666,0.06400648481110101,-0.06027583717054088,-0.02484187844301843,0.06342743050246644,-0.08224508832963726,-0.03704016954058662,0.02649124835068274,-0.010314904630434364,0.016784160216461865,-0.02798242612740647,-0.02405648076492431,0.004565329550447562,-0.08379838370594955,0.031575048733075796,0.08550920052056472,-0.04328429995748242,-0.0777351817765976,-0.011435266483727717,-0.00018344480836596737,-0.041954860963126284,-0.06106128542421879,0.04731738848493078,0.04111149153748199,-0.07918731759507835,0.03712371022947397,0.038535852123454645,-0.047432828665044446,0.07730207953262724,-0.07910073190954486,0.03523167739532568,-0.03433689639310811,-0.02970882163162447,-0.008708776584082483,-0.05620990773938842,-0.053699523759633765,0.07902585837985285,0.0485868157462653,-0.019054728769404162,0.036602338027509736,-0.004521829577432126,-0.05030106487601623,0.005586139599494667,0.07180108299225292,0.06924138411392258,-0.06217748662931026,0.003104148705384617,0.015737753049111482,-0.031365068455626095,0.03884041207576215,-0.022500811089568414,0.004842041789063285,0.07555825413080682,-0.02820970811603675,0.05619546201075833,0.08785353197690408,-0.0018808210687422968,0.026237454369820695,-0.067090156383919,-0.062115632680676935,-0.08766378242288458,0.06914316539012369,0.06829938971944244,0.07359651749182224,-0.04641850277340715,0.052282142379268516,0.03709130818177573,-0.0017798101906784406,-0.0649826036214482,0.04414851108907179,-0.08387259348286316,-0.06871547608518143,0.04844969540119305,0.018336713962141864,0.03131725380783161,-0.0050691030114656515,-0.05028412304732614,-0.0361634658447226,-0.007852120382554692,-0.011842963519177255,-0.06794916341903544,-0.04431430896917604,0.011051521244877207,-0.06198017446673455,-0.0035431402342061564,-0.07090623700202787,-0.013202640646395904,0.042711181518778785,-0.01154458969342565,-0.025081354194112445,0.08790061359921683,-0.0410657390784193,-0.04749747364665304,-0.03980613152153075,0.022657067757692304,0.01070216830116275,-0.002015386331674016,-0.043522226421210876,0.010783971069836211,0.030047314026740008,0.08616984541040339,0.011736180361224518,-0.02696333996347729,-0.08352763484411839,0.07086010612843102,-0.05879721630949442,-0.012478317454333839,0.04343558327939022,-0.002688793326608894,-0.0034655577054651257,0.029763272136725808,-0.035003335051701966,-0.0717317124797597,-0.02389149676537035,0.07291879871220713,-0.06684148733260695,-0.015018721996370553,0.08371410131479151,0.0131232049779713,-0.0019261142632776595,0.06349319600326296,-0.06911769162992674,-0.05703554376094243,-0.027136114647404393,-0.002332813714408191,-0.08415055396863508,0.019960721668590926,-0.05972679378661268,-0.0207072496989064,0.007608142330127672,-0.08354598009786175,0.007095213745524822,0.08622406653554329,0.006178575931565239,0.016338644167178836,-0.027182625997672037,0.006557836052338588,0.03500946766188163,-0.07035291718423549,0.05315671467293377,-0.06443205515255393,-0.036296236868885216,0.0030735468614175015,-0.023808876622990745,-0.07877277382050461,0.05926056122107411,-0.020430834002014633,0.016293178008925994,0.06887306211443535,0.0632513517293632,-0.07322433063935238,-0.0810157915962541,-0.08088146289115386,-0.05391846789945047,0.01602702130691947,-0.06619498483327281,0.0784266266196812,0.018585886497365717,-0.01308087980619061,-0.04147900127179046,0.0556335416631899,-0.06882697560663545,-0.02106241752053272,-0.01770586619080184,-0.03249513739225502,0.0722927195502284,-0.033144065889295186,0.06748039782601324,-0.0820802897503595,-0.06586730102056534,0.01747730865252164,0.048902580756019665,-0.059831935769717404,-0.0012299382952429608,-0.03526440016692853,-0.03254229581342357,0.018267872520609473,0.03918341282211768,-0.03591650031529356,0.0485728586584889,-0.0543891001476125]},{"id":"chunk-7db5cddc-143","content":"RunContext may optionally be passed to a result_validator function as the first argument. (This example is complete, it can be run \"as is\" — you'll need to add asyncio.run(main()) to run main) Overriding Dependencies When testing agents, it's useful to be able to customise dependencies. While this can sometimes be done by calling the agent directly within unit tests, we can also override dependencies while calling application code which in turn calls the agent. This is done via the override method on the agent. joke_app.pyfrom dataclasses import dataclass import httpx from pydantic_ai import Agent, RunContext @dataclass class MyDeps: api_key: str http_client: httpx.AsyncClient async def system_prompt_factory(self) -> str: # (1)!","metadata":{"url":"https://ai.pydantic.dev","title":"PydanticAI","chunkIndex":143,"totalChunks":208},"embedding":[0.06490188681640713,-0.08095618035389635,0.009982431301283812,0.011685469548669605,-0.048849675525637175,-0.0740996442587293,-0.05006443262962808,0.041017427439016436,-0.05578969851170755,-0.05905115809802023,-0.018867283961185834,-0.03717258605979086,-0.02295454458881761,-0.08275142747341777,0.03319878982479012,-0.04922415316218147,0.018459603308859433,0.0065972209742081855,-0.020065593599225235,0.02665267573733345,0.06419432110213444,0.03997920883545821,-0.08561862937652046,0.00580955265711813,0.04253993414756422,-0.0047101255976563575,0.040064241300993474,-0.04699110921602335,-0.023443640670727448,0.06906264942948677,-0.0060203739658067495,0.08524330105959024,-0.07818978518925514,-0.02061999266037583,-0.004242013382964068,-0.08043200824082145,-0.046375228243273316,-0.05654271374746234,0.08613813634150833,0.05636990169314338,0.043104718942195204,-0.06693201149072733,0.05906000586824704,0.06550743265754952,0.022057344195031414,-0.06741199471215369,0.016696766089262256,0.06587232289657995,-0.06940813145480491,0.07286777459157033,0.046318432564256426,0.03660951777385414,-0.02715118278355156,-0.07931984792917722,-0.045572681924488725,0.011183433241976763,0.018483454451771294,-0.05366020371350732,-0.05935176197842551,-0.019407791749948007,-0.0788181877227843,0.008066404756610225,-0.04038879949901064,0.007638938298128904,0.034837644803056074,-0.040271303919213255,-0.04851458520065685,-0.08485659108727259,-0.013519891953111702,-0.020971809407202762,-0.038428588637779974,-0.0025397240923038184,-0.017432244851187818,-0.007300534212894391,-0.0208296994282661,0.040100434524054505,0.039255106406123536,0.0662367058564156,-0.018560373449099648,-0.0401776295063814,-0.06713567400692168,-0.07464399698350895,-0.04111913429203507,-0.024195270028867732,0.013112606884454134,-0.02319325073744135,0.004323437891522308,0.058413728351728846,-0.011211842552725903,-0.07463655956985149,-0.0509855933167896,0.04630833898356299,-0.06701303422049086,0.010262850121081066,-0.0643385653398388,0.018045720552346933,-0.024400965452965998,0.03359269469279343,-0.07772624087322605,-0.03715055704549698,0.0032644749573517446,0.01089723734332855,0.07595380534318259,-0.010592695531339957,-0.07614073516372487,-0.008451408610561447,0.037527163057791406,-0.062482816872226205,-0.0009854000749698864,0.0564727959675688,-0.017188044974567468,0.0199972356845097,0.00047720818757572846,0.03232926413276522,0.03519185111360943,0.08021849674822949,0.02486078414961476,-0.06863827651815375,-0.013305566119583149,0.032318119029219335,-0.014640367302812082,0.07758202394269788,0.028611332023856125,-0.03321813531248187,0.03226645302735211,-0.0766025248903115,0.07941038486762304,-0.08490107033795695,0.0649207293551305,0.0749536723582911,-0.04516729963626567,0.0449590610289086,-0.04247436880330135,0.07366860471111909,-0.009113178317289522,-0.03865233344154868,-0.04133560738835954,0.08059213764834727,-0.04050239338268108,-0.01637070290133323,-0.04040015638027028,-0.061407900685905,0.06295549324151721,-0.013057867479484928,-0.07827283950516929,-0.06863590006198028,-0.08163230316296119,-0.013060580037718946,0.03198323885002377,-0.04674060341211259,0.028848879728531816,-0.015028441777688148,-0.040792134590925525,-0.011042558555426688,0.015875374300825112,-0.031265676526403226,0.07579438220076673,-0.02836941854634368,0.08543009113721667,0.03407831683060046,-0.06287837034324016,0.061914071978700774,0.009354994847723737,0.05250727346657069,-0.06757234618108825,0.01961849830353271,-0.02832826733092887,-0.05532677660719686,0.07149454100791118,-0.07213873066643625,-0.0834514927428875,0.05336872013395681,0.032871341845050785,0.05876090602722292,0.08327472123619557,0.015865969536105667,-0.07918971644757576,0.028214782015285746,-0.024164437282043025,-0.005492180409581052,0.0077808656881436355,-0.07474524143339774,-0.06633046420404895,-0.06816675981560195,-0.06789414734747898,-0.004449837002959178,0.02883382843537593,0.07719293840695805,-0.060516348981404726,0.05409672624878268,-0.0011948938866859782,-0.01708962490944843,0.07564941135809372,0.0645092087009969,-0.07603213449165465,-0.03169129797523057,-0.08193386787553264,-0.05826181836279188,0.058079668978226265,-0.06469465750401635,0.02836792652929903,-0.03603429755439348,-0.0630372469002994,0.042435242114750804,0.07872552259862277,0.03529304326561116,0.03984036652771226,-0.08392774124607465,0.05292749147122121,0.07393294154401864,-0.004497409630880605,0.07282025497229216,0.045318785446156216,-0.0709750601551022,-0.009222942346209432,0.044129509818006354,-0.07341430729332715,-0.06539561955787841,0.03641268496856806,-0.03819302763698366,0.046546897150547835,-0.03435804061457226,-0.0872923451483482,-0.021291052879977897,0.08032099275515345,0.06181935763228651,0.024595721376488446,0.03655346593344471,0.07573782784242315,0.03853292148331644,-0.002136691489031688,0.051950008563850035,0.046917177322902015,0.02459690306665815,-0.027937247833251237,-0.012957520546232636,0.06006160922203977,-0.02930642930302609,0.06375628923157864,0.05647061528389992,0.05365598618130058,-0.07583358697293965,-0.058536584888805844,-0.08176210275625324,0.024568187744795696,0.001208696091012631,-0.05960328799688955,-0.06172788428729303,-0.06728774508200214,0.02802288017339497,0.07072663747579877,-0.035775340780479725,-0.006265338604664293,0.07173631706695262,-0.06554507179412696,0.004631697816223072,-0.0516348852204635,-0.08283292499783802,-0.053540321367940395,0.06681091635868212,-0.06903899197886215,0.05923452297879787,-0.013396831292376354,0.04866020408116229,-0.023004031604634136,0.06276025217085572,-0.014327175925782847,-0.07797058787162839,0.000844564116229913,-0.043753177638966224,0.04826248937701373,-0.05390161445412166,0.047469530870838085,0.07680858233278456,-0.02741998711743111,0.07993834790959453,0.059185074771064945,0.014282106643069233,0.018838924717033224,0.00905548508921991,-0.009722535034446743,0.018063458304428792,-0.08719900110934833,0.06802578525008812,0.01845017364026755,-0.054360837746055074,0.02370833696322417,-0.08411029871976099,0.05544420602258214,0.07532940036178452,-0.07924721581785008,0.08042010384853954,0.033563269502857776,0.04120428443298397,-0.08077278509423089,0.012469914921951587,-0.07235102565034074,0.01961985357334344,-0.026643125711647078,-0.08088372607987367,-0.04963041212083566,0.057823057255974177,-0.04613485454687353,-0.04950810919732031,0.05566204243826269,-0.08699469243592108,-0.0692138035866484,-0.08349850029812034,0.05554496807175553,-0.02920872414073663,0.02846256276164716,0.007703259919633899,-0.055755248508153984,-0.04932727480746316,-0.004015121708984308,0.009958270599763624,0.030141655265882195,-0.05566080630927042,-0.044646524822716666,-0.020748989471159066,-0.03327278464313139,0.019475851113686056,-0.030531789177769168,0.05866354046898277,0.046459545168791895,0.026957619707438422,-0.012813605600062674,-0.0030707378907263694,-0.009157052587500549,0.015596141250422333,-0.03863193549760835,-0.07355090809746592,-0.06327347978205071,0.003143225361995854,0.05372920842674719,-0.04846562023023504,0.03941907940339716,0.07576678509734072,-0.07179396085031123,0.0516210713583285,0.02763716470372338,-0.07569973388304278,-0.053500192489295856,-0.004876628288096442,0.0456746961396223,-0.009222745080207291,0.008158074472782441,0.05016292697052852,-0.04013466295841996,0.027652186294289213,0.04099162453811537,0.08162905329188638,-0.07531113495701762,0.0421365984307553,0.050125454285647915,0.06835957680313842,0.0852427939599499,0.03664095287860556,0.03440936080497124,0.05203657760302467,0.031448594986895576,0.0007886100138387592,-0.05161405933289063,-0.0816379615345782,-0.06473099631694848,0.03666155401217055,0.0049305973865575,-0.029680567114425252,0.058115671701371,-0.007185189423065531,-0.07328238787139055,0.012524553365529942,-0.025861770716015132,-0.03173592436889598,-0.0633650852071381,-0.052064402114644394,0.009840847031811775,-0.04792822085185063,-0.010562060479170713,0.0858713342111676,-0.04115444807814804,-0.042784266120934895,-0.0853363018408712,0.07254894512851]},{"id":"chunk-7db5cddc-144","content":"response = await self.http_client.get('https://example.com') response.raise_for_status() return f'Prompt: {response.text}' joke_agent = Agent('openai:gpt-4o', deps_type=MyDeps) @joke_agent.system_prompt async def get_system_prompt(ctx: RunContext[MyDeps]) -> str: return await ctx.deps.system_prompt_factory() # (2)! async def application_code(prompt: str) -> str: # (3)! ... ... # now deep within application code we call our agent async with httpx.AsyncClient() as client: app_deps = MyDeps('foobar', client) result = await joke_agent.run(prompt, deps=app_deps) # (4)! return result.data Define a method on the dependency to make the system prompt easier to customise. Call the system prompt factory from within the system prompt function. Application code that calls the agent, in a real application this might be an API endpoint. Call the agent from within the application code, in a real application this call might be deep within a call stack.","metadata":{"url":"https://ai.pydantic.dev","title":"PydanticAI","chunkIndex":144,"totalChunks":208},"embedding":[-0.020685580806084958,-0.08298492464702238,-0.06468094868868966,-0.07272096446558696,0.06926317711702484,-0.08690106736346027,-0.018077187913311813,-0.07159812639985336,0.03549706552913143,-0.08519312971484609,-0.028983881305672005,-0.08263908889696057,-0.010128024727169813,-0.005814040032861048,-0.04720357691383166,-0.0084026441471152,-0.07717325537751832,-0.08235112311549381,0.015072962744478764,-0.060166690756116845,-0.06659183012866733,-0.044824384441230304,0.0012842178726438533,0.04239157978556003,0.020451466246411778,-0.030671964567708446,0.059579138408026755,-0.005176540267066744,-0.015683871335150222,0.0349526320000904,-0.06373654361300424,-0.027270024412760444,-0.0761630612091055,-0.06214997070006708,0.04358711134430354,-0.0038706553031333164,-0.007702261670542525,-0.078139384956183,0.06886989740335794,-0.02324041685991279,0.08468985941520213,0.08293259820095031,0.034035085378559565,-0.024542313084375766,-0.06959924290023038,0.03704866420175373,-0.03495989439794613,0.031745537403462615,-0.05181787461369686,-0.001565754052448319,-0.005511453611911551,0.04112664214363228,0.001112293239912251,0.0021116347863392388,-0.03686202171075097,-0.037462822890486205,0.0795120736366154,0.06432549925000537,-0.053143293548653055,-0.01117022450985887,0.05359119965709638,0.07928925878774089,0.010662806221975654,-0.03374554856512785,0.041480147860910324,0.054321615371933335,0.052177457577431835,0.01888333129084612,-0.06726471675649247,0.06847568453643472,0.08181683560305757,-0.06623845229528076,0.08276811933515961,0.01792072776246547,-0.022907766883557966,-0.014871795402058106,0.018955010415972258,0.03350834189049019,-0.009217580980727938,-0.0006634055730092289,0.054716506321592084,-0.0736314913110057,0.057883839539476976,-0.08529918154112517,0.04881881571620312,-0.08659821193776907,0.014087356276484815,-0.04567245423331829,0.0500644231382059,-0.03564238289241805,-0.061432740560455674,0.07978085033205186,0.024803186928460827,0.033196005477703065,-0.042809832196640515,-0.03789086277840218,-0.044340251030767774,0.06671077147438616,-0.044152617329541254,0.0732207113323216,-0.08129047472358444,-0.013239271806762648,0.0036385197495195976,-0.01499991479921363,-0.05389045409506438,0.04076422246350702,0.0844214001697956,-0.07144319183411722,-0.026014837751588367,-0.00024322775679782983,-0.06183984284206674,0.013049572352863357,0.07119551208758872,0.045602401852458604,0.0807198763393287,-0.07266170671516603,0.06110953602073861,0.018946141585089754,0.025334283829662827,0.015591091468558702,-0.06225187625114355,0.06683013363007194,0.018830395211447516,-0.022126726491071242,0.05179021017745227,-0.07289846788037728,-0.06621315432003265,0.05483128299217419,-0.06043071012375904,-0.014480803585553849,-0.00605384837192111,0.0822605682954102,-0.01775380910587029,0.04908459741027551,0.03908378423631104,0.0795122778984282,-0.04965136591085704,0.009230960477938553,0.03561810565759216,0.03876167020732188,0.08085319137208224,-0.05650288433892251,-0.04817569553782219,0.06866095329743058,0.021027479156597688,-0.06809639624599147,-0.04595206036433526,-0.010218050483420319,-0.04569402881497568,-0.02763580289131868,0.0523856009604323,-0.0051553183119704745,0.0824850619938512,-0.024835018646189547,0.015235126864390066,0.023416670504059527,0.07823692848729949,0.0670045031176995,0.056397897767620685,-0.0162472868843729,-0.07190936323361888,0.03928542602178229,0.07359718696663742,0.05487379881512995,0.026372402375526103,0.04425327162816319,-0.03709143680920424,-0.06437397673582429,-0.021835608807085793,-0.08561300875421064,0.040234732626063426,0.05256114157174609,-0.05908445223312013,-0.0432617702136701,-0.02927849130455654,0.0011730090326813713,0.06850766610629337,-0.05596590874873759,-0.07328812539337057,0.03897296790046912,0.07337692881095646,-0.08170502921806463,0.0466821000937339,-0.07884107693459282,0.03538626776823301,-0.009556359534976243,-0.046416247769335714,-0.057643624319675145,0.028171630362036897,0.07032290677924316,-0.022112612644534672,0.012846334256997447,0.08320540248603936,0.04422503415058211,0.07932448834707481,-0.015399988875144712,0.021197697192249534,-0.01010146642974612,-0.05821678663483734,0.04834197613395907,-0.05505008490912664,-0.049679993626397176,0.009131755431546441,-0.06308343298681798,0.0411410005706726,0.08002514092033938,-0.05999763691879085,-0.08059348600354625,-0.06635809737922403,-0.02765756595293819,0.006919830160901366,0.05070091623252521,0.0027196645671343817,0.052933264181129765,0.0235222232886354,0.08658505220898059,0.06247498517596552,0.00751054834747561,-0.058639509036875204,0.05044476444002638,-0.046981323205575604,-0.0003132169864655939,-0.04085212740348567,-0.03390060509409332,0.044767920066563535,-0.07356755165501444,-0.018255493389708152,-0.042946820734443975,0.0011913280835802581,0.04233941983852404,-0.036525017675623966,0.03643337974310261,-0.06936878425958168,0.049614861483882305,0.08072335455847802,0.06385847581584567,-0.011068068760121893,0.07757562036626296,-0.01876505550275695,0.0661917288972872,-0.03236600637923297,0.053352042568430014,0.07357592765437071,0.08601433726704164,0.011113253605419808,0.03641542421343658,-0.06062656474528322,-0.030417665634704643,0.06010566070246155,-0.03229534505703564,-0.03430514237301409,-0.05119523809504867,0.006044239520758076,0.03216391081684637,-0.014017929918815248,-0.02208514437502635,-0.05455713207855548,-0.015674600700741143,0.05322250420769316,-0.013003476878263844,-0.034871744087740776,-0.03060012767894937,0.07702500284518522,0.04628430471562287,-0.022425645346347143,0.043561008334767774,-0.028978540567730315,0.04310573106810024,0.03836096448112731,0.025225252551409977,0.006623002949934846,-0.028763368171693147,-0.014070374786297664,-0.06608266996866038,-0.01631923734193705,-0.004612775598369684,0.06768199441076966,0.040665427133056424,-0.08049219911329149,-0.021902005726249014,0.024968432519205042,0.06786982887465198,-0.07714789742612692,0.05937021162620547,-0.07491046129928762,0.0005826427541543781,0.06875838204035097,-0.039922190821554654,-0.08106421043068908,-0.031249770291563502,0.02212276986189922,-0.08416684252152395,-0.006496442180061436,0.051823290313704536,-0.03141542243253786,-0.0403888790992855,0.06710329119370545,0.05615293337334508,0.08393258006067514,0.06943246213771506,-0.02506374050321534,0.047666148684371294,-0.049695558907269816,-0.06720605632209106,0.007277400377755112,0.02258755218924745,0.025585365316394444,-0.020760943931789223,-0.0390406900326067,0.07771959206321476,-0.028599735095056505,-0.0710260418312315,0.05344766289504274,0.03179532831217757,-0.061537302510201744,-0.03695092439061965,-0.0026342279133274287,0.02298176866721632,0.016216688669799893,-0.01327785233250238,0.08112807017411147,0.04014396015091306,0.023214371699862773,-0.06041355886641182,0.021517077213396824,0.01041108584565197,0.06889865234631601,-0.041600305537612625,0.07139726465432304,0.01543760672167207,-0.06589172401174588,0.017139706481765736,0.008074128285392293,-0.0859826975540451,0.0837966694441042,-0.041412377760815314,0.024148012310955962,-0.015797916626728917,-0.05914385955194484,-0.05719449961900328,-0.05948956937898162,0.051242113776351586,-0.038559174227884345,-0.02024985872059536,0.08528875390641479,0.058940986789931725,0.0590183272395594,-0.0712514378225955,0.02420481616309654,-0.0016366822142507638,-0.042117478299605556,0.014198362989558783,0.0708340645345266,-0.06998451413315651,-0.03058983223707264,-0.019910550828035868,-0.08522791763343655,-0.06243891386593625,-0.056753782011313966,-0.06799874377620131,0.043365308370202096,-0.030232187371129888,0.06293055167077273,0.003446088530309314,-0.03843400165321425,0.04488111585596606,0.049067987264645514,-0.04204629706831292,-0.01699467108105269,0.0747307002918129,0.060957291731148076,-0.06793993142222779,0.06141893355351888,-0.06695605448836821,0.025033772108354755,0.08051012795810887,-0.07937937805852997,0.0390147626474552,-0.049017411056826506,-0.06791035059490655,-0.013986493455796502,-0.06037838975254292,0.048971323601574496,0.06380796752114726]},{"id":"chunk-7db5cddc-145","content":"Note app_deps here will NOT be used when deps are overridden. (This example is complete, it can be run \"as is\") test_joke_app.pyfrom joke_app import MyDeps, application_code, joke_agent class TestMyDeps(MyDeps): # (1)! async def system_prompt_factory(self) -> str: return 'test prompt' async def test_application_code(): test_deps = TestMyDeps('test_key', None) # (2)! with joke_agent.override(deps=test_deps): # (3)! joke = await application_code('Tell me a joke.') # (4)! assert joke.startswith('Did you hear about the toothpaste scandal?') Define a subclass of MyDeps in tests to customise the system prompt factory. Create an instance of the test dependency, we don't need to pass an http_client here as it's not used. Override the dependencies of the agent for the duration of the with block, test_deps will be used when the agent is run. Now we can safely call our application code, the agent will use the overridden dependencies.","metadata":{"url":"https://ai.pydantic.dev","title":"PydanticAI","chunkIndex":145,"totalChunks":208},"embedding":[0.0354023321435168,-0.07308461639343512,-0.07879136911898772,0.08243960128513245,0.05637660109329917,0.07155734585628189,0.016645906669971813,-0.07160461331169397,-0.08101950177457727,0.043602801348338216,0.00250197138718036,-0.07466120990653677,-0.08568650266993826,0.06879902967774675,-0.015324671315747133,-0.0740291006829493,0.05592863229283537,0.030004438436214125,-0.08388764547226406,-0.07635645655134998,-0.05685887732918219,0.02001839865313383,-0.02460895425492192,-0.01709869849627006,-0.04581243869535676,0.0857330279236893,0.05721172397086024,0.06072886962526656,-0.05845821030839917,0.0669862688898753,-0.031580837536612776,-0.04130192941594765,-0.05451894527081543,-0.0665161033515658,-0.006895031147539637,-0.027665748824323915,-0.03110655185026399,0.0795350544658746,0.0021991431059725708,-0.07790985444680741,-0.052088126618032575,-0.02002139115014796,-0.029788215133941313,-0.019483353555758608,-0.046428623424293804,-0.06904068432131313,0.054271695063035065,-0.02758607545471791,-0.013889473910961066,0.08708369904857263,0.05638638577238662,-0.024735287068905862,0.05322808465579042,0.07858731110207683,0.05061650861687914,-0.06782283181205001,0.0614678068590775,0.05961942426487605,0.019021413259915944,-0.04585779302697985,0.026384637263564412,-0.009316628660151259,-0.030525441380714127,0.04361522711112742,-0.08048616578548169,0.06858765886242049,0.0028753726144302226,-0.0182866609931226,0.05406052160653674,-0.08189518828909796,-0.012046751740046272,0.010728683599992218,-0.010073090498093781,-0.053976255932435095,0.016986968820157072,0.019854694060016866,0.00809126760893678,-0.04984593907466515,-0.07801379865186744,0.011876933467063241,0.052679155282705926,-0.026848793046670014,0.032890475171585436,0.05500993925743524,-0.019600821178983444,0.006388058266193214,0.03787695315046934,0.008657011080405596,-0.020911686690148038,-0.07314256773310315,0.07118446116474783,0.06773522119372809,0.021804937487272826,-0.0023818999380604408,-0.08084930207048516,-0.007529794579481842,-0.004463112248202077,-0.07832064889205087,0.05501720329576102,0.06952426711436056,0.05650420981805523,-0.012359515220137444,-0.009586329379435531,-0.03706171637313899,-0.0035816017020995736,-0.05801148161738657,0.02727601947545966,0.04469366325266134,-0.019086973513439593,-0.03722263905428048,-0.07427955993966925,-0.006461469783996719,-0.07837162854253735,0.06952861001880538,-0.016594335339974602,0.0626098152812881,0.04125545178779238,0.034927914045657274,0.08559831094305008,-0.07890350196135114,-0.06556127047569411,0.00778562571792428,0.0031005249904780836,-0.05712670253280849,0.028292971969053674,0.06221859406418826,0.060245497522741165,0.017166004792957823,0.007197943688397736,-0.020528156391590526,0.025313965364907817,0.017574493410193646,-0.06900304387167129,0.08037929836276127,-0.03311834102269552,0.021657150000749484,-0.0023746299297552143,-0.015148228714099798,-0.04703668787374938,-0.0293984720601759,-0.08577674851110222,-0.07447047205414402,0.02466762324084701,-0.005584446986852568,0.07465248523099813,0.020028039568389923,0.06561933960824609,-0.04874362074668898,-0.026425738317590295,0.06867830687083036,-0.0835296134276443,-0.07972144701123357,-0.05775370718552061,0.04983213027316264,-0.07504638357067402,0.028108111679830565,-0.08711097272349032,0.00915732897565676,0.033890455620434225,0.03474782027576452,-0.0769119090570479,-0.007875582000589808,0.005878422998000719,0.01170088583383362,0.066533019097085,-0.07711764438081631,0.061304295782912736,-0.0507918598857492,0.07993571085460337,-0.0032521463501496814,0.07666568250890968,-0.025166521604593355,0.025934783719015773,0.08139658243896104,-0.05790329813134235,0.010951277029331932,-0.02079436886128955,0.030790416401096574,0.08745244828721502,0.014097346876162833,-0.0767406560190375,0.054838677645177525,-0.020824571254795927,0.07570881165826368,-0.022279077944445634,-0.08355159760089333,-0.0314027739220665,0.06580096054505434,-0.06003627354259784,-0.02714623313522279,0.060476681303550925,-0.08183483970434254,-0.034495658891872456,0.028946535923122345,-0.009646185090113595,0.014650369701046771,-0.030540970760895236,-0.024856737229301578,0.00624010848863259,-0.08035702964280887,0.032685199165777834,0.08350635838252356,-0.04579136449543279,-0.07884353445255196,-0.0103417165296164,0.002589835683109604,-0.03965953164796119,-0.06123696911285033,0.04430634988592737,0.03855734852227874,-0.07837395147829683,0.03934942602743529,0.04072291497940226,-0.04691227988548111,0.07444592991999534,-0.0811593192692888,0.034403840137235055,-0.03205615085584609,-0.026730592934216466,-0.007690583302003004,-0.05752395744728153,-0.056125393787905396,0.07712262851745083,0.04962315390190273,-0.016086671177982115,0.037993629391466534,-0.005521147098182595,-0.0527072699993554,0.0035768195205293104,0.07192203050276416,0.071401751458381,-0.05948337159354142,0.002826590314788584,0.013110722638088847,-0.03359264187127691,0.03840822341965277,-0.020033880368452845,0.007438824622076573,0.07554491610721034,-0.030046864506876908,0.0530277640978504,0.0862756289360391,-0.00011881395334139228,0.028863483814987687,-0.06529712671242331,-0.06307401788822198,0.08565667664041787,0.0669928272901227,0.06885192534041237,0.07583583107748622,-0.04412632289386538,0.05122224681815656,0.034138963294623174,-0.003987043980194181,-0.06422400417107439,0.0463456337930093,-0.08080817752162293,-0.06808812811896807,0.045776981631017614,0.015578434923436935,0.03056747093592942,-0.0029693990758498127,-0.047165966259880204,-0.034990265412574106,-0.00956204247551061,-0.014572614760335171,-0.06872453578968711,-0.04254981199327056,0.013800037151325528,-0.059903128721869585,-0.0045961907164848775,-0.07316997320726204,-0.015037118525936874,0.043095232701707106,-0.008772515945197984,-0.022691783268752576,0.08694815933636528,-0.0432968800347295,-0.04958087784971173,-0.03960855399718468,0.02482001861293951,0.013236859379376964,-0.0015062408678351905,-0.04528087904553065,0.007963142515705977,0.02894297723914855,0.08732202860093713,0.014463922809642732,-0.02551082731276168,-0.08437139164074707,0.06750699901776143,-0.059963429221645055,-0.011284044423106201,0.04590617159917722,-0.0007555909804520759,-0.004163139902556785,0.026849099990737587,-0.03693422172830114,-0.07087352374596112,-0.021170480207128042,0.07480191305217107,-0.06627805783718814,-0.017252131111390925,0.08049325655040711,0.012556889439359132,0.00018445891903592983,0.06576015186297579,-0.06774923294216886,-0.0584218407756666,-0.029747433014621,-0.003546868168997182,-0.08204947216203408,0.022645045350553037,-0.05770772886960535,-0.021679970481822384,0.0047571713557752505,-0.08482501906770354,0.007790251030164536,-0.08721228339695408,0.008305928514609618,0.015863854922722676,-0.029538090641687227,0.004102033630439291,0.034705723542553,-0.0674762874956107,0.0553587697837984,-0.06351229804491941,-0.03814185782864336,0.00032256486951842234,-0.024468484805278308,-0.07636624622743778,0.061631964490773884,-0.01907161891681659,0.01467094066131901,0.06553356996388404,0.06122718079815512,-0.07153631252118056,-0.07761981997805747,-0.07840918884030536,-0.05429253623252077,0.01319909920119591,-0.06786381470632956,0.07822778934567756,0.021015412847251176,-0.010590294309857102,-0.04115263823843026,0.05285161336359396,-0.0709033663803429,-0.021327250052203,-0.015445607571111906,-0.02953412745324265,0.07257098418399816,-0.03474478216738996,0.06417818618136326,-0.08266121255631399,-0.06385847772873918,0.020180523906230118,0.0500791083824761,-0.06056211016295564,-0.004023422557153003,-0.03686175081328037,-0.03150686519583456,0.020850197950912714,0.04103500499538849,-0.036055817604898864,0.045637830829522046,-0.056368903444610666,0.08560454663986167,0.06214252160957981,-0.03274691941573649,0.06664438864913141,-0.015836995441403715,0.02070348127132819,-0.07691200138305702,0.04153728783697317,0.004529548003298363,-0.041746544536987784,0.053458748933881736,0.07000206555820189,0.07413026643969177,0.06746720216101414,0.06587295437397771,0.08043362417619093,0.0737680047106366]},{"id":"chunk-7db5cddc-146","content":"Examples The following examples demonstrate how to use dependencies in PydanticAI: Weather Agent SQL Generation RAG Version Notice This documentation is ahead of the last release by 2 commits. You may see documentation for features not yet supported in the latest release v0.0.27 2025-02-26. Function Tools Function tools provide a mechanism for models to retrieve extra information to help them generate a response. They're useful when it is impractical or impossible to put all the context an agent might need into the system prompt, or when you want to make agents' behavior more deterministic or reliable by deferring some of the logic required to generate a response to another (not necessarily AI-powered) tool. Function tools vs. RAG Function tools are basically the \"R\" of RAG (Retrieval-Augmented Generation) — they augment what the model can do by letting it request extra information.","metadata":{"url":"https://ai.pydantic.dev","title":"PydanticAI","chunkIndex":146,"totalChunks":208},"embedding":[-0.07879392976683385,0.07624696805987437,-0.06739929777177386,0.05757062746841542,0.04164590455436332,0.022944060187957468,0.07406486736542787,-0.021467249348103564,0.03904106070508616,0.027663307674016265,-0.08777651678638235,0.047184029364598666,0.0507504910082607,0.04242620260966,0.06230294564490263,0.022584375130887093,-0.07707617691134078,-0.053948215425467044,-0.01744026355581985,-0.017847869634050145,0.06356619610975082,-0.055698540204845194,0.07269167391271879,-0.012629113437580742,0.023125632723135288,0.043086619556101824,-0.013921854476153649,0.01972244926460299,0.007197851804175626,-0.06889403382778214,0.026051384686205156,-0.05737961780548139,-0.007212163066451762,-0.004090572904924211,0.05714925813723442,0.0005207051252817256,-0.0440849666190171,0.0077383431828831435,-0.06779313609110971,-0.05675314958398124,-0.01665467078349896,-0.07214280648729297,0.03535993355963927,-0.03392261815526812,0.0286783527418147,-0.012723502810949552,-0.04694077293181819,-0.07978200387313236,-0.052400084578051925,0.0219149273079466,0.041236486028416015,0.02512786334014769,-0.014171275969115191,-0.061378705065975876,0.05476072122506871,0.07237836267729555,0.0027502027509512007,0.012305113602010366,0.07996959352032697,-0.0495408900003176,-0.029649490507130994,-0.05456780128658311,0.08148446130098443,0.06575966971610978,0.08244545003081181,0.07416905101823743,-0.048526092631610694,-0.0002599744560634215,-0.03802190555963214,0.05143829667702554,-0.018585877949876498,0.02891541400496921,-0.04241668545831117,-0.022766370856743295,-0.07553442963639574,-0.0241905435035274,-0.055306192936527616,-0.07552163459125182,-0.05342791117250349,-0.0803103819442644,0.005271664948268605,-0.07419627933606436,0.017058056597312105,0.0367209770289235,-0.00005530675274995145,0.03786452716630273,-0.06562646263095354,-0.06618082784786657,-0.014127946714290985,0.051661170621736564,0.057025921937359364,0.04301663520645821,0.05116641882679171,0.0026167498055724944,-0.004800568639745282,0.06154803982129931,0.06812227320813084,-0.03632937897020895,0.00927552224064878,0.01279013272987149,-0.08213637287421845,0.02710709561500964,-0.03524945410824425,0.013080979525852585,-0.06950771708327144,-0.06593894071736234,-0.0530205527917658,-0.06378523476322567,-0.08555387646678816,0.011101797159002476,-0.015547384067495762,0.03423170313580418,-0.011144141114420934,-0.028845567271845816,-0.045421628059423506,0.06027316722296628,-0.07424937846490617,0.034582274057788756,0.03553941721166451,0.06594500890950636,0.08291447147799642,-0.059249166563953605,0.05354953746734001,-0.02792510278002617,0.009369153303386748,0.05586573167309374,0.010473948747594209,-0.0331440143000428,0.07893727671461925,0.012854395812341329,0.019213665030579214,-0.08588367494965447,-0.039218581740956354,-0.08151132293059053,0.07725868967489466,0.08291436789021754,0.0014208245714881387,-0.04276777101388272,-0.07317747156328089,0.08574338905573566,-0.058770594649161886,-0.06346948205179369,-0.04505294809825473,0.03834713469087844,-0.037830091850242595,0.08219961490451524,0.07297325556407906,0.04437781706629453,-0.015049318887633384,0.08427518655686347,-0.07889115224034028,-0.06172037843937278,-0.08667720762488602,-0.05993075740510144,0.0035815390181766593,-0.08574038364961874,-0.08064833727010283,-0.030475202930128266,0.08077744922883522,-0.05413985571078575,-0.079199743248299,-0.07068686561031545,0.0006879179193548829,0.027718448386912425,0.05254761277257272,0.050671882457721903,0.03619135909227093,-0.013571251002199195,-0.03658696266095813,0.03657871889677061,0.08253100691979931,-0.08699603575756717,0.0540805007104315,0.03541537586652999,-0.0639583865372968,0.07357849699144381,-0.054298847799116194,-0.05976448357984748,0.02240094592259651,0.048383165194487036,-0.025321253984984925,0.053646231236098636,0.0028408752944264356,-0.07997104502933446,-0.03620482083397168,0.04248983505195706,0.07079196521111422,-0.03276806339112829,-0.049845559078135766,-0.0027013847149283243,0.057898816315883214,0.05409145075104678,-0.03642085944318042,0.04083804065421851,-0.005705583697654912,0.0652321249636386,0.08138975611797693,0.04609852187961252,0.01651274639565938,-0.009521973334140139,-0.0794133847945691,0.03812052011492634,0.007977791285020163,0.04525409075393659,-0.04823081428658527,0.01483056340812337,-0.011380952161388845,0.027469766447777433,0.026266568083728105,0.08451831982504969,0.0800037135339689,-0.032845805755757386,0.03826343796422803,0.03400126858349921,0.051837978759776825,0.054677264247851284,-0.0650314910304206,-0.06359740829775598,0.03406766794106271,0.05134666305888864,-0.06696698944853674,-0.057862518672215396,0.07697891042933339,-0.05219186510195652,-0.02872087240609457,-0.067768442401416,0.03844615087396511,-0.08569798193806194,-0.03282943657496111,-0.06061682350285598,0.008250865650153202,-0.030899523938751873,0.047928626902834115,-0.05611754380363503,-0.07545449480419293,0.051970472512986234,0.04769793565090752,-0.02423407315220901,-0.01887731435627547,-0.0411320500404383,0.06952031286739965,-0.01314106472183771,0.03079006211352324,0.0859569907250192,-0.016199614919746082,-0.00720326520823136,0.08753509841873072,0.01491431852672651,0.0276280234681585,-0.05884777500663563,-0.007880723388640602,0.05577796894006667,0.0011044980410475772,0.04850515938405675,0.018865234737269043,-0.0815004895910112,0.053024073339249786,0.03838255244396664,-0.08704982195976568,0.04413480485948048,0.082833339281503,0.07395651899222029,-0.04088157078929453,0.013921084267567236,-0.08471181918975042,-0.07459395649681991,0.07398633956288679,-0.034710928153412306,-0.00861168334276329,-0.0635192969097492,0.024701970911904132,0.0670217413657307,-0.041373093137374174,-0.011782811676418389,-0.05398758201543831,0.03767145275681921,0.07001619926376826,-0.08221926581046193,0.029687209884058027,0.047767183047678526,0.06687573787154351,0.06091664846879722,0.04776051358624601,-0.03567230533705076,0.05616687181412368,-0.05251589039032892,0.05384670039605499,0.023595247279375814,-0.07564605400586862,0.0011077245201394053,-0.03223901134267313,0.03880842396002246,-0.018525954696267992,0.06134200847168352,0.0038600068161740407,-0.07253597158360078,-0.02574050542635025,-0.05102050425132279,0.038240708534029326,0.02036107825003158,0.00245638879998808,0.03996956144191557,0.012175368981978133,0.06120592913399804,-0.020087338755332786,-0.07293248674571212,0.06007104172695258,-0.0480524889491903,0.06089380745061492,0.06722797405928792,0.022294303340181534,-0.0667746759023753,0.03500001133256925,0.058183331770890724,-0.04725748959998261,0.025209653331796505,-0.05445051858828587,0.022538366842393964,0.06259991016912854,-0.00927170301321958,0.006768788101446565,-0.08502023208873434,0.027026741601964287,0.05123453561101382,0.026340466163621234,-0.05942179051726516,0.00874139089716706,0.07527383937239093,0.044143411123772326,-0.06264763764044971,-0.08280124184771673,-0.02227102022745501,0.08494905734745264,0.05489697443788309,0.00035644722393888157,-0.05061116067560419,-0.0020590686633624555,0.02507614807519466,0.016399870623229087,-0.015189465749419576,-0.056904541021587395,-0.031777306719884664,-0.02803866702407717,-0.07493461279288303,0.056981198531612466,0.029010162218522283,-0.007249640931605506,-0.06573174762477119,-0.012511467440513789,0.029419761846770656,-0.017579374830902345,0.03182847081946491,0.010978591554667452,0.017548198031368343,-0.06915577266309936,0.03552993427869008,-0.07386891554742651,-0.06257115027828855,-0.010420539969869736,-0.03652903255938411,-0.06456483221150502,0.05164684049728666,0.008957867074150224,-0.002466286693430153,0.0243689440704841,-0.06837614408094086,-0.07798076101404955,0.07212307961230957,-0.06882652945037812,-0.03790065315095819,0.03018518151576105,-0.06610726736103041,0.03642877413712583,-0.03411205927301806,-0.02034036687219921,-0.05328025776370048,-0.07080236892604205,-0.02970027249105745,0.009782551159431366,-0.06919304246992625,0.08578346534887535,0.009272066722394567,0.022187061790392176,0.042739546870975864]},{"id":"chunk-7db5cddc-147","content":"The main semantic difference between PydanticAI Tools and RAG is RAG is synonymous with vector search, while PydanticAI tools are more general-purpose. (Note: we may add support for vector search functionality in the future, particularly an API for generating embeddings. See #58) There are a number of ways to register tools with an agent: via the @agent.tool decorator — for tools that need access to the agent context via the @agent.tool_plain decorator — for tools that do not need access to the agent context via the tools keyword argument to Agent which can take either plain functions, or instances of Tool @agent.tool is considered the default decorator since in the majority of cases tools will need access to the agent context. Here's an example using both: dice_game.pyimport random from pydantic_ai import Agent, RunContext agent = Agent( 'google-gla:gemini-1.5-flash', # (1)! deps_type=str, # (2)!","metadata":{"url":"https://ai.pydantic.dev","title":"PydanticAI","chunkIndex":147,"totalChunks":208},"embedding":[0.012841246358487601,-0.01506144749852563,0.0006755824531359636,-0.03664588894732559,0.07898521663088248,0.03998251230591016,0.049661871762055165,-0.05382259669425706,0.08487388913020136,-0.018428293389080107,-0.04440929133710991,-0.07142282575319671,-0.08213922021587425,-0.006774270885377832,-0.012735149622339289,-0.01517015609008774,0.08263656852553906,-0.011475613328239345,0.08137311237895611,-0.05741519493117233,-0.00828737383235957,-0.012352956181428777,-0.012446167818858982,-0.056782922319629454,-0.08763071452869968,0.04531989760563666,-0.020142821683481898,0.003771605327890837,-0.07773651363452726,0.05157934305526512,-0.042264754548293565,0.04038650052558895,0.08220531134672462,0.06754728332392843,-0.0535622396833309,0.06170615198800084,0.044908246814820724,0.003038538941601649,-0.04848224364114633,0.04043261822165503,0.007694020477286779,-0.026135395719828255,0.03198696063496028,0.07822619285671881,0.062162045228341054,0.012948307046060726,-0.0005283541162684688,0.06390508741085106,0.08664820963111847,-0.02997332436952095,-0.0005694245219859113,-0.004675219277393136,-0.03715227923012052,0.030388250688685028,0.017014230293587257,-0.008345051446592621,-0.06513420040765497,-0.07825043091243698,0.02734915446833581,0.0692729469347714,-0.025071936037548655,0.019304064826455664,0.03848150968218129,-0.024313077674560347,0.01860801119108189,0.05590206984185269,0.015669453959483874,-0.031286907781318346,0.08540460368129119,0.06266432825370519,0.07636852359407703,0.039842090660906035,0.008872391550381515,-0.0872608778348375,-0.02497748068130188,-0.01763792514430954,-0.07587861656514615,0.07211371656702702,0.08490918207337371,0.05637805012698244,-0.027917709624022118,-0.025700475365915822,-0.039287213031491616,0.010382743835071252,-0.04156149501693241,0.03190730384195727,0.03284219643487377,-0.03690559379265572,-0.04435944108909384,-0.06467729302654236,0.011398728434394337,-0.07005637001531062,0.062056009573548496,-0.034598629685137765,0.052050945726397235,0.047441789903331956,0.052674289819119584,-0.07773423486757101,-0.08299358850301157,-0.08281788315135341,-0.0067744446710453566,0.003950918728800759,-0.04214769522038533,0.04451264691561139,0.06452484104603634,0.04672012977742418,0.00037971821247473873,0.0030479375350252543,-0.008332098417602235,0.04316209943322703,0.0243776110498857,-0.08009448470768153,0.06322779091991194,-0.04235417127543174,0.030136224373879892,0.01546485092620327,-0.004263763353556072,-0.05342790942096972,-0.047129715555494126,0.07766378042315662,-0.07167993327771452,0.04159492723076198,0.008904131955016676,0.07438134239440243,0.004618025852771926,0.05036405373404074,-0.05076389670916948,-0.012481831697381344,0.08622657026060515,-0.08025841380970604,0.0841855084939475,-0.07587871459044017,0.043816408635110965,-0.06519314914039905,0.046280411928709936,-0.0791541096501002,0.0008301184508782696,0.01633624786423937,0.0241749827631788,-0.07154730738211663,0.009537929632524792,0.018737645629569994,0.008159130671313181,0.05041370681795283,0.08487112903392141,0.063024054503654,-0.03559602538908201,-0.08067088714243356,-0.0018834965132067,0.06310201183803278,-0.04224794693757717,0.022271848311630593,-0.0823811489790957,-0.0409081200943475,0.017395520291114238,-0.03168494464376735,0.013187091561669993,0.07963759606741014,0.022785109525389768,-0.05958067648538588,0.06613512614802676,-0.02726569850933292,0.058904385398467735,-0.0351822390692096,-0.08053635657321251,-0.014893981592207409,0.08077876429281905,-0.061902399874861166,-0.043158158659640074,0.04532278684760804,-0.08385256493155145,-0.020436443467298605,0.046008566870519706,-0.005983784901827425,0.0020585599017849737,-0.04834171086127478,-0.031284169270457206,0.017119623049675858,-0.06323552949460388,0.04150061857324921,0.07560556799167574,-0.0641250659264943,0.08692818438128297,-0.004047742179087603,0.020170484176878414,-0.027456806487248075,-0.06578113979109239,0.027865198733351443,0.024665600596029603,-0.07766293440258329,0.05555243401891119,0.05676016973117642,-0.04627469969008223,0.060671556085009494,0.07850838334489844,0.03113176703585822,-0.019518166417579724,-0.00950839523103952,-0.0017212491652174146,-0.0690163166765856,-0.07452913206874291,0.0694893161190203,0.05892577385619326,0.001669438491867677,0.04887471473301829,-0.0121137386523192,-0.0707953469599638,-0.008854632002626771,0.07672227996908505,-0.08817424664340116,-0.045887087536657295,0.0012405015529991432,-0.0026685216380556587,-0.04948406257501214,0.03784846371606314,-0.005650055933086556,0.024182294740148914,0.07970464167130499,-0.04328449549946899,0.036091554527130025,0.08120172913070187,0.010951901457739353,0.04699425077174988,-0.05769236883614261,-0.0726421160305991,0.06855255278165369,0.057236983279947674,0.07619305613223384,-0.08299475946926088,-0.03219430313285367,0.047436179912290974,0.017495690826541697,-0.018087612786903445,-0.06306247194713474,0.06276187093972749,-0.0660817269135901,-0.06796859809500226,0.03154545989725377,-0.0008874227171031857,0.027570618722311722,0.010064253997979094,-0.030211946970500402,-0.029579890106313754,-0.020849096692185667,-0.03255209667892757,-0.07745964350050422,-0.03384686676841082,0.03185470658638797,-0.05020982264029279,-0.01147463771780892,0.08565682052513869,-0.02741493895731597,0.04793032917086594,0.008162293145809804,-0.008943479301842392,0.08584434256222129,-0.0597557323405709,-0.06546401441440773,-0.04059139377893787,0.03981228297070007,0.029915654457126527,0.0016101753891297871,-0.05888068857235769,-0.009323704127969238,0.023625851294283916,-0.0776980504768712,0.03242529996620604,-0.01781198877573443,0.08275346798040435,0.050218498912336935,-0.07066356009644048,-0.004409769971143736,0.06401699036406296,0.011355794616343637,-0.008782481966963266,0.010036328951449314,-0.051148134122362084,-0.06945940250119081,-0.005253085964075838,-0.08632605067308682,-0.066458699020076,-0.032262256552984266,0.06476568375764143,0.009701785670953303,0.013463603819622513,0.08370603860012432,-0.06295142050775279,-0.07041884573548274,-0.04783536924120441,-0.01137877282450565,-0.07344922590537303,0.0407929878221676,-0.04825561937725265,-0.0290130202343011,-0.012899217126433325,0.07953763796159158,0.012597334379010443,-0.07092415530043564,0.022146896945199737,0.013770128811192463,-0.04600569606806911,-0.011106862487481583,0.034745499862403245,-0.05318165895443989,0.07231238831766476,-0.061297405640368785,-0.05188741549011174,-0.0169543520276228,-0.029989875414236148,-0.06552646354154533,0.08000259584144757,-0.011597626820066003,0.005296358834734432,0.04821981258588547,0.051940663185190424,-0.06494240102312068,-0.06062990318654096,-0.06727066408209942,-0.059693842858754696,-0.0038381746066368794,-0.08216758078071092,0.08137180274234931,0.03746990168398817,0.004472822752014414,-0.04141234616536269,0.038330866477334656,-0.08794011745152132,-0.024190301297754027,-0.002103376919564861,-0.012577654997912018,0.07839691867186904,-0.046759832294982685,0.04702265588209787,0.08621192223656113,-0.05481642912854816,0.03830880066141458,0.06028887005594575,-0.06855437895823514,-0.021811622343239755,-0.04897471450983997,-0.026767160581644342,0.038256045912967405,0.05498075440456963,-0.038956891946457094,0.02974934702140443,-0.07198201399462897,0.08644483493295778,0.07784063980552698,-0.016759386738695363,0.0697803526448319,-0.02958019473352662,0.003707812052967743,-0.08262681404417561,0.05373678637828326,0.022314412371354113,-0.034776068823792416,0.044184551580768706,0.05272980059106927,0.06523288807422252,0.0756692575273753,0.0842702192157647,-0.08432887856927752,0.06927715185160138,-0.03350661874763373,0.05848144749943637,0.03632364400082429,0.022632283842380994,0.03750158295408756,0.007329176114252475,0.057972420033393084,0.06349885388959534,-0.07564962521534674,-0.02930296130810483,0.044743042608234945,0.043026246798858254,0.0437910692454733,0.06510736131058263,0.03394912587766601,0.027264712834800378,0.03423024317040452,-0.07350648373957103,0.04308473807644357,0.04920612146228235,-0.06512604097964517]},{"id":"chunk-7db5cddc-148","content":"system_prompt=( \"You're a dice game, you should roll the die and see if the number \" \"you get back matches the user's guess. If so, tell them they're a winner. \" \"Use the player's name in the response.\" ), ) @agent.tool_plain # (3)! def roll_die() -> str: \"\"\"Roll a six-sided die and return the result.\"\"\" return str(random.randint(1, 6)) @agent.tool # (4)! def get_player_name(ctx: RunContext[str]) -> str: \"\"\"Get the player's name.\"\"\" return ctx.deps dice_result = agent.run_sync('My guess is 4', deps='Anne') # (5)! print(dice_result.data) #> Congratulations Anne, you guessed correctly! You're a winner! This is a pretty simple task, so we can use the fast and cheap Gemini flash model. We pass the user's name as the dependency, to keep things simple we use just the name as a string as the dependency. This tool doesn't need any context, it just returns a random number. You could probably use a dynamic system prompt in this case.","metadata":{"url":"https://ai.pydantic.dev","title":"PydanticAI","chunkIndex":148,"totalChunks":208},"embedding":[0.011239471834237862,-0.034820098339560665,0.035901370966197534,0.0647411865184446,-0.04855533894503433,-0.012352881651702912,0.016618839684308016,-0.009571685698028055,-0.04307883053113387,0.03970147487053712,-0.005230059137550424,-0.05897374495197753,0.08193642433528413,0.012180668787612,0.08584159452537003,0.021666521713944856,-0.04107161331019626,-0.04906589516736197,0.059130225918203855,-0.06512436764071054,-0.010442550928983918,-0.03660921572872384,0.04265134365102549,0.04469652069897378,-0.0849750442980776,-0.020446496192015974,-0.00675095958858827,-0.07999531913726463,0.0740240532769264,0.023303407023854403,-0.0502915972242154,0.04791069522162582,-0.016624942993331636,-0.014419948044683134,0.05068912636603547,0.02796319831304715,-0.06878627443116103,-0.060496863687520275,0.008629972765321658,-0.004365311903987614,-0.06145469632836908,0.031815288681066964,-0.029531852157168297,0.012308138755690866,-0.037045498858120904,0.08430434220212986,0.045804547600092074,-0.06484996021240083,-0.07282421403075749,0.06759174515882144,0.03583821968163907,-0.08766806755604452,0.08167524772279022,0.0413594527971959,-0.08044494987770207,-0.03876052239002928,-0.02234746212715502,0.03917643654545328,0.006694786377012677,-0.042208955484202594,-0.069683161115689,-0.08051720782555333,0.0078115445860098935,0.07932864647373913,0.030763637285573707,0.08552520666081374,-0.02917736425400304,0.005297386245563791,0.08255972788481583,0.013513402357371362,-0.07002702485561814,0.04873604383555386,0.010207961213086298,0.023351331040283262,-0.050383173831426514,0.05136584144540226,-0.060547288362293394,0.03915966635486471,0.010626871139887417,-0.03557393652666151,-0.07801267065722833,-0.06999014321452975,0.04633210807046352,-0.05412722480775926,-0.07815872536003608,0.08830242188145562,0.006775311982647831,-0.07701346346671185,-0.021686090116894385,0.044283302996403026,0.05656347654202427,-0.005543634093000631,0.07734737567086722,-0.08933340125222537,-0.032121176700288225,-0.008686832388153813,-0.04428267107937926,0.0303116892235198,0.08132227357729899,0.013768936077551898,-0.014295394712286955,-0.0379858580531924,-0.07528181869337228,0.03825663288843975,0.06051070911970826,0.050874330898909616,-0.08399834501826876,0.0027701912052969136,-0.08312408447155119,-0.03890745884737211,0.009706145014850823,-0.05436368040605943,0.07424625069827176,0.0421181169340935,0.051171954355166825,0.053356548468530295,0.028680842938746773,0.043199381693837136,0.024210433778969233,0.07248512070803464,0.018752070343938304,0.058237407948358515,0.03211986845827773,0.0019076912158193927,-0.08287387352745201,-0.04020708740221688,-0.0711213371548788,-0.08876746942158432,-0.058944679220361375,0.004075811404380072,0.01951379366100755,0.08448830087849445,0.06622304824266367,0.02506904590383507,0.060497475390817096,0.05440812219179912,0.04180877400403792,0.06004630372682536,0.0013316375328697209,0.05239499853616118,-0.06893513978245001,-0.0033572149919791697,-0.061479406636105176,-0.07579371364603837,-0.06286601891257274,-0.0342427861494251,0.01561824322043476,0.07463649690672015,-0.015397693072317663,-0.01077710370168827,-0.028317407978015467,0.07098776884253138,0.005175592228712879,-0.0608042588411506,-0.028383383424102942,0.04348622563297654,0.07663942361518133,0.07477319575450626,0.001635812680489359,-0.07291594373138806,-0.059132780322497816,0.07908674172603622,0.00036285857290807686,-0.057638168756689936,0.04747282621505622,0.03832419694043356,-0.07352038443637386,-0.04458687331912426,-0.08017415004831935,0.03848163775163499,0.02111729616293724,0.0686944753482126,-0.013008936639660386,-0.05014482377353866,0.009127910974257506,-0.031064044339333397,0.056689547142324444,0.027620251337495075,0.049815923031235804,-0.07319089754459716,-0.0029635652889421237,-0.013880018891742238,-0.03288202079516949,-0.07956210298331717,0.0019535745256817746,-0.06955556991660043,0.022664145023992832,0.054756625088587405,0.02063765368947106,0.05651270457542144,-0.08152165206860554,0.057280568253399874,0.05308034816847949,-0.08472792847306924,0.005264357740684759,-0.06560830607109981,-0.06250724242372749,0.01121169902221034,0.026586845668302165,-0.05966203091091563,-0.0812350209804711,-0.05799206571285561,-0.0375594308593697,0.020647221388625108,-0.08413718965719921,-0.051403260938933895,0.06272855014659626,0.028537463332453637,0.030481351176337934,-0.025224943668121183,0.04145824630236981,-0.002276301438036331,-0.06655202039469085,-0.0030728658459196144,-0.02750186421178102,0.058610017554902055,0.050387710769334425,-0.08235603516886693,-0.023762654912012782,-0.057366427940273676,-0.04154155851931479,0.052720662496421246,0.01662070108038667,-0.04002129031309131,-0.05914112314744104,0.05349749426134727,0.05376222121484013,-0.04340449113558576,-0.01634175839565111,0.0006374532185053659,-0.028674624898416552,0.05250444570986788,0.067289371137761,0.06142937605427671,-0.012507576659634352,-0.02350042028499783,0.0800995827750701,0.00993741045150465,0.02603886310301382,-0.04143587155305863,0.07075800759980728,-0.010387106981980681,-0.012905347596223533,-0.006866739758774505,-0.033788252832815495,0.010748224351518045,-0.06432805886648316,-0.030626012151951324,-0.056019255377194634,0.005933752946382168,0.038465167305104436,-0.01673401699544499,-0.027509773718929355,0.041609512244243724,0.009519016467402285,-0.05587686748534065,-0.038481311342449497,0.023656075198363893,-0.031195830406584264,0.05761575034641813,-0.056895983985021645,0.07836975052667744,-0.0783630539604054,0.01433144005276916,-0.04099057040788629,-0.07784010491284786,-0.04709133097964622,-0.034158791708929485,0.05009525464964963,-0.0883632380055364,-0.08670597232054193,-0.014600115888960869,0.04895135299618423,0.018518089910029373,-0.04131190050648036,-0.0776741734756668,0.08699337491038162,-0.013666281002985817,0.04023341603177323,0.00138704629902039,0.05875877535037611,-0.08215105340135612,0.04335807141261918,-0.02747602046300255,0.046451108469388915,0.044426950478103314,0.023341387886223443,0.02253226040846003,0.04821549648268916,-0.06741896926236189,-0.07675636452207285,-0.055073593397528146,0.015573543346228248,0.06901062194278187,-0.06631146089426879,-0.00475665521755222,0.056875709540541254,0.05505626396933066,-0.0004279813896895835,-0.03232482204740447,0.007727738692199725,-0.05040811514644128,0.016873284474824606,0.06335835719905925,0.013396976850913237,0.06661092579081662,0.025115428316245296,0.014042270892298312,0.0669162697775301,-0.005990974714813145,0.029393116914591726,-0.06479559631853096,-0.034719794491481146,-0.07460690779629116,-0.08702206302847987,0.010036205541956998,0.012829238203240426,-0.025782085879406523,-0.019726822658463376,0.026886902639580195,-0.08915659323595967,0.01572812696959436,0.07293020066788598,-0.05663452099095828,-0.017716076771894088,-0.0009169048874232553,0.06663106756833094,-0.01599977807353956,0.0423338856895994,-0.012036375837661617,-0.05202114386022026,0.028189523865411986,-0.005886756640145889,0.07430305764577964,-0.07310325130979572,-0.05997290028603638,-0.05778280283332722,-0.04409349786727845,-0.06652925173863164,0.07432861772317699,-0.06959947093789898,0.010011569956004607,0.0017015086286367778,0.06276857762047909,0.07592732334375914,-0.03667253674904799,-0.05540387652332362,0.07331429407572695,0.07301110757075979,0.05351280956564987,-0.06982071173228499,-0.049323681242591615,-0.06697485123164153,-0.08911215869959364,0.05904947157091593,0.03776252295510114,0.042397035401275256,-0.07671569262389323,0.062396676880678285,0.03352284584310953,0.047789781549636555,0.03670693087297526,0.031758859388508226,0.013728622185425426,0.08521432561386394,-0.023667718709515062,0.08164981712581304,-0.02853477832094405,0.02284932399590839,0.07742927587986746,-0.07349783525005109,0.0006105311342008571,0.05717477670827901,-0.009906648953044732,-0.06861223429439203,0.00993516142998273,-0.009021414437739218,0.08736632112254528,-0.05180077864569206,-0.05271951437627963,0.07198995529983047,0.021324673210333205,0.04420028217955374,0.05154089575616246]},{"id":"chunk-7db5cddc-149","content":"This tool needs the player's name, so it uses RunContext to access dependencies which are just the player's name in this case. Run the agent, passing the player's name as the dependency. (This example is complete, it can be run \"as is\") Let's print the messages from that game to see what happened: dice_game_messages.pyfrom dice_game import dice_result print(dice_result.all_messages()) \"\"\" [ ModelRequest( parts=[ SystemPromptPart( content=\"You're a dice game, you should roll the die and see if the number you get back matches the user's guess. If so, tell them they're a winner.","metadata":{"url":"https://ai.pydantic.dev","title":"PydanticAI","chunkIndex":149,"totalChunks":208},"embedding":[-0.05078531708055189,0.07846913858541958,0.04360967626963724,0.019516784385890506,-0.002974688019309287,-0.07313311112289884,-0.06627590158914055,-0.008130274805330589,-0.08745391925716618,0.06910897696776727,0.02086311434836369,-0.04444534857582899,-0.03170511613705442,0.04099615263461454,-0.0747490313805149,-0.0165955324059952,0.07269246123887063,0.08196562442644587,-0.06055263233673621,0.029402944462304265,0.030077003666925534,0.05797713418002333,-0.03870598754171302,0.08727545129741895,-0.05704581373734459,-0.06999254540419486,-0.05475128257355894,-0.00748233287501984,-0.058319283538691445,-0.014903562220469485,0.05737065289252154,0.010786398436038448,-0.08498229492552967,0.07400180043430524,0.04423156056389763,0.06603695637391647,-0.0641786625591993,0.029792166092116074,0.029297562181141323,-0.03614938219358337,-0.07815464464712234,-0.08184431952016054,-0.0032757640038497964,-0.07447687297949998,-0.019847792005978398,0.05636627360738916,0.003607012726011058,-0.0685212197549362,-0.010499679209145272,-0.03409321005064588,-0.004439815777691469,-0.02795643492696855,-0.07505827331274066,-0.062038297530364384,0.049533562045478055,-0.06150420222723379,0.0738826262076138,-0.08832432959709781,-0.014248714623578676,0.022714883278585337,-0.021223884398317353,0.029193717306531836,-0.043871016017740384,0.006338057917820216,-0.06497333438202889,0.010215511020319439,0.0469496950502549,0.025057132287311188,-0.06083422800895819,0.04067471938263939,0.021018069845962214,0.018964759578682523,0.07502797217333898,-0.04231053218066727,-0.03732868263201513,0.0858579737900787,0.08634636069466135,0.006674160941089578,0.03278059232242515,0.024886418303826673,-0.046445378448331014,0.038459122356952556,0.0824537936362823,-0.06102933168085059,0.0690461370987737,0.01767342592454222,-0.003863594813772299,-0.04259516491068653,-0.041396297922777894,0.025447945631098024,0.04967759830944269,-0.02599044553909845,0.02262422181234745,0.05348111778260461,0.026080655101412664,0.04813425311325932,-0.0772477314029739,-0.0834588299281371,0.03306926448310556,-0.0875137044217868,-0.006471319226993457,-0.05304146293758466,0.06785336485757522,-0.03612183740015331,-0.03576700270005228,-0.04669321618569017,0.0036369935993322416,0.010957175102482473,0.03172755191177371,-0.007571765971079362,0.0019867354066686487,-0.029991567231499688,0.030630275735222846,0.025698786222540036,0.05842604065512715,-0.005576260633361419,0.05646079507403789,0.009773329380021288,0.0626713256795682,0.05605632282873149,-0.05035081952569561,-0.05285898733332502,0.024309325509024513,-0.006467649178286751,-0.04984784987352915,-0.028623034977537962,0.06051985643477057,-0.06256078471095379,0.0030986828802078304,0.08491802909012972,-0.01883985158153663,-0.03710176211550478,0.07247720517820386,-0.011035502434933458,-0.0025742714518641754,-0.04102900181007147,-0.08643017867792303,0.016244082395500112,0.035165527395353544,0.04758182484949823,0.08058182510024489,-0.0048678683201081995,-0.035341166023340996,0.058172048828730165,-0.08511985051714982,-0.023690983197755693,-0.007709441903603861,-0.023624170694522023,0.0205190430869833,0.03217269173161929,-0.08823293041317373,0.05242207599737411,-0.03458896733829136,-0.002586783250461412,-0.004899917261938859,-0.08103817624914034,0.045229901849846654,0.07320912874844003,0.06193077393245629,-0.08612630325477649,0.05438649569886433,-0.042602579758861864,0.004556580904534809,-0.06888725420702586,0.04654702209360982,0.0712536582096326,0.009433693984836677,-0.03572594097861083,-0.07332341712599896,0.01568577681562494,-0.028004628236983665,-0.04040802132073964,0.07244829772773086,-0.06753001035156775,-0.049931914505084884,-0.0507348521112206,-0.025234900123905373,-0.049999603685197326,0.01890103718753552,0.05482518949742183,0.014539447008247004,0.037582899883401306,0.03270153499718047,-0.024026212736244324,0.03799940244156471,-0.014303075511720744,0.01590998137600211,0.02149543002839498,0.025639473151958476,0.007372559080319294,-0.06379572210302291,0.051320106003009736,-0.039111333078977836,0.08725215965441491,0.04528765550460564,-0.03846395242378464,-0.08399071002451876,0.017849489616248573,0.016737554298886164,0.04720721491092661,-0.010726237671800278,0.01473349279873293,0.03583341842819918,-0.049565272948374504,0.05891614316247384,-0.02666223357792164,-0.029452498260704212,0.07737050443424792,0.027076301063661608,0.019820883560142905,-0.02128423471023074,-0.07047806210655254,0.06265556291928205,0.0020203334613716198,0.0035801552935848164,0.0055896362128294436,-0.08772227778129889,0.08614294649868719,0.07959657948736105,-0.07611488182619555,0.03157862069538794,-0.08852673383549908,-0.0705638392030771,0.07347318224185799,-0.035271189335552205,-0.05554809597854053,0.028579031014373098,0.017043367761335276,-0.030713462326502364,0.05675174390836718,0.001978392002055501,-0.016559073912569066,-0.021311736387757185,0.047682329832355916,0.0765622134413685,0.0014566994355777105,-0.04472937202415765,-0.059819019546906264,0.055899890087167184,-0.07438574769657624,0.06328158514731749,0.046299494218804395,0.05739390171523014,-0.0046713962457450185,0.047495899635116606,0.03835911072220767,-0.015723220340190254,-0.07950366731512415,0.06015873701680681,0.05222553198729663,-0.035266500239442826,-0.03025574681761442,0.07601549928963175,-0.031643787231871175,-0.07733330167342002,0.06009092361559827,0.0029170379292447904,-0.06061947500943538,-0.014701636482842869,0.07541777301907389,0.04912936876334039,0.0020757885008514075,0.011781932603406466,0.07254420261475508,0.07410735798792788,0.05442404727948486,0.07910410117980568,0.0051312982072033685,-0.06163415879819131,-0.07946480620196054,0.032688888303272726,-0.002205409824409902,0.04856533666124863,0.020205415492818624,-0.08355700216703829,-0.05312999710150748,-0.038169225036434246,-0.07363422212885402,0.055285526499293906,-0.003959172084969268,-0.004602567266992867,-0.0523567372934521,-0.048018551563712014,-0.04639231837326124,0.05194058003677094,0.07521141410450753,-0.0706772830731588,-0.06104859927446682,0.04818004907843216,-0.0244346599216116,-0.0887559783715925,-0.0031166185263031302,0.04822430691954702,0.010548701546044485,-0.008637229289912,-0.025372299822934277,0.021427767836838675,-0.08608551297542022,0.010040789838491396,-0.00796145490893172,-0.07266474475611517,0.015128535329346639,-0.07463089359248909,-0.009404186686595291,-0.06029386888409206,0.027937272346575517,-0.07629274383134406,0.04626831573947302,-0.06651049462933492,0.02485184259691914,-0.07360831747903387,0.0183341931383797,-0.06845233338443656,-0.028628275180038257,0.05491939984057081,-0.07662616610658142,-0.08507343794899778,0.04452675747073528,-0.06869201024339339,-0.08518871855866564,-0.015373369045594939,0.00730660140230973,0.04899575749624808,0.02596683448765057,0.07309899870810643,-0.0683750382803022,-0.07970715623672626,0.05439142372956205,0.06139836832991111,-0.08136953145040406,-0.020296313321629254,0.053870046065003355,-0.0019692031086854453,0.01438489310611057,-0.0011515085999148698,-0.004306471661744375,0.013227011979783257,0.021526934919959703,0.05484096318608925,-0.07643805021144624,0.047823226980733206,0.03167493330019036,0.05296524455509436,0.07470474041461289,0.015957047221681325,0.06011278105635435,0.01020387169457599,-0.07094970170033665,-0.0679241745054746,-0.023399766845426245,-0.007370369331871782,0.031067285523533224,-0.024317876728292765,0.0034595459325796824,-0.0005965665452029585,-0.0749353042807201,-0.059467090082815,-0.0756464265024313,-0.07313789293481783,-0.022931778932346516,-0.07953150082806969,-0.05841663248020468,0.040422642094107245,0.06875066150434939,0.05667890199954574,-0.05889505002352705,0.05585105736304833,0.0820621133275533,0.0020141419755483883,0.07086915689753699,-0.03060737246298515,0.05847080939308021,-0.08568923996235936,-0.0746343944157313,0.02089910205836682,-0.018824426302655996,0.08217147913124484,-0.013763507490355643,0.07245930276054302,-0.08882780771932433,-0.054711761190409214,0.08023993792324534,-0.018561274850854913,0.004687785574293556]},{"id":"chunk-7db5cddc-150","content":"Use the player's name in the response.\", dynamic_ref=None, part_kind='system-prompt', ), UserPromptPart( content='My guess is 4', timestamp=datetime.datetime(...), part_kind='user-prompt', ), ], kind='request', ), ModelResponse( parts=[ ToolCallPart( tool_name='roll_die', args={}, tool_call_id=None, part_kind='tool-call' ) ], model_name='gemini-1.5-flash', timestamp=datetime.datetime(...), kind='response', ), ModelRequest( parts=[ ToolReturnPart( tool_name='roll_die', content='4', tool_call_id=None, timestamp=datetime.datetime(...), part_kind='tool-return', ) ], kind='request', ), ModelResponse( parts=[ ToolCallPart( tool_name='get_player_name', args={}, tool_call_id=None, part_kind='tool-call', ) ], model_name='gemini-1.5-flash', timestamp=datetime.datetime(...), kind='response', ), ModelRequest( parts=[ ToolReturnPart( tool_name='get_player_name', content='Anne', tool_call_id=None, timestamp=datetime.datetime(...), part_kind='tool-return', ) ], kind='request', ), ModelResponse( parts=[ TextPart( content=\"Congratulations Anne, you guessed correctly!","metadata":{"url":"https://ai.pydantic.dev","title":"PydanticAI","chunkIndex":150,"totalChunks":208},"embedding":[-0.006302200959234146,-0.014476112348602702,-0.07715043807609327,-0.0789296513278005,-0.004518869074569381,-0.00711104347669027,-0.06165154828160068,-0.013186102384043087,0.05167192621607113,0.03957082322139168,-0.06981999401515691,0.02478344359005436,0.00802536287943723,0.05230748495422386,-0.08731181220950057,0.05950549860767772,-0.00210192521906143,0.04352428622917625,-0.05362270944983588,-0.022457784154935503,0.0774322545352233,0.014876374491214981,0.08593925675218504,-0.048326283456953945,-0.08228360426549447,0.025579909118772247,0.06961795592328371,0.02384561697313785,0.03496624327333964,0.010045887472095822,-0.006279654226242725,0.0771514100789984,-0.07308609401873015,-0.029414493200268173,-0.005372232087840361,-0.005031080049566711,-0.068450571675993,-0.08327666720856414,0.08665306054732369,0.052165183754365414,0.041975862451599275,-0.02040412330394645,-0.07276495206132844,0.04938369502725714,0.054855376615979466,0.07698312875788837,-0.015611881899971597,-0.01240087696749029,-0.08212076124636856,0.056426303965065254,0.02980490471664868,-0.07689997017450834,0.02263351164103732,-0.057156193573985103,-0.048952706953984904,-0.009749228050048348,0.044871025756931686,0.03295546922426753,0.07371168205817571,0.05882634544107584,-0.058667746501725834,0.021974242812175238,0.026508883243990682,-0.05928711108113685,0.05429639381444088,-0.006004323337858728,-0.06553307763745475,-0.0726744581077224,0.01901312428382083,0.03961354643559537,0.043153595465984115,-0.057240481479552484,0.04275632237912146,0.03723017412764263,0.073649868336478,0.07578950006646484,0.08595288988301843,-0.08160869653109137,0.04923818013105696,0.03855107473566618,0.07033286608014112,0.013389885599837335,-0.0811507049667575,0.086209283670149,0.024246858442437347,0.08550721298808873,-0.023237801369449432,0.02970093314306771,-0.053508314530487065,0.03658288881586175,0.07295997967542547,0.0680186412376578,0.0461531984670625,-0.022392963812507865,-0.07712111665172683,-0.06544918774478163,0.06944562442157136,0.042528243004418896,-0.03887387662362279,-0.04859619448263335,0.0736995577690443,-0.0331762225416427,-0.011553241146308494,0.04254168325113398,-0.01884604627293913,-0.02699454301082869,-0.01937586506474694,-0.05769048315462226,-0.019198617304545158,0.05573882700030424,-0.04907546876518076,0.030106471706338466,-0.08571192704187276,0.04068271945582324,-0.009197200449122176,0.007989475263115891,0.07321804852161153,-0.014971885826485133,0.07340957310182876,0.05303852108262213,0.0841498095851987,0.050572218394000494,-0.062477139924041226,-0.04993194590774495,-0.07577384563265697,-0.05158845476985496,0.008442513644879005,-0.022935917682099637,-0.040530341879769546,-0.02473829148641735,0.07179976281758714,-0.07558249163670126,0.022766294607429443,0.049262014387078404,0.020107807380796077,-0.015034047038678434,0.020308401641901383,-0.07599438268421448,-0.030964939150361147,0.02963091286301101,0.025258683737468902,-0.01146355393847114,-0.04728507649644802,0.07453974219180695,-0.0831657557577873,0.03616487478107053,0.017369446416076732,0.014175890770174965,-0.06383625967629783,0.06236841188128601,-0.020578456706403753,-0.013104340444407633,0.042116393781634884,0.030557120327408777,-0.04346052803322958,0.07505811039390461,-0.05247323498109994,0.03076668553319524,-0.07834489409293044,0.051910293052870905,-0.04973113312026733,0.02040095490227132,-0.01557869841735417,0.008135761396084285,-0.07074136623840979,0.025333671246973815,0.012542653532385092,0.07361026866586393,0.010111450053793701,0.06928065441339509,0.010297172934344182,0.08537805763741146,0.02780673236533995,-0.004843858969316061,0.027171816832929355,0.07861889249734487,-0.06387166743456095,-0.050938559810327425,0.008189882124720707,0.08731378207639896,0.006692960200623833,0.06329858599318683,-0.006494307694748356,0.041420635798095386,0.0740779153087986,-0.04298666698532566,-0.08199206294508837,-0.000389404961380534,-0.07682905934955159,0.07241747115524472,-0.005484410987874175,-0.022907833285055534,-0.02403994293559275,-0.07057917103726963,0.01828243622657668,0.07918637084389785,0.07248707485840016,-0.07576774063909064,-0.05215430179054673,0.05265332956886642,-0.06356794523926347,0.012013110628463618,0.02032843798221141,0.08226161148456823,0.024058743795021646,-0.04070875589741113,-0.026342170765990387,-0.05950958270394059,-0.01992743870808121,0.027224836430252183,-0.07468262335873073,0.05127416264957564,-0.032432480835455066,0.021778736483862228,-0.069648531076306,0.06991399556811732,0.05833259262406823,-0.035067872213964436,0.008627483453550312,-0.0398114719016178,0.04106049195031347,-0.07900625814592092,0.04397354619148433,0.021894241050035144,-0.003871968264141038,0.036862597582763515,-0.0028370721069365615,-0.021450491165023854,0.04888814328417064,-0.05153631923492472,0.02456580412899825,0.06850298002858858,-0.08463008705824605,0.08260875644755697,-0.07064959871259954,-0.06550852418465955,-0.0809314666300102,-0.08459235795948848,-0.08272758071170154,0.0485785875703639,0.0816369043122875,-0.08212545717231609,-0.07878331831653049,-0.046668879496398474,0.04976693352306627,-0.013262603729136731,-0.054906295176653956,-0.06879078794032031,-0.05730651909913263,-0.03150194546364375,0.032709261384731375,0.0251519114212763,0.06908089311863705,0.06526326450224917,0.028570268364047215,0.051441329494748736,-0.03738222522678361,-0.02174554375044561,-0.049852657006103016,-0.059645250365778266,0.05543676687137885,0.0551182926121963,0.006439578120057176,-0.08550904960981383,-0.009667147413941432,-0.025364254690159314,-0.04136691752702016,-0.038223537419666956,-0.02062117081599026,0.012585632264747366,-0.018949593616139283,0.025193579028758455,-0.04194445921791628,-0.03677989930527987,-0.08655449336525288,-0.07870411342573247,0.06719708998401933,0.0738840650455559,0.0067655020321075315,0.06487967887326052,-0.06518360070976376,0.0106552352504516,0.023015308064012866,0.07555400457945993,0.07929601077779266,0.01698483094191206,0.04833468185237872,-0.057032276432414125,-0.06998403495165605,-0.042578046051679176,0.0561488479907099,-0.04278484141734604,0.05598008078911451,0.039275301122362924,-0.022214331246869886,0.08640562442772645,0.028870938074889652,-0.027067943767355388,-0.027017634992769903,0.06690819997646184,-0.014139295919986063,-0.06424793515291642,0.07589231209169757,0.057300206505899606,0.0233542908268208,0.08515928115180486,0.010875790451375777,-0.06390339893429031,-0.03672134770826739,-0.055874474426068556,-0.06584796760078551,0.07986295184945956,-0.05284248515190034,-0.01700316220889781,-0.053617071918301534,0.014668284255196878,-0.01467499192539592,0.0014429344318963378,-0.07252019024814282,0.07547669184414726,0.026183931089335297,0.05350463663187423,0.060671561472851576,0.020194048055593175,0.016930010407161317,0.03004260778438915,-0.019582452666850908,-0.01019502919433281,0.07519812388321298,0.05145282152813341,-0.025680600381334392,0.011943367793745975,-0.07833572043642355,-0.07328457283517349,0.011870873642290778,-0.007773360392877537,0.011682035434185573,-0.0126655181918748,-0.023875905095885903,-0.05129076140019959,0.04306175481494182,-0.06541854300912682,-0.06453107432591965,-0.08511170033284432,0.0279409478673072,0.06694859238839744,-0.03701060978285022,0.07945545848736724,-0.033835619233136306,0.04982175465387572,0.012201734182528396,0.01971979618532167,-0.03607945710998217,0.014563795881323291,-0.02308324542609977,0.0224859909975586,0.06559424422827,-0.05926299609343421,0.07001420731262208,-0.044169899857882014,-0.036586820756131115,0.06312020360096791,0.05847100232814554,-0.004205509813852436,-0.033563294698731996,0.02884534063971457,-0.0750683715145558,-0.021388834520274992,-0.01646318611346771,-0.036059334701348485,-0.03905355382467204,-0.027894595202014576,0.07907752386818068,0.02649163733878554,0.046006145596491896,-0.02485471445174451,0.018390796355387467,0.07289999458387755,-0.002910133801832229,0.04354617733400755,-0.01620333404874605,-0.02074815872920907,0.019586736179620572,-0.03690283935191275]},{"id":"chunk-7db5cddc-151","content":"You're a winner!\", part_kind='text', ) ], model_name='gemini-1.5-flash', timestamp=datetime.datetime(...), kind='response', ), ] \"\"\" We can represent this with a diagram: sequenceDiagram participant Agent participant LLM Note over Agent: Send prompts Agent ->> LLM: System: \"You're a dice game...\"<br>User: \"My guess is 4\" activate LLM Note over LLM: LLM decides to use<br>a tool LLM ->> Agent: Call tool<br>roll_die() deactivate LLM activate Agent Note over Agent: Rolls a six-sided die Agent -->> LLM: ToolReturn<br>\"4\" deactivate Agent activate LLM Note over LLM: LLM decides to use<br>another tool LLM ->> Agent: Call tool<br>get_player_name() deactivate LLM activate Agent Note over Agent: Retrieves player name Agent -->> LLM: ToolReturn<br>\"Anne\" deactivate Agent activate LLM Note over LLM: LLM constructs final response LLM ->> Agent: ModelResponse<br>\"Congratulations Anne, ...\" deactivate LLM Note over Agent: Game session complete Registering Function Tools via kwarg As well as using the decorators, we can register tools via the tools argument to the Agent constructor.","metadata":{"url":"https://ai.pydantic.dev","title":"PydanticAI","chunkIndex":151,"totalChunks":208},"embedding":[-0.01854332380436382,-0.0038819470851929297,-0.042730648976181514,-0.06143190138965444,0.03155657154057278,0.08129208568648381,0.0032400126203105412,-0.0857525581172261,0.020711121586455692,0.01946964330628327,0.07171254370371098,0.026250117305664986,-0.027748561481677588,-0.024387170749794875,-0.0818572439395222,0.04589161323208492,0.017365968659773648,0.016306515868687584,0.07618232324275324,-0.07798638385032686,0.0301478434104014,0.04165443493320283,-0.06333730240293765,0.08597223082441276,0.05584693847178764,-0.0012350957092635954,-0.06733688725469027,-0.05947775746633902,0.0845447211475891,-0.0542264051478555,0.06175006731904845,-0.05414853294002951,0.015690971641311093,0.025014850447872328,-0.026130022484045966,0.060562943684374815,-0.018950340888016642,-0.0851427963613048,0.07733300662310928,0.06972306938249867,-0.06610804305419661,-0.027776936854238602,-0.051277606698374015,0.057461844438363927,0.02885133465603217,0.0020437189618337614,0.043566008587853415,0.015395471259309313,-0.04783092891965766,-0.0629476130449527,0.0435552749019234,-0.020864784534931347,-0.05753213889350997,0.05024872101215884,-0.043806989308338894,0.02636522676924411,-0.056015120092144266,0.0009430806423061224,0.000024760809797628263,0.08498290988581482,-0.08088901695629609,-0.01785207677710282,-0.07374813952278642,0.029054111680979038,-0.08437629294279389,-0.033858189306357984,-0.052284685243112985,0.08594480629967273,-0.0825233277223662,0.019428079091710092,-0.03217956443294328,-0.06052394011904427,-0.0405417897157447,-0.03743733228158431,-0.03428975511437992,-0.00762085179954176,0.01372175203178748,-0.005708551552673632,-0.07310994393233304,0.012524458684761845,-0.036126903927108746,-0.04560244430293564,-0.00580024868822165,0.0028983978750892884,-0.003572090920363485,0.07337944198146053,0.028304834438235067,0.060676791537221955,-0.039382374234701964,-0.001418914413806534,0.06168863963140275,0.06993472670815176,-0.041136294256648435,0.0817789118460036,0.08039894727465238,0.05662730696253285,0.04097624520970364,-0.07389500175516105,0.07347393754795811,0.08565367881531986,0.06618038953049751,0.07369965982792666,-0.045301361366543634,-0.03281864263621272,0.008172676653286854,-0.026019677647971133,-0.049592171111583566,0.06857452714064,0.047027525050862495,0.036245210316748315,0.07184584594161215,-0.08316831370200939,0.018283356017904945,0.06432762160303332,-0.07834465744296357,-0.000026513847481614527,0.010193590103503413,-0.037860109419706744,0.03656161933007282,0.020811971293950494,-0.043027448126220946,0.08212717548960152,0.07680324038685243,0.08668560997791186,0.06950785562801097,-0.02354641419281501,0.07468349207917048,-0.08528677621880557,0.05991954536181727,0.06526443671872338,0.03084518067462993,-0.08374627453204263,-0.04445011912724619,-0.004636207675177785,0.01691042233487009,-0.07540690813887467,0.04211466556211568,-0.011858617605285901,-0.057231231294701417,-0.017706316596995713,-0.0237624418348618,-0.006968442344969053,0.06749646820481621,0.022330778758994287,-0.008515035011888284,0.028311172424096587,-0.035402236800302765,0.04119911135755066,-0.07002959045372384,-0.01744533308709432,-0.027735756372714804,0.04687533802949559,0.08658154246486688,0.08231248002888283,-0.0434693327265006,-0.08368639923359374,0.005750675105272811,-0.03618072349612895,-0.02263663273862883,-0.04534893120299213,0.06035654622743974,-0.06474620999925568,-0.08027074249080977,0.032555977480629744,0.027880324630704646,-0.05071144257188835,0.07624784183553845,-0.07240031218722934,-0.05810126858293032,-0.020287727081093,-0.02120883819521894,-0.011950278254617195,-0.04664374625146596,-0.05848669126717286,-0.053181076074643244,-0.03242013406722675,0.018928545622793128,0.0020254018293424953,-0.08563901671606369,-0.07740518935023297,0.01871479492133325,-0.002774587881301821,-0.01920193967112954,-0.06093340019420629,-0.07088695792651128,0.07588069869083242,-0.07055376033965065,0.0020193858428229905,0.06734556539644589,0.046612378318617954,0.03842642610880337,-0.03905004459486059,0.02444211265734802,-0.0013289148627229962,-0.010743541661025787,-0.029614952563682746,0.04379707573902061,-0.06546426506950462,-0.05626707494930224,0.0747581576564434,0.04847873862924443,0.06938526187253558,-0.029152169274707682,-0.0166700378221857,-0.06661031996725564,0.04626411869871076,-0.04461911879302305,0.029185701520693826,0.06163615226214771,-0.04892257111699083,-0.07499365037927107,0.04801658550033019,-0.08030697144308348,-0.03697024962215465,0.061268804668512575,0.05842473987476052,0.026535092281590282,0.04294900256528679,-0.05961396119934468,0.03722671040455574,-0.01748147484779334,0.028196380874058662,-0.06731785584930645,0.05969565481699136,0.05275064795897911,-0.07072437565040374,0.023810716826903198,-0.06373437006909538,0.08034957663759242,-0.0006635326955527293,-0.0022438557526021185,0.016780368450175137,-0.05324976381571338,-0.03678778786586856,0.011157109118779965,0.07480774965840678,-0.06321223420432491,0.013181762913160078,-0.0010153853422541187,0.019315525676410542,-0.07184317644127675,-0.056077784703325036,0.027960087519573854,0.035222861549115574,-0.0321011068860668,0.03803148362370926,0.08534626222093063,-0.08161542093520735,-0.026454519868029828,-0.0614846476214802,-0.037172372662159114,0.012443678363455545,0.06715453493581137,-0.07827304932188958,-0.029994501041343692,-0.08134552031515789,-0.005700845461537748,-0.07456833560635567,-0.017659586459444328,-0.03869836685796096,-0.06554146837270214,0.015640055012274036,0.002079250481950315,-0.052076721401246626,0.0255395475088332,0.08350108233436712,0.07671165120944141,-0.015815746017788724,-0.03902392898826497,-0.04801566565186999,0.07494968903498707,-0.01674790009539984,-0.08405195945242377,-0.06477011583155047,-0.08383501227566548,0.05877244631094903,-0.02251315202819921,-0.039879390404447775,0.0649998423616865,0.03634726520822458,0.006730577168887534,0.016993810550854648,-0.000785605717595043,0.02668789355888916,-0.0772307506393332,-0.05965099591578714,0.029923020355543235,-0.03825509806558048,-0.06709532148947632,0.0478876610382709,-0.016859374111296645,-0.060629882737440785,0.003943156703303362,-0.050058903483076816,-0.06484433161971052,-0.015760102933636274,0.05341324315721419,0.04268590818696375,0.0370296215607772,0.05209068511360555,-0.01645333409648552,0.0397708336057382,-0.07669295297879157,0.05305946777063937,0.026592562668760637,0.0265041482387812,-0.051192998397872204,0.043529307579707244,-0.01996499638100539,0.0038973748613195442,0.0038243050512901263,0.038827598798870676,0.08110197867620055,0.05952135598367634,-0.03613870944411313,-0.08423119967750256,-0.03626533152209078,0.05522480857693827,0.022979126704618727,-0.05340270639569364,-0.013458531246462176,0.045773827315592576,0.03477010720667044,0.019945384871586043,0.052917882890516035,0.0010721123377926765,-0.012122280826332895,-0.0006975078703901122,0.0370509110796153,-0.07280866382040628,-0.056147539992282655,0.018372105346005255,-0.06111874156361964,-0.07008084589454726,0.021155792842553603,0.052048648668477755,0.021199068537007947,0.07112290092107831,0.03922837904942165,-0.053348797762319954,0.029450504292544335,-0.025670501463738362,-0.04830711674003741,-0.08112396522887985,0.05266099875744264,-0.04190191566768953,0.06557237137689811,-0.0046112989139194096,-0.04239281142523532,0.06868080499694651,-0.055171528580250345,-0.026565145047997174,0.025499577653128845,-0.027354307704179612,0.06587461629061002,0.04527098659352947,0.05619788393530262,0.07253582881427341,0.041323579326250984,-0.08309089693465706,0.05678536091278313,0.009846500514141397,-0.03818354203737125,0.019931381722919823,-0.02527242086265562,0.05503179901814698,-0.07114175632430479,0.02615146082771598,0.0675529754360988,-0.04355784201258856,-0.036926600347970795,-0.05592060266021373,-0.06693384405754951,0.0813215406563667,-0.06249917831593216,0.021851238382028973,-0.01863577939535035,0.03621228594068819,0.03535504997468148,-0.08527004068009097,0.02177042919173663,-0.0547067886917347,-0.07894095146524255,0.0755779974086826]},{"id":"chunk-7db5cddc-152","content":"This is useful when you want to reuse tools, and can also give more fine-grained control over the tools. dice_game_tool_kwarg.pyimport random from pydantic_ai import Agent, RunContext, Tool def roll_die() -> str: \"\"\"Roll a six-sided die and return the result.\"\"\" return str(random.randint(1, 6)) def get_player_name(ctx: RunContext[str]) -> str: \"\"\"Get the player's name.\"\"\" return ctx.deps agent_a = Agent( 'google-gla:gemini-1.5-flash', deps_type=str, tools=[roll_die, get_player_name], # (1)! ) agent_b = Agent( 'google-gla:gemini-1.5-flash', deps_type=str, tools=[ # (2)! Tool(roll_die, takes_ctx=False), Tool(get_player_name, takes_ctx=True), ], ) dice_result = agent_b.run_sync('My guess is 4', deps='Anne') print(dice_result.data) #> Congratulations Anne, you guessed correctly! You're a winner! The simplest way to register tools via the Agent constructor is to pass a list of functions, the function signature is inspected to determine if the tool takes RunContext.","metadata":{"url":"https://ai.pydantic.dev","title":"PydanticAI","chunkIndex":152,"totalChunks":208},"embedding":[-0.058208111980878455,-0.015840749577739194,-0.08018464136849919,0.016092903968014098,0.0038688278783465674,-0.06910329642802278,-0.022075917207336915,-0.030274288352210244,0.07594736537382715,-0.07477170763843065,-0.06194217345181986,-0.07438394014269958,-0.0531869832678568,0.04444026775837137,-0.059450519845181564,-0.058136395895711714,0.07563505653850898,-0.0436710200675384,-0.036591842616687145,0.04175196819930122,-0.08066885145866608,-0.0748382612409502,0.05468850740564011,-0.08558998359446739,-0.06579977552278467,0.04815949227487868,0.03792133501495341,0.047816132844278665,0.03050289523861126,-0.08007296952151725,0.0007012173604931228,0.0009323841646207089,0.026513182172662075,-0.08034847975963569,0.04812175629075947,0.0035378874374294143,-0.06953902924416727,0.07245783779302582,-0.009651874976236976,-0.01948418101816112,-0.04940897590631008,0.012652178811993873,-0.08671389024614534,0.07763712049359416,0.039867528639153,0.05913368013070212,-0.003417256119747552,-0.0149486231919433,0.06674590719510061,0.020240008285493293,0.025184487359431646,0.024839921701874993,0.041765896669091425,0.01907762142330272,0.019725505110358737,-0.047535369931380654,0.00289422974676426,-0.08140207022502914,-0.053780457385211485,0.04664764416566896,-0.007967116451979141,0.0014750251498571844,-0.0006609741380028678,0.04113262851070586,-0.029143313244776724,0.05555517617441902,-0.05235754407818295,-0.07998761225380716,-0.06055539160083903,0.05918590535656204,0.03143705486095995,0.03942626105322189,0.02835864896658741,0.02070571814140206,-0.02986848994187461,0.015316028304395627,-0.07557017682697754,-0.0634280041886079,0.07378356094324509,0.013910068595986525,0.08042720598466666,0.049201349164394816,-0.021647560624014524,-0.07539796716880912,0.012652648248539308,-0.030102594021288714,0.07905471222374612,0.02330293969827589,-0.016251186103737034,-0.024781249270828802,0.08390851929330144,-0.007663730036927369,0.014477614486466837,-0.05316972734665056,-0.016342031031488645,-0.05536029273631843,-0.03581973571265871,0.06936625163983114,-0.03424692861160422,0.06439417017635116,0.07040023255270603,0.02605598374740642,-0.009553611677513878,-0.012143460925883648,-0.07670161346839618,0.06622930183297386,0.013530354705148828,-0.04467770294844983,-0.06196631848631311,0.033989491904216136,-0.009078264355509472,0.07998313402408087,-0.06688577003326283,0.03530858582024609,-0.02925020638426746,0.021398435048650657,-0.061969817884010577,0.07792099809554102,-0.01932879593884232,0.07559517527234554,-0.037195661219380685,0.045346091104462985,0.08630554507630606,-0.03967940710082333,0.014383007450354144,0.016517639394206876,-0.043974122084059035,0.02698486868696633,-0.07799508234886277,0.008075390994244532,-0.023170606925348263,-0.05343287173215443,-0.044737495535714045,-0.08449545243686529,0.009720312861939355,0.031072198681523572,0.011706749290612576,0.05548964280760006,0.03325752040937584,0.08687731966386066,0.02180559907417311,0.07138725870941513,-0.0594343347386582,0.08163326958268602,-0.021262328157279752,0.028145585631167057,0.0799801622873172,-0.06260992671494969,0.03440681581266204,-0.03112856007357741,0.00679592299914988,-0.03307928268838335,0.0033361741404719014,0.035080225946207494,0.0026490611295702147,0.03719958632668848,-0.08669812193108593,-0.016537333376584567,0.03932419646394605,-0.0030433383716435706,-0.07233667905100392,0.08195441692394681,0.02784402540416957,0.012487898777786761,-0.02278352276577684,0.07754945718241198,0.08213813676679486,0.007358125494438948,0.07376621058400216,-0.023346563504857372,-0.06751497530263648,-0.05285757352481402,0.02587551130741391,-0.05545323090431128,-0.05363167495957568,0.02102609545300414,-0.037727499063619815,0.06301902346236998,-0.05009523060742521,-0.07979847226859674,0.049051850518846064,-0.005051788386218938,0.005904627584885102,-0.061026636589835266,0.044978967410204386,0.020285199287288353,-0.06548389153804897,-0.0013874136937913465,0.07966206408800525,-0.06564249313504024,0.047384416840965095,0.0669817771740603,-0.03191283019699916,0.0499763131915356,-0.01988028711675617,0.08454290599941965,0.0010263118660974442,0.05920887547206743,-0.025088764666874545,-0.043207492320514816,0.05233150930891631,0.08476443986955995,0.07245780538727858,-0.0308366876715085,-0.008793561128168047,0.023204187485261235,-0.0667374322022227,0.004986631389186887,-0.02268320641642492,0.038681393185958875,0.05757334897795408,-0.028546798067774333,0.07794909707020878,-0.06797863599675578,-0.08309860726112007,0.04069945675678752,-0.024931136974366032,-0.05527845340935219,-0.020610306798505083,0.07232046755014639,0.012740676830893997,0.07853529712351302,0.08018038426568752,0.000739752969804381,-0.05688986355725281,-0.06371191435395862,0.08178058364993677,0.03271005600446308,0.03794788446297128,0.08512093001550322,-0.06204877474794737,-0.016033407682266746,0.028833576380644165,-0.07172413728902241,0.07322392714585221,0.026009764899095348,0.06326814261606134,-0.04602667613064291,-0.06534439881454289,-0.03124684417014201,-0.06065836897353849,-0.06747722472901684,0.07376162946931138,0.003959000098937273,0.0005056034189521256,-0.0017440431444666106,0.07946801788895427,-0.05908183626914014,-0.05158764708737853,0.06615149536391703,0.04088283739509626,0.0581667275779169,-0.027239672044072374,-0.06590017446732296,0.008745941578186521,0.017134396900209063,0.02049364168831331,0.0592624823204358,-0.08150145016939447,-0.03308136839502469,-0.05759042167189176,-0.00012807960015293927,0.06770088519464729,-0.07373822448053081,-0.05933891393816483,-0.029114648824837903,0.05390709247775245,-0.08266535207635563,0.03271362119283975,0.0507544271886725,-0.08099191534463684,0.029531950293524612,0.00480568567039466,0.08668328295016962,-0.05878513243921736,0.032408680007744495,0.004258921644179623,0.019448533762102014,-0.010190535920569808,-0.01412269912233118,-0.037425372800876065,0.02165511483566546,0.04579029523444836,-0.023557903552385673,0.0004924755607813738,0.0031882214090458365,-0.0570304964826391,-0.004161311728392088,-0.06951455994232272,0.0793458634568259,0.06962586966600075,-0.08504251127783215,-0.03296984610858817,0.02717360948909903,-0.001437522132947686,0.003184873188828936,-0.026796420166532154,-0.056917073749842284,-0.06836536735933153,-0.03922187742539551,0.0691535298781331,0.012992291220077286,-0.05345077197259401,0.08120460826722484,-0.07351036703001874,-0.07286498680034532,0.02913776121892199,-0.06897761353792832,-0.07175266984632615,-0.07710603302743374,0.0464655872857139,0.010774907509168737,-0.03951105439541374,-0.0124335548542675,0.04615565045876678,-0.061013983048540166,-0.050509756036905155,0.01968057106546318,-0.06534905894556581,-0.035267181083993515,0.010036933169617656,0.04338417380144002,-0.022551013622957364,-0.05623955627084904,0.004836992987961118,0.07173678601794171,-0.033110271539736766,-0.057619133983823234,0.018469551619571253,-0.07705262312908903,-0.07753437216439982,-0.07629363134405408,0.015101645930386248,-0.012699261272910583,0.05215312922654917,0.06791649641135344,0.04061729293482069,0.07080006756173346,-0.02349488921222814,0.019467341838867915,-0.011698518126618717,0.07070088389402171,-0.003873343940674768,-0.03313518568412948,0.043686242813835076,-0.02982034497673993,0.010372417734910152,0.042595369015770934,-0.0742678883945272,0.06576882072383627,0.029757084949746646,0.08681900219282453,-0.01625988817209369,-0.05675061593467848,0.059003717695108066,-0.07451393172856129,0.06536665432568527,-0.08170198868386662,-0.05246064580690938,-0.05534464479191979,0.049846033117213036,0.05274224657772899,0.08266972860578807,-0.04999494037222165,0.05042057752699626,0.009675804951131765,0.0422557914134523,0.07073552608511452,0.0066509172685260175,-0.07695195022939039,0.047741674576401986,0.04953482974050676,0.0012312958284049164,0.03962469202025805,0.003965067092300021,-0.04702525619048727,0.07922798625420613,0.07774915733720009,0.03621940794770733,0.05407533646836563,-0.011458399540247615,0.013462474104112481,-0.028991644476342133,-0.061544875413496125]},{"id":"chunk-7db5cddc-153","content":"agent_a and agent_b are identical — but we can use Tool to reuse tool definitions and give more fine-grained control over how tools are defined, e.g. setting their name or description, or using a custom prepare method. (This example is complete, it can be run \"as is\") Function Tools vs. Structured Results As the name suggests, function tools use the model's \"tools\" or \"functions\" API to let the model know what is available to call. Tools or functions are also used to define the schema(s) for structured responses, thus a model might have access to many tools, some of which call function tools while others end the run and return a result. Function tools and schema Function parameters are extracted from the function signature, and all parameters except RunContext are used to build the schema for that tool call. Even better, PydanticAI extracts the docstring from functions and (thanks to griffe) extracts parameter descriptions from the docstring and adds them to the schema.","metadata":{"url":"https://ai.pydantic.dev","title":"PydanticAI","chunkIndex":153,"totalChunks":208},"embedding":[0.012646063750382778,-0.03102666864475427,0.07877965428074693,-0.03317081685097425,0.062447519632613836,0.015978118017540743,-0.08202029581144908,-0.02163491118353092,-0.06747931451367234,-0.0354943377872625,-0.015379965232486222,0.050555987784879984,-0.018269252903376478,-0.010110145770005859,0.08308401704519053,0.07895795230364394,-0.06781508837350576,0.015479237870126518,-0.02475492394523585,-0.02810099186914875,-0.07977802189337942,0.031044207244852746,0.07456186674131596,-0.02043249720996156,0.06215419378747706,0.00822288101806759,0.07399501675388541,0.04183646938537793,-0.05549914770461693,-0.04783131863759585,0.06101028138803831,-0.07926190458409123,0.08760433010888641,0.039308510959047666,0.07716765685677919,0.0004522253772289015,-0.06962084027979137,0.05445079004254588,-0.010047102668971939,0.0739946817492851,-0.08176007962289829,0.003444139055607899,-0.004154959978240211,0.0004806722402577373,-0.07919373435152433,0.03313229431650804,0.04213147000869554,-0.04920936839182791,0.006130000035035483,-0.006014884765640484,0.0633129945474796,0.07550133559043017,0.04432089084282948,-0.012712161285443748,0.06527327107852599,-0.0631973289969648,0.05116127970135078,-0.046451683177588264,0.0007871285374054991,-0.00003538455904307188,-0.023435658334629732,0.061423488955726996,-0.01904008726554008,-0.05802597848143555,0.04642043657852133,0.016528764969718435,0.00026081140437351027,-0.006988203896615069,-0.03519918205971369,-0.02046582528404422,0.05262463590965096,0.05325027213954017,0.05742395512564167,-0.06163746379040788,-0.06996416839417305,-0.04273698019482119,-0.08746583732133577,0.02037080127819483,-0.012589034139005617,-0.030158453524958873,-0.05366838990198617,-0.0632961876785327,-0.008680160744213484,-0.06681119598012596,-0.02940705159666051,0.013300452430307447,-0.0467506045422797,-0.08091577388224473,-0.014459619568565025,-0.05809517014816374,-0.0840363237060431,0.022046650310046653,-0.0726591428343029,-0.004871863688005102,0.049796654361212035,0.006491360785780614,0.015040542450801291,0.0667291082204294,-0.021445989028496586,-0.08775927135832608,-0.013977653735530818,0.052278146754259486,0.049983191877060414,-0.04336475296239176,-0.07201053135353461,-0.05738652260479297,0.050630093108356776,-0.04608668819358874,0.004867025386671686,0.013841195328032884,-0.056864100019902795,-0.015454608513793263,-0.03869196920599306,0.045538905733338915,0.05404155424396024,0.03755986658827324,-0.03076443036992852,-0.08798270011902369,-0.05634209803475594,-0.05806516883221971,0.08419259167761386,0.0869270432036923,0.027311686992251706,-0.020476409354077643,0.010880684564733808,-0.034108618523237634,0.08854658325885957,-0.04464292848224796,-0.04583846937692072,-0.022145743689467253,0.07951935267180475,0.008180346291829267,0.037000501221104834,0.04984171014001715,0.04693123162704833,-0.005678733995655312,0.003170988701234041,0.027369267862617588,0.06430105801841891,-0.04901565665930918,0.015295976642179899,0.01554866658318859,0.07650594937983039,-0.017108547326327286,-0.026187005442686945,-0.06468744186921507,0.04813380298511558,-0.0608721877439669,-0.04163665158513405,0.01800745241012361,0.016243650686013255,0.01456195359645372,-0.029029469795614306,0.013683541367919794,0.07308833618680736,-0.044938154920445686,0.060418911794092804,0.03711262762229092,0.07874646060984879,-0.013247956414248094,0.0261333007511922,0.04892676209663547,-0.06867925540071088,0.06201424172021971,0.07277491999729349,0.05520840076649704,0.009378681698405198,0.024985127690781057,-0.04871690024690401,-0.025818738135073536,-0.06801955686855744,-0.04086113971518273,0.0369409494194313,0.06800222646028682,0.021652237878606408,-0.07826181235157584,0.08291022039191179,0.000605120727901753,0.0708937036215209,0.036782610485874966,0.05552815848713833,-0.07890648852421797,-0.06172528729384014,0.08845818630343985,0.03790420860562974,0.001864048793483874,0.0006228250994259366,-0.02276536090971954,0.024336982859484078,-0.037555556353447185,-0.009771787476428685,-0.06240781588870398,0.06205263766265611,-0.06398928032586639,0.06517863307537312,-0.04704030831827777,-0.057708409413313885,0.006701371873943735,0.027091634403806915,0.08330704600637218,-0.08440165551665856,-0.03727844126171842,-0.050613000766425595,0.0703919385897436,0.041344541987543774,-0.00797982972160549,0.07794551423203055,-0.028316577549946466,0.05902590679031571,-0.08101150637398245,-0.07618236220677731,-0.07580994324396285,-0.04969675487198261,-0.02857353090696744,0.0602190526178536,-0.059309033652744626,0.031537991662506724,-0.07826738292801937,-0.040149447640096446,0.024496724839486946,-0.04679519542365725,-0.029280116290507367,-0.021009764877726496,-0.03666922144611974,0.08417323296276351,0.03982106580043906,0.036134909482232996,0.06518284616460827,0.07556388568425414,0.016158018455571174,-0.0743996764770609,0.07924276476215839,-0.030300292369510384,-0.03972593135377901,0.04878489617753773,-0.05782676966948558,0.05588935932066264,0.05590408035660311,0.029485253270649648,-0.046625057569413104,-0.08377783329894047,-0.01651328711688496,-0.02473376331025741,0.01516407282840668,0.06878116768328918,0.008419929072731404,0.021472476550863127,-0.07508923479324682,0.005844134371073363,-0.08256501985905228,0.03553448713569154,0.035793929512670256,0.04584529523725216,0.02726405058670552,-0.06146586117558354,0.028295580974345435,0.013175482393073696,-0.0325165200223216,-0.05435710251042895,0.0736888101087533,-0.07178990010173368,0.06555696433200561,0.07448507471989299,-0.029467805949655753,0.010743617685805075,-0.04114098977292,-0.060036381233005566,-0.05668472382198531,-0.08863714845101281,0.0364538525303192,0.01151396812871817,0.0602920365288489,-0.05682112678136636,0.04896025259997734,0.026300904635465555,-0.060014496302133485,-0.0026587558286281336,-0.06707746072381204,0.04081706495354595,-0.05698609821917337,-0.06546997264431591,0.026412983387913033,-0.08108105239257175,0.022266621853862762,0.06766505891621803,-0.06541900401830097,0.08784577457970509,-0.0702749815416289,-0.004096338254500816,0.004811248679169482,-0.06037710233357754,0.0750380067088938,0.08835719479581014,0.001481231861958557,-0.01075903160641296,0.08611281299416361,0.03596560609563274,0.018184689265324253,0.04377932224753644,-0.022097392201770576,-0.03239749486976602,-0.02779085630434791,-0.05112065688181987,-0.00138711819555414,0.07254712777346184,-0.03995359393065452,0.01305791040781689,-0.05299394740590617,0.08523555626757916,-0.03647718139815283,-0.055194307205832564,-0.03149847610609197,0.07024295829139268,-0.08065485826754602,0.05100733586279634,0.07506796303373726,-0.011424611855003066,-0.08682839275635147,-0.05528142125306228,-0.07862137115730683,-0.060681521526032046,0.06203051100048642,-0.03912956453122763,-0.06974167850184718,0.04813602360249563,0.029457161896120715,-0.07906268142242238,-0.01171787850620527,0.03831996861893169,0.028156724733379837,0.0021432954128964214,0.006254440397701785,0.061366461800677376,-0.039918181000444565,0.05899859164688249,-0.020661705854763627,-0.07535288718797058,0.06528457444590871,-0.05334785961698491,-0.045644236395747835,0.0319512813732854,0.0628058668124965,0.05215293455054515,-0.05319206846876216,-0.003210240805824134,-0.004542407182121306,0.07505006702689175,0.06650096176710661,-0.07827651491658039,-0.04570058982565454,-0.04372619074636184,-0.03655280192477306,0.006272841187391723,-0.016960595691782536,-0.01556113367873956,0.030752139655751732,0.028061744677779332,0.052296934077414044,-0.014222718398832315,-0.06705907847197973,0.026432145483441534,-0.04521812130180133,0.0337306524473293,0.03010974314252226,-0.01698313463871918,-0.0039578621121739155,-0.01897506076851085,0.07173357562486728,0.036303012449633416,0.06943449503854537,0.04533966573848785,0.035291432763214586,0.0027566341209767065,0.07698434692827383,0.06630447522178441,0.0688314592055544,-0.08107659672053957,0.059998167419089664,0.023870655067887537,-0.015320236434599135,0.03894795142557521,-0.06985595502856787,-0.08453461264049386,0.0052202754654748435]},{"id":"chunk-7db5cddc-154","content":"Griffe supports extracting parameter descriptions from google, numpy, and sphinx style docstrings. PydanticAI will infer the format to use based on the docstring, but you can explicitly set it using docstring_format. You can also enforce parameter requirements by setting require_parameter_descriptions=True. This will raise a UserError if a parameter description is missing. To demonstrate a tool's schema, here we use FunctionModel to print the schema a model would receive: tool_schema.pyfrom pydantic_ai import Agent from pydantic_ai.messages import ModelMessage, ModelResponse, TextPart from pydantic_ai.models.function import AgentInfo, FunctionModel agent = Agent() @agent.tool_plain(docstring_format='google', require_parameter_descriptions=True) def foobar(a: int, b: str, c: dict[str, list[float]]) -> str: \"\"\"Get me foobar.","metadata":{"url":"https://ai.pydantic.dev","title":"PydanticAI","chunkIndex":154,"totalChunks":208},"embedding":[0.08008546514834698,0.08001243946246192,0.0769080533691473,-0.019874804905419822,0.03865903557487215,0.04036515184301724,0.05211675477728752,0.06438786613697887,-0.04742145018421492,-0.0340195400452889,-0.027664109605246075,-0.04129820472479042,0.008248580126856501,-0.07497131662020391,-0.08341324302966263,-0.017099159885137535,-0.0024011795548502194,0.0631713937800884,-0.06935335412073715,0.07251662712431275,-0.009968943684446408,0.01319560199204253,0.034674817636839925,0.07823777447566159,-0.05099161382160481,-0.011475139158375574,-0.03955415679729158,-0.02184878443008239,-0.003521127753938107,0.07949218541197094,0.033869290610022286,0.08427356843119742,-0.02271411591414315,-0.02735177307127586,0.032119484999403085,-0.049227028093269294,-0.014685804415639742,-0.08514275826938104,0.0577054058328498,0.08432866693365278,-0.012923708357285252,-0.019271013442068,-0.05811775418868438,0.018215737853350022,-0.02802478195063177,-0.04927864739281332,-0.08259680883373675,-0.08623932179151154,0.008653669859026613,-0.07645743628929125,-0.08543501016595431,0.001364804043257939,0.07433432089329746,0.07794254826218922,0.00541100183367461,-0.01510938440399522,0.06368752618947382,0.08269636852999956,0.0671285370107195,0.054281478809877305,-0.03668946893041656,-0.03031877412795221,0.048072250834543556,0.07664486959623579,-0.056122673701615326,0.005786638933257844,0.07502124787003091,0.008811296320204358,-0.0243928875407489,-0.03637748938436941,0.05286427613220192,0.07918874156917681,0.04049499464221097,0.043160098545232665,0.07278130742161976,0.070789204126037,0.0785194093723517,-0.006883785152918702,0.05322007747669446,-0.02447709443893875,-0.07277613164537149,-0.0645417719911824,-0.06149260257409699,-0.0518904625622159,-0.03652699975871995,-0.0694270176092808,0.004906463832293766,-0.08461298776241377,-0.0017389486567224858,0.04195803758240678,0.022236188938941262,0.030748219963923677,0.030676644232669824,0.014516371800133897,-0.03640420674307592,-0.03970234163535048,0.047298352533905956,-0.006901484064838517,-0.05352207765778781,-0.08009986078951359,-0.03375955405103454,0.04809888536774915,0.030493431477831515,-0.05883269745203544,0.06319862810023953,-0.011013775837809017,-0.02128733135028185,-0.0031065536653906703,0.03606352298508473,0.043187162487453246,-0.016746403903811897,0.07267347148505886,-0.08470446519524454,-0.07179289747507575,-0.08596350764502025,-0.031016073995433383,0.07342272086131844,-0.010603089498906806,-0.08461534981448401,0.07929515319397776,-0.08146739658749255,-0.07399073453636548,0.05234617817472072,0.021906546172958247,0.06085096512870563,-0.03289953765103603,0.030710236794976864,0.043355055307004425,-0.04953970233116286,-0.03280736818161849,-0.06558100621063935,-0.055433993402372796,-0.020154502534112426,-0.004922029359458477,0.03658613919919433,-0.014549991089134552,-0.06031439557704211,-0.028843309727453487,0.022674715659421342,-0.06787823830975823,0.03820977271576138,0.0611227141475102,-0.02147308836424633,-0.05327747588289303,0.06558564015724071,-0.012022268480574411,-0.02788883845538272,-0.009492676058518588,-0.04486956788600058,-0.043955113855548934,0.07491691191697003,0.001931943983543408,0.08244060257617318,-0.05370377806205154,-0.06145546529253701,-0.06950820765834015,-0.05166985300779275,0.05334042325675838,0.057978321809661754,-0.010272634660858112,-0.0771113711953441,-0.07270299312305264,-0.08162404647241041,-0.06547260291181917,0.012277554314525041,-0.06263182715421202,0.02889653741333094,-0.07676661350262258,0.046239591612592064,0.011742651136389221,-0.021596704648610347,0.01163817632972233,-0.05523877564021095,-0.07801345109262743,-0.08543792052362614,-0.06421343219559292,0.08647260063451799,-0.02508743999748932,-0.04523858678401036,-0.04412420840965296,-0.0803348321880727,-0.025300988269190822,-0.08489989312808699,0.08220950026440321,0.039415675424284036,-0.06612278638607652,-0.06436246987770465,0.07377069428375048,0.013247260317741682,0.06897303537037934,0.05747294752784042,0.02593104857741012,-0.0049237724133289595,0.054768953469422836,-0.00911036956390518,0.08579823206686091,0.07336965456578344,0.05965165163330721,-0.05427973688369072,-0.059073252082335014,0.08033304429170172,-0.013562754140476464,-0.04830300176475194,-0.03975466153237657,-0.05982650942378711,0.04050784732018744,-0.08514042722438261,-0.015461452719890408,0.002147947498769351,0.018822731627281448,-0.017558967765602673,0.03640039406605272,0.06685827349327718,0.07117537491708913,-0.050955487977498375,0.018058976639478374,-0.056739419341179854,-0.024520086572616454,-0.045033679561938836,0.06792194138678542,-0.03574948158233285,-0.028210935530683105,-0.054294332835321465,-0.054301338716705685,-0.019863382728183304,0.03175898507528855,-0.012508860248830935,0.05239006306537914,0.04336929645018019,-0.038622242852807714,0.0009590615756289413,-0.03962007432442372,-0.015934410365003617,-0.06586131463526551,-0.071353001765268,0.045732172552986936,0.015636633319542386,-0.0544584263990435,0.07865632964955954,0.06790033141611619,-0.0007708550990450352,0.029961024146793663,0.00975477281580617,-0.060841648740263515,-0.032205615910221176,0.07273689849910035,-0.06535230939475106,0.048480787012158424,-0.0467631099670559,-0.010756012485685576,0.08682408975291846,0.053723474457194345,0.05394798548415114,-0.012405639914433006,0.08721657870453701,0.020419091207742438,-0.04288174300785425,-0.027475250243744746,-0.06452051124690805,0.05326448713067593,-0.05699409692753044,-0.040660528692145745,0.06524343141530235,-0.003795487834319625,-0.04287650003938066,-0.023970597799443417,0.00400802704842795,-0.04125031556435833,-0.043845082639791,-0.025669657726239293,0.06281388859030959,0.007926983477637524,0.04263237841386056,-0.02967700386427065,0.008724691240674069,-0.036220098179874594,-0.02178617498470511,-0.0755847346147958,-0.07424824476103652,0.04837333969548542,0.024023488584639208,-0.013315195492898097,-0.007903800213812621,-0.05799012036840547,0.02491370871258804,0.027573440655095573,-0.038727488893215284,-0.06513378275731056,-0.03495466693257951,-0.04066177972793962,-0.0027339508947128604,0.07351225883226148,-0.03530043665138395,-0.042741140804410264,-0.0818347003885315,-0.03369301129865377,-0.01558377586574887,0.009986028356200978,-0.005855896995953079,0.05788348958239981,0.07484960510033528,0.06623502899708159,-0.06956048991971707,-0.06654837548217253,-0.058791610481991136,0.054354713443438105,0.08048745269132615,0.07369492310386988,0.059898802670915886,-0.022046816342182703,-0.05009521562846708,-0.0009832999322897276,0.031793053808127726,-0.01672980281249135,-0.036130542941888076,-0.060462077517914936,0.029877501786474536,-0.03792277373643443,-0.03226389714565588,-0.08237831043823143,-0.0043061996991683215,0.03165791273754859,0.039984008508767814,0.032486623340359906,0.027561815553040964,0.012986248081267108,0.08290743628605539,0.050759860453433704,-0.03365017337857115,0.04849772040023291,-0.01996589096494525,-0.06226924836300175,0.0772817288058822,-0.00883299352278271,-0.044533020056371025,0.029043254247745853,-0.022653199786291246,-0.046141241071278226,-0.06035832782661541,0.06983157295993346,-0.04078857030037975,0.0778974933899538,0.0522990114129783,-0.01751133520805966,0.07982798518278061,0.0045977054504829605,-0.07345617897902644,-0.001646781882160985,-0.06475622671223248,-0.08204298419031199,0.010263299826101465,-0.04468541994430366,-0.08175168046504076,-0.032119254728642244,-0.047231620454259826,0.07064307005422066,0.042155922154417644,0.0648097195123988,0.0367821578339109,0.012389132598722586,-0.00210961882231471,-0.06182581754415073,0.061360720349258616,0.004454073523416451,0.0363359856936138,0.07313464811663849,-0.08637834481868019,-0.0031260449812033297,0.03368752375729479,0.03367925092625422,0.004640171520901467,0.03867193137451281,-0.011518063728582013,-0.08559634854238021,0.07144739895237598,-0.0425698825629817,-0.03943754849815791,-0.010493159804734288,-0.025865016996889884,0.08340419925054675,-0.005872429027828348,-0.011604290815829314,-0.016085701803918714,0.013687394598525988]},{"id":"chunk-7db5cddc-155","content":"Args: a: apple pie b: banana cake c: carrot smoothie \"\"\" return f'{a} {b} {c}' def print_schema(messages: list[ModelMessage], info: AgentInfo) -> ModelResponse: tool = info.function_tools[0] print(tool.description) #> Get me foobar. print(tool.parameters_json_schema) \"\"\" { 'properties': { 'a': {'description': 'apple pie', 'title': 'A', 'type': 'integer'}, 'b': {'description': 'banana cake', 'title': 'B', 'type': 'string'}, 'c': { 'additionalProperties': {'items': {'type': 'number'}, 'type': 'array'}, 'description': 'carrot smoothie', 'title': 'C', 'type': 'object', }, }, 'required': ['a', 'b', 'c'], 'type': 'object', 'additionalProperties': False, } \"\"\" return ModelResponse(parts=[TextPart('foobar')]) agent.run_sync('hello', model=FunctionModel(print_schema)) (This example is complete, it can be run \"as is\") The return type of tool can be anything which Pydantic can serialize to JSON as some models (e.g.","metadata":{"url":"https://ai.pydantic.dev","title":"PydanticAI","chunkIndex":155,"totalChunks":208},"embedding":[-0.03370716690298702,0.014017720192285631,0.04637537415159066,-0.04467308398446322,0.05252950188743237,-0.0805093123709675,0.014213229087821543,-0.017783775309980692,-0.07628251323858888,0.058039709157530775,0.04056918114484808,0.06220619765819722,-0.054328660100211514,-0.055568325630193316,-0.07262677130490315,0.017264528707967006,0.05176916485610973,0.03581237251690258,0.012935200543049766,0.013602811441041049,-0.05701896385109266,0.004349550544044602,0.05210814652083483,-0.02973134056710222,0.0813878353210375,-0.03630079051542095,0.024962945860944732,0.08207748354771481,-0.07007036910702835,0.017035270930350555,-0.050849687997498005,0.01469853885931537,-0.07003701713679963,-0.028112564570554353,0.041785476832350156,0.05731721642175655,0.020894092445793735,0.08233720671427504,0.04958621744258219,-0.06123622741187065,-0.032092452711764786,0.04323581743868362,-0.0853703033926085,-0.008404735138597028,0.03967408269018055,0.03100157548835874,0.02488490895133257,-0.00421206570388279,0.07196965842232166,0.0319103680713766,0.07637282824223116,0.009023417507412342,0.07497349598310112,-0.04414493997607053,0.05487939223908775,0.08241798149717187,-0.06900578730878265,0.003981451604637691,-0.041181812777225775,0.03701467504551397,-0.05123598341712151,-0.03905303385780833,0.010113139023859023,-0.004311845130806036,0.012550893463792095,0.05847042881012739,-0.06094368998277657,-0.01658790285448001,-0.00480879655630312,-0.014339204181243223,0.015252512872947896,-0.08225081737324866,-0.032640858533196204,-0.05916392150661639,0.00475872198515284,0.02998708150418769,0.003718466252975686,-0.04617742207786528,-0.04378495974650673,0.05270406106458542,-0.045353758890874105,-0.015455880173347637,-0.047848983101943174,0.08399242555185518,0.052789582835180836,0.0504579181978633,-0.0831430319046003,0.025751250902256405,0.010909649117180554,-0.014748970645840893,0.037749043417566484,-0.08731182630738193,0.07444454795383275,0.06964470588282795,-0.06161546363283383,-0.04775738992476727,-0.009273086027336822,0.028098128684545264,0.07534544812923483,-0.0796477659812219,-0.06338978112209687,-0.0485835944184638,0.057735288648454154,0.03287328207027824,0.06879062595764704,-0.07243667419014681,0.023499931095577294,-0.00268736240766094,-0.06388369893555981,-0.06472091391433618,-0.06868580033674596,0.06424701243828822,0.0567459440175248,-0.05131796112167167,0.017518419822861633,0.005216288900405053,0.02698282338485635,-0.04685418912197378,-0.06059911058536724,0.04946893890847436,0.06656367510706442,-0.06572343952477794,0.03086401010332764,-0.015214871823166666,0.005095371899990236,-0.08925142042127845,-0.01263038705675415,0.003244932529437333,-0.05925966795021198,0.0418476131395847,0.06990325957760572,0.058801995551529505,0.05355078575303587,0.0467706086806472,0.08062235215035252,0.07106754784339525,0.06993296292573344,0.038263668062337504,-0.043884755448750354,-0.01806183228202315,0.024121466561730684,-0.08243053429978112,-0.0684239265358444,-0.05650196973074069,-0.03872279978638499,-0.04235469341730502,0.035722897267528496,0.004672502403159941,0.06032912477552726,-0.0551942446977945,0.05467007029786992,0.011033360807602309,0.0638866861451606,-0.008347352324018507,0.035311760095338623,0.042757883585599045,-0.08950897239130955,0.027388019331388694,0.021780388583288752,-0.02084438862170957,-0.0670718988348557,0.063827414977756,-0.06039266432827252,0.07043168226117962,-0.07096297503730331,0.08555734928601462,0.08714877870195778,0.0425161565764207,0.0007695602246738265,0.04094346970891361,-0.03302690463593467,0.0472395079662901,-0.009900646254196446,0.024906372043176788,0.023535135078191747,-0.08630076572021925,-0.018813146282103486,0.025760853992734783,-0.030594225137525653,-0.06345105679649629,0.06841588522209255,-0.056810264046366875,-0.05446984649678229,0.0882339798106342,-0.011306969150416143,-0.013106834379101814,-0.007028411307205326,-0.02051010579696935,0.003577882986260246,0.01358874239149844,0.06430040783181284,-0.04757882632007857,-0.06821695597212783,0.021746311326771153,-0.07489004379791471,0.029290871479011566,0.026466742063567004,0.04489736605596886,0.07769968813862074,-0.07118175054039348,-0.07964147521628925,0.036428049265339976,0.018057515495587328,0.014132427450907887,0.04922345021690637,-0.07705736012127842,0.011861896192659465,-0.08992010230584278,-0.05863291179149672,0.04034839434901614,-0.05333936138916986,0.0550995205320928,-0.04998534071926751,0.01520485614556871,0.062423970785251366,0.027027910524437596,0.019641023880543403,0.007251038939885186,-0.03279098457304374,-0.04703486691931722,-0.032899138986135626,-0.08763845516658555,0.05990143110938549,0.054383671641976106,0.07987335830016516,-0.030390418319354302,0.08226094389840412,0.08131655478117558,0.05793856685366423,0.059122360081087455,0.08924065535978792,0.03575893631043165,0.06192032216572243,-0.0698180363766042,-0.044742626931238726,0.05621819153707787,0.05147668038071378,-0.012531415261678744,-0.004129041241165215,0.044411531338631564,-0.005746942773989156,-0.08751038055487102,0.06517412724422021,-0.08781238466628456,-0.08962131069185202,-0.029782496597939568,-0.0036286007875614692,-0.07496471987084462,0.0204034498266111,0.08014256824024338,-0.017400311451089254,-0.07481040752852747,-0.08600465252621646,-0.02880876885705356,-0.029094561643266927,0.03172150030259732,0.04099168461051823,0.013172271975798153,0.08526530801709194,-0.06634822253685171,0.028228449799689886,-0.0033885548743376255,-0.0895853153759456,-0.0007888107377320256,0.004531413113459055,0.0565681655384459,-0.011579748726406604,0.07040261005730807,-0.06563201613480038,-0.057267711664194844,0.0020402394237318444,-0.04873512586008028,0.04566462529684411,-0.04252158459506977,0.050137387982519974,-0.060296226667865355,-0.04537497546129268,0.058031254617192274,0.060222982601737314,-0.04340105153810283,0.0681721786792109,0.030805008301483198,0.0880887800062331,0.04860992167347361,-0.04221640552448825,-0.048183142925815436,0.004561193281004061,0.0026816157715200805,0.06424560104108602,0.0029395692238621198,-0.05325073224371585,0.06664448579772228,0.03090104666019811,0.005617377098304485,0.03794525019406319,-0.0673711034725725,0.017146097011186752,0.05074766358121548,-0.018177198284070148,-0.018363972437272835,-0.07797927357435466,0.0343953002541162,0.026863542715206187,-0.061854567966395525,0.01490045076803694,0.000827986765187378,0.04249906741131342,0.05479094320172905,0.08658820761295724,0.0887547316725864,-0.06882318278625309,-0.009591942358279473,0.0016952985804504744,0.04744124769490482,0.060096628662042434,0.04796687730738868,-0.05427055707177997,0.04509007748733083,0.06528507593071639,0.05834173981668619,0.03957900519045433,0.028023192704416125,0.011275001658452497,0.013928850568598819,-0.009452905152749295,-0.01931944139596543,0.022723252567519822,0.03399128313991726,0.08756740783476163,-0.019301890898078974,0.08272821110226938,0.03016893857660712,0.02574910236786405,-0.05119308454054209,0.03914047956571884,0.0742400854101514,0.08539263539616095,0.06914035915436036,0.0040570889857213695,-0.07098742590433633,0.06117597607763823,-0.08793809072688821,-0.018560949974237732,-0.08583821461892242,-0.039027973207549894,0.07824709090703684,0.058411182989909424,0.031711914516878215,-0.021128140814687384,0.027849167848650123,0.013009769951629816,-0.05802751071556232,0.026340817784214154,-0.0008428845476818941,0.06455039414543257,0.00025854178634000645,-0.06801298024316182,-0.07127427605768516,0.07176247580828723,0.0016423217527679426,-0.06795513275334922,-0.03440119325728099,-0.03548036250107973,0.038913004449421876,-0.04515723488226122,0.010721188756582158,-0.019664061679995595,0.049009518529845066,0.007278300740664886,0.025763489278681197,-0.019615182497125006,-0.007446010154909311,0.014434086648914721,-0.0029617997463805136,-0.05307196771110819,0.00439501076757755,-0.021746080664063246,-0.018282964113002714,0.08367951878966806,-0.05691636754696254,0.008796593225757762,-0.07915557606861587,0.06677928336950788,-0.08921029116916601]},{"id":"chunk-7db5cddc-156","content":"Gemini) support semi-structured return values, some expect text (OpenAI) but seem to be just as good at extracting meaning from the data. If a Python object is returned and the model expects a string, the value will be serialized to JSON. If a tool has a single parameter that can be represented as an object in JSON schema (e.g. dataclass, TypedDict, pydantic model), the schema for the tool is simplified to be just that object. Here's an example where we use TestModel.last_model_request_parameters to inspect the tool schema that would be passed to the model.","metadata":{"url":"https://ai.pydantic.dev","title":"PydanticAI","chunkIndex":156,"totalChunks":208},"embedding":[0.011720156241146557,0.05348454228583414,0.024488963099062473,-0.026777517315189597,-0.00021631298193063253,0.08777556994284297,0.09012506776563853,-0.052548117102736644,-0.010448739732026193,-0.08216122906426271,0.027222466571724384,-0.0640391144326607,0.03786693780458149,0.009325097866182212,-0.038080049918052264,-0.030020680767818882,-0.0044364114588371474,0.011452582671225491,0.0629046286759793,0.09304017072854344,0.08302535485676915,0.025119864552892914,-0.03674135531316039,0.08323457992986844,-0.09000746561726744,-0.010880763814832559,-0.062249572594687316,-0.04542637098080376,0.035562848790990816,0.009657419301582832,-0.052592896851371126,0.06966722031054552,0.007690187909627089,0.011399453468426555,-0.00037740293324878743,0.03192476944281608,-0.04542769194564331,0.047159844913655415,0.05267413325533849,-0.08215767999723955,-0.05212803430604073,-0.0687247144156667,0.03203156215512389,0.060267815646138666,0.011594302004335942,0.08541877827813932,-0.041376887832251935,-0.07986927904960003,-0.004460041294354975,-0.008102144432331591,-0.04415568679514436,-0.016373651493337336,-0.039967188468707074,0.026708342465718835,0.0012231113165391205,-0.010381652810328436,0.0505988223807111,0.07322808529082538,0.012108207761394702,0.052792520306193184,-0.05997354468923656,0.06491054095915871,0.09269126568514836,0.0005198185978948311,-0.043436873339388594,0.010240346931270544,0.06326407815762101,0.0032909324962446056,-0.0036794909641849724,-0.07498785371871987,0.012403808711528082,0.0715142964024793,-0.06512505382401115,0.07315124280479471,-0.08524090270485636,-0.01872826951868407,-0.054240509503625044,0.059767686007128125,-0.0022495275538256714,0.0499520889130544,-0.048139110055371796,-0.08137880523912024,0.026422129741041942,0.0392454887231394,0.0015104773490051968,-0.07601472288571964,-0.04788572825008061,-0.04805696570030574,-0.00006791254217437416,0.02449019175967469,0.03656185754162946,-0.0871208706300077,0.039049959778725135,0.04380609765901993,-0.08159081860716504,0.00686435216530716,0.052305769861138975,0.09280300375362688,-0.035668355887507205,0.028984150731357343,0.043680353300433954,-0.026933592379590685,-0.03494687873437013,0.0374667199063483,0.04790410303807787,-0.041940525922438555,-0.041946655798441694,-0.07917177660618648,0.05368477277452503,0.05191694370661842,-0.014298398615998513,0.0193522566909011,-0.055976149574094296,0.004839957396818106,0.0367767523800578,0.03548329189511067,-0.07841585059847037,-0.03587750477637462,-0.04727291160924043,-0.060711778610505515,0.08088319284450762,-0.0697799577782381,0.011404356232255483,0.04515536470787598,0.050982922992987574,0.08007034562675452,0.024379101857282412,-0.05788231094283769,0.027410671386680036,0.09015324911831332,0.02697945671161167,-0.020557844404149615,-0.019740666875995853,0.051697706621479204,0.060629359921868985,-0.05340234886995862,-0.05191253299473848,0.06655468980027546,-0.016063508785201786,0.01340163464665746,0.068865912153608,-0.07843812632447007,-0.08109226336828414,0.06384932106720603,0.02533208552581896,0.08257166626134319,-0.0011271686214408912,-0.08503350464328538,-0.05600505681323752,0.07396681910361902,0.043299767247486486,0.043305981368688184,-0.007734850636886743,-0.047280009437010745,-0.08554821357829763,-0.049507607988709325,-0.04922963793464415,0.04607155111080173,0.005695777199436578,0.023421246262138363,-0.010351761025910733,0.06106048056142637,0.07151345870230794,-0.049108412961566525,0.03597267955781026,-0.012425487418301186,0.03242028546393839,0.01853404701018608,0.07386265229838049,-0.02146225736132942,0.04701531195877485,-0.0073830847937152635,0.01593717798631658,0.05320918233063441,0.07685658368649587,-0.03446629130130895,-0.044071738399719756,-0.026744235781539054,0.02048639066472518,0.01657949838175344,-0.08477473928845454,0.07052689204392655,-0.028926338958572932,-0.0006969378481308995,-0.0005062320320757726,0.06783606415978471,0.054809571093205285,-0.08325473208320593,0.003660750394012059,0.0260134377455071,-0.08303802532069719,0.050988170034143854,0.0025600764278286285,0.04652739941341188,-0.016608383462672297,-0.004846258148431758,-0.04798812658923299,0.07722315553576796,0.03356933533604711,-0.009431347009816163,0.026889616018843567,0.053331524439243126,-0.08617132803193353,0.024941550472199998,-0.054144119863270626,-0.006654145894588606,-0.09328549050103539,0.02312252270523964,-0.004279871186423565,0.03463133064876823,0.05274939556837743,-0.02872946625780063,0.029826647081743415,-0.0024412217356195682,-0.0927025482751723,-0.005162990164398705,-0.042474957641882596,-0.001276700170598115,-0.07789964432852449,-0.07973977523578217,-0.0698835529696135,-0.030124736991358377,0.09313357191701725,-0.06903710107354433,-0.05412570644931463,0.06611184863833433,0.07295602374679974,-0.03953614048692692,0.021257822131869594,-0.03730637565752704,0.00011413139982233864,-0.027780387975701006,-0.013343284892873114,-0.010562286005637817,0.08459323519697236,0.062044245955205864,0.03608531283271043,0.07169884856092905,-0.024822757789972883,-0.03464999937255471,-0.07481120513043267,0.04076849508170001,-0.03467508161213138,-0.04105913292562376,-0.00463028420583139,0.031079012227262684,-0.05699410514367134,0.02965333902040429,-0.02821234578678314,-0.04751253903288079,0.030555351717496057,-0.02443440983014717,-0.04267957756293585,0.0614549826670421,0.06446044273606547,0.09204952836241202,-0.07171885043934907,-0.04138682223454127,-0.020032534242180686,-0.05991073173226699,0.03000245057259706,-0.07487229805628492,-0.05485250800115258,0.040935089784636475,0.09314554764782891,0.03480644462657154,0.08095542542761502,0.06001143297245794,0.04560172313870233,0.06370133224959078,-0.07939363749786367,0.07993062489802501,-0.06344145771359415,-0.026061262558530876,-0.05496527811324309,0.05291471007683372,-0.01780852130908394,-0.02861161187013217,-0.06963754691902913,-0.060615453363842414,0.044560146172318835,-0.029099738388924237,0.02811036336679851,-0.04462833324888296,0.09125787771292769,0.020707692074195715,0.08144424072121764,0.04974819472347884,0.053813251063882565,-0.01639371026652041,0.08758283696978159,0.027164746245862792,0.06185867214033486,-0.05715789007026065,0.07868940540597319,0.0023062390482281436,-0.08220824668584369,0.05805759284150359,0.05974228943584947,0.007778698747118027,-0.03397114446489676,0.057720883296209016,0.07762414942992622,0.006905161373298237,0.03663451902933051,0.018356314286575744,-0.03340408522639314,-0.03713950060772857,0.07320145166573223,-0.026158990858565094,-0.02631721592455259,0.024877306082637617,0.03280943906862162,0.07368648735969346,0.08149096304229014,-0.021376244421758384,-0.07758948624461737,-0.09244396389875878,0.07996087550905212,-0.018476282223660687,-0.0019847947985214046,-0.029772560867973336,0.006708596224160265,0.048998959245198245,0.028158028869272527,-0.05971163009851981,-0.035752894560934265,-0.03348667195280613,0.06760274906606474,0.007126266258469128,0.004551128768129266,0.08262807896017252,0.02515516183718516,-0.08496257249506908,-0.032878137066224715,0.00708616296266903,0.0233203246741088,-0.03106706356258776,0.06143327248931155,-0.07735022682675231,0.061296288177839095,0.014402053366325163,0.030906352289726997,-0.09249343761343612,-0.03469324242772174,-0.07115931428696595,0.012682359434340082,-0.0009200953598995928,-0.03191456997937643,0.08988613702197544,-0.005518819024915509,0.07056244169157476,0.06025176189684559,-0.03272654116560534,-0.05160398995150124,0.00884076637036726,-0.08662827346932664,-0.08086515447767262,-0.0009991238970258579,0.026576937767755944,-0.03151351601849015,-0.055688657615164276,0.033498206798418695,-0.04457309134636946,0.0417542949590885,-0.015864554833482158,-0.07060026799749525,0.007701775194498037,-0.012763682357470201,-0.011204413340279329,-0.019797753024633335,-0.00011315458862420702,0.03344956906913333,-0.009833590381155088,-0.08059351373770636,0.06467325013237123,-0.08038129015783518,0.01664672730325153,-0.04968750202333219,-0.04096650761628893,0.038221168727330945,0.03544798512409876,-0.010875952954188696,-0.06960181221619384]},{"id":"chunk-7db5cddc-157","content":"single_parameter_tool.pyfrom pydantic import BaseModel from pydantic_ai import Agent from pydantic_ai.models.test import TestModel agent = Agent() class Foobar(BaseModel): \"\"\"This is a Foobar\"\"\" x: int y: str z: float = 3.14 @agent.tool_plain def foobar(f: Foobar) -> str: return str(f) test_model = TestModel() result = agent.run_sync('hello', model=test_model) print(result.data) #> {\"foobar\":\"x=0 y='a' z=3.14\"} print(test_model.last_model_request_parameters.function_tools) \"\"\" [ ToolDefinition( name='foobar', description='This is a Foobar', parameters_json_schema={ 'properties': { 'x': {'title': 'X', 'type': 'integer'}, 'y': {'title': 'Y', 'type': 'string'}, 'z': {'default': 3.14, 'title': 'Z', 'type': 'number'}, }, 'required': ['x', 'y'], 'title': 'Foobar', 'type': 'object', }, outer_typed_dict_key=None, ) ] \"\"\" (This example is complete, it can be run \"as is\") Dynamic Function tools Tools can optionally be defined with another function: prepare, which is called at each step of a run to customize the definition of the tool passed to the model, or omit the tool completely from that step.","metadata":{"url":"https://ai.pydantic.dev","title":"PydanticAI","chunkIndex":157,"totalChunks":208},"embedding":[0.024400302241661287,0.02635856033944843,-0.035385789271643216,0.022778210868655908,0.00636187965404095,0.031208661772076172,0.02586091543073577,-0.024675869367663958,-0.08570236457502503,-0.08397988488038288,0.07478373035537433,-0.0016168279721559548,-0.0708098961434857,-0.020758805794174624,-0.021648422104915282,-0.010615323036454039,0.061200817548757676,0.042031349188492426,-0.059034722447274736,0.01713109726719404,-0.00010109114903027667,-0.024788954407041337,0.007217202074096112,-0.058343059593115094,-0.06810363989878755,-0.01856809415199865,-0.05610111088770748,-0.04601446313275683,0.030355525928099817,-0.012595860715190301,-0.0454020160937798,0.07217721060060345,0.08447063993528052,0.03312716040722277,-0.08361141637163091,0.01746755030618929,-0.052240070841353084,-0.07133245083115003,0.08595599883152157,0.07262252406655477,0.061395876608622925,0.06585396295435277,-0.013724440354557579,0.05946827410860898,0.056218470769564516,0.0495085099340263,0.0468148920782742,-0.06527459448234765,-0.03388726794513086,-0.01053746341377627,-0.0239538470801981,0.010436285579967064,0.08566287896088624,0.07372955988364276,-0.022352240283675624,0.01170634172529421,0.08477320598516365,-0.06329436135626237,0.062240667539880556,-0.030709474010925563,0.0032481419667483484,0.04490307380936256,-0.07799228603411364,-0.03949225159719737,-0.01850860982971624,-0.060426765901978874,-0.03715667977626426,0.0003680990252103633,-0.0780576222102528,0.051309466479364706,0.08509979967891386,-0.041074362530525294,-0.04616998176236012,0.03102859289192077,-0.034112352452317356,0.004340386993128862,-0.08238599031157717,0.044721430780780676,0.06610823570921373,-0.020680200567178886,-0.007639532593182173,-0.03893147689992658,0.028717856163336924,-0.03826324760078355,-0.0708621761835467,0.08147131911009756,-0.08125128539427476,0.028866755899357006,-0.06350627141550433,0.08693391904745752,-0.01777155565489108,0.05945572255583033,0.08097791628187066,0.023468003246624587,0.0026605353358811474,0.06677078783106676,0.06823023935003254,0.049353552141021925,0.051001755114572216,-0.023098728395690916,-0.010909761166452061,0.05645648020238793,0.06616837315858956,-0.0778894418343591,-0.0040122081893059335,0.08648621790317074,0.029491267949965008,-0.012578417844433172,-0.04431807595324187,0.03400688205363462,0.066427204753912,0.04573888487452706,0.06337112794815161,-0.08756515181485015,0.07094663112901409,0.06227859333324906,-0.025066235014790557,0.052970308482269655,-0.008580705356526235,-0.0551922509377821,-0.06167234740424544,-0.07743960218450383,-0.07312622498471333,-0.04447907967697635,-0.05864110777821818,0.02549849785819097,-0.07676194966727477,-0.011700963176520663,0.022416942814686855,0.010518411859353101,0.03873135435608576,0.0514676418235909,0.029274937399434754,-0.041732837827985196,-0.05989797904955573,0.03202393893545966,-0.005428244203240634,-0.036627678081141916,-0.06397858729120713,-0.03324968679772791,0.03263020637940043,0.012014794972463366,-0.06432317820731921,0.07931205025402759,0.008755058776830589,-0.01481763892097227,-0.015682688505743878,0.01641537751923615,0.0345566071828353,-0.007044975569498447,-0.08362802522092565,-0.0745504478527599,-0.08087687380795112,0.07040891174082356,-0.04601902324088893,0.07976836305265496,0.008512838049633849,-0.07029821794940122,0.07928311145586767,0.07694517334128778,0.08493592404752541,0.052439466312656516,0.039070284458518026,0.0813358899009754,-0.029668328096388818,0.016600702096530938,0.024361352682747427,-0.05744487502130543,-0.02090227386122637,-0.046618536436672256,-0.047242314433303206,-0.030851070960282206,-0.02554764307374678,0.025488013206357442,-0.007255725173634865,-0.04151566765384764,-0.015329411699993694,0.018332353840160447,-0.08883465040876126,0.02295182891770862,0.06450134849944412,-0.0036829078195677227,-0.03672756478224637,0.06798622608408267,-0.029067348500245335,-0.047558484296710446,-0.01350710681349826,-0.03095584898042011,-0.02501801360815894,0.08322593961941493,-0.010816330156625257,0.0638782485349152,-0.06420962285532734,-0.05245314686979588,-0.050563071302208655,-0.0410623811358349,0.046757669945648506,0.03909296960284908,-0.024541767627242205,-0.07382753614629715,-0.05487736367235594,-0.06746424523978763,-0.06913077803786577,-0.005803447332963604,-0.08171928203679085,0.02882106277570336,-0.061631569075755385,0.06625657274896268,0.015629321623279086,-0.03714254448869065,-0.007987528655154383,-0.06292899587133453,-0.06684946958784303,-0.0669627975376126,-0.05654521467867122,0.07788145779372938,-0.04618508393716963,-0.057895183044635166,-0.037164479131685905,-0.06192462478291108,-0.0119721591997706,0.08641922637529849,0.06454256258153167,0.024412799645566276,-0.06526935285855535,-0.04738231977233643,-0.0854370202454384,0.01409712111547574,0.05355823818793166,0.039879296714686076,0.023078147386812194,0.01014347200309232,0.07585508942241953,-0.0030528865503978027,0.07467014808033412,0.05464157775306276,0.052043166066808984,-0.0448027061530047,-0.03988005091865921,-0.08481894703319372,-0.021998463588196453,-0.06966200081801333,-0.054425015745626686,-0.055798846997879945,0.061014249311383356,-0.07129061044684415,-0.018346243567414443,-0.01632295176192016,0.0017713818983357184,-0.01832489686682006,0.05430735152560259,0.08720061071330232,0.07605191614518308,-0.06741230307334437,-0.001327290067833269,-0.06411742250185289,-0.011862133667148857,-0.025685190488412134,0.07826069093394884,-0.047423661256903116,-0.04938755631735968,-0.06685488674145129,-0.04723859030837427,-0.000021963416951438148,0.04611251239411924,-0.018352775381253426,0.03393727041988596,0.028688806460674964,-0.03678411342771127,0.01957832095734295,-0.023136695976014365,-0.016110103937884156,-0.08453691079309858,0.08673057355055266,0.043687458401549174,0.03141286126721108,-0.035947147966794775,0.08635769587699636,0.056087869444819555,-0.021134459630100473,0.022007502851425886,0.020993082398874513,-0.04168366798524615,-0.021759516180883006,0.0659264043638246,-0.08715424987079086,0.03608411483878519,-0.04208907758417656,0.008693680997658168,-0.07411445218026214,0.05204784643168896,0.03649795448451849,-0.02997177973783033,0.08919120200267235,0.038162695507399785,-0.02517732193545111,-0.025196206260902812,-0.08152520265894336,0.034776884535439104,-0.06402970775536006,-0.02809248751636653,0.08704406843951602,0.00458634565540639,-0.05501921687595899,-0.0450527005737101,-0.006924819739596173,-0.03356018370188705,-0.024494750503676745,-0.01289304173390255,0.05832965402011429,-0.011637720746793945,0.028172771605228044,-0.02727598266110207,0.027671494206294108,-0.019855972553389067,-0.022458209028338665,0.08377703674711708,0.08392088800435328,0.04674848044856,0.04022769291618559,0.006026408473125841,-0.0025152572926059815,-0.07293274050234386,0.005185626467146071,0.01989699755138009,-0.028283956113073022,-0.04607471332074921,-0.024877707783148427,-0.050374848021213954,-0.023165090661641106,0.06195962610139848,-0.030018146287537552,-0.02391696203174391,-0.06838507230787277,-0.03771129539975372,-0.03475967109342437,-0.006873037909424093,-0.005629184042571051,0.07667081716054017,-0.08338369401308648,0.0702796471079125,-0.08691478461151073,-0.0876479540322593,-0.06551803076916594,0.069350340121791,-0.07587655393502643,0.08350217906659087,0.049784339748225145,-0.043080519133864605,-0.0619469817303147,0.007948945687738629,0.052905940778400995,-0.004028620776819396,-0.04320674413004277,-0.08167530066878723,0.015370968148905973,-0.03534982668894109,-0.014101485001489465,-0.06726312132098568,-0.004945204768525182,0.014807114095154873,0.022447269298254736,0.030862140703495286,0.04407909318083164,0.03281531452056222,-0.08844912964923941,0.03801450483373902,-0.054647669688404225,0.04162981998711895,-0.008795160473775153,-0.04315316688867218,-0.0888597131493036,-0.018151189404668464,-0.06595583375984453,0.016762086757354244,-0.01673768427933033,-0.02730028800144079,-0.04666630221423635,0.06780342246130125,-0.06067881081593609,0.06278353639997598,0.05420850980691047,-0.0002461325716564561,-0.07845233790694812]},{"id":"chunk-7db5cddc-158","content":"A prepare method can be registered via the prepare kwarg to any of the tool registration mechanisms: @agent.tool decorator @agent.tool_plain decorator Tool dataclass The prepare method, should be of type ToolPrepareFunc, a function which takes RunContext and a pre-built ToolDefinition, and should either return that ToolDefinition with or without modifying it, return a new ToolDefinition, or return None to indicate this tools should not be registered for that step. Here's a simple prepare method that only includes the tool if the value of the dependency is 42. As with the previous example, we use TestModel to demonstrate the behavior without calling a real model.","metadata":{"url":"https://ai.pydantic.dev","title":"PydanticAI","chunkIndex":158,"totalChunks":208},"embedding":[0.081853437608638,-0.006653222011152169,0.02829096118949146,-0.06621586389242369,-0.0845240397539975,0.0011117919170279351,0.06328690012024722,0.022790105746415715,0.04374451039156753,0.03277944726526281,-0.01285165573695614,0.019355693163741177,0.05241955439299839,0.05859164884758054,-0.06486432026871625,-0.0316238994089055,-0.04007238317629176,0.05129074707639455,0.05410251016954357,-0.035141784799813794,-0.0746770273963779,0.03734471905654273,-0.04494493620754461,0.08265692213675287,-0.03342326866688032,0.0752125940068833,0.05079329236568511,0.07446614448088075,-0.04417452154494623,0.08394266561413817,0.050269398762869434,0.04997558811363899,0.05596649196962531,-0.03917689789804926,-0.04937409074718461,0.058158250948446115,-0.01784954624372489,-0.03272511527859166,-0.020511432732059066,-0.050199246029910764,0.007219941600011629,-0.007015402410679903,0.02212609768844588,0.010744756629924863,0.07304925230055243,-0.050022989302437655,0.07680298328370397,0.00970030558601531,0.032035124280416605,-0.015547502083914644,-0.0540489436564683,-0.045823636911924884,0.07722119932408202,-0.0664918366129351,0.0875600819373126,0.004959741062132402,-0.009221742533262961,0.008587368443227685,-0.010436297247794898,-0.031017147076288214,0.05367893394934435,-0.0277782147432871,0.06527574189094527,-0.08003903790929819,-0.05353484061231357,-0.020349814231645114,0.010258441349139405,0.0851628673627753,0.01699302564171752,-0.014154296595721663,0.010256043878578818,-0.0027593510883660386,0.05690400822851052,0.039388326127906055,-0.07510582508203477,0.016026137924201926,-0.0682374453022433,0.08272982766279169,-0.051383202391657536,-0.08226326969818845,-0.024917016274422568,0.047055027289608226,-0.06062275094355632,0.006446451088934454,0.07939296584465792,-0.05324978181249149,-0.00548856675138049,-0.008640204900102923,-0.0307059000688673,-0.013780608929288677,-0.07267506010084525,-0.06086181485995766,-0.0011859050461198142,-0.01931346875083798,0.034730302559793695,-0.06581872823513174,-0.05701376543888129,-0.0731778820000007,0.06262711999115199,-0.04798436676852309,0.055228652959653284,-0.013696327476204312,-0.052144975211941766,-0.014933906095351997,0.04253756873542726,-0.06032014080731209,0.08453614978536524,0.05502906142527381,-0.02135948087456088,0.07634667386300355,-0.010623155212768323,0.012276955414895823,-0.08505733005488741,0.039001955726186845,-0.060371367882433385,0.08154442001852098,-0.04461651978256212,-0.04905677740723951,-0.03117645063440754,0.06183594591202593,-0.07193851287168265,0.06560810854571546,-0.0016960859682676745,-0.07019547086166533,0.0669658449494429,-0.06581080091348042,-0.0006200332978471913,0.013219726471791324,-0.030708619797103348,0.07585535272736382,-0.04032622037618342,-0.007550630016506317,-0.06271087712729388,-0.08169613276171953,-0.06988881162746369,0.08073505467899555,0.00018644911414441868,-0.00837151244241169,-0.02813911833847255,-0.046640643249649595,-0.011403450663105183,0.018768124567319487,-0.07797117894059051,0.04028716078643997,0.06550877603472906,-0.017978956644936813,-0.020231345010898096,0.020302566210799226,-0.06393134219789973,-0.03967564304951042,-0.06583627798890589,0.010141122618086407,0.01425559490823967,-0.022254113335457373,0.07645027208989653,0.047725769628850494,0.011489438313819031,0.05134561445444758,0.005272105893663524,-0.02505455438091753,0.009086596410230722,0.0033829020103409474,0.009770025791140663,0.005939945242123816,0.035192900036083795,0.08047314439196257,-0.07067872274873305,-0.07126667399929924,-0.08738168810387474,-0.02437683518844665,-0.02543476939481402,-0.03647578051509993,0.03006965723037381,0.038844345731016645,-0.0748475239442281,0.01291410015965629,-0.031693014426655675,-0.08674993804660273,0.08488609562554085,-0.08352864028032439,0.045108929981138225,0.018923497322012543,-0.07448517330823068,0.0023078188054619165,0.035719402387726494,0.04017590224638366,0.026127924663667323,-0.07666916569174811,0.01655982260734038,-0.013985678020192004,0.07985434582031453,0.07852786617789678,-0.08078174754938122,0.04068809492454762,-0.0376750791778957,-0.04862463174217092,0.045825755847519585,0.03573479695894057,-0.07045832806152057,0.024444909773594252,-0.04387919875944887,0.014794869742733578,0.022912631692196733,0.026585605824027338,0.049899148309047556,0.03073667917381046,0.05063322739698359,0.01744216732609056,0.06815558251975709,-0.05220711465852982,-0.07784791963579112,-0.07575004235544192,0.0434722188324215,-0.007908691721289881,0.030675260859203416,0.026242210478125486,-0.08635563608566672,0.020366721676884483,0.07372789935798701,0.05148367671785597,0.05354565022995458,-0.03718323851666622,0.04084412454127946,-0.01947035874805556,-0.03288135974233262,0.06404671031059536,0.0637490885892975,0.0716694811535849,0.08153747507374089,-0.0026417797010642413,0.03386127566688119,-0.04404816598968257,0.07852773468849387,-0.011444244085537777,0.06745430107538093,-0.011615798885871548,0.001608230399023949,0.011824229888194997,-0.009032766877682029,0.044759418017206454,0.0659775426266737,0.07631799093238978,0.0835425223199983,-0.04937048280793945,-0.07579484902490234,-0.07882666956244946,-0.016302588047585075,0.05972387723849047,0.08517191173967968,0.042337819057970516,-0.08120309314568437,-0.08538646318374574,0.017322607552457393,0.014244545676613414,-0.017926039522242795,-0.0739176698608637,-0.061291173219015935,-0.020477978113547967,-0.017275164218134936,0.01968352595151629,-0.026498333548110427,0.02977010830804821,0.06201497298201057,-0.06863377962541602,0.00878009451701241,0.05885553894083569,-0.026594930228080117,-0.06956945932837676,-0.049616621229882085,-0.04704820738737746,0.028454699999626923,-0.023215318819930778,-0.05195232707617562,0.07210891977957756,-0.04515695233689378,-0.03325456083734024,0.07071170954099766,-0.02008195234154944,-0.0625930797243801,-0.07062774008334541,0.017533280451819493,0.055357374060443006,0.01722417977046914,-0.06977991157933501,0.06745097821786998,-0.07432963462807433,0.021308613292223697,0.009731706586264367,-0.08441236661988809,-0.06243637290366853,0.054197459381471504,0.07314093126722089,-0.052983738109197244,0.0474695712582315,-0.032467748024077245,0.04164907375883476,0.048444348893917875,-0.0747414195948688,-0.06084265521111058,-0.05604362969030241,-0.04588136939768059,-0.066312058088837,-0.003591526191649371,-0.06235935283887655,0.03723917302521225,0.07644834792466638,0.07256711805676856,0.0016528957157794576,0.0004182145710013138,0.017962267182757778,0.058160914162034144,-0.05016145166149576,0.003645755418275019,0.03747468047572734,-0.012534659473014383,0.05909835030230925,-0.01653388054797587,-0.0797032682365233,-0.025989310615801387,-0.04050004591039336,-0.012381001766370067,-0.04962259693895255,0.03539945690347361,0.08114783128714259,-0.023340038950527914,0.00207746636888394,0.0380651732072998,-0.05095638567503752,0.04310184303160137,-0.06381022850740789,-0.07283233814557281,0.034404905249894056,-0.07005876286374517,0.05560792180903655,0.05035722643209601,0.06578847555300582,-0.006294002568110815,0.05536226078103472,0.023890836539171494,0.041212648052811884,-0.023401632257183815,0.027828222673407812,-0.02568312637811987,-0.012407022199684073,-0.08070856104174105,0.025558313966983322,0.06205033764743114,-0.05060934455234297,-0.06738186822201205,-0.005512487161015881,-0.0628812070978826,0.08521217196802754,0.019450505585202747,0.007532764539704495,-0.055177368791267535,0.047155235576722965,-0.03977954860778837,-0.032124059764337014,-0.06684447016285647,-0.041294369739227746,0.010122691149994496,0.07467154358541285,-0.07443120154524435,-0.062155519695714645,-0.0010333730272670835,0.06556761926723388,0.0058633459011906,-0.07788370800600662,0.06402367093616845,0.033342010681459866,0.05029646718981262,-0.08357868505673946,-0.014096086207361015,-0.0656097605465217,-0.014487663895016439,0.03255446663577578,-0.03323310377764846,-0.08384051327684469,-0.03644954482471169,0.03678958249380973,0.05756872360427067,0.07519039541892646,-0.08524301061968843,0.08189634318782245]},{"id":"chunk-7db5cddc-159","content":"tool_only_if_42.pyfrom typing import Union from pydantic_ai import Agent, RunContext from pydantic_ai.tools import ToolDefinition agent = Agent('test') async def only_if_42( ctx: RunContext[int], tool_def: ToolDefinition ) -> Union[ToolDefinition, None]: if ctx.deps == 42: return tool_def @agent.tool(prepare=only_if_42) def hitchhiker(ctx: RunContext[int], answer: str) -> str: return f'{ctx.deps} {answer}' result = agent.run_sync('testing...', deps=41) print(result.data) #> success (no tool calls) result = agent.run_sync('testing...', deps=42) print(result.data) #> {\"hitchhiker\":\"42 a\"} (This example is complete, it can be run \"as is\") Here's a more complex example where we change the description of the name parameter to based on the value of deps For the sake of variation, we create this tool using the Tool dataclass.","metadata":{"url":"https://ai.pydantic.dev","title":"PydanticAI","chunkIndex":159,"totalChunks":208},"embedding":[-0.0762413018209433,-0.05810098295605664,-0.04090245730687967,-0.04574964118810986,0.08535720980576024,0.036234958543406366,0.075363582493717,0.0856208773782378,-0.08294875328101431,-0.005555875921925936,-0.05679459718658564,0.07348569264355338,-0.07492434135770472,0.08481897486867551,-0.050779285367045374,0.08365386236912531,0.03532032526256277,0.0031141056845448473,-0.05692229819763524,-0.007159975504692194,0.0075795557414574674,-0.07259851624501587,-0.026645694187649956,-0.07549867634695491,-0.0066822380482608155,-0.07307615751873758,-0.0009256744585962763,-0.07688459218136667,0.002952015032292692,-0.050162239451937464,0.003273239618127903,0.03181057778972266,0.02008163716399602,0.03150605533232028,0.0829488988232053,-0.0028065230252496904,-0.025588230808948623,0.047432730222400445,-0.029206259022086047,0.029372182292097978,-0.0030357555905889486,-0.04564285182953081,-0.016451861763919735,-0.015863256882435995,0.0768358578420864,-0.06042166975879986,0.016724421718781017,-0.08449374037443595,0.02946731718326607,-0.017243133825197647,0.006318001052682914,0.05707381376135542,0.03460210717565321,0.0414476204153976,-0.007134325562658284,0.08450785540662205,-0.029393290601938717,-0.07452051382636884,0.04543866234600188,-0.05722479470971635,0.03758078983204577,0.005603360453449299,-0.06564778767581847,0.06507305943960297,-0.05519675597486558,0.06463901953850738,-0.07543733230923506,-0.05442482628732924,0.010817378758546894,0.0001915135458291875,0.003191401954377556,0.07317654974946133,0.06899123878123499,0.06560565601517954,-0.03097268137238513,-0.04029935135504372,0.019133561671599773,-0.07487096487174008,-0.08642994404174872,-0.027137283506686802,-0.009380739313105844,-0.053735960270589196,-0.059249814772448776,0.06580782460031018,-0.08361201431312622,-0.05229544803080367,0.033392808661423516,-0.07350795995109416,0.023562302585822623,0.07481935687764932,-0.07599525314213246,-0.02125429896563058,0.07498060006167902,0.08206658361300452,-0.05483814944431751,0.029458907110786765,-0.01387643286879014,-0.03608257062894878,-0.05725829028766789,-0.06086351446253408,-0.08098287882965746,-0.03722086895881583,-0.08198598985317783,-0.0613014626377285,-0.0800817246995622,-0.07124613279893759,-0.06808941777884774,0.008477341701415658,0.08272995673411519,0.04223883104063132,0.07767309163807133,-0.001736780629139824,0.005771990368258047,-0.02437520166357121,0.08328045724418502,0.0709205719807953,-0.04972549289002621,0.002800573759688012,-0.0734294302008494,0.01543308470735096,-0.0504145046882561,-0.02306733734442862,0.011627244111807105,-0.07980334593037917,0.054971291283299355,0.05669782210929032,0.03541009296817021,0.011443480420641182,0.00104716148995346,0.06521150351414721,0.05216942444755219,0.029410031460890603,-0.05404892938902907,0.009245631970182362,0.026679184252518064,-0.037450766587467835,0.04026617780966397,-0.012934783469407195,0.07255447649177195,0.011843980171933981,-0.053045159753435184,-0.07169456026314733,-0.04348976368760551,-0.019963302287073242,-0.05098963323956926,0.033207940275095126,-0.08209403403668185,0.06697692156483404,0.01896784923373496,-0.06022324733098295,-0.06104587870788462,0.005500922743769667,0.08206019641054138,0.03140922395713643,0.077541338269038,0.07479169685604412,-0.021274356889065045,0.03468527363459464,0.07473318236901831,-0.0828381207139302,-0.014609907349968948,-0.07451705886711389,0.046846351610075894,0.03261707474338656,-0.006056204891445136,0.017272566748230345,0.025248267784570393,0.0027100744694164183,-0.010317420523245113,0.03705634886718938,-0.08185439474713574,0.045200478192997884,0.07456053590627558,-0.048689051220997384,0.033037039904476255,-0.05133424222626777,0.026077073644574223,-0.07631937504258618,-0.022080982274107475,0.0316136360087484,-0.0831275276729995,0.043222913515582335,0.04995913387310576,0.013239475350474894,-0.08083043094627805,-0.07215800320900356,0.02478229159265932,0.03073247628548161,0.0663271778425061,-0.02675443742800008,0.0497255177892291,-0.023186378016388724,-0.021048744248524206,0.03291843143804286,-0.04115609359470938,0.06552938315155545,-0.05042501215046044,0.030092224368456974,-0.08483747331905485,-0.005612049780918236,-0.06960798240639862,0.012716973872520685,-0.014039533622274147,-0.04125480323570692,-0.006475928982872203,-0.0022280200121387247,-0.018335731053823093,0.018082295010484844,-0.011520706271434207,0.049445143250624796,-0.051375519174147684,0.03772981799309333,-0.036683207959509995,0.065110889991496,-0.055259313798987374,-0.00033579045941834276,-0.03961237363168383,-0.0572004840457769,-0.030724917593760972,0.032599965168356705,-0.0732254577780664,-0.001154422839224987,-0.04997425588115476,0.004354894197390102,0.042629770658848425,0.07687969648865456,0.05824006997552671,0.04259563099520823,0.07777500318530876,-0.04436206217378508,-0.03489383507208153,-0.08509252459579006,-0.06935616811986997,-0.03444190947527649,-0.028266011319777535,0.009663028617525715,-0.036620684505354786,0.029462408999468784,-0.0049002718030075835,0.024882891353147016,0.038133753042928153,0.03606413771096325,-0.0723260435733085,-0.07741742205254187,0.03475411908281724,-0.08175651294577399,-0.0016102394177562797,0.023045797559237538,-0.033137605605771,0.03764869300008965,0.07540019516299622,-0.021223145080671153,-0.05747589504040841,0.07658660794919185,-0.05108730727369839,0.01569752267422045,-0.028511776500058678,-0.027419320151389898,-0.04831127875840225,0.05348200373981249,0.0011295239756001407,0.03024097802965464,0.02738537253798728,-0.06268087762948651,0.003333592822817701,0.06915728532089414,-0.05796833264541643,0.04531051439507112,0.06305336364737027,-0.08545462167477354,-0.06783947905106451,-0.06430023748788642,0.07831174550390753,0.004686751094724797,-0.05872992948696267,-0.024294230902573564,0.06726970891174236,0.0196953206385284,0.03444112292431564,-0.0124672537363663,-0.03734472546368067,-0.07606913003100808,0.05139898802672422,0.06611299363844596,0.008072739959353325,0.04693624564449872,-0.06714162262615762,0.025011976985802393,-0.05333565538688437,-0.06703471638874565,-0.05283727325631128,-0.06273090394538942,0.07059334031856453,0.036258400863093045,-0.01980246860635121,-0.07823488038574199,0.038468699187358714,-0.07142790030049234,0.020037203011373905,-0.07292729433124291,0.009963084568798752,-0.062468936907296824,-0.05141083311574288,0.038961733111721915,0.01993053705858265,0.03106912398119917,0.027794449714859906,0.011494010186376644,-0.08130193315792927,-0.031074425937277828,-0.04719988426535755,-0.02725744877560211,-0.030054373511662846,0.07529934130605404,0.025879817823688513,0.04757313340538837,-0.07764722313920137,0.06786677152758178,-0.055994676620648456,0.037133324675872326,-0.03695364616638469,-0.027912239410080333,0.06890433713486423,0.07848469791763081,-0.032822274125272194,0.0571863087748674,-0.04152436849060586,0.025599996035360534,0.038902372505835794,0.06015555463460294,-0.07845349693519395,-0.0518790604368151,0.013543551491196442,0.06555719306393916,0.013532310449075375,0.04775029429527229,-0.04948966509391732,-0.015186396845014384,0.04076703803979294,0.02732541016208491,-0.06064066424859205,-0.04558559575785733,-0.017308294738473194,-0.06456433288668235,0.07466082894935731,-0.034927803524320816,-0.05495537162060633,-0.0386301395759973,0.012879024320991516,-0.06420944658309535,-0.03584465701053794,0.08465954889454821,0.028261977412207515,0.05165071592054258,-0.01897420184777292,-0.04896002932925637,-0.07170132631237382,0.03979146581002438,0.001251493885117792,0.04076879253803675,-0.042497036846448455,-0.03515650149491477,-0.03591084192303457,-0.07664134819206717,-0.029555393773299188,0.005343384666359102,0.07912707355906162,-0.06886286658854614,-0.0326563816518146,0.07783371806717498,0.0665186031942714,0.08594964951812455,-0.03619432859711883,0.07300559601704851,0.05761988421247884,0.030864356496996335,0.0636812763949596,-0.021434228556289094,0.03246052994780471,0.008254941312873862,-0.055286139717870206,0.047696646225892834,0.08268790316873505,-0.04345190218311454]},{"id":"chunk-7db5cddc-160","content":"customize_name.pyfrom __future__ import annotations from typing import Literal from pydantic_ai import Agent, RunContext from pydantic_ai.models.test import TestModel from pydantic_ai.tools import Tool, ToolDefinition def greet(name: str) -> str: return f'hello {name}' async def prepare_greet( ctx: RunContext[Literal['human', 'machine']], tool_def: ToolDefinition ) -> ToolDefinition | None: d = f'Name of the {ctx.deps} to greet.' tool_def.parameters_json_schema['properties']['name']['description'] = d return tool_def greet_tool = Tool(greet, prepare=prepare_greet) test_model = TestModel() agent = Agent(test_model, tools=[greet_tool], deps_type=Literal['human', 'machine']) result = agent.run_sync('testing...', deps='human') print(result.data) #> {\"greet\":\"hello a\"} print(test_model.last_model_request_parameters.function_tools) \"\"\" [ ToolDefinition( name='greet', description='', parameters_json_schema={ 'properties': { 'name': { 'title': 'Name', 'type': 'string', 'description': 'Name of the human to greet.', } }, 'required': ['name'], 'type': 'object', 'additionalProperties': False, }, outer_typed_dict_key=None, ) ] \"\"\" (This example is complete, it can be run \"as is\") Version Notice This documentation is ahead of the last release by 2 commits.","metadata":{"url":"https://ai.pydantic.dev","title":"PydanticAI","chunkIndex":160,"totalChunks":208},"embedding":[0.08368203242666858,-0.04188928481715237,-0.08412581703088019,-0.0328112178411042,0.007455019221153912,0.030114935731006938,0.061969346371514036,-0.011268295466044272,0.04892463063811973,0.06526979900090389,0.018858965064909333,-0.021562328889022805,-0.04194673983340059,0.02852248300999755,0.07463811688874263,0.04217030969107477,0.026100742055861968,0.08766000051291534,0.023323753169839145,-0.08179027788217545,0.06130265282599691,-0.03488661749639667,-0.004056297981335757,-0.01646063364052762,0.08075619263594284,0.037101760382768856,0.07706101947188314,-0.005876323884520912,0.0008859968371374907,-0.027307729216168822,0.02255127381358222,0.04833095488440375,-0.06929647734041773,0.0767981080906515,-0.0071383399023157035,-0.054982048091270816,0.053764302431267445,-0.08305058257666054,-0.0708675764302996,-0.007588045317365795,-0.07954577725058858,-0.04532468836484997,-0.04603028453239109,0.05732594919479298,0.061679065414214335,-0.034373480450338716,0.03268287497124457,-0.0029941677146851533,-0.06873020686331573,0.029418136149746005,0.07061882420363635,-0.012281725997225303,0.052449393622896155,0.0603648538388614,0.009592486788920909,0.05337594091689573,0.0014169236978176863,0.026535077982962826,0.003034964334632957,0.01366447254605488,-0.013146368274109393,0.07419663816722034,0.05774954288886638,-0.04439560692569892,0.07834261274359436,0.0129149542296062,-0.08088801624191128,0.019885330416076773,-0.07954803014170506,-0.06942635293247174,-0.033423468464956196,0.07369500670882191,0.07441096970069999,-0.04467509206934114,0.07841278255911732,-0.03978549636902033,-0.016055999084632094,-0.019023350650105787,0.05853279522154227,0.05740769937524261,-0.0682456849490366,-0.008863625585989151,0.049932810083721885,0.06247321991013004,0.04121038061995602,0.00006871325945407668,0.01847989713163316,0.0007075875886482653,0.061585354668646126,0.05885099369559653,0.05877640201123271,0.004510079544810535,0.05480715409874703,0.04882349001901402,-0.08457962890587899,0.021731834649579347,-0.06517376929783648,0.06509517896853347,-0.08614594611615346,-0.0030674052881698027,0.003433138079808091,-0.02186969503026962,-0.03492303183941784,0.06793311453414258,-0.039048680240581474,-0.05007728179913307,-0.040911865349310295,0.002451510917457753,-0.07000988035210358,0.07641985326261798,-0.003662546342991676,-0.025181099265457987,0.030689581130048837,0.022231412126686546,0.003590405367405562,-0.0469552236453546,-0.04034749242860756,0.08199007400201488,0.08459287434126007,0.03968226935576746,-0.05488801119417679,0.011684082880738062,-0.01229858897409672,0.043034218824329264,-0.04346316566036876,-0.014591495093847346,-0.019959110989920287,0.06299503015683558,-0.05948417110159044,0.037124004331658904,0.07739878962509858,-0.0677668127095078,0.08257559576730072,0.05359618236668004,-0.01432684007647262,-0.01085105029049987,0.03480105420427887,-0.07817168118397355,-0.050556082045638544,0.08377390112849364,0.037723691045814994,0.07621297908231012,-0.08680865869199983,-0.005615493766984112,-0.03138690381811918,0.05405664386262145,-0.048962914970049336,0.023716667875197342,-0.04802163008573315,0.07554657342708777,0.08523369986584833,0.056480482212426804,-0.04180153598767948,-0.02761518375543495,0.05295601997919663,0.032567962923366583,0.06875736898564452,-0.03860900593545998,0.004592568176492372,-0.025717339125457234,0.005926354987585675,0.00859540710525203,0.0505534398791249,-0.06124989892279202,-0.01625752327224709,-0.016348399864170766,-0.048491828716240505,0.08237426404519228,-0.03773223630481375,0.08095514258886448,0.06694261015220494,-0.015596650061870877,-0.03716005349530655,0.06819552922759275,-0.03562360167685514,0.0350925467623176,-0.05192245872051481,-0.05882978358619225,-0.019447077748274966,-0.049457899076885324,0.0548112585556099,0.008591585620592429,-0.0011357544282971032,-0.008848108966083398,0.0005501853586317089,-0.08494174499898292,0.013712026786450603,0.0554163904708343,0.07688973686683792,0.0737630290174364,-0.04881922391684946,0.051047010627797866,-0.03632089266326563,-0.0660680770025194,-0.0839214074511272,-0.06032187280647787,-0.02186020151798503,0.044399912903632356,-0.08552488440792104,0.02628768868854508,0.04300678603853934,-0.07607816061501957,-0.038450542982546417,-0.04714189140166913,0.035992074041423495,-0.0821079303931793,-0.014286048257068381,0.01157136864466499,-0.08191440264591969,0.06277933845221992,-0.05432731737560161,0.004902284885837993,-0.041315754140358124,-0.06790196774903334,-0.04433633322870821,-0.0073308167782310096,-0.07394717952193144,-0.07977069461511849,0.039842418741525366,-0.034359057540691795,0.008073388821299064,0.06395530557968426,0.03510893344229525,0.06405681179976125,-0.052655501467177346,-0.03309581030560173,0.06526151179692577,0.08778243096464898,-0.010516173120756884,-0.07013915400376834,0.04608187676972383,0.014117768646570016,-0.018684696249784145,0.03212621529936691,-0.04423094242621873,-0.031051871728114046,-0.000043554844938073463,0.06142282516827524,-0.01516076674157669,0.0005905193823801082,-0.01949088690742815,-0.06613596696171613,-0.06670083461539918,-0.03521639341905451,-0.0383007600286203,0.08552100368300372,0.0419065363723969,0.05543949758867954,0.0483546418356382,-0.007253307383007436,0.07502378136000896,0.08540913936360628,-0.08259036373211703,0.06383833744914323,-0.03392989515747974,-0.008610079623123844,-0.04447365743837827,0.07089176610530028,-0.0066271548677208835,0.07816104542767739,-0.000696355385398641,-0.052936691204294194,-0.03802355372830402,0.08242365897728014,0.08564853376405603,0.061958872908724996,-0.03444948796237068,-0.02149302901855877,0.07172828356009757,-0.018786953274627045,-0.02552978146153053,0.015166741169932375,-0.00482569933455513,-0.057710268345028674,0.016673328412549926,0.055705746150104235,0.03708691045894241,-0.07612288528731874,-0.0449384471023591,-0.052261118169669885,0.06487066137388423,-0.0590625637566764,-0.053273882905872795,0.060872188351956326,-0.04404811760588816,-0.015410627361194628,-0.06472242011180608,0.0325088424952579,0.008578773458235697,-0.08058796214033004,0.0618650391747401,-0.077959417619453,0.04168965009183469,0.06498855319159545,-0.023341814288577855,-0.012638904772761654,-0.02472279825504483,-0.022800628956268772,0.008732443548103555,0.04717856356509407,-0.03746601785046667,-0.024205844119730605,0.0003563899774505405,0.055647981768753234,0.0007216576674352764,-0.024024981621080445,-0.08426806538428343,0.041571520421732164,0.0037177956722209103,-0.07373206087815423,-0.06066856804119955,0.04517997062466006,0.0850814562475971,0.060317232986919135,0.07887984558517426,-0.05858017930152043,0.008321062725806837,-0.05024502889399537,-0.06801177634410036,0.01422091533418841,0.07251839016780197,-0.08082228345170975,-0.06068045494165467,-0.01769115158163467,-0.01293714245170283,-0.06670705371887786,-0.016456028499711867,-0.05798720542503498,0.07064226590292647,0.013776851261217617,-0.07799461557126171,0.06283553078800222,0.01614369749523355,-0.04790230695524193,0.013110350627286467,0.0706254141813567,0.014843720198371841,-0.03344220831298027,0.05104226712659022,0.07108450197639032,0.08512251102854633,-0.031164034915935068,0.06984979367104448,0.0021776876128331824,-0.010556092733546579,0.0029925663222880876,-0.027679622920576238,-0.08454686901369785,-0.07585607703905485,0.009981597600095309,0.08610745010937719,0.025825490894195648,-0.06382357070431861,-0.0009480842103159226,-0.051573339071828574,-0.08676548773070242,-0.00423678565765791,0.03736522785847114,0.028407580008741225,0.03454697860102167,0.019676254650333264,-0.050166754243771136,-0.02576895943178083,0.07482541769082333,-0.08423511646193425,0.012472245999794998,0.07438429751799376,0.06769519166995032,-0.05352055583921162,0.048175667396095294,-0.07418654046490737,-0.007936144059755705,-0.036015021374449396,0.014319451464403575,0.0708227192716929,0.06477781703144683,-0.007630132001622874,0.00760730144559522,0.06281461385857072,-0.03421687130466675,-0.033165135342825725,0.05622886327482823,-0.04375408444732108,-0.012231458804289956]},{"id":"chunk-7db5cddc-161","content":"You may see documentation for features not yet supported in the latest release v0.0.27 2025-02-26. Results Results are the final values returned from running an agent. The result values are wrapped in AgentRunResult and StreamedRunResult so you can access other data like usage of the run and message history Both RunResult and StreamedRunResult are generic in the data they wrap, so typing information about the data returned by the agent is preserved.","metadata":{"url":"https://ai.pydantic.dev","title":"PydanticAI","chunkIndex":161,"totalChunks":208},"embedding":[0.007604566551805504,0.0174735075261812,-0.03173042781321209,0.025105181320134083,0.0058017257295573145,-0.07329705909648478,-0.06793160830002919,0.035587207532176146,-0.08444183875321148,0.07063081596028248,-0.04141859529931818,-0.03182410059331731,0.019244635735561642,0.0037490729491621915,-0.04668776027232635,0.08046282150569685,0.06720638358550571,-0.052899509638808004,-0.07249799253445194,-0.03022447485926707,0.031917652781804993,-0.07976612369327206,0.018863780772983115,-0.05707323302423179,0.031466618832774934,0.04892970927573259,-0.045279137560263805,-0.0068944439349314,0.08574581264034506,0.0010892211628231669,-0.007252313975796085,0.025081339884106504,-0.0625972713847729,-0.000010228404393954806,0.052597823028485105,0.03137994984042991,-0.021025768244821712,-0.028512785786912142,-0.03995224637714699,0.08426340027430085,-0.08111478951178552,0.0861535611329585,-0.0684840927248364,-0.003659121194551688,-0.08624737276312437,-0.02935767409121855,0.06448991615710073,-0.08449473038884357,0.016389921928419846,-0.025261215441628612,0.034370512834336404,0.04690773483105483,0.052514386876093035,-0.0789194556765214,0.06732773452434652,0.059404396737943156,0.004626411237270868,0.04540125174360725,0.08060330829084446,0.032582883368353785,0.0671250922044824,0.04964414916841306,-0.008795239642823078,-0.011850287663198664,-0.04086340060460958,-0.00985649870620894,0.018068008134157935,0.06623948989092382,-0.0784264711104371,0.08151786716327673,0.07979753987125837,-0.008040590008660368,0.060925565831173596,-0.001882972654028093,-0.05019164176262146,-0.08556591724370176,0.026369143900353734,0.029163818520350993,-0.014633772823556001,-0.056644542043759204,0.04590037266790853,0.0846447135121529,0.027417833328713705,0.003399375116112461,-0.011957074289824326,-0.015542009146285613,-0.056123453761086205,-0.05553794156678185,0.008697604748013848,-0.05471851681551846,0.009358910353859462,-0.03991627870505987,-0.06548744957767635,-0.06884492956151668,-0.018099219659778714,0.03957912042408579,-0.0008649314119742709,-0.06205376346949029,-0.04090544606467915,-0.08777460487240277,-0.022147306018730564,0.001615218764160774,-0.0062633408985017435,0.029688103728900517,-0.06636545985335184,-0.0654492525160482,-0.032618217497369484,-0.004408033113547185,0.004802039410690269,0.02225674160497481,0.006215699182862872,-0.00405515047117056,-0.03303174569208742,-0.04040369542603125,-0.060399035245664215,0.07812348814440452,0.013792874190342344,0.01771196336597644,-0.07492161980101893,-0.008136432727946454,-0.024592245196163903,-0.0614895030988281,-0.07142357135475653,-0.056292070532866056,-0.021570733348603155,-0.02156041559079344,0.04911937138721481,-0.04143994320302764,-0.03492449741015763,0.07214191339944072,0.01930605320604404,-0.06616622063542983,-0.06308366525280829,-0.06779442914789391,-0.0282482200078022,-0.017175616454886564,-0.05449842764912067,-0.01872824088559656,-0.04793763837739665,0.005739464746640017,-0.07703427727676294,-0.05754865872257586,-0.005717222042287674,0.06637709707025459,-0.05768984413420425,0.043201002131794064,0.03638124888810966,0.06712733002160765,0.024928291118074684,-0.03495218495169311,0.03857775862080977,-0.01138908828825185,-0.017403510063397194,0.009696207224515082,-0.014529546892847916,-0.08201962449913286,-0.0012767606090438373,0.03581679333677437,0.05564658410106077,0.0663198676681444,-0.05624669001097315,0.06778746639773194,-0.0722965236567451,0.0826171239214406,-0.045776795191783085,0.07192147679840978,0.055645468898561,0.038418473579648546,-0.03694862489412533,0.010890694839152393,0.020327362182349182,-0.060043057265983565,0.020952590046458726,-0.0006666303958868569,-0.009304945003604908,-0.028728683064637547,0.049604952710210745,-0.0778300511378431,-0.05607312240211309,-0.01539376355118982,0.05804846512381037,-0.04312022326625033,-0.05463695750132333,-0.06257558699031955,-0.008385610713074962,-0.06728852981819347,0.0032480878098679806,0.0012257888751011406,0.07794421612929625,-0.012613176083234182,0.022054396451143134,-0.03631922964334037,-0.007537585379814444,-0.0257937952786685,0.03375254413477747,-0.03644645524037307,0.059612644685739194,-0.05429072854728631,-0.04183519902264673,0.018341382675390587,0.024526583910058613,-0.04423032968479768,0.06575882137036874,-0.051921146910920556,0.027107913443333652,-0.020363959476069535,-0.03323458316602418,0.011771762671492773,-0.044322101814151124,0.06644039637720855,0.00998786486459896,0.056882629964959956,0.009518689982835058,0.009696263933159427,-0.06393352108827383,-0.06220669162833406,-0.026659015188245348,-0.05351210779913107,0.04441107159743748,0.06346412015974012,-0.009097556233423329,0.08259578706376294,-0.08174974655660115,-0.033519026788645434,-0.0725206456760238,0.0431269245193463,-0.03786278760016334,0.003291795425466877,0.019310199477780735,0.08373498831587914,-0.006812709818587048,0.07970644097647879,0.03436945388980008,0.004709573335572619,-0.05898658120776331,0.0684499803480294,0.01800896061665625,-0.02817439912815113,-0.04155418246142768,-0.08339361620945225,0.04946781433155764,0.0003923313982656798,-0.07320052522717496,-0.047088367882879865,0.05195748945147457,0.07176129463190833,-0.038871176943722545,0.06846377490738893,0.08688689167075542,-0.061906821907049124,0.051279171494702895,-0.04232210218822932,-0.027483618865004316,-0.0874012911552142,-0.034650540648587885,0.005352740258713617,-0.04915832232080216,-0.020878945900960302,-0.032065222895994436,-0.057732722694241,-0.006505032816474191,-0.08250124150272081,0.013406916124910068,0.04025157103465784,-0.06505358958266984,0.050684402623419327,0.06392019223079912,-0.07032732942456123,-0.08391486876885022,0.07162666096770146,0.002545759582583999,0.018457721416480208,-0.0029273555883266903,0.04053497393309339,-0.028586082458399102,-0.04217956530905805,-0.008798484434097429,-0.0878718322441492,-0.03974131569763588,0.02380421369779083,-0.06995634469938215,-0.03229069601030913,-0.005224655640253749,0.020518805792363932,-0.05752661303400689,-0.009473548636927431,0.07076476803118308,0.08451541819224755,-0.0882382601130248,0.029037249582269664,0.08631721923040725,0.06574075002845602,-0.05370601502511815,-0.04863161587442919,0.013467940336323977,-0.07820759532296974,-0.0026323844866357683,-0.045581350270201854,-0.08108022357817253,0.06693598868192273,-0.026547337985108665,-0.07672710981738763,-0.06606113258847975,-0.05642510697794726,0.07609158155027941,-0.08358208537372884,0.08410624020382125,0.08478736128076553,0.05570744947341409,-0.006246942451511534,0.02008099359506162,0.05229954955155159,0.03278581443042316,0.050621922624370375,0.06657602070691102,-0.02533442962677728,-0.08400775487933246,-0.021537432082118526,-0.05464406379407603,-0.0015902432009733587,-0.04883236924292202,0.0566362546251738,0.07009237072544125,0.0024367445137673605,0.08735499385088415,-0.028338841499146644,-0.02873114674554393,-0.08228428536660921,0.08236000867846496,0.08646797617041525,0.039451122351789075,0.06913747434606252,-0.035262061597433024,0.002837763564512337,0.0789240415090031,-0.06828585440587208,-0.041127076923812095,0.027764747935881857,0.038926783250225756,0.08212245175805427,0.02274728879310529,0.0058054679084448895,0.044777190820454386,0.07142596807354586,0.08703634822108595,0.022823516481342822,0.005384144872170106,-0.06808680871335732,0.039232304514588735,-0.05254529426403034,-0.08721022799767345,0.026648899460425767,-0.003176418663647655,0.07907147300578546,-0.04384183927061761,-0.017515039432951456,-0.06687224556654821,-0.011739603446065961,-0.022680359530746312,0.040288579137843415,-0.05604451103318749,0.07304097042713421,-0.07744658146128691,0.034099044113908045,-0.0831720980861219,0.07820922263639705,0.08412150428834604,0.00047755254204764213,-0.03473458903772596,-0.006517519587742654,0.0697509681340034,-0.04264615406020367,-0.07077438271057147,-0.07146019558534011,0.01258110505866378,-0.08374711577146127,0.04140233676331301,-0.008490402863260457,-0.07007560437388007,0.011729147354031539,-0.051825472065288085,-0.0010458032513053683,-0.040268737954989406,0.08633652065312464]},{"id":"chunk-7db5cddc-162","content":"olympics.pyfrom pydantic import BaseModel from pydantic_ai import Agent class CityLocation(BaseModel): city: str country: str agent = Agent('google-gla:gemini-1.5-flash', result_type=CityLocation) result = agent.run_sync('Where were the olympics held in 2012?') print(result.data) #> city='London' country='United Kingdom' print(result.usage()) \"\"\" Usage(requests=1, request_tokens=57, response_tokens=8, total_tokens=65, details=None) \"\"\" (This example is complete, it can be run \"as is\") Runs end when either a plain text response is received or the model calls a tool associated with one of the structured result types. We will add limits to make sure a run doesn't go on indefinitely, see #70. Result data When the result type is str, or a union including str, plain text responses are enabled on the model, and the raw text response from the model is used as the response data.","metadata":{"url":"https://ai.pydantic.dev","title":"PydanticAI","chunkIndex":162,"totalChunks":208},"embedding":[-0.010110179319903274,-0.07224760204863441,0.0786846197939272,-0.021938028167260395,0.07662680735681629,-0.05971203639125191,0.08136394359082746,0.0836318635190976,-0.0018479800594078874,-0.08405511778557115,-0.0381330900947013,0.014674719276621168,-0.023118115445959323,-0.08414077738916058,0.061368149317703916,-0.05215523535175606,0.0821000057416986,0.028268074303026965,-0.07260338676093907,0.06398528251973402,-0.07290280998416632,-0.06613124276226867,0.05397965858813185,-0.009339701792772808,-0.05792183358587238,0.006694517595865407,0.07883274785060539,0.07656800523856451,0.036478033347422015,-0.016440108583219152,-0.031927625420356015,-0.059957003311263246,-0.03490109314620701,-0.015370211621080645,0.07587763702469293,-0.0673986377640116,0.05147965328800199,0.08158663901067502,0.03803853378203086,-0.015310186299188754,-0.07215539393783857,0.07901517378815594,0.04919179000923911,0.06388640294037277,0.01102206121964443,-0.08158158537333861,-0.07604258438328092,0.058731378646442456,-0.08044532566670833,0.009059421760798563,-0.028921782930072738,-0.017729139415075555,-0.024010723167596126,0.07400130496830143,0.05720540539034212,-0.07728658371468823,0.0032989461321056295,-0.050642419877451196,-0.05490599555193252,-0.07378055609787998,-0.07244033111246599,0.0441803589791354,0.007875853149940923,0.04293600220480966,-0.049219988255967385,-0.015243554970946625,-0.01572863297907546,0.00917693311577618,-0.013196937300274336,-0.0063614239360343635,-0.07295094078823117,-0.029401650801661766,0.06483871645403601,0.020008540755104474,0.0020155724482069978,0.041712087594578985,-0.029860630113653246,-0.07466445679447006,-0.04586465139980449,-0.06623229860898283,-0.050046464804637904,0.028856412571441104,0.020191780769961844,0.052515909972744156,-0.07184260967301001,0.07646636356428817,0.0741359414566916,-0.07935783741275065,-0.04053359350468589,0.056885070755275685,-0.011949812439075575,0.005228959762194361,0.04551662634268989,-0.014816824036429654,0.02389230832740954,0.0084667458029425,-0.07143472245850152,0.05003946613416879,-0.046048559340430596,-0.03332837891466248,0.05176333748597419,0.08000796590339453,-0.07466256865694072,0.05307665911142041,-0.04887403905937925,0.06332703701780791,-0.07267446370957194,0.0674721084373904,0.043414938111008994,0.05098673678145915,-0.01005448127956995,0.0530636646415695,-0.016439440876522615,-0.05587534032889895,-0.006916795506305008,-0.04562152244940602,-0.06838031870303082,-0.0665591519552625,0.06460646204341706,-0.012484057285722753,0.0009325101732160396,0.0633169673777886,-0.020928534259818353,0.01033302025104485,-0.07543727220955374,-0.003418653975024167,-0.010940427555567952,-0.05580670899202075,-0.08009030956199806,0.0315686800933091,0.034714245818654614,-0.06772408939526066,-0.0016987637167601348,-0.003187118127612945,-0.0707063702131928,-0.00965010986013505,-0.04168378699305176,0.04292366675414767,0.06822578125071033,-0.015372385589822925,0.017636973209049955,0.014363431536964176,-0.002200199116440769,-0.014361645683240299,-0.04671655203974685,-0.037312131889682965,-0.006185819178136959,-0.009417774025307107,-0.008316928401889336,-0.07398057229998958,0.024885469027675085,-0.03741032106243746,0.02733643815370758,-0.03934184014655643,0.07649209230250015,-0.03684788750117379,-0.06305426238802601,0.02228661542393936,-0.06938160167231137,0.02221049511010185,-0.02301945856946377,0.06996881209762706,-0.005969466170442496,-0.055928271987582295,0.048755794296839926,0.0540301105237799,-0.017242141780489963,0.0019569798427053176,-0.016447176691146242,-0.01448917122688974,-0.06279388978723821,-0.012060241707773952,0.06954585685194567,-0.04911594259376894,-0.05992561661677148,-0.06639043610162894,-0.0465313563001006,0.06587647507501004,0.08016724429247823,0.01853448234430987,0.004276852837052425,0.019411797551017376,-0.06765755865617526,0.0701267855366516,0.06807460651034768,-0.03106182048025781,0.029001258909237274,-0.01289396762454729,0.044206018987219056,-0.07380123322491476,-0.026183210955305906,0.07507160870414165,0.056716651205601876,-0.021984206626753697,-0.0344706679276389,0.058670456601586575,0.06191539895436836,0.047527438859677584,0.08103296385771185,-0.08273462974626918,0.01991003073353043,0.055110319073978016,0.06733001761567696,0.000027407776194026608,0.035732644267679206,-0.06676574473123079,-0.03464105647642858,0.07783482392579646,-0.06367262803537511,0.058533502664692684,-0.034067354259731224,-0.08312015973279326,-0.03341100945240878,-0.003770810983975578,0.025597653025869787,0.006527544490378272,0.03816845966105816,0.009592429818379275,-0.03217029192796445,-0.07218897424600225,-0.01221912513872568,-0.08224188438210356,-0.06920981282338025,-0.07413320497579137,0.024229515620295055,-0.0798533066354381,-0.05014512676431341,-0.08120021012741836,0.07336731264398909,-0.08410984027633468,0.056364530827069804,-0.02153305514951707,-0.013291872439424575,-0.037738343598263974,0.025720672929476267,-0.030959267533987613,-0.014690884255812452,0.05951154808702305,-0.08042771678911559,0.011975702302705374,-0.030442711360946863,-0.02849770918776033,0.009322493921388557,-0.07528843971039965,0.06825630335788442,0.03793861310430746,0.056879127891004855,0.05089839047030316,-0.0571584433017807,0.037918877720492856,-0.014957070528080438,0.049595942767954725,-0.00818647400409646,0.06948578833444141,-0.07050120795189699,-0.06808012165285622,0.050256939381608606,0.029155510635781465,0.07810135498444869,-0.008709253514470562,-0.007454070108367014,0.04598611521435544,-0.04144713186601912,-0.08210798149976378,-0.07308258658201311,0.04866119731401744,-0.01756443932639612,0.05407789425813665,0.02751449616293265,-0.08100602253442482,-0.05128154444208391,0.026956637469719002,0.027123985155026172,0.026007801263308792,-0.07974883366655751,-0.032989062089828755,-0.05169433462831767,0.06252198960110726,-0.027018021652472198,0.009155537164556905,-0.04635920602663876,0.010640055938413476,0.05716686512455627,-0.01584347205786756,0.07821087892345785,0.06665179000104177,0.03574572415723976,-0.005217908628921363,-0.08236014701772364,-0.03402840836663721,0.05842363122489855,0.0010257911555148706,0.03892950238004242,0.05622846088304528,0.05941296551224647,0.025488867764137394,0.037824393979376765,0.07964920180322957,0.043024996527236375,0.055468432051878465,0.07405568893405379,-0.08395767270674738,-0.08150999388950285,-0.0663731334454955,-0.06889159575899144,0.06697120979294634,-0.07872351372675854,0.07520831425760575,-0.06656849748580815,-0.056199763223120446,0.06251999320298636,0.07103614967188022,0.023477312634601077,0.021181741123640605,-0.07476283032287742,0.04837295314065677,-0.07692472120141035,-0.035263902333132174,-0.03342253041846132,-0.040076870212671846,-0.07215105069626887,0.05005112069273112,-0.023855201164512733,0.026743860883394137,-0.03051600279143018,0.008472274295139168,0.042798964173615915,-0.03174865513620078,0.04186286036481357,-0.006802109317628273,-0.0021869902518208014,-0.0317524276912848,0.07757180543996386,0.002769279190668834,0.06261649597101795,0.013751488936964769,-0.009233994649870807,-0.0026017962321872824,0.026175602542774182,0.0029864966708960184,0.06542145210983036,0.08189183526756633,-0.029259338616878853,-0.04101390377192826,0.0458985841611897,-0.006019758805738001,0.04444915182743252,-0.006499317189688224,0.020950566182657032,0.07956424924623239,0.033490328980845106,0.06545414208099612,0.0012484850578717607,-0.06908329751623002,-0.0013903830622591091,-0.018247244545333517,0.021465777844520407,0.06329890521282683,0.04406475796202805,-0.026198911535727277,-0.07642325118816917,0.0716840619005109,0.03580465828932524,-0.03571834090946937,-0.07597574370768476,-0.08364870413303892,0.027340145501940367,0.021800191746099255,0.04070175818255392,0.06151054446717412,0.046294391424366206,-0.0428107799344514,0.020048888223311006,-0.08297548108399878,0.07016283376277853,0.02285843004883392,0.04640611329902989,-0.025250344517594437,0.060109860532342095,0.08405498718819744,-0.029225070033675544,0.03918865424682879,0.059915046836073474,-0.020597191702378066]},{"id":"chunk-7db5cddc-163","content":"If the result type is a union with multiple members (after remove str from the members), each member is registered as a separate tool with the model in order to reduce the complexity of the tool schemas and maximise the chances a model will respond correctly. If the result type schema is not of type \"object\", the result type is wrapped in a single element object, so the schema of all tools registered with the model are object schemas. Structured results (like tools) use Pydantic to build the JSON schema used for the tool, and to validate the data returned by the model. Bring on PEP-747 Until PEP-747 \"Annotating Type Forms\" lands, unions are not valid as types in Python. When creating the agent we need to # type: ignore the result_type argument, and add a type hint to tell type checkers about the type of the agent.","metadata":{"url":"https://ai.pydantic.dev","title":"PydanticAI","chunkIndex":163,"totalChunks":208},"embedding":[-0.0000014027557143912566,0.05327122821330356,0.03794876701032569,-0.06256452700239104,0.06950853973611676,0.008716199355168165,-0.044403326416885824,-0.036723993565566236,0.006161555941899685,-0.05689085297412312,-0.07535986518096341,-0.05185734009560161,0.05123079221983412,0.06674907568756963,-0.06703035776370128,-0.06766314130347252,-0.03882145159675852,0.02465924409063382,0.07151566159382902,-0.04259902361999583,-0.013926362589683744,0.05481578577123102,0.08203350374845043,0.03273915578274322,0.0820868759754449,0.06726054016851887,-0.02670131965303712,-0.056558018261417604,-0.005400241221313545,0.01891629669173737,0.0660334346476574,-0.07167074366993616,-0.053807974570599895,0.0750219956195366,-0.028943926724270708,-0.04391698045652132,-0.04058338705475485,0.0687828454435067,0.04991476823191633,0.026088033455780837,0.011670846316912011,0.05325811831978329,-0.05554945851016428,-0.011705205581993939,0.01474417809525344,-0.0015116882415658897,-0.08025981841976472,-0.05750900866753072,0.051628202760690335,-0.024862614387531904,0.02177282473095105,-0.08195654422372674,-0.004153411515038419,0.07799292219231106,-0.0691677075272681,-0.06040599438414579,-0.062366876498111616,0.08270136337535071,-0.06416532062673976,0.015018509071609489,0.069135734912026,-0.035146328645669106,-0.019991117907798745,-0.038729365975808616,0.07737714696511164,0.07992667764055354,0.05643220179883988,0.026420131295525465,-0.04288454783161167,0.03451024364891048,0.030447201194725153,0.06117292508412361,-0.005885426074684807,0.05098267887423658,-0.0175939573945832,0.039042572571003624,-0.07668180545791528,0.007955956641611308,0.047673770629707984,-0.01019133164453366,0.033189783624416824,-0.008809082291158836,0.030780101170553225,0.00280118735574829,-0.04738700296244608,-0.0021720110512194685,-0.05200482281540979,-0.08479494455211166,0.053611920858786105,0.06712196047115404,-0.061178114616047254,0.0005344058541012997,-0.04628345846263353,-0.05197476370755983,-0.04108842530490472,0.07487527056423691,-0.0010247624631167156,0.06741147840274411,-0.03157689083429858,0.08239216438157439,0.07407169691666256,0.001440521528904775,-0.04036809938216256,0.08561989581609382,-0.0028300299522749806,0.07067223191146439,0.017318652555769462,0.07062872417919279,-0.02012932712614469,0.025600801589622073,0.0018883378947371588,0.06826240880490327,0.04504272320544437,-0.04642264704683254,-0.00338458593625835,-0.0031400856177371504,-0.05601195590858663,0.051489599279098304,0.06025347427905828,-0.04825953422209424,0.04694732162563038,-0.036728357129945134,0.04404621798235421,-0.0575128535988331,0.08560428697592269,-0.07050602616711066,0.02213235263676959,-0.011024459248141548,-0.06463604246903673,0.006163394395181805,-0.035387636730731774,-0.07561115225612126,-0.04774436228751082,-0.08402068032561492,-0.08326777357370437,-0.07203338276788468,-0.05615413421824156,-0.06939484779537496,-0.0496045625765567,-0.08125281190720318,0.013638189555015936,0.07635642466946428,0.02960390086827605,0.02912270687820514,-0.052999216692239205,0.00548244937462064,0.005171705365869821,-0.03749915897179769,0.08416777233992516,-0.008014104904935647,0.016209511885137248,-0.05304132317715243,0.044989212193674986,0.06011490351273552,0.08275301248379002,-0.020420891663612783,0.002451692912252954,0.008068140577726611,0.05163268842576415,-0.07881812738078633,0.008787980617335456,0.013566899966767536,-0.046400726362999446,0.023416162962058885,-0.02313187350710334,-0.059671228030443106,-0.048276637198442704,-0.02038770938203554,-0.05804983256499009,0.06538392502149737,0.03302518385400249,-0.013312669154283457,-0.04688634193057307,0.06882910470268892,-0.009083583532401287,0.021622816299848673,0.0682727218279269,0.0716419152556647,0.022828324372620997,0.06312909463760163,0.016239745758038913,-0.07373693175985763,0.0056596995104064044,-0.021576751310077278,0.03775894494023954,-0.07821071370514908,-0.0673170818719478,-0.04550414340124499,0.0868655548579478,-0.07070765075064346,0.07309410785636314,-0.014127534952388254,-0.02686398985931456,0.074771379833943,-0.01644819325373395,-0.05235321733415087,-0.07193113083847605,0.0036394001123117928,-0.058564745889865426,-0.07019725734636212,0.008029475909638982,0.033631522708107056,0.02722206171490802,0.004657712980366066,0.005076738202201004,-0.06953448622018354,0.012572733222491797,-0.08481676350382679,0.0687053437369377,-0.06168332319440846,-0.06384137913829027,-0.08120891925216886,-0.05035787743213457,0.058700172559931645,0.07245160856417711,-0.0021543921979871174,-0.0010679866775070062,0.0024426672022092883,0.02368218921347701,0.0388348637768699,0.06330808777627109,0.01663227982254115,0.07834863941067734,0.04841385062241024,-0.00872517749019054,-0.061455607722600544,-0.03981053665863755,0.08660645824623102,0.06909446877312811,-0.057432056151650784,0.01802664266805617,0.03339210147980379,-0.019717219894239277,-0.044779040110044833,-0.010116183733918548,-0.026108704245968332,0.0030824921923061055,-0.03076598355861639,-0.073665181816389,0.08207092004963377,-0.019776418008399226,0.024179091926982105,-0.08370192300366752,-0.08546751717214271,0.06662694261491069,0.03991020121565954,-0.07104738837472264,0.06967798429640132,-0.07663166170131847,-0.030455700279002636,0.06551517493127415,-0.015849479647017824,-0.017960439003383327,-0.04374544050608127,-0.01125789086695822,-0.07431484429588504,-0.06568864510412192,-0.08264923765784098,-0.024643545565492187,0.024191636479708033,0.06577109412252503,-0.028368487389621163,0.059846080355889675,-0.01792826173680244,-0.05304051942114516,-0.0707402468440998,0.07836863023351871,0.04815950403355642,0.03743673592505023,-0.02884710588729898,-0.0025291595742866603,0.07587557374625828,-0.06874882659226833,-0.04445883345259089,-0.06983087233754103,-0.08109224782698801,-0.016129938324918075,-0.08243694668172945,-0.07017575339021677,-0.08139938728548186,-0.008874266314405506,0.021686081307432103,0.025649291637279383,0.011597616082236577,0.030451095083813166,-0.05836384401290164,-0.0022468304919276314,-0.0704797422779411,0.009257199061893005,0.036552921464342816,-0.06376228913939536,-0.061524552351073326,-0.07186855814536623,-0.04968204162622688,-0.05906661791699738,0.06552620361665681,0.07228261560608866,-0.007008201233774653,-0.07319665603094781,-0.007940739133007491,0.06972929394543045,-0.00269009337199948,-0.07541227429577696,0.06729835075399399,-0.027517384169768476,-0.03291827356995989,-0.07747772509823263,0.03149713832916613,0.07677446794019031,-0.012319754399043311,0.017817576970124337,0.05271542158567012,-0.024617033295902653,0.027949544763567535,-0.0469509075238782,-0.047332233273704366,-0.0303754452833035,-0.04850963376701438,0.009692109709484333,-0.039752349583047686,-0.06763463660788795,-0.0015062784580758793,0.06702798845961441,-0.014067059318886297,-0.07156337429768642,0.056654273864484885,-0.059253671309606744,-0.08049727740695548,0.08157090572059288,-0.0762490570977277,0.0022486193020154308,-0.029327914740669144,0.015048181682859771,0.03321144856074416,0.05436388521226951,-0.044919577244490125,0.00982289080704083,0.04039795041803897,-0.01054702036167166,-0.005430889404102662,-0.0012025004222534661,0.04720831055316558,-0.08443187591286173,-0.06421617112822245,0.007884061401470988,-0.04129284653941824,-0.07106033542762495,-0.045414859753458804,0.05975906461759442,-0.020474311892001315,-0.04305746548230281,0.019435615629346613,-0.05964560373236817,0.021925490212462283,0.06546489059730119,0.05242946253979946,-0.026116603251502644,-0.06103341383106893,0.010464526226160937,0.07126132631170644,0.007491676697355162,-0.0788522340216974,0.07533428164876259,-0.01516826047738335,0.008547878433290836,0.03212692848264114,0.053482603861129865,-0.006241588001205235,-0.019758797896065664,0.07281906443319626,0.02692816663506149,-0.010985656558560647,-0.037746060191880516,-0.03585022727067947,-0.07975864780663255,0.03404935540978191,-0.08469783583842969,0.039537542657869636,-0.05949556348296965,-0.05858629959914107,-0.015109301257344183,0.059555612551907326,0.0399092797720076,-0.04544475526874296]},{"id":"chunk-7db5cddc-164","content":"Here's an example of returning either text or a structured value box_or_error.pyfrom typing import Union from pydantic import BaseModel from pydantic_ai import Agent class Box(BaseModel): width: int height: int depth: int units: str agent: Agent[None, Union[Box, str]] = Agent( 'openai:gpt-4o-mini', result_type=Union[Box, str], # type: ignore system_prompt=( \"Extract me the dimensions of a box, \" \"if you can't extract all data, ask the user to try again.\" ), ) result = agent.run_sync('The box is 10x20x30') print(result.data) #> Please provide the units for the dimensions (e.g., cm, in, m).","metadata":{"url":"https://ai.pydantic.dev","title":"PydanticAI","chunkIndex":164,"totalChunks":208},"embedding":[0.019539391210701557,0.02003983927954851,0.05391763481852383,0.0006404341399151425,-0.0383161850407102,0.08872258040896852,0.03627967504763866,0.03158578033890783,-0.07412666009654192,-0.03170937918612771,0.02514690655548736,0.054577275142588706,0.013055259403066288,-0.02754630377843111,0.009504670400093071,0.012848049047140615,0.00042735275871729,-0.06742140838058618,-0.042050998226210536,-0.004575837080793773,0.06120183034254866,0.07000344697485202,0.04997821622972081,-0.015880048803457017,0.07576297626163396,-0.017197669683663222,-0.04286083057269616,0.0016170691019398687,-0.05532418847520224,-0.010609704937803163,-0.060020569217549245,0.02907241098540469,-0.03157642996537287,-0.018064648160812043,-0.0672136653626656,0.0760690050532918,-0.015515416848813506,-0.045433842707696646,0.013438780233475296,-0.04247629377377228,-0.006679921653304531,0.024578855804263878,0.051764425690833483,0.005597875262530848,-0.04984542690075363,0.02700547380576099,-0.0804738091962392,-0.024590292236378652,-0.04962410626134423,-0.028812612119666344,-0.05429724927371714,-0.03444459659395464,-0.059391093645687,-0.06953939401009752,0.08123953164735435,0.0713743764668069,-0.01725787131558784,-0.008012415801523785,-0.08442949139261112,0.03940299247129387,0.0512773331293305,-0.08029882351697876,-0.08213991081279402,0.03945296758444827,0.04927259340465085,0.051662971268527966,-0.02071916526040358,-0.0546431828029618,-0.04032970584846943,-0.052740845114505205,-0.039200157520184346,-0.006440388777084942,-0.06410418291575513,-0.07574329249648877,0.07532321389736361,-0.02467480388544291,0.0051427046418434505,-0.035450519962532484,0.06211029329042552,0.0003684594051912657,-0.06693011714600092,0.005216121431355207,-0.015449089762772494,0.080675556980072,-0.04749295633296433,-0.010332670915672604,-0.009299202937642732,-0.06405535413120947,-0.015597498529392672,-0.07808394995705684,-0.06902349614542377,0.0704402446681344,-0.04810707853257859,-0.07464746837228946,0.05481574662502766,-0.01381312169615881,0.013048734762287935,0.07513896179955723,-0.05064668908375153,0.08744993090599097,-0.06718659397956221,-0.05202142550835287,-0.06366582409295063,-0.08840604935135277,0.05614961124137818,0.04021585979625984,0.03918116531257675,0.0670863913824114,0.00760751385492482,0.03194110291961563,-0.02010569794849479,0.013745738222522685,0.05180275348326062,-0.027850688048632943,-0.04342493298494893,-0.08345223118570562,0.08165949126584804,-0.054312964774272124,-0.0284382061244807,-0.08151423323353893,0.05645493513439892,-0.0483307257241565,0.03231892928336127,-0.01625194257024639,-0.05913420449506954,0.032057373013004785,0.005759777830274412,0.07495615508602181,-0.07084686765677704,-0.03254169089883391,-0.04538373726169201,0.04432841966736083,-0.04946761893073677,0.07077781687248945,-0.08559602291605042,-0.07569427351423044,-0.0436447205215716,-0.054237432628644236,0.011397302008933994,-0.07486164657264553,-0.028346681334892113,0.0434512720662966,-0.023753066299584673,-0.08283893968971062,0.042671369265657136,0.027473658329845742,0.08016132062739971,-0.014277407754891704,0.006782133641852273,-0.07110704017067399,-0.03578276451700603,0.0857390855104858,-0.05429190851486374,0.01369055522318768,0.04539977351679278,0.0013948672713275212,-0.00820458289853546,0.06276736639321377,-0.04565468973852156,-0.04593324397400668,0.021696718556303757,0.04390704781535894,-0.021596792231005663,0.03940974007818525,-0.046270276754319106,-0.04922210360879517,0.02012912007415519,0.017226894315757177,-0.00044646293386509486,0.035081500453373146,0.08537507745407202,-0.0506465937362908,-0.07533897769467855,-0.04952036962553956,-0.06596631168847289,-0.028225474161441954,0.0331321935497339,-0.0509412492515155,0.05199115352573133,0.06594665721564004,-0.046117573911038726,0.02710873393389915,-0.002305812672496055,-0.029700624574927798,0.0009571836459200632,0.010663834938483871,-0.025679371249368598,0.08739070659412394,-0.042417222365313534,0.061386950478308895,-0.0008825903914714518,0.0836069716806266,0.07292111651932164,-0.06701294894999782,0.047858048403688735,-0.07516275626762607,0.051129253387776526,-0.000403862717364366,-0.008856460859611302,0.07664346095032358,-0.046248643701403296,0.046451827634738506,-0.036009585756785874,-0.0667515348641869,-0.07011270119116514,0.031015549722553725,-0.088620427009581,-0.015188419046309272,0.06269350511086265,-0.030756877607149437,0.02398188341499801,-0.08635034992906163,-0.07719289695884274,0.014454999149060052,0.05369692814505885,0.06898695801698153,-0.059739962587097406,-0.0688541404129593,-0.08047310430270459,0.07188822734367985,0.060715062855168804,-0.07728550237408462,-0.008548065238587201,-0.044459860822167706,-0.06540400700841925,-0.013872283661816958,0.018008403288467794,-0.04662378007503058,-0.07084473053544506,-0.026227050476866156,-0.06596925730743053,0.056520953070685914,0.03539871426702874,0.05880556519323816,0.05758253959193498,0.0268902556318506,0.06801496281209463,0.04362236582009235,-0.06724469603747768,-0.051772154802467926,-0.022935210452439823,-0.007826087364804194,-0.0114522217766666,0.051653336923693206,-0.06616869801328995,-0.07121075444867095,-0.004613500391608886,0.03728142836309298,-0.02004643104173259,0.07529615260867599,-0.057636415127892096,-0.06411890963352042,0.03670640362449285,0.01431503352656416,0.04214576648752846,0.020101028702396478,0.05870744776132736,-0.029480780699083796,-0.08078095867319898,0.08648800272640442,-0.022994237789684457,0.0798635733075543,0.07982651771207391,-0.013967668727047938,0.04002588360238978,0.0014650134890842451,-0.08535224398620861,-0.056366492586038174,0.06672578154100622,-0.004088035278763092,0.0767987332621303,0.06230041981647673,-0.05948744126908209,-0.07039124222934667,0.023892730843485595,-0.004535679196341779,-0.0782691339942714,0.02888386790011807,0.08552857149926554,-0.006753396235421945,-0.01647438838451161,0.07389847648547439,-0.025853784113399433,-0.014441143634247046,-0.0890381893662651,-0.006229589237780581,0.03080395125225625,-0.08327937348655415,-0.07164225156703055,0.07171536032123575,0.05840287062374017,-0.08510527876486394,-0.010744025338526404,-0.011191249766615617,0.06526176737448122,0.07397373624689753,0.06347953468529925,-0.08497915635063565,0.07271738850981402,-0.028811687428904748,0.043024726533147414,0.08189315951806511,0.04672895960619208,0.010613911750320584,0.03577971112142063,0.03262216757532499,0.049411332871135215,0.06815115541710765,-0.022063693229938973,0.01689441886185964,0.0032777065566133553,0.024425798913564688,-0.015798745495554746,0.051602562793856346,0.0005764454000363607,-0.04928881775787278,0.041053444084853896,0.05293913843019608,0.05617546001975897,0.0752544196398919,-0.02522584155312839,-0.019159393625880004,-0.08717469832770089,-0.017927398638436412,-0.01106878613799175,0.015098853521954872,-0.006866488759155602,0.0446884043281725,0.040209117954771334,0.00656189172748638,-0.06712506641998706,0.018381716300389404,-0.06618389427239746,-0.05320699727876266,-0.01520397827164493,-0.07292327987892633,-0.04689680626403644,-0.060195796427098776,-0.08208651790224603,0.046300932452058775,-0.02544250673786363,0.034574267082663895,-0.06448086335439329,-0.06423545454811776,0.04594111427431124,-0.00693829722804515,0.08868796394012353,0.02814259043974321,-0.06081384837663433,-0.04038629274587727,-0.0028714118570642246,-0.04005196763816203,0.05954548682029906,-0.02134623578204872,0.08267160157741221,0.013872471112044033,0.03337493153853847,-0.029609249460656434,-0.027787451636283343,-0.015327392618744613,0.05855984025571353,-0.01594085011770447,0.021212927590311324,-0.06726053812829129,0.018585828541499996,-0.07604397825625772,0.08164956567527097,-0.007409650999754175,0.07552303401451672,0.03669359714564725,-0.010902718319251282,-0.04452348694837573,0.017825591687480862,0.03255366417455137,0.04390879079857321,-0.009201125110247049,-0.053144198805070215,-0.0837607401392345,-0.0374847504991323,0.07845619999452091,0.04475360633964075,-0.08158127345232151,0.028813098465839772,0.03454637133288316]},{"id":"chunk-7db5cddc-165","content":"result = agent.run_sync('The box is 10x20x30 cm') print(result.data) #> width=10 height=20 depth=30 units='cm' (This example is complete, it can be run \"as is\") Here's an example of using a union return type which registered multiple tools, and wraps non-object schemas in an object: colors_or_sizes.pyfrom typing import Union from pydantic_ai import Agent agent: Agent[None, Union[list[str], list[int]]] = Agent( 'openai:gpt-4o-mini', result_type=Union[list[str], list[int]], # type: ignore system_prompt='Extract either colors or sizes from the shapes provided.', ) result = agent.run_sync('red square, blue circle, green triangle') print(result.data) #> ['red', 'blue', 'green'] result = agent.run_sync('square size 10, circle size 20, triangle size 30') print(result.data) #> [10, 20, 30] (This example is complete, it can be run \"as is\") Result validators functions Some validation is inconvenient or impossible to do in Pydantic validators, in particular when the validation requires IO and is asynchronous.","metadata":{"url":"https://ai.pydantic.dev","title":"PydanticAI","chunkIndex":165,"totalChunks":208},"embedding":[-0.04561329543738043,-0.0019460548475373528,0.0819505669311708,-0.019010041102479742,-0.03721668138406507,-0.016245765706190997,-0.07055558357394798,0.06600966808070768,-0.00434325925632646,0.041667281447097464,0.023903694160997996,0.05202074083190097,-0.03534414774594052,-0.046168908980751065,0.03404870190022659,0.0022762263666570976,-0.08270014604270866,0.005909269853818503,0.021862554539654563,-0.0662541036319107,0.06360211477996955,0.005592310381559541,-0.07896525765449197,0.058029072930235286,-0.05264398905598883,0.07917688921935875,0.032630493266336144,-0.0745606377372976,0.01996944570526259,-0.0320822064975587,-0.05277077925213152,0.04380482548759148,-0.033844915616662204,-0.023800131300928458,0.050538971278986,0.017982063917511257,0.0057626439317573,-0.07587338579472168,-0.048595805615229665,-0.01795108615013583,0.059666040798203444,0.0592306428757394,0.04345143278729481,-0.030347929376013064,-0.03269689636365712,-0.07511164721494634,-0.06405361582559202,0.07882596167567524,-0.0706738887929001,-0.08469787858710454,0.0071686229364279755,0.047078928130214706,-0.0037725637397331836,0.05058548337230376,-0.013972118986698487,-0.05672358315169285,-0.05032401121280908,0.07915976929043865,-0.000641199098565533,-0.06090301084676001,-0.07820116434087337,-0.010188934982879684,0.08764811057086626,0.04529003402804344,0.06344300002957719,-0.015344146165408194,0.030087611204923495,0.05333017579848473,-0.0844087928220324,0.07125104194323008,-0.024761777669320802,-0.03255890474936214,-0.009658188882309801,0.06527229077421776,-0.002522468933123371,0.025548622237633788,-0.05687879560016186,0.014292394783365015,0.035911365312608044,-0.06868878446551287,-0.049798297261148476,0.05526619790800213,-0.06520832610254679,0.07872896720263815,0.06473013282751143,-0.07050539079365492,-0.03272684331932861,-0.045369105574290906,0.0857047905985899,0.00718967198052877,-0.02842419576251656,-0.0008449948458723412,0.07816940442437045,0.07389009257542227,-0.013699250194780611,0.046174337812940704,0.07235784006231162,0.08061619311844645,0.07120927770511741,-0.025263218642061634,-0.008514243692472981,-0.05015174859691315,-0.029851315696338757,-0.08183472819652149,-0.04769960616776252,-0.0120951477771486,0.00947588915372048,0.015421749293981938,0.04026024300415016,0.03774085388014057,0.038008397037248405,0.06946967942348732,0.04998807017900399,0.06040971643109986,0.0859685910911208,-0.038452254249682086,0.06410017158143126,-0.029364036042096756,-0.030641663069223016,-0.01869217667638985,-0.029624245037620674,-0.08560273009318067,-0.030653126235857902,-0.07349521996737227,0.06338171707841261,-0.03638065829656629,0.06444308576131282,-0.013670505914908242,0.04247436598008078,-0.05485436741370732,-0.08611147709714123,0.03716773278726386,-0.05070031001352586,0.06819287647881266,0.02068301432210798,-0.07299468247092432,0.060030284593923934,-0.07460579987761815,0.03306371102593652,0.059660009062855686,0.053896080744948845,-0.034301094257524596,-0.06728077751731525,-0.033873243754569585,0.0803755948946874,0.08728470986254967,-0.050377070466163784,-0.05103628261528403,0.015846938879423574,-0.0016819504375795364,-0.04591739595182117,0.012019581981734483,-0.005443049645743428,-0.002487569932182563,-0.04655570159042547,-0.06847862271185481,-0.008758804977133381,0.03745569427921029,0.010977868614932657,-0.08546233784233008,0.07500503813906267,0.03916974459107991,0.032953370353730284,0.07714738688477553,0.043117059743880984,0.032668756773411425,0.036365459065079056,0.009514362563176353,-0.009588588315782935,-0.008711121188717814,-0.018229272197905703,0.0584130133023946,0.001996143699186708,-0.061745464865463076,0.05851087749277724,0.032949675002669015,0.07688880242088102,-0.06869510499366388,-0.08478183505869681,0.04734767645279336,0.052865727834372093,-0.009617774014239666,-0.03789096985080315,0.0840608246803134,-0.053367237722779695,0.06717138141453573,-0.07311064644280751,-0.08717881495477292,0.03081854573952856,-0.04182177184705844,-0.05885132698425814,0.04101385113420206,-0.056442306349751274,0.019008933912329704,-0.0876599078276073,0.027261320091814676,-0.07299143319944668,0.04832532788635941,-0.03923604515569057,-0.008205088278030978,0.08315100340130946,-0.006749353498164487,-0.07600135280923799,0.009114909966996914,0.03258417033149587,-0.0773373367301526,0.006600145062242666,-0.048264468620404594,-0.01910817662998272,0.022202543240967404,0.07089502491190992,0.010351216430664976,0.07944805278163032,-0.04706768366901086,0.03151910918589575,-0.054499707667472336,-0.04754632646105885,-0.08340833892635682,0.04877339307982871,-0.0666165443581722,-0.06746019102491442,-0.05248720659378061,0.01464287475183912,0.017684601473249306,0.058661345693784686,0.08608937718661605,-0.06026958898404,-0.05973911743501069,-0.0677008506750389,0.043148081769044236,0.05829425909878883,-0.014153717612201213,0.008881233002170131,0.08419238206612005,-0.051745445033789306,0.028070451769089476,-0.0819655413245457,0.047767280775164574,0.050863463828779605,0.05342909596430723,0.014265308271963427,0.023010659448574493,0.0684494727677123,0.0750196843162082,-0.033794968935403985,-0.08128200267448014,-0.0010674433796748662,0.07649917455961301,-0.05367305444582168,-0.02404805560169376,0.0601043721047553,-0.05303470263868528,-0.04499547671830595,0.0636527827802455,0.08267630130658804,-0.06531028926452674,-0.024722629830090576,0.01477804890875384,0.031148586807819876,0.0014908395281654952,0.07886574194907796,0.06362444163755694,0.059545176390693295,0.08140079234091778,0.03522148027328846,-0.05943190047214209,-0.024690745143157222,0.022863368656496255,0.07923340769973562,0.029631046886897258,-0.0435412167307504,-0.02328488673350841,0.016960019709580713,0.07913563756373264,-0.020249956361504392,0.00447319642180012,0.004818980486269889,-0.06768469781936519,-0.02537038641851818,-0.08027615402718415,-0.054048452999575704,0.08221505692509565,0.008803402683329097,0.08291180492337201,0.0815439618637992,-0.06971886775364652,-0.0667088774452375,0.00575262361539395,-0.01599843573807567,-0.019351586560601586,0.05824557034578183,-0.05197114985599113,0.0014840300590960602,0.026303479693070703,0.011531259950351322,0.05314172227639796,-0.0388891150460592,-0.013782649949494831,0.08145714717157537,-0.03613444787550151,0.025735846683084422,-0.008582220092942532,-0.025951944213961547,0.05304367148463382,0.038898246860535196,0.03530441382478532,-0.08608166324001269,-0.05915740971275599,0.024977228284006007,0.08600016698601283,-0.018924071245808118,0.0718625969207653,-0.059574372635918034,-0.010389676629479273,0.0028679146057041145,0.014634398402717666,0.0310117638077819,0.009016583574683556,0.047128811331799886,-0.036372512969531486,0.008881510260824945,0.024493167741853384,0.024122128956204837,0.07719954776075966,0.03385633738107285,-0.055995479166360135,-0.047335068463747694,-0.06759515434012553,-0.045767144016159444,-0.04527168126041834,-0.08479942364189216,-0.0400166379478503,-0.04736636466246784,-0.0057053062327505795,-0.0754261623468462,-0.0174332636964371,0.0316564836820321,0.07662144579504224,0.030418015434397237,0.08478752350675521,-0.004978111872341229,-0.029153146941508636,0.07698949553938786,-0.07253388360092079,0.05109338560896959,0.04902011088498519,0.029537021267575257,-0.07301552397336367,0.01767716110776459,0.014880721072624038,-0.037778443461020016,0.030290777578942156,0.06934888194067407,0.03210303676025997,0.04009492849778852,-0.002210565706992836,-0.004680774521890415,-0.04128768816429636,0.06957736479359225,0.05119708580087139,-0.019214268498116333,0.018256902663559962,-0.08706382965587008,0.03389071607228711,0.011315998228558695,0.003802825385366498,-0.07506422771003433,-0.017263269991982477,0.01236457764011974,-0.0179704005054472,0.04890239160989166,-0.05387694955263063,-0.014700578452891813,-0.07058803236810783,0.022392436180473593,-0.062273757078268155,0.03970478652866834,-0.04921749303677202,-0.05186789264673307,0.011681894766853138,0.04620074731040032,-0.04615789547005461,-0.06543477199884998,0.03225141985158609]},{"id":"chunk-7db5cddc-166","content":"PydanticAI provides a way to add validation functions via the agent.result_validator decorator.","metadata":{"url":"https://ai.pydantic.dev","title":"PydanticAI","chunkIndex":166,"totalChunks":208},"embedding":[0.08103536498618402,0.07076119872210769,0.008616949325407058,0.03905759658692352,-0.036190736995769766,-0.05499971701719098,-0.060823415056602805,0.0745459646403573,0.08008439463551173,0.06464688923778009,-0.08218538951761506,0.0018081418328238718,0.009325630911824602,0.054949455066375656,0.07115909552368084,0.08346173644341814,-0.007248372645634724,-0.03393823721503953,0.07703024572142998,0.05968018381949796,-0.034459748560619494,0.08690681264870258,0.006833019788768097,0.0855656694540661,0.06712328047360695,0.030940008195050387,0.038307363372888065,-0.05569892134557641,-0.03521017624921383,-0.027292858176460884,-0.017638402917575808,-0.06436380473089488,-0.07701141803867487,0.023985310621929833,0.015980693369610173,-0.04719317984121804,-0.005209211893624626,-0.04255495899630152,0.04178811147084409,0.004208428211661989,0.049090268002965835,-0.012438703195331795,-0.057010502102638694,-0.053944685420716273,0.08302924629988233,-0.005023118759146141,0.08294905509672403,0.05378809749857115,0.06272376812480213,-0.05281119199556694,-0.004473040008764522,0.066774272401413,-0.005492019390023616,0.005648808024347415,-0.04219412168944606,-0.08788077293467056,0.034179115113945786,-0.01685701850800305,-0.021093293363420414,0.0866032674572444,-0.03835434817460287,-0.018399363600072736,-0.07051828158255348,-0.05369581864478893,0.02337234515359823,0.08062786125377146,0.0024879076517110572,0.040169097973161066,0.06850271639431901,0.05744163040991468,0.08418192304060594,0.028976207387888697,0.005096678576372113,-0.01611854846262636,-0.010860357501829856,-0.06555426725186854,0.08688262601668559,0.013928254996423842,0.017163932703193777,-0.03763229355334932,0.007925561904361545,-0.04058180820159428,-0.004224356110751972,0.07616531159098451,-0.011948365480717725,-0.036013721543208956,-0.04006336257252724,0.008329064143111336,0.08728533945524702,-0.015717539768871632,0.006864475866419645,-0.01153123173448206,0.04960775854539026,-0.04908759628303406,0.03216760151379277,0.05035105765726879,0.06687345481329787,0.06924707360781894,-0.05603051861626939,0.02192146514124021,0.004905309935118213,0.033609078961855325,0.04454595703194895,0.08136275247648007,0.08711637335541536,-0.001225927136163721,0.02155870974949974,-0.07152895038007107,-0.06935899016817396,-0.0363124668247172,0.0007610763087031462,-0.06768175460183419,0.04232141873422688,-0.016783774784479812,0.0629531030733919,-0.0624427963011771,0.069799811262288,0.007385662831607793,0.013209112821139566,-0.01784350646946538,-0.051379858442189466,-0.01965179395447164,0.0765937300181135,0.030029130974677458,0.03977946441662793,-0.03393528744496492,-0.035541933016388694,-0.030798769564551548,0.04250130484606514,0.02563850287920888,-0.04650757526938561,0.002644699230806874,0.08404286431584201,0.03344316621607183,-0.0395877401878408,0.02871423303457318,-0.06919377218121939,-0.046642140654530734,0.03971354742234276,0.017948097867828285,-0.053243099895541185,-0.08753583813892846,0.06041518088411688,-0.02076466033270376,-0.08675732796678341,0.021564849799178023,-0.08510186829626874,0.07518547930944736,0.026607982979606825,0.02022331983675044,-0.005108763228281924,-0.003462792911749089,0.035295329749023795,-0.08258414327853442,0.011412513269284207,-0.05688026090820192,-0.015602904480486792,-0.025472270587148897,-0.031658188890531826,0.024829866857402988,-0.007637421451716824,0.05049064107023006,0.05301859787668098,0.06982115126298542,0.027918968874489122,-0.07657889847863297,0.026632332326128626,-0.011352995859646806,-0.08438943236747537,-0.030116263267671035,-0.06147314628968853,0.03264818219004449,0.043038667001723624,0.0062028353733950626,-0.0724814526400701,-0.07645467215822323,0.06354339066682546,-0.038574097574608404,-0.05214740089129749,0.008271203730345357,0.06442184332343821,-0.0484530496814341,0.00873381528727898,-0.0376475455015222,-0.012315067574354941,0.07211653269785279,-0.03667818051181273,-0.040256478760253074,-0.0732160825044296,-0.06175289182350797,-0.05926407222035836,0.07562730555838425,-0.0346523696252736,0.04842287067034649,0.01881606689073562,-0.035057693080137384,-0.01833685192301264,-0.05265885586785546,0.04419832690777231,0.07758776251471912,0.06633697222779722,0.02167455759076479,-0.029852788107551435,-0.058035386598139595,-0.04181715033744779,-0.05559415123324596,-0.06909864358242838,0.012479736538914033,-0.03513073774177884,0.019440594160981282,0.05162137421980916,0.022891100630660213,-0.011659761837758046,-0.03673499235240972,0.08467191122540293,-0.08777462342265199,-0.003664735501608064,-0.08472060125314769,0.061662382860174246,-0.058623365298256014,0.01603389633824985,-0.06076420844511216,-0.02639952106658341,-0.06314960491983918,-0.0713018892361569,-0.057662628410177955,-0.07024564215481664,0.05241371750885668,0.015519299355052503,0.029416990562219126,0.012549681289028483,-0.03698898666202507,0.03708867113941409,-0.04908487365497167,-0.0548310838910005,-0.08559269333416945,-0.08743742132334235,0.08567968894151907,0.08659885245172069,0.00004720248272361278,-0.05793285929657136,0.059133243182103994,-0.0670772950105506,-0.011302500209637474,-0.06824078515134929,-0.061007357565054474,0.06235868510891279,0.04407539069479541,-0.023244908283480813,0.04805703981825252,-0.003144207991889093,-0.023002585726709872,-0.07250412408175264,-0.08296199389000967,-0.015900689806792573,-0.03453761108909087,0.08288290954688086,-0.06150873659995812,0.04180454495342057,-0.04240014253557136,0.085132705594672,-0.061619435199122136,0.007575902190525347,0.05039866783029325,-0.06823017636652585,-0.03791722840213638,0.04222429388955853,0.00012348144389407497,0.057412294147665646,-0.07757627761651216,-0.030793983920116473,-0.07073370738648882,0.03223625022261451,-0.030578310198838513,0.040023105489085276,-0.01156972727821302,0.05968611157807581,0.05096338843130546,-0.07257622614019213,-0.048814689556487385,0.05336728097144466,-0.041812498586489714,0.01543624116661961,-0.08364298545893652,-0.08695398491073443,0.08265677627043203,0.039214795761662744,0.03305351551968608,-0.07209077389177225,0.06863841683369905,0.06315770901196245,-0.017341206043647597,0.0576123783814895,0.016469166064753377,0.07287614133649685,-0.045767623073296716,0.08392589377970638,-0.031202945896054227,0.008578692392835657,0.000870258045182927,0.023980765164381405,0.06368563940404795,-0.02326975422190739,-0.00922768905834057,-0.035539402961635325,0.08503798792020688,-0.05541553578920568,0.06878763734239916,-0.023036882816677505,0.025328081048985936,-0.01750056773021573,0.0318850964028749,-0.07146625537195661,0.06428352612793004,-0.05840745144493861,-0.06205352412973913,0.039980932708752144,0.07724734306832846,0.053507956603791255,0.03522139982507641,-0.014032388771203403,0.05392428725587998,0.0628445268667641,0.01788955766456059,0.04498057043013428,0.01980606411364392,-0.025707022356126277,0.05624904441802308,0.06724556313281031,0.02385928794575337,0.02091076731542758,0.0392733887588889,0.04999119652254711,0.04897697565156698,-0.03319033075539863,-0.0627921064775552,0.03437841830936138,0.03237909881942377,-0.019211927737212628,-0.06501630653250359,0.07455612724222098,-0.00036125648562618554,-0.042236450623741775,-0.038350102552300404,-0.011906508959069008,-0.020965816690231863,0.05631660196679871,0.009857645426587427,-0.006750735860177589,0.012854633938902394,0.05185080409431461,-0.009472274079656744,-0.034049678122521694,-0.05145927146963574,-0.024758250991501533,0.04188473276672336,0.07556189047558298,0.012398380783984088,0.01327356092669549,0.07172469703294675,0.04106672059314328,0.010233394828070397,0.0606642066953055,-0.0735126009149505,-0.016810565893351125,-0.048639236666646955,-0.0008871983539692255,-0.05345081303543681,0.07239271023666717,-0.07955434351222836,-0.0439308613610947,0.058360866553982226,0.04963975876767122,0.06476938104943138,0.06366564813044749,0.011766219504836006,-0.058830392674744936,0.046200018171986226,-0.0563343440331963,0.08737617070097684,-0.08334547537292429,-0.07349141998163856,0.07008433469268424,0.08593917686233428]},{"id":"chunk-7db5cddc-167","content":"Here's a simplified variant of the SQL Generation example: sql_gen.pyfrom typing import Union from fake_database import DatabaseConn, QueryError from pydantic import BaseModel from pydantic_ai import Agent, RunContext, ModelRetry class Success(BaseModel): sql_query: str class InvalidRequest(BaseModel): error_message: str Response = Union[Success, InvalidRequest] agent: Agent[DatabaseConn, Response] = Agent( 'google-gla:gemini-1.5-flash', result_type=Response, # type: ignore deps_type=DatabaseConn, system_prompt='Generate PostgreSQL flavored SQL queries based on user input.', ) @agent.result_validator async def validate_result(ctx: RunContext[DatabaseConn], result: Response) -> Response: if isinstance(result, InvalidRequest): return result try: await ctx.deps.execute(f'EXPLAIN {result.sql_query}') except QueryError as e: raise ModelRetry(f'Invalid query: {e}') from e else: return result result = agent.run_sync( 'get me users who were last active yesterday.', deps=DatabaseConn() ) print(result.data) #> sql_query='SELECT * FROM users WHERE last_active::date = today() - interval 1 day' (This example is complete, it can be run \"as is\") Streamed Results There two main challenges with streamed results: Validating structured responses before they're complete, this is achieved by \"partial validation\" which was recently added to Pydantic in pydantic/pydantic#10748.","metadata":{"url":"https://ai.pydantic.dev","title":"PydanticAI","chunkIndex":167,"totalChunks":208},"embedding":[-0.05130266078265108,0.044336080205962004,-0.015356430801719372,0.024149315057282968,0.0466007874957343,-0.06281304011430547,0.0319905602162816,-0.08033741196137219,0.041174117537247173,-0.08418202486737712,-0.07372923555345136,-0.068064528612104,-0.059173784973841036,0.00735189696541628,-0.06082497295573655,-0.04788858707434387,0.08437235964682988,0.03547426912756955,0.00418708826064431,-0.026855119653969108,0.060602448390580654,-0.08032235722955246,-0.05922039884985808,-0.06193620227621394,-0.06879865135168797,0.010303166373034862,0.020224340220058465,0.03758439686076129,-0.04933826502424015,0.03625061586065615,0.0682605062560667,-0.014745571424299388,-0.0011033227607000393,0.03156825252454584,-0.002132356999876378,-0.05085522876527828,0.08709675401154919,0.04614628385570794,-0.05042464543499055,0.019365833712527616,0.07479966346973589,-0.038889457611056694,-0.05094473446088247,-0.0533119504534847,0.02137580324360278,-0.01920753520045098,0.01851621660111375,0.08481651312255314,-0.0028924200873416705,-0.0509874205178702,-0.04502199387027172,-0.060049652025526125,0.0367571923713775,0.03270368117848453,-0.04991033977253018,-0.03589785494827895,-0.016739373343314375,0.0627385020601034,-0.06735944379462949,0.02273907251098871,0.02882829125925861,0.04810004905126596,-0.03397336314944025,-0.06430351627145253,-0.07078398468080398,0.05867726207465903,-0.010068271112668836,0.023842093429791527,-0.01017824874155505,0.04154434597415375,0.07654111455380633,-0.07297066427157917,0.07607069304108972,-0.023307068912903666,-0.003959592870375325,0.029315710760030842,0.049532761342055524,0.08081844582662331,-0.059431589735075986,-0.041814234496960305,0.002014704814709958,0.016581176117785205,-0.02079913468227407,-0.062330210968372435,0.050046384315519096,-0.014550305194193583,-0.046912582699912386,0.06377153814255336,0.024098339930736543,0.047191267073811966,0.04407514030789333,-0.03602647936535887,-0.06411055082752692,-0.018034435402321695,-0.044895371480680464,0.03666233380619514,0.009396178543102976,0.005787748602679044,0.0033673913674159106,0.009996350115562373,0.05365416137283276,-0.013102485897481387,-0.06755607782304611,0.01275699399338327,0.02755195031449821,0.023875421485922154,0.052463764561493584,-0.07797360578845844,0.051131155709249705,0.038634652175692036,-0.062264562040971694,-0.016957052398978566,0.05559433017543072,0.07357346438156448,-0.03535029767875409,-0.02807064364286428,-0.04741155673937303,0.02103348394012283,-0.05302513212274533,0.03708360420617578,0.06618476546157905,-0.06065806939249191,0.034968017837553794,-0.07290819425269277,-0.0878394573965217,0.06457817977899824,-0.05030035464006219,0.06672321933972132,0.0792760220565134,-0.009108261385011394,0.058818451591403344,-0.014166504316722388,-0.052738503349098936,0.06073190693723783,0.06368538677532694,0.02307869992866535,0.04668353683600315,0.035042215981615554,0.023650785921424167,0.0252776578696149,-0.04128666095019071,0.019182880720984674,-0.0809641146872864,0.07136969942748451,-0.031236511621169867,-0.05353742224354519,-0.06450530519072477,-0.07170589822762795,-0.08584539120201896,-0.03283222109804066,0.08240241958230417,-0.0776292657262758,0.06858672388825729,0.03941093622446082,-0.030088212652577176,-0.001596269513111666,-0.05003187225945167,-0.0789930932255033,0.029173517905163177,-0.0027279672173581367,-0.058822511110508575,0.001544754386551576,-0.07864479844448172,0.0004983210442356192,0.03985193259987059,-0.042323560513499434,-0.06393777850732989,0.041411775785029484,-0.0033553546803453695,0.007839167731057098,0.02747006786141425,0.05003205106742283,-0.008545449025293651,-0.012796870135034605,-0.08047023482935496,0.061239436160667064,-0.04266633190729688,0.014842845973617838,0.07987942873180241,-0.08076401314056136,-0.015188414950600575,-0.06903513622082932,-0.02428189411580512,0.07356869974973161,0.060605909739855024,0.0809974206303041,0.05826612556470329,-0.026298709255086535,0.07353468461084714,-0.06799067274092084,-0.06113301166840019,-0.048284861911517096,0.05053379453116794,0.05829123346168549,0.05070079582243788,-0.0730387654860523,-0.023831111016737565,0.0649241730138918,-0.0799936218096291,0.0764317359434196,0.022531456703607122,-0.07328516087513777,0.08653994585976384,0.004318732168673614,0.05067138241265424,-0.07348904718431273,-0.08070018836883627,0.0875057003526523,-0.03839783618396449,-0.04177593392246354,0.0033709514711261113,-0.041657317183830124,0.08220817732988644,0.016137477532805682,0.026727871996451907,0.059564565594846894,-0.03210079387605716,-0.015846814007138332,0.06886930100256299,-0.06621196503388507,0.044653911026994716,0.07918364684922463,-0.08074573059120857,0.014008790874428629,-0.06620980914219536,0.020590644477821177,-0.02146145202595019,-0.002804691871640175,-0.03716224502710733,0.02333281019255731,0.0777506266984583,0.0706056197547771,0.008390794360479308,-0.0658395580103804,-0.06019962172788974,-0.08668760598658128,-0.08194656363269982,-0.05090311149453519,-0.047929157871629,-0.07397170514210356,-0.05528927061210656,-0.056851870872350434,-0.026205261099668094,0.04740214216301051,-0.08170199495152224,0.08131362264592347,-0.046711011553682326,-0.005497882619206517,-0.06222804273849888,-0.019774576089512077,-0.05924584512533295,-0.062348644352986135,-0.0013230804720423639,-0.06033985770932423,0.06822130490794202,0.03944142619515182,-0.004573597333051319,0.08301358832996669,-0.06218449642835623,-0.08475781595920988,0.013970542587288321,-0.008488975710734644,-0.016273249206110636,-0.04847080139751729,0.023434971879494133,0.0713406858855283,-0.06312099476941564,-0.03539975508226073,0.07702217622239436,-0.04980279189623216,0.023170877118161584,-0.035884209011330284,0.017754092575143977,0.030587325593124017,-0.013686740902826804,0.011117423165403276,-0.05805114528357307,-0.05641141484062608,-0.06429923347108742,-0.004287885901310558,0.054663957197642006,-0.004313717362385496,-0.04281797839482144,0.08590614831733699,-0.030910320289658195,0.030519410174834536,-0.035129114862367125,-0.08243978258663154,-0.013475475058327567,0.023168754462168834,-0.025618122121877394,-0.03057430198481292,-0.03634085037068683,-0.005318226750771351,-0.014509241546432657,0.07090007742939654,-0.03381231012321978,0.07693365345970866,-0.03794847594312194,-0.058194950625792434,-0.08508794973848348,0.02577714515694821,-0.07279485846386717,-0.03454877589883696,-0.04092924442412143,0.019042500425824112,0.021355050145947112,-0.06594934837708251,0.06007262829639459,-0.014864562610822743,-0.040318684808229394,-0.04343502771889364,0.06948799369583467,0.07030001106942282,-0.0754965343672478,-0.03371683866721952,0.0495667346984153,-0.06495493107817842,-0.0311956184313538,-0.027593994606955607,0.042715934846960756,-0.0489806731620732,-0.07585880568462879,0.029464043281448703,-0.058325973974034606,0.025695453419943445,0.060458809838912546,0.04462751352923741,0.04433123823449149,-0.020778580519629733,0.07905268975711606,0.04522146501497602,0.04799704146550598,-0.08109166642054717,-0.03340926667128361,-0.06913667211438239,-0.038726529316486395,-0.022122363345631245,0.05310929121886882,-0.04948467621628442,0.03152715677797156,0.016859191167747214,0.044714939684157656,0.02688464213630925,0.01911032288282709,0.013815329987744013,-0.014702488437931755,0.030431483693486815,-0.01505173812014116,0.07650714800501415,0.010551979287053433,0.05298979803903192,-0.03125967760352933,-0.009373590106885892,-0.009145080079729197,-0.0006022841942620854,-0.0817460144484948,0.02683602831133093,0.025665525195003012,-0.004250238895746006,0.05876239798880236,-0.07871825137765509,0.03389389552210676,-0.044633504424859555,-0.04921479025385843,-0.05276594960088307,0.07896470486158103,0.021345648716800864,-0.05912933170778288,0.04270217444629771,0.08008244217006812,-0.03146073285161415,-0.010491576293941879,-0.03010230196608474,-0.026131672624026082,0.08415709535345119,-0.07666186576925117,-0.06488027653258661,-0.07709079742994392,0.05686075126421151,-0.06027841869119407,-0.06228992826066894,-0.033065412974381626,-0.07981501424297789]},{"id":"chunk-7db5cddc-168","content":"When receiving a response, we don't know if it's the final response without starting to stream it and peeking at the content. PydanticAI streams just enough of the response to sniff out if it's a tool call or a result, then streams the whole thing and calls tools, or returns the stream as a StreamedRunResult. Streaming Text Example of streamed text result: streamed_hello_world.pyfrom pydantic_ai import Agent agent = Agent('google-gla:gemini-1.5-flash') # (1)! async def main(): async with agent.run_stream('Where does \"hello world\" come from?') as result: # (2)! async for message in result.stream_text(): # (3)! print(message) #> The first known #> The first known use of \"hello, #> The first known use of \"hello, world\" was in #> The first known use of \"hello, world\" was in a 1974 textbook #> The first known use of \"hello, world\" was in a 1974 textbook about the C #> The first known use of \"hello, world\" was in a 1974 textbook about the C programming language.","metadata":{"url":"https://ai.pydantic.dev","title":"PydanticAI","chunkIndex":168,"totalChunks":208},"embedding":[0.015156507517527123,-0.030351189266893695,0.06473672594026651,0.08526076921106225,-0.033329345396976816,0.0402074728201656,-0.04656122303551485,0.03258575339128503,-0.06435187248357682,-0.016583863904961513,-0.061734531872097556,-0.06522580627803294,0.012927950996543505,0.005029382051273059,-0.0033945982871872106,-0.029951962789120674,0.032012532310781425,0.08067163853570829,-0.02022346430802802,0.017068814862227395,-0.04645035128206803,0.04325117896360942,0.07288040939407582,-0.056864889820286244,0.08556877769331728,-0.015319649051489444,-0.07259100186909888,-0.033926506025449096,-0.05777043723129295,0.04829700316693265,-0.06683929970337517,0.07292314040995772,0.05961260702845617,0.0847993667142836,0.01825461225232557,0.02315236716161602,0.0088152924714853,-0.08463724599894497,0.00481614908344452,-0.044909420029201105,-0.0038810336489483867,-0.062182724118483114,-0.08188337095298383,0.03540965052131413,-0.04495262892142259,-0.028522009460655594,-0.0010266446274293252,-0.005205376467800948,-0.0169963157987545,-0.04455487826653506,-0.05519680069563648,0.08517078925989406,-0.06479322016641459,0.08412932240108635,0.058960784482846154,-0.0315630890353959,-0.08720999532185136,0.023520723714312717,-0.06999755492821756,0.06411540686583087,0.04253798981806133,0.04674443178404727,-0.015569548280390245,0.036692870919725416,0.01711383625295037,-0.06365282603657964,0.07612749327652196,-0.06112431616229093,0.031145191700225127,-0.02417926037367366,-0.0479503699926844,0.020015056107915197,0.03694997778092787,-0.08298502100232807,-0.06310024435617431,0.06852974851126677,0.05376248504422764,0.07891910173701829,0.019509922246790816,0.030389125907943983,0.0136206278897677,-0.082729349050739,-0.0005639570036483107,0.08708477209291875,0.07823204755654498,0.060191349321204124,0.06753357538103556,0.041981759996116745,0.007364367318703264,-0.024251471872819046,-0.0021551318931139897,-0.07044599094333913,-0.08021720814057737,-0.06608622198317794,-0.06225503575696292,-0.056015708068856335,-0.07366087334725464,-0.007455785676471805,-0.047834593398468205,-0.05142957072748563,0.010417429357912365,-0.01147973475954942,-0.015205045484736978,-0.03410924584824064,0.044603506082545985,-0.006574053617119593,-0.009350708149159776,-0.054845739684099774,0.0011680734281385966,0.02910989008996237,-0.030437591815869986,-0.06298682883548601,-0.08529898285840559,-0.06027765540099481,0.051454359149486616,0.007562956740098312,-0.042957577274441765,-0.015850002449263514,-0.04728717052965175,0.08130800343817683,-0.07785090418203781,-0.05191460064139954,-0.0025560492215081295,-0.07922249973861856,0.07584392722875817,-0.062290536606996044,-0.001159570277576847,0.059413896207962724,-0.016974172872135262,-0.051923013825689764,-0.0476016241247267,0.025284613211085907,-0.00757923924392238,-0.027215931612695626,0.05615881216609827,0.06802716684526483,-0.03898364201160046,-0.018093782916654016,-0.0705214329951052,-0.051430796306799725,0.07620089257170028,0.05895644896540267,-0.024441011677026395,0.05769369251460506,-0.0431207778294979,0.06626268189461124,-0.022202892380994217,0.022938741298958357,0.04558768390649693,-0.07002938067490073,0.0010548405762876845,0.08487740547811436,0.07057453630024554,-0.03121642883520806,-0.06705644887478276,-0.05277682736392475,-0.08422089748618314,0.046665107483296976,0.04160346575776628,-0.07751026860713202,0.05422006407206745,0.08460519649435312,-0.012189767003768988,-0.0646994839283067,0.004749670486236191,0.03309516305281997,-0.047772403723462004,0.051396754393808725,0.029788595174570727,-0.022124669377951846,-0.004404415294709972,0.03727176949189096,0.05680681579778374,-0.04319492065114353,-0.06889610762158621,-0.010850279407175496,0.07923265788894304,-0.047089476466573923,-0.005554782824847661,0.06558852152179402,-0.058111057117031156,-0.06883876893261597,-0.08294510190384025,-0.08484583591531167,0.028793421957147396,-0.06386069977004888,-0.036378913769651335,-0.045038060218598845,-0.07365827099105555,0.07404690915611173,0.07474285410786155,0.05972539471397826,0.052978787188507306,0.04000427670635971,0.01810358701100893,-0.07395477323181661,0.04137756711949466,-0.07396162080200538,-0.028251490999349486,-0.020822494588783252,0.039353271141551835,-0.056493799464904126,-0.08712031875304081,-0.06687713047887206,-0.01733227671610068,0.05332793264024937,0.049286911841896264,-0.022350365938852642,-0.05621718478077021,-0.022849855995051894,0.05862586893969354,0.08172335759529264,0.05852839384683406,0.038794226473700774,-0.017840708611103068,0.011482264114004138,-0.05164428293570964,-0.08143598535943872,0.013167831674525126,-0.06274929931471293,-0.0865936659336646,0.08088197829775368,-0.01777320345460623,-0.07338827373701017,0.04644976993267394,-0.037869681623003484,0.07178504100839057,0.008770807067264266,-0.048496838433636225,-0.025273840527013064,-0.07468013620150578,-0.002875687459458356,-0.08162276910023393,0.003507357470139851,-0.08182572870562872,0.07530994719478833,0.0743723942309343,-0.016170244335471803,0.044085955069078586,-0.014747196802065796,0.07849815575355443,0.07170294991627399,-0.08282765797621644,0.04254117235140876,-0.058596111036006024,-0.025358512191815848,0.004494075635424476,0.033500977691896916,-0.07999895838199554,0.07415259248323812,-0.030302650907692606,0.032060734618800144,0.07909429952789228,-0.053180452185819946,-0.03169371050014996,0.020165617256991945,-0.0037867622539687323,-0.05310123569471556,-0.04911679518354361,-0.02707494361907838,0.004311159047568619,0.014511966398829247,0.03365263630181554,0.047525002405481076,0.01252296015758363,-0.0018077740524950832,0.014751862587274234,0.004468292171614348,-0.06450465862792545,0.08070717391452172,0.041549753384763854,0.045565210063090424,0.011835245129383427,0.0022498607639149194,0.04410928092613558,0.017561263323998585,-0.06761304845043088,0.020616533879737584,0.022827251015427614,0.06892225924640744,-0.056953856085715876,-0.05503872160711194,0.08112558568908984,0.08128072876453633,-0.0019545766010153147,0.05349689861999265,-0.050605556330810646,-0.027453540327625585,-0.02454640686180281,-0.03895319485724044,-0.04204816413568267,0.043375647782805324,0.043996859055209635,-0.017893851219273893,-0.06967800077579785,-0.07792856839451592,0.052776888671260645,-0.06564899831717595,0.03079884290177652,0.04963817034991189,0.025758001203616307,0.05171942291500096,0.0684381219942549,0.0869613583922141,0.04821027163776602,0.07708329278383982,0.0020082590260500194,-0.02551869037833118,0.021911649863231256,0.044037910231521635,-0.08700418439030068,-0.04501107104212103,-0.03247346890768495,-0.056197031406970924,-0.00266226610121356,0.016069469993339393,0.0285699142419869,0.02083356201199341,-0.019765230264500888,0.023973604315147078,-0.03239875501252452,-0.05758093028662136,0.03140543860602256,0.039963060429161666,0.015648816503233035,-0.06756989094554756,-0.04324420218685944,0.03278873638051954,-0.03498891629497347,0.042569137564188696,0.07430811616694429,-0.04674146830501115,-0.028394288145086957,0.07239376965021066,-0.06198459582644096,-0.042940970388908095,0.00932354271305393,-0.038903306850881995,-0.06210348145200936,-0.005679164812512134,0.030133297896173226,-0.06790414262084818,0.07253564934482606,0.004290701741755431,-0.018851636877289482,0.004924217432298421,-0.02187508275674631,-0.004254736207053735,0.07818081980973116,-0.0611678661633308,-0.07235367211464774,0.07015860445810412,-0.06438860026093923,0.03436143471678084,0.021354080033131904,-0.04257780605549515,-0.022214555634460207,0.08030465974185762,-0.0644447955491147,0.08520467035518936,-0.004966731096734603,0.03276720610459162,-0.08273237342452676,0.023957220543695125,0.02307983676236225,-0.06527411146415912,-0.0644570043021971,-0.011995862839600217,-0.04876222621373524,-0.044795402956132796,0.021610469368736045,0.007163612673362653,-0.0299962221750983,0.03580740794507014,-0.050904149860037405,-0.005696211392876583,-0.06576566007856191,-0.045063098843203295,-0.06498398850065264,-0.056574386592464235,-0.00592287339348642,0.020641843049601094,-0.0009674721260092714,0.07201300233822912]},{"id":"chunk-7db5cddc-169","content":"Streaming works with the standard Agent class, and doesn't require any special setup, just a model that supports streaming (currently all models support streaming). The Agent.run_stream() method is used to start a streamed run, this method returns a context manager so the connection can be closed when the stream completes. Each item yield by StreamedRunResult.stream_text() is the complete text response, extended as new data is received. (This example is complete, it can be run \"as is\" — you'll need to add asyncio.run(main()) to run main) We can also stream text as deltas rather than the entire text in each item: streamed_delta_hello_world.pyfrom pydantic_ai import Agent agent = Agent('google-gla:gemini-1.5-flash') async def main(): async with agent.run_stream('Where does \"hello world\" come from?') as result: async for message in result.stream_text(delta=True): # (1)!","metadata":{"url":"https://ai.pydantic.dev","title":"PydanticAI","chunkIndex":169,"totalChunks":208},"embedding":[-0.011426289860373126,0.07299646708206348,-0.007715213886522811,-0.009552116064886196,-0.02332718607241345,-0.08510921327308497,-0.07196028944951188,0.01211687814511597,0.060510979797202415,-0.010046342175375053,0.016022753956110282,-0.004690167734639585,0.03995526000938383,-0.05866967031759457,-0.053951247167886386,0.03377565502181605,0.008502598299010535,0.014979531162115351,0.003944374626265954,0.04386880217135677,0.07463945368250327,-0.011039962418835722,-0.061772229228850055,0.0039013906978936875,-0.05228874804032527,-0.03818398062804827,0.07327183817678043,0.0321206949516008,-0.06490438307256614,-0.09013963325773829,-0.040356750982100224,-0.07679042772399788,0.03426313482226736,0.017637682624874168,-0.050238839911379854,0.05149499443730809,-0.0315884032119396,0.030182893458724262,-0.022691093196685053,0.04353948087061861,-0.06980630210854318,-0.06312632834106141,-0.05057729274854433,0.012491776196664311,0.016461505451254948,0.06022067896841179,0.020865427795058615,0.041867526434758065,-0.07939259775547483,-0.083487444690271,0.0451783791441257,-0.063254140367303,-0.044071639924570374,-0.022132073772977778,-0.02524306753917759,0.023496244190900458,0.04505465424684759,0.06604535542487033,0.07069582094795893,-0.058917881334827546,-0.059787091723004816,-0.06057885902787192,0.08139387375347411,-0.017744898581647066,-0.012807639885818695,0.0582952594941335,-0.03492803058339653,-0.08433793290735658,-0.07819958958728189,-0.0003059778928381361,0.042001242491564915,0.05719217293623046,-0.05125973413241677,0.08526072993035379,0.012329792727796175,-0.05425399020136601,-0.04244354114431602,0.061885524095310666,-0.02565213809042656,0.06758630209604703,-0.06297052379474366,0.05364769918784056,0.058686418203758285,0.03591017215644022,-0.03987004955353758,0.016554955326307793,-0.06559450226377289,-0.019075237411119685,-0.06287000935240639,0.06857622319205743,0.04214573474117855,-0.08768966363320141,0.038601234390399614,0.04762886427847073,0.08438280697821932,0.024589974563879853,-0.046305717831027576,-0.05762970288025783,-0.012994780775930683,0.08911475133733048,-0.006718159516687663,-0.08928973879099583,0.008001505207901903,-0.015593401809524305,0.025084642860035245,0.03070593669591439,-0.053598049369324996,0.06771799762128,-0.07660250641734925,0.04991998453048859,-0.0865054506362824,-0.013050332791088397,0.08828685774658646,0.04214310430515127,0.019037006787394322,-0.05068579766583734,0.03538181651322263,-0.08559609796733733,-0.034426838639869096,-0.003285699323067708,0.01101654982307397,0.06640359600486441,0.05080467354382458,-0.0017031953008933088,-0.08652892103921878,-0.054021387464622615,-0.00946368259674776,0.04164192296321696,0.016677577711943833,-0.05492763596095189,0.07714937726847908,0.03142747053397888,-0.0593209687617584,-0.08213603342475323,0.04822760090524316,-0.04539762841744444,-0.034033665943900115,-0.04714161463640082,0.05551919775396896,-0.08295460154106249,0.04796183448581277,0.05458474085924888,0.04776775806967625,0.01563851570684106,0.075806733464601,0.02499016620223021,-0.06420249540853352,-0.027191081869398247,0.07471938820668113,-0.07153094520351712,-0.029355021225798972,-0.053917298984907026,0.06386877149462553,-0.04490619374922063,-0.04424002131743483,0.03572860231532556,-0.08836156046302586,-0.08253061214824718,0.006657244828865132,0.06380405599149719,0.004009745647464308,-0.06286185030168204,0.006454046769609457,0.08614728080868148,0.018404244609500037,0.026478329339397828,-0.012046055292383501,0.01867839450880796,0.08231181809611018,0.07929762794700192,-0.038804994956163394,0.058689111606676246,0.09045132531197768,0.07665307930528452,0.015967578552854002,-0.008377777100269249,0.03596409197969125,-0.028807503203210745,0.03110413731030874,-0.021855582259083618,0.06283462850548892,0.001593970206167725,-0.031581686411131536,-0.020010935473224377,0.05157866314118982,-0.05783925315379369,-0.02896184640995623,-0.010978855970134534,-0.05967102918896674,0.05260065150592007,0.0317481794616929,0.07763265072849704,0.08200497348944236,-0.002833558088424383,-0.017621987396906014,-0.01228437799228411,0.04555758844646171,-0.053848480932900296,0.08305520808389048,0.061302310786212275,-0.05659953915513365,-0.0025972143551622915,0.006966434602475076,0.03120592962724462,0.02597382246502987,-0.031168454768830962,-0.04012731346768209,0.0429040774312287,-0.015513845903433401,-0.0627602359285905,-0.04307178225427703,-0.05839812777683699,0.08480894033191207,-0.0800435082359253,-0.022288480587204826,0.08483225155121134,-0.009157886918724554,0.04098434692400794,-0.06716424959222562,0.05153972541846336,0.05059346172496412,0.04800794934728245,-0.017337818730692747,-0.026438436155742123,-0.03513460061706135,0.019868853440986475,0.014034048717970598,0.035645968573488195,-0.04158784167630293,-0.04259195267856005,-0.06671004712038726,0.014210222576713573,-0.04079364655622243,-0.0005625508860652309,-0.07013331591911619,-0.07330007970639581,0.03995604523284255,0.05794260507510485,-0.008921545626629073,0.019390269165983652,0.0487229704698406,0.014182575444146165,-0.07566922171618252,0.0631518218998752,0.010576615322871498,-0.07103752771641529,0.021894758807189715,0.025424758477050897,-0.08965943452018024,0.006181326571590018,0.013193582222284093,0.05815193225804299,-0.08612848510214148,-0.025175270188755577,-0.052311592894214866,-0.05759456493005652,-0.07529132355523055,0.02131181898030108,0.04700698188964981,-0.0634829675319064,0.07066661369293152,0.011347562184807506,0.009906739200590556,0.038969669311814545,-0.0067511859414105075,-0.03242121946507651,0.07584649340368307,-0.06845551431847695,0.03253915086831105,0.015001015909652122,0.020955397299073406,0.08723472565620188,-0.056648623850828715,0.09032982849523567,-0.07000684876922543,-0.08485423333384656,-0.0386798804958503,0.05241293980149066,-0.01135230385865318,0.05360772738922015,-0.05828374359662082,-0.06788514751561511,0.0062814296325372845,0.04893138044056893,0.07228523993312701,-0.030966121689412172,0.01443513607292683,0.0409359184760472,-0.059726955694216134,0.08374719223160582,0.05319749997204344,0.03908187345676262,0.009704577306415016,0.046053277835355275,-0.008403062422595297,-0.03928355206758565,-0.007827600606545715,-0.04710654297288976,-0.04981140009397105,0.015411538300317431,-0.03175493273821934,0.030943800225305653,-0.005289226505936823,-0.026498311979583376,-0.04196134957038075,-0.020025878565171924,0.06718696923855871,-0.03705711042999287,0.05368248661147456,-0.08868105832050434,-0.05998428529421267,0.024014017701287412,0.08302660573861315,-0.005570763159233965,-0.0011116387955327441,-0.04335674756152301,-0.000014304600009564864,-0.031374136623790926,-0.043222733748378366,0.05940523986156198,-0.043281584946947636,0.035969387470638665,0.022937035150542698,0.08611450262853251,-0.03827793043733208,-0.01534251988942938,0.037576799075540956,0.08405081653740479,-0.06617364610727068,-0.017202437701622924,-0.017499204068430918,-0.005508756192575959,-0.07798094519047176,-0.07252253737231792,-0.07870716411331913,0.06467896800043903,-0.04793998797595348,0.08548271152137471,0.08272328904015558,-0.05827492383791712,0.042517357572282324,0.047277817741507785,-0.04562079584934451,-0.026071325565483035,0.038330465645743814,-0.041215320377255504,0.008643370168036369,0.011887872760191608,0.005665429957407132,-0.06079048888187078,-0.07514061430179009,0.013728534844095112,0.05922982541282739,0.060464491061905455,-0.07092344528291175,0.060639085448861936,-0.06632580855476816,-0.034289237334178185,-0.04250874616478439,0.00907442947667349,-0.05939317349646672,-0.05533443468317373,0.009432707499147899,0.09007032596371478,-0.044548509336322914,-0.04443785354518147,0.028579531587428052,0.014274796330461135,-0.08778009905131239,0.0372310139737189,-0.08655550124340981,-0.04881651033902118,-0.005763084207693234,0.04632887249618337,0.0012402535619957418,-0.07616764714866318,-0.03572046622138737,0.012770887859375626,-0.010092037522662486,-0.08656120659084193,0.09009684545294849,-0.05948625689962053,-0.06913679707275046,0.011119031134653049]},{"id":"chunk-7db5cddc-170","content":"print(message) #> The first known #> use of \"hello, #> world\" was in #> a 1974 textbook #> about the C #> programming language. stream_text will error if the response is not text (This example is complete, it can be run \"as is\" — you'll need to add asyncio.run(main()) to run main) Result message not included in messages The final result message will NOT be added to result messages if you use .stream_text(delta=True), see Messages and chat history for more information. Streaming Structured Responses Not all types are supported with partial validation in Pydantic, see pydantic/pydantic#10748, generally for model-like structures it's currently best to use TypeDict.","metadata":{"url":"https://ai.pydantic.dev","title":"PydanticAI","chunkIndex":170,"totalChunks":208},"embedding":[-0.028954499208597946,-0.03661352872638448,0.03260596935020645,-0.03868676013399544,-0.08685087318195274,0.08390533005664993,0.026902374409895503,0.06242793134310683,0.03767628336225405,-0.012629426414986121,-0.06825615023523628,0.08059102666128133,0.030678138515358326,0.08282026254774479,0.005357432705261537,0.07631779031563513,0.018519764148514382,0.04013959101520639,0.06723221965527494,-0.016401016777326048,-0.0026629427333950463,0.05313565860717773,-0.025825674128764235,-0.08496106910511253,-0.07829175891613543,0.015933414711590536,0.039416069755493395,0.04884180796988834,-0.07655728506774792,0.0176838654085279,0.08645499734443966,0.06620739529442057,0.08533539993128422,-0.06061935742031982,0.02309494270123541,0.041317338078355935,-0.06608240264627935,-0.03718392809063866,-0.007331261635861621,-0.01791225279977374,0.0006919641480312923,-0.02693973476833252,0.07961764229922408,0.06126988920901461,-0.03097230049617123,0.03862918220921148,0.06844881309397456,-0.04877108346098884,0.017809201160373753,0.06240822223618107,-0.004234142775072865,0.05072584386189544,0.06601944641243444,0.01626091290652459,-0.054181609928057914,-0.043277743763690604,-0.03796474267606403,-0.053824080025966996,0.01637274391849027,-0.040756793720880015,0.07897615474197274,-0.053824606258513055,-0.02712323037703643,-0.02753272288499871,0.05189039509328643,-0.044756601020603866,0.02077903611214108,-0.0034470050095558686,-0.0036630559798440532,-0.04003025095701709,-0.08359442141659762,-0.0612691700083402,0.037207151004221624,0.08678925754129024,0.03751419114284217,-0.05667779524528305,-0.02404640531636135,0.054254794196133806,0.013832570913526753,-0.04638772915599985,-0.03513166124586524,-0.02039792212287917,-0.05463311345423213,-0.0016047903182177265,0.012310288042589747,0.0011098628377973585,-0.037409909170457736,0.07473433396110374,0.057157008147243255,-0.01935667135984352,0.06233731381502915,0.07203801632269607,-0.021118127524811237,-0.05298335046687002,-0.02191332547325774,-0.07336716592820991,-0.04054487398869074,0.054761440920555876,-0.029640386531280784,0.026713811262053702,0.04941113959895504,0.08258435320602445,-0.05439606445123639,0.04288641564319027,-0.06669907432517674,0.005227128617607555,0.043508854688798004,-0.07072862338148689,0.05596673446232799,0.02702982454762395,-0.025769468162430666,0.028554025585839925,-0.06721168061038678,-0.04663668756256361,-0.058092850832756525,-0.07458819660346515,-0.042105898605062704,0.08562336012720859,-0.05777750028934323,-0.010219423607926565,0.03858155537823741,-0.020833876536550562,0.025939705934330676,-0.0558636010152804,0.0733180410267411,-0.026762653779435257,-0.06962510540415591,0.044100316593511144,0.03771962060009575,0.05766535873392013,0.06906894236397404,-0.08310540599208867,0.06365360449318942,-0.022918302372695248,0.01884306297691764,-0.036798694766450674,-0.03565794366026682,0.08762414623290277,-0.02250732900958887,0.055481752337253824,0.08046856363484195,-0.07725127562623216,-0.003946706566931288,-0.07285546036520005,-0.061927284330968474,-0.032671789125024955,-0.020573937839266268,-0.027930303578773227,-0.0708877365064114,0.030310407660380023,-0.07838573554504287,0.038984501453770776,0.01914997244045996,-0.08394841078110095,0.006239876811924477,0.001223908555089899,0.08222139324785925,0.0010759457742986853,-0.05204992666981392,0.014573133538989778,0.037447721081961795,0.004489908499767314,-0.02836247102205781,0.030137714845821426,-0.07309114050065156,0.07748165207375682,0.058409453937821675,0.0040877061777698275,0.07293556882542407,-0.05666622277519138,-0.04422201422238922,-0.04949843254529095,0.07869528725846807,-0.042306381225277766,0.03383832202844332,-0.05972328917845399,-0.005298766147315497,0.037753490880428,-0.057617816125883424,-0.02466527575871498,-0.03566950403431485,-0.05486571672875681,-0.0022264796330281737,-0.08649501178913696,0.0801118351026458,-0.026590555897497377,0.013529114524712418,0.006008273403432464,-0.01523323602966315,-0.035098342358932624,-0.051527385912142384,-0.07507959011657099,0.058275228061525804,0.012333745512464708,-0.03884330246422124,-0.04678045364767101,-0.049018906473745315,-0.018994169888349996,-0.06727099887149299,0.08258965286879857,0.08464523894128771,-0.06960687918724945,-0.055603729360490926,0.03393312494315554,-0.08365519550524154,0.011488500422737788,-0.05870807226014002,0.06694444979358777,0.005985826305800373,0.001152213121180034,-0.06776517320937349,-0.05323983867681945,-0.04469384957460628,0.06750436085643412,0.02976017975140509,0.08230925090891718,-0.040985977781918634,0.04952296768858003,0.025206353468443594,-0.03590674410843545,0.03444527119591736,-0.005378749275449111,0.015040477436489839,-0.07457474037079737,-0.03101661833933495,0.04755425560330793,0.04287953786772321,0.043923254016136525,-0.03503907224924798,0.026281989506975894,0.013363608879161755,0.07793052085321325,0.012933860107936538,0.08422189535893605,0.038938985173056606,0.07939131705827447,-0.04309569809172912,-0.057725121183532846,-0.017207417213345254,0.03501251221587033,0.03878170941149423,0.04694350540969839,-0.07486122070166225,0.08504687237150342,-0.06412048503464277,-0.07559807260024956,-0.058889331889272305,-0.011108696869126168,-0.05379176372071386,-0.08096194487980092,0.022501587739515102,-0.07490662291647623,-0.070391666034567,-0.06450422364262319,0.0017152309483634781,-0.058973909550396525,0.06776054450685899,-0.009942875279264652,-0.01722480189624609,-0.0849696315822891,0.03575958497020109,-0.029940223662207974,0.03370202279040737,-0.014449622417626394,0.011511151714214943,0.03527738159596802,0.06309249822534847,-0.014034782947757129,-0.031564558024420875,0.033904770010197996,-0.06090608754023213,-0.0769758247420286,-0.080712850110277,0.07856340330320455,-0.013916890640543224,-0.04234957887133595,0.024014098731461243,-0.02137363141914585,0.08127373114666267,0.0797809499544797,-0.027674851416148033,-0.010989876623726363,-0.014822326316662074,-0.06379204549359278,-0.06365503557671832,-0.06125191817201614,-0.023048557818838397,-0.0011575607843582155,-0.01244422498900752,-0.011490164321065867,-0.05204189128996594,0.06252672250233839,-0.05497745390203245,0.07301251888791459,0.031061565024987123,-0.03687587442866423,0.06292709634836503,0.06571551128190009,0.08749771322499646,-0.022140606417298356,0.0464184697762021,0.0667808544412584,0.0010234586830751586,-0.008942354831674437,-0.04546339624574469,0.0674030313919325,0.04990467635419784,0.0020221469372375006,-0.06751806189275159,-0.008365029376797896,-0.08734667129500914,-0.02635222577246441,-0.04717696468996294,0.07683395217227768,0.04633753791733722,-0.08374894310406729,-0.05059794835909854,-0.050542799558606,-0.0778332815595866,-0.006497336752796261,0.019620112491639936,0.012829125532761661,0.08365556558170675,-0.07413372456785827,-0.08170848586484251,-0.0341624102220815,-0.03285906015610695,0.020068871547384615,0.00871828343324341,0.01461427457109049,0.08151914928215344,-0.007922459677058126,0.0579860795313987,-0.04955699851553951,-0.025199740116814664,0.08211673106316633,0.08626787007702554,-0.0698683082279046,-0.039272331942746375,0.006263274073559362,0.05983244869958196,0.04341788620925975,0.010057028368358036,0.04816490311106704,0.06097689142022168,-0.05766718680058698,-0.08485666759700154,-0.03642509029853703,0.07208241934816528,-0.02176553528539967,0.06444697304251741,0.011051380599970526,-0.018103742434390765,0.051230854362526626,-0.07684306676608023,0.06067481732596601,-0.08771275899293561,-0.006513679210037778,0.013381967168756002,0.03341410706443297,0.06148197674653788,-0.008519582199875692,-0.010124178366731662,0.0004606011049315477,0.0015365666712188098,0.018132270371566665,0.05416426708449097,-0.027097234901096143,-0.03587948559293624,0.04178608373627008,-0.07231506599039396,-0.06133791822454948,0.08741471963949306,-0.07873845736572288,0.05423954232962154,0.05505766565702897,-0.03435620493762283,-0.00627588455343483,0.03149252307943643,0.0526149601799499,0.009788664185389418,0.01405612606001221,-0.016781585469039947,0.057729513540187585]},{"id":"chunk-7db5cddc-171","content":"Here's an example of streaming a use profile as it's built: streamed_user_profile.pyfrom datetime import date from typing_extensions import TypedDict from pydantic_ai import Agent class UserProfile(TypedDict, total=False): name: str dob: date bio: str agent = Agent( 'openai:gpt-4o', result_type=UserProfile, system_prompt='Extract a user profile from the input', ) async def main(): user_input = 'My name is Ben, I was born on January 28th 1990, I like the chain the dog and the pyramid.' async with agent.run_stream(user_input) as result: async for profile in result.stream(): print(profile) #> {'name': 'Ben'} #> {'name': 'Ben'} #> {'name': 'Ben', 'dob': date(1990, 1, 28), 'bio': 'Likes'} #> {'name': 'Ben', 'dob': date(1990, 1, 28), 'bio': 'Likes the chain the '} #> {'name': 'Ben', 'dob': date(1990, 1, 28), 'bio': 'Likes the chain the dog and the pyr'} #> {'name': 'Ben', 'dob': date(1990, 1, 28), 'bio': 'Likes the chain the dog and the pyramid'} #> {'name': 'Ben', 'dob': date(1990, 1, 28), 'bio': 'Likes the chain the dog and the pyramid'} (This example is complete, it can be run \"as is\" — you'll need to add asyncio.run(main()) to run main) If you want fine-grained control of validation, particularly catching validation errors, you can use the following pattern: streamed_user_profile.pyfrom datetime import date from pydantic import ValidationError from typing_extensions import TypedDict from pydantic_ai import Agent class UserProfile(TypedDict, total=False): name: str dob: date bio: str agent = Agent('openai:gpt-4o', result_type=UserProfile) async def main(): user_input = 'My name is Ben, I was born on January 28th 1990, I like the chain the dog and the pyramid.' async with agent.run_stream(user_input) as result: async for message, last in result.stream_structured(debounce_by=0.01): # (1)!","metadata":{"url":"https://ai.pydantic.dev","title":"PydanticAI","chunkIndex":171,"totalChunks":208},"embedding":[-0.04734488311154316,-0.027681176147466534,-0.07395490764537815,-0.04453046225242192,0.07884771031852987,-0.01611501703258511,0.07547702514234708,0.0640544340595696,0.00819755946851382,-0.0223198502056457,-0.007942499950887385,-0.0598115884951351,0.08105851119210643,0.0118987945244842,-0.061230580205276955,-0.07822276659920827,0.033295511191952946,0.0058155259924430654,-0.07757775069334835,-0.06380086514788481,0.02221651994472203,-0.047245956199993104,0.015546317960983966,-0.050947982069346406,-0.07842416244993362,-0.01107587956522473,0.06679710901527261,-0.055741606960765765,0.035019443076802034,-0.08135983473236719,-0.021867766010704906,0.027059043187094893,0.012183731928242979,-0.061603115305687975,0.012786298039326476,-0.07656836258700016,0.024494191341524182,-0.0074798772258300675,-0.053011720439450565,-0.0600309382120715,0.07310082467770927,0.006470053171870381,0.04465314386211093,0.029563564857981492,0.06162507250048496,0.021945408029476247,0.06912306098863182,0.013711687279525415,0.08116103242796764,-0.041431354182018265,-0.08250418861623725,-0.028430334004084977,0.010239111446248603,0.06795926725705391,-0.058380604549724255,0.0520329295629042,-0.017055349676707098,0.004802884282250641,-0.0497129803705036,-0.012384403541789607,0.03471707466857302,0.017795722437902155,0.05432495559981809,-0.08404542694546616,-0.030146068387807305,0.02179809933040748,-0.008726304677488732,-0.06112061395241348,-0.07440234859905816,0.03607464929705876,0.0030516734356590067,-0.041258925972425683,0.06767295148780615,-0.08525096158353179,0.025494296155117203,0.08654159391928665,-0.028221693613096305,-0.08537947180895343,-0.06730536209513079,0.028215663584431852,-0.03925142627050366,-0.03828120042598738,0.021545848061869648,-0.05316491940454774,0.04652714088000103,-0.053365492833470356,-0.06662807879945101,0.06703842559700535,0.0004304256244905288,-0.005814354589378927,-0.07958439643914002,0.03730857187667221,0.0300463254714414,-0.04750678304972133,0.008787360922372698,0.07276899664761727,-0.08413646018360729,0.03541841759164172,0.07226172952654504,-0.014564842846015816,0.0643036940969187,-0.022347545022337163,0.06843633110143117,-0.014537867378884607,0.05930771011462561,-0.009918350258637717,-0.026667995077786024,0.05545409167392083,0.07151397963616124,0.05520542765075312,-0.03636778278386347,0.003033298571110183,0.04152607268095342,-0.059337562834480155,-0.004768630236896228,-0.04116368650014099,0.028854192338806855,0.06539522910425573,-0.01056333081580404,-0.08454680102795259,-0.07342060989352008,0.07390503121638964,0.026992732243785754,-0.022557644206621406,-0.038936640207056186,-0.0052440693793671675,0.07280699565195149,-0.0025888726614550135,0.06226299045909249,0.07797180277157748,0.014583564745686423,-0.03959372368207722,-0.05887394705163542,0.07024531387599829,0.014728330007136123,0.03053176417002727,-0.07952737937830007,-0.044049364382971475,-0.006213772645098089,0.0213549709057219,0.08475164927577775,0.06164888689064033,0.031369086125827825,0.08125070866278075,-0.03245645784336603,-0.06839195520605323,-0.04814814255285444,-0.07639884106611443,-0.06777377452769623,-0.08538221494206945,0.020632674203508505,0.0030120943469825424,-0.015699704907047526,0.06234637281909984,-0.06446195044899002,-0.039758286233934646,0.08467160385335651,0.04859911566510841,0.04844049459417516,-0.04574595370869304,-0.07604853060525861,0.016585588377822556,0.035423325354530785,0.03247806616830861,0.054232419857158334,0.07542059152492818,-0.04699404652900845,-0.05508120129912667,0.016661081679552076,0.08339237902016942,-0.07440697914915627,-0.07525250113512971,-0.045862391617215725,0.05187098074480475,-0.06908454543557974,0.05042556037158589,0.055930814453858606,0.08135639174866051,0.011580950458213904,-0.002502220291521138,-0.07768438657431445,-0.04077014635860323,0.04222875170562367,-0.0036535628136395767,0.001346859312034112,-0.02199201379940047,-0.008680869016253761,-0.019927379085035248,0.035394452210984,0.043053608641159834,-0.04054665655566232,-0.014721093365186589,0.003618285897207133,-0.041693227605402935,0.01232699246292502,-0.06772838699873875,0.0656422374094768,0.05254465176527933,0.08479584443852944,-0.02079263088957805,0.04542047628827711,0.005740344591517616,-0.007124125375022075,-0.04529432691316473,-0.06673785967283466,-0.060671200914230186,-0.021213314331106042,0.08116494780708357,0.0073893378046443504,-0.07150731105487082,0.06815951593018299,-0.07077113786856003,-0.05636083174414819,0.04442838112089874,-0.06994410201290627,0.08714673178530566,0.08106808849543053,0.044709746020354615,0.02509374554541202,-0.022308868966002975,-0.00793031846336253,0.03393384823889925,-0.07942530118495215,-0.0578332130871811,0.0302534462421121,-0.047380121308464335,-0.026109871490386023,0.0018656245451402404,0.025381395126427758,-0.03417127730066678,-0.05072822992656075,0.022657628052961554,0.08554091135724347,-0.03661557899784563,-0.0749274267705409,0.003542193489602998,-0.07675403877895284,-0.062146783257823336,-0.06035980664650006,0.017045989664855758,-0.02713076076503719,0.03507443240086949,0.06388619781218963,0.05345101130839488,-0.08581525695633382,-0.016742482433281025,0.008983981490871833,-0.030098982963954194,0.06188513318336301,0.004477883247820251,-0.015057687045496888,0.05529956926192578,-0.03597475268251108,-0.007400837064500605,0.029552822063447563,-0.07121343512792458,0.08318439846599471,0.04486485961809879,0.08641366270349483,-0.03226232629138539,-0.0733667378405012,0.05764237251360213,-0.06047767999785206,0.08306052581154047,-0.07790790646599369,-0.06547928690322995,-0.07366359612010806,0.043394286036448244,0.06376837601819346,-0.07358718246232894,-0.04120229337442109,0.04218977085154672,-0.008550089172847202,0.031259071599945475,0.07727587965376463,0.02455865132754992,-0.06421732792393954,0.044377045563597645,0.032715186025568,-0.013605354501275967,0.04091112741163733,0.01997794715524468,-0.031074534977076757,0.08121342491353124,0.06363183641924106,0.01915742725418087,0.05028235893188388,0.0013134267755342045,0.031511123577976044,-0.022572701591995023,-0.07275243850827552,0.00954528086256243,-0.035333571540650296,0.03262567821623223,0.04423317202013325,-0.051199263590069086,-0.07277418282696244,-0.07295024448607362,0.019327644469487947,-0.05816342830944608,0.0762052563561595,0.07674718688607783,0.04495034362428176,-0.07499791387169352,0.02465308013376291,-0.08340065860934157,0.016708495059562522,0.007233504636277256,0.018713982245617405,-0.035161053852199385,0.03840964904314462,-0.045281762530174276,0.017254326886816933,0.04595983834582568,-0.007926195862150737,-0.05330313763323559,0.08427106608668017,0.005260049482248405,0.022058567656755176,-0.023660576903118704,-0.07080424789444163,-0.06223454842238617,-0.058706729525214135,-0.05825873130947215,0.006032201763864998,0.021208947855018125,-0.08349208356572317,-0.05117684714564884,-0.00452405642858207,0.01396000354587376,0.04623779186452188,-0.008883728038501734,0.03776647936524388,-0.015314292033942687,-0.07160441915930811,0.08333600542142544,-0.0034849726628312146,0.01926496124154103,-0.0280673439960889,-0.06922483861853843,0.0752921545779218,-0.08364639936710702,0.04445422434736862,-0.03354525657339568,-0.08634773292270341,-0.04283232217886114,-0.018719559779926304,-0.03259842050341273,0.03360377821795338,-0.027501287080322158,0.07389496384418516,-0.08387462871329292,-0.07034025571661374,-0.04337141269281758,-0.08380113851879381,0.029728359893101564,0.06001864701489142,-0.048537468992711545,0.06899015694596031,0.07007592520717183,-0.03658010297401699,0.06876258965306606,-0.04465631376837928,0.04357744398953844,0.058870037423970026,-0.004336202639226004,0.009992978631842451,0.05243889183739352,-0.006985267951535932,-0.06695724334928037,-0.05110104062485891,-0.030745517480652993,-0.04878910381194534,0.028590310607288397,0.053838389293175234,0.01600542278843767,-0.0765416803664701,0.00162924101476781,0.01824268686603439,0.025907110649398758,-0.012968993602262599,-0.0402630580479538,-0.06659362203655073,-0.0045865140178506965]},{"id":"chunk-7db5cddc-172","content":"try: profile = await result.validate_structured_result( # (2)! message, allow_partial=not last, ) except ValidationError: continue print(profile) #> {'name': 'Ben'} #> {'name': 'Ben'} #> {'name': 'Ben', 'dob': date(1990, 1, 28), 'bio': 'Likes'} #> {'name': 'Ben', 'dob': date(1990, 1, 28), 'bio': 'Likes the chain the '} #> {'name': 'Ben', 'dob': date(1990, 1, 28), 'bio': 'Likes the chain the dog and the pyr'} #> {'name': 'Ben', 'dob': date(1990, 1, 28), 'bio': 'Likes the chain the dog and the pyramid'} #> {'name': 'Ben', 'dob': date(1990, 1, 28), 'bio': 'Likes the chain the dog and the pyramid'} stream_structured streams the data as ModelResponse objects, thus iteration can't fail with a ValidationError. validate_structured_result validates the data, allow_partial=True enables pydantic's experimental_allow_partial flag on TypeAdapter.","metadata":{"url":"https://ai.pydantic.dev","title":"PydanticAI","chunkIndex":172,"totalChunks":208},"embedding":[-0.01401245859619569,0.043398667959114866,0.01209177987585383,-0.008991010645040631,0.08117273381132031,0.07902823385030158,0.06413247517268984,-0.062277777807785886,0.05898670959673849,0.020573383879210944,0.020719269379376695,0.018548578150360772,-0.04253385383043623,0.060582668546676696,0.08142682361868216,0.020597259698280114,-0.05970913063582037,0.048609233995624654,-0.07066073525192053,-0.030240319498013105,-0.07746171385559847,-0.08574818455998375,0.023106655278384045,0.06547517748722169,0.03128795050383745,0.00993595022637652,-0.009698107127133931,-0.05764355712839961,-0.0040229728495457945,-0.07092799281234788,-0.073766089955896,-0.006010979246550741,0.04372351436448592,0.05304424037857186,-0.03918184604693612,0.07994954264959943,-0.05587551818732764,-0.01879426734411642,-0.06701209939092653,-0.007893321466933095,0.07799782449334056,-0.0824531497735315,0.017538586674231006,0.005570345501722565,0.03588502777976597,-0.06216594709823321,-0.035812861271355856,0.08185912821758506,-0.014700897752162151,-0.005611003596249919,0.043099155082357156,-0.0012583371220284939,-0.04108176920706198,0.0567648823339808,0.07775719500413096,-0.003328432293805454,0.0660607141737988,-0.03231997128149256,-0.0802378079623348,0.06379815566142073,-0.013852261210003314,0.06477992416515976,0.05049915861123733,0.06710578247257899,-0.040304954222534675,-0.06392756557084014,0.015332406464441924,-0.052243086211192835,0.001579791445117398,0.08706963979447702,-0.009130068364911629,-0.06675456486457024,-0.003275857007244199,-0.07440340393445935,-0.0684503095332669,0.0036542357508176815,-0.031945133443392636,0.008932093059795051,-0.037517483471701085,-0.02502454310423171,-0.026790223297508426,0.02118541913259969,-0.05334070773364924,-0.04291808062148492,0.03987227225145959,0.07743365657518105,-0.030476393420695844,0.08351071754740409,-0.0006167125605175138,-0.07776866275002645,0.07132526816817371,0.01592665521860535,0.08234157598637344,-0.0794440888202298,0.06090270323083512,-0.057729296580008645,0.04749470822685998,0.002715498902309469,-0.002713001896788782,-0.06927162245048918,-0.047042655760623775,-0.08636360017785978,0.02178672481519164,-0.05849812395797679,-0.08464877410749505,-0.05682963934927866,0.005059760168272805,0.00212232721092873,0.01660672905768107,-0.0642210736129594,-0.0789479429121449,-0.07838971749011801,-0.005605935354307692,-0.03739715598176756,-0.028859080439170463,-0.08770427010164578,-0.037879190706195304,0.04441157048908699,-0.07285777133055386,-0.0766233659205312,0.02499263409887286,0.006551770275635039,0.011002762893955735,0.013268927810332457,-0.08125132585704022,0.047692722177807734,0.07217331096704768,0.05638720222753367,-0.007792793411221221,0.04982742946294175,0.08288479598554271,0.005949066734828782,0.04505106628497162,-0.012012990767188703,-0.02158081855770432,-0.021660114754740615,0.027046571088160335,0.036772733189039175,-0.06668150331999634,-0.06405979952148554,-0.03308639355403135,0.04160599194352997,-0.033670156066446195,0.0025705795896490374,-0.032197838681293306,0.06585972554043408,0.02724999687685423,0.011688137716151643,-0.08524714985706253,0.045092329533285624,-0.03196496724588238,-0.057223932512875594,0.08548017055804841,-0.08579554560307982,-0.07381966120114483,-0.004403659128928326,0.01028840272338958,-0.016980421238584165,-0.07804274274581954,0.05479130621624152,0.0764524518271379,-0.05935471009148735,-0.08371034778995946,-0.07565103030656567,0.027523026390634794,0.0413498959516261,-0.06597020824139985,0.027426947537569978,-0.03630009077493647,0.05710936008351747,-0.0545599566335323,-0.07122673115155746,-0.06270537407392007,0.021232924831431407,0.010919467039759214,-0.05081320135165333,-0.013066671068437922,-0.05063810943881419,0.039440643757436646,-0.02289192007540176,0.005760906458286813,-0.009551156118159208,0.007664599339360947,-0.02980041071798575,0.06842146261748418,0.002312115581211535,-0.005329865132540785,0.03945299732352445,-0.07157362159109354,0.06008510807345233,-0.06951458736874097,-0.07638649625925431,-0.005983576149484652,0.02284704249029589,-0.06295155788170503,0.056976451398359655,-0.018591713962872625,0.04957671120167071,0.03949066009506823,0.000967981813184826,0.04964659118173848,-0.03696082123784751,0.011447360323957588,0.004523335454767706,-0.007539302118407121,-0.021730223843432473,0.07932674056830483,0.00040621172132409845,-0.03412945048486481,-0.06829318920340688,-0.0861926019118127,0.027275318208083866,-0.06356250592075993,0.04565579284027712,0.08844378167683242,-0.0779975029459959,0.05481666050359793,0.0009895000515156016,-0.06151986514569801,-0.0878690598692517,-0.006561018859840393,-0.02485245513854856,0.07687159532164334,0.020340184014154356,0.02754395863602623,-0.03951385107755663,-0.07774472983537253,0.03554112296248775,-0.005455082740613085,0.06828769442159498,-0.08514755586977894,0.04569604217135146,0.00695407879049527,0.06370536443069179,0.08041198178211705,0.03558019496071947,-0.014384976309060916,0.06027174790994014,0.08677619389406062,-0.019085198535086965,0.051257466461161826,-0.011367381613211812,-0.08460888946544005,-0.05389022894513767,-0.06454279821372381,0.07172505508137439,0.053364769859439,-0.06288178705104051,0.07188984935513948,-0.010450997415344164,0.06475896400239822,-0.03197252351983151,0.007501069710006769,0.02782293610544853,-0.0444930399332479,0.022644326349030866,0.019633949830834354,0.009392406580228087,-0.04018765284892141,0.029523516014923236,-0.007040184230974148,-0.001510566516606644,0.05030838693826067,0.07073697451004536,0.05567989239225514,0.05700518033036551,-0.0866320165781996,-0.06097896215603894,-0.07583517725700675,-0.05160643391399626,0.02417320389361182,-0.054718394234824455,-0.08035961146543463,0.06867768495849953,-0.0861578055789127,0.025463113184010882,0.02091882797785782,0.06688912107729769,-0.06001267418030776,-0.0028350903891494338,0.07649169173318951,-0.0133685742175489,0.060063045759368966,0.059615974304621434,-0.06687877225053558,0.08716668124851067,-0.0827508347635061,0.01653531951534506,0.022198512223040878,-0.0536189801390633,0.03875471983644923,0.02837431874033046,-0.03228537633266024,-0.01607909302718646,0.05258903782969451,-0.00199825926671006,-0.03453886852527558,-0.028828621325555675,0.06444706482788416,0.023365662242300293,0.04137361285222529,-0.05577925181813485,0.08147508878053561,0.06769450569716796,-0.0682583733837903,0.023174981099440307,-0.0006312126063515571,0.06912425285395107,-0.012526318723867816,0.009468262969720692,0.0806447863222519,-0.08132745526687758,0.05898448047844656,-0.044492201258002274,-0.04849813334663492,0.04445034367402006,0.018231230979304333,0.00997991957469162,0.0013588651971224762,-0.017240707697384963,-0.03507094346843108,0.05980514126986342,0.0356430734803298,-0.01023371175811521,-0.07804984296985136,-0.014498259556579756,0.0312506356841159,-0.07082865887051716,-0.025907479312107514,-0.007739405733811499,0.05406140982476725,0.043220945570027876,-0.044710229588268806,-0.06689740263810899,-0.04126430296751654,-0.07740127557969127,0.04190780016124409,-0.029226812509673152,0.04543106534921379,0.08376611839192843,0.0072659928902008095,-0.06495206474313617,0.06887059535048069,0.0392693388428026,0.006814711144244526,0.023106056010150266,-0.08798902235608304,0.030227701667861588,0.051346042015713335,0.08453541744429253,-0.02982596620840269,0.08290392278383878,-0.042989737188042144,0.0016088395765328394,0.047263533672659515,-0.03231266935481726,0.08640428074678941,-0.017007083043376427,0.051097809021536864,-0.030756630132723013,-0.06665515808589993,0.07604307023440142,0.009872946755906678,-0.0785699107624371,0.010669749680621097,0.03262540599599563,0.007852790512113888,0.01771861918786769,0.063421752148173,0.06310331014861564,-0.0027066010630454928,-0.06548827490321588,-0.01028269032666547,0.06005273427816443,-0.019549278944423727,0.03426684513603864,-0.08836003769262736,0.02345216164090959,-0.018276529307860542,-0.02684369053279639,-0.05233211058528856,-0.04055963924763206,0.045730964979245926,0.04140791721028652]},{"id":"chunk-7db5cddc-173","content":"(This example is complete, it can be run \"as is\" — you'll need to add asyncio.run(main()) to run main) Examples The following examples demonstrate how to use streamed responses in PydanticAI: Stream markdown Stream Whales Version Notice This documentation is ahead of the last release by 2 commits. You may see documentation for features not yet supported in the latest release v0.0.27 2025-02-26. Messages and chat history PydanticAI provides access to messages exchanged during an agent run. These messages can be used both to continue a coherent conversation, and to understand how an agent performed. Accessing Messages from Results After running an agent, you can access the messages exchanged during that run from the result object. Both RunResult (returned by Agent.run, Agent.run_sync) and StreamedRunResult (returned by Agent.run_stream) have the following methods: all_messages(): returns all messages, including messages from prior runs.","metadata":{"url":"https://ai.pydantic.dev","title":"PydanticAI","chunkIndex":173,"totalChunks":208},"embedding":[-0.08288192850157283,0.05494000228036409,0.07202813963708496,-0.017747213174183114,-0.08563864279459397,-0.08037771807215263,0.08526725962879869,0.0007445965805331224,0.06260716137671522,-0.08658224997754178,0.04427367645002624,-0.033345730685145604,-0.041865960187684945,0.045970234692174254,0.0009724539922514192,-0.051628325937890435,-0.03879468440066746,0.05356801396682322,0.013912144283720014,-0.023449795799555712,-0.036405753769472866,0.04747036805077789,-0.07769516540820769,-0.03683437022277585,0.03802265438257929,-0.062173157988765555,-0.018201120861273297,0.05602414629998683,-0.00774407794227599,-0.07556053649964659,0.05056738602875405,-0.07469190319698958,-0.0725185921109565,-0.036914574843931305,-0.003167472810439871,0.032491757258596175,-0.06246981136515499,-0.07609649441085028,-0.04654372633661002,0.012357533357812877,-0.06936817855669392,0.07568907522149133,-0.043005386419408494,0.06045522604662796,-0.07363480774989119,-0.07151443253130724,0.06631643223327778,0.0857836015149896,0.021807871176158424,-0.0695666421122414,0.0036095054421933772,-0.0824346560321004,0.05041583958926656,-0.028037995637789203,-0.034560730555660335,0.06404756282416195,-0.023977807640746956,0.04328881374590708,-0.0012964237715243662,-0.08578166394424033,-0.04169432353279915,0.03785863544393645,0.07389267792753608,0.06501060854569617,0.017721264102365488,0.05056293753188401,0.013022250826457174,-0.0789947017908273,-0.03521791208465297,-0.05419287506298386,0.07380404538119592,-0.05398777909019751,-0.0718355258095925,-0.05067769435310252,-0.01538683366883091,0.04383397768608574,-0.07420710846796322,-0.04838017634194746,-0.05089699900360351,0.07789813375247448,0.015809224046014023,0.01157507618392086,-0.04771593466126969,-0.029851377847603534,-0.026964262186289195,-0.04743408781237818,-0.061967956414287,-0.03087509374294815,0.08335700028385892,-0.03755815135504461,0.043881813285671,-0.03148593885058788,0.08238504953094494,-0.03539554361090453,0.036382818689701335,-0.051212930746385915,0.019203152184012882,0.028237556450509217,0.049967770238909595,-0.009770999429861867,0.05197143072847847,-0.04723842141835275,0.018452655461760774,-0.050615265591136195,-0.03402347659822565,-0.03574796344640477,-0.07194812888653804,0.04538178854077077,-0.00003146542220031454,0.055858622349174665,-0.03932430746581053,0.07205753022842848,0.08249250969154874,-0.004870114726481309,0.033639356375104616,-0.012260528678831378,-0.07121774503467117,0.0391841751818576,-0.06172738410256037,-0.014111398414365392,-0.06888052970838254,-0.06490587275005401,0.021577268845288027,0.040932960831053015,0.07398528526964415,0.027207978522887193,-0.06431170220865977,-0.016688390022958337,0.048379559129465774,-0.057647285628222765,-0.0059656634720463555,0.04911015513000806,0.028709591855704035,-0.02539196011655357,0.006321781850569965,-0.010623128711937478,-0.07086969669962849,0.021905493843718427,0.00028988938527330153,0.08567983356337044,-0.032172837845204263,-0.08526527201874552,-0.042909988589916535,-0.0773046809395797,0.004425913998473287,-0.060175120697109105,0.056429284670758514,0.05934422249573305,-0.006077205677764143,0.012767699378950555,-0.07788595799336433,0.08302303221276913,0.07920475705522553,0.06637216858027772,-0.050334521598891686,0.07344824893625908,0.03946044955461754,0.07684013663908575,0.028315847908332647,0.006516248585816903,0.0024453191313917448,0.027711430689600778,-0.08739771190166594,-0.08107267363750525,-0.06575427326756829,0.08610602506126104,0.04586307620641995,-0.06884936664723916,-0.05923611958801176,-0.03474190412977108,0.06897246480309907,0.04690643525578597,-0.013978461713489187,0.054705180504304965,-0.04393403748244549,-0.05269661229196039,-0.07198739583059915,-0.0420945138400603,-0.04459689175464081,-0.017645767677169737,-0.07999957212061062,-0.07307102786180943,0.06195657112315556,-0.03042099954511753,0.07032241732966493,-0.01093120564878288,0.046005273249797723,0.03877675401302201,0.0017152407199401043,-0.005060040565168159,-0.06600375893282484,0.07470561126185604,0.05184307318059438,0.013265877949802824,0.0516387085480644,-0.006735589429054205,0.07442149792048426,0.08528121833187222,-0.010571818027673544,-0.0678029828833635,0.008840340662931124,0.006912264447751744,0.04993768983811902,0.0028302620385871305,-0.01742911699733316,-0.07648186542298226,0.08349336218275076,0.010298647825717227,-0.07398822329866755,0.05240317343855604,0.028698592243864673,-0.06692084314105008,-0.030291972367338223,-0.004953271838546313,-0.007568970240178745,-0.018863871621157657,-0.034515961393945936,-0.05071582647509859,0.005067578800560682,0.010457153693607182,-0.05318473816875369,0.08037990167864476,0.06806691515746845,-0.04350243801268661,0.06284093911217144,0.0291126437114304,0.03791196801726897,-0.05807824355474137,-0.024122284451177207,0.08394379298490734,-0.024166673879191927,-0.009380592491491466,0.037039636716257034,-0.06640405479394362,-0.0023068366852271346,0.0012226793244109646,-0.025579084192089766,-0.029537022287583467,-0.03797801997290318,-0.05856765462983895,-0.020248023925182216,-0.05908032086153573,-0.08556632560783227,0.005214837427689375,-0.011387439519913738,-0.048730243028817614,-0.08429533949136025,-0.02265920832640625,0.05267158923750533,0.08514898835978345,-0.07335680816444118,0.07723532977822893,0.07232177466177288,0.00691770697001466,-0.023055336596717532,0.056205893856983775,-0.010796666620422592,-0.0642545309815407,0.04639190716410329,-0.04363478242053764,-0.008564785986906128,-0.014213501784783988,-0.02816836931792118,0.06014571517549164,0.07562370554015374,-0.014818988149422303,-0.003594468045400095,-0.07908097598577596,0.01538361464158745,-0.022299752211251096,-0.08039200807720558,-0.005784010732561179,0.033875798849807334,0.03216701161238215,-0.06934898755682169,-0.04478161937793892,-0.07152791398561212,-0.07867027131850979,0.06920383076469212,0.019792369838484102,-0.05366128215469501,0.0639300774903762,-0.0014681949585546798,-0.08216426194672495,-0.03552709851675953,-0.013200783453798125,0.08420469408627411,-0.050731818568268146,-0.023410301523311014,0.07577678195587353,-0.032062871420313103,-0.06912151846210599,0.04633030174880238,-0.003962785063087473,-0.032388570804083215,-0.06313189406261778,0.014124226799512868,-0.05225565085606102,0.07258829812920711,-0.04003104414010739,0.0024794687702265217,-0.043599430351474046,0.046180053734133,-0.03189572097669216,0.0686931809033964,-0.0010975775773059194,0.037023073652072906,-0.08221697721259306,-0.04510166748619427,0.015604140016141653,-0.08230435583445771,0.05979430732559527,-0.03972775869982914,-0.05321881265480385,0.04842767604377408,-0.056951416061896895,0.0688541069373728,0.016657809404450913,-0.08053313520657822,-0.06560538918507935,0.018983039026693835,-0.0512879692528922,-0.029625894706095262,-0.03856396009443207,-0.022742222141250473,-0.051931040387855155,-0.018729985527061004,-0.08722535844108444,0.022995000950041557,0.051574348440199175,-0.01673121225094247,-0.05398369093447504,-0.029582758374332132,0.021224147044461704,0.024044654510522415,0.03945071420505111,-0.02778568142767513,0.014558258318505091,0.031763506915383974,-0.06875495138246139,-0.08255136721631395,0.0481522789997614,-0.027282060120241987,0.003788050824994309,0.012603522686692039,0.050917902054194074,-0.01785696222973117,0.012016978497781524,0.02721887344466161,-0.0016648223264983937,0.03115506070860281,-0.07035925789528381,-0.07490940878503408,-0.00994713139031016,0.009380677415519647,0.03233721315577515,0.0800433170883171,-0.06473172290299616,0.06565407016308483,-0.044895038129138067,0.08052745951926912,0.04542823259291273,-0.04877608242812304,-0.07020006392890922,-0.048596824474321045,0.006355990867973789,0.04822982234593352,0.0073201109600612956,0.07682090444042593,-0.02284982956654374,0.08020202865210539,-0.08345669988275013,-0.025135230300094187,-0.035941797631230364,-0.028788332869001756,0.0019866443687604055,-0.03242568773243084,-0.04663400904234724,0.07655090664873192,-0.04578124229335017,0.01407265568590246,-0.026017915842999572,-0.055706938986217217,0.052305890332612896]},{"id":"chunk-7db5cddc-174","content":"There's also a variant that returns JSON bytes, all_messages_json(). new_messages(): returns only the messages from the current run. There's also a variant that returns JSON bytes, new_messages_json(). StreamedRunResult and complete messages On StreamedRunResult, the messages returned from these methods will only include the final result message once the stream has finished. E.g. you've awaited one of the following coroutines: StreamedRunResult.stream() StreamedRunResult.stream_text() StreamedRunResult.stream_structured() StreamedRunResult.get_data() Note: The final result message will NOT be added to result messages if you use .stream_text(delta=True) since in this case the result content is never built as one string.","metadata":{"url":"https://ai.pydantic.dev","title":"PydanticAI","chunkIndex":174,"totalChunks":208},"embedding":[-0.018830665367895443,-0.06657818132626585,-0.0858695118749748,-0.017216561901946356,0.008880250699883085,-0.010539538126503918,-0.019605169474772362,-0.01360443624973893,-0.05723235901605905,-0.07828629405278437,0.026856173139136585,-0.07771748679270267,-0.04834466895091332,0.05365884263627003,-0.04653237746772702,0.044778467466819474,-0.0007673299065433673,0.07613887030271627,0.012784128160899284,-0.06259398776349673,0.02396374315727727,-0.046800519562277515,0.013801013253417881,-0.05976948214901388,0.06699408138666116,-0.0670297241774611,0.053935436451613895,0.08378225568086144,0.05215194709892882,-0.005184861756234351,0.0635436466281469,-0.07227780071916057,0.006598056959594373,0.036986433062883385,-0.0690023714108311,-0.027981558437939664,0.06541335216438861,0.05994412764269116,0.05911340559080972,0.00007390678718370278,-0.022956021815901683,0.08144444954239816,0.05697578920679842,0.07378007148552727,-0.05375501771063845,-0.05508534463094562,-0.06175114566231288,0.029785111979887004,-0.060421227890732496,0.011312597084014876,0.026854061337211854,-0.023818955488408917,-0.04504848209606542,-0.05052107449129873,0.0017296996205427232,-0.03972832672182768,-0.07639066825065959,-0.03611254853611107,-0.023024995564965883,-0.060041978020001614,-0.0796945039543293,0.019854932912646464,0.08523033959011872,0.033846617584967646,-0.0450637909284165,0.03941566581421261,-0.03567314344211885,0.06393494326389847,0.07134063714396459,-0.04448830830351268,0.009963223709070023,0.07201132946820804,-0.044120817355568644,-0.072903958739279,0.0029342052091051764,-0.07443829238245393,-0.05213867084139554,0.08479795498944907,-0.038357584045537386,-0.03522625993723507,-0.07955252800098299,-0.04344897346597101,0.06254990531008908,0.03706214012576332,-0.026738912658113113,0.06447377608588353,-0.05881279439411255,0.056342856942658615,0.08087710383398752,0.032458047618387456,0.07701969971580046,-0.06337447091234215,-0.07591938036872893,0.015414066353147128,0.0003285145591100197,-0.05307947690701572,0.061609993752005605,-0.07560119136639135,-0.029042607263871846,0.0029342370845209546,0.06621662031195528,0.06787505947031999,0.067253312640324,0.07551727306981912,-0.00770821474525499,0.004155417053112142,0.022571454746688382,-0.028245042612270007,0.0797787920831805,-0.014258345338850002,-0.08222135692005705,-0.05934171800947691,-0.03417029873321251,-0.0536356707049909,0.08367648178543542,0.07316696420769471,-0.07012952533994851,0.05428805356814093,0.0265878587256394,-0.02049745148223099,0.06751323711142275,-0.05063897890560444,-0.008111160981610218,-0.061681351912397264,0.061012152285530884,-0.035138088722388626,-0.0848126401181673,0.029467962062580857,-0.0738323975404302,0.031260213331295604,-0.01693291825693964,0.009473751376964403,0.04006020151216683,0.01593699874752032,-0.027103978723207245,0.04704316957662615,-0.03259326659152699,0.011414092419371505,0.08020527054976231,0.06878761003411667,0.07924167756160193,0.01397404621733083,-0.0629430623603026,0.05947116182890515,0.038940056548253214,0.016482051384742635,0.041624129109424195,-0.07870773558758595,0.041024384619054395,0.037060071414819824,0.007640804153051469,-0.07334184994756919,0.04334785044174999,-0.04314807880519971,0.04526228597832976,-0.0754377225516461,-0.06598317225300447,0.08365580213234172,-0.0779805475338951,0.0775982896753901,-0.03120924533109772,0.0323148939686798,-0.029942368599469735,-0.07801953600997064,0.014991667869049003,-0.030588722765891856,0.01436686207386921,0.06789650293777007,-0.02610158949034614,-0.08092845185647041,-0.034911475355336626,-0.03077559889705196,0.0009266393300790381,-0.019657941565233313,0.015872778991501826,-0.05754370768791864,0.0005687474125867071,0.06306760796624726,-0.035723484022262206,0.00900670295852199,0.07472318700838065,0.008964436873321565,-0.07621405799397409,-0.010143567923343458,-0.0017004189111585134,0.03787091426296444,0.07669159363509495,-0.034847446536529915,0.023075248728440457,-0.017657507314451034,0.06529836573903826,-0.008903991478224127,0.0664880221845739,-0.04729856763812619,0.04922121257398197,0.07391442016026657,0.012329792528085994,-0.056513330599166446,-0.003895827314644299,0.021976600602999777,-0.014546551031893059,0.0234157093040253,0.04169717748670626,0.07565340910254734,0.06744817450528642,0.039199150070391514,0.01688372751880514,-0.06673538951701344,-0.03848654817309847,-0.03830743546198795,0.021817929185428183,0.0069767567340896595,0.015873744188941705,0.001244664328828469,0.03820221288147267,0.022152965779422933,0.014810120741638393,0.08440775070852109,0.046954573613631305,0.03850683468347139,-0.03496779559298193,-0.006525069954874496,0.04162242224342192,-0.007416555286876721,0.07735854255723815,0.01771637546266813,0.0581332317061311,0.053970055729132695,-0.016805889326329114,-0.010133657562557966,0.04474524997243593,0.07723887118642606,0.02582415767668053,-0.03605955192467986,-0.044545090878937585,-0.07107025044377298,0.06883828602176244,-0.06673464098972315,-0.01795775336989875,0.06676958914407684,-0.020680740780245583,-0.06356423919437276,-0.0582618298748434,0.06537789227023648,-0.04431611754874786,-0.05653945996496835,-0.08461414496872434,0.05768242391310013,0.04681470744060165,0.07913690808918736,0.0026664321049057293,0.0195125105637421,0.07813215124237669,-0.08311607028410815,0.007097238894033929,-0.06885931672956712,0.02183116411519084,0.04538931102407763,-0.039693604460893976,0.006023123972836335,-0.04085540461681906,-0.005627826945089342,0.08377232740272188,-0.04115244699595895,-0.06408477196583537,-0.02538091729800846,0.021441535159616595,-0.00598352086144688,-0.019235761375253704,0.04731767354922106,-0.033721956909395064,0.08287459671305933,0.0243340146857083,0.03784986427535444,0.01820768943800699,0.057110832109362325,0.05427386571109938,-0.04040851754168301,0.051148520425610335,0.07481471507732956,0.0484015754642367,-0.012954615753622525,-0.011279437218654341,0.08024285222618406,-0.06319752948742331,-0.07345839922565289,0.053763345217176246,0.0613497912143016,0.028185423508837203,0.021449393981496985,0.05950683688064022,0.014040457835012612,0.07597080755561819,-0.01750356213158162,-0.06299381396308838,0.012768123255270443,0.013795899922068316,-0.0003974539165478744,-0.03682401672489897,0.01613779879378982,0.0007105170259063718,0.05939743750593326,0.07895135448395141,0.08647899180544691,-0.0006860440452824404,0.05724418528762082,-0.0400878760201906,0.06057074455898183,-0.08448310588215961,-0.00014578758967388113,0.06823426484292534,0.009706862612883643,-0.03548711815992591,-0.0665714632442329,0.0010092065197998754,0.07214466264468516,-0.06187061074333789,0.0018824484154042846,0.0002495418222533992,-0.0858473611427332,-0.058586670235486325,-0.03255681118562438,-0.0045545545807213405,0.07294639728226728,0.0056749988245168165,-0.05155988432453335,0.07781412333811946,-0.05877867648093496,0.05114060611956016,0.07868303425212028,-0.017998366390666827,0.01659984504013256,0.03844126563595048,0.08692077676460105,-0.053543952098056666,-0.06490932056233506,-0.02381715814464569,-0.07224009238430906,0.0035005774342479626,-0.08107799226690526,-0.060765473021862894,0.026463570300925478,0.05712457655588243,-0.08405776994266778,-0.038485341898499864,0.05106139202665594,0.04559263017313239,0.08111784264425465,-0.04718094437141593,-0.07572128443798654,0.031008001034712802,0.004787760862363914,0.07995100418702696,0.06241160300471092,-0.0014274961391980826,0.03621475144099044,0.034334442764501524,0.033642693212228125,-0.006976240639827165,0.01720371396582021,0.06291879317795959,0.050122469377421194,-0.005797683789605053,0.005749038721878196,0.0420553007544255,-0.014524231290700327,-0.04670659258650476,-0.08441683384250383,-0.0586737823938516,-0.0001063126787125097,0.08381951454342317,-0.0016351064798118082,-0.03335191024138754,0.03585409459002186,0.07236571551368796,-0.06204259183692496,-0.004119387680620273,-0.030746451169358754,-0.08160295487860016,-0.014811651941552805,-0.08317131670552375,-0.08042110440934075,0.03779825026226328,-0.0822905226753675]},{"id":"chunk-7db5cddc-175","content":"Example of accessing methods on a RunResult : run_result_messages.pyfrom pydantic_ai import Agent agent = Agent('openai:gpt-4o', system_prompt='Be a helpful assistant.') result = agent.run_sync('Tell me a joke.') print(result.data) #> Did you hear about the toothpaste scandal? They called it Colgate. # all messages from the run print(result.all_messages()) \"\"\" [ ModelRequest( parts=[ SystemPromptPart( content='Be a helpful assistant.', dynamic_ref=None, part_kind='system-prompt', ), UserPromptPart( content='Tell me a joke.', timestamp=datetime.datetime(...), part_kind='user-prompt', ), ], kind='request', ), ModelResponse( parts=[ TextPart( content='Did you hear about the toothpaste scandal?","metadata":{"url":"https://ai.pydantic.dev","title":"PydanticAI","chunkIndex":175,"totalChunks":208},"embedding":[-0.055361525224838205,-0.04889285976844415,-0.03535499031156842,0.08088056325036493,0.053259657004520976,0.030449933543160803,-0.012971577319517053,0.06584517112992913,0.04030613912964395,-0.036492491775990475,0.000003943148738488403,-0.01628120537006028,-0.026511654662092446,-0.0803185096530522,-0.0016231408135223612,-0.06585172567055754,-0.020638562469674982,-0.08403823786090506,0.04114972763566473,0.07689053031889694,-0.08494947215546608,0.0002869399492634849,-0.08267035745051105,-0.020781042353094668,0.08131296462987503,0.003982361775788931,-0.08326302385767269,0.03460874822727194,-0.0817641053907834,0.016650751152374136,0.004776074012828845,0.06712105878916332,-0.07594450775414867,-0.030184208588968326,0.0894367295418761,0.07276607449184959,-0.03408431496473238,-0.07495079769075415,0.03210560661585952,0.08573478064242554,-0.06302913792172209,-0.04144893696248891,0.06710941582974433,-0.07179054885135387,-0.017126561076551538,-0.08268667580340697,-0.062024957851866354,-0.039787599933402605,0.08651755903572735,0.0024442004964069825,-0.046557537859015556,-0.05311699608374453,0.042864692197762386,-0.05809723730097348,0.08749583363767718,-0.0325820742626753,-0.011419799541437644,0.016246409711257476,0.01687587053010599,0.07711210620592517,0.03960114154019548,-0.053501166519437066,0.03839983993372784,-0.06366552469547539,-0.06353466077915332,0.017477647480431718,-0.0047691203550376425,0.0003950912743846865,-0.021787994872317012,0.026066771635864537,-0.06425043082986912,0.03760774438666676,0.03808837986449469,0.04473580496974407,-0.0021770033788232786,0.009294759480965717,-0.03577157255180988,0.02342867630612443,-0.027515227955201338,-0.005621942275086433,0.05440400759106525,0.05959370247378197,-0.015318876123706731,-0.013873394055749682,0.03234120391406335,0.05916045655736577,0.07546701866419037,-0.016862386789586,-0.03235341605712217,0.0863335888063649,-0.010660316872972296,0.037658730786866296,0.01769080708257697,0.026159282121077848,-0.07321369528708269,0.007307067212077378,0.052264801894834095,0.07942363426794899,-0.07810966628488156,0.05871591714155957,0.027407627436925784,0.07440567694031741,-0.0008323882976061071,0.02476680561255863,0.07604076818941315,-0.06247729079334589,0.031266701435915076,0.054173722861078626,0.07592714202274135,0.06939459075591724,-0.050933983941724215,0.0038231903290031587,-0.020001461700886815,0.028196522636614218,0.05193024111462834,-0.014512554632462359,-0.027819004862951177,0.07825178351584544,-0.012090569958853905,-0.0281319563263826,0.07295017559863583,-0.03484327387830858,0.011714376038100929,-0.041488089578031996,0.003630470399488078,0.030158951792712253,-0.04261898080854306,-0.07880042390260279,-0.0495252687172329,0.08461038787192875,-0.029260080238134763,0.005540200514455473,0.07390158436635999,0.08803445140812387,-0.06699460726200902,-0.04305935312934896,0.036694392357395834,-0.0717146238675067,0.08460308551485067,0.057543595954399604,0.060772318020891836,0.01706364493173557,0.05237830545919457,0.0860876160007576,-0.0898336090570236,0.08590197221904036,-0.06394080806860943,-0.0444899595695385,-0.08401271882357951,0.07876032793196516,0.02279988357320346,0.06390248709617169,-0.036631851143220796,-0.02839800377364759,-0.03588449503367235,-0.0005093291808356184,-0.08781544123487355,0.006420696943524403,0.0753491608641552,0.051622987306903866,0.08327872995848487,-0.05334901164065676,-0.017286746767686403,-0.046388867017658014,0.06113972531309281,-0.033428823941862855,0.026869722966375884,-0.026525601731322183,0.0028272213230332347,0.01840850299914002,-0.05723519568318328,0.06139836891602473,0.048554652299490346,0.04132614636169051,-0.057089206968539884,-0.00030096422358084153,-0.06379150457054968,-0.08757311133443292,-0.05646629716719944,0.08223858298391162,-0.026676242745965393,0.07560417237338928,0.06404258005078066,0.08803981375809734,0.06076623439674104,-0.06378549511899977,-0.052218252555143736,0.057989266799173544,-0.0029018790402446084,0.04237973480400731,-0.0014973915514802883,0.047914074746845135,-0.07291166142079593,0.019668869194461355,0.015880079282261372,-0.040971977914105714,-0.050959967943518814,0.08004655570745627,0.04573568424315094,-0.0026126192030802163,-0.039716967243872706,-0.04337342812943775,-0.003876636683743373,0.04937328699441059,0.014019919195732693,0.019660150497968334,-0.010201997490794718,-0.04688105490972545,-0.08028479815419118,0.019263192699264603,0.01794606340611319,0.04766922243232171,0.06108008802300639,0.02575684219776195,-0.06672484820052656,0.03699355893894821,-0.036363401330938516,-0.06413257419436716,0.0018639856579891034,-0.030264503631025206,0.08935923403125676,0.08974369517526061,0.015560259897083416,0.05759722761253297,0.017548615280707593,-0.06560705176045754,0.0423074202741844,0.08919269836124395,0.04474107715492063,0.018443014932910333,-0.022632529180335974,-0.017218366923284652,-0.07202931402118563,-0.06461221848992409,-0.002625079450282288,-0.05949644514208243,-0.06311542663987961,-0.050121887409531066,0.0132182002461404,-0.08700157164031941,0.023071655787705623,0.030539145535770883,0.01935709787795483,0.0075024697123553,-0.050490719211631827,0.05461513696505175,-0.015580153471899442,-0.027694215501775928,-0.052565032677370636,-0.05324216891224994,0.01661050125887842,-0.031188465922871233,-0.0003290585789625307,-0.06515349080655293,-0.014884509675769198,0.009520157759036486,0.007325730616875972,0.05344317381711001,-0.07875973668786883,0.018529989314723775,0.053243327712866016,-0.044999503084560404,-0.022617579480608267,-0.08039077724500535,-0.01244722987908674,0.0697745600624694,-0.03620349385375502,0.06744380660791913,-0.0007870629307101714,0.051239042225296426,0.016357081579774942,0.05135199104644172,0.005309256826218237,0.08534214232527422,-0.029749584065945585,0.04880160554131832,0.06267204505881725,-0.06354381660416052,-0.07629623000642467,-0.00772447730154025,-0.04689588008268542,0.05896475854275348,0.017354527342367334,-0.0809437270449875,-0.004453602278560665,-0.0007243095520312373,0.07070545555975168,0.03982125798689617,0.06507623292785578,-0.0641944797492264,0.03031022001283249,-0.00580154098172362,0.06672273731773647,-0.08230899789263006,0.07047852623570432,-0.0010654144511898986,-0.06836500939941247,0.06525694302187783,-0.07127311485354508,0.04769107433345755,0.030571502510385335,-0.07754319596466866,0.07895050209333646,-0.003467154770733188,-0.04522828062066058,-0.07452657452176245,0.059367191813219984,0.03319110583158764,-0.014786614622888912,0.02261147922261434,-0.03674600170596695,-0.06378442211199582,-0.07174547312904253,0.07222134883057313,-0.017016936119536617,-0.035176779135149126,-0.0647966165177113,-0.04132104529386326,-0.06431231446708502,0.08413692800368293,0.040616503623299896,0.036950486895326075,-0.05132980721649273,0.022180179073435554,-0.01641403600883016,-0.003773234298254676,0.030657914561788947,-0.02968506469039009,0.03672791815747128,-0.01745853394231864,0.02550294868540228,-0.07575212044254172,-0.048178322735881525,-0.044244025126475815,-0.056226183874860086,-0.07118088266531786,0.015026886770422073,-0.05782489782970361,-0.021465717066892986,0.041559966406163724,0.06646582260163304,0.04223537209073603,0.02938003665323611,-0.00921366728272432,-0.040404262006523584,-0.006166279596762064,0.038363919357303745,-0.038415148621185696,0.0260873713306016,0.03431084728318808,0.0775375725703295,-0.046034815793307315,0.07647286946099426,-0.06171925756583043,0.009023309417857226,0.02872955875927259,-0.005298091779954665,0.0034279646196505543,-0.061190102904160326,-0.000055029054783291284,0.0073527724385516,0.0006167277894469339,0.06307564373836577,-0.0832279039838097,0.041264448092103986,0.04807441970707811,0.06346294968090015,0.029418102298513597,0.03627748606165352,-0.04887424002133703,0.055325046651040634,0.0597607654099714,-0.04323367843051045,-0.023213508785626728,0.06976334677893287,0.030899067747027456,-0.025273705088226177,-0.07035428001163668,0.0749977200204049,-0.04977576347691209,-0.024119794435926115,0.029965220103594346,-0.07206516809925072,-0.08548789913751352]},{"id":"chunk-7db5cddc-176","content":"They called it Colgate.', part_kind='text', ) ], model_name='gpt-4o', timestamp=datetime.datetime(...), kind='response', ), ] \"\"\" (This example is complete, it can be run \"as is\") Example of accessing methods on a StreamedRunResult : streamed_run_result_messages.pyfrom pydantic_ai import Agent agent = Agent('openai:gpt-4o', system_prompt='Be a helpful assistant.') async def main(): async with agent.run_stream('Tell me a joke.') as result: # incomplete messages before the stream finishes print(result.all_messages()) \"\"\" [ ModelRequest( parts=[ SystemPromptPart( content='Be a helpful assistant.', dynamic_ref=None, part_kind='system-prompt', ), UserPromptPart( content='Tell me a joke.', timestamp=datetime.datetime(...), part_kind='user-prompt', ), ], kind='request', ) ] \"\"\" async for text in result.stream_text(): print(text) #> Did you hear #> Did you hear about the toothpaste #> Did you hear about the toothpaste scandal? They called #> Did you hear about the toothpaste scandal?","metadata":{"url":"https://ai.pydantic.dev","title":"PydanticAI","chunkIndex":176,"totalChunks":208},"embedding":[-0.051627508166766346,0.08115261706523268,0.050089679012589046,-0.08394338557567492,-0.020982866068481997,0.028483836760611524,-0.08873929966443009,0.03819091356212707,-0.08851496536327925,0.016734071188193367,0.05827813194444658,0.005669396181906312,0.035778931320852116,0.0004208425814247636,0.0404381728269235,-0.019502810071327054,-0.07781825618519773,-0.030686292743915693,0.03202420471435289,0.023091297308849606,0.023455765455066866,-0.05820499432874212,-0.04778921829450191,-0.06645657512299384,0.06475158783757787,-0.0003979386068947451,-0.07990032241839945,-0.08788587184318407,-0.07288280898983442,-0.04194459171410934,-0.04682004476308708,0.05371339530414154,0.021126502102698005,-0.08078731083680518,-0.0026130455519349813,-0.08503688295444127,-0.06862496994979755,0.01745705580728455,0.05353150033280303,-0.08124577533563156,0.015244695811412353,0.08782698186137927,-0.05322154427636924,0.0462657699319225,0.008450404496078758,-0.04910532611382782,0.03157356697439132,0.036356302602611634,-0.06804352033636812,-0.043968289716964926,-0.07153212714760335,-0.07912833512735795,-0.009510093588172635,-0.010419265706192097,0.032636711486287995,0.004658425569263177,0.050277551213443065,0.030809188425156495,0.04735318951882831,0.06998726636435577,-0.06891107473216883,0.07953789643384072,0.05038211757982305,0.022268074726358618,-0.0017318357220120644,0.01592619322969045,-0.011496084739258715,0.08323584918580344,0.022519883920837386,-0.02436948386633083,-0.07865069149498935,0.005519262416051812,-0.02163704132347177,-0.038392541752848786,0.07484325256938203,0.034040651319560015,-0.03771597169842089,0.04254080869578651,0.003519469581786914,-0.01941904361290339,0.022195845125717234,-0.06242541527379768,-0.05735173056143202,0.03691838873757203,-0.04639812872393281,0.009517210474163726,-0.041016028998428204,0.051861314778044135,0.05667019122752721,-0.035036917946509386,-0.04439841337786892,-0.035135196509222415,-0.025002792333874816,0.02057222683342656,-0.011013695398815915,0.03230938688412086,0.03348340102870233,0.05757035471182528,-0.006343926835926566,-0.06204320171354483,0.02175200275174997,0.051151595543536925,0.042569965867397426,-0.039147125389551514,-0.03766645415992849,-0.08782976785809296,-0.028290730608192198,-0.0018444167114751461,0.0010781118427778276,-0.06705054484642568,0.037679425871143486,0.08500968792228832,0.03283801232325998,-0.03966608685317073,0.016963562875655296,-0.03305341342051204,-0.011342492890415695,-0.0846550311955576,0.04608767498316889,-0.08373864286224506,-0.08139844182060221,0.05508373320957394,0.05618398251021132,0.05510416869003594,-0.06143242364251575,0.052334725069714295,-0.008727889171173692,0.07431505799111787,-0.0066340050061003,-0.045229003944303445,-0.06088785266175256,0.028474862918201678,-0.09037999684814797,-0.05083363491546162,0.013382708469527032,0.06777264858622778,-0.07942094436426539,0.030672599063309217,0.08813534536686096,0.014657952368821713,0.05051446222818736,0.04518701225119024,-0.06234680510327283,-0.02289945612242162,-0.0567813018291163,0.06377253137166451,0.035583919866241466,0.02384432795262092,0.01499621697670417,0.00250187619621992,-0.031317562443123746,-0.049750268897319226,0.04007110084174667,0.06502815273358543,-0.07975219764947429,-0.06841239105491574,0.08592457143541013,-0.049580243115386786,0.03175896230688712,-0.012179249876474453,-0.03739755485332663,-0.004370201542141508,0.038266810943301165,0.057370880108540606,0.07525186294284802,-0.03327060031585582,-0.019107327673317985,-0.04528528666130268,0.03377965081578871,-0.008957749645997588,0.01900408916932347,0.03991478363927155,-0.038184366934581805,-0.07599655617518883,0.060332983246868185,-0.033209626308922824,-0.07171613237688151,-0.08915690053847251,0.033269998875618115,-0.014525960471340506,-0.05618425800190805,-0.023675905653338134,0.03998579408973683,0.05444637040446044,0.05164016992877872,-0.04182358110218623,0.042186833757511755,-0.06922146646832317,-0.010769584975857735,0.07116943256193596,0.03594800964948258,0.08538016623083802,0.0879802886325171,-0.02129173870731343,0.032661398834730765,0.059631426270880104,-0.05787200966589178,0.0586302761151858,0.0007653284182188476,-0.021615645367108458,-0.009365387546718302,-0.05723558552302859,-0.027901950604220033,0.07814077879026086,0.08604721764400217,0.015856460091960258,0.04132069421480559,0.08888287907204942,0.07335134986251077,-0.031195641322580847,-0.03415874393143526,0.03964294743250628,-0.0645625263909146,-0.07266506187680337,0.027029359842062145,-0.057232533368523894,0.04895198893362269,-0.08254840494262244,-0.04850557094234297,0.03896765231571864,-0.07039970303285666,0.03885961484958727,0.024978543779644286,0.0838217956904059,0.038275955744527135,0.02894517134373561,0.021582298416641825,-0.024457789389926543,0.046922588511640384,-0.01645588179422422,-0.05956924454592052,-0.029536439640980322,-0.028342538192975653,0.0760119223324296,0.053269739760738365,-0.02823431417940081,-0.0013948011784732108,0.013107867748414216,-0.026308362965746606,-0.03666129741336328,0.07845038496753268,-0.07703249977605518,-0.08201542216709477,0.03647409006392647,-0.08131632654689737,-0.06558590537541677,0.025887393810930782,0.06647694106608092,0.0004597367981323346,-0.029325267537180694,0.045185950604996625,0.00527304670970765,-0.0830061988331634,0.07125667746268562,0.01768587888067947,-0.055680523406954396,-0.0032786167367216063,0.03496502231846941,0.01670980341178935,-0.026593484307893128,0.08186823361714352,-0.0648256471959002,-0.0330260412169347,0.05442426543110229,-0.08790921653798378,-0.022020320021610192,-0.0018245899628027066,0.0028704488770349744,0.015985371892450532,-0.002836372133371458,0.02872373941494422,-0.035222073318779926,0.046425613543682145,-0.05466725155852782,-0.008976049442400106,0.0861944702289552,0.06531776122506469,0.08114097385408447,-0.084198843796194,0.053411505103246965,-0.07317214490224495,-0.08486989892818825,-0.03527199597168127,0.02421572476976251,-0.08669794653929612,0.029992297986220655,0.036109876442806936,-0.08318625833986182,0.041836828280019674,-0.0774142267353413,0.018354573070490786,-0.03721839027437512,0.07277399913091878,0.035991336862684284,0.03979895165088126,-0.017426153352495824,-0.02675090887731783,-0.07875417164638357,-0.03845897190581599,0.028631971440469767,0.026540711880741173,-0.056419390220588256,-0.01041640115984322,-0.04037499510774899,0.06896782427331054,-0.022947536569409586,-0.08316774488474267,0.004059398889420609,0.055860262676195704,-0.08269590735948715,-0.03752338407019877,-0.07327569675673827,0.05164969194235737,0.05244770029464391,0.057371542254720596,0.02772817377465968,0.06021181792676313,0.030248311254959803,0.008222984014556133,0.08657928342349248,0.08235093860390288,0.0895680199363675,-0.003936204041842036,-0.025017775046487487,0.05242910074289397,0.038353134289953156,-0.0025836138606995084,0.06106382014973099,-0.0005167950187777711,0.025953111747937248,-0.006459086505057368,-0.02553362742971582,-0.012309274208431838,0.0860750598464758,-0.043732924249552295,-0.041613857069806526,-0.05586715863002581,0.02475067844354449,0.015098968386271373,0.01556220949186384,0.06512688169936312,0.07298852205389211,-0.014801528123591227,-0.07332986832815865,0.015164796328029305,0.00857700135249321,-0.05263525855648443,-0.08930622712501589,0.018554876577994293,0.0427885539886308,-0.026149146077629276,0.06025670979315296,-0.003030454978039569,0.04604728621900326,-0.07255588232935749,0.03931560763257004,-0.04297123254410209,0.0034812017177033136,-0.07775605229631614,-0.011291938491162291,-0.08306769566148615,0.06203053456944895,-0.012468669396537504,-0.0383876879952011,0.01644132663613359,-0.07693298482399175,-0.05900331405875758,-0.07475695606119438,0.0107932420046815,0.010657843433556401,0.06350331629764437,0.074269389871631,-0.017149134787472278,-0.08016652199543423,-0.027278679851198778,0.020161646939485637,-0.07188144026601971,0.05962903920281901,0.027930180670544102,0.06318378585810205,-0.018857346570959242,-0.06884240124104656,-0.03896867579977331,-0.0822388303488075]},{"id":"chunk-7db5cddc-177","content":"They called it Colgate. # complete messages once the stream finishes print(result.all_messages()) \"\"\" [ ModelRequest( parts=[ SystemPromptPart( content='Be a helpful assistant.', dynamic_ref=None, part_kind='system-prompt', ), UserPromptPart( content='Tell me a joke.', timestamp=datetime.datetime(...), part_kind='user-prompt', ), ], kind='request', ), ModelResponse( parts=[ TextPart( content='Did you hear about the toothpaste scandal? They called it Colgate.', part_kind='text', ) ], model_name='gpt-4o', timestamp=datetime.datetime(...), kind='response', ), ] \"\"\" (This example is complete, it can be run \"as is\" — you'll need to add asyncio.run(main()) to run main) Using Messages as Input for Further Agent Runs The primary use of message histories in PydanticAI is to maintain context across multiple agent runs. To use existing messages in a run, pass them to the message_history parameter of Agent.run, Agent.run_sync or Agent.run_stream.","metadata":{"url":"https://ai.pydantic.dev","title":"PydanticAI","chunkIndex":177,"totalChunks":208},"embedding":[0.02776728432892271,-0.006285789890272717,0.05747852010219351,0.06734595128978965,0.010463157156792715,-0.01854976461750693,-0.06276446610146182,0.02987919810476202,-0.0062939357928040885,0.05624585195769122,0.06227990629946603,-0.035358109542837066,-0.0187491166841532,0.024432097893317926,0.0682917501237488,0.07754618984310624,0.04267595699464971,0.058091651719718196,-0.07558728648600764,-0.03150823969383719,0.012659353111551369,0.03461095089264098,-0.06070057804449317,-0.083165048936391,-0.07149455398582107,-0.07239636447023749,-0.043405942757818755,-0.05304406909824073,0.04798642461111211,0.023463834132862398,-0.05537078083288501,0.024904165771542766,-0.07710858968164767,0.05174657249502216,0.010696326718212195,-0.06639832497813286,-0.0029725565527192696,0.08152394100146433,0.03698974717053979,0.07871911239665477,0.07671718258184716,-0.03339163284502939,-0.04834779102181367,0.05010103292413448,0.029673452886531934,0.03151255410412588,-0.0030059063402912483,-0.0581615861149497,0.03292049976101596,0.046851457377775796,-0.05924224572437579,-0.02715273292529472,0.001071179620638741,0.08110083753510942,0.03342713814144458,0.05819865348816763,0.011322999483689325,-0.002876833405072473,-0.01546076184062178,0.08777847166407321,-0.018949408130785456,-0.07620008800754646,-0.02499270987169802,0.016076391560207813,-0.05766017102628604,-0.024655320611839594,0.06643232065051846,-0.0196934678370688,-0.01602214624185337,-0.03898046221181449,0.020694453261466236,0.037992434656352506,-0.08329517299623602,-0.018344666780148705,-0.012595344665220715,-0.013394341688546939,0.06813686071762208,0.06821919961422093,-0.04605880620263997,0.003107790778408158,-0.013404620807048306,-0.043493211759196564,0.08335692808735715,-0.0654073727601557,-0.07841886205782589,0.0844739683190025,-0.056821245828370184,0.0690219820923235,-0.04766950777531961,0.047595231530592925,-0.051490154406015634,0.002885755776317167,0.06390936133152023,-0.021300099781345828,0.016273973591123238,-0.0684895035647333,-0.09038034260638841,-0.045709652563254245,-0.045905104364984836,-0.0694652903160046,-0.08880032414783232,0.06493944992431731,0.08999201021188719,-0.032095926105706295,-0.0482532041230656,-0.016269710545280924,0.05128584851321625,-0.08821256475874494,0.029747454599385957,-0.0010448865492167574,-0.08485394667806677,0.06594400543010004,0.023484163093795134,-0.015794890757902715,0.07511170457453742,0.08501271698818486,0.08047437244044363,-0.07401835200016867,-0.05501056667697034,-0.0861021815456987,0.08032972045466184,-0.0538646848769925,0.032385610738233116,-0.01944735636986927,-0.033674793211885976,-0.043297305250965486,-0.08725270468375754,-0.040626266463891794,-0.07349333816421982,-0.0038537193528944214,-0.042266055457332044,0.0006832505453226004,-0.03208536051226729,0.04110608454913319,-0.08001526378202195,0.07888425845484384,-0.07537068759008853,-0.04895862020440296,-0.027116064560193477,0.08331077000991341,0.08740197143900116,0.04796130193311269,0.010248147786598563,-0.060955461862631205,0.03298983036307745,0.040728022849469185,0.025957500483485156,0.08984077840465855,-0.0380768581096068,0.054760954661417546,-0.03719817714381522,0.009664315088747594,-0.08658499893898018,-0.06683062759360679,0.03746401116421606,-0.006545455385687395,0.0390114860518005,-0.012265953117521107,-0.06338777291874714,-0.0859656746307239,0.005935608226342588,0.04103854480810602,-0.007557354932972588,-0.022179392963374615,-0.04535683240218109,0.052420168845497946,0.07498781896021807,0.05301823336515078,-0.06729467504283754,0.07229537377113272,0.06124602209644019,-0.02584953514254485,-0.08014911782631165,0.07177422301796821,-0.005424416686221436,0.017314994845250287,0.06762612687902025,0.011366252502291434,-0.08051504662949285,-0.0018312232103484681,-0.0207125851773145,-0.043264825759123764,-0.01815462228557196,0.06267531386194124,-0.0026906406425042982,0.010006805143295914,0.02557519128446926,0.07884572992831863,0.004548116032287452,-0.08146135182902023,-0.022909163366470576,-0.07975775781080655,0.01861234801427702,-0.046403624030796904,0.062227895414807326,-0.060388139141077,-0.04370596730959622,-0.032079936883566876,0.08002201470568086,-0.055511355903958344,0.02244096688766677,-0.037757051063906394,-0.03468252747830534,0.07544132774111609,0.06499210882886318,-0.031926293106721355,-0.05743899421803279,-0.012692822727335929,0.04852780274594308,0.02991294627460926,-0.08928270778901048,0.045322568408581725,0.06311845799693455,-0.06868835593422123,-0.02129695002661883,-0.01875542089972719,-0.0889083369985842,-0.042842870002589295,0.05278426596003454,-0.07105672904445387,0.06169193935625905,-0.0421256153448731,-0.04481861538845569,-0.048869474138695614,0.04873537445926438,-0.01148337272580323,0.03339600787968152,0.047379971503046577,0.0076755751377039815,0.0314855658395565,0.00466725905006396,-0.017219481814165383,-0.0030993785418083485,0.05468600679243002,-0.052847749025131105,0.012158936557567822,-0.052341291913441244,0.03994911669632447,-0.022063601594958113,0.05588573191143485,-0.02166791225909558,-0.06889896269564805,0.05148812862444087,-0.08054116274941972,-0.03444967360818578,0.07949461476125602,-0.021657638384084823,0.0333783995577018,0.08632448556989478,0.0724082377823384,-0.029877758686290824,-0.06763189268715561,-0.004649080831995636,0.0647877731867359,-0.0882673099113535,-0.036801079658251246,-0.008398653979426605,0.06704707646012152,0.020399293986238295,-0.016849534676547716,-0.09023573126728196,0.022225194360466424,-0.04979669723412964,0.08869465543729438,-0.0585107238422082,0.06136716287855032,0.03534705660748234,-0.05296693986519735,-0.046349961237831444,0.038999424819965114,-0.06324343769443683,0.03430877094103413,-0.05620798242878183,-0.05868306369438535,-0.048043284141249455,0.007779550010494882,0.00000655312366806478,0.08138932383359714,-0.05993373234971268,0.013371033009538588,-0.06310297542253132,-0.050881969163088424,0.0624852178445846,-0.011388042547121596,-0.019286175204644155,0.012806047725577517,-0.03956078580726786,-0.08140006726439204,0.04107680417630003,-0.03186050372368961,-0.02596268183621761,-0.02364781631484776,0.07962879623867967,-0.005047266194704783,0.0687059603099254,-0.015905469244447717,-0.028179524258116113,-0.01874971475611494,0.0880768844947469,-0.006705972805781902,0.07626850810663346,-0.07359492943144755,-0.0014341383865255353,-0.017465637953482556,-0.07454162403661263,-0.08744590479173071,0.04768052466250491,-0.05568386047325831,0.060608618606700394,-0.040422059182161046,-0.012705823058594926,-0.004930264010928469,0.057713949015241295,-0.08038245581618167,0.04437531426911628,0.020515266737038823,-0.0067924324478079,-0.06948075286722868,0.05277603487917664,-0.032559046012913186,0.003821747573762915,-0.006863664207940917,-0.04007952724724513,-0.06619214056940753,-0.0070306111012289245,0.04047199624967226,-0.05586213415120228,-0.08878807476609016,-0.035199714051706577,0.041084454992735324,-0.0035813929954601623,-0.058031059096430915,0.05953867029731631,-0.018858850920790097,-0.04907157957165967,-0.08807287096790271,0.054553140948615,-0.0803711069027084,0.05069566625951114,-0.048519835867980796,-0.02625500134031343,-0.03422256001189631,0.08767381237193611,-0.04001475392850502,-0.04916942675839599,0.04262434894087816,0.08768798294308026,-0.017766478301120374,-0.03218493176828354,-0.0021544894210601606,-0.01835387683573397,0.029841993349842333,0.04849420994301938,0.014659348588441229,0.0005526069936656685,-0.07669953488957597,0.00019229193195792826,-0.015130931537247162,-0.015491453832002467,0.0032234633703607774,-0.018514907579508386,0.009025589865688983,-0.0508850033977483,0.03733384195589428,-0.0016981809171482496,-0.0343753475765843,0.01096423334652226,-0.035515577154404315,-0.05867690011351349,-0.051032147492219126,-0.024650581422699054,-0.0027763212264917537,-0.06787152972230635,0.025119469445816105,-0.013247638141439349,-0.010554944062431581,0.012418961065913165,-0.0716434568193422,0.08877822860235358,0.028843851116432746,0.02069463858981706,0.030187522206309637,0.09046190877087905,0.0056658860518727025]},{"id":"chunk-7db5cddc-178","content":"If message_history is set and not empty, a new system prompt is not generated — we assume the existing message history includes a system prompt. Reusing messages in a conversationfrom pydantic_ai import Agent agent = Agent('openai:gpt-4o', system_prompt='Be a helpful assistant.') result1 = agent.run_sync('Tell me a joke.') print(result1.data) #> Did you hear about the toothpaste scandal? They called it Colgate. result2 = agent.run_sync('Explain?', message_history=result1.new_messages()) print(result2.data) #> This is an excellent joke invented by Samuel Colvin, it needs no explanation. print(result2.all_messages()) \"\"\" [ ModelRequest( parts=[ SystemPromptPart( content='Be a helpful assistant.', dynamic_ref=None, part_kind='system-prompt', ), UserPromptPart( content='Tell me a joke.', timestamp=datetime.datetime(...), part_kind='user-prompt', ), ], kind='request', ), ModelResponse( parts=[ TextPart( content='Did you hear about the toothpaste scandal?","metadata":{"url":"https://ai.pydantic.dev","title":"PydanticAI","chunkIndex":178,"totalChunks":208},"embedding":[-0.036115221144095315,-0.01029825183161301,0.0803481848848876,-0.062256311004829715,-0.01888882654209453,-0.026135778285452424,-0.08592286714595432,-0.07072906534996769,0.01752918259262112,0.014168757106121812,-0.02949664091483511,-0.021944200996819357,-0.060377189475432524,-0.07250150050290056,-0.06290517299563296,-0.06139290006066262,-0.008131031954067721,0.006711697618035951,-0.08339392842967842,-0.0234775895223992,-0.04119272257566505,0.07471705116369949,0.01469107808064311,-0.07956691123250659,-0.009165289302580268,0.03133768293582451,-0.043557644805644516,-0.012599283874699557,-0.03514055106855484,-0.01614270112124581,0.03964298405857616,0.08408030649336275,0.05372494497712711,-0.06620190810791121,0.02475858163843183,-0.019928309438758854,-0.013087070053619069,-0.04561322493589444,-0.05366852796110288,-0.057735855007485716,-0.06245945740168728,-0.04139454253876283,-0.033830961727006365,-0.013570982716452658,-0.07955300010358443,0.0378400827530732,0.06847681465008378,-0.07281969319493203,0.08368050032637843,-0.07289076931739125,0.04428935256715272,-0.06619861946620105,0.018654292536956968,-0.06084222161400828,-0.062143119373221034,0.04994536776355733,0.054734663526927366,0.07776463549255563,0.007822797549469997,-0.05919156578192385,-0.004350214296371562,0.03249648405162335,0.0732176735018876,0.03654573951021775,-0.0038936996985019937,-0.0857860156949707,0.057274126555207305,-0.038162552568960215,-0.08608621008410285,0.015007246880561629,0.07220196948004713,-0.06193323414962942,0.05780142396230197,-0.028448256663058513,-0.020535388516359603,-0.08335410183733208,0.055939834191534,0.07146939450311372,-0.005971989543456677,0.07033750571296618,0.07781909595521222,0.03100979986826317,0.01078820062547499,0.06999104080261938,0.0510795776771528,0.03699647040161146,-0.01920669388098228,0.050721772275254755,0.05307633962683357,0.08166956460660257,0.06228942836494111,-0.031218531468606047,-0.08026137835236005,0.0716092296467034,0.07455747841224794,-0.04372674400498111,-0.03339166357483914,0.002964774280159363,-0.03630490507115523,0.04621579062220326,0.0018383913615052344,-0.07821222355378604,-0.07046418218656215,-0.042562678502778166,0.033246834399580816,-0.07820254146473317,0.03462349046956556,-0.005696425587741499,-0.06830472520860688,-0.05362014969247806,-0.07993305898406344,0.0030097720623912362,0.0026278487977746358,-0.05022605294186013,-0.05832709062231123,0.044309539524633096,0.07544977897029644,-0.06347686580228876,-0.029974777578469947,-0.04244747744093339,0.004429199982980416,-0.05725638399124738,-0.04272613100968751,-0.05530339834230131,-0.030751929620856513,-0.07842369805615014,0.04585954968259541,-0.0068895375355167866,0.014617764041291666,0.0410186663601994,-0.0796385807767468,-0.07812995147586281,0.024239985026704998,-0.04224431749965446,0.06411251833818603,0.055992952253720675,-0.002615222919918196,0.05874551287092635,0.010386081521031503,0.006248028785763835,0.03872166074024847,0.028742247007983144,0.03849545407146256,-0.03907829530437995,-0.04346529313648242,-0.013630789015318895,0.05418352500343451,-0.01329540893014576,-0.0767201577223491,0.011816205235137323,-0.026229156280572638,0.03058298957203044,-0.05341553986458957,-0.00037917308186388097,-0.059450290278239906,0.03490924370596832,0.08222989989363384,0.014756222137827686,-0.08074614409542691,-0.03534184143152775,0.012230867248727316,0.04171669023903634,0.0065705496785360635,0.038717477848652475,0.08122638703052606,0.07100776415326575,0.08382092346930524,-0.061158417518497786,-0.0006802200542007077,-0.02703590232927606,0.06045432595922089,0.06438249712508866,0.00012868587147343784,-0.03765435948673967,-0.05109225511231228,-0.05594522119570963,0.014018037411170275,0.020116628717828187,0.07610788839707963,0.009635372341257891,-0.037763141806106626,0.057565062844993874,0.02992019896177787,-0.07922420374117985,0.06717208090322863,0.011995189914269129,-0.01978268522135718,-0.03924582176968723,-0.07791862984650319,-0.06416452999623264,0.043586894858644365,0.02665493344294402,0.001814917142577057,-0.050157420891453065,0.06377620805262772,-0.018750932103359617,0.0492024534141661,0.0746770606391487,-0.06140911015148793,0.04855200873684782,-0.0218620105643145,0.044188378682835386,0.014304107338330483,0.04749476876629906,0.03493695782447968,-0.06742050798417204,0.08449409338190111,-0.007792375929045834,-0.0491296644605377,-0.055502257696774554,0.025326391194368036,0.043422010512260335,-0.011235373115733664,0.014708587929477721,0.06354181258722867,-0.05354426178177517,0.006914111869812309,-0.03492846400057218,0.05804413347253854,-0.05588245320787199,0.030090131952455267,-0.06729878563450035,-0.07223077505102969,-0.004585473805500744,-0.022543641328038332,0.06477062739360978,-0.0335646888541633,0.05440329753762373,0.05649166886469886,-0.05192025534039194,-0.04818681817101046,0.04003702895134366,0.07439767064252091,-0.04794258609546026,0.07695536261865746,0.07516751309704457,-0.08515191235563951,0.07327913213991132,-0.03958323490693727,0.027253284344988835,0.07539354817235701,-0.00038306815530987593,0.07896335555349257,0.03501399424502216,0.03344410332453016,0.0449267342732693,0.06364339764099743,-0.04896852964725737,-0.03478022937704049,-0.05541726587702109,0.026835813112145314,-0.00475654596751257,-0.03207814955427499,-0.08617318453792859,-0.04920250481567703,0.07655008805182895,-0.06906338459714917,0.04901312525059836,0.06414895826297387,-0.008113101461055395,0.034106965539690115,0.040708176097044114,0.06696254709638431,-0.07842820159174789,0.08023578248247834,0.04940807498062358,-0.03406752279963887,0.006415269893412679,0.03374029583092122,0.0772245044472211,-0.0016534631040150802,0.07165166318982694,0.011062581364383662,0.0047074079922532165,-0.056276553462592076,0.020728602879498896,0.07205235048311444,0.04443629092301446,-0.011629036069169964,-0.04254611834818862,-0.0016698650231668111,0.029621484238845763,0.00964941827592849,0.004619852376292846,0.033420621531093334,-0.05265486979990579,0.008833063051858785,-0.014566295314459656,0.07389825799226268,0.02394471738752584,0.0765544778876256,0.02333132140363244,-0.030396685775673456,0.06820820428165841,0.0017917791390167244,0.052689360449233454,-0.03055865331821564,-0.015535407372158895,0.02908430521395865,0.028809101421038805,-0.00818456556845812,0.07824557185223967,0.07135754835704697,0.03561918355598191,0.08067159691417455,0.008187724272864324,-0.03255683469587448,0.048602994294466184,-0.00017080793922738928,0.034060871842594376,0.019758774723776053,0.035606436749719694,-0.05067587398484028,-0.08055322612527907,-0.04080422525419559,-0.017970061453700656,-0.06488431336074894,0.004438278843409832,-0.05361786596214227,0.06993176452693282,-0.08122375820421518,0.049900790941519536,-0.043202722841425865,0.016069700031204563,0.070650170203773,-0.01602006647262664,0.040091234427114715,-0.0780486938529079,-0.06854020672007528,-0.08190572570175099,0.06528076421298312,0.06351775038441705,-0.07458269764600567,-0.01166931794959101,0.062277455744958105,-0.07771463208155663,0.04197750509639099,-0.05104873381744685,0.005207267661367079,-0.0029478884695493123,-0.03500314188709445,-0.010761935822021684,0.08387537956766485,0.06325637199463628,-0.007499752565129959,-0.06756519387083702,-0.07820139262597296,0.08499096384543933,-0.027098644357724515,0.031373622731317774,-0.07614303898506357,-0.019942296621135492,-0.0306549611257009,0.06792478533337187,-0.08175783957119748,0.07584304075403896,0.059995652949814814,-0.06637276365535492,0.027660814518212916,-0.032470647736119455,0.005231990010714653,-0.0578091400552284,-0.049780098905453395,0.009884583263335436,-0.03653890250884449,-0.022090407228191746,-0.011430855729884577,0.07589899740258534,-0.04985325700849197,-0.07092923286126072,0.053030098699765035,-0.039574195373561834,-0.04989938491136842,0.08443034169823048,0.06778522977322901,-0.0844674017693427,-0.06840633252087863,-0.05471431353340015,0.030006899782615126,-0.004366252174947908,0.003600082389421082,-0.07765965484926704,0.03308081429214842,0.005987535481394332]},{"id":"chunk-7db5cddc-179","content":"They called it Colgate.', part_kind='text', ) ], model_name='gpt-4o', timestamp=datetime.datetime(...), kind='response', ), ModelRequest( parts=[ UserPromptPart( content='Explain?', timestamp=datetime.datetime(...), part_kind='user-prompt', ) ], kind='request', ), ModelResponse( parts=[ TextPart( content='This is an excellent joke invented by Samuel Colvin, it needs no explanation.', part_kind='text', ) ], model_name='gpt-4o', timestamp=datetime.datetime(...), kind='response', ), ] \"\"\" (This example is complete, it can be run \"as is\") Other ways of using messages Since messages are defined by simple dataclasses, you can manually create and manipulate, e.g. for testing. The message format is independent of the model used, so you can use messages in different agents, or the same agent with different models. In the example below, we reuse the message from the first agent run, which uses the openai:gpt-4o model, in a second agent run using the google-gla:gemini-1.5-pro model.","metadata":{"url":"https://ai.pydantic.dev","title":"PydanticAI","chunkIndex":179,"totalChunks":208},"embedding":[-0.018710110971532214,-0.06141458476136999,-0.06427423402682478,0.04913569014252271,0.05133964192363632,0.06527253050961153,0.007052187897511312,-0.07393448231636772,-0.06631419520575917,0.06351381062867657,0.04572990653997378,-0.0729112347785573,0.07301207110967028,-0.007264741935475721,-0.022519603914436054,-0.027262794549458923,0.03207476315669664,0.06907781591867604,-0.04180432943254865,0.05274048550344431,0.05706835681911247,-0.05360011711602751,-0.052797812293868256,-0.039478220403764384,0.02448196716693545,0.06741905207988295,-0.07795573901990462,-0.056882822098950306,-0.07959915436507946,-0.006938260444786799,-0.02947651694622718,-0.0797875233204782,0.032475356627442505,-0.013206365907485923,0.03175660227103525,0.020149450502164473,0.03990322719533515,0.05999183312508016,-0.016820073666331047,0.036550640740099456,-0.037567654647077627,-0.06678653757311732,0.03077160734370946,-0.04934725480610703,0.07244544516590194,-0.020060651471881095,0.08889417318050147,0.04142101416399602,0.06491189733088902,-0.03922355597228507,-0.06896388808731672,-0.03430093924363322,0.048439599915503895,-0.04538196350047959,-0.006162312745706354,-0.021911514016894285,0.0035704425766770738,0.05905454918522238,0.08266376568207066,-0.048130240333917815,0.07578251985661323,0.05941256026400148,0.06547658483121065,0.01871651177939928,0.0608153553597469,0.0326786245010775,-0.03970790543080124,0.06073639150655432,0.08603062972231794,-0.014945412895150997,-0.013411412980145393,0.041570691943333515,0.07775361847137567,0.018259695413710267,0.010473117755323707,-0.04908485996245217,0.05480704477219226,-0.0034042805593232535,0.0013746808562270134,-0.048858525218429726,0.01708606095364152,-0.007981588851910963,-0.029257150347527176,0.0028650952534723492,-0.042429473007018104,-0.08837595013210107,0.03049234115123394,-0.07626536257208673,-0.04594972929427216,-0.08379052025062723,-0.008458491650021136,0.03405882441568157,-0.07533940493834099,0.050775128613385206,0.05303263023487604,0.05391503858104812,0.03223114538684618,0.0021391781852169597,0.0031899401845921823,-0.09025153317966642,-0.046435996710302505,-0.05169854291283182,0.02072253695979577,-0.07252091457783183,0.05861698155168147,-0.04161331347466156,-0.031076821076248935,-0.08600338380904647,0.05512330816001098,-0.0010814399333669313,0.004537528094694243,-0.09006891269962235,0.04025727979486905,0.08139320146005803,0.01959647731191601,-0.05820534963759666,0.03788311345226888,-0.0005370599265355432,0.005018349326247122,0.005652190407134501,0.01163577877918293,-0.05931549331721747,-0.04906632102163287,0.06304988902592384,-0.01436361589283042,-0.07111293839178841,0.01582647422658676,0.05559849560555896,-0.025979222822552755,-0.03647536226084381,0.044658814951505824,0.019471514045689635,-0.017145218740035325,-0.08200683171120844,-0.0016817377674722294,0.030049982584035996,0.0013173955749978732,-0.018361224873922027,0.01034966614642895,0.0009855612282201626,0.057283626707528644,0.025753797823844116,0.08232678600506423,-0.08837936061956783,-0.07580346909693256,0.01382941248272231,-0.03735045572342524,0.07750515888984513,-0.012683868868188496,-0.043588982967196245,0.033539192633183855,-0.08650918230483569,0.02997995849858004,0.020460082953960478,0.08433758953458012,0.05965856893697739,0.07404768152563836,-0.007720129828634854,0.011383006243986325,-0.002521497146727485,-0.016966028135907894,-0.054100666378106635,-0.03757894379542168,0.0841235916435658,0.07491031132555621,-0.009383294525448836,0.05985272553243975,0.0025774769655164268,-0.04493109554943475,0.053641786339697066,-0.06890735993768567,0.0043551534922257615,0.00793073867906905,-0.08592166375801229,0.08328062972710815,0.062446982712794176,-0.026154445069598447,-0.024667608841078503,-0.07759253195404281,0.03256402897351579,-0.056480269150986945,-0.05877773023038803,-0.018275000692799335,-0.021816478570941017,-0.0651492512038527,0.025850530502596957,0.059344777548223884,-0.007356496033551681,-0.08350439432407722,0.06727547147728963,0.07949298625236895,0.03845504837350816,0.049282921115463105,0.06333048193735692,0.08256015036394668,0.011428471793673614,-0.024620854644067578,-0.08827371764130984,0.023715115875067794,-0.02171859975115738,0.013079809035271946,0.07553078592800853,-0.04778041023414965,0.020828155493532136,-0.08490959301827379,0.04739905953500928,0.07137645521245992,0.005317288607646844,0.05541975719995962,-0.043040694138762,-0.033877239944082066,-0.04185782532526584,-0.06515852318686385,0.007549999255851143,0.07067869488725999,0.019841668238537478,0.055612312197896155,-0.05033712794346364,-0.024175128978574465,0.057626307666575435,-0.07761385795208148,0.07825171522857108,-0.06179907202815148,0.044938189229598836,-0.058448276759442565,-0.06327650611476572,-0.03481257730994291,-0.02381905756103899,0.01789356710720043,0.002995110907849705,-0.05703610201341808,-0.018860671635114762,-0.06868771155423704,-0.07983267656623676,0.0007548440471047608,-0.011387216941954865,0.07097856663156905,-0.07211381757851976,-0.060943265758869956,0.021360078955574496,0.0618587907303971,0.028898781184981924,0.00791980621488878,0.036852250560138654,0.0439613056653462,-0.03334443378694786,0.012871885716906385,0.004707651898354643,0.016645316703167854,-0.047747694552673955,-0.021128861995895268,-0.05088608861025993,-0.05559913310428126,0.011431773038760517,0.030050788014148233,-0.06226480608296371,-0.06564786086917598,-0.026689096714103955,0.06645570572223816,-0.08826939942977577,-0.06699203940817643,0.07626420261041358,-0.08718247082051914,0.009820002128129916,0.00421851815546257,0.03622657179300113,0.03969658360722608,0.07067632850742665,0.005201723999446756,-0.024784080181502518,-0.04140778811605335,-0.014413247178424467,-0.06266093216695964,-0.04206980396689598,-0.07747517185731198,0.06641592685301462,-0.030679146078882388,-0.0744696668901783,0.07813779693926853,-0.07409934785417037,0.05952490764775355,-0.07907857448703019,-0.03246179112601087,-0.0627711587194883,-0.08163537373016025,0.006175306976543823,0.041822189535680517,0.06483195373157062,-0.007911825363335376,0.023137137749619976,0.0029983006482302227,-0.05789344205215589,-0.07113976763749193,0.030950290832520804,0.05392450727075005,-0.0853175743446167,-0.08645922713780674,-0.03523059628955316,0.07051615890992957,-0.05054663060394926,-0.037063832736855096,-0.04708459412797283,-0.0887602195286655,0.03133779923234108,-0.002168780942668619,-0.06106021137314641,0.084770665181069,-0.07631767922871467,0.03386003133844643,0.0197909418530867,0.04050039690386946,-0.06708699813427912,-0.03624075423166182,0.06364639421642368,-0.04037820278926207,-0.003050270551196635,0.04636148846823644,0.07210998400294874,0.006916483776592718,0.07662450467012816,0.031018579375413625,0.0752158038220629,-0.05873065467634526,0.02894955908980561,0.02216732554972225,0.05216955185624283,-0.009257765894329617,-0.0666274394047266,0.07653213472800592,0.019515135931068153,-0.05008790163631039,0.07222578191851796,0.043782326655843105,0.060688899628440554,-0.08724238223979246,0.0066770102927886125,0.015208580405678218,-0.06809649800380627,-0.05669252702371534,0.08155009619359356,-0.046089940890269805,-0.011134531895041717,0.08711015609598272,0.001496621346433463,0.02986314947984609,-0.05181965338727838,-0.04120568077023754,0.007881496770767197,0.06635863754431637,0.08556063488301621,-0.039960122276940034,-0.015755347281477268,0.006209507454036091,0.018935935540573615,-0.06510211054440952,-0.00344828943212859,0.0076164384715789995,0.028298109446710722,-0.03421350998656638,0.0007614593503558029,-0.023894020352461038,-0.014439480268886178,0.02457322995433744,0.02036149063369242,-0.0638092627488979,-0.00009646889163617773,-0.058016461487188906,-0.06503978797350263,-0.033727527434442704,-0.02974911454795499,0.011773245699280357,0.0034558773845607166,-0.01519369304187865,0.06450112057163265,-0.0820983512039961,0.06904545853357592,0.024150360116961072,0.07539530527222729,-0.08718791902981435,0.011131318605046054,-0.08280388336021781,0.02571753361558819,0.015818807710552895,0.08746339644488789]},{"id":"chunk-7db5cddc-180","content":"Reusing messages with a different modelfrom pydantic_ai import Agent agent = Agent('openai:gpt-4o', system_prompt='Be a helpful assistant.') result1 = agent.run_sync('Tell me a joke.') print(result1.data) #> Did you hear about the toothpaste scandal? They called it Colgate. result2 = agent.run_sync( 'Explain?', model='google-gla:gemini-1.5-pro', message_history=result1.new_messages(), ) print(result2.data) #> This is an excellent joke invented by Samuel Colvin, it needs no explanation. print(result2.all_messages()) \"\"\" [ ModelRequest( parts=[ SystemPromptPart( content='Be a helpful assistant.', dynamic_ref=None, part_kind='system-prompt', ), UserPromptPart( content='Tell me a joke.', timestamp=datetime.datetime(...), part_kind='user-prompt', ), ], kind='request', ), ModelResponse( parts=[ TextPart( content='Did you hear about the toothpaste scandal?","metadata":{"url":"https://ai.pydantic.dev","title":"PydanticAI","chunkIndex":180,"totalChunks":208},"embedding":[-0.029907246141338325,0.008387444630371332,-0.0005174478877962616,0.022331602498289065,0.08919152501901864,0.041069078758528076,0.06474412934229237,0.002667627003602588,-0.03951995554646292,0.018657638255378382,0.06975043013859905,0.06624958404843453,0.04124819092515243,-0.008198220997485264,0.05853865518849936,-0.008602405605801217,0.05627318985682309,0.056354326105702617,0.015444455672962558,0.013529191240047596,-0.001631943916004397,-0.027518678776778768,-0.0886948590753082,-0.04950077692074101,0.057607836002194136,0.015833936211149004,-0.02839605209291578,-0.02600364760625364,0.08835221868588526,0.05028284125236397,0.00043106503405832095,-0.06306084136141138,0.010004231861907359,-0.08110014024210979,-0.08441457581063096,0.07982573974194632,-0.07048253461430694,-0.0191427870037268,0.011566578070364066,0.04423800766869186,0.012951417627002818,0.007981870119448784,-0.05338422794864779,-0.07052757224513509,-0.032880167160200514,-0.08170905130629233,-0.04595961503885267,-0.0054699279189994576,-0.06347145720535186,-0.07116791634787802,0.08227026728930886,-0.05268617516531896,-0.047141350144592406,-0.03579807473716275,0.024528766960748495,-0.018658474398539564,0.08751897281148027,-0.06536057692542613,0.03222235875697113,0.08984275628430613,0.0024401594629422305,0.06918210544983677,-0.09000383079559553,0.08528720364411403,-0.08550750076745618,0.042328788013798385,0.02864393477343499,0.019913496611840494,-0.033665174587491804,-0.0538680033483794,0.0018705758354544517,0.06624943215527208,-0.02644514753681389,0.005734141312286019,-0.0026314165952584364,-0.08877118449179326,0.00883132049593946,0.04861446270626806,-0.05064730411952703,-0.03417651010037567,0.05743082967687985,-0.01993527495483936,0.08410115000162363,-0.031258793992729295,0.03197772802939142,0.0740284064498004,0.0529779847699294,-0.07058221183836377,-0.08251248635015573,0.05032064821353428,-0.0027846643101805918,-0.020663434403799058,0.031145076525679796,0.04164909076258086,-0.07281223034296329,0.08937762687435567,-0.03542011941627925,0.0702773628113103,0.07433646169825335,-0.007659688253582235,-0.026125736963262362,0.03445990693612806,-0.016363769581996552,-0.007534484266453076,-0.0869807974634301,0.026528258622695523,-0.021745020349642447,0.06318850761737578,-0.03359172393682838,-0.028601358743356824,0.011815289230443934,0.05557407076077233,-0.027245149003072833,0.04530066107988415,-0.036822311673534724,-0.07011138288600947,0.03249747685514561,-0.04815153088202869,-0.020999951807798803,0.09116320362238033,0.09143627495556887,0.07798976217314904,-0.04056150002480618,0.06554439357052401,0.02905546431710747,-0.007191495463777294,0.0052794595785623545,-0.05622590754189892,0.05889004329984494,0.05374286912668836,0.028613996509486535,0.07250475805928384,-0.00048795393388281267,0.027728906536025052,-0.06027833612955816,-0.019567836653847683,0.016410083292375567,0.020011229300020656,-0.036213521391705715,0.0526826767861123,-0.01240188423016676,-0.028826595375480657,0.04487818343312253,-0.07520955384340201,0.06746304203370719,-0.08357871031268345,0.08661567840693254,0.06388228597385559,-0.02136827068383038,-0.061713740299551366,0.040290410485375225,-0.05902120215147324,-0.03930895186079236,-0.06169898248377621,0.04917760851742906,0.06763708963265366,0.0827824765931874,-0.057021293450039395,0.028840610896818324,-0.07551240123535773,0.08427601265558171,0.0815337980890285,-0.04668427906743568,-0.07412772077319862,0.06547654652615983,-0.0017721474710797392,-0.054619864108522195,0.020689976203091556,0.03711902078766665,0.02098015973274906,-0.048985680267928086,-0.040535615815368256,0.0904057080463336,-0.04654971156932743,0.06693951145265516,-0.003255046200055335,0.024757152121046684,0.023653675907877824,-0.04098355435441352,0.00166516835952918,0.08562136475072797,0.054174012554362064,0.006286706066562601,0.010888328866217123,0.013979079224770987,0.03455145666435506,-0.05476092378588363,-0.029257452873502135,0.002061694280565639,-0.06122965614859619,-0.034831077802921655,-0.06430641455121727,0.023426508877944948,-0.002395381286335421,-0.08399839196606357,0.07885919843459595,0.07053092200971496,-0.06149166715229277,-0.037351742005220005,0.0662660923998532,-0.06441147155690537,0.0018310514558959555,0.0055455819584008205,0.043154971717783805,-0.0518390467922686,0.037860882936317466,-0.07180672916171156,-0.03590387480902474,-0.07817308428012057,-0.016079335759568276,0.09019298876120262,0.022959088832136217,0.09098209685943441,0.06629413661911136,-0.08620222907148153,0.005984499505649164,-0.05988524018438395,-0.037086155668314656,-0.00524579582272204,0.07318157219596884,-0.012069788013320744,0.027928913922066177,0.049406828535063965,0.04704990039809506,0.06551147393028907,-0.03233580190717381,0.052032778972144665,-0.04570009890821877,0.035902325905503775,0.07835720007453989,-0.03211808806837098,-0.044442162884576954,-0.03883876522147932,-0.09024217129788363,-0.02343271984973753,-0.02712986193173702,0.05497191108546094,0.03098921903032394,-0.024989084821206865,-0.0795990762484313,-0.08075534258844223,-0.03234510643560242,-0.059105302705289756,0.06162882822300781,0.08668563114656994,0.03446264428821186,0.06654565912227943,-0.08746360665390848,-0.006508864876687588,0.013849381544358386,-0.08860469392663625,0.02120339381187686,0.017880543861632313,0.026456308463690854,0.027177850459285367,0.08085250786008488,0.01663530314363987,-0.05301101027587876,0.06929981783343211,0.07355463768977415,-0.028326328132092352,0.08873645667515344,0.005431322756982011,-0.06049753823091299,0.06688392259188586,0.030385961279108753,0.022051815476112974,-0.06253275395881261,-0.033860852529408125,-0.04952958346235774,-0.08510251227628637,0.05646809706470875,0.04566369270621755,-0.07928522292854477,-0.061250357403487374,0.07109819663445972,-0.055225518977027946,0.004132098172770392,-0.07173925146504954,-0.009333960633610007,0.08095534289490847,0.048194820625957244,0.03687377168062681,0.008827437053981738,0.046664363511059674,0.021538264369640524,-0.01056177801253563,0.06389406985432611,-0.008353663833329873,0.036612515119474866,0.018471099572227763,0.07590404490789505,0.039883727447265746,0.019272040834303863,-0.08943305891455246,-0.0876155078020345,-0.02223729417678489,-0.06597822413927779,-0.060289896777135005,0.019670271060575752,0.006590927839333111,0.031019668128094178,0.0431780522574865,-0.030852348123884384,-0.0009828769036833891,-0.028939475959223873,-0.07427823618418584,-0.033575684658206435,0.07272342844613112,0.020856728469036818,0.05485857754174998,0.043856116631159514,-0.01911384661304259,0.009146499198943232,-0.0415242596570456,-0.05900070689114659,0.03567771281055825,-0.07017907909214408,0.050455271924546186,-0.0407674789625606,-0.04726575910977035,0.029949012631301723,-0.005628139618712957,-0.012188022213842707,-0.07411735264587874,0.05892381121134316,-0.07902760440209051,-0.029263569805897907,0.07615873331274656,-0.08717760657091266,-0.0693477666978051,0.08322842692009502,0.022381519421453718,0.0038569190161882767,0.03452528391252228,-0.023121404001496457,0.09042608563246606,0.0639498260535095,-0.06676659924037655,0.0025466316162323067,-0.024578959009505717,0.06479837259467405,0.011345119762338913,0.03140355874053773,0.06998547349787762,-0.04703025358370076,0.010869232020103238,0.04968486555822414,0.019551632795591124,-0.016645036678325027,-0.051056309085307706,-0.02539596449360221,-0.0002973487637510861,-0.010823117725211908,-0.04070862420383288,0.00412474410385908,-0.06344044464577121,-0.03319057578134291,-0.0037036483124650685,-0.0353540481492693,-0.0015200071550111717,-0.07584469704707003,-0.05421202326216507,-0.00507858905471156,-0.015306634969598807,-0.02153077593282247,-0.017494206623050828,-0.03678255943789511,-0.0357315744486424,0.07282316567224571,-0.0035904810092036456,-0.01751250832468258,-0.0022764682730200925,0.004231645361597141,-0.04634496355352036,-0.053505032018407166,0.0007531806185325869,-0.06838927763471206,-0.07870488789064346,-0.02428865234777675,-0.03492159978322076,-0.025549348844420085,-0.013202337856858362,-0.07677298644766929]},{"id":"chunk-7db5cddc-181","content":"They called it Colgate.', part_kind='text', ) ], model_name='gpt-4o', timestamp=datetime.datetime(...), kind='response', ), ModelRequest( parts=[ UserPromptPart( content='Explain?', timestamp=datetime.datetime(...), part_kind='user-prompt', ) ], kind='request', ), ModelResponse( parts=[ TextPart( content='This is an excellent joke invented by Samuel Colvin, it needs no explanation.', part_kind='text', ) ], model_name='gemini-1.5-pro', timestamp=datetime.datetime(...), kind='response', ), ] \"\"\" Examples For a more complete example of using messages in conversations, see the chat app example. Version Notice This documentation is ahead of the last release by 2 commits. You may see documentation for features not yet supported in the latest release v0.0.27 2025-02-26.","metadata":{"url":"https://ai.pydantic.dev","title":"PydanticAI","chunkIndex":181,"totalChunks":208},"embedding":[-0.08121920126505487,-0.009982763158776385,-0.046637313799788215,-0.009180986813041735,0.004304502026745309,0.024076352845300124,-0.04137944438773775,0.0708968873998652,-0.02666415545587356,0.02539608659281914,-0.06491633736611041,-0.06892040216437194,0.08505156678958838,0.026565325230554267,0.028171088512761427,-0.03517997353017223,-0.011635903704228871,-0.022709691354916902,0.04856810354140499,0.0749380464069641,0.0316360549634739,-0.05657479739448134,0.06599355662751463,0.06576124931096436,-0.040268611394398086,0.014572474301377087,-0.04640839439840211,-0.0641954060651814,0.05607066495427083,-0.08425783133521997,-0.018835084234073932,-0.03578672992858848,0.04447700852762871,0.07919436093816594,0.03695547684042409,0.07518701599060347,-0.0677942583582306,0.05387663018013053,-0.0052177729128667204,0.005185988676854553,0.031629945961940416,-0.00995215024860357,-0.0665951869814149,-0.004402875587059859,0.07193882564330302,-0.00995420639890748,-0.045973443049895944,0.03717325016365858,-0.03242424518090694,-0.08350732682196993,0.0320197251910113,0.05446468528361249,-0.07129470774630597,-0.0434448061596036,0.014745211581740426,0.028277743178778677,-0.08429356086448381,-0.042976718683202596,0.006488034276490967,0.040226552431864,0.06008670295454004,-0.07316775479116315,-0.07121977347976118,0.07435315483412798,0.02974109934056762,0.043198118490176164,0.008992654817806228,0.014243638266313948,-0.03549292513882876,0.025585301995680154,0.06065699814601267,0.07581239995295014,-0.05262748949500975,0.018841990208040352,-0.043843372541643534,0.04215557040621231,0.05807441088152877,-0.08356513074358712,0.0559808476844421,0.04785418379893258,-0.014259972889566883,-0.07504259932990423,0.018188481967973597,0.054717450531473956,0.06907275919809176,0.07359796654148967,0.0797272620163063,-0.05864217668080028,0.033716068210728506,-0.0792991600752714,-0.05855993949275996,-0.03243848963525326,-0.03776509058216918,-0.08256238135993585,0.0065013587709729665,0.03498945486263209,0.021059228633249133,0.038783399585733985,0.07931297329647731,-0.08325888915955267,0.048958573269063985,0.08116185303999426,-0.08092993989276544,0.04951025983533779,-0.05871456014203806,0.05108801126535807,-0.02406355326826058,0.07945499514065393,0.079423497585824,0.049568125025172556,-0.029496136137579027,0.03477794584260533,-0.012724977282047094,-0.016011268069280292,-0.03678564497495325,-0.06844345127438657,-0.0654029725377204,-0.04455855094892911,-0.03022340880790652,-0.027487145587622257,-0.08508222498308206,-0.04196731260036522,-0.060473529761050464,-0.0019789280819886607,-0.061936187535433326,0.03742698860340718,0.0616089476833409,-0.0741571934387122,-0.06492983602540445,-0.02073158920159126,0.0066862702902686,-0.014810959314806587,-0.02120995260659728,-0.052387913249104946,0.07714189701378124,-0.05185046118119612,-0.0074823516263167805,0.036343621617145286,0.05904358305255696,0.009475976627535205,0.07018287896729675,-0.07690098494105818,-0.040539324409381586,-0.05271719401017678,-0.020472150606645964,0.05657840859707696,-0.07123440180027614,-0.01579977831789133,-0.026978610020912508,0.015426220300087942,0.028004875044866796,-0.07847452373729864,0.0031615999252222154,-0.04679231245806068,-0.05305162275880469,-0.03819664743708996,0.03751442065858209,0.0655868383736453,-0.001004827210083905,0.006659161924528399,0.011852764118974773,0.07065749021541425,0.031238887027708693,-0.06681180757908056,-0.044728109265848956,0.024164112080852083,0.021899715907647593,-0.0738679424300817,-0.03158683967687733,0.05767600696974028,-0.04507994648289595,-0.04685870429142464,-0.03729765510993272,0.046879910372238945,0.06288548215809306,-0.03461850033153715,0.0816827335168023,0.06525081057648231,0.009614652714725164,-0.025772945356429832,0.06280927556790268,-0.05938241604296463,0.024450713170147784,-0.02522986179254524,0.06684250043166318,-0.05527971381650819,-0.0009097316218604187,-0.04228463894471802,0.057142276446037206,0.053765780846222834,0.02731797268872123,0.00692356172836051,-0.016540397221279958,-0.0016175658086158755,-0.07710151212123695,-0.055253543901906246,-0.034645401165781214,-0.08415745536797116,-0.06509650625987325,-0.028062308250250714,-0.046325231227220535,-0.06702533953263148,-0.007481229980059024,-0.05037818345676265,0.0023597603712628523,0.025681146307670644,-0.021224882200733458,-0.06905311580271374,0.006173610693315541,-0.06505584344339886,-0.04657788516154346,0.0038202943770130593,0.08508579222482028,-0.005941062375226873,0.04089412818347123,-0.041973618038568264,-0.027957214850186457,-0.06766749348118746,0.0839855874907849,0.062234430295653516,0.0036962112096795615,-0.07408949325123206,0.07143532454793083,0.04123030648474742,0.006622262616336897,-0.018235608309240717,0.07943574437456842,-0.07244007718865479,0.001767196473109461,-0.07408002313681071,0.029204864952419873,-0.04306771531397663,-0.052654130352820135,0.07202811558722623,0.03536798714989834,-0.06165515294258042,-0.02804633347922994,0.007572491036723086,0.011535565371718761,-0.019927404932211776,-0.04073863372237025,-0.07178753748523574,-0.06889630993473649,0.07091245765345988,-0.08376385121167888,-0.06731569577822462,-0.060821997853512826,-0.07800285714885494,0.07151459039742722,-0.005075920501424584,-0.007305252569409619,-0.02756458187216355,0.06551677628918008,0.02349256636932148,0.068600383536279,0.060844282599296945,-0.04558259105027958,0.025870433824201868,-0.02194838420431114,-0.06716755750037008,-0.045754625361569136,-0.02422516669737552,0.07678654502497594,-0.057052734727605886,-0.08096189273044709,0.03685621978219146,0.08213073115318568,-0.026277576601252236,-0.0003419339174235272,-0.0017636056314020978,0.05853425102429449,0.035397526474816976,0.036672901463372896,0.031132867154893436,0.05199242490401864,-0.046115804635378566,-0.00033509235177203045,-0.0605189103690997,-0.05550130374826478,-0.05874698908290387,-0.06197516846845068,0.05071119779844493,-0.039310645451437636,0.029315054216181836,-0.021976354424854655,-0.018904783649894143,-0.06755835579602258,-0.07745007001507065,-0.06535697816347905,0.06905705954815936,0.005240705253800149,0.08532855369507111,0.04280780801929397,-0.01806679828484556,0.08231895216893019,0.06417938832644379,-0.03998928094757577,-0.061210939732337655,0.017960151816165365,-0.07287021653989012,-0.07309445906359509,-0.00972051051786992,-0.06219154523587722,0.0408171699680191,0.07154718213728412,0.004457155786054765,0.04820437205750406,-0.04123570096247947,0.0017573541072088482,0.05011556725583446,0.03226479225974253,-0.061541963366506997,0.04674242277917384,-0.00048524648650901607,-0.032834116827611275,-0.047383872114024596,-0.00879794117599528,0.08287350003653499,0.06980398913403091,-0.04242398356231638,0.0504580319285704,-0.002863501414351751,-0.08276195651884222,0.007500694584627618,0.05238323954597145,-0.035411166699492555,-0.04986713806555943,-0.0769012310073801,0.014668200664199679,0.06530948032422071,-0.06403079079675278,0.04590889131192188,0.018322348036975133,0.004242039775180503,0.014787947714062784,-0.08293110262628446,0.0819099839237073,-0.009589357588093617,-0.08504337982548345,0.041560370309851394,0.02926528916228062,0.01384477831985778,-0.03480415286224507,-0.054167239630214185,0.011080422621171954,0.06641118980657866,-0.07960836320647158,-0.06792031187412333,-0.026813109180441917,0.01681622902217214,0.005268977085298247,-0.05217575123589497,0.08370108223782978,-0.040371846547567106,0.08344148579061998,-0.06867862128727258,-0.01817616253204728,-0.004914607926500061,-0.01836733185752933,0.017478579498889604,0.027010864179344837,0.07480144517979236,0.08515294308067106,-0.022935845870957428,-0.06402282793372595,0.07277610386373227,-0.05498063588581826,-0.041993199390736896,-0.027156296110565595,-0.07186806177025581,-0.01144820641058067,0.004946250680939081,0.06210900138794471,0.0006966256026522822,-0.06110166293088986,-0.06594912431346651,0.005659552936014246,0.08432134406849427,-0.03722119696027212,-0.07920577711214725,0.012589065155814491,0.02421258838851368,0.013048976272705242,0.08187715246336223]},{"id":"chunk-7db5cddc-182","content":"Testing and Evals With PydanticAI and LLM integrations in general, there are two distinct kinds of test: Unit tests — tests of your application code, and whether it's behaving correctly Evals — tests of the LLM, and how good or bad its responses are For the most part, these two kinds of tests have pretty separate goals and considerations. Unit tests Unit tests for PydanticAI code are just like unit tests for any other Python code. Because for the most part they're nothing new, we have pretty well established tools and patterns for writing and running these kinds of tests.","metadata":{"url":"https://ai.pydantic.dev","title":"PydanticAI","chunkIndex":182,"totalChunks":208},"embedding":[0.07042109216181903,0.034174455796253875,-0.017436069065783665,0.06625545019901512,0.08416703806919941,0.019431952535301576,0.034597784979436656,0.021107619759282426,0.07803622849816151,-0.05311762325243782,0.021464286963193854,0.052499540668817596,-0.07230355951346791,-0.06704250815772306,-0.021630624649492863,0.0649340939165709,-0.028759286834717086,0.005289914189690079,-0.07910782297435838,0.07812483709863541,0.0363486508882079,-0.077144302715949,0.07206388900177482,0.04963648215341406,0.00995655405629901,0.010978770130274542,0.021009195962165245,-0.035648967771666366,-0.02527313614610708,-0.0698858671425749,0.07824311041623473,0.02268676774072891,-0.060914931698151716,0.06516741816452949,0.03396748950293473,0.012361601530310982,0.05049531023363101,-0.02005056670588688,0.060043974416875985,-0.060375418495041216,0.07631419494530978,-0.01009328873368659,0.06455339711260512,-0.003090315529903524,0.06693925121301916,-0.009464912986344314,0.021296877592034826,-0.015219324565858141,-0.08488849367132136,0.009691537923541708,-0.07092234886558767,0.08077197244184259,-0.0035056285530036774,-0.06110430535981,-0.033763166420312664,0.08364581614331802,0.05627223283909224,0.0032124070831288667,0.011569665589628629,-0.05875302008264022,-0.04762652716457658,0.011513302739659621,-0.05826301031533048,0.06249674645631589,-0.0505703787214308,-0.08425070880123876,0.025753876184376186,0.017056225533828396,-0.07515425658160593,-0.05272893245349606,-0.06411535387283145,0.057311041972563107,0.08178261945761317,-0.053630884982560204,0.04138928194481893,-0.0018988397276307198,-0.07996908914318557,0.013937259100017833,-0.02822299021886439,0.02012040582876684,0.007598814413787846,0.0013386242560059788,-0.008129748046097335,-0.030744871749151297,0.023774742888116027,-0.0645685068884108,-0.07767930074635461,-0.0022170450860697346,-0.0069065017248077535,-0.07287951726406484,-0.020842126393265385,0.020782941422479953,0.08374080920023265,0.0070597079453562535,-0.006394279860261127,-0.011682886364186166,-0.021678715693655443,-0.005974720994082132,0.05951742990130314,-0.014357416641014817,0.05425995127908124,-0.08217033531429573,0.062401015262825564,0.019862605753276034,-0.06441440041063669,-0.05245242292697941,0.02832884573293257,0.016818359273136026,-0.0230036546007959,-0.08126607587568141,0.04714850198129646,0.0061275575312309235,-0.07470624736399427,-0.05943940737541608,0.025691590618928537,-0.032653456479089994,0.015136660693252839,-0.055960707270524,-0.05455094369930176,-0.08555511505489784,-0.07615600745941346,-0.0833784400037304,0.035817890944577165,0.011472093770349027,-0.04939199593388372,-0.0037083277657707324,-0.07696973497509697,0.0660211666201137,0.07206135521875429,0.08025342351499067,0.010683567770878359,-0.006684046852984003,0.025453394286264683,0.011425342778192259,0.018052433122541043,-0.003369014484549515,0.07872074091283429,0.02060887955223181,0.06417601715640504,0.08510935981314735,0.014934172568075027,-0.06708382490192322,-0.04140245082139738,-0.06230280125803421,-0.06964392781970172,0.02085726785496556,-0.04752397830001225,-0.05094087369858161,-0.0819089046758869,-0.009181949138144655,0.01880197833140779,-0.05487015511641505,-0.05729152239919183,-0.07769235593490875,-0.040251679209709366,0.02071872333974604,0.020694101853614963,-0.002870218640291808,-0.05474659950195033,0.027932398053656337,-0.06115069582942644,-0.07558633043490152,-0.02967304181737018,-0.04897184178273964,-0.04942320354084567,-0.06346124401415716,0.04614192693753248,-0.014976253980369635,0.0579658901891038,-0.02606457090233393,0.027515458956391292,0.05243342583003196,0.04047927015314138,0.07783668128582846,-0.00780453305086993,-0.006988904286260302,-0.002124077053933793,0.06821878000519484,-0.04271126233762277,0.07739169058224885,0.07402274673344769,0.0594600769096506,-0.023326682306054204,0.027204488348026433,-0.07360657436490574,-0.0811245284717187,0.00608075606048789,-0.052177281476862354,0.035759852618526704,-0.028967057075583877,0.017154533463716905,0.06230539801006502,0.06855118661448915,-0.023694472115079003,-0.07744696642163189,0.022604458617943836,0.012655960315931842,-0.08303168558421875,-0.07023272435395271,0.06485100485787801,0.049178263802732776,-0.04815208617715868,0.03437596267382798,0.05863837971822582,0.01709124406701683,0.06023367253403669,-0.046574932006243665,-0.05550210061223127,0.00011358889420065015,0.06563089632762271,-0.005842607253686402,-0.060450944353759264,-0.005632893232528971,-0.056651506912290574,-0.03470230131743172,-0.07783784706496671,-0.08035527557211736,-0.07562911848742714,0.043408609595596115,0.006369494814428362,-0.08463821384063623,-0.07788250529435546,-0.04127554003357723,-0.08559781129693397,0.07249323612445774,-0.03850589602597768,0.08072880758146218,-0.015650049069744154,0.04654920493018059,-0.05598310644596916,0.03088091332005415,0.02412135663643364,0.03645481240718769,-0.05921448770715028,0.0778300961817198,0.007976079231047954,0.04193127105552085,0.08168821433672424,-0.07976187423702613,0.08168941643729515,0.010216776197308451,0.06450256081863578,-0.04772361945302082,-0.028588508560908898,0.02018465064275367,-0.01797290763257819,-0.05243920568034682,0.05027591748918964,0.07157384382818367,0.010548819760055244,0.07478417536622434,0.07397912077471289,0.0721704555698541,-0.04681979942376874,0.04263173689828961,0.045274681478357594,-0.06152855213426862,0.08484433279403167,0.08133025492883002,0.01132506551279067,0.042773863060779606,-0.04122773033123802,-0.0015575385703794817,0.04288798082112492,-0.04594616309594101,0.08273093483210825,0.012911811501115695,0.015559522377241314,0.07713865978233436,0.0784925479927881,0.04071608735589137,-0.045158520496499585,0.024042393786381254,0.0005492435535737937,0.03336599543868918,0.003495976573883228,-0.05907813272331547,-0.06890933993365338,-0.04420984618331687,-0.05164374923558057,0.007217503329140121,-0.02909012964800484,0.021197962819823588,-0.045323336877725814,-0.07008347250150566,0.012844871885530565,0.022491234166891423,-0.08399032071701783,-0.05683031292635161,-0.0777235230640272,0.02429371241723754,-0.0063849943443359085,-0.0758767312136257,-0.0515679733436645,0.0006511902909200819,0.004642625834212581,-0.004990578423123151,-0.0664725743386119,0.011836343861631696,-0.04126329613421263,0.06904364964210395,0.06482458188504975,0.03525930552516072,-0.029226440004800017,0.05796985698305692,0.006255021987262498,0.03412592332173823,-0.05922984291679657,-0.05262234998987308,0.031802936874054985,-0.060899496767355406,0.032462822035562694,-0.08016140158594472,0.07713310999550214,0.034750779014510416,-0.06319041059677268,0.0213091345606377,0.08077884265080734,0.014072004237099377,0.06550543230246172,-0.07114929795045893,-0.057243404652304215,-0.013923716815096071,0.045786329424216274,-0.03772636027954542,-0.0068204485383080125,0.06345491911264943,-0.012440341827796202,-0.06256984834572188,-0.07620361136862762,-0.03551244984822682,0.07440417841086627,-0.001109184092043195,-0.050355686164294595,-0.08124195152105056,0.05067306539691316,0.0818265209067026,0.04712113877302168,0.0824781628076604,-0.08458160296887021,-0.06070349982229908,-0.001641368915360417,0.0646930560340225,0.021782687574850274,0.051093139478204916,0.06349204125675832,0.00042502365069704216,-0.03490344395609,-0.044058360389062697,0.0634762184594326,-0.015148281974081306,0.052067302267528634,0.07118392185133532,-0.0639272052829826,0.07038458778912465,-0.04058308390949876,-0.05351135308299112,-0.03329747957121851,0.0695445095124929,-0.07177983477732171,0.029439725808576817,0.005825972730455927,-0.02629719909813311,0.04721809947753321,0.008565198958330408,-0.023576201043257233,-0.010229260468946066,-0.051193035735278405,0.07641364568150123,-0.01603225472831723,0.05628205646472317,0.012316489248196385,0.02701174157896165,-0.04083003030056036,-0.05493948215473322,-0.06264256518802995,0.02554562271895532,0.06975822278599028,-0.02987658219580841,0.040859942229680264,0.02417387015093061,-0.0338395870455047,-0.013368252284554636,-0.014864706817941806]},{"id":"chunk-7db5cddc-183","content":"Unless you're really sure you know better, you'll probably want to follow roughly this strategy: Use pytest as your test harness If you find yourself typing out long assertions, use inline-snapshot Similarly, dirty-equals can be useful for comparing large data structures Use TestModel or FunctionModel in place of your actual model to avoid the usage, latency and variability of real LLM calls Use Agent.override to replace your model inside your application logic Set ALLOW_MODEL_REQUESTS=False globally to block any requests from being made to non-test models accidentally Unit testing with TestModel The simplest and fastest way to exercise most of your application code is using TestModel, this will (by default) call all tools in the agent, then return either plain text or a structured response depending on the return type of the agent.","metadata":{"url":"https://ai.pydantic.dev","title":"PydanticAI","chunkIndex":183,"totalChunks":208},"embedding":[-0.00981535082612383,-0.009429226316422951,0.057633134877604755,-0.0802564040355435,-0.06052840889979889,0.049247870912171574,-0.03891681110987557,-0.07165000354662464,-0.03929776426104804,-0.08080159171060625,0.04992423990093332,-0.04398215511295363,0.06118100789116794,0.00775138364655603,-0.06949184186848172,-0.02527342573003248,-0.08054862492954186,0.04952612045749881,-0.005297223698394105,-0.04967173600446594,-0.05707849843742557,0.012395420126655446,0.028620892014008734,0.06700957340244325,-0.062411267644919846,-0.08108751063493813,-0.054659172141649434,0.04156577331576075,0.04796575284939098,-0.007173377597544237,0.07506435044593392,0.003285855179934856,-0.010282044448940262,0.05423957426871896,-0.05038713150977659,0.010015844544750971,-0.021585588300342524,0.039521247188869214,0.023425802842676514,0.022175955796099718,0.01521567999968612,-0.0798444749304004,0.06239972195390474,0.0662757301121261,0.014812976975443004,0.012232579322723999,-0.022732364244958076,0.022587851752446087,0.03635333824039427,-0.05678944381447477,-0.03152058404017782,0.03795583844387297,0.0014438914010136384,0.06806211983728871,0.027233488194310287,-0.011322684241250427,0.026311219817893156,0.08022336823615953,0.06712393322668993,-0.02130307654041509,-0.06121437348231331,-0.053372334078696744,-0.07613427815257946,-0.06178937935420679,0.06963754264602082,-0.07643335694118907,0.05396407404640777,-0.05288141764794521,0.023220389803563005,0.08137263288474016,-0.05980009880880223,-0.004416957735719297,-0.01161387878822859,-0.02114880144233262,-0.013986208226614848,0.043506859792882595,0.07536124795364511,-0.08532900712525472,0.009834616449770827,0.07184841524730957,-0.06672080114066485,-0.0281969395197081,0.019258160694031204,0.043826776881071616,0.011387157439358633,-0.05301436514720084,0.012098817121406154,0.019135610936294994,-0.058340578876391255,0.055043777255920155,0.05998455066104432,-0.05640763374946107,-0.050810812917951455,-0.032632084642812864,0.08263072807461945,-0.04280633500279008,-0.03815351525705411,0.011858727573005622,0.05296751931987878,0.06075215580236438,-0.05683732091359774,0.061109740882421056,0.019963647107327828,-0.06774117531462619,-0.07396024108353629,0.006707513840829726,0.0046286923199858,0.07417013999585996,0.04338184478569296,-0.07097930637807456,-0.0027565043203455733,-0.018815756585438853,-0.05037988096599681,0.07919394724567924,-0.055320975633559054,-0.008452368641845455,-0.007187492985434972,-0.022055147649038022,-0.019833299534525235,-0.05741094097651422,-0.060565371157581864,0.08447370555743201,-0.062050392176286315,0.04677007883680954,0.07357019464932224,-0.04076038106649478,0.050649360819327,0.07704550143734007,0.02694652197085835,-0.0026527187897619616,-0.06045928754388066,0.05749970164087896,-0.045138291059442,-0.05571729069532068,-0.05301007748316407,0.024662128934433092,0.026872845893142205,-0.04699986933806521,-0.037993817594320044,0.04062111798584746,0.011679845548459935,-0.08359739169031731,-0.05314589483644256,0.0013071657435484627,-0.0030235722258977367,-0.04369753216029218,-0.03878009886847862,0.0014436309861108538,0.04981999561795752,0.056248795091141474,0.07056451398429839,0.014963762027280962,0.039035905328837064,0.020229448237743256,0.02542888742934855,-0.007052616388202332,0.07563402925110456,-0.07849137004170631,-0.03913285954566202,0.022584664601448992,0.05172694448219382,-0.013302697934148656,0.06335587614838709,0.06131244229289521,-0.062331780701759966,0.03237359629004434,0.07531051253744628,-0.07104227281830382,0.051642251641824816,0.011351438336766878,-0.05106767238209468,-0.055802006223158916,0.05275738281043316,0.06346839504911346,0.020996643802158398,0.014404024317136875,0.06294211743108992,0.031655943976588406,-0.018480385458573945,0.08116184955472541,-0.0836671160711111,0.0825762332284427,-0.03282809237288512,-0.05949914821629523,-0.03049099823485748,-0.05247956001384698,0.05537249086487015,-0.00937486187212728,0.02193883794083682,-0.05291127834191341,0.062923899339258,0.0011797036523824801,-0.04774533386660018,-0.07809702947409315,-0.044694331197564864,-0.056155302741645194,0.05577594934278106,0.013049521396896163,-0.045493367532382256,-0.018145774670724823,0.058077186343708,-0.031545649098406764,-0.009315504246809676,0.08169825665149409,-0.019883977414061327,0.0018602664618703221,0.06601786463172765,0.05830966133913567,0.07457332113141109,-0.07092043188830557,0.06112592053144248,0.0637940891660918,0.04661121356419137,-0.03783960326985645,0.07191680822707341,-0.0059177397085696986,0.07962512740790735,-0.037851391982109135,0.08184286063975228,0.07403189579260425,-0.07672857621763761,-0.03343557539350023,-0.019891887037199688,-0.07148105318677624,-0.03319961021820378,0.012085035741026729,-0.0679455243769598,0.011066520004385027,0.004829544022660584,-0.0800125139506599,0.0230211811099429,0.03360523264233733,0.027778701921864955,0.03908232051483293,-0.02965359032281231,-0.07810446235357668,-0.022270009968916774,-0.0429107174179786,0.019141558305794795,0.043959871187101845,-0.08292681222712764,0.07432510018110186,-0.04838406075561114,-0.05247681890417358,0.08046479421052907,0.05350451583178343,0.035882038020028734,-0.013759673557474667,-0.055926007782640244,0.020348482728731708,-0.00574215543185374,-0.05673673682027359,0.003441003121254405,-0.05484846002463059,0.0611970406535091,-0.08086413938683301,0.062219277555925656,-0.003213123751817549,0.07515360803143768,0.048728887850202046,-0.07723357588631256,0.036895170266980096,-0.052372901448120804,0.06957770183215191,0.07079991254256326,-0.07516302586005126,-0.06527547212642477,0.08435989615214567,0.0010758952939602967,-0.07576680606491266,0.04160483072713477,0.0797881316974606,-0.06406399728967573,-0.00033585238213485494,0.021052981255249854,-0.04023855919779009,0.024230804727694275,0.06222196894124651,0.030732563110138476,-0.07047723885328566,-0.0558414808536445,-0.011206254537158122,-0.0797180379761727,-0.028252597957083122,-0.0271723555549648,0.01975715224580946,0.008451335780203094,0.06527835193154437,-0.024657200428994396,0.010065580106258113,-0.07749251101430057,0.08004634187036287,-0.06579441204779092,0.03924067335514061,0.029847714195343683,0.07690265576885665,0.07954100793395252,0.07546862657873199,0.06578723549297748,0.016182607830496333,-0.07316617857090484,-0.050686756340992054,-0.034867210577599075,-0.06999805649387535,-0.07605436398557,-0.07080833188673258,-0.02933162328349242,0.009844298300863074,-0.012812407587379426,0.0821300662535575,0.012775109970676015,0.01317925429582418,0.01766341273990265,0.0018428223216474708,-0.045871555404092684,-0.026028753567506287,-0.0679427027363135,0.0013654797662351226,0.04534282372694984,-0.050178859510849695,0.021032873330825735,0.021836300495553355,0.0645693998984239,0.014432387040338923,0.02064808533908527,0.019701870662320303,0.019121160496883498,0.08566790024302581,0.04616824911252224,0.01603968788400129,-0.05873472754406773,-0.015983922126781173,-0.07358112489664649,0.022541004624003606,0.0030383639280636026,0.0047039345989837375,-0.05883764887006564,0.055780461606066034,0.003623999997735951,-0.05773257146465231,-0.044146595136133164,-0.036302635602691716,0.06515845143928654,-0.0013887063577864083,-0.0044203037022737595,0.004914352015859117,-0.07625174083940614,-0.01380007361489173,0.0738108423174801,-0.017232611246902788,-0.023143667120281656,0.07924025250256471,0.03166877407621473,0.08732765048295221,0.030505661163598236,0.05720961643268778,0.0152375248794527,0.07678245249416174,0.030016030468680576,0.047356220921155566,-0.013241424421616646,-0.08453564754648528,-0.08361093925610348,0.009123331944281346,0.027922525030526744,-0.0768911709030662,0.06772063178797011,-0.008562169518646202,0.02537029908836939,0.052664446607620895,-0.026032017927069256,0.04193512116736079,-0.03994660704111575,0.054262393836474916,-0.08252916751113014,0.05493860089162004,-0.058040278532466676,-0.07580503896385629,-0.07235212179162258,-0.07171114659780717,-0.044354440501823356,0.06737723532270207,-0.0779140032179931,0.07557149787349651]},{"id":"chunk-7db5cddc-184","content":"TestModel is not magic The \"clever\" (but not too clever) part of TestModel is that it will attempt to generate valid structured data for function tools and result types based on the schema of the registered tools. There's no ML or AI in TestModel, it's just plain old procedural Python code that tries to generate data that satisfies the JSON schema of a tool. The resulting data won't look pretty or relevant, but it should pass Pydantic's validation in most cases. If you want something more sophisticated, use FunctionModel and write your own data generation logic. Let's write unit tests for the following application code: weather_app.pyimport asyncio from datetime import date from pydantic_ai import Agent, RunContext from fake_database import DatabaseConn # (1)! from weather_service import WeatherService # (2)!","metadata":{"url":"https://ai.pydantic.dev","title":"PydanticAI","chunkIndex":184,"totalChunks":208},"embedding":[-0.06567234709635769,-0.05298842110112681,0.02146462278967572,0.06174496964931422,-0.05881527269957598,-0.07790568850019264,0.04201591470295009,0.028332498847906385,0.07627667992660883,0.009232012997367442,0.05957040732240848,0.00408004656251428,0.05544300351477073,0.05309567292290514,0.01725707364427372,0.02047424949187513,-0.003865730508680017,-0.0872134866604089,0.014451639592653893,-0.06498667680525272,0.01496928216658368,-0.013937591804186961,-0.03168293715290385,0.07909796200700686,-0.08302819015064057,0.04864334500791889,-0.014555210607601756,-0.04335834931446138,-0.05113593243668755,-0.02152443378844113,-0.02360775562959522,-0.08402792671782587,-0.08007739756107625,-0.06399031482243292,-0.04538990889892246,0.08564626560292084,-0.06716639631246271,-0.035722922992956055,-0.036408422683090455,0.025398109166401707,-0.057306766450152896,-0.0011584765936389833,0.023936827137688417,-0.036761389740544166,-0.00021842425542429513,0.03908063607171701,0.06520838038323784,-0.024543390878149586,-0.037797393752251114,0.08361806706324906,-0.07677215813212511,-0.05235251697406968,0.03549199243965716,-0.054785938535217044,0.008667754398398203,0.07709061289173127,0.07667037802100156,0.02818121687227381,-0.030011957752891793,0.004017004877608578,0.011936693149771619,0.027530503401309938,-0.01991285726576365,-0.053562934304102805,-0.0733771526520296,0.02172605882872585,-0.014255456395718876,0.047702674922567044,0.0311285585622302,0.041421710780834155,0.041790837913959114,-0.04189563623887901,-0.008805411543740744,0.01701797013977473,0.0622183259575197,0.05668123197122995,-0.019589952444870256,-0.04224050644778959,0.026196422317491586,-0.04499894582935541,-0.07734532474323581,0.0742154587788769,0.0780065755686797,-0.07036015724956264,0.042573923162485,0.053352500213887086,-0.043077780254920005,0.05831483281224767,0.07552900712416526,0.012174603882667785,-0.029906400808287496,0.0756797434631247,0.0014357830468468087,-0.08278034859442542,-0.042477076924393925,-0.04662147929005053,0.08197660515107497,0.0784245617399054,-0.06334909242993104,-0.041696682051525984,0.08697184715508528,-0.03432954453601728,0.039989043563486586,-0.023338950345957506,-0.058938084090667184,-0.07333810432525127,-0.011251223687253972,0.0023800580630609592,-0.023794485816717097,-0.02742361412067744,-0.008819162994983872,-0.04468454631133785,-0.06972588190411795,0.023944139315980273,0.08447787964140036,-0.05906031457971828,0.05530195691451651,-0.03512759798086509,0.05651640499450507,-0.0001681160052315853,0.06591373012549566,0.0006362301768639258,-0.0654978390362167,0.03371563310353561,-0.03432027097444214,0.018163175793263188,-0.06839937206251541,0.054339689484496585,-0.07348994704094723,0.06098315660832103,-0.07765444364395775,0.0601064135281921,-0.010212005513864848,0.05101892447762044,-0.0818235005963802,0.009861270466520022,0.049756877630891226,-0.05919336812446182,-0.029558401180342316,0.05408979944954792,0.04900946985825108,0.05904558149649331,0.010907838212849085,-0.010924589180086432,0.08436741717779142,0.04771921165311243,0.061520042479631915,-0.05829043423510289,-0.04718059347364548,-0.049071687820640406,0.035876283387115834,-0.0676156022680774,-0.001796713084382708,0.01955700184608089,-0.018890010255635897,-0.032371561277867424,-0.041933655966863784,-0.0015874861768030697,-0.052555021722749354,-0.08715958408209501,-0.03487512360247029,-0.011348136204528543,-0.04916789489085733,-0.07988970241954518,0.009096362384147447,0.07368663314096775,0.03185809584097403,-0.035643362836351514,0.05245073571228493,-0.03188435090807243,0.05600257423144056,0.058742559051036196,-0.05057917414715625,0.016899007984654466,0.08571613010552234,-0.037042954598065586,-0.07862787846826311,-0.010061763141472245,-0.08382761063651599,-0.04906685570311044,-0.0772368023500197,-0.02847844840498421,-0.037086706822687075,0.08320800779583808,-0.054997829004157645,0.06274002911550347,0.04829065960775261,-0.014825570837043096,0.06704586928950154,-0.06904992601290982,0.04401883752683272,0.0775209391439985,0.04116536379489306,-0.08455959247384663,-0.0581554712043094,-0.08342342229188257,0.0023283685525068076,-0.0069635349158486725,-0.048143822265943555,0.07508340507050866,-0.06736515563684896,-0.0328040280353376,-0.00965981894698947,0.056610516054466674,0.07008342224467519,0.07967309953715086,0.08723240109965161,-0.007625360826792875,-0.006844724055621875,0.010675520341787146,-0.0304442661556064,-0.08497496323500195,-0.0016666871744467169,-0.07898640575225223,-0.06832929646105407,-0.04748874175511867,-0.05958059020191977,-0.08388295418883575,0.08688344863188009,-0.06343119775052786,0.04925427301676135,0.013723603068222375,-0.02932888475384458,0.0716604293490272,-0.03835016652273635,0.0018320943512333777,-0.0639614315901746,0.04945473461698189,-0.0465037104089934,-0.08543625655970177,0.0407707745771889,-0.06234875913734938,0.03336532723346534,-0.027026936202415825,-0.0031194508968728244,0.036637558890241846,0.02470461057091072,-0.014237329431612896,0.052835096956458195,-0.03998671421870517,-0.0017014369062441496,0.07367674575664095,0.07480241217711427,-0.08234279634162532,0.022670835043437296,-0.06716983658797537,0.047212306739311975,0.029292513183787013,0.018556480820273658,0.05395931661674386,-0.06821463758618361,0.04121997778951056,0.026167258665292202,-0.004264363028285676,-0.07563036217968674,0.05370570577982958,-0.030827661857523392,0.04917908836194418,-0.08471606534717269,-0.07949409131889239,0.07889935129549476,-0.07127514664787203,-0.08387195061137549,-0.024431241110127077,0.026912795488739236,-0.04324070852436847,-0.08708255822276272,0.018989406411411242,-0.01809277094285435,0.024315890957444134,0.0663063341999822,-0.03837381823335362,0.08272568638545084,-0.03494682122133356,-0.019776162626242665,0.01284284853620729,-0.018146228168592113,0.005860507754692434,-0.07054532479540371,-0.0029097910146426084,0.07234519213961073,-0.022953767037641844,0.014314745898694208,0.06789737398514405,-0.004165769860267367,-0.08365625102898207,-0.004478475293510759,0.01138764496362831,0.046558968698596055,0.0732340093505973,-0.04783929586806927,0.013470482667505647,-0.015594999862904064,0.07789559311156209,0.001955843220029417,0.06663100614524406,-0.05891397647246081,0.03771219924474225,0.0729042762213235,0.022617025729676228,-0.04435777546380546,-0.0005537390850770194,0.013216980420741275,-0.027654183290198336,0.018445496029655818,0.04944710504154291,-0.08583545444407133,0.07472822906608124,0.03363559569059561,0.0038899842735138756,-0.07553831053878281,-0.0346462818941085,-0.025805689599839584,0.031662845296101055,0.004723232688771461,0.003807961642855729,-0.009603632648899407,0.03892004832804672,0.03364985384397356,0.026722510136924445,0.08642705642526613,0.037014969889213226,0.026259715590630603,-0.03847302986699605,0.0024301369620362153,0.05490210399751296,-0.0024404295031505803,0.07035867397562603,0.004655238698802851,0.05184608661864941,0.060300297375616395,-0.0037990292114302698,-0.0019679980146501607,0.04083863937497973,0.06498499470241086,0.016397522789217536,-0.033897801549828514,-0.032638570792915295,-0.06078504716630085,0.06876449131639359,-0.07860768969367206,-0.029839877541584306,0.06594092606170676,-0.010481487132977432,-0.05153260341078201,-0.055532525647950304,0.056755904154463244,-0.05759354110838503,-0.061861946100112294,-0.07757033445648515,0.0712744557328911,0.05374684988599124,0.07364864844058568,-0.01045245603980241,0.011505087594364641,0.08302257891044022,-0.07087614122120747,0.016677425176421987,-0.07188148852955904,0.009719655684694375,0.03498925721811819,-0.03929599125115117,0.017523094260151015,-0.02944483799227775,-0.004480901735041071,0.07394937761987938,-0.053889959514395985,-0.0675700559672633,-0.016390308777932554,0.03453396457872113,-0.0012139788861251063,-0.02711257047464185,0.034477921148477975,-0.040459633903566404,-0.08559967041327123,0.03765530793197653,0.04617275963848302,0.013891818075942523,0.044659258972110406,0.045211035896947194,-0.03804840314037608,0.06382130790424434,0.08600057938785471,0.04794922561204361]},{"id":"chunk-7db5cddc-185","content":"weather_agent = Agent( 'openai:gpt-4o', deps_type=WeatherService, system_prompt='Providing a weather forecast at the locations the user provides.', ) @weather_agent.tool def weather_forecast( ctx: RunContext[WeatherService], location: str, forecast_date: date ) -> str: if forecast_date < date.today(): # (3)! return ctx.deps.get_historic_weather(location, forecast_date) else: return ctx.deps.get_forecast(location, forecast_date) async def run_weather_forecast( # (4)!","metadata":{"url":"https://ai.pydantic.dev","title":"PydanticAI","chunkIndex":185,"totalChunks":208},"embedding":[-0.03097554390342704,-0.035615840981345674,-0.033483286208797765,-0.07732854968302134,0.018784909365328575,-0.07881028223627717,-0.027608335646577952,-0.06590800684259265,-0.052629513344456647,0.040404694680383164,0.07086408106797006,-0.04907482531665131,-0.005842359801884394,0.005661732082863529,0.062472513278137576,0.048900792486108055,-0.021628812122180194,-0.039840697071354104,0.06579645377171543,0.06692593855765816,0.04056265062394381,0.00869750045785864,-0.02364947813075034,0.04939725323102211,-0.08072595417939507,-0.0038385002415964103,0.00554196437110208,0.0307699968490856,-0.05731728356585915,0.05214809603302973,0.08620197654528416,-0.0012252950285182329,-0.07817095319981579,0.0719279508306459,0.054349785035486285,-0.0017225733999063676,-0.05156089407819047,-0.06320045597741612,0.0764858566142824,-0.05293500115299425,-0.020675465288460936,0.08242687664877735,-0.03331118562258535,0.002674328538096242,-0.054273848804565636,0.0669845841748329,-0.04916326541913423,0.06373419820299167,0.01880976191249202,0.0772449894778982,-0.02795966845440586,0.07648227900608287,0.0021237459486292726,-0.02110082722948611,-0.0182086310878776,-0.05124447778314151,0.033976124637369876,-0.0842233607404031,0.0015319498539664816,-0.041298435132625655,-0.034266932416671336,0.010643144861006572,0.07739176368384473,-0.0005652661896710718,-0.012259101218283379,0.07209876977685559,-0.08126327456500781,0.031023091596130516,0.07908347376084231,0.07125543287608142,0.08106859874602997,-0.07346776104156365,-0.06262422257570742,0.024259880676943374,-0.03939342583603891,0.027760778101387676,0.04660323572092943,-0.013338735723469518,0.08457759298553001,0.07885726609744877,-0.08462089339850913,-0.07917238733870355,0.06839549562612166,-0.005748005875749782,-0.06453370503586468,0.031282744116404734,-0.07642439652436371,-0.059658337367411204,-0.08590326148499128,0.0017524897588849806,-0.00984290976948454,-0.05744079425724617,0.03922581658278425,-0.04142590031532836,-0.01460365329817613,-0.00889086702440636,0.025077264133871176,-0.01994289099583309,-0.007767180277988168,-0.050239037053964285,-0.0639854456337763,0.01869856859021085,-0.04424930872140506,0.07864131979404253,-0.007421142852834563,0.03829049687150154,-0.016870964682943895,-0.001075697129100745,-0.045378049946505135,-0.040926821645503104,0.03733723650445072,0.006827964773812656,0.014691520276514242,0.06843225269524024,-0.034369884594021044,-0.078116370787436,0.08601445135288632,0.04923788577620016,0.04136400625306062,-0.0011633663803202084,0.07488048089077651,0.06916060392968061,0.07552114982106664,-0.03688069283728401,0.040430347219719935,0.04399939304748037,0.024755289911057552,0.06411183182961348,-0.006644809873163465,0.08131316306900079,0.03268094212979139,0.05816056802846071,0.05565842188122669,-0.056480078858847524,0.07798092072340891,0.06702964641828305,0.07635210397497882,-0.08451410292179166,0.022020217382875098,0.02773059068073117,0.011954860656794773,0.03436748521344652,-0.07624697498088659,-0.04303270062482539,0.05441197294105479,-0.02344769591279508,-0.0765861254466507,0.0550064286400352,0.051064660511294595,0.04347095945654638,-0.03631450433135987,0.07393278033561898,-0.05781113599976598,0.007012768163907674,-0.021777305109026472,-0.025504170909587152,0.07752481807925342,-0.0029045763858524024,0.007697064382558582,0.01131376736126696,0.03417362426498904,-0.050169020741178676,-0.012041850097692736,-0.07847800885626245,0.012596080266884524,-0.028547917356602406,0.01788878964065251,-0.011003180081105852,-0.019476953312413232,-0.02967535326376705,-0.04663963920693907,-0.016243622352414562,-0.027728645681285455,0.051584579079580875,-0.051761844287429616,0.018791538425083888,0.03457731321380466,0.06695461671901966,0.03525415132536262,0.08289009362347392,-0.045769407504118,-0.04644022038621434,-0.08096877953126508,0.018656564298317198,-0.041670452908053664,-0.04013131276223961,-0.05708273761847241,-0.026439495801517884,0.05361194063236652,-0.03135220500456703,0.07507424891943673,0.051321997773636704,-0.0389891971246545,0.026723287290756535,0.02738906138714018,0.06048665772952102,-0.04874389585223466,0.035903282848116266,0.07725518898031454,-0.06812469568841899,-0.0706035126196645,0.03904978214668007,0.038280743790499755,0.016740755937322976,-0.05526121198841936,0.06623690157354573,-0.02267518090557607,-0.022214326026635714,0.037985537754571495,0.03513789178929241,0.07478397051817791,-0.02276100871906677,0.0824892181006358,0.05361057932833441,0.03434039075457428,-0.0750037012453647,0.03627947259262089,-0.06632359043554772,0.014385055609696839,0.0023001821285870217,0.03226423505409474,0.029257491071210513,0.02766938403575434,-0.019212964879876514,0.014363048497937618,0.07851182389509757,0.030840164095057916,-0.03151688832618161,0.032058853419237254,-0.08054669245576154,0.04399151776852516,0.0028857218696700594,-0.05703674999529585,0.00174224522047779,0.06381700964074757,0.05861890468255862,0.05964001382562121,-0.011244779611616974,0.010215728947124214,-0.03303398997149477,-0.017530717250059936,0.03806229900996264,-0.019380433507644627,0.049414286786122655,-0.07802444631916511,0.03119678343357929,0.06066787589695857,-0.06761915189810362,-0.019392784244119318,0.0490661566688293,0.01411459814930652,0.004740804211088114,-0.015719071714257852,0.08435975210734895,0.0644063817024147,-0.07885118300591687,0.0035905417163282862,-0.04201247245821995,-0.06957854402399305,0.05947338126895693,0.004495647966450895,0.06411762158549605,0.05812659544759972,0.01641907466812627,0.05763615161588515,0.0047656202576014245,0.048366193392068955,-0.07616213467012424,0.08110845753686066,-0.04867488401933066,0.022108824503112808,0.05409099599800376,0.05598444538096244,0.07600325744626565,0.048944282461733345,0.04844622029279385,0.0767169961668471,0.08247193467485474,0.05986407309777311,0.0678705476788866,-0.0054577493681158855,-0.06955673768782916,-0.07934518300402679,-0.025898130511419207,0.03630495846388955,0.005707694813280405,0.02429774989913532,-0.019575183911079305,0.06218118278393425,-0.017166607496869733,0.0779856381825411,-0.07524973982857673,-0.04017692727507588,0.06638100154949673,-0.06930861569166194,0.011943627690194155,0.029444877936805006,-0.056898196353264936,-0.022643304312276416,-0.013414799640489224,-0.08144472985373521,0.037377650825136145,-0.0060387809183554166,0.04135896168322671,0.04082580524252014,-0.0826482274399091,0.07907080268493942,0.06897927447899402,-0.05288662563707217,-0.004784110341056365,-0.08206672359096988,0.07519986604067287,-0.0210141537733801,-0.07714844858395263,0.07478453217172516,-0.065091463502219,0.02523542183602352,0.07509094373183285,-0.047683814879188796,-0.05853164597922838,-0.05301393632702944,0.04491620064492942,0.060839014249863384,0.06999567468039655,-0.06928536560891925,0.025266344426806572,-0.06029369405253202,-0.08232819133133232,-0.059363451932735074,-0.06903991123496697,0.027033948569152335,0.06812121796177714,0.012180512450174182,0.0756491707625926,-0.07923325559878827,-0.012200851744407881,0.04531615595626055,-0.058472878398050425,0.0768666399265029,0.008956580275295707,0.006433075585036032,-0.04750645491083585,-0.023360486199122555,-0.005336804074702949,0.0022756925484387924,-0.043979417595909655,0.05990900941014438,0.0419578615836416,-0.03576739220976216,0.0025129254276635184,0.07699496251351039,-0.0045260701528051775,0.05435254298938967,0.0021783886070180156,-0.025853605086351625,0.08077129673900728,0.04997705393745473,-0.000793673676595452,0.02592749579864644,-0.0400521653554595,-0.06520409771853897,0.07958589813664317,-0.07877829734321967,0.030636172931411066,0.08051550442772216,0.06789721345544517,0.06420175030263621,0.05586122911714778,0.03326196378717938,-0.0704302573303038,0.07601027565916414,-0.02176687716620693,0.04046998588868357,-0.021720752085190004,-0.019926820867107294,-0.0338508889865499,-0.04844385757023631,-0.026012380301940766,-0.06331572936818061,-0.05708649582763136,0.05516911698233592,0.015304647871638656,-0.05957366826088133,0.005345291160299625]},{"id":"chunk-7db5cddc-186","content":"user_prompts: list[tuple[str, int]], conn: DatabaseConn ): \"\"\"Run weather forecast for a list of user prompts and save.\"\"\" async with WeatherService() as weather_service: async def run_forecast(prompt: str, user_id: int): result = await weather_agent.run(prompt, deps=weather_service) await conn.store_forecast(user_id, result.data) # run all prompts in parallel await asyncio.gather( *(run_forecast(prompt, user_id) for (prompt, user_id) in user_prompts) ) DatabaseConn is a class that holds a database connection WeatherService has methods to get weather forecasts and historic data about the weather We need to call a different endpoint depending on whether the date is in the past or the future, you'll see why this nuance is important below This function is the code we want to test, together with the agent it uses Here we have a function that takes a list of (user_prompt, user_id) tuples, gets a weather forecast for each prompt, and stores the result in the database.","metadata":{"url":"https://ai.pydantic.dev","title":"PydanticAI","chunkIndex":186,"totalChunks":208},"embedding":[0.006382889465120475,-0.05024386393313435,-0.05851051593479274,0.01954162376314232,0.022294949442905086,-0.05199381023819689,-0.03940295502785465,-0.05065948757948798,0.012638720831042956,0.013009713364959546,-0.07626908463535109,-0.06401767182826797,-0.009136986906512583,0.03119709111776913,0.06037300128084066,-0.05487783383083468,0.045151569655621164,-0.03031848733997837,-0.042020327907997465,0.014052520206513248,0.003536544463274424,0.014151025308790866,0.04789297218485976,-0.002981416788094195,-0.050108728173961205,0.07267465820980457,0.022811610077742375,-0.015047469867876887,-0.06047320517407882,0.007506755232913591,-0.0808603921221756,-0.04085789639282501,0.08765842519778626,-0.0036948749033310093,-0.0695310053339041,0.05076298826330888,-0.08123059274047764,-0.04962105507148029,0.05087606399261945,-0.04060405957271756,0.05789785055416278,0.0019626428674333345,0.02463144768591597,-0.0024474634058348054,0.058052748542154524,-0.07190214929714639,0.04000419097127828,0.014857252745278235,0.05060611178494988,0.030418442111059017,0.0004933254545886289,-0.07092147454853533,0.013848011878166103,0.029138991330419747,-0.0065700920883198875,0.03097349864848019,0.026531654680819434,-0.02932721032907406,-0.03888347054305532,0.07832227814768321,-0.08783935014792896,0.07121666687300449,0.018037398819225392,-0.058387373196894465,-0.008346164860967157,0.06468646827456093,0.03688033171463107,-0.08445533053291886,0.08814666865211895,0.07648047089236792,-0.06328621845610027,0.006403695435625136,0.04064563978537809,0.06178350499817196,0.00810792709119065,0.020947818795858084,0.011998735408730482,-0.017632798162397025,-0.04065926579522728,0.0854732615521406,-0.05990584548977396,-0.03228087928062654,0.0646076141265175,-0.06168610295443514,-0.004902144495834285,-0.023517296784493397,-0.05205278341885479,-0.021762088735152004,0.025940291660387072,-0.0682502322684266,0.026208480252383582,0.014425506976142621,0.01589028647877105,0.08398105897958763,-0.06418102400751803,0.01910289515041068,0.015360823483039172,0.07173246678800595,0.07691929932833765,-0.036523542623666326,-0.06916195585799852,-0.04030712662658358,0.017753371981051626,-0.08744224177045183,0.01994510264338375,0.012168184084358456,0.08167161540905253,0.06262797069622006,-0.023696383045389225,0.054442236322833924,-0.06535042576671207,-0.009284061119455407,-0.023899916514863517,0.07104290551869266,-0.08900331368175655,0.058835694384106234,0.07135153986468674,0.008990868155006939,-0.08463305020530636,0.051480674501495245,-0.08117465135177651,-0.0482300725096294,-0.05578624418443337,0.0747942539981487,-0.01462341765667302,-0.08008521096879345,0.012992857323517867,0.07719223780814423,-0.06744837324914858,-0.05775741667701069,0.055979154168358684,0.016362627054500298,0.0801205235794551,-0.0432927933095946,0.08556549443042877,0.028227167877873986,-0.07659757883508841,-0.07554103213050052,-0.06339718215175905,0.033080772783095874,0.02016523660986066,-0.029513700916899997,0.0016833074711901427,-0.08819007861430767,0.0544865771740672,-0.010028228043399593,0.050558519441947086,-0.003862835985646167,0.017627579778521547,-0.026328474748497335,-0.03873917677258148,0.007721848672104442,-0.04510313983185359,-0.009868308269779254,-0.06902296855191672,0.04652317053078396,-0.03198652987363399,0.04638302000723569,-0.05951929677588603,-0.03330246520064304,0.04155913065513001,0.03539363782536913,-0.0022899678501048038,0.04108878312164958,-0.01928653031170924,0.08614733737585967,0.07421682824508624,0.02696193557117816,0.05432056087191214,-0.021657207697167273,0.06701511532605182,0.01505044839422966,0.057936709802975064,0.08865898082033986,-0.00863476594705475,-0.07478461513503591,0.030832170795776364,-0.0008720261714461523,0.04381899126530774,0.06623855636910216,-0.041820783523955796,0.08718956893836763,-0.007079652909918498,-0.03525127133749046,0.03141746418599479,-0.08499265212360349,-0.04504764804868167,0.054118483205665695,0.028381664523192345,0.05332376101456044,0.05991640609221138,-0.02220398212449739,-0.08588191514328146,-0.04324626447658068,0.008870471856890712,-0.05262887655091154,-0.07498440345449549,0.05853072761273404,0.03567533689729306,0.08672686008628253,0.058137803999766875,-0.007472103780851759,0.020138075504856582,-0.08553807058816777,-0.03879799312827395,-0.0327466104609081,0.07196445115183314,-0.01992330566899152,0.010493249740479106,0.027508882740526833,-0.0012524205334366067,-0.049888856216016936,-0.03347943013233639,-0.04557532969192227,0.037871757266560314,-0.06911777843517049,0.01924248405245879,0.06529354352235686,-0.06362958207217753,0.05775466888729679,0.04821200852874656,0.055333566184723994,0.08672281173083937,-0.04150440527054275,-0.05476090861792956,0.02775601571577864,-0.08510315524003413,-0.012085285001113801,0.0524408619971364,-0.08498829372404818,-0.0560976679967404,0.028574736075909542,0.023160306600404735,-0.03826728445932281,0.04638797764407911,0.04615660534309949,0.07811118108763179,-0.037734065889366154,0.0366585331618221,0.05211075182113263,0.06434648883960234,0.0866771882330807,0.07859035084069092,-0.06500958212707571,0.060647695524328554,0.07944657702746162,-0.03483832529347708,0.08675824967401616,0.020162421065747473,-0.00944221306215907,-0.045209144850522645,0.03864124519627106,0.0010504896068604056,-0.04216428648658037,0.08699927584192438,0.03220584610314266,0.08119309381286674,0.019360616466916506,-0.08322458549580015,0.0038573162787844876,0.004364571526696183,0.06144678545936826,0.07308748953102986,0.04708122907656431,-0.057433316286969724,-0.0581224873650302,0.04030780888826017,0.07482192948722532,0.06931187847419013,-0.07868322027174073,0.05244173941188492,-0.08333844986203882,0.08672488720793496,-0.019745532288168704,-0.02441481058967402,0.01297675910949776,0.02946375971170973,0.06708589001399277,0.01071051547816856,0.030061193327878873,-0.02144645765109756,-0.009116952440960585,0.036609226815146355,-0.0472617054042928,0.010950287777286901,0.08166711970740362,0.06946371925066801,-0.04538971120302794,-0.030491139793364548,-0.06267805812665328,-0.04923503660882589,-0.05136019297463235,0.04846973045443185,-0.0687125626273761,0.002482766582970093,0.027076176075290368,-0.05460394258209044,0.0592816012067519,-0.011504594833822327,-0.07869462379149111,0.03764714322713995,-0.015599032417230598,0.05488954616242825,0.05345617336273497,0.021371094566569278,0.08642390428526135,0.04363794256164794,0.06596996747217498,0.06403983242887147,0.015277721931455145,-0.08932158583473077,0.06529612864319653,-0.02482673798221697,-0.057124100224787075,0.03572204510717553,-0.07491995912557424,-0.042008806903264286,-0.05940614287138225,0.056926698549487405,0.005017539362893478,0.03787328065515958,0.0016467365777855054,-0.04620259440678847,-0.061632284649651516,-0.01603067008712202,0.04310359824148181,0.0006027205776953256,-0.00015347530542935358,-0.05714064772636845,0.05071973449685926,0.01799700922039416,-0.031081993189895147,-0.04151999032046523,-0.08391649250290377,-0.02761496108689166,0.04491044972947206,0.05609571013707504,-0.02485471434394113,0.03137083104476646,-0.06442637136618605,0.016600890634011496,-0.025626192283893047,0.07254922811563227,-0.014908367448602786,0.014814195425862254,0.020580213805943486,0.08373429586176967,0.07926853457403832,0.0784329591442072,-0.030468134811371797,0.02976822832582759,-0.07279187728202183,0.04308544450068635,-0.087512150287035,0.06394353606138788,-0.06015456429214604,0.027173005548968506,0.0873517147947727,0.03469516711751841,0.007472378048476526,0.029923730723630138,-0.014213402168237474,0.014791484243469006,0.002218506545979259,0.03891307839257947,-0.062412946243554285,0.056670664095316556,-0.04005300438270543,-0.07700501482288637,-0.06068326360149192,-0.07958232508779464,0.0042966510000385615,0.038279809812041966,0.0011751490311566139,-0.06615133134000001,-0.018989581163447424,0.021249163101047904,0.005813671367491767,0.02561687508176867,0.020862065242444612,0.05301861638402201,-0.05217644111287745,0.037555235163335976,-0.06577278054138755]},{"id":"chunk-7db5cddc-187","content":"We want to test this code without having to mock certain objects or modify our code so we can pass test objects in. Here's how we would write tests using TestModel: test_weather_app.pyfrom datetime import timezone import pytest from dirty_equals import IsNow from pydantic_ai import models, capture_run_messages from pydantic_ai.models.test import TestModel from pydantic_ai.messages import ( ModelResponse, SystemPromptPart, TextPart, ToolCallPart, ToolReturnPart, UserPromptPart, ModelRequest, ) from fake_database import DatabaseConn from weather_app import run_weather_forecast, weather_agent pytestmark = pytest.mark.anyio # (1)! models.ALLOW_MODEL_REQUESTS = False # (2)! async def test_forecast(): conn = DatabaseConn() user_id = 1 with capture_run_messages() as messages: with weather_agent.override(model=TestModel()): # (3)! prompt = 'What will the weather be like in London on 2024-11-28?' await run_weather_forecast([(prompt, user_id)], conn) # (4)!","metadata":{"url":"https://ai.pydantic.dev","title":"PydanticAI","chunkIndex":187,"totalChunks":208},"embedding":[-0.018901018273598077,0.07265709215639031,-0.07140155140699127,0.06283250713757785,0.06276665250811406,-0.014093231569100789,-0.030805963413532214,0.07562854763370631,0.030459064684780407,0.0478760345836061,0.025439315455681944,0.04164158819538308,-0.07888569167408892,0.0433265850599277,0.06802299164510532,0.026170955394012943,0.004131732693899036,-0.0865211397219368,0.001861322817980761,-0.008112614232454034,0.08250933831533079,0.05446090706333116,-0.03817478050591323,0.04747220060217006,0.054683958108707,0.07495277234983141,-0.06806285339073508,0.054571306757566405,-0.05662118045451598,-0.05362714917070459,-0.08362435588424416,0.02875525363580924,-0.060371103427588,-0.025223840064307466,-0.03019242349063214,0.03514521750388982,0.04257794203266346,-0.004746085026283671,-0.013974331362923746,0.06230906253105075,-0.00423085230252043,0.03586697036372719,0.031379902368050334,0.0186185192217463,0.05862656987993834,0.048912962906376686,0.031634754937486444,-0.02182016850178083,0.023026824232263716,0.019767651675648836,-0.02772023233867585,-0.08176732190409307,0.012938825171077256,0.047259062800992326,0.023979100805981958,-0.03387447427598083,0.005338765320146418,-0.028625890293157725,0.05864315029627878,-0.07376346655287484,-0.07660476438200467,-0.07557689611159311,0.0804726658923986,0.053685315160182115,0.06675541805447281,-0.007792976867252068,-0.041300077049154046,-0.015293407710235745,-0.015248051608942378,-0.05033320746602238,0.07183615585038018,-0.03519415915114119,-0.06114209508697847,-0.014963864310287971,0.008017498228607908,0.06906622141013054,0.08294731311967217,-0.03709855600936115,-0.01848891194085459,-0.061975480382623904,-0.025682026278096515,0.035180380655102664,-0.07957764616005353,-0.046762700404464896,-0.0564909875438026,-0.08636605848326669,-0.03057227826686116,0.0852410398563904,-0.01495601096299326,0.02441904845467149,0.07003004520590198,-0.030391245886719348,-0.04294416339557906,-0.0089439127439054,-0.02416475506976292,-0.0029968325034616166,0.02125877822419408,-0.03036959765089354,-0.08654049234401333,0.06471204828811458,0.06848916261642164,0.06267048007953968,0.03180386047111302,-0.0514955543842049,-0.03573251540845755,-0.041472460689552675,-0.06872936601581892,0.06108783284635757,0.03299708454058713,-0.07696176344098218,-0.061796344262382896,-0.07596371027743774,-0.023690231248731625,-0.08336519083256919,0.0628975735389443,-0.05977871483780904,-0.0613315897104983,-0.0368009372348645,0.07180562905543099,0.008547046118221007,-0.013972811897565685,-0.04861125756800909,0.01890337186214437,0.027435960362453982,-0.07719802485123581,-0.051477019021190486,0.07536367160591814,-0.005870014667378031,-0.049963395621211,0.023232247586434655,-0.07388047777967899,-0.017966340087545347,-0.07576058297771637,-0.0034748456380038263,0.05011863060910861,0.04661435532980865,0.04186610739566242,0.06760587568341905,-0.029741524658126843,-0.03935604401954977,0.059484485508736515,-0.0024069236026486784,0.0462713905463624,-0.01156869707972227,-0.07176177445113945,-0.036145494694894635,-0.011021926023405343,-0.07133134282089633,-0.03832277692996313,0.015672994296760365,0.06537030829788908,0.005413858483975863,-0.020002654774077772,0.027385229203279866,0.08259608320027403,0.04111599319746431,0.022959478938571896,-0.03362522041730735,0.07435930226086261,-0.013858915109597783,-0.04758872611449516,0.058999306340217404,-0.06948866611889694,0.010756358219982555,-0.011112119518987888,-0.0568834974364597,-0.0818381662400756,-0.03566110557016752,0.059559366562151425,0.07263998833473502,-0.07637720707998859,0.012104972324262712,0.023540458072366724,0.02713370014014517,0.07569426455877074,0.04777013684192216,0.04015126950707473,-0.037255121558429916,-0.021638420822553635,0.04557859587405818,-0.06494458647792084,0.07093674313593258,-0.054049672266842236,-0.022737548033553066,-0.04125143786705495,-0.03240134286975054,0.0823299004073204,0.08049647349796962,-0.07852715848432737,0.014024020164438069,-0.06819352072900374,0.048663172980657164,-0.07645536822816758,-0.07751595218570692,-0.04471982003677013,0.05114262243626138,0.0797742656175552,-0.03347187126803545,0.05482629330949543,-0.007822689383120071,-0.054908912020513206,-0.08365333730319231,-0.07055702448288695,-0.06505698422827635,-0.010316932248478685,-0.0688297134194027,-0.07398788562595231,0.0661468287822231,0.08550760365202759,-0.058875117055142465,0.034766072454984684,-0.07116335261164383,0.03669317796997139,0.052478416578372836,-0.023413194115695014,0.007536323293682546,-0.000789697921524466,-0.06609264745535784,0.07296307468327068,-0.07122816371979125,-0.022487837312436615,-0.0792436100418353,0.03443099234381654,-0.024060047598540597,-0.01359018093764873,-0.004485064054999422,0.06640384240092986,0.0420258869654627,0.06959455999349284,0.062289482223043126,0.0275903849839712,-0.008385702786936967,0.03886546311122239,0.03313399261238162,0.03518328867154132,-0.028772242138223828,0.0307788466309278,0.02467432612775406,-0.0611459549389686,0.0166574589681181,-0.014743901437884748,-0.0788880187198679,0.037047746300770484,-0.047454187729460515,0.08222980407114434,-0.06978571424003241,-0.029213378396700705,-0.03468362414897372,0.06007299037821173,-0.06935625833575236,0.053861515744891675,-0.00793183855360374,-0.07617468742584917,-0.051385199343086996,0.03189085326882438,-0.07217088880825252,0.025398397745859277,0.052180913580621886,0.05339616890705835,-0.019032107490821216,0.058493369418717515,-0.07486948679759489,-0.08125955770000245,-0.03639950473194487,0.07345587302295802,0.04148945861727859,0.0519490369573658,0.020190459641768858,0.026298433272228645,0.008754954779283194,-0.02413796801616991,-0.022837169913159153,0.05037148840528352,-0.05493584670506528,0.060960221162117974,0.06467645349422,-0.0751229687817879,0.014343910003683775,-0.045089533696326,0.051509253269493994,-0.05506969822582573,-0.024557462954682956,0.007689502003433071,0.06659368499587512,0.041885675612826384,0.07188547856226028,0.03827022770378539,-0.07570487639113815,0.08143400816757047,-0.0014106069143716346,0.02192796306429621,0.08300132548736447,0.00007356023739534301,0.062030428127919916,-0.03670947981098819,-0.0479710062704921,0.01734665869225454,-0.03105307180862001,-0.08107901294147632,-0.031903116758220634,0.02361735985557404,0.06274335853334728,-0.026707647816048764,-0.0668868446509534,0.036746571942662405,0.009213481878175719,-0.04015603435947074,-0.02854350222636722,-0.02717024111340531,-0.023219075093604012,0.03774474707621244,0.014613858694567645,0.05801753319897148,-0.06823757202305625,0.010924994633279062,-0.04877643961245922,0.07883650669643948,-0.028321353950256076,0.015038086633644325,-0.0499298187699687,-0.08372228148664444,-0.0490663785778196,0.03930121889928844,-0.04763164607478487,0.019792418846571597,-0.05292322347047245,-0.01978311392947064,0.019496042998193554,0.07601652613713386,0.08043965250045311,0.06744332620111416,0.08241887814262423,-0.0641848165058378,-0.060965411832222434,0.07965068014556745,-0.05229921288214479,-0.007663481944117103,-0.01638132406311285,-0.004273204457097802,-0.06355900561206064,0.014282779209295786,0.0056406402721650845,0.05144838917973935,0.05629914146509458,0.029126690061264074,0.07510398505537623,0.07487914614950343,0.037941286083359366,-0.05750724151799295,0.02139691405474411,0.023662642480581097,-0.05547350260718043,0.012887985715019777,0.07097943349016733,-0.0012344175040395974,-0.03145843526987379,0.08470322931355252,-0.06831886282355892,-0.011051195719970833,-0.04017741572769303,-0.013278046408103188,-0.021360802578098324,0.06845738380365714,-0.009630232184080243,0.003632067805996474,0.009391745027957794,-0.05551108599461453,0.029067187905952894,-0.08329119218212655,-0.06139042663967191,0.020960832060774898,0.0401665291835874,-0.08582804302620384,-0.045363050913194904,-0.03963267238775191,0.08248491423954597,-0.015459925711149496,-0.08467483173764766,-0.032187184005989765,0.08468271355926624,0.04641092506181725,0.04589079872442857,-0.026807927323293623,-0.06429183039512933]},{"id":"chunk-7db5cddc-188","content":"forecast = await conn.get_forecast(user_id) assert forecast == '{\"weather_forecast\":\"Sunny with a chance of rain\"}' # (5)! assert messages == [ # (6)! ModelRequest( parts=[ SystemPromptPart( content='Providing a weather forecast at the locations the user provides.', ), UserPromptPart( content='What will the weather be like in London on 2024-11-28?', timestamp=IsNow(tz=timezone.utc), # (7)! ), ] ), ModelResponse( parts=[ ToolCallPart( tool_name='weather_forecast', args={ 'location': 'a', 'forecast_date': '2024-01-01', # (8)! }, tool_call_id=None, ) ], model_name='test', timestamp=IsNow(tz=timezone.utc), ), ModelRequest( parts=[ ToolReturnPart( tool_name='weather_forecast', content='Sunny with a chance of rain', tool_call_id=None, timestamp=IsNow(tz=timezone.utc), ), ], ), ModelResponse( parts=[ TextPart( content='{\"weather_forecast\":\"Sunny with a chance of rain\"}', ) ], model_name='test', timestamp=IsNow(tz=timezone.utc), ), ] We're using anyio to run async tests.","metadata":{"url":"https://ai.pydantic.dev","title":"PydanticAI","chunkIndex":188,"totalChunks":208},"embedding":[0.08501267751141703,-0.06039507327487636,0.008409181322651626,0.08741012280060236,0.0827092079752072,0.021907040906592002,-0.022161313871844893,-0.06120775595181062,0.0728504987412563,-0.05286796829189656,0.055079769210380505,-0.051676755134264035,-0.00899563800632795,0.035549942432765456,0.060920188686082725,-0.002153589523040434,-0.007856475362545528,-0.07955557984285534,0.04029837315295583,-0.034731825135723184,0.08583892875768698,-0.06976567517395259,-0.05018301223139409,-0.061282380316345884,-0.029499011388339387,0.00613118605878537,0.008722852279568826,0.035027924767450924,0.017646002543454904,0.015877277168983496,-0.0264420162408931,-0.07394431643238916,-0.03538714937514028,-0.019405197669342466,-0.03627872110887898,-0.08243903624103353,-0.08680520775912008,-0.021694346901459386,-0.01430344771352714,0.014417089879319415,-0.039970844552972236,0.02271269117253211,0.03716185444830801,-0.016500770318260062,0.03977054077313359,-0.042784741511449204,-0.012405372885916482,0.0722554283879648,-0.04248301372181078,-0.03897224441663908,-0.0277958399702315,-0.039384671787958084,-0.06543265454809946,0.05786545230888785,-0.07899293017658268,-0.04579464224460471,0.028973806234273456,0.03193928088992056,0.07428584770409445,-0.061166866217693,-0.026187462777592273,-0.08712346597635078,-0.0466616484489712,0.033889766302450636,-0.025680728258257176,0.026652427864387887,-0.054981547248445874,0.01842456693944393,-0.05884589366885329,0.032361971357494135,0.019192149435508638,-0.010628629295230856,0.051390706659378414,-0.045887215528803565,0.026314902354205343,-0.07455832262804943,-0.0647543265061897,0.07019623540483168,0.02977362177564538,-0.06190549777364759,-0.023307665547566112,0.0749444097589019,-0.04643258077459458,-0.05591275643210387,0.04178302143280957,0.04061822282707545,0.05628085299612313,0.040156711311762704,-0.0798329276813662,-0.04203499383591928,0.06568733894767985,0.032498102791669446,0.060538253664997745,-0.06251433137705682,-0.08720942973762266,0.06384054571972875,-0.0334628506408404,-0.054023228737944,-0.06481497587716686,-0.053562118732894896,0.03803046423333174,-0.0035202678417884255,-0.06619462450144897,-0.020704113036569848,0.054223888166160396,0.060876907308835285,0.05557626041706894,-0.06822754065317142,0.0481705238492889,-0.007927246358275264,0.009764237467793929,-0.06368245418030194,-0.007397917139738896,0.08809522689622265,-0.01925290681948276,0.08097406569615329,-0.04282335729563351,-0.01522213390971575,0.08729161811836454,-0.024631875737538163,-0.06198224053750832,-0.004355811774510932,-0.05667756057077639,-0.013504118891481759,0.017443910012381297,0.07637037029476199,0.003894915734119985,0.07232839397821245,-0.06953910634969804,0.047785979570232714,0.06576413388518657,0.054374007665996406,-0.08731887531836392,-0.05454358675484746,0.06010106522057992,-0.04165922066474725,0.03321247435950667,-0.044167177168812924,-0.013775824871147677,0.07762339089846952,-0.011373286220480264,-0.04438061056368928,-0.08628273560413245,-0.0730369543169776,0.02731625078094667,-0.06289213876206193,-0.007380382136233049,-0.06616634901935411,0.047853193738374204,0.009916768975287003,0.0010881954145152775,0.02185490337487317,-0.044120020653716,-0.0035130456765974935,-0.04240731916693173,0.04258170338403055,-0.046205052363033315,0.006270076849075015,0.07501932355650023,-0.0484992566709958,0.07892998164635047,-0.07492055755979443,-0.0170034264501571,0.08540751310724762,-0.02008849427372592,-0.06823538154215392,0.048901120266629565,0.05487990240449059,0.03610182102636921,-0.00882638662916959,-0.031544017595066476,0.04616979914299309,-0.028065899471906724,0.0350135394159942,0.06350266089453858,0.033074506464178074,0.026903178781735388,-0.07687039007753564,-0.035037254437311975,0.016850107628834078,0.04769051435105952,0.020774401884970897,0.025438551820012926,0.007834355455296772,-0.002607093989269262,0.07720215004890815,0.026535911015114107,0.07474625432686864,0.006034699261448366,0.03851011726957862,0.0731364118219855,-0.029332039446824137,-0.05388807513163702,-0.06379974797309171,-0.025385502070895093,-0.04039742800214718,0.05317825117176917,0.03291038065578745,-0.04421476652018805,-0.019848098284514122,0.007528331825673618,-0.026480197085623092,-0.04707166395417856,-0.050123328701417925,0.05315169306092551,-0.05392993036917783,0.07066055771564789,0.0883156812412963,0.06778620393912974,0.05321387095989443,-0.01643006982486205,-0.04138728453273273,0.033491561608364875,0.004880022380835399,0.032650063899383325,0.04302712008891441,-0.018589043434039654,-0.006839847963886938,0.04755734664187168,-0.016696428733667126,-0.08132089748862918,0.0711147709305732,-0.04888564864792204,0.021400112749407358,-0.07743006457143459,-0.03968598011060599,0.04023123716309047,0.03705708876443911,-0.010769499570621547,-0.05260765563210674,-0.08686243821440477,0.038362477958386335,-0.016551922574187,-0.04529256494923795,-0.00240947504642934,0.08108590141845655,-0.08264990135807546,0.016104889158779088,-0.015855660303742643,-0.06902245981388618,-0.011787250771001541,-0.08261572916569236,-0.0051902503769495545,-0.07731357807657856,-0.01697133761559778,-0.0003909283491640438,-0.027347316671740413,0.07116973422083647,0.0468932654054486,0.04209004953218723,0.0002629503371883877,-0.006264725006464349,0.03152265470575815,0.0039196584862537355,-0.08510844248400413,0.04372719900307621,0.010611559186113239,-0.050611140176906086,0.028083487025601577,0.06328930089531125,-0.04914780620008712,-0.08685039668632111,0.01615966025994247,-0.08777366642154556,-0.04877342726892597,0.03881814492241975,0.01240829769755165,-0.03776503438534945,0.007162600429837182,-0.043688092909639466,0.04040742132101784,-0.00597310571118894,-0.039626691694769095,0.08709137986400767,-0.07944192655963452,-0.002885044655657846,-0.031125515243100664,0.04702546485575698,-0.058249586952248814,0.07944284080945702,-0.04684752878180769,0.0724752899905944,0.037766455055813004,-0.054977313970978825,-0.060480249133457134,-0.0036090790584886842,0.06517671019215626,0.04400825762094307,0.06336420049188166,-0.0825691256000748,-0.03834407764712527,-0.04340802072719153,0.050346834028216235,0.0307692034272658,-0.04749678183914264,-0.011807272151822973,0.05458076501929362,-0.04179878137602209,0.01037431685420373,-0.05104728561325217,-0.03136713839050782,0.010382968108232535,-0.03687348257561804,-0.06968155319509776,0.04897348116675221,-0.037173704405990084,-0.032287818375536334,0.003978683346749349,-0.04284055683331047,0.006040494530147141,-0.034290630015608226,0.006472040291519477,-0.0564766010171872,0.01392363300182671,0.03577687501541065,0.06104192191878833,0.08374859398267655,-0.04394778818943464,0.04225523656329475,-0.0463785182223556,-0.028315067661938496,-0.030733702660190033,0.08121208820717866,-0.04312834563010405,0.04519441094366702,-0.07167029239980646,-0.03318662983977146,0.010712092774499863,0.0854641656760051,0.08573653334535711,-0.01941103924044708,-0.012453643216704629,0.07803015017805133,-0.08643681924651003,-0.0759017947809836,-0.04537937582740517,0.0537014907058781,0.08358830869189221,-0.06861323407066165,0.08138875718753782,-0.03341546584400622,-0.08664283578242503,0.08376860565050571,0.020543363519073515,0.08575200608822488,0.019913058823881145,0.022910736472247263,-0.002137299572611108,-0.08616496901099872,-0.04360163686962305,0.07764233787941822,-0.08774795699035731,-0.05410227872402236,-0.024436771027752595,-0.018543599694420862,-0.03245474272038971,0.08127746319784168,-0.03840150925873462,0.03615087531407857,0.06654851793847388,0.0015653615227061671,0.07512121019383013,-0.0818891741969359,0.08752006055311476,0.0013004061404382978,0.08253199786300477,0.06083980507616096,0.05813874088021508,0.008391271225682905,-0.06258021343556933,-0.04358145453515937,-0.039904999415298716,0.07367935399271434,0.0011132248715847626,0.08535761479051483,-0.07254406500803376,0.033506376598942365,-0.002293816776315467,0.04083497545604358,0.05988028040588931,0.04714635821235998,0.018467838743716495,-0.05892308292233584,-0.07065791166728466]},{"id":"chunk-7db5cddc-189","content":"This is a safety measure to make sure we don't accidentally make real requests to the LLM while testing, see ALLOW_MODEL_REQUESTS for more details. We're using Agent.override to replace the agent's model with TestModel, the nice thing about override is that we can replace the model inside agent without needing access to the agent run* methods call site. Now we call the function we want to test inside the override context manager. But default, TestModel will return a JSON string summarising the tools calls made, and what was returned. If you wanted to customise the response to something more closely aligned with the domain, you could add custom_result_text='Sunny' when defining TestModel. So far we don't actually know which tools were called and with which values, we can use capture_run_messages to inspect messages from the most recent run and assert the exchange between the agent and the model occurred as expected.","metadata":{"url":"https://ai.pydantic.dev","title":"PydanticAI","chunkIndex":189,"totalChunks":208},"embedding":[0.05113391137386824,0.01004875817999189,-0.051616240603600844,-0.06245920749830464,0.041792861025379976,0.026163316712678488,0.03750168915955303,-0.028649382213100538,0.05140168182072723,-0.02812632163065825,-0.05560389611258807,0.060583913944216215,-0.04115779300796809,0.06169762884234962,0.08261009475150655,-0.05669598127210442,0.05847034524058228,-0.060797223603296285,-0.08219907190228246,-0.0007287806202431295,-0.06255739565143782,0.017634160395843246,0.06079828990676512,-0.05271257489219251,-0.06454607933717896,-0.031625988469095825,-0.05276768355754138,-0.032863640030098944,-0.014341616553660222,-0.016464297718431085,0.04029557410022763,-0.026678044444733148,0.07002089098210902,-0.0709243758592581,0.03758293694417514,0.06133372922737534,0.0655673467155035,0.06356758385864254,0.07403466760254783,0.027892032839000703,-0.07507082623252558,0.08514086589359018,-0.06150141904349511,-0.042279127893646226,0.019793848192215777,-0.004773337644875366,0.05134049758701428,-0.08531333447183573,-0.02110974721069177,0.0013319623736905318,0.04853403401008983,-0.009593353099423113,0.07650400564315583,0.007571162803075821,-0.030046162699861365,0.04257333539089374,0.054982590365713596,-0.049509855163253125,0.0005545099814968431,-0.001349435351086689,-0.01723679432544893,-0.0447076317215125,0.003123236986492782,0.0028595851422118343,0.07313749870981369,-0.055594269874851596,0.05102153518755224,-0.008182025878502796,-0.080468994773845,0.06938274889069992,0.007555334336130841,0.06859037035127728,0.032376597761468194,-0.0635513756396931,-0.05903387617107706,0.08445186841105914,-0.06540474729934889,0.024292434678992586,-0.06426665486096421,0.07535167095691225,0.06212258565135521,0.04064633885949152,-0.058662397911926054,-0.06063279477092966,-0.044076693151010225,0.08067329583469693,0.028294566365364097,-0.06726240269997596,0.06833692232583627,-0.08057981502073626,-0.019113732145743353,0.08055779574066807,-0.07704922487489775,-0.00569373450408608,-0.058092833133479946,0.06352045509785839,0.07867410319882062,-0.07701154129743205,0.046033254197750756,0.04187212588935577,-0.010631082711686876,0.03138024635924995,-0.08255070213055614,-0.009297750114729225,-0.016540154585498876,-0.05413959986181304,0.025904791100129873,0.005829422885051942,-0.07205263034235267,0.06859235381262975,-0.033934322640946445,-0.07092671937043009,0.07568550809120032,-0.022893883729200433,0.057321092365000804,-0.01846369360259454,0.02970024778454232,0.010679713475911717,0.03594212196671957,-0.03089858943183934,-0.0842937361077395,-0.06984426082382453,-0.0007609037387911745,0.07320773092323399,0.06105048800035382,0.07789262664014586,0.07029171019736405,0.04578848306374152,0.052048970549985724,0.08157800967726545,0.05876433591474133,0.0510942931055291,0.015970478310607706,-0.05219824640078807,0.08248589927182105,-0.06984997149425029,0.05251370238005421,0.003692042701490915,0.05171134333188229,0.011341779100122306,0.05796500153679586,0.068911827598806,0.009878661879293616,0.059769476056435684,-0.07385001421298804,-0.04749131331501292,0.002067550271551713,-0.07425470170909187,0.0699587920708402,-0.08522325959937345,-0.01907113950461782,-0.0013263582519524003,0.010951631844716366,0.05147946064822612,-0.013265216977890902,-0.06342568365559056,0.05837203608102873,0.025146508082843532,-0.08195404196158886,0.05020893553285294,-0.01366927439187629,0.042775663606230176,-0.01767100351846609,-0.03804565023198834,0.004766704907268979,-0.011782831347903295,0.06400575999002937,0.06397908420758806,0.06487562435991563,-0.0024213622305948703,-0.06262454979950964,0.0006056234267699181,0.047214348608339,-0.07401781291493893,0.03489310302524186,-0.03408526646376561,0.024637170818527572,0.07429356941073831,0.01625034277168403,-0.013223199719185447,0.03187037759896363,0.027928846183350654,0.026454205347702143,-0.0026292787964369156,0.014598019009081439,-0.06067706913022829,0.04141951955977924,-0.07399107029611662,0.029366429178908894,0.04758107354676298,0.080587231931115,-0.018430089540186857,0.0802529873160971,0.03713561837721859,0.03421752487267369,-0.028111675935193422,-0.025520468668520965,0.06864026582204479,-0.04890386909769592,0.02033392796305347,0.03602082034038978,0.03292625487292058,-0.07450466093108579,-0.06650573630788498,0.08241457995995632,0.04056765589384238,-0.04879999693941384,0.054849443599980244,0.021884243872537356,0.02605939540772993,-0.03395407490487756,0.05669141899677942,0.07595990925935703,-0.0353903232269225,0.04736782076618235,-0.028440601306577266,-0.053154624811870936,-0.03385556389934,-0.03847801070913769,0.015686436784942605,0.08488183081323557,-0.04980918504473874,-0.0434133488937614,-0.08309940417647765,0.039334185446879125,0.06529045271991413,0.028714397433202105,0.01382412735813966,-0.051037304084741615,0.05656195254668095,-0.02224702920662026,-0.015697179935635724,-0.05118307524302812,-0.03515887002371464,-0.02065065986309848,-0.006667836467391875,0.023684243933204643,-0.026260328035552723,0.008897261310369107,-0.08402429627381591,-0.01485873881872352,-0.04695902885861183,0.03999203956076028,0.014854952846005038,0.005523852418726413,-0.008794705963593184,0.07279238964367625,-0.024041403861265135,-0.015974019406800304,0.011790207508303572,-0.05791846708330292,0.0681616940751628,-0.04137850132574973,0.042811246430413744,0.055612974073040874,0.06031610808765081,-0.07487683600077816,-0.027609900154277785,0.04818562654377005,-0.044832051324442956,-0.07211596551542007,0.04017963375529242,0.014725204331298132,0.024611124476944215,0.015854428636318925,0.08381439679348433,0.07806093887864006,0.07253833165228717,0.08172359108130212,-0.057493292334336595,0.0496295365534317,0.05301672325191226,0.03299536940534458,-0.08521933545542511,-0.0013440247922138944,0.06405978865524121,0.019711405440610206,0.038103090230073425,0.03899471026855603,-0.03231194575024118,0.08094031825307402,0.0707497108472106,0.07071545416541616,-0.007174160405068576,0.038314667908376863,0.051932888307951564,-0.07985658323643018,-0.07411423019617949,-0.036385444755904564,0.06208406549357487,0.010420165509921059,0.008197091730001493,0.04281482948113285,-0.03592125221608163,-0.045668041815188076,-0.006437674169412628,-0.022001318911696717,0.03776927942610185,-0.002452144818791466,0.0837673974146105,-0.04284278441144446,0.014204078790899933,-0.06946272043914423,-0.051893431243147416,-0.0039707766710124345,-0.01380795811609206,0.027672483363607454,-0.011879105394794753,-0.02055086690365716,-0.04465289888668467,0.04126129272281909,-0.05114981853861392,-0.005639996636533846,0.00027890561761644987,0.08027768641678225,-0.06401517423541689,-0.07533578919167823,0.036484193137735425,-0.05893211128190574,-0.005479370521630888,0.06302254616762686,-0.08427507341057874,-0.08518619976409463,0.08279141307667387,-0.08146279505952557,-0.011345925906832305,0.0425273719117175,0.021583498143735332,-0.04185330001685167,0.027200151750853524,-0.05620233200081666,-0.06958150234593707,0.07824750379248789,0.06487032839832622,0.07449592417507406,0.03234793226261296,-0.07502560177427456,0.07634592238588986,-0.012858166998905591,-0.0059786037762070065,0.07173882222641462,0.010398003263499333,-0.02907241989823913,-0.035479084500396385,0.002553077315860718,0.08321770564450175,0.027925711046499147,-0.05279124820337668,-0.014265034748108729,-0.014970270712063662,0.004763752739596138,0.07287965303376874,-0.03382880718115474,0.07337973784504306,0.02106890476336478,0.06930232960093392,-0.04479823390272381,0.06500825288631432,-0.0596985435248981,-0.0019964921141333368,-0.03238012289264536,-0.08401596749914311,-0.015397355292201686,-0.05248451116144645,0.07100294875683669,-0.0683592905175124,-0.05222312191924637,0.0027769930786800544,0.0598458067062403,0.07329718882807895,-0.08156593494620137,-0.0072127858250408995,0.08306959793330328,0.05500914290214493,-0.050925156380183585,0.033929842114577544,0.003084710229923047,-0.009781829221731401,-0.08425637002189,0.05071295542237287,-0.017731901093127007,0.013264444386190132,0.03953414716503125,0.06105303649776327]},{"id":"chunk-7db5cddc-190","content":"The IsNow helper allows us to use declarative asserts even with data which will contain timestamps that change over time. TestModel isn't doing anything clever to extract values from the prompt, so these values are hardcoded. Unit testing with FunctionModel The above tests are a great start, but careful readers will notice that the WeatherService.get_forecast is never called since TestModel calls weather_forecast with a date in the past. To fully exercise weather_forecast, we need to use FunctionModel to customise how the tools is called.","metadata":{"url":"https://ai.pydantic.dev","title":"PydanticAI","chunkIndex":190,"totalChunks":208},"embedding":[-0.07657490161562346,-0.0069095935364012,0.015119542222904974,0.014335931567028514,-0.017820518130566322,-0.03470669595740986,0.00775687817362058,0.08376029311098386,0.07414804080951772,0.07871603056482399,-0.07076090744554826,0.04394584837547905,-0.07786136924565999,-0.006727526413998522,0.07032558768736775,-0.0779297948002275,-0.07701049390434925,-0.08482065056964325,-0.05153568395297665,-0.036930454760896674,-0.07818914217700489,0.029438728021766718,-0.017527529828030766,-0.025574616231680017,0.05578541388837572,0.021566507812755157,0.047448914688920506,0.047138051922099265,0.029406445415090285,0.023341823363409685,-0.026004699263021916,0.007757524242680101,0.04241916536259583,0.016226871083290094,-0.018391703238417503,0.08551936521155558,-0.023868694891569443,-0.06310968144532986,0.005146154856883283,0.03751994179036648,-0.06661891481251211,0.027108571558357632,0.04505867367118,0.012931979550004852,0.03162065892256156,0.02621520419286425,-0.08109143222991855,0.009537934590159976,-0.06437946601298294,0.06221150099779983,0.0523293975240372,0.05132457950777139,0.0412709289936351,-0.04652364516549973,-0.040045283955328435,0.022898426119353776,0.07284809059009911,0.05546913218575597,0.06752652907247528,0.06763604858398349,0.004153202498853221,0.07868586834682023,-0.028335215527708926,0.06187714084683326,-0.06340755823718258,-0.015028902114232842,0.035174440396654606,0.00616745302977254,0.06119429319701482,0.06666524051666314,0.06740384051811557,0.056237130867057006,-0.07728806010619647,0.043586234400108434,0.05582042094715472,0.037126668065714276,0.06244616005489088,0.012911091917816659,-0.08521549098941797,-0.06495561333871447,-0.025282827467430227,0.06422760430708498,0.048029588998379,0.08528907617366077,-0.01378339341642267,-0.053965720478018515,-0.04070737293832058,-0.022928669139497388,-0.008677632246500264,-0.07275039153375057,0.0035203972396945066,-0.07434924407672881,-0.055314796129871835,-0.05180686357506396,0.04485036836046983,0.040845330917094365,0.08417162304196313,0.020899013718772914,0.06663969108937123,0.05223677896880652,0.05519118420442203,-0.05821280624598338,0.07126093855732263,0.017785378724609852,0.014459560993682907,-0.003203909178197589,0.017946149122395724,-0.05184347844072282,-0.08396591170817101,-0.07433441971654581,0.06484897100218535,-0.00035847262844681226,0.06238920280100087,0.01274537990030254,0.02690627486801469,-0.07603687850016273,0.04561207080696216,0.046727225738509987,0.06463531106898522,0.047037527655259696,0.0017237200129528462,-0.044093452114723077,0.017537944691753633,-0.03494054720964431,-0.029458133759673547,0.036313433265705984,-0.017646593460496147,0.024155529392510783,0.015819842615071533,0.08149070708636906,-0.08665696795376615,-0.04311659319710188,-0.02952286908931425,0.03692111381127183,-0.08422182005438097,-0.05614310489045109,0.019026502662291785,-0.022313879214517635,-0.019670379830281078,0.042615116705247064,0.02228395860793798,-0.0653844701448299,0.08379513297370601,-0.036531192401780946,0.041771059757404055,-0.006876646950897003,0.07401144297911728,-0.051302485598674084,-0.037371463908489395,0.02795284278109933,-0.08749822035787626,-0.035988624261845015,0.026266045066887803,0.024961317248532955,0.07867378860038478,-0.03576881021268672,0.06233235914611675,0.028690768271148876,-0.08368694287916277,-0.0037889406759872577,0.053037682181737864,0.042474527695216056,0.005868625336908027,0.033646601495301326,0.02573632608822746,0.013768871212147777,-0.057717927093961514,0.009760529139475543,-0.02893196522988199,0.02701601231586956,-0.025573417331416704,0.020920618203434566,0.0220169277558079,-0.08364422349078039,-0.08388793883698116,-0.04608930782700263,-0.038150407959404345,-0.004264205108838784,0.0029345657631279936,0.07040500524703615,-0.0067894556079438175,-0.020215656669213322,0.028696710492080918,0.04692266760301941,0.02531721689005916,0.04868108251022286,0.021016654538588798,-0.061892282125351326,0.02995850874180842,0.02512326936644871,0.06837070310244599,0.03672239138069149,0.032520858427893096,0.005309338882817923,0.005552464365484435,-0.07374939940664921,0.08335441681584968,-0.06873212254304666,0.08394131241794373,0.08434065289941342,0.06382178257221525,-0.06687925331001733,0.076135874521087,-0.0812344248146956,-0.04980158754998855,0.040540187641201555,0.05987204904654789,-0.007046897936957159,-0.050190976463034755,0.005049404121513228,0.041861635576053866,0.07846028225105414,-0.01635287229057107,0.0349666852420594,0.015418691579955103,0.06741079997206406,0.004805919946390802,-0.01599974652779604,-0.023568243418833245,-0.03047431156671432,-0.04190915961523011,-0.030553676065412327,0.08720752390327907,-0.038458505778594644,0.05191284894251387,-0.041507869477485096,0.009603213085592173,0.04405591904950469,-0.08700795872028493,0.017041754012831326,0.0629913590816336,-0.01752932109320595,0.016959230480309416,0.0284502393989323,0.047043734952321226,-0.0668191614538844,0.05793595713878627,-0.06300763118576531,-0.05311870107527491,0.001723051053262865,0.07850326588996014,-0.006569203161627396,-0.08701007157011434,0.019126070468883438,0.06949042046206057,0.0697243364794358,-0.028420806548689066,0.037833699043459366,-0.08248537871225184,0.05063552641413598,0.05671932060459913,-0.0791997903943308,-0.0606238046432005,-0.07650347944378277,-0.03097972679355032,0.005452280143258955,0.015517091879050269,0.058626802192182935,-0.07863732622243157,-0.019519765879230298,-0.035643198797261945,-0.05744565974232204,-0.07200517825723013,0.0049304835963485715,-0.04825928619846636,-0.051210872684899225,-0.009019484423092404,-0.026092831163129642,0.02964956853776831,-0.08234344940434905,-0.08237630514637796,0.024305054785159385,0.030374273740918032,0.01899833531594927,0.044295503762188874,-0.07232315664556477,-0.00018529218758031157,-0.00627831734955977,0.002850195935760097,-0.010170793828920398,0.047808503095984486,0.006099750496416424,0.08636523697277243,0.0070543528199114285,0.002990928210436753,0.03526689816759888,-0.07653256899017738,-0.04710873033614992,0.08180532212012384,0.08179717477925798,-0.056792327795586434,-0.00048543412399103275,-0.039517169307970515,0.08246809495840222,0.0014039423334600563,-0.012057184635035915,-0.01521474083861303,-0.061942414670373536,0.07693114782262116,-0.024792619309005864,0.07380010308512568,-0.07877823868721279,0.03342338756898195,-0.07278736428142536,0.076077864895955,-0.024563389370079652,-0.04544880195455162,0.061156375509759164,-0.06476986334775982,-0.0754462708564638,0.062002614797784995,-0.060929888493802084,-0.06402619362997229,0.03603264850289983,-0.07774258391685097,-0.022034450259722962,0.022411458893693913,0.058939236831269844,-0.025409200607710403,-0.04515526938482628,-0.024596865758668984,0.08657852232276299,-0.07127336496364821,0.03339377331118294,0.011139168387314586,0.045498491543332555,0.07344364599654989,-0.06615117242245451,0.023239187035168245,0.05583040322556129,-0.052069975405825794,0.06988553457673126,-0.07199957490418199,-0.037357782773253696,-0.01851592434079134,-0.02473431966064236,0.08474044301616886,-0.02932780840200944,0.07383761559124115,0.014849551095604816,0.07636613268109912,0.042747990641777096,0.018664465808372235,-0.0028285372015358352,-0.009566106396708768,-0.02899269374823867,-0.007564664351098328,0.07479089603187761,-0.009650153574704924,-0.08398081032209105,0.06470602193644305,-0.03600289188383478,0.07594993236705086,0.0626520782204495,-0.05207582841371583,0.03885580384853519,-0.044527377178103,-0.03298347222327041,0.01779719400489529,0.0704076518139061,0.05939946956170613,-0.03366088682405128,0.03862138262361466,0.06989100856293924,-0.05955960774561249,-0.052577623084445135,-0.007204853072761017,0.065835948190838,-0.04300819433851373,0.06302162470294208,0.08258352520678175,-0.051307875946918775,-0.04438333959991396,0.05434678864060299,-0.005894302928595563,0.029101406833673193,-0.03965840352379294,0.055571836693136506,0.07690514518264362,-0.038361714446391214,-0.05406890679324136,0.0750715841868944,-0.07141703984176359,-0.003096490056123504]},{"id":"chunk-7db5cddc-191","content":"Here's an example of using FunctionModel to test the weather_forecast tool with custom inputs test_weather_app2.pyimport re import pytest from pydantic_ai import models from pydantic_ai.messages import ( ModelMessage, ModelResponse, TextPart, ToolCallPart, ) from pydantic_ai.models.function import AgentInfo, FunctionModel from fake_database import DatabaseConn from weather_app import run_weather_forecast, weather_agent pytestmark = pytest.mark.anyio models.ALLOW_MODEL_REQUESTS = False def call_weather_forecast( # (1)! messages: list[ModelMessage], info: AgentInfo ) -> ModelResponse: if len(messages) == 1: # first call, call the weather forecast tool user_prompt = messages[0].parts[-1] m = re.search(r'\\d{4}-\\d{2}-\\d{2}', user_prompt.content) assert m is not None args = {'location': 'London', 'forecast_date': m.group()} # (2)!","metadata":{"url":"https://ai.pydantic.dev","title":"PydanticAI","chunkIndex":191,"totalChunks":208},"embedding":[0.05778573325477435,0.04589299773509572,-0.0532097217827833,-0.06988712467497199,-0.0058950183762157505,0.050712687740330525,-0.0884168189140882,-0.04117713531941751,0.05313011086050715,0.01197385212844004,0.061995590309189205,-0.05130183953812591,0.06175407056001173,0.08721126684127085,-0.06800208076961928,-0.04633827274822487,-0.041126400874245676,-0.08685095609841177,0.07270318015876645,-0.07763737435107151,-0.08092727780049479,-0.0060731141679047675,-0.08450606946559573,-0.04984302577412733,0.025987511395175505,-0.04228503666859992,0.054153873764488304,0.062125642863795454,0.060934883444975545,0.028249585495259702,0.08411961315935572,0.050819582179333564,0.033891346181750666,-0.0894169163652474,-0.0261029998389046,-0.03847714240410184,-0.07755855588670743,-0.0761442318679548,-0.014762279677731483,-0.04705224982269359,-0.01655062133433591,0.003070907715316081,-0.05354297644806485,-0.050669366819769975,0.06237396504326021,-0.04106790585355555,-0.037969093648132494,0.042123300699936965,0.009135508284079174,0.043458506433559245,0.062125239243345946,0.0343687721723024,-0.0839693932120473,-0.014828811227357517,0.01885045620050063,-0.08105461968331787,0.057846528058636174,0.0007452369854297063,-0.011668372857516134,-0.037186094051643144,0.07952000787784183,0.067788189930876,0.008521960596524563,0.04293275865463711,-0.07025777615106059,0.0650697364978151,0.007443007620971637,0.04656742225307742,0.08925185353886891,0.07146792708266002,-0.0036045932251330725,-0.008822602039498136,0.07679879270737125,0.031443144957902604,-0.05383359135712198,0.06022358334879693,-0.03972687307303955,0.025292480125826303,0.021541349593189672,0.024745423593535064,-0.02346404989717852,0.02837437606920461,0.027376374562829955,0.025375165159820457,-0.04906730683425952,-0.061592043885741424,-0.08638303005024796,-0.036845941721154296,0.05550847491061995,0.0343281446539334,-0.0006621281024164284,0.058974629597287095,-0.07182774653678563,0.013181141421759189,0.061147233675602396,-0.04524637347890417,-0.029032653645564198,-0.008617286651659914,0.02752829168679704,0.07700961003150775,-0.03201390095426431,-0.036756772579037596,0.00424695263190115,-0.07732135444340955,0.05139542165143652,-0.05387890607251353,-0.040635005525175016,0.05412750946083483,-0.013522055287886019,-0.034294777416621305,-0.07312135014308002,-0.023313679062862813,-0.04839875686645156,-0.07378111361564989,0.038955146946660184,-0.05647759811742309,0.06086815855918807,0.005888039789800099,-0.02622713419103319,0.040194939147047644,0.018952309373458584,-0.0461683257525534,-0.027202237990773762,0.03405179928380194,0.06875630921474946,0.005373260306724932,0.043970874801262896,0.018437158154727806,0.08083240737383826,-0.021761763591203236,0.010558399991290884,-0.0306261504227434,0.04657412280545998,-0.07864076511263293,0.05780054137184513,-0.02815928849335336,-0.07812971323231102,-0.04061557383718016,-0.08326005000801913,0.08778056465086045,0.04055135027984344,0.02341494227712677,0.0783627494476391,0.061074803552796604,-0.022392997482101874,-0.01539464600320163,-0.015710197384325678,0.007550173276797676,0.043846122024697246,0.08024498954009128,-0.07104417700007419,-0.03428063457142563,-0.08316547657587846,0.05201260638837736,0.02295124255272755,-0.08799197482899558,-0.027402026352554287,0.06868027457881117,0.011133875787812435,-0.08043112393908967,0.005001310383897465,-0.05762187825584212,-0.014149566046172058,-0.0020123529170559006,0.040292117247259694,0.057933388155325345,0.0007271168889366103,-0.020449295158393405,0.01535307937488635,0.03919819351552746,0.0449605678588294,-0.062189524426409605,0.010779462680662776,-0.06650874419416872,0.051226852906421684,-0.02953985125769309,0.0450126009051771,-0.013678010571053804,-0.04294891525720747,-0.04890236959984135,-0.018308367056211135,0.061030131389744134,-0.0043406639208687404,0.08405802485491998,-0.052779502562576325,0.07395393245169213,-0.017551560180602017,0.047337856091018544,-0.08628319674942936,0.07471328555983717,-0.06715122582452614,0.0330071434372563,0.04692992756691726,-0.07329040494524652,-0.07881933620844735,-0.033205957186776054,0.08608369721794863,-0.03712746419153419,-0.07237224422582736,0.024137627144002697,-0.02586668846343159,-0.03004917723513124,-0.07857592169791246,-0.0804509373523686,0.08023874018783,0.011057335909028737,-0.019234004424718527,-0.059024977165439564,0.03389330697575069,-0.017965102297790886,-0.08031013216770509,0.03065287166940446,-0.008701147671597808,-0.04421833842548051,0.040289690833465786,-0.03169157999432463,-0.08391122813960121,-0.02636912718010548,0.028979885738245222,-0.03094674216323941,0.060319474751925506,0.05755504306182639,0.05439287598388508,-0.012237534442648135,-0.08009205246927974,-0.040589994808860816,-0.05236815552279385,-0.047311037277980646,0.05108503107646227,-0.043714441769125575,0.08877200687349981,0.03288151066368597,-0.037977498966688575,0.06414513214078321,0.03343579431759037,-0.006239706715962982,0.050701324616158554,0.017903050506716457,-0.05991280699051192,0.0671833843147559,-0.03704392071280412,0.05412396568285793,-0.01004916767838,-0.05305268305303081,-0.04244481116128096,-0.002385077571728423,-0.04249271840889026,-0.05648084826558633,-0.08032237492804892,0.023576539210347847,-0.04293963690333465,0.05592940465090655,0.009309143906402698,0.08753321244075794,0.08175811024962168,-0.0017719093230452892,-0.007556441071512683,-0.06023071028482327,0.0399042547478719,-0.06396692840118369,-0.028085582917482695,0.08881232890425284,-0.06269286010002616,-0.03203718810532687,-0.07724080756240821,-0.03671730219920893,-0.010173217348086499,0.07277812172650906,0.08673122407339262,0.013119923697237823,-0.03967406022600767,0.061267998427156606,-0.005047031221833497,0.02142590081349522,0.029241024314756378,0.014957287383290517,-0.050199543089670444,-0.03726361489885675,-0.06844326588732265,0.06365410054155578,0.04521458403118432,-0.010048537675567728,-0.010116723117759626,-0.08181973712223317,-0.08754075152653233,-0.035691108769134984,0.02106766607993411,0.03155285841934773,-0.07561423431426265,-0.01851632194211441,-0.05159462261610291,-0.008640736255294887,0.05273056102342005,-0.029057612897049466,-0.08655126385064531,-0.008108254265921072,-0.02395759152063547,0.018528067257278895,-0.05753850473678467,0.0517363588146133,0.014797784767320282,-0.003327883550665921,0.053748927641665896,0.02550166105636763,-0.005313086604935172,-0.08939668144225325,-0.050885603521343026,-0.029833101570151923,0.000490153186648507,0.06945861575106577,-0.05897427888656682,0.017734152392520554,-0.06393970905222744,0.04308577560941676,0.042221410158247964,0.0601864962823469,-0.040696222031667735,0.0824315232160152,-0.026338912994996463,-0.009013655215782375,0.06302239817853919,-0.040423165139405796,-0.010315761253469303,0.05782244223559577,0.020526878010989565,0.016976687906509854,0.07493565303532229,0.06750959819815666,-0.059098375519104074,0.04892937553093927,0.011361061617546218,-0.08794019725249914,0.05560296835455895,-0.06927988220161907,0.08160608001385095,0.06277348700053594,-0.06697395995466864,0.02352015192864252,0.028103119277255808,-0.06413867861145718,-0.05645758178016511,-0.043204806917560505,0.0328914714172075,0.002102896844470498,0.05453402038838342,-0.04713513349400496,-0.08751809698542588,0.06251686873277985,-0.02003940244770126,-0.03303881263889992,0.058161544296512956,-0.02118887584510028,-0.05541240484282732,0.02478939783689779,0.08548911559832492,-0.007284334321405826,-0.002414435856346486,0.049691457327092695,0.022606710000147814,-0.041678151310401,-0.05484005962392377,-0.047752083560801066,-0.08738927957043842,-0.04143971201410951,-0.05005675340176148,0.0644434671698092,0.03228239714120726,-0.02946361013606108,-0.0332986039949818,-0.0853121226216696,0.020486546958529125,-0.01277690491401483,0.054454521065250214,-0.05380761147117472,-0.04882956702042766,-0.06017809374944026,-0.005488102482393842,0.03383632191624342,0.006650279546902658,-0.02199204461249948,-0.08948671234279192,-0.006809527939424566,-0.058475390484175126,0.07494726535512988]},{"id":"chunk-7db5cddc-192","content":"return ModelResponse(parts=[ToolCallPart('weather_forecast', args)]) else: # second call, return the forecast msg = messages[-1].parts[0] assert msg.part_kind == 'tool-return' return ModelResponse(parts=[TextPart(f'The forecast is: {msg.content}')]) async def test_forecast_future(): conn = DatabaseConn() user_id = 1 with weather_agent.override(model=FunctionModel(call_weather_forecast)): # (3)! prompt = 'What will the weather be like in London on 2032-01-01?' await run_weather_forecast([(prompt, user_id)], conn) forecast = await conn.get_forecast(user_id) assert forecast == 'The forecast is: Rainy with a chance of sun' We define a function call_weather_forecast that will be called by FunctionModel in place of the LLM, this function has access to the list of ModelMessages that make up the run, and AgentInfo which contains information about the agent and the function tools and return tools.","metadata":{"url":"https://ai.pydantic.dev","title":"PydanticAI","chunkIndex":192,"totalChunks":208},"embedding":[0.0005047088442703096,0.08466764413990709,-0.016840139937650322,-0.00556937072531021,0.01655931377613077,-0.0366468838400724,0.0717269670709436,-0.08422629900810782,-0.08178617207995499,-0.08603294971997195,-0.08268976554246654,-0.07214686002548655,0.0748781901605921,-0.0014907357990685199,-0.04149146066528086,-0.05533692627211315,0.038618806533495795,-0.024290552695666105,0.045168260308215476,-0.06540158979066917,0.06497568322030471,-0.059012964020126145,0.028853381081260007,-0.003857138040152818,-0.08139635215224529,-0.05946959284459953,-0.013337013988406613,-0.08314564094155771,0.06548707229137428,0.03815013934613245,0.055325953716170016,-0.02752067478027804,-0.049570437925482644,-0.048340461056496094,-0.03897395193574526,0.03017266135267385,0.05827703137777602,-0.06411412718347459,-0.04563579277673498,0.03939852709531228,0.01765819391428743,-0.015023240551595513,-0.05676937956795221,-0.021781838169789555,0.00319995993479593,-0.07206139242495618,-0.048750359315321776,0.07285229056206216,0.024304648976388222,-0.0745879875608543,0.013871898968148796,-0.025061813229367024,0.06343057706078196,-0.07071817443019764,0.0606980579474479,-0.08090750617884479,0.040480051306669214,0.04516362632452084,-0.013955173135053591,-0.026678127099626994,-0.03561688507439656,0.07423699451768423,-0.03923702693905292,-0.002607849800355112,0.07361383865541152,0.055444466749751876,0.07490755056468242,-0.03036370741550849,0.06216012830432166,-0.03403783637598281,-0.048273716838308896,-0.0061830082105343125,0.03432708257240282,0.04380169535094416,0.06916477606290967,0.03645510347596057,0.050414444279592296,-0.05590835309396807,-0.07945035403050223,-0.05329334808828139,0.07972124331001149,-0.01691751980489081,0.033819512770655334,0.029029181902113885,0.019849962839936487,-0.054787836817730196,0.055576176602079565,-0.04241765032902947,0.0820346279029326,-0.032190576697571284,0.0417619171122451,-0.057524062201701365,0.0840546970463537,-0.019792608719519388,-0.037430794384269626,0.07905039729465697,0.06452281167938302,-0.04218029178146783,0.059637601770343225,-0.05895508406680996,-0.01630877746121487,-0.004744945711723794,-0.08225934203734664,0.02274755576283555,0.05008305314962049,-0.0058064965052597416,0.04023156068370062,0.015784487774546583,0.014886234308736595,-0.01686572043457578,0.04204470802893489,-0.08598442690297065,0.08091467185412854,0.030134996935273186,0.041800920405369944,-0.01901648011638722,-0.00496588486570518,-0.0001428581728143132,0.05142758581924681,-0.08412184635411749,-0.04522277874574434,0.08194439793292436,0.07446429696554407,-0.04435054340155939,0.020516587233927068,0.009094004421104146,-0.04288145938839494,0.029474995696275243,0.03151165047363222,-0.05347997112932415,0.058346430561529744,-0.05027543729685027,0.07034014387230877,0.041564469996967585,-0.08509732630861176,-0.05662200716094359,0.014031714458044646,-0.05036611467201529,-0.07898005642769997,0.06515864830490466,-0.07165400786492256,-0.0023176394831616485,0.07748011713168548,-0.014015999013373097,0.07732739152088006,0.029370588115766656,-0.06570319709065349,-0.07852369041658872,-0.05638194148801424,0.07110507600956958,-0.0630723342219831,-0.003536486354077894,0.07040834519790327,0.07199617325750403,-0.0753930311692078,-0.007998739429993216,-0.02978111088031641,-0.03469472098200459,-0.07810252063951789,0.05639217786292121,-0.055672460865488514,0.06924930753086905,-0.004681878434395496,-0.042754232316812205,0.01697113731603033,0.02837798907536913,0.07761182908943252,0.048630954701916314,0.044518380024060396,0.013210518859291141,0.07641301601775108,0.04969695663623486,0.05469094476932027,-0.017847890599054644,-0.057798492593674894,-0.04869966385418838,-0.026157661319960897,-0.013522492398429876,-0.08023765935670002,0.07096964366518196,-0.023039228295775874,0.00023697384900377207,0.06484212498247356,-0.05739370001022496,0.006152776535310207,0.04680594767466743,-0.0669991794202325,0.0462841054311673,-0.022401156026211736,-0.01633722657056272,0.04407539148552707,0.014649808792477518,-0.0181819024187341,-0.048475663960033936,-0.006597569733639138,-0.05376289737894666,0.07724371436069212,-0.019220883470578813,0.0613171326368063,0.0218098967415316,0.07008905170710061,-0.051606097539908954,-0.05392938136437674,0.053429453201161166,0.05102641651256957,0.07035937535527292,0.0664181765328779,-0.009553774433959132,0.0737337484862707,-0.03677515111203395,-0.07081848451073583,0.04494264249295723,-0.028852299606750176,-0.005109093515190541,0.05492293458096141,-0.07366219136804182,-0.08098808788135428,0.045241435648741994,0.042354926287108324,-0.040875803003810135,-0.029340351498613575,-0.015675181686168892,0.060765976267786306,-0.024001717561704095,-0.03670145136943575,-0.04581748323137285,0.053037408434228765,0.06528689298556578,-0.03995747466093909,-0.06929627945626084,-0.03830797574215131,-0.05783532681314632,0.029916684362961948,0.03887928190199432,0.08309729242558768,-0.04179142938649406,-0.015360373434424757,-0.028902258953744552,0.03559866285356393,0.04428884418111448,0.04467522376712336,0.05710483710959852,-0.07052594937864529,-0.006068814748041144,0.031659118099567576,-0.015789372882775717,-0.04839036371403161,-0.02239749043938139,-0.03298167647714717,-0.006205992028345288,0.08591549868756282,0.017790378859554097,-0.03814170443883639,0.06621307160979643,-0.027289671508885376,-0.06394359046011987,-0.03557374730317754,-0.04623697053836684,0.07274058617916244,0.012751518176811402,-0.02929333628261958,-0.043453595579472655,0.00502813140086744,-0.029829337696272062,0.06678515021496216,0.04460803159783128,-0.002328119790141243,-0.0019026258821263377,-0.03650561080510649,-0.02170924169342793,0.06153838083399658,-0.07416523867610794,-0.031234323490639503,-0.008501029760548177,-0.017782420473106478,0.010724849253546252,0.06308610709478274,0.03132799456994243,0.05955564703721781,-0.07530173970782386,-0.05579971266191291,-0.051238086760408245,0.06188365902910492,-0.04685638405097558,-0.018055878822399427,-0.04059766386702333,0.03979318739452681,0.07113097200629716,0.022988545177137124,0.07771063686304241,-0.0519322659742137,0.006537460945288108,0.03306692608302593,0.0023882915390888585,0.04738003684341378,0.041752862486601164,0.03496505973283497,0.00018988404441182662,0.03479292621189546,0.05788527531998252,0.016204755921358827,0.06188190981059584,-0.03446222037255946,-0.02680594361201757,0.03906643351950262,0.0534852231637163,-0.006740156991564554,-0.018424812697409365,-0.07617338077220273,0.004551146538213535,0.07911863821122203,-0.040018461731151145,-0.032006705522466254,0.06726383895278312,-0.07808291436558899,0.05046078848647349,0.038689454725955974,0.05437739372752841,-0.014552021929993997,0.07239741978009817,0.07833831949951321,-0.030351490443673274,-0.01844476243481456,-0.0857626552236424,0.024781377631499305,0.04803671925319393,0.07079164868457666,0.024471825494638416,0.07050518814270906,0.03497147756653346,0.04156981517886404,0.07168002772841933,0.04003134779685493,0.06173492267539255,-0.05499904062739472,-0.02679650270108433,0.07300670739993009,-0.08556550344063489,-0.055492108318426596,0.06497131922191061,-0.04230793882920119,-0.05533227770295999,-0.05814379575982834,0.057237700997713546,-0.0538345024701082,-0.025302463150898433,0.08585367783118064,-0.011372901683708447,-0.04678471514494712,-0.015668314000632646,-0.0021233095726585992,-0.009364936887814878,0.06481105868462998,0.04587175246816943,-0.03544068217645282,0.028738444773787612,-0.032761082947218294,0.04368745572416971,-0.017325857215829313,-0.06814731846250428,0.0037958760069126676,-0.05563791294954141,-0.0377948511241096,-0.05227470523289686,0.07707209194564381,0.03480943457139902,0.029368011340982395,-0.07322488036243444,0.046056158675792234,-0.08426231169596418,0.06102425545739885,-0.07897734407401455,-0.02500839827864341,-0.0580823965445838,-0.07151259845625038,-0.013868791796928365,0.07889543078265468,-0.05847518722820259,-0.048034789052839366,0.05494350257069557,0.08277644868602262,0.06497535947742648,-0.05661864466974256,-0.08201249094929274]},{"id":"chunk-7db5cddc-193","content":"Our function is slightly intelligent in that it tries to extract a date from the prompt, but just hard codes the location. We use FunctionModel to replace the agent's model with our custom function. Overriding model via pytest fixtures If you're writing lots of tests that all require model to be overridden, you can use pytest fixtures to override the model with TestModel or FunctionModel in a reusable way. Here's an example of a fixture that overrides the model with TestModel: tests.pyimport pytest from weather_app import weather_agent from pydantic_ai.models.test import TestModel @pytest.fixture def override_weather_agent(): with weather_agent.override(model=TestModel()): yield async def test_forecast(override_weather_agent: None): ... # test code here Evals \"Evals\" refers to evaluating a models performance for a specific application.","metadata":{"url":"https://ai.pydantic.dev","title":"PydanticAI","chunkIndex":193,"totalChunks":208},"embedding":[0.005917034902898913,-0.0550116997474304,-0.017863973517327252,-0.0442056770242016,-0.06837205221598512,0.053746472986775734,-0.042430586151968215,-0.07372553937451116,-0.03844283719522721,-0.0860301722006805,-0.07606258791736784,-0.0815289432892779,0.029628090341826417,-0.050195662030517535,-0.07461289748713346,0.04490617632152357,0.020655000463452648,-0.018808123301292626,0.00200000354481064,-0.06661488378955482,0.039262407396620506,-0.031372218020846526,-0.02735303401475116,-0.01053476119690833,0.06025070757248111,-0.03061584916424033,-0.043123925454852406,0.001071424084822551,-0.08523093240985262,0.08365680440631118,0.07070213940363841,0.030487012189701634,-0.03231226408764597,-0.01309726231892042,0.0765385406010215,0.07511664193264155,-0.00505815307955934,-0.07501446973573421,0.0799820283966693,0.0328257105439666,0.009945528540460135,-0.05759193934769872,0.03684822982166533,-0.03795122746497145,-0.07582224769082374,0.035786959252177244,-0.0076490283250379215,0.07569042164301053,0.027486794459694857,0.009163143099093819,0.05102998557814292,0.02574170667453437,0.01516319609088974,0.03337239997071186,0.03154905881438591,-0.018527872233071136,-0.0373087606058209,-0.0032756823493270246,0.04389419075633868,-0.021846380794898264,0.0823040800763409,-0.008969064835911493,-0.0851202918806786,0.07559873064314387,0.022115552904858945,0.014064477762310002,-0.04288095853994471,-0.020986446564438578,0.033601548091803705,0.08283516014615337,-0.05699802969029575,-0.08517996444315161,-0.028845980946849023,-0.08234352675579158,-0.04587854039639646,0.06833366697148453,0.07905567674282643,0.0032827918675094716,0.02419471279781958,0.006525718324156406,-0.04162158331042991,0.0741191284808024,0.011491324914165778,-0.05286818053708782,0.049776963467018966,0.011554150960981925,-0.043530649237352115,-0.06868141606695946,0.03920403107810669,-0.03363561618026391,0.03371401398593123,0.0719328615647693,-0.04142316988159439,0.05503107139801168,0.019871250541165085,-0.0859872042774221,0.020846190065575004,0.008570900072749032,0.04517545833778231,0.059277781745189016,-0.03602036013267877,-0.08404119713251576,-0.0020436102223764913,-0.08293615396042142,-0.01693568999552328,-0.019883187982814316,-0.07553561774751055,-0.030145502957851792,0.027449499271076358,0.028137506879815005,0.08574332489054327,-0.04482765621052649,-0.02074036332270449,-0.020773953369171712,-0.07721082008837009,0.08053705272316838,-0.025297091476565586,-0.0393487536428258,0.06054072014868016,0.08248278627488861,-0.05818398889654055,0.0030771847003363854,0.07160771161044852,0.06231814296195904,-0.08529051678673336,0.04943324250705986,-0.06503787747413443,0.054409571161627,-0.011360726149355644,-0.02085437148088137,0.02608604865021963,-0.06413440896159021,0.014516835692107447,0.0839004539142531,-0.07340089963313641,-0.06478527751690905,0.06715314093119552,0.024602602844980587,0.04631367262389892,-0.05917564235288172,-0.026212035673194703,0.0026805524902880546,-0.04070757809489417,-0.017196669576030214,0.042909219506776695,0.05945351086264728,-0.04205279468991466,0.02525050495701291,0.0608168165880984,-0.05057296918425409,0.0393014842173811,-0.030216417170919236,0.05564139286272093,0.0029955161643558325,0.004286193318681496,-0.08378265784058006,0.07690921057872996,0.013215528708239764,0.07196071523893464,-0.025840712739681006,-0.08410994136296301,0.03566628487991621,0.04947893607809839,0.08250861806173104,0.07948183453088385,-0.017393965033306858,0.03666021304236905,0.06329627566120687,0.03901600695587942,0.032713372969043183,0.030518546376928662,0.00822485839181702,-0.00936682553089804,0.009653022814188344,0.07271978850244434,-0.01641057133142317,0.03163108294858382,0.04466368989548032,0.009322759874304693,0.0016430198351548146,0.004887123032722915,-0.07605163985648235,-0.032812603642878586,-0.0622970297818876,0.04171065019154456,0.0061245211052756415,-0.05879868692574736,-0.07150706385733956,0.0362395574281738,-0.08440090761864272,-0.0786101994562622,-0.05178420644161834,-0.037194925906479076,0.0727937970826111,-0.07735854645822378,0.08355765423654155,-0.06578726785560399,-0.06930879193756966,0.04932439596757693,0.03327750185909187,-0.011709176139289752,0.021360801552166464,0.04801987014090777,-0.06507697637351435,-0.04210453080465315,-0.034120934107112234,-0.07402755919525955,0.07798983628787713,-0.0206908293604791,-0.0619665382188173,0.0825788547544934,0.003074021857901576,-0.011515627055271753,0.03311050685368099,-0.03988172611991844,-0.019966398779546028,0.047099344828990565,-0.07773688788023908,-0.07643841165918641,0.08248443446484899,-0.07337779520149117,0.022813676850369658,-0.07065662370819538,-0.08337519612463348,-0.058329652492419684,-0.06804465868949677,-0.035326199022287605,0.08139450928027844,0.046819844100786386,0.009323044586418597,-0.01434153294500542,0.07294616595158174,-0.046556807856141136,0.008776585473619189,0.058330040472831926,0.022156257222921003,0.027126291409449544,0.006159102852355511,-0.07144818674891451,-0.02611368454944799,0.00857383890736618,-0.024130034745569028,0.0394448720816048,-0.04040905108417472,0.06600205689353396,0.012859176692152781,0.02636612372588201,-0.04343699655018763,-0.08145060600113645,-0.08000705315430465,0.04057330781323478,0.07850653911246892,-0.00815721950455426,0.03805492075831866,0.027192664208152827,0.04807883390096781,-0.06147760661768791,0.05982438382310309,0.07635317616336755,-0.031562403741317205,-0.023378857152660103,0.05431214075809891,-0.07596954008467291,0.06795100952967824,0.05355407299722748,0.019656066540573572,0.024752507478723238,0.016359121874520387,0.047557033935567754,0.054952708282493684,0.048244122558626645,0.03043220612559379,-0.016135389308892946,0.0026964385206750484,-0.08512316601913748,0.07485836298691861,-0.023297346966894127,-0.0001920407345698812,0.020592783009693843,0.06516272609618817,0.07393075340147431,-0.0763088807515198,0.06579764047536399,-0.005868619659353135,-0.06677909217753152,-0.04228603173804417,-0.03400797790687209,0.03930835607279706,-0.027993820535594693,-0.0031409343405741892,0.009549753748467029,0.03268665710047415,-0.038920150853815935,0.0668661455388851,0.05323092295099799,-0.07904888741391064,-0.050574530952442395,-0.06684608167504957,0.03368056734912885,0.01949527019034573,0.06470005249397333,-0.05058552089999169,0.0409579829714961,-0.028128911091589052,-0.056914256934379126,0.052485398926576964,0.07434272368049981,-0.051834647602936025,0.07567333678216268,0.03632830230951635,-0.05721190557957398,-0.053649179748380155,-0.025293527037808225,-0.04597633060790105,0.0546564858872949,-0.038747771971382204,0.020139128343249,-0.02333190247931167,0.06927211374864811,-0.06154995787705446,-0.05715091788822017,0.06744324539193734,-0.022100438193703817,0.06796774173014078,-0.07651753192102778,-0.0002746701812159271,-0.002161180372988969,-0.020498569850832468,0.053225120257242006,0.040689280078331544,-0.006929579861662068,-0.07399574698392139,0.059118924546289336,-0.0175428869667498,-0.00004282853160559835,-0.015910027062241792,0.0760571748203775,0.057454537503729565,-0.03059287883668424,-0.039730234792629264,0.02962717951942627,-0.035593751029392544,-0.08017016829746233,0.08401145229598356,0.02469020055627434,0.056541642353182965,0.033610993979983655,-0.011398735954484792,-0.06237150813224125,0.08162265024627513,0.029511941005423686,0.07676303082717734,0.0015235263028488234,0.07379926262648782,0.021325849659136403,0.04290247612569801,0.06618673838925128,-0.01887973921841927,-0.006674787052296763,0.050134100823617474,-0.02257402329359157,-0.07833250363274807,-0.07402476327815895,0.013465567337130458,0.03410378778156625,0.0449279673011673,-0.07287502098893124,0.021262327269091875,-0.08578022187723632,0.06339174550479315,0.07894407900496074,-0.06220612427448523,0.022743666036475922,0.04380388589568846,-0.06051089885579764,-0.03583357096981784,-0.010482916953287251,-0.021304654289658453,-0.0001898262071333332,-0.02318205787606075,0.08139699038132127,0.06092961114671708,-0.03261165922784902,0.03334272316690855]},{"id":"chunk-7db5cddc-194","content":"Warning Unlike unit tests, evals are an emerging art/science; anyone who claims to know for sure exactly how your evals should be defined can safely be ignored. Evals are generally more like benchmarks than unit tests, they never \"pass\" although they do \"fail\"; you care mostly about how they change over time. Since evals need to be run against the real model, then can be slow and expensive to run, you generally won't want to run them in CI for every commit. Measuring performance The hardest part of evals is measuring how well the model has performed. In some cases (e.g. an agent to generate SQL) there are simple, easy to run tests that can be used to measure performance (e.g. is the SQL valid? Does it return the right results? Does it return just the right results?). In other cases (e.g.","metadata":{"url":"https://ai.pydantic.dev","title":"PydanticAI","chunkIndex":194,"totalChunks":208},"embedding":[0.006607383147371428,0.023798489901698465,-0.035504018547070075,-0.08311265932918188,-0.0708879554141999,-0.07227343162471309,0.0062660331682191815,0.03947045903157056,-0.006782777382538527,0.02485415168650629,-0.0799105494227458,0.005654722931584988,0.00031095668712467176,0.06611250873860579,-0.07379368382485357,0.08246559808747007,-0.03356460901383462,-0.0027831498517827216,0.08433233123790747,-0.08606515382463893,0.020428483283559774,0.027620528053589964,0.041985963599525375,0.024870335849651724,0.055737211520697216,-0.07048887293340858,-0.013977912423693393,-0.028168555662416116,-0.02950033375190439,-0.045742006051011516,-0.030724581330885153,0.06680774617652398,-0.055992993427785666,0.06821127606419634,-0.008787580678244616,-0.059195600556826974,0.04148368558782366,-0.0040793952830725936,0.054932781786402374,-0.06611447642387462,0.0058754134168593885,-0.008612423012738232,0.022661915024201795,-0.04432652666934309,-0.036000281128538814,-0.08286471684421849,0.033555369036910296,0.003405934917529639,-0.0468928573068482,0.03166916558694559,-0.08046606829332166,0.005017636885218266,-0.02353340184061625,-0.022413862974665633,0.08232030113177599,-0.03413768389111778,0.055258543303916545,-0.028643917011806866,0.039568669869277096,0.0592870178643624,0.01931879203207757,-0.06943662429854593,-0.05022718465052702,-0.005113054067074413,-0.05456708599053284,0.007340346698611556,-0.02515076871177917,-0.025202838948270974,-0.05890796043316973,-0.06357117022203942,0.08050071570268019,0.06261797009120185,-0.02499881096017598,0.08156678362963508,-0.005584832209774124,0.016245244336562235,0.001995129792108858,0.0673600050047969,0.03453007044276874,0.022248207163121203,0.003692334235867756,-0.07414773990320052,-0.014142513631877882,0.0622490113683629,0.04912890793719465,-0.047678451601073375,0.07408362235371901,0.08277560033459175,-0.0321191920544698,-0.04782566250963312,0.021028203569831417,0.07636113065148832,0.08615175016649586,-0.08134951746330417,-0.002190792651446668,-0.03868975689876425,-0.05514977120812064,-0.04841154697195125,-0.02384274020026699,0.005255610089577103,-0.08645741850844849,0.07936478976398939,0.004037759745805106,0.04889239061291774,-0.0713345987714077,0.08650313785857547,-0.0029764229583190203,-0.006448669563689206,-0.08000908746702501,-0.05128634626333508,0.03302318194296496,-0.0476204894454166,0.07938495325033075,-0.04132447380528749,0.07066825293675578,0.02535645626540124,-0.01243587207113088,0.03939036209713387,0.030608792239802483,-0.05514896991679003,-0.015701094119634162,-0.008484283953877349,-0.07360802151362443,0.07118076140365608,-0.06387737370096906,0.016258704486471078,0.0638108415409974,-0.027284120013333576,0.08633749334165454,-0.007442431137202768,0.07114210950630058,0.07183053185352521,0.02305297033835666,-0.035615710372219465,-0.06745926833201756,-0.04200004231266692,-0.02960322392801538,-0.0696440147719703,0.0691778860639749,-0.08252222346174592,0.08014746711466504,-0.05405870894420179,-0.05862685322056128,-0.058711383825618434,-0.07691970666637649,0.04965561716068383,0.0027588061294654908,0.053086299918156284,0.03582616184949507,-0.0668929987337124,0.04877638656667759,-0.0840671614624702,-0.046282475593961876,0.03030771363206695,0.03744942222815786,-0.052037248445520067,-0.05748665783311765,-0.0000985175972348036,-0.03397431820708345,0.04084548304812582,0.005837363430071971,-0.007246399892210101,0.07031213137598821,0.027812059382218677,0.07373045224554688,0.023181235360155022,0.015523627397372706,0.07967180988959258,0.004025732906612602,-0.0829446302435976,-0.052499530358712874,0.02301241334285997,-0.05363573586363258,-0.06815801757716132,0.004231225832555897,-0.08147056759956524,-0.03971583155231662,-0.036577028712080364,-0.05223871157057952,-0.007042819219261655,-0.05530990930982514,0.0602317286758423,-0.038108084852342426,0.05688640164132561,0.04148464999554397,-0.04044529194831076,-0.030700253794811408,-0.06013359586793405,0.08359576168098434,0.06438941956854896,0.044629668983558274,0.07350500065155195,-0.014692723010942219,-0.01641957003648818,-0.07211463977020012,-0.05764857314794461,0.05620925276040883,0.08217259531035016,-0.016895313754108646,-0.04811338992040619,0.047607657864478015,0.0639147736319676,-0.04971426261444813,-0.05860615326142575,0.027304229631893995,-0.06755386017918057,-0.06809294479972726,-0.08206086376260051,-0.06936863667164556,-0.0035929697378331554,-0.04624865408872871,0.03969460273631512,0.02435546012533448,-0.02494555751240618,-0.0075223794556918775,0.04827495289511288,-0.01954437975672958,-0.06184690580424072,0.03794690832920459,-0.032918668813624465,-0.041147421888218697,-0.04104765816097055,0.07203449661939625,0.0031642238194928437,-0.0005127367779720203,-0.0465135892010616,0.026914522705172837,0.04040790728964432,0.010424995713249256,-0.00883103189239873,0.05119460411939255,-0.007198426194781923,0.04662001661957852,-0.04254178650666785,-0.035701940525327706,-0.06256613455199303,-0.05595327084708539,0.05444600706428099,-0.020085988537705362,0.07907616473915105,0.06285901017808274,-0.06579607260952194,0.0390024097415747,-0.04551180164718251,0.041030662752519924,-0.019501949879180837,0.0330058391705639,0.08172872939035286,0.049283302877386345,0.02338936266841458,-0.04356804229574556,-0.03505917023744498,0.08632630840787829,-0.08066524846014562,-0.08472346685541124,-0.05687159210553606,-0.011682850912773324,0.014691065046265037,0.031860634066542715,0.057775140434950134,0.01714811922116896,0.0051569922616578594,-0.01145593649683534,0.03930422048547812,0.023998869313052063,-0.03936453959323664,-0.03780244899309584,-0.015421449195497339,-0.048963406399959185,-0.047814368890175284,-0.08135488213754229,0.05150905694449529,-0.005761872183895209,0.03935493724697341,0.004061727454974795,-0.0821831790999433,-0.013598727900837545,0.0853928510437459,-0.05529510486443012,-0.005464912151790749,0.07887042816651606,-0.037725489224792394,0.02804388395958221,-0.015858771067527123,-0.016782800430299834,-0.06131225743208638,0.025648227597862932,-0.053894957026329425,-0.08234663212081246,-0.07204658309316794,0.04958509581574074,-0.05446262128903022,0.06892924207600387,0.08209316923114682,-0.03750819189565162,-0.003851232419273123,0.0271178322873551,-0.02580531799872888,0.07412953027321824,-0.0440569032023844,0.06137043208275384,0.03475193194159826,0.07306081516023712,0.06073497176346995,0.058995787309219075,-0.04779046739918441,0.020667727273558888,-0.042827568590026,-0.013075436157798223,-0.021866542361424424,-0.028329167115286043,-0.06699710803984651,-0.036071766290858884,0.05016162004064805,-0.011625249249374707,-0.07466152478065653,0.00007983770178556448,-0.07166750946250393,-0.006799531569433951,0.05527563690726608,0.07735878294061585,-0.06609586540604039,-0.005464567269769528,0.07175503098537764,0.033948394203348733,0.04623393455713107,0.06980354089574471,0.012436142946449066,0.0009887212436769579,-0.0747929959669966,-0.06241223911894739,-0.08292188702962096,0.02085664026726176,0.08473706116478642,0.009625384137472265,0.06146760290158314,0.08323368038329043,-0.07497702227387751,-0.05701142572480067,0.013245324473873353,-0.06389601020796447,-0.005242907960962215,0.08162354581615992,0.0698376364120545,0.06068584375889448,0.034193629303918116,-0.050583970164588064,0.0663239066772491,-0.06579476246202808,-0.05309551353929572,-0.04937210930255593,0.06536396069139645,0.02733647043879404,0.021102508072472194,-0.06881795974872937,0.01826859983501784,0.02855107106360822,0.06719721256617296,0.06501090998131487,0.019633927569578203,0.03498984211355708,0.004699175908472937,0.009662185976639233,0.04891053108837097,-0.02846335175830699,0.03388267747482889,-0.051783453555242075,-0.004130003784802032,-0.024110658021055737,-0.05118191624242489,-0.07129474207417226,-0.003570553145630461,-0.04851613364866283,0.0715506293438847,-0.056591673848706565,0.03193688752475416,-0.002559479941099698,-0.06727025024258482,-0.07725370071308044,-0.0870586305272692,-0.08515587277925658,0.06533081793831813,0.06512344714884039,0.018081054403600406]},{"id":"chunk-7db5cddc-195","content":"an agent that gives advice on quitting smoking) it can be very hard or impossible to make quantitative measures of performance — in the smoking case you'd really need to run a double-blind trial over months, then wait 40 years and observe health outcomes to know if changes to your prompt were an improvement.","metadata":{"url":"https://ai.pydantic.dev","title":"PydanticAI","chunkIndex":195,"totalChunks":208},"embedding":[0.06459907488686364,0.08379496806136566,0.005438187179280366,0.06532423524826791,0.029186123646334355,0.028327339666800237,-0.027682364276323024,0.010445991249087459,-0.03599016023442305,-0.05651119397114831,0.04736533076597882,-0.06815071636039123,0.06843095371257575,0.009483976511220465,-0.03939872313089282,-0.0061681356965414364,-0.05362005336131201,0.08384898778776496,-0.06444208297613538,0.045668423827924784,0.0471604507004939,0.04628894208902614,0.06337983269141721,-0.058904333364464725,-0.009641812534805323,-0.07485074287308109,0.04921706922712571,0.02566732622661136,-0.018031198144589894,-0.07092967748148155,0.014131725362145868,-0.05083915296779656,0.039420601812937495,-0.06559196252772666,0.01434482792256916,0.012869232054594835,-0.035591038770145265,-0.011842348839708064,-0.03550763052090013,0.001528476681242461,-0.0633880015828965,0.05950244162107997,0.08726264396839019,-0.00000939552061863622,0.05614042378538087,-0.025878988007508544,0.052869225739908064,-0.003338323890448699,-0.08580827148780144,0.053235812150700654,-0.01007888253062755,-0.06710269622757806,0.05681052891060512,0.04434658260527178,0.05293373009326263,-0.034263456848182584,0.026488668709337658,-0.019294851541950254,0.0041829486158370555,0.07457286735514601,-0.08604133743507986,0.006115042157371372,-0.024451256471670995,0.06442914841332169,0.051775227750919584,-0.00818125214981062,-0.07087525502399698,-0.003972521944461888,0.04064218727104677,-0.007320437144664802,0.07942882125170861,0.08589622468123732,-0.06278566080855286,0.05360788301729499,-0.0007415899766541761,0.0753004231305147,0.02559758216399722,0.015846709832606068,-0.014769992613086766,0.011003211447103211,-0.04123056976679397,-0.006782137443480071,0.06584461434147686,0.06794832198313056,-0.02307013871448988,-0.0650957022320369,0.06359240685785783,-0.021758919187810623,-0.020222212753372885,-0.0282521059695177,0.08022057054482994,-0.06784603868418186,-0.028923423265877473,0.08410131065409562,0.06017191885697031,-0.06540564629639788,-0.00718033846399008,0.04383874835766388,0.07744571238488689,-0.054161696065184235,-0.050050316688674754,0.010794205677615265,-0.02964740360103406,-0.015517631991878578,-0.0783421012272522,-0.04721052801354709,0.03010667986483297,-0.05863110852284974,-0.08311768467676192,-0.08573903100327313,0.04258268845654946,-0.05198428788784559,-0.0640946888722904,0.05226082653613908,-0.06685976057790177,-0.03665290955258818,0.01875923097482625,-0.07192949746380438,-0.0325913019030558,-0.051226989696296944,-0.012036867640962325,-0.027021635455927093,-0.007090313894801675,-0.04488485913986015,0.033580556306671595,-0.008074330660716531,-0.05327212771358915,-0.06920740508196378,0.0035760952206853884,-0.04335963953383946,0.0077897574394842324,-0.020631622636965788,0.0027361009854856154,0.06798054627650475,0.08649298807563441,0.05503801508486805,0.033447388332331955,-0.05234088856699401,0.0007669411820738193,0.005960209107638331,-0.0560085404692191,-0.052420785779448434,-0.044986526202334204,0.05268070803866464,0.01000163681915301,-0.08556638756092949,0.028688408687412882,0.0779689609884854,-0.021058431001039157,-0.06906630328764667,-0.07822321796123255,0.018688414241638307,-0.014213081565873148,-0.010298162279855281,0.06095050650539777,-0.018662177659303586,0.028304235611843663,-0.07939736896649505,-0.04760574603098494,0.006990048785567833,0.057725813994506235,-0.08673784901935207,-0.0778300384229844,-0.08486229996250544,-0.08321246407182521,-0.02340516836387251,0.041894473542117526,0.03053064098912483,0.01919627153377125,-0.018965693691919847,-0.05109862555110038,-0.06569716507282093,0.018468637132015523,-0.04183674558930608,-0.0722575568414895,0.0028217730336131046,-0.0590891268682787,0.07858144038558358,0.07085896093114953,0.02179224864005939,-0.06514587266102702,-0.0026583270456652405,-0.019478127391895944,-0.03817049083415742,0.0824405034135801,-0.06305639571315197,0.04660512148579422,-0.0602247923786635,0.02643602439644863,0.03315532136504929,-0.0023384643202020057,0.007117327596399529,-0.08030854780859721,-0.05251079988125099,-0.00020009684157189244,-0.06396084829793044,0.07503058782771302,0.043156520876586134,-0.007246855787801895,-0.07105252847081953,-0.03266274588499274,-0.05882572199320577,-0.04757290750109714,0.03909839235495319,0.060981474576382706,0.01870883235840591,0.042590290666698845,-0.03142886586065115,-0.022026779715759105,0.022016851280446014,-0.038774487465229504,0.07134595570879934,-0.07854501738292496,-0.042865093870879695,0.06284307636437159,0.07159834418247328,0.023694217679714913,-0.05139139179591777,0.0068573684209322,0.04787843976709264,-0.03864262671848497,-0.004983447025574207,0.03266294715851268,0.015863936373978982,0.03565202558061138,0.059548153837929635,-0.00749157697251963,-0.03168364698295689,0.053577933379323754,0.017824187271616873,0.010690197331699857,-0.03703149642601253,-0.005485467482503202,0.005992388117165936,0.04712447119471082,-0.048961378543089185,-0.07093088769412514,0.009275354994107405,0.08638352495294052,0.03549912740949475,0.0012585739014736514,0.07543381842624507,0.022219344146778165,-0.025041624960813136,-0.07080452687593147,-0.0695225718699216,-0.07584232434789427,0.05773577157763071,0.0355148637965485,0.07827723216251713,-0.01930911068269839,-0.07250903765404354,-0.013807095448780811,-0.0709044598099837,-0.06866208393732043,0.08728980466093485,-0.07832225877621551,-0.08334243238467345,-0.07224735798738134,-0.01532165612112616,0.0215077073287566,-0.06282944125970454,0.07719325682318093,-0.06197796360062761,0.05542841904448889,-0.015541959962852629,-0.02857841431178374,0.0451802327590525,-0.0063527015270862285,-0.03949132242271483,0.029678127936528423,0.015952381252312253,0.029842293755833943,0.02062802997786961,0.03258806279220368,-0.04891032578653109,0.0849705238751672,-0.0011665526992189832,-0.004173670052238665,-0.0866171557058753,0.01664801065468746,-0.05263434660861454,0.003567336090867273,-0.04339723564025986,-0.06753448453460534,0.08751427730292564,-0.017585948962567367,-0.04784489113641264,-0.08572389691074798,0.056156732854705814,0.03419046295584039,0.06113516879033235,-0.011566292641219503,-0.07420662343629839,-0.08480515179685927,-0.038577391687055373,-0.06824246085106843,0.04470034105381543,-0.04280563921732868,-0.08752293089282581,0.025423192550818433,0.031494107140439084,0.06090586751057917,0.018153887925396246,0.014331409711758862,-0.06690113007828942,-0.02929849040481994,0.02342951971791286,0.03877708592137032,0.038543619529058624,0.062445480476977566,-0.057854311885941624,-0.006554262257398683,0.053148650233047136,0.08486455730242948,-0.08031025686545924,0.008213999859596728,-0.048481626659944176,-0.05364330353914936,0.08405694383998011,-0.058475961392681845,0.001939231948608168,0.013901142333481397,0.07358096741858788,0.016410505749433323,-0.05604949350611723,-0.07553276958138286,0.041316836445671405,0.03675456457534431,0.08054988412623525,0.05772222021748118,0.044477005936499385,-0.07719603338748321,-0.04110582908052083,-0.07766825201923283,0.04769945199541377,-0.07303742184418095,-0.07809543032041324,0.024661274776674513,0.06413628205596816,-0.019380657826398768,0.013368964541522364,0.04390516447976152,0.08351390401093152,0.06248583334179874,-0.05348730317220235,-0.07418027317078672,-0.010101487305351061,0.004754302521251114,-0.05430396605717018,0.046088730345161415,-0.048379950049612326,0.07822433966190867,-0.02662080803776269,-0.04564723268889017,0.06612626400617226,0.04396336527743768,-0.012263195392465993,-0.02483607126988587,0.021390581282503797,-0.0141620830527451,-0.007587299028809625,-0.06272380868515198,0.014768172926747458,0.085856434052066,0.005567258305911713,-0.07961695652599657,0.08435720727759559,-0.06201189108876519,0.005470288070811841,0.02203282687904409,-0.0709296857903574,-0.044525155307158594,0.05586370419025866,0.0813595406814274,0.08452901884015002,-0.04516857200959605,-0.018236992489555525,-0.0690561080736357,0.01600187537641557,0.03406226488130359,0.07596828317525722,-0.039380525288054115,0.05364893226216417]},{"id":"chunk-7db5cddc-196","content":"There are a few different strategies you can use to measure performance: End to end, self-contained tests — like the SQL example, we can test the final result of the agent near-instantly Synthetic self-contained tests — writing unit test style checks that the output is as expected, checks like 'chewing gum' in response, while these checks might seem simplistic they can be helpful, one nice characteristic is that it's easy to tell what's wrong when they fail LLMs evaluating LLMs — using another models, or even the same model with a different prompt to evaluate the performance of the agent (like when the class marks each other's homework because the teacher has a hangover), while the downsides and complexities of this approach are obvious, some think it can be a useful tool in the right circumstances Evals in prod — measuring the end results of the agent in production, then creating a quantitative measure of performance, so you can easily measure changes over time as you change the prompt or model used, logfire can be extremely useful in this case since you can write a custom query to measure the performance of your agent System prompt customization The system prompt is the developer's primary tool in controlling an agent's behavior, so it's often useful to be able to customise the system prompt and see how performance changes.","metadata":{"url":"https://ai.pydantic.dev","title":"PydanticAI","chunkIndex":196,"totalChunks":208},"embedding":[-0.014412563221072852,0.0809211054354139,-0.0032269262780054583,0.0822526861620122,0.03975381869633137,-0.011612416162450684,0.05407407990087688,-0.02603939655856106,-0.008672479652403723,-0.04161502868197391,0.07445827445194465,0.043974007263539665,0.04647104905890282,0.05260966235572533,0.028448232160619185,0.03160387400210806,-0.014545497483246014,-0.016812125242508948,-0.0589117068365926,0.06318603908125367,0.07696410130200691,0.06334437925640901,-0.033797582060354214,-0.09085198460944005,-0.07015741913259109,-0.022435223799705098,-0.054737396263942195,-0.07676405177981112,-0.07320372688116435,0.014949038782215828,-0.001133380957964611,0.0013370090279870587,0.0058923375812228165,-0.08178614606008938,0.034344427733104296,-0.062151986896887446,0.06000166070709162,0.08863449273511675,0.00013693893077376264,0.02118583893499482,-0.0016631821140326165,-0.08308368369099757,0.07709312805258775,0.08546232698677093,-0.01809623105431323,0.04676529489025019,0.0034054726762321116,0.04707202326967527,-0.07727775108446767,-0.06350179297815041,0.021579059628059245,-0.018882973572855816,0.06545823596610731,-0.08364928543060555,0.0905036491177666,0.05478508901326862,0.016452740012339526,-0.08500849447199271,-0.07100129125138874,0.016863607888938963,-0.030434289628029076,0.06413180070767248,0.021996254159444593,-0.015536068770804098,0.05941769525134346,-0.01294997302650903,-0.010738509760212924,0.05250391935451726,0.021836901996463726,0.02478128343236095,-0.008667108470885435,0.06827700832703679,-0.08027480065891902,0.03909479581179882,-0.0018727224441267344,-0.07583302389569363,-0.0011696017816430217,0.036314603479836526,-0.01650549371789073,0.026376922828227546,0.005404731609433348,0.015319597338944398,-0.0776303478384552,-0.05824866710161649,-0.0019434272722374847,0.05193678742370479,0.06018864004403862,0.08288997020456777,-0.06260924043163273,-0.026247674158391705,-0.005781460698605979,-0.010324272176808653,-0.04994658571671018,0.06282350012499557,0.06661979679182743,-0.0768368250534529,-0.008305268711507455,-0.06783872640438623,-0.09076496122014287,-0.008938981769376601,-0.03468488220729585,0.054933837810808316,-0.045926422319755786,-0.00298524608054575,-0.0384775690996493,-0.037865853707518896,-0.05865046535108274,-0.027255532276718866,-0.07324844702096721,0.06843189568900769,0.05731953734768413,0.05749080362947324,-0.051371054088202875,0.09048626451120623,0.07003446882850377,0.033563051117190414,0.020197069373470572,-0.04850860879247027,-0.03438360176184759,-0.031608017899958735,0.0021703177750116848,0.044260610819753084,-0.04424127870457742,0.024190853423453947,0.011535257447799083,-0.05420766887379878,0.013814803808613975,0.041380938994217624,-0.021916953067887462,-0.05736585105886177,-0.019170630109887184,-0.07726653660360143,0.025552786067682604,0.03448359544375544,-0.032437687262854314,-0.08245193644468489,-0.050383810636758126,0.00666434443778422,0.0008731840940625118,-0.028045201338092296,-0.05245983614718754,0.011112180172338676,0.08634612676507326,0.04027584006462521,0.07089621625096826,-0.08313008422445772,-0.08492898377795555,-0.025257727113246066,-0.02904074835094689,0.048658362858402915,0.06159976730936696,0.01891220462790444,0.03413831585929045,-0.05638673962904421,-0.0030782022859578875,-0.06665978901773234,0.07551773805320029,-0.014732758775512462,-0.010215005681898466,-0.001990141353469835,0.052866145933020484,-0.05599107164161683,0.08748737155051192,-0.05322792954868651,0.0058230268251761065,-0.06347907862878852,-0.04475063283598283,-0.05873547623967773,0.08505967104455284,0.059150369478065415,0.08294305341890582,-0.05133105753934569,-0.060209632650750286,-0.03810099656569267,0.02940098096064552,-0.031219770755124932,0.0560584209206121,0.037895344273560436,-0.07803670986601256,0.02016051591524907,-0.06890022742464481,-0.04724332058822714,-0.0003829179558304009,-0.06436604287485423,-0.07120922049598993,-0.023218453783440465,0.08632057814810633,0.026016985207173146,-0.034734881261167964,0.03641782659892076,-0.01273949624074639,-0.04709713145778375,0.007562276682706072,-0.03242263702817791,0.017547173422907528,-0.0680920535205211,0.009371915467808642,-0.023629530575330147,-0.0015520075071933802,0.052947397078323834,0.04015114323398134,0.06520016515609951,-0.07721082840398757,-0.04116415679162975,0.0243905451194166,0.0266237859340744,0.00412536978907197,0.03565416821964231,-0.00030064207996853527,0.0714520558051521,-0.013758810576833676,-0.030533428486485718,0.050640679984364306,-0.011285762877871914,-0.0618249402083107,0.019801364352765884,0.06659800137194108,-0.06291019700045503,0.032454818418050015,0.039033232330972986,0.020348932364457208,-0.0251326134646528,0.03799350462606473,-0.05850505534764152,0.08601064976839486,0.08566475548393625,0.05612653578060098,-0.0138933849336846,-0.06859415402252435,0.01663420548313371,-0.08075357631156878,-0.046410591332366476,0.007803585749296485,0.03982883983435741,-0.017689574954433605,-0.06547590764416639,0.08106609112641006,0.09012006514643363,-0.010578665372836145,0.06620609126170751,0.02595054097958721,-0.014947380978734059,0.07050380970487187,0.06165676330322861,0.02560574499164312,-0.041228494814511935,0.04130454527373147,-0.08656846476471675,-0.058438466325883204,0.02741549146064309,0.08322636860523612,0.047499351686772974,-0.02628679264145763,0.08008799905957142,0.05317004512023369,-0.06304942927870304,-0.08532754778789783,-0.08676007260916266,-0.06650962724294011,0.06547801455020236,-0.0035041938783248075,0.05937303866241251,-0.0016888808481868277,-0.04868313201738776,-0.09022764964719347,0.0182259681684222,-0.04920353315086324,0.05312147819916393,0.06019510907166396,0.04417444070574518,-0.01832411744368179,-0.06842870029096589,-0.04849108080394397,-0.04545450500312079,-0.04105571778587149,0.010013927292927785,0.01212710643299565,-0.08292914174488428,0.07576456040147243,-0.07719660526752001,0.019382094313028765,0.05992011646314341,-0.02459275825002768,0.048737219806105854,0.07560479750972686,-0.02994405032361135,0.03991820736228239,-0.03152929205266844,0.032912002220812885,0.021829614060006504,-0.02796133568527594,0.04122901726417629,-0.006829983082943607,-0.04369916385220149,-0.03515302320670321,-0.023509528063612947,-0.08221530400213213,-0.04264646383568521,-0.021237103506967343,0.035626355811968366,0.0471472284153183,0.0113140290561359,0.05908741005607452,0.0783892854902993,-0.08674481558287628,-0.025622754424925148,-0.06481221184200878,0.06888290708524772,0.07932341033808285,-0.02285924803477272,0.023167829110791415,-0.0007528706364494893,0.045047934795431434,0.012504127257350527,-0.04885325077559133,-0.05600332163665512,-0.014610941919653436,-0.02172608019198667,0.03362111965415944,0.018419756549524473,-0.026439221390613877,0.021831561740098777,0.0795696030020015,-0.0788928770131927,0.014201283500891063,0.06609389607655007,-0.026485520192857916,0.05197133374941363,-0.03169970240115637,-0.06804489412409395,-0.08452207979617196,-0.035821811191737364,0.06292254244924847,0.06450688722120462,0.06923238988687126,-0.023771777303316692,0.004398520815543248,0.0050307671378872106,0.016352176976197636,-0.001466022152212125,0.003711944314967906,0.062065842721626956,-0.05035778060062306,-0.08818620614953142,0.09044166460009141,-0.08425109374174398,-0.05861347101280706,0.05134982667165899,0.0008226398686853234,0.055270381359954136,0.03306643939283384,0.027330334804570495,-0.025434020395036425,0.024602090825963586,0.07247536705060795,-0.03020638084838122,0.05003495728799884,-0.007170469736540125,-0.042575606767040294,0.013518812292639536,0.029501987493480684,-0.08801515760757832,-0.02852705986963293,-0.01635120710320661,0.06914077379914317,-0.01969014058099754,-0.012317054343497759,-0.06703053361126855,0.07538532710412409,-0.06610483711674973,-0.018422148237959998,0.06644633609064295,0.05971468503078311,0.05337157219145546,0.069793322285235,0.057614695305749905,-0.0655567215629181,0.07869673435526289,-0.040286058252786326,0.08007795834419064,-0.01757516911685181,0.0015814419493719875,0.059333875322617365,-0.07434406406893333]},{"id":"chunk-7db5cddc-197","content":"This is particularly relevant when the system prompt contains a list of examples and you want to understand how changing that list affects the model's performance. Let's assume we have the following app for running SQL generated from a user prompt (this examples omits a lot of details for brevity, see the SQL gen example for a more complete code): sql_app.pyimport json from pathlib import Path from typing import Union from pydantic_ai import Agent, RunContext from fake_database import DatabaseConn class SqlSystemPrompt: # (1)! def __init__( self, examples: Union[list[dict[str, str]], None] = None, db: str = 'PostgreSQL' ): if examples is None: # if examples aren't provided, load them from file, this is the default with Path('examples.json').open('rb') as f: self.examples = json.load(f) else: self.examples = examples self.db = db def build_prompt(self) -> str: # (2)!","metadata":{"url":"https://ai.pydantic.dev","title":"PydanticAI","chunkIndex":197,"totalChunks":208},"embedding":[-0.05183076347223353,-0.03876895375932832,-0.07710008334045425,-0.013538612980730627,0.021528510308695473,0.024563435834007892,0.031191875288696932,0.034050570966101895,-0.07505149297878039,-0.015498762798576564,0.008707538343961976,-0.06920297578291813,0.017716204029921977,0.05373716837039178,-0.03850375632566798,-0.02680105771800246,0.03822137478031515,-0.061661482973641525,0.05674938100738198,-0.003165517622516681,-0.07866783454998912,-0.059061763888329066,0.019760930630257453,0.012457659828785673,0.025374707258915982,0.0832423590460662,-0.05919465108811101,0.08144848796922494,0.0011548938901344745,0.0742466223975219,-0.02145614872114026,-0.07126081750690323,-0.047587791933905506,0.0489784666325476,0.06382259370230596,-0.012203636366823046,-0.0356732073859488,0.02819017025722526,0.0017694480340492364,0.032568859487504986,-0.060918982795611774,-0.0010735694994202336,0.0906090661367974,0.01489362718594798,-0.0007325356467231854,0.06920292716198803,0.08456146511400488,0.02161009907976467,0.03099090669910265,-0.05526660428951867,-0.006426525120452182,0.07780786614435861,-0.020344775652360796,-0.07014417320549093,-0.007137733175856005,-0.06874286493788659,-0.0803264676459638,0.0809360503886964,-0.03231619103090188,0.06981711508564055,0.01152896908953584,-0.04528803545161808,-0.018741335760766538,-0.02882119955134143,-0.05560557977554113,-0.08214828373218236,-0.004000576293007232,-0.023993172120531644,-0.07169624383862305,0.06101083829563793,0.062354716894641976,0.07900658251970293,-0.01413927155120989,0.05558371011610364,0.018508148593316273,0.07523348792550795,-0.027161195507302255,-0.053021281319408406,0.0329183974357754,-0.0772034614456021,0.06087956476622645,-0.08660801935470527,-0.07928255082324079,-0.08205367166925652,0.0015063827422806086,-0.0875726108617513,-0.025941405720127184,0.07839375760588586,-0.006814320000979843,0.03299135035093454,-0.06332895464922127,0.03344162676953097,-0.03847935611506247,0.028493558344935534,0.05930276178795056,0.06965294609188451,0.027278974594934585,0.05718870124579516,-0.03018013479945315,-0.047111619896104795,0.07727362997063185,-0.00007541679336430322,-0.05005736985756579,0.023220111899098762,0.021008970200149236,-0.013613984657642414,-0.06994652816163467,-0.014251749314834894,-0.02800272894666498,-0.0028333901868709556,0.034428731575330024,0.08600224904133802,-0.04342482743773172,0.057061290606687846,0.07831730177993451,-0.08509754655220901,0.05382170113697817,-0.08938040569181395,0.06430365871953718,0.034966290593667994,-0.003454482038096248,0.006002297288469116,-0.0674727234387031,-0.02966787671680303,-0.0001210832066731058,-0.062341229083562245,-0.019509513288302426,-0.0312036995142041,0.04335169046803076,-0.027777776266957894,0.03617401726347614,0.03630590257155834,-0.0800928492817295,0.0297546465333616,0.029330126860072327,0.032027825048656255,0.0004758862113331559,0.09030285185270262,0.036810361856887304,0.002757476416193088,0.07036641705577192,0.012792156265922883,-0.05261384601517219,-0.005454501183089895,-0.06345885312468526,-0.01628032102636095,0.0896376317848777,0.023377436818118165,0.07593703283279386,0.03505846580935457,0.07733678093449851,0.03080424901710567,0.0010581671784224223,0.0036464970236406206,-0.03658853540131934,-0.01643843930306928,-0.07670090420908304,0.06131939094292298,-0.016947383083158733,-0.04359673963956388,0.03333424352186864,0.009404716516574757,-0.0683464629271625,-0.02002597531950347,0.01578324386120476,0.04563905009304076,-0.04662439359541749,-0.042660227650662554,-0.036841277276587515,-0.08902888920583032,-0.009795857932249767,0.0018649808876820657,0.07211780579015288,0.006382228645066545,-0.08333512485125512,0.06379789141343079,-0.04891981270934069,0.055167599700042744,0.0045725652672188545,0.02744469973438899,-0.02822099928006294,-0.0555436888777905,-0.08385839077386287,0.05206936439143504,-0.07000758035759241,-0.012055739717590792,-0.06674708523127998,0.054906182663140804,0.033287364458993676,0.023787803521295912,0.02338014135776832,0.07871380487830835,0.0038736597591945265,-0.07939297213238901,0.05226048602297994,-0.08498840372779778,0.028664873166245546,-0.05616438319804785,-0.025424421821239333,0.036217218612248116,0.004722151302217974,0.06370824213310053,-0.04728713424790868,0.026007470478936538,-0.06563350939228468,-0.004719733511866272,-0.01895887980295493,0.08224081486735756,0.022918126248703184,0.06729965770551893,-0.07702235434727743,0.07394923098194356,-0.0492695099705461,0.0064996605369854596,-0.05930940626870396,0.015718904299072838,-0.08622044415146236,0.02457379289236981,-0.018354129423077493,-0.02738607028172746,0.07673330603644057,-0.07657719744439245,0.04951481639548187,0.02976924985517277,0.0624907536673742,-0.04998169385791949,0.05060365118088088,0.02938290170860692,-0.02766485223471804,-0.007670105631130717,-0.06500452024661488,-0.049172495748233146,-0.00497078374988157,-0.06995234937529712,-0.06710816787485409,0.01610650189542036,-0.004406727037574759,0.007664792993110863,0.028791679555209813,-0.007982543849416745,0.052076381550160596,0.006056815826809211,0.07787928826494984,0.06640727018985432,0.013653201203768776,0.05415153279632266,-0.01804330759828541,-0.05362448384457146,-0.05144484300475778,0.056384001314571476,0.027846893313491203,-0.03123045211980546,0.010433950171116809,0.07257120640049937,0.032208607235950384,-0.03473925032657948,-0.037572658745060196,0.0340318854150659,0.004501490281711076,0.009101399306605706,-0.060640717175428974,0.03641138564241748,0.052128086317127245,-0.0623473877293674,-0.07636563152301473,-0.0061920978198515275,-0.011865704853985711,0.04907630969345425,-0.08541131314526113,-0.07904004576895243,0.06690466459516796,-0.0717272235077399,0.01881124721791801,0.03568170239954285,-0.03992964222992984,0.04392232799740599,-0.005855948669480746,0.05744872702954439,0.00007274312014434794,0.025814669732620314,0.060149396627920106,-0.06588808591852499,-0.0008608831722474179,0.07059046511273297,0.06872377181741207,0.015477499825864001,-0.08003603460737659,0.07805001614119407,-0.05560296167851508,0.022576695083789258,0.06559484077076683,0.08526040162739618,0.08591443487457759,0.017428284249996543,0.06892536371699513,-0.006907188229711664,-0.029065502884699054,0.06321669075008715,-0.07291816072582158,0.002850352060778135,-0.002095933691711531,-0.01509330336689612,-0.009021155913205807,-0.019067017862269022,-0.024939491249625495,0.05145454320440334,-0.05104989109867831,-0.047962918744903264,0.026801594269166215,0.080842942285883,0.007843554761233888,-0.08620859372220822,0.07811734933817484,0.034380420333544555,-0.044979097659535075,-0.07590391311816656,0.07265082594732711,-0.053866944222180996,0.015812897540113533,-0.030948061533485276,0.021296597423021084,0.03446606897846247,0.0437132284458851,-0.06509933445510348,0.02487181992614859,0.06422712120785266,-0.04460035714707198,-0.04044430741512582,0.07621101546229088,-0.020960545309657252,0.05565891960275945,0.07489879733340676,-0.027243829018352064,-0.04108193875270137,0.016947795543634046,0.08399840715195654,-0.006811129478069333,0.0662740336587637,-0.08068192393923522,-0.03623194352109809,0.07878984808485792,0.04117446113201045,-0.019746193190954817,0.013259340989169857,0.056637230647836975,0.03201716556628703,0.07283379704982457,-0.06968830504692704,0.02884141715051511,0.07920487323551159,0.03770920631609288,0.008761166573347193,0.013066815707876324,-0.0007864789675575357,-0.06708746185858985,-0.002736455311928362,0.013102857713074468,-0.07771158485743944,0.06819983455461451,0.010706340775571614,-0.04439152866729737,-0.08485305493082695,-0.07220899632553067,0.08747850220117982,0.06708587163361308,0.03461072014682588,0.06442577684521171,-0.06619672572370398,0.08029574047434988,0.03553552930907057,0.07120465429912412,0.012729583479815478,0.07231572686056105,0.08545667104047369,-0.05010553873756924,0.06054081855626823,-0.08889930206040397,0.03476400327446819,0.012779315922896075,-0.052628448780265714,0.04371413165641365,0.02735283381957507,-0.06116940802922098,0.05260059068350825]},{"id":"chunk-7db5cddc-198","content":"return f\"\"\"\\ Given the following {self.db} table of records, your job is to write a SQL query that suits the user's request. Database schema: CREATE TABLE records ( ... ); {''.join(self.format_example(example) for example in self.examples)} \"\"\" @staticmethod def format_example(example: dict[str, str]) -> str: # (3)! return f\"\"\"\\ <example> <request>{example['request']}</request> <sql>{example['sql']}</sql> </example> \"\"\" sql_agent = Agent( 'google-gla:gemini-1.5-flash', deps_type=SqlSystemPrompt, ) @sql_agent.system_prompt async def system_prompt(ctx: RunContext[SqlSystemPrompt]) -> str: return ctx.deps.build_prompt() async def user_search(user_prompt: str) -> list[dict[str, str]]: \"\"\"Search the database based on the user's prompts.\"\"\" ... # (4)!","metadata":{"url":"https://ai.pydantic.dev","title":"PydanticAI","chunkIndex":198,"totalChunks":208},"embedding":[0.0854989656792425,-0.08149629568944658,0.0604341252789222,-0.02312659584874497,-0.032389356675563336,-0.04623278987452339,0.004283536209036067,-0.0447929577585567,-0.05958687150571533,0.08553866965447873,-0.08748367533490185,-0.052050496690353186,-0.013344347855593892,0.042030408821313536,-0.06610416452798729,0.07964719168927169,0.01945536024510196,-0.07285888663963694,-0.0544181656097851,-0.016552038192647514,0.024307826300836954,0.08656054731805447,0.054978163198736704,0.0649266677507071,-0.024092341264345236,-0.007625269635695257,-0.06859032993737198,-0.0056640887797909404,-0.0020084346125205147,-0.041733945288619526,0.07238974773808095,-0.005814742642709856,-0.060363657867694064,-0.01739293457731948,0.020643831153320868,0.06984835251830014,0.08727624608946288,-0.03135302876686884,-0.02882056916117446,0.04360737462948292,0.02992949966842926,0.06555355515118928,0.05851684074838216,-0.029459327525260124,0.03562053931757081,-0.06405872244413266,-0.08217047512331792,-0.007120708793962099,0.02656122277193253,-0.03711968723443686,0.04042977471738798,0.07443869240879884,-0.005927425893723004,0.06556731014940678,-0.07657948317346899,0.02457311783866501,0.011443097168919532,0.08686191837790422,-0.06443322904688538,-0.05984513816764627,-0.03783412163136878,-0.03924184932297575,0.0436871539823347,-0.050938618815164115,0.04203938349905283,-0.08557568190148424,-0.0016019705194878961,0.07766445517021663,0.07945634342708503,0.0677541262049788,-0.01844856251785107,-0.0026342446788170737,0.05835427744001365,-0.05446306165441854,0.03730848075272704,-0.08662771493019061,-0.034989396188337615,0.03161298372034202,-0.08278832485545075,0.02124050942888588,-0.0035953480316847503,0.015524991526446352,0.003232657835338999,0.06097676997717257,0.012156609229351165,-0.028003349669576842,0.029033570657918863,0.07979932230348685,0.021649120170991548,0.07360738232925941,0.03300206908406477,0.0034471718050710165,0.04305282291974846,-0.054092483486162114,0.06213152289525784,-0.01704704156184209,0.012596442662465719,0.06893848547921398,0.03775672731474184,0.025858667344658685,0.01515250955680736,-0.036940026480892056,-0.060145703270166745,-0.013519050576029323,-0.04635113766332866,0.06809755873435855,-0.019794831638926334,-0.006130265002970788,0.08574215712165281,0.04740199005771692,0.08178952186281435,-0.03474274692637117,-0.0778413872962532,-0.027950791383118397,0.07895019524375145,0.030066461372067192,-0.045884713292510856,-0.039180435441585636,0.03333388857278828,-0.012431230845556689,0.06935227013241686,-0.017772939707343203,0.013448582926983544,-0.04074147316801354,0.07637098358447601,0.05354836506668435,-0.01007069381493644,0.009473357034242041,-0.02032651333227206,-0.025511000391861563,-0.03135538307826594,0.05961189375778557,0.048110538107846046,-0.014905134156109017,0.05581168817886444,0.005336151625270926,0.00747916876599988,0.07383124031072029,0.07127987299906514,0.04617727346058362,0.004017065044536824,-0.08297335400745338,0.06882649601433805,-0.05695805203380111,-0.003110399373151174,0.034666625005564174,-0.043920925957169545,0.042777462911613696,-0.012958926548771472,0.0613466623241576,-0.07035044388226627,-0.05445780820296086,-0.012839449449059327,-0.04400224457900587,-0.055694984333796174,0.07410429854448031,0.03234566766810875,0.06482759215939585,0.055110237782944854,-0.07860513881167112,0.039541945273345126,-0.005101220060953806,0.052484901212733394,0.03924337230355819,0.08315869275022889,0.021294862123772955,-0.046082518027081826,0.05417326371827179,-0.038360222988540936,0.08052818083484584,-0.061804726899272244,0.07689231297378546,-0.06399300389288767,0.06716868113354817,0.04561080531778521,0.08330626950516255,-0.05843669647572695,0.036500074137622567,-0.007775984411357426,-0.0048594050051066935,0.08831659095702898,-0.01661037285938988,0.06993731246777952,-0.08288621081469945,-0.023736374954086936,-0.034602047444250945,0.007967925981809159,-0.0544369578862254,-0.04406557139191839,-0.04665829165673144,-0.006497797183737159,-0.06697417498273683,0.05535449861000433,-0.06914935014751443,0.06669740610687606,-0.011867032533348172,-0.0657280443828698,0.0011733906997321982,-0.06256873788053603,0.03810287305524932,0.04787761743923161,-0.006667333206337019,-0.08030403666172914,0.034550958115053106,-0.043757912234488654,0.03849772016207842,0.08688484230032598,0.06916138602845551,0.015133525574727589,-0.020665803430324606,-0.08262683774080025,-0.058215739086119885,-0.0007749780909526832,-0.08367565984811436,0.033202249768947034,-0.0833747823035204,0.06264215486582964,0.06591175944334726,0.07196151791403921,-0.031880177792784924,0.06308557926247822,0.05956499678293792,0.0261864086791969,-0.030708807837613195,-0.08036139013773562,0.023933511041205714,0.06033707757605608,-0.03868664426282538,-0.06284032549709101,0.03507783092404603,0.024558397934428218,0.02482481989270878,0.06986373394501809,0.08333724428035708,0.06132231938893299,0.01540254258804551,-0.02664356945689485,0.023237708677230146,0.03182396799795372,-0.050408972548053904,-0.06308266493535987,0.00936990080111401,0.05625822115156688,0.025506159754358715,-0.036999905441407556,-0.06066272726932386,0.038650954981644656,0.02012097939943823,0.058141581974756114,0.08228071719661982,-0.04935821219686717,0.07826238114568586,0.05218399719529423,0.04302084250132925,0.08239574893754026,-0.029722997769699073,0.001838286313510452,-0.08466537217474912,-0.07412292661148737,0.07263391162800671,0.006532640834406543,-0.0354216142983091,0.03786410847945656,0.0658114172099894,0.06141889793511198,0.06416261439393584,-0.014740205836797506,-0.0759439221452001,0.026095847317348247,0.010573809567681277,0.044882453577106386,0.010017837315934445,0.0725427912146472,-0.05308243205075646,-0.06834901836187424,-0.00580436670295389,-0.017937328540119764,0.07651805181102456,-0.009449395865418073,-0.06457616675676223,-0.08806197478987034,-0.027310619511594785,0.00003633845423588262,0.014246622938901813,0.004920248250772213,-0.015005472229784494,-0.060519399887715965,0.02643789747190495,-0.04977605137704073,0.08477622729599153,0.06546228288863612,0.06293000345219832,-0.013491822103836018,-0.061265884743277176,-0.007660560300415369,0.06765991333095035,0.02505182871797493,0.04269743098938453,-0.08509787994352427,-0.04662932787006623,-0.0396199720501012,0.0758847423596269,-0.020245752310740613,0.020104282102625354,-0.05116755157069437,-0.06498527817756998,-0.06649512582104157,0.015808050370675994,-0.05830074240898042,0.060171694918749366,0.0531053258801751,0.0336641104669418,0.0416979744963192,-0.06332791681080156,0.026146021552062637,0.07264561643326305,0.033773722303498885,0.05596096235944922,0.07658774988543747,0.02337831200903583,0.048579694306058595,-0.05890813494078798,-0.03162575169420398,0.05092195117800138,0.041872348482877006,-0.05220167048694072,-0.03161400142074269,0.010320906582847688,-0.03003833707412706,-0.06770274004648393,-0.06186790205646095,0.031017585455451777,0.004082785384071617,0.0773788010356025,0.00989011283779089,-0.008570689179797737,-0.08319294476148612,-0.045342347305109804,0.0263068685348592,0.03864117414893472,-0.05732321494728818,-0.013262878341950004,-0.05063308533122705,0.06093126095490711,0.04394244587108874,0.040228820651980655,0.024118890478499314,-0.05333563327332477,0.07052860939143953,-0.02918931212887849,-0.0727857592956104,-0.007939027570045923,0.06545551218556292,0.057473697804482846,0.05699421021060417,-0.06218234660629348,-0.043328466022644715,-0.02615738433781091,0.006868852211104731,-0.019455577017092968,0.006466659068812396,0.004589933144174128,-0.08397430921697914,-0.07407563688900362,-0.0868502621737924,0.04160676111837682,0.0037872841349228534,0.007067812007469812,-0.0005496498490537258,-0.06091710986647439,-0.06590815238176242,-0.05570972630015482,0.019943212177255813,0.03349160980789881,0.046854379947530396,0.029363579748025313,-0.05886532017802068,-0.07872197907755436,0.05984253785725224,-0.009817237053915295,0.024335327001323962,-0.057565236379028745,0.045109317835655506,-0.007333412328819178]},{"id":"chunk-7db5cddc-199","content":"result = await sql_agent.run(user_prompt, deps=SqlSystemPrompt()) conn = DatabaseConn() return await conn.execute(result.data) The SqlSystemPrompt class is used to build the system prompt, it can be customised with a list of examples and a database type. We implement this as a separate class passed as a dep to the agent so we can override both the inputs and the logic during evals via dependency injection. The build_prompt method constructs the system prompt from the examples and the database type. Some people think that LLMs are more likely to generate good responses if examples are formatted as XML as it's to identify the end of a string, see #93. In reality, you would have more logic here, making it impractical to run the agent independently of the wider application.","metadata":{"url":"https://ai.pydantic.dev","title":"PydanticAI","chunkIndex":199,"totalChunks":208},"embedding":[-0.0554572196654067,0.00567617892096169,0.05112599482915074,0.0571269774923725,-0.03868074359811556,-0.010999694157569666,0.051651961113991535,0.03097824469292491,-0.03542163576655658,-0.03286950932632295,0.014594485256712149,-0.08359386129029733,-0.016584198906430002,0.01674211882466431,-0.0028649032212784632,-0.06135176260498344,0.08682876139466682,-0.05041587633593899,0.03934781683927775,-0.05869036928742597,0.04652139210869392,0.061583203188871435,-0.03636876249610972,0.059642442284240905,-0.04406565410686877,0.06079578791152395,-0.017462511287082608,-0.04691434910581172,-0.06079295024693211,0.043623680665559855,0.05358144699752435,-0.013553230706186248,0.011642205934717098,-0.026698317027673408,0.049928707044939825,-0.057287332445221,0.02431851406883354,-0.0478300410348143,0.038504222914811016,0.07529481051619835,0.029259830163978883,-0.027137364768272058,-0.03136408606014694,0.058184229019203934,-0.051544930944817845,-0.06457542894802948,0.08882539095609396,-0.018752894533723016,0.0014727240007423375,0.060088028757167,-0.07063394021723286,-0.03221094816773203,-0.03139813587385208,0.0031471196102442252,0.03913189776967918,-0.08048930512624658,-0.008948499030532357,0.03810110586064362,-0.005879474961816175,0.06667887319621996,0.05618278896751969,0.03474125614190742,0.006665734598612808,-0.08775426716000784,0.06671132475733248,0.06293399138223091,-0.03708895964708494,0.009780658563715848,-0.0071704761470825,-0.005721422082345881,0.08585053255709398,-0.028156166645065386,-0.01370397534409767,-0.06429117733602663,-0.03132263823557419,0.06295257238126557,0.010814201871931507,0.04764946941572591,0.07346064265059853,0.04193550706807295,-0.05229670767034717,0.0038543609468700323,-0.01454598426960802,0.077507034300183,0.03246807077803277,0.04706188617422252,0.02669329359737883,-0.0681017842292072,-0.056495875923430625,-0.07467011837079628,-0.021597043596367306,0.013857738701196,-0.06495266646484342,-0.04925688710676068,-0.044917259836918556,0.06620133423758957,-0.04397739027729341,-0.004842775739967659,0.018309254147628896,-0.05357619584274268,-0.06576107455956003,-0.005173249162944914,-0.0286980161389581,0.015951682473867194,0.016528532770612316,-0.05419589221963445,0.031264918594754235,-0.030770604910403152,-0.07056921173316899,-0.04198097453158331,-0.023988266297077298,0.08111954696455188,-0.0030713046277074905,-0.006887912124079743,-0.06494899951585016,-0.0062262111942714546,0.06893410011671694,0.027390992197069267,0.07831880175681151,0.0001430185059594466,0.0512410417622845,-0.0804523989439966,-0.013085175142893181,0.0314848802130579,0.07023392098578075,0.05170159660469929,-0.06330675093623446,0.07378245627340534,-0.018255936561158908,0.04010018838730526,0.06538918305853272,0.08784194353492218,-0.08022428537660652,-0.02975869179567569,0.08173381278550959,-0.013955017323548629,-0.05289826923734668,0.015445521478573202,-0.05954914686864982,-0.038625398488442986,-0.07147481578495313,-0.04770520833244927,-0.039687800276885433,-0.003143074389139385,-0.01675593364630723,0.056788653373691426,-0.07243380319721313,-0.027079074333952412,-0.022709990243058954,0.0427923618980815,-0.07234834027230373,-0.07626839430057707,-0.01161579876091685,-0.06876324325617308,0.012844994339104387,-0.07879217602569571,-0.03619511231059468,0.04743692239732469,0.06020206470686037,0.0220058414420664,0.017967618403481614,-0.03160263608678145,0.023207873086196523,-0.032386277563856515,-0.053976477832936964,-0.05310077726495491,-0.022402940423206303,-0.07978456166005625,0.035409535350889164,0.08796572251805011,0.06158904956025586,0.06171332478689698,0.06264572568257215,-0.038272558244586995,0.0884648874247649,-0.015981923603679282,0.0461249303120064,0.06515887447030275,0.04579643717103845,0.08644075023470395,0.04379448863518687,0.07221832400376738,0.05460274445621517,0.003641819654305165,0.06673034585688642,0.06252419455564072,0.0519894227673563,0.0703460834156274,-0.049283138972790456,0.036408604887560085,0.04073794248863975,-0.0546129418384153,-0.0521649147735669,-0.02949835016582748,0.0464946719300124,-0.05521765946000834,0.061148263849186854,-0.011634220683149524,0.083315061670453,0.07125976984380923,0.06763816483266565,-0.03138713978766862,-0.0810761103848636,0.05983640459967068,0.021811662860041086,-0.05537542488071152,-0.01983546549230005,-0.04386864759702473,0.04465441101656555,-0.04850745924139977,0.05413755766413644,0.0744282566519953,0.02284480517912148,-0.07397105338467526,-0.006724141938593344,0.03906256733691865,-0.07543251763237681,0.00042333964079618305,-0.07926489307218988,-0.027896221069184334,-0.04487445718156065,0.026471561309142966,0.05401530119886212,-0.03259751032351484,0.052382177309829615,-0.061080989145420574,-0.06965990627982284,0.007167614495520238,0.015140702476559912,-0.0224164355255575,-0.05620362272426398,-0.012511423578441754,0.006747626586143696,-0.07504634143348068,-0.047473394664030076,-0.058742278370952646,-0.06252746290012408,0.08861030998809258,0.023283190380820277,0.022683305835221136,-0.03453658764030667,-0.043436980803492106,0.01855219805348371,-0.00024410895416893406,-0.05383667946730054,-0.07448774303804138,0.041556770438242366,-0.06803648814602059,-0.08860671018995116,-0.0369172530770225,-0.05292653696309951,-0.04360004047416648,-0.018323085653032378,-0.06594560654207852,0.046488230358771414,-0.033475966491634285,0.03321592446808711,-0.08454216696907979,0.08000240720120762,0.003764491625306574,-0.06791785232749148,-0.012895983600953486,-0.07685944096133991,0.04610849838872085,-0.005582840820828629,0.02824913351774689,-0.06755776890400347,-0.003645861801142274,-0.021255650700145217,-0.03046914016807818,-0.08451900380177277,-0.03499576864602345,-0.04527930937328721,0.0643259393231282,0.0011368324575051513,-0.07376651393769194,-0.03618396546819096,0.07130230198388916,0.019870465909990025,-0.03145473409919372,-0.04455086129187977,0.041571226715003025,0.02967321115101795,-0.030989022559955514,0.055525222326146526,0.020652186531014825,0.007199895855521749,0.06883921963754216,-0.04798458584955274,0.08699627317302548,0.06476520342527169,-0.0004605243072764586,0.05396567101990858,0.03065672324143462,-0.07835184728669153,-0.040936108997678466,-0.07196878758683255,0.07425002341032436,-0.036553170237169454,-0.03736527459565917,0.06702383540934186,0.048188617430189436,-0.04497285785767762,-0.04607456708766079,-0.08640533399382053,-0.06859067845344033,-0.07983370652576115,0.021139277888646172,-0.024635730724814182,0.0659533031450457,0.043572077951357424,0.004438969312716452,0.007381696926079458,-0.01841656850307094,0.00028239026562224874,0.04909371234405438,0.06660557825120066,-0.025391146181595162,0.053016353240039935,0.06435505984022244,-0.008152401562704102,-0.06939688366150419,0.06359283436835639,0.035364238039755136,0.010946761014020779,0.009955260917938129,0.058435975115486344,-0.04709006427780549,-0.02935859844841871,0.00806813298489443,0.059121473638606495,-0.0745570560987403,0.08015068852835477,0.08562766988274499,-0.017116242815792795,0.08758913621223068,-0.07700244122825645,-0.02465952264870648,0.08019506701148642,-0.045289277992492404,0.05476660378508071,0.01562905139150349,-0.007345808221378475,0.07127679927180874,-0.0541693644566612,-0.04147026594467825,-0.03327140482895627,0.06658778331602533,0.05515704485676566,0.02169979879809013,-0.08510558238619792,0.0696929848816049,0.06687651886496163,-0.0435608482860227,0.03499710982455607,0.001570231687694121,-0.034876053218480314,-0.028792525679715724,-0.0037934534356815577,0.0739797265043286,-0.0041895861812003485,0.07539888545588022,-0.07166982682486472,0.04316271374518483,0.08192613602161604,0.030675253808089765,0.08345592340052399,-0.028834596478275132,-0.06568394068702318,-0.0046030598052524165,-0.07653976667850491,-0.035194427632063895,0.06534026894837586,-0.0748547831176204,0.005396985165930612,-0.06860350248681996,-0.032151849379069536,-0.08850890632814366,-0.030844587729198666,0.021298981512179356,0.06456802199290637,-0.017474698189683013,0.0625606653787389,-0.06612579461424842]},{"id":"chunk-7db5cddc-200","content":"examples.json looks something like this: request: show me error records with the tag \"foobar\" response: SELECT * FROM records WHERE level = 'error' and 'foobar' = ANY(tags) examples.json{ \"examples\": [ { \"request\": \"Show me all records\", \"sql\": \"SELECT * FROM records;\" }, { \"request\": \"Show me all records from 2021\", \"sql\": \"SELECT * FROM records WHERE date_trunc('year', date) = '2021-01-01';\" }, { \"request\": \"show me error records with the tag 'foobar'\", \"sql\": \"SELECT * FROM records WHERE level = 'error' and 'foobar' = ANY(tags);\" }, ... ] } Now we want a way to quantify the success of the SQL generation so we can judge how changes to the agent affect its performance. We can use Agent.override to replace the system prompt with a custom one that uses a subset of examples, and then run the application code (in this case user_search). We also run the actual SQL from the examples and compare the \"correct\" result from the example SQL to the SQL generated by the agent.","metadata":{"url":"https://ai.pydantic.dev","title":"PydanticAI","chunkIndex":200,"totalChunks":208},"embedding":[-0.022877236081248826,-0.0786836735703113,-0.07904554974983398,0.06357253069233158,-0.0695218736284888,-0.05971446239132756,0.06924296288347422,-0.010475305708932356,-0.014161616010035646,-0.07806584346628839,0.00640326256826552,-0.08089534258115512,-0.042197153861190495,-0.04354898233905396,0.004420664347210587,-0.03163331470712903,0.04969155759651488,-0.01577937242278121,0.07980623221116752,-0.017331440010333137,-0.01721128082607524,-0.062288957943762706,-0.08556078296658388,-0.006194872923358575,-0.06625221658161035,0.039815356942304175,-0.021795858708952995,0.01966384866023744,0.016599172520745446,-0.03853107857076125,0.07068450207134698,-0.0629742203562002,-0.03936672875653825,0.03419792383161586,-0.03245769001896077,0.032526615261055825,-0.025834273412501187,0.013216409178715395,-0.06258085402347577,0.01216616024265238,0.02773775516380661,-0.03566096841866288,-0.061636658584380825,0.0035263369482168663,0.08920867887003828,-0.06611544130806711,-0.01778598077321155,-0.026364267497719238,-0.06729948219035635,0.08033128440222127,-0.050322014556629234,0.06951177984933977,-0.02013672622024884,-0.01959616469948875,-0.06890333290743406,-0.08077473675061705,-0.031115094607910006,-0.0775994293483375,-0.05380979194046123,-0.033506199068455346,-0.029565887722878766,-0.06894716744873389,0.08316061510564347,-0.0010427925091599424,0.0037847375502149225,0.011615466228214582,0.011107941212511884,-0.06294607413350185,-0.026673561770374363,0.07542975739438132,-0.019290428433622154,-0.06095059444830212,0.03139099007388575,-0.08369621122436499,0.04039294360547548,-0.031188702433704297,-0.03773489917944881,0.042877420974938366,0.05404596092830327,-0.0010385512388770013,0.05481483279721283,-0.08613950036199378,0.049136718860387424,0.00856920880815401,-0.05501548966036264,-0.052180620938359436,0.010918072324369846,0.016542776459305228,-0.03588673333050282,0.037263965064050615,0.021448705971979908,-0.009039300315176527,-0.07701021676968392,-0.07844831664537945,0.04073834698100476,0.08231510173425015,0.04800092265644019,0.036278300425189154,0.0007460414942107941,0.0785811722704374,-0.03612313958610009,0.025860425206958255,0.023841097146725828,-0.011653864089240535,0.002806031811331484,-0.010811462904699235,0.06635768319583701,0.017624322213242408,0.018705228490859815,-0.08769089880431602,-0.015714135012538072,-0.036726677230195987,0.03298420049884837,0.006566598518669482,0.00010252852473056166,-0.018838739014773263,0.012048318555966848,-0.06660039993428252,-0.067153254095162,0.004719718683232104,0.0024022605052902326,0.07464153977025433,-0.022875936188449308,0.001987900934451958,-0.004505111518955046,-0.030402559595869322,0.053474158858874014,0.07677961074118543,0.06160826805081109,-0.07492548498543197,0.08484042476308805,0.022860773185985582,-0.034124081096726794,0.06255209489022187,0.042509638616748585,-0.06872575320921034,0.07010703585476064,-0.005148963838982852,-0.010518332102877115,0.03778517737654846,0.017832450396737073,0.08646050126338253,0.02708639586403021,0.032562339784300856,-0.055483978321670846,-0.0813563941122953,0.06685518607895945,0.03358089220825884,-0.040382150318809845,-0.02890574911202582,0.02833886094759419,0.046390901412265026,0.03695211277086458,-0.00043210842460451784,0.005874996177868159,0.06271255460364883,-0.06971765725667226,0.01757120858931359,0.046287456165566156,-0.027643125450258134,-0.04590211208729786,0.002896467997504436,-0.07946686920291089,0.04793131376290673,-0.08800585627071103,-0.04196534318112732,-0.08637840824667774,0.03242239333031778,-0.03322571378636699,0.0021891061937968363,-0.04100317140387375,0.04695407875428327,0.02124314714029564,0.06699731989656285,-0.027911963669336317,0.020126698027138047,-0.07734152741127957,0.019483569785566483,0.04908566569301489,-0.032503469597396174,0.0068144589866406735,-0.06205807573678158,-0.020872074028752283,-0.05420950854530749,0.0741389921997334,-0.05098139537301867,0.00047891240584109696,-0.04731515198330381,-0.08728782748418842,-0.0326964744726596,0.08328179206935972,-0.07698862224586721,0.01092897822915081,0.046653547339280795,-0.03177980354062402,-0.0855818308231654,0.0678702770850014,-0.08167703344809737,0.06898159661303993,0.04698531253953622,0.0189507758550864,-0.06440532128268772,-0.049508189113579966,-0.08248972137357491,0.03157914361503431,-0.06375050777757668,-0.0025911406579972505,-0.07687655163811614,0.05803682894050307,0.057485445073738574,0.0402113375200369,0.08101676664547013,-0.03934477890285871,0.012241191453168121,-0.046974359356247206,-0.07216334350466706,0.0033542718507238375,0.008367304132207693,0.020682819646328756,0.006157733584203247,0.020086026944082205,-0.08224155848807965,0.0447022001124378,-0.08493151525298737,0.08055854893153382,-0.07530450813797018,0.014383664186317476,-0.005117005255711592,0.04422541727482952,-0.022138616725859143,-0.08875462538642426,0.01058737320484409,0.04921556208155665,0.0024509567931793284,0.08106658109596064,0.013281534641716766,-0.03062395922258538,0.02849545081512751,0.06396122993912914,-0.013020511451974798,-0.057923945940336216,0.028008660720505955,-0.012081657488420055,0.08507856185394501,-0.06179096067468235,-0.05473359508734128,0.07993732607949992,0.000010550951405991828,0.06103992296984238,0.08090622025674951,-0.02109787431984917,-0.008856099890801116,-0.08577867902019838,0.02262451125749641,-0.002611235412466528,-0.0402074125241848,-0.030755211405073368,0.0005344290823678281,0.04429716311100503,0.08542456977690069,0.008563156357194868,-0.08013537262182928,0.042702332824254396,-0.02105744178210892,0.08657039749249568,-0.054292256388373296,0.03272011436270401,-0.05337196648559019,-0.07587551712674978,-0.049531416492738865,-0.07855948421945685,0.01628923245891088,-0.06607576875335591,-0.009272258455036545,-0.07166020828100107,0.02069620572670483,-0.0010581128454076752,0.03342549004058609,0.06804907786686552,-0.053813983854697434,0.00484996227130646,0.08667152966195746,-0.04230914993819589,-0.08522226577543178,0.02612867836538665,-0.02678687481743353,-0.0657877015852401,-0.011318789865072211,0.042116112002361435,0.05268644568291459,0.08715677425247614,0.04575456091053035,0.03754372859339669,0.06962960648995208,0.03792018138159861,0.07699820977311679,0.026285018356203022,0.03896235250876886,-0.03851576487841236,0.01671843170695739,-0.015242541967802462,-0.031975654232441274,0.06296088175444864,-0.007714627563705952,0.03731610145647817,-0.027933172427267186,0.028957045316406207,-0.06335802363844448,-0.04935491989066852,-0.06571531102039878,0.016334687267726102,0.05600620538234616,0.06365653751098313,0.010773790643843335,0.06264804698440271,0.01991301767065705,-0.07240625164970914,-0.016137792965421605,0.04201426014989615,-0.023766811567850522,-0.05701686510748949,0.06962401498572361,0.0519602090481211,0.07801919048116471,-0.07017564579891677,0.033984230784685404,0.006387601524935763,0.06329150464211697,-0.028152743546618154,-0.06564213558760428,0.07926997229478627,-0.073138505077683,-0.029777292270191952,0.08542361038318558,-0.017997577274455646,0.05915131318992424,-0.04399731603789554,0.07118125486271086,-0.00982322489483907,0.005854304239494313,0.04665415744564661,-0.06545574506008406,-0.07001062310842267,0.06370127170319227,-0.00048248755295346007,-0.08415903746509944,0.017913619468207916,0.014240174220521904,-0.0887845367568796,-0.021885826390170178,-0.029675373708706973,0.05625808635473402,-0.02303123160394574,0.07173602040377784,-0.0014253973554542163,0.058229067261719024,-0.046693326597134495,-0.07738773357316261,0.0858320459933481,0.0156637361647139,0.030779125444425244,-0.04665248396674508,0.06382201835465674,0.049217840799273535,0.06260104899785873,-0.058170815579612005,0.0404198805271515,0.05022673591489433,-0.08596734367120691,0.04066391832333204,0.031199657207606334,0.08342383890073522,-0.033011962635465075,-0.08697717892345731,0.058373816980836726,0.06873280936932036,0.07692098232081375,0.04985068744432028,-0.04702564536066014,0.04445197460721106,-0.010152280672895957,0.07565015769848216,0.00886827892014469,-0.03962152286439577]},{"id":"chunk-7db5cddc-201","content":"(We compare the results of running the SQL rather than the SQL itself since the SQL might be semantically equivalent but written in a different way). To get a quantitative measure of performance, we assign points to each run as follows: -100 points if the generated SQL is invalid -1 point for each row returned by the agent (so returning lots of results is discouraged) +5 points for each row returned by the agent that matches the expected result We use 5-fold cross-validation to judge the performance of the agent using our existing set of examples.","metadata":{"url":"https://ai.pydantic.dev","title":"PydanticAI","chunkIndex":201,"totalChunks":208},"embedding":[0.061163900353064266,0.03611258780643816,-0.05211599516536678,0.08307860537146144,0.026707510295472348,-0.03850093819516986,0.0076183706682593855,-0.007651494258087781,0.04050953461634822,0.02847622201862248,-0.012314698719143091,0.07092824011102047,-0.03764739902692408,-0.07922281946128669,0.05607922199298397,0.08531200062673559,0.006847723929575825,-0.012395102550036424,0.03291393713377229,0.06385939326714454,-0.035204489688439956,-0.030868492677911284,0.07809137123754908,-0.048440038450683065,-0.04972309097121042,0.04662498533607686,-0.06687461696043151,-0.08565239216287161,-0.03262960239467418,0.025112567648857335,0.01716776861815952,0.004373773801290778,0.06401471325224625,0.06646730579669761,-0.07297897925946331,-0.05488161916144274,0.006210714573029406,-0.04411518452024197,0.009204665958938039,0.06286823677381523,0.0033487071711594055,-0.07470274382266658,-0.08131364919185485,0.05198963892824266,-0.001946403440582263,-0.0043325690354908694,0.04250115540638063,-0.03815196212365345,0.012043750110757635,-0.0167843816103527,-0.07797374578805169,0.03747072262391537,-0.043662582227144864,-0.08357219118968803,-0.006053136703796458,-0.03901360908251103,0.06115221948189185,0.06850003017450534,-0.07624527015924006,-0.061651115732489256,-0.07304476109819255,-0.08616974345505743,0.03753813980515207,-0.04918583589317097,-0.02490964840905433,0.011854120407644345,0.06366970021060878,-0.05556528728746189,0.07271533232018852,0.06812041502718924,-0.03790915712402938,-0.006421086419087804,-0.028941100739130754,-0.004292778557774156,0.0377823405448953,0.03202474018617123,0.015868667823228703,0.024617637075035833,0.07369431089140246,0.03775956554560171,-0.023885858654462057,0.054585984731172925,0.0084377349490617,0.08350212976186737,0.021959783267196324,-0.0458535000066304,-0.000656182414858334,0.015059853993907347,-0.08645904172979926,0.05253586339564587,0.058507996950989544,0.0402140162458781,-0.033214518402773986,-0.02255478080780212,-0.00022900244483830547,0.05292878622868898,0.001662985598632766,-0.02602065585780465,0.08246474333431968,-0.02449869334019886,0.02125567531790937,-0.08659311428892066,-0.05796643599219636,0.06601601217026609,0.007467894100956655,-0.056069937470500486,-0.005995591399741982,0.0067445679219352885,-0.017514698014573584,0.0449123477060299,0.07018805636703739,0.012327013831440069,-0.08385348450684627,0.06647506583568194,0.02564559550089667,-0.07184180936508831,-0.010983384295269185,-0.0075880832704422274,-0.07586079564273007,0.06517280725409172,0.06519524863316499,0.03987496287850617,0.007918415722840768,0.07737385933705426,-0.032795715934187085,0.05252186713264268,0.02579977889543657,0.005079648592916374,-0.08459889032894269,-0.010481616575966933,0.0782580619997548,-0.016034546603928505,-0.014719589854241284,0.0387619676904746,0.004371205414542736,-0.034778335216683644,0.05960480072592819,-0.06489109556796196,0.062369738918333396,0.04586065158303144,0.009309125540641046,0.02758227226045182,0.07043380158912389,-0.07196341668393044,0.014932469108002633,-0.009465749340527171,-0.05597605939347332,-0.05613875170594432,0.06796399152556526,0.06826040914776658,0.0723131919451038,0.05738274000737315,-0.0037197056812637796,0.07593696349365212,-0.08009428396920965,-0.03021959699358263,0.002207754473488241,0.04135723016201302,-0.044832818320856054,0.08050461976139353,0.022954405956480982,0.008029516347844944,0.020123522878646126,-0.07592443330577,0.041493857041396305,-0.05470692432925538,0.08740613162782669,0.058910128880076136,-0.030316650180246565,-0.05584394419094053,0.06510592391026657,0.013946483739899344,0.04366845542437841,0.02891014735172723,-0.030584537307132106,-0.04886958203357651,0.03772561084040735,-0.036846024213372304,0.06515533819604934,-0.08619739232894084,-0.07098476037730446,0.02388118471753351,-0.06848952537052758,0.023522074109927463,-0.0112581966837754,0.08020980395072232,-0.04839906237009695,-0.014451478335914222,0.03792105105903916,-0.048365866842328374,-0.06047417900338894,-0.06927753205769764,-0.0721380055954047,-0.0762254215305417,-0.08746705563725743,-0.0713714142358497,0.025828626289139837,-0.06423800245589363,-0.035030465818081086,-0.0153644316382423,-0.030806782896903154,-0.007391332110579479,-0.06449620215784344,-0.07046406636823699,0.07441200954553212,0.03524621508239573,-0.037081056516826,-0.040784121085130944,-0.048915838089421175,-0.07272189945968033,-0.03703257208362887,-0.022830670121491193,-0.026250023398268166,0.07746947952431074,-0.04635610991081253,-0.05689694020167622,0.059882065712877915,0.06965166128665964,0.016810419157680643,0.08577665582276808,0.07218901783096215,0.011281508621985252,0.07246028647404358,0.06271497001501243,-0.07981920581330103,0.058132943113500576,-0.04088750933674923,-0.006715664200499935,-0.05061954428366468,-0.04201729666706336,0.0729536907422791,-0.03835738630389999,0.08611679718491712,-0.02133443439652547,-0.061658800079765375,0.03191936016542869,-0.06351833003006077,0.030832557462124724,0.03829530752980164,-0.0233911076994727,0.08053402930859326,-0.014831058812921427,0.0272944844393214,0.047973198033377275,-0.014450319770314446,-0.07975534402606947,-0.02508818378197179,0.01421865137498778,-0.031929076744489894,0.06663383168726375,-0.08018295752483945,-0.008817065506141593,-0.022895880866667336,-0.004474472896615404,-0.007998738332973642,0.0034927770893257055,-0.03039769510805632,-0.08284439253141876,0.04891930892268893,-0.02105193736715234,-0.029595528734140644,-0.06778038058785085,0.03432844656008166,0.027179778781131085,-0.08653180533535633,0.015412870183053592,0.0344786005306387,0.058483433266732485,0.024798652378944516,0.028994159736726848,-0.03279302605987551,-0.03736806482298044,0.07728167944351645,0.01691497097405734,0.07460239675049855,0.023323147801952656,-0.02111334510550223,0.07704638947252024,-0.04972896627354581,0.07593840139160961,-0.08707448459926356,0.026337670519416878,-0.08675592320247678,0.0275566211703669,-0.006838919191216632,0.05476458134267889,-0.07137598053013182,-0.02588322467189627,0.04313254903158317,0.00114062438393975,0.08173983815394102,-0.009987760586556359,0.05850053528148427,-0.08203450397868481,0.05816034716070258,0.01741967079121502,-0.05055197227771609,-0.01698282889485567,0.0016878310663369681,-0.044296102723213555,-0.05255895061029978,-0.011824858557183399,0.001847943201567805,-0.04547116711481788,-0.04184814627783123,-0.03301500754745193,0.012495693168142223,-0.05520874957620349,-0.08340809126323992,-0.015427836641102978,-0.04069371837894972,0.077519111556921,0.05778843690775979,-0.07232994925935476,-0.045316022957880585,-0.060839758209703644,0.02838973182413447,0.08279317197463211,-0.050097925502000075,-0.015750319854619402,0.06581694263558081,0.07565155746150962,-0.014887831079035489,0.06780451571262722,0.02951328106443284,0.07723275241560776,0.061276863056391816,0.08455655632793832,-0.05010783542771367,-0.02496136293026406,0.020590485148264247,-0.06930468182594447,-0.0427915906070559,0.05897217475681974,0.0877394370821722,0.04235946924427664,-0.006648734697034825,-0.06503542506795669,0.015285341952206658,0.03553693256234432,0.05151103036287028,0.07607806667169546,-0.0042660734879848665,0.004856512566288915,0.07415921066626358,-0.06779543412240703,-0.006439172008800152,0.05628487841791129,0.029218811947771258,-0.005905875813488875,-0.058204731433497386,0.008180731300495882,0.08338640886249063,-0.07215017878226371,0.03162688555341194,-0.05731356559283008,0.01066811713166452,-0.07786953482496332,-0.07939387467482628,-0.06942688404771752,-0.011346544788786649,-0.01876441691183212,0.04545450826876212,0.01148662290453335,-0.010091948419607389,-0.019815327967130734,0.052654272003891146,0.01239285943384756,-0.07164986460567659,-0.002930001786104256,-0.05369266482054942,-0.025828944043967503,-0.039735427248484854,-0.07026520793160025,-0.052090818947223984,0.08527293617012903,0.07320411252826488,-0.08241175166816474,0.0014357955825719804,0.0032504697871630016,-0.04983927123890251,-0.06681277475181635,-0.04135477587490018,0.0433142206762738]},{"id":"chunk-7db5cddc-202","content":"sql_app_evals.pyimport json import statistics from pathlib import Path from itertools import chain from fake_database import DatabaseConn, QueryError from sql_app import sql_agent, SqlSystemPrompt, user_search async def main(): with Path('examples.json').open('rb') as f: examples = json.load(f) # split examples into 5 folds fold_size = len(examples) // 5 folds = [examples[i : i + fold_size] for i in range(0, len(examples), fold_size)] conn = DatabaseConn() scores = [] for i, fold in enumerate(folds): fold_score = 0 # build all other folds into a list of examples other_folds = list(chain(*(f for j, f in enumerate(folds) if j != i))) # create a new system prompt with the other fold examples system_prompt = SqlSystemPrompt(examples=other_folds) # override the system prompt with the new one with sql_agent.override(deps=system_prompt): for case in fold: try: agent_results = await user_search(case['request']) except QueryError as e: print(f'Fold {i} {case}: {e}') fold_score -= 100 else: # get the expected results using the SQL from this case expected_results = await conn.execute(case['sql']) agent_ids = [r['id'] for r in agent_results] # each returned value has a score of -1 fold_score -= len(agent_ids) expected_ids = {r['id'] for r in expected_results} # each return value that matches the expected value has a score of 3 fold_score += 5 * len(set(agent_ids) & expected_ids) scores.append(fold_score) overall_score = statistics.mean(scores) print(f'Overall score: {overall_score:0.2f}') #> Overall score: 12.00 We can then change the prompt, the model, or the examples and see how the score changes over time.","metadata":{"url":"https://ai.pydantic.dev","title":"PydanticAI","chunkIndex":202,"totalChunks":208},"embedding":[-0.03943762499103537,-0.061647187673433065,-0.024440101942409486,0.011982946129384005,0.03717702794313709,-0.023930892754690267,-0.0649007615383309,-0.03627136629804017,-0.02928812310322497,0.07833671923759818,-0.03002743319417472,0.08350459897768296,-0.052195954532640094,0.04243098334348386,0.0034041907552878046,0.008062158493829593,0.08613773107200516,-0.03769267352285457,-0.06920229741702602,0.014793794822911785,0.0011597739959576419,0.020492289687082277,-0.03179336569202688,-0.05151320873315952,0.0747848830382294,-0.067048623146542,0.011677988678822115,0.050232092185559823,-0.06309935724955912,0.07708894857074343,0.07399160718837143,0.01688078633654952,0.08601100202148507,0.04312344745208507,0.036942654210347085,-0.06474838139633905,-0.060759469279481115,0.04265058495879737,-0.024239742049115654,0.0036094685156123963,0.06084756376109345,-0.038231049123009286,-0.07235459957336257,0.019030658739607985,-0.04298685744285764,-0.056915872188922655,-0.015338183790593856,-0.06270481011786677,-0.005900545932202929,-0.021801827210400103,0.006486356093748026,-0.007991461428446889,0.009676170379417802,-0.08329478396898211,-0.06422403978617654,0.046393637679364365,-0.0691233366203361,-0.005320143405908244,0.07982322045923256,-0.028248262375381576,0.07099692102278077,0.06866480186196841,0.0410308882441604,-0.06458433401174205,-0.07229633123477702,0.03768598813383049,-0.08743998012262212,0.03648139507641987,0.021847990146596805,0.028454382926838967,-0.053932996949217084,-0.06194729338752465,0.058512078915028395,0.0032741684014204447,-0.046266991354705723,-0.05292356953286874,-0.03448159874497015,-0.002289903791154266,-0.0274192098161312,-0.008207332120954636,-0.060497966271268425,-0.05019845705774196,-0.05033318675636407,-0.0040393256150727105,-0.062395755941849006,-0.057513268167346525,0.08251540198490717,-0.01475733763655843,0.07422343076899347,-0.06179018826599377,0.07996234579268532,-0.006426029325823966,-0.00776083155092962,0.026595449608335313,0.04433239528932834,-0.06222441187398021,0.0353392029770295,0.04055118614441647,0.03424515530396151,-0.00014036328074498727,0.078812645233833,-0.06872699675067973,0.002675524302564795,0.016597297255121362,-0.03880567054702735,-0.022532805139041174,0.00423263388838776,0.05561921236664799,0.04193129300570553,0.08632420342149562,0.08145623272684871,-0.04257397010231935,0.06068878225448463,-0.0021718634048608766,0.016522803218487692,-0.0477653310805367,0.03380108378834122,0.009121668917612376,0.02355883662407995,-0.053412675048395385,0.06576978734212509,-0.03939098016122769,-0.08620475627461478,0.06015438098117117,-0.08125360542553613,-0.04488422710727515,0.0224519066498429,0.011104356794501632,-0.042549936636895935,0.06914196396907434,0.04876606966703502,-0.07648681728293154,-0.028388109662616907,-0.07303262522582794,0.08049153748545274,-0.003868039776055861,0.027099285958195024,-0.048944267225146325,0.058333445211802545,-0.01828737404278028,0.04412786615395004,-0.08470250997536874,0.08364134934076199,-0.05383408689725488,0.050746776961185146,0.03487064003922176,-0.05393053368689242,-0.04104281165302859,-0.0766655087047785,0.038282639076980526,0.0033290534305343527,0.03438336923889238,-0.0043615247936994355,-0.015645334051171786,-0.05958629031966103,0.05819751273367326,0.02231168705850614,0.025751927079352803,0.05244934129133772,-0.08712445278987126,0.028084041111040493,-0.08598138313777191,-0.06291120895266686,0.024957031008429203,0.04339191982669224,-0.07052658322143376,0.02640670149890632,-0.04227016441509517,0.052983956012912566,0.06725746261037717,0.027467756708542488,0.04941970018050925,-0.06259062681185111,-0.017278311720706107,-0.00033054037691689764,0.015953439149184345,0.008622722768606397,0.087448370952593,-0.01983881065200781,-0.06468474538374404,-0.08068063375665904,-0.06844447018353778,0.058193067631795325,-0.045671141862380735,0.032309797993634655,0.056434892499257525,0.07736740176193446,0.06275915828511236,0.030918768027815013,-0.03702396739692804,0.08394243160844166,-0.034854636847223716,-0.05090749898720022,0.07580125094194863,0.046328117160117796,0.055671469798895715,-0.034498272902566546,0.07465753006295274,0.005092705027201001,-0.014230662147477108,-0.08712838545110736,-0.0531464833677655,0.058113437935018206,-0.01004167467834029,0.03165479304792558,0.06254327707882701,0.048167603404960714,0.016742654840882526,0.07993521422161684,0.07680666367181548,-0.0488676302866473,0.02707024559648364,-0.006653890299662871,-0.055066162037675094,-0.027005285477612734,-0.06390250333384585,0.04444250884434307,0.024346076734051324,-0.06634961010834194,-0.08025888920315043,0.019606606733240352,0.07253107719359231,-0.052233245240970845,-0.0234936003309969,0.014743131816952878,-0.026798261237653463,0.05361925599872006,0.03602447832986517,-0.0040054471429106005,-0.07067401199281174,0.008953312409107982,0.002202319820450269,0.028604004269826143,0.07304925809681882,0.0650113970011437,0.026384334873452816,0.030233210679119604,-0.08511501077174217,-0.0336828578181981,-0.046654504599017634,-0.046988633339168,-0.00006850870576701944,-0.08388424816338533,0.08734532844339712,-0.08632797183199672,-0.054227525035920585,0.03762685602612055,0.0032866234687713956,0.03480427112957951,-0.07566599161116265,0.010731128680203126,-0.0684549741942263,0.006788748424243224,0.04989674616848001,0.028704997188584398,0.08578777067292398,-0.08381553356435877,-0.05300804101177984,0.04223866883966779,0.02120643786883076,-0.07963463186941028,0.01015510106568883,0.024320112432813405,-0.0077657987746634115,0.013884119325259885,0.059979116122506546,-0.023043886386752154,-0.06492235752315398,-0.040696343439459014,0.08124663693111138,0.05432139312354389,0.05702262385845044,-0.06886517941909628,0.04940727559417559,0.04707483831375317,-0.057726677021842365,0.0531272303470681,0.02237216413482182,0.0628728578754815,-0.04119207162947991,-0.01640277846733813,0.08063404990754941,-0.05348997960926557,0.08624623916716209,-0.04051235971040868,-0.07218781153962096,0.014219893093004421,0.01022780968855417,0.031129796213333078,0.03210739596808583,-0.00505498790616494,-0.05246391089726283,0.027823538906537416,0.019273409438798034,0.003921225922102408,-0.045994312320475864,0.005244612088039536,0.02091663362283687,0.07475966555217872,-0.048392406156657596,-0.0019793298106075136,0.08231642258510702,0.06827871207038405,-0.04542302062463804,0.08198467929297489,-0.06862233905139555,-0.0795896032609567,0.06585261855656484,0.0007262259538546369,0.05237423839442666,0.06124815216549394,-0.023539699818023688,-0.07585924577173522,0.08606964575514402,0.07000720842615979,0.022417501271735578,0.00854428403220577,0.05700969034895584,0.010505713204215414,0.06091443778861443,-0.06115696166997702,-0.0068377992167969635,0.0759369164224898,-0.07148617892787418,-0.023846796610126675,0.04822095835288156,-0.004805118020483096,-0.061942167763594014,-0.013919690955263023,0.025824749128919862,-0.05987311865284883,-0.07306543183132773,-0.07824340829900805,0.04041288968681315,-0.06613426323677654,-0.0077439345312049586,0.001006834562016809,-0.007692543195642341,0.032018108658561806,-0.08124588523511009,0.0814461723910172,-0.013141186563253469,0.07990307564267754,-0.03258003628844041,0.06551274804493973,0.009826578227635942,0.059114370838175896,0.08593409707191016,-0.0040818969481541895,-0.045665667290578846,-0.029109958724851854,-0.026874387401249658,-0.01064862501575491,0.05213210281800136,0.019018204899509086,-0.08391859296574002,0.08055242576506422,-0.006791181832826015,-0.06463685349885408,-0.06284379929711555,0.04884916863062544,-0.05752225247927896,0.06818595031164762,0.011181594587885852,0.04519928773222661,-0.007496192862943595,-0.07257222011416067,-0.07348342959283381,-0.00004935087382689199,-0.006943608329528665,-0.05426850191724498,0.042487487907094675,0.03376828834134421,-0.06366363028762155,0.034678789558054014,0.010149867345524683,-0.05774362347738086,-0.019770238736552162,0.03304467378017171,-0.0431784626518926,-0.055345387470157166,0.01357979203299165,-0.0755609964490808,0.010471045780296962]},{"id":"chunk-7db5cddc-203","content":"Version Notice This documentation is ahead of the last release by 2 commits. You may see documentation for features not yet supported in the latest release v0.0.27 2025-02-26. Debugging and Monitoring Applications that use LLMs have some challenges that are well known and understood: LLMs are slow, unreliable and expensive. These applications also have some challenges that most developers have encountered much less often: LLMs are fickle and non-deterministic. Subtle changes in a prompt can completely change a model's performance, and there's no EXPLAIN query you can run to understand why. Warning From a software engineers point of view, you can think of LLMs as the worst database you've ever heard of, but worse. If LLMs weren't so bloody useful, we'd never touch them. To build successful applications with LLMs, we need new tools to understand both model performance, and the behavior of applications that rely on them.","metadata":{"url":"https://ai.pydantic.dev","title":"PydanticAI","chunkIndex":203,"totalChunks":208},"embedding":[-0.05251662493763784,0.007162072208439263,-0.08323976948196153,-0.024232229296520937,0.007708795723518896,-0.03932075933829626,0.007926840414620669,0.04359189004583477,-0.07314446401446009,0.018804531355444395,-0.04158175785191495,0.0499230315933263,-0.06084138707894266,-0.003046569255540893,-0.004258885933730753,0.07787240362390142,0.047441916048176686,0.07390292848738078,-0.013145816383533387,0.062754541841921,0.028348047146177335,-0.01690666888666308,0.020552560530175748,-0.059476968859590494,0.07053981198142177,-0.01014844355857316,0.029382234798559646,-0.04446814604727489,-0.06830308674600352,0.06814613806343105,0.049416342750817174,-0.015076385151115876,-0.004072152242049901,0.07373036346692562,0.05109391592310618,-0.0634437798487495,-0.003775280582318402,0.04235666770898723,0.014463791764528205,-0.0771223700007064,-0.016191612821282744,-0.02090318907314352,0.08050099746495001,-0.027770013307711772,-0.06778278218750551,0.0808113382612294,-0.012123269036228625,-0.06367186700424282,-0.05459608321958206,0.07477632338235264,0.07307744411618557,0.0020959679767466885,0.03797917594876054,0.05861682279569914,0.023070500086954212,0.07557603257228823,-0.08282858639098349,0.0007316080422392319,-0.07225843671224753,0.05028888814601936,0.03508180985242275,-0.026164831230552684,0.007569226998278495,0.0586057423789371,-0.0654239092620443,-0.06177512367133341,0.020562403458079727,-0.06998764284867641,0.0829074796201094,0.07043279363499337,0.06672756230577023,-0.052161985420692614,-0.021647932567494737,-0.07859324387258854,-0.013821679738761201,0.02464261178001476,-0.016601336152882538,0.02487050828903739,-0.018186206973933215,0.01781044248350671,0.05879493186083649,-0.006892369976924211,-0.022638745964384876,0.060395196257807905,0.03895760686716169,-0.0003585526311177177,-0.07245695587622147,-0.06326499558881296,-0.05428643627519155,0.025830864552013215,0.06574908747624372,-0.009381799259222678,-0.06457250979054344,-0.02282618161271618,-0.08659669730226856,-0.014379764744749328,0.05193199458423143,-0.05972794178509121,-0.01414529378159087,-0.025209246221132745,0.07713917063440143,0.006670560636009211,0.043221312875229706,0.0020964827538130252,-0.05071185250265213,-0.02452690576436927,0.05117202427770943,0.019684313676785182,-0.017009204844125256,0.05364298317932385,-0.004675274778576374,0.052831403144593364,-0.08443311972533038,0.05427423603830877,0.04692788271719137,-0.024867188209568514,0.07776066722874794,-0.07099984008345382,0.022892757640628474,0.04617154109544966,0.06797744186592446,-0.07538021699704218,0.08079136638178977,-0.07302417902870466,-0.05833630101383821,-0.036038330834412026,0.00936783346511798,-0.08247636753182494,0.07104042083067465,0.05893285670370574,-0.01409594181316314,-0.08367074925991685,-0.019086874991651705,0.007347385873203565,-0.02722601397074636,-0.0298246573173201,-0.012591851693992533,0.02125535061618491,0.04752637888774972,-0.015510341138956222,-0.03681410847181633,0.016504078329394774,0.03081489765767589,-0.07132212630064257,0.06762756833535867,0.005580444498505861,-0.014380906233751775,-0.06565059277723787,-0.026754856425095678,0.08712912846368152,-0.05653919588401699,-0.06198234159297442,-0.00985379214445386,-0.02136172804207792,-0.04804281648450838,-0.030684074328600774,-0.07944376575625027,-0.0647443744443815,-0.03963610494578146,0.033141842683612345,0.060406824908989756,-0.07391208320221493,-0.009499062583472884,0.04573002018277747,0.06560530195905147,-0.05903699122842191,0.0014788768996068017,0.02230130291956189,0.0013381170277923546,-0.04622057888069202,-0.07273851897211696,0.009543522897651483,0.07982801337326739,-0.009524306187827599,-0.08455221713009341,0.08712139056232199,0.030640431712175745,0.016014640642171726,0.05505978164956164,0.055702226764042684,-0.06356114213500719,0.036702015270179536,-0.053175621255606764,-0.010975603132805094,-0.059129419548675836,-0.05786048853415597,-0.007008449081588136,-0.05629469253387028,0.06058538911943721,-0.01178107198326948,-0.07796868416684782,0.022788329768072206,-0.05882049897569132,-0.032005971558138585,0.033611200537531666,-0.01994655666969926,-0.052819754162443805,0.06073541580957154,0.07220874759115814,0.037821959091951504,-0.07379837181430621,0.0561573659731996,-0.02804652966093129,-0.05677109905423366,-0.06856312595912428,-0.07764886435223718,0.06883422614148382,0.019380480465636576,-0.03328782796748088,0.06749629013155412,-0.07895743307532609,-0.03597811986145537,0.0706664363482785,-0.03874849215568932,0.07129527563480914,-0.020755334092626233,0.0652629402411975,-0.023098163414701528,0.07403394663758252,-0.07301420698704529,-0.08691016882965079,0.042532549080461425,-0.0391863297605332,0.07899988452158707,-0.03337734351619402,0.02755605932087353,-0.04488891694498665,-0.010457168064744228,-0.020257221334395968,0.0702265579519995,0.05648358388644126,0.026212429146416204,0.053280321174135364,-0.054705911621142946,0.019665645467557245,-0.08022501355311264,0.03642266812810375,-0.024768197127951325,-0.027437536475301963,-0.036886619815861964,0.019817472869367976,-0.0504363805136996,0.014392434759695203,-0.08140710003245855,-0.06481887873307599,0.06156498692859671,0.07212216111782926,0.050462264866218035,0.04517400594100385,-0.07252881626093746,-0.08596883737787343,-0.03697059862882438,-0.0637802131514474,-0.05108722735884084,0.016813102109991273,-0.06403057077642077,-0.017615498804442294,-0.015101052385424356,0.08358643089962026,-0.00694136952184667,0.02745914662485571,0.026419094962258756,-0.053130746092993786,-0.03927542228470502,-0.030107230737174407,0.07765012769773735,0.03647254738331048,0.046514479025937715,-0.08699534865796091,-0.0022966344804309217,0.06702423823950325,-0.023635394633356024,0.07470409949725815,0.05590373789104316,0.05638035589102022,0.00789183587032399,0.042816063950288266,0.041983572723966904,-0.07770545170218439,-0.02409451122092016,-0.08117317012695394,-0.05763658065650548,-0.06536878757978785,0.05346078041133459,0.024823106984323065,-0.007012967482740373,-0.03951949623656663,-0.03011340607100632,-0.04999234331823594,-0.05503136076042273,0.07680620192608184,0.0020021951010739656,0.05801911633372831,-0.048873347232843714,0.05466583117613866,0.0469448423875925,-0.03548780366243504,-0.0718978955154513,-0.0572640582370539,-0.05249520468737282,-0.0818540245334149,0.02307361850602223,-0.044783436004743604,0.04299629292180298,-0.033298068549785634,-0.02719136125526478,0.0661833826791569,0.014904729780045632,0.019022614446718558,-0.06234786083178435,-0.06942617201012642,-0.035180964456813776,-0.04036598027573486,-0.049127765371703824,-0.07197276320995595,-0.06018634924035989,0.04628640081305766,0.07801232858928663,0.0023074051378961327,0.06933614975050942,0.02613323581060813,-0.08012747218820068,-0.02812871145844667,0.018396089188801014,-0.05362413180417444,0.05184553171737541,-0.08055349839718837,0.0682381446025687,-0.046445499617720216,0.015491370798733108,-0.08196287869391347,0.026358700060405877,-0.026971725860036794,0.048765134977827446,-0.023512000240983332,-0.031284127649716796,-0.024453402049682903,0.002990325747160708,-0.027932454657616488,-0.08230722250989772,0.041955028291903305,-0.0009451337944598144,0.05098415015602659,0.008031107780510378,0.05948760752071759,0.07395877488962428,0.02623449052125323,-0.05334965946459732,0.05796410719286648,-0.0010288550063856366,-0.0829687265749277,-0.08407724277571453,0.052862008267277494,-0.03757302797902135,-0.010113798386335813,0.015127630883387262,-0.058503975321382386,0.06514846625708516,0.05602458671220295,0.044737475542867555,0.0642020845214735,-0.03348623694195725,0.07842343223196735,0.041971116765866845,0.000010332788485867402,-0.08142971515816409,-0.013081597036697229,0.04914763495221266,-0.04643118777758398,-0.037513254368206274,-0.07353381404281946,-0.0009814758366687671,-0.028036152112397558,0.016249226248446845,0.0692484900167329,-0.07739143575295464,0.006423374345704233,0.01716253164964576,-0.06380088327964209,-0.05288645597611625,-0.022013655611828,-0.08179010349060013,0.019998060618053457,-0.0802477809482303]},{"id":"chunk-7db5cddc-204","content":"LLM Observability tools that just let you understand how your model is performing are useless: making API calls to an LLM is easy, it's building that into an application that's hard. Pydantic Logfire Pydantic Logfire is an observability platform developed by the team who created and maintain Pydantic and PydanticAI. Logfire aims to let you understand your entire application: Gen AI, classic predictive AI, HTTP traffic, database queries and everything else a modern application needs. Pydantic Logfire is a commercial product Logfire is a commercially supported, hosted platform with an extremely generous and perpetual free tier. You can sign up and start using Logfire in a couple of minutes. PydanticAI has built-in (but optional) support for Logfire via the logfire-api no-op package. That means if the logfire package is installed and configured, detailed information about agent runs is sent to Logfire.","metadata":{"url":"https://ai.pydantic.dev","title":"PydanticAI","chunkIndex":204,"totalChunks":208},"embedding":[0.08317961253022284,-0.07137969897840242,-0.08643085815634585,0.009725310549073335,0.019954963090439173,-0.0665264873384245,0.06799275349351687,0.03217588976703164,0.05142463783609035,-0.06001790814748737,0.02795802323604326,-0.08299431651847118,-0.05309699583602143,-0.015184621960356836,0.03228422523262614,0.007091070465041217,0.03190546146431368,-0.039703081879014286,-0.08756965060074368,0.0302102655611583,0.05869593244716051,-0.011148204878355761,0.06894132261539612,0.06127713521935637,0.01602470228743208,-0.03478490299268043,0.04945238571940371,-0.055549570856046206,-0.0741568309570429,0.05131295371500647,0.03956110131390956,0.043820014747686056,-0.08428587248727572,0.06395596788573651,-0.0730290744753716,0.004054132640573835,0.050336715276795674,-0.07306014671079487,-0.05001260186995509,-0.055091557038266244,-0.06645688140710743,0.07036830751928064,-0.017672469910495092,-0.06758492076230369,-0.08217738352221285,0.037777709946846136,0.011618824856007034,-0.07531727978145315,-0.04363343591253241,0.02264753047924368,0.030534213245533372,-0.019233887080778278,0.04412307135111178,0.031169536821239616,0.015084802918393385,-0.0608362984829953,-0.0495579496259114,-0.03846628548229291,0.08093139343003806,0.044271599102951996,-0.06964472475142212,-0.08274520611621014,-0.057265249039171656,-0.031152768649847125,0.04841961685042336,0.08407958604047877,-0.04361233234247875,-0.046305882758339335,0.004677312927930554,-0.03614591276244101,-0.038250549761701724,-0.014506906902481334,0.062396139146095105,0.050808858782350474,0.055800432253046484,0.014204631047007473,0.0005741806909507852,0.07240473610913033,0.06303898835778583,-0.05971009966294213,-0.06784919485763158,0.0801814427674551,-0.030192869748606323,-0.08349066110088908,-0.07784100568933883,0.03070825743777982,0.028648121196623435,-0.03722956099943221,-0.04848237981343152,-0.036658357064641656,-0.06608670929068568,0.011831815148146248,0.018526228100439895,0.032345167986848465,-0.02564528162989727,0.031771398337223804,0.016471628474652934,-0.0020482507525183525,0.03786961059650567,0.08109054973120082,0.033356274867795195,-0.06696450756458376,0.08773497796824785,0.05584186078123049,-0.007284880278178813,0.019386695863085036,-0.06277424384072766,-0.06909075491944068,-0.03608156320775605,-0.07406642143849207,0.0013021971626399292,0.03356746065709873,-0.004740684136122049,-0.02996872223668088,-0.0765684316733125,-0.07737774622038905,0.03727464482288331,-0.04926699264610269,-0.08118266707924811,-0.06702231697691981,0.04753349405332342,-0.04384212123735946,-0.06186944061559112,0.06185956409241273,0.039135766269373144,0.08411062267048779,0.003317159640771694,-0.08313503288460065,-0.057453386975819906,-0.03215292082641103,-0.025042908665627268,0.07238447166776313,0.0067409687569385665,0.054599271144043976,0.028118326845613086,-0.0882446255188608,0.03471967176678959,-0.027702164029937415,0.08168435960420185,0.0009492526839725171,-0.04142331050923463,0.013880131375854513,-0.07768324737200513,-0.004396179139672158,0.023253548792580122,0.07460493354620884,0.04307028709202761,0.034637254971989814,0.042347478745866335,-0.0811486535266364,0.08248129537405753,-0.08409531016637037,-0.024876566571743447,0.04118432744234455,0.024255606346788645,-0.048335764525431,-0.002883503408539589,-0.013961517561673435,-0.07237050089099736,-0.07535672851136749,0.025370233819247686,-0.0646007842518335,-0.004458713418770875,-0.01644804175220924,0.05198985200579441,0.06238975544511116,0.08174708787216561,0.01504151788024286,0.023896361120369032,-0.05416880884516862,0.048548905840655555,-0.06325572766746039,-0.013300565713577288,0.06088403099576152,0.008406921439868254,-0.08703400602980826,0.08431453285858465,-0.0533505350107401,-0.07212269295295799,-0.020712829077150708,0.011879014492544616,0.03072296448960263,-0.0009702260456456833,0.06095520562605853,0.03907421999414489,0.07413841171277054,0.030146100795967374,0.049616860096594204,-0.07387683462069654,0.02580075054304328,-0.06272718680035422,-0.02638465754744502,0.08130676761990342,-0.018048589371063427,0.02941578430722704,-0.0768330735908598,0.07335960261685132,0.06408400735871664,0.024513415524374128,0.07293858488372763,0.019535162046820497,0.0139965992192158,-0.03265121223939455,-0.01812299187112003,0.0232180396956888,0.010742471406776742,-0.061189680569954184,-0.007853165204165331,0.009186523301835114,0.024180519793683245,-0.04759099266422141,-0.018160861736460653,0.07463597772703523,0.029363891798555652,-0.0751578278551944,-0.033145864224328275,0.046715360275733454,-0.04646702671340553,-0.04080554080356696,0.02874083504329027,0.006365236125219083,-0.011433882202683454,-0.019025028784988435,0.03387190954565252,-0.04293950147558906,0.038760641342167904,0.0868137858290896,0.02726421760222784,0.06957254584309457,-0.00445584563911463,0.009150873132848817,0.07449491836558615,-0.07366603699835728,-0.03842214196812781,-0.06083863094583438,0.044378159805514836,-0.06670152578010159,0.03948984039777687,-0.03560172372890509,-0.04814549776558971,0.07134861351623223,-0.01399010562815135,0.0015160927610991474,0.048368384990840965,0.07173923043865414,0.05585494550915668,0.03547195744995801,0.08468296800807298,0.027517975180146745,0.0043170729740833625,-0.06299134242095755,-0.03665288146028893,-0.08578624827831181,0.010159968244147713,0.07989888079031221,-0.03410073728768235,0.022553057506450428,-0.015476419109254421,-0.013073753644713523,-0.002157712524630745,-0.06372089534651952,0.003762884880644663,0.01463861737785583,0.07124804558506076,-0.04811482504598612,-0.006240110341419255,-0.0003004267784085095,0.0736462956703943,0.0559623851669156,0.006030907288061402,-0.008786513187211003,0.0722529917537025,0.040215769303952376,-0.047889457321195386,0.04283687185885016,0.08013248451401993,0.029592277239168543,0.056728167231932275,0.039000912957281114,0.06161406485663225,-0.04224110837782184,-0.07767272411831382,0.07368967989972969,0.0009514150663177485,-0.03974823169575593,-0.023053039380788103,-0.04512077077844436,0.06459348474120026,-0.015632766891219358,-0.06512946024334987,-0.05375936769077494,0.044942211479033316,0.03513576635530213,-0.07766505827351891,-0.00001679427629277817,0.08010160635066264,-0.05946959777430362,0.010430209394932841,-0.07697807886484624,-0.02896884573153991,0.05591847972469687,-0.0034421681734152173,0.053799979853314125,0.02030023710832897,0.00474506552705155,0.03415681935317938,0.005097186367790665,0.04897796191766241,-0.07882885197603105,-0.0459388337275709,-0.025073808501808785,-0.08160059625385915,-0.04115772481442717,-0.057889366224809356,0.0723200875925741,0.011121469073248747,-0.0588332498030491,-0.06051253089155886,-0.04217961665823641,0.07643007702610745,0.0629401526128477,-0.04967856823706857,0.04850559954300649,0.018660187590843456,-0.021266277917143802,-0.003060571980882485,0.007880010748213111,0.06926743138467296,0.08819287959483608,0.028450334035059015,0.0629137671579054,-0.04868737627604585,-0.054970233059896116,0.00968797462157984,0.04933823587302005,0.031620685614618206,0.043103934889362976,-0.050336325135577384,-0.04095953870645044,-0.010358731865155776,0.08292533201764118,0.015088873357216964,0.011849047165239076,0.0012053077882927781,0.005992075685119219,0.07206439674644102,-0.05570711231823058,0.024766222454537152,0.06601908891974205,0.04599198939560666,-0.0604756254547851,-0.029670669781117317,-0.08565532919169942,0.03972261916414306,0.07611958862807752,-0.07634636268692964,0.030155574451502413,0.03505062923468329,-0.024022898347025534,0.015975226520099955,-0.058869703792127644,-0.04651699405756701,-0.06209300147167238,0.0732911413722391,0.03179381454517048,-0.004652780631171693,-0.04211794476469316,0.08750451817993826,-0.0010422969549559655,-0.08422663099106606,-0.04699335475649997,-0.023081648129888485,0.08914041955260366,-0.046352055173553966,-0.03145436463020942,0.07388139413579041,-0.037253677011430085,-0.07530183846300474,-0.01974845608766977,0.03521189574944827,0.04862272798918329,-0.08573576624850683,0.0025037575302789693,0.05311866097308721]},{"id":"chunk-7db5cddc-205","content":"But if the logfire package is not installed, there's virtually no overhead and nothing is sent. Here's an example showing details of running the Weather Agent in Logfire: Using Logfire To use logfire, you'll need a logfire account, and logfire installed: pipuv pip install 'pydantic-ai[logfire]' uv add 'pydantic-ai[logfire]' Then authenticate your local environment with logfire: pipuv logfire auth uv run logfire auth And configure a project to send data to: pipuv logfire projects new uv run logfire projects new (Or use an existing project with logfire projects use) The last step is to add logfire to your code: adding_logfire.pyimport logfire logfire.configure() The logfire documentation has more details on how to use logfire, including how to instrument other libraries like Pydantic, HTTPX and FastAPI. Since Logfire is build on OpenTelemetry, you can use the Logfire Python SDK to send data to any OpenTelemetry collector.","metadata":{"url":"https://ai.pydantic.dev","title":"PydanticAI","chunkIndex":205,"totalChunks":208},"embedding":[-0.030866299464391955,-0.02038168371643494,-0.029286567830799182,-0.027564646236660398,0.08019839628657698,0.04837670019336286,0.04037994244830746,0.07276480609474313,-0.018088758535388754,-0.0002185371403060227,0.010088738310680493,-0.04230150739610292,-0.08522969471186786,-0.032239250301463795,0.08427283639726406,-0.08188752030780322,-0.029486343357474205,0.02546223652212979,-0.045287031028496336,-0.022588293937975977,-0.01897529218231322,-0.004940354724232531,0.013795866281881416,-0.03718158371387843,0.055249012125737726,-0.02856374196075814,0.07846344795976326,-0.07674010750938105,-0.02529219780598531,-0.040093626965704766,-0.0785564908252096,-0.022692220703174833,0.04535709774812935,0.07136107886780312,-0.018795590219085254,-0.07856955241303802,-0.0662171811368901,-0.08061594448421648,0.02422946360445964,-0.03038151185448898,-0.008981587411586013,-0.07156952206238605,0.08480527574047872,0.04226309649199836,0.07223459237521719,0.056386470647994,-0.0009980417285049188,0.03332484213709347,-0.020037126512140777,0.009809909788881882,0.04295088711229043,-0.038302653941031745,-0.06914107529941743,0.03213281876857965,-0.04742068945533301,-0.04348441980303845,-0.05965949893873136,-0.0505279805274397,-0.00016393538284788318,-0.0841899057668159,0.056908288167379875,0.07757898508937335,0.018836320789479475,0.07545529113681523,-0.013146081425845002,-0.017147006017476065,-0.05187788447572497,-0.037286755686769854,0.043937659917629684,0.014415025362098434,-0.07884699573093479,-0.0248805371912449,0.08186143761253531,-0.014373742615056946,-0.06727011234576898,-0.02688628590012503,-0.003345292360658902,-0.04194822230805884,-0.033436724776835194,0.06602138534681601,-0.06106943434108562,0.0482944274232629,-0.03668665192675606,0.009049638042276464,0.0145626547247779,0.009977655082421863,-0.01946763479331669,-0.06931410472606209,-0.07381401332908469,-0.020074602322469517,-0.008668767458818793,0.060619227469961116,0.04156920492823028,-0.05355549256086707,0.004849080115848891,0.02210101798183082,-0.04219474143975033,0.005736801637774671,-0.07000679572245165,0.009161257080007784,-0.05350228885327833,0.03278159245122138,0.0730379308589859,0.010692502148836464,-0.0857220367748916,-0.05278885819525774,0.08635288020283094,-0.007378153546749559,0.012895109596567065,0.039616963197255696,-0.049014616230967416,-0.06073918670512121,0.07260770124976512,-0.08089758172932277,-0.044329763857953224,0.04818902704610217,0.04854507205733509,0.01474827131032794,0.04550553799664555,0.03253020852661841,-0.08479909024784395,-0.03519766501821322,-0.033555811824870836,-0.07015959820448729,-0.03525688803003321,0.0848408035673397,-0.04167187239737879,0.053317369832752426,0.03005952051841799,-0.08419340733866938,0.03301517101557996,-0.06906288543118676,0.06859522292155545,-0.07305987585429008,-0.06036753763143617,0.04529896284053254,0.08693496486094048,0.04189168692147869,-0.06446028741888872,0.08059275726344164,0.05655019574716601,0.08727667636592903,-0.061974511475160594,-0.05569966992105624,-0.05697505033766262,0.046786923268226414,-0.05276828336108553,0.01670621739861983,0.06524748264049403,-0.010303432044721903,-0.009820479327533731,-0.0871396402573672,0.05797919450437315,-0.019860754945584695,0.014037166396120305,0.06865199850359568,-0.02702802427943881,0.047293325966847176,0.007202854981803007,-0.04120093185881851,0.04172054998293905,0.04433333358682256,-0.08677202333332999,-0.01113635036805442,-0.01837267060082782,0.08646939363420665,-0.028937757724392256,0.036671202166847584,0.01513740249753806,0.03868611029131759,0.015798660261737443,-0.07659510546288431,0.028161467180162297,-0.008762263835379175,0.06710408146320278,0.0518618224794144,-0.021448683213775636,0.07396247341204489,0.012144742792911604,-0.021586861811083196,-0.06185133644267036,-0.04933524366984993,0.02084712772908228,-0.036375748033084236,0.04435596983285958,-0.08575679829259573,-0.027472516469351005,-0.05644569639369623,-0.060291751407445617,-0.003154006839335178,-0.0287694420783378,-0.07582502395727356,-0.02585715934532625,0.031326121203292805,-0.08390627803780433,0.020008291702656063,-0.055639381656193414,-0.028057295798944934,-0.04738399327473759,-0.001963057733442095,-0.07035187738226438,0.05509397808922165,0.07717204771674044,0.05237909760436659,0.05199204156934656,0.07160806438360015,0.07151006951901154,0.028206755462572203,0.023599375741511917,-0.035046289346750845,-0.02936895337471469,0.02841919289143411,-0.08221612940580725,-0.08048080897652313,-0.03428498712484422,-0.03065715736051582,-0.0005288789800579161,0.05249026411688213,0.08422575003497072,-0.05043147425459043,0.0170735559992864,0.06813706250224498,0.02420365237695958,0.027486939734452313,-0.053315817408312254,0.03300942379106135,-0.08266674851492727,0.026695010762620312,-0.08524161134283569,0.006174904917407554,0.02950806089329483,0.012285781719805721,-0.05366640898485665,0.06457563087148246,-0.03552388304877301,0.07620742297190532,-0.012555552683904703,0.07496142828673827,0.049921324143847076,-0.031424716386385956,0.023336395229894925,0.0060741981253072995,-0.06503595337610635,0.08035764716926845,-0.049057955958786474,-0.048652923121149175,-0.009577277288001607,-0.03137261227877261,0.07001364156925986,-0.08243899996663573,-0.0023331714322290813,-0.016183078441530926,0.04502892937175639,-0.05237025893581476,-0.044634207327623056,0.07635037276777022,0.02972377863148684,-0.08654357568223564,-0.00925557990307219,0.011782208737066252,-0.06545577757900162,-0.08410163728841331,0.08597799395843994,-0.014145698803552894,0.015871692650696573,0.0856492426850024,-0.03254219525411023,0.007310469577237487,-0.06502673279768269,-0.056335767830227396,-0.012872763807147608,-0.08048106063543702,0.013973514451274009,0.0006145702986685345,-0.07126976004288525,-0.02040321242506297,-0.027316155656581066,0.0786359161747732,-0.07734149862678501,-0.06613242856916428,-0.07744812300670348,-0.052775320479215564,0.0483196120905587,-0.05783121015270038,-0.05958599822393244,0.07351203727409038,-0.046984378571667505,-0.03688930038037477,0.04524995633284019,-0.07877562832792032,-0.07556291875172212,0.052750554401097535,0.08649229815318775,-0.06743797261076914,0.051164563844140754,0.04173181046055046,0.04966846204140609,0.02891941496337752,-0.08451367939754846,-0.0009303284551123829,0.0025353112794660165,0.03022937165366079,-0.07938929559889323,0.04761389167646567,0.00029723986464936803,-0.07287253559858523,0.07412929347736964,-0.006630601357805683,-0.017037982300841567,-0.05029810358444105,0.009871465767452965,0.0855601225357805,0.07842916272605924,0.04309542855835069,0.06308995943971793,-0.0027392153429465216,-0.017528196093578696,0.06434949754269206,0.01933100622717927,0.02754100079829056,0.028535694544734945,0.04394255574479742,0.017717614879518857,0.01662904765638582,-0.05019091819359718,0.004116297665534036,-0.07920237940602676,-0.05212679679369966,0.04654913943786569,-0.01123584206276965,-0.001195558059609861,-0.000415591161756601,0.04465110449178671,-0.026585397269453116,0.056524971124798984,-0.05577129512306912,-0.0842139291660096,-0.062064777843337256,0.06238156235219857,0.03514771546554376,0.04110986070100954,0.026698539943876724,0.017624838628016143,-0.03185886874231462,0.017164781040812753,-0.07322292662329839,-0.06228902705204469,0.07356501453395459,0.010796380293227234,0.07915321488411244,0.05061823763828038,-0.018766979350193412,-0.07373980555350312,0.012538832109481514,-0.03348676444741429,0.07718270400593592,0.023423653504556625,-0.01374267012933974,-0.021974916530397064,0.08570281604093496,-0.010187205322347074,0.011391243858509297,-0.055010118287687204,-0.014496630247053777,-0.0527480720604518,-0.03473931169848232,0.06863059331205598,-0.03807305459351159,0.06329232787617034,0.07258601174393851,0.02971315439653918,-0.007347710845177783,-0.013090919451053404,-0.08091506684546558,0.06446609092327715,0.014026076251204741,-0.04228558782061746,-0.05987922165835575,0.03460963991476777,-0.01194491107966209,0.07793029705727424,-0.06842182190271695,0.03822457983907656,-0.02636948507474186]},{"id":"chunk-7db5cddc-206","content":"Once you have logfire set up, there are two primary ways it can help you understand your application: Debugging — Using the live view to see what's happening in your application in real-time. Monitoring — Using SQL and dashboards to observe the behavior of your application, Logfire is effectively a SQL database that stores information about how your application is running. Debugging To demonstrate how Logfire can let you visualise the flow of a PydanticAI run, here's the view you get from Logfire while running the chat app examples: Monitoring Performance We can also query data with SQL in Logfire to monitor the performance of an application. Here's a real world example of using Logfire to monitor PydanticAI runs inside Logfire itself: Monitoring HTTPX Requests In order to monitor HTTPX requests made by models, you can use logfire's HTTPX integration.","metadata":{"url":"https://ai.pydantic.dev","title":"PydanticAI","chunkIndex":206,"totalChunks":208},"embedding":[0.08050334014443537,0.013999188017374332,-0.002290728898450567,0.007105403619561393,0.07748381951042022,-0.05964911663153908,-0.05569923382918388,0.04002664933263426,0.03797928296618018,-0.025814534039318437,0.046005170277601294,0.019818165103349657,0.010866642281554446,0.07640992808944785,0.03394932600179558,-0.019645908163552942,-0.014783698886600619,-0.027031411908767844,0.0003937632639193112,0.02625314937204437,0.06555436573629994,-0.07920245944072049,0.08517912900113353,0.06994674740381988,0.06856547545458726,-0.010822630409875897,0.006389937903930027,-0.014804366489476993,0.020559928475937166,0.0076511513578385315,0.07408680503214964,0.016984984413626437,-0.002251140950254643,-0.058014311517294824,0.08281607567064078,0.06302019538351322,0.015284487105469159,0.013944457986009625,-0.048793235196430536,0.0325021002469615,0.04368889052549097,0.018496182398942653,-0.005730424545049928,0.08316474341207016,0.03325187337125467,0.017895915871872992,-0.07613887978265167,0.06336346138014677,0.06097323604191723,0.01912208094530322,-0.027707099571854243,-0.017108030733939586,0.06839466311992214,0.03016930288732429,0.07350208136241913,-0.0025788690496817744,-0.04255709984547294,0.0410770201240367,0.05091665748202967,0.030148462601600184,0.024641097447225098,-0.00020532273674155215,0.04076922528691075,0.03788876840961947,-0.07334811408813723,-0.0381085408915731,0.07772058601180212,0.06557714485323013,0.025653269659476213,0.005740010722533214,0.061171999355470415,0.04591944851093689,0.07747504191251624,-0.010518245953494931,0.048349619751645444,0.05514061793393992,0.081081413116973,-0.00999391665121571,0.039318960285595846,-0.04578349707899014,-0.06051666200547773,0.05849070710502166,-0.08461856672886793,-0.07099489643063345,-0.08313697253608583,-0.023667345295601896,0.0018943674578370546,-0.05548042724380606,-0.07682537636103624,0.020367279098774515,0.08225787256632171,-0.025027410930602557,-0.0297320280778239,-0.008592281348571748,0.0007512705993937008,0.0740870080918793,-0.08328916607607828,0.06918481311859503,0.05246243151005374,-0.07423652220831253,-0.07311530488085667,-0.04990569752670507,0.012443239111279994,0.061902998970591025,0.05867237304635631,0.011272109223217603,0.08373249239204471,-0.0619495947568345,0.04796139581861285,0.02616665603694795,-0.035281116864041354,0.06737498624804923,-0.07601058374274555,-0.006011751099460344,0.014490000481718937,0.03909524906722197,-0.03565808434005185,-0.0014953932107518934,0.037305254993681,-0.061418016619435675,0.03765665153679716,0.0833264346564001,-0.026989101701763208,0.07604164930567056,-0.0765879958629837,-0.049267454687587905,0.05228464585156717,0.007284517400280529,-0.04286380457396061,0.04879961944937354,-0.07504997512971147,-0.0444430213455955,-0.08398495661765046,0.011929602264489697,-0.045010779424337635,-0.0830619589086929,-0.014268421995777209,0.0342834886736872,0.026881021321338048,-0.03744343583615828,-0.08223148744610555,-0.07823948607108336,-0.008427920540090842,-0.01629733263600616,-0.08095912354721446,-0.03364026903819999,0.08092838980367728,0.07442908396658761,-0.0763736159909854,0.01645158240075985,-0.03917121678571159,0.062312589538856517,0.0782039536095271,-0.061106687065346166,-0.07758077124746182,0.08482260912695007,-0.06050588372897874,-0.05019956286947499,0.027888621238412303,-0.041328881644217726,0.025954268125369516,0.04387832866152354,0.04797559008962445,0.00765708859491345,0.029714717753504264,0.04313606766605165,0.05508634821822685,-0.07627716278755234,-0.024405939846600694,0.03369400811203991,0.012668450941231032,-0.0836036609498085,-0.008874509388126228,0.07134407626694457,-0.05625778960104571,-0.050989149590094075,0.006417805130946572,-0.016897371360064292,0.05004421016656883,0.06441628583720488,-0.05417084236327325,-0.017222941678976818,0.047727299844738294,-0.018960681470577154,0.06460252504539131,-0.0685313713801668,0.07054232404844121,0.00808322055534266,-0.06640755199644356,0.08172470012420223,0.07692630920239359,0.0667048536105842,-0.031195924371330647,0.024332193185354754,0.01631912097761276,0.062288542557795354,0.008047907973711658,0.038374383098378186,-0.04375397428802802,-0.04356192920639858,0.07698432483911269,0.039863742045666686,-0.07902503837414476,-0.030315268213775327,-0.0765721451045653,-0.03615565314734117,-0.08369082792839114,-0.08128888786617991,0.048471683931692815,0.032638475027065454,-0.055970557016157926,0.018329436476380776,-0.06648126034344749,-0.03360529210326063,-0.039942384476081415,-0.010712916516128882,0.016570081477243818,0.05049519692758091,0.06758720871420716,-0.07158076356867639,0.017930479777013213,-0.075587508851007,0.020759638400668676,0.07983556279810027,0.030961916651734995,0.013703697245266539,0.060176182033815064,-0.05064491924428783,0.008443989058257459,-0.0708316868339332,-0.04373034194965995,0.0066123993901413295,-0.029947331843935,-0.053962779026965176,-0.007973135229341321,0.03787551715734496,0.03073251375613333,0.04385861576508225,0.08142334428049258,-0.06861154068898435,-0.0008475533495797988,-0.02076890638872356,0.07176054728646879,0.03360968170971308,-0.0007871342008222719,-0.08216202071464662,0.026218377313151943,0.06634646103132341,0.0018745246868594688,-0.06139785911425395,-0.008983445693775708,0.011761954240045969,0.08508167955036448,0.044175619746419446,-0.017670505247066492,0.026217282593557153,-0.023483584803602495,-0.07943482907061412,0.057873827455864287,0.046080964014696454,0.03137254137531132,-0.007097096653264977,-0.03615036897641642,0.0681232354680007,-0.05507599026940147,-0.002645942821242402,0.03349654722452961,-0.03230860038737001,0.07962670100188635,-0.03817306115200008,0.06095564821785845,0.02920455789432328,0.08447871577454419,-0.08315741022490059,-0.00045136331686238657,-0.013101584155470261,0.0277672023688023,0.06386013220237419,-0.011141772617377175,-0.01274637502846968,-0.05395933372866171,0.08391829902052075,-0.012802448238460886,0.004821573688652348,0.04225175921859462,-0.07088033929724857,-0.06725955736586528,-0.016122593150133643,0.052623222883735214,-0.07892736985499357,-0.007762190133787369,0.07204118839541232,-0.07727378822773023,-0.02257178066388782,-0.06314746298793748,-0.05717417438032249,-0.04031971231781739,0.07018971094841533,-0.00023481495096968724,-0.044258285343125446,-0.05808152852334863,0.06776846808649283,-0.04344006994581778,0.07792019001086693,0.0335995058546036,0.07629515947750884,-0.01630423898885242,0.029428433381812596,-0.04740552703080956,0.021515767000319694,0.0838041610485819,0.07454520324640068,-0.069668214927629,0.0036942902780905647,0.04663660858368075,0.04033475253114979,-0.05582568702751659,0.06759772544343047,0.03835346503450179,-0.0435519524382572,-0.06504504763300066,0.08487994741349793,0.059170730450119995,0.0852786598273286,0.06433515261986376,-0.017620694512410242,0.07741159807665876,-0.06615799407716874,-0.04284205915817447,0.055854197310142024,0.057893582695595316,-0.012354467447493831,0.0706324906958559,0.04485201832104216,-0.019479616879762063,-0.018751169043678156,0.03140889284501401,-0.08132678726542815,-0.06867029306637053,0.051592901505258,0.00522483913616847,-0.06773380350774484,-0.0027581630742532907,-0.013704418925963486,0.008892210631841604,0.0665218980760638,-0.009702053110081973,0.07600836690921887,0.021482278540097453,-0.034361653304676575,-0.03462497422794863,-0.01363985212138629,0.03504613742779091,-0.012539276487794786,-0.0035787184536991727,0.06326654988075588,-0.06552796772443324,-0.0262020222512099,0.013633977794519546,-0.026579997160537838,-0.07704273546011493,0.04182505570044767,0.08167270188927488,-0.07733571464017237,0.03254581711320357,0.0006251169289820729,0.02383945522464012,-0.010320303624051362,0.051482203519421336,-0.08103432741625115,0.011832882746560386,0.05342590900401615,0.07660138778612643,0.014529571155542787,-0.05969690125344452,0.05434220319171933,0.057467506658581816,-0.057603212276868924,-0.018413131836966384,-0.04045392953745922,-0.010333518996071822,-0.05736291643552381,-0.019121119779719604,-0.0062469868619780865]},{"id":"chunk-7db5cddc-207","content":"Instrumentation is as easy as adding the following three lines to your application: instrument_httpx.pyimport logfire logfire.configure() logfire.instrument_httpx(capture_all=True) # (1)! See the logfire docs for more httpx instrumentation details. In particular, this can help you to trace specific requests, responses, and headers: instrument_httpx_example.pyimport logfire from pydantic_ai import Agent logfire.configure() logfire.instrument_httpx(capture_all=True) # (1)! agent = Agent('openai:gpt-4o') result = agent.run_sync('What is the capital of France?') print(result.data) #> The capital of France is Paris. Capture all of headers, request body, and response body. With httpx instrumentationWithout httpx instrumentation Tip httpx instrumentation might be of particular utility if you're using a custom httpx client in your model in order to get insights into your custom requests.","metadata":{"url":"https://ai.pydantic.dev","title":"PydanticAI","chunkIndex":207,"totalChunks":208},"embedding":[-0.08788826861519929,0.018953531429067805,0.022335670132544935,0.07864944084782166,-0.059072112380695395,-0.02356728171245588,-0.07944361912967814,-0.08371238871481536,0.011028772977751556,-0.046069947582184835,0.011301702560774896,-0.028249483388951103,0.050949213201012776,-0.018151126087683298,0.0013136946858961353,-0.033619406087057505,-0.06201042471587875,0.0054261183554269446,-0.08303075836472312,0.06215298375861327,-0.05533728178500566,0.027639024177319563,0.08396673196349358,0.06987333840429628,-0.08248637229969313,0.08319943495000538,-0.08424753968908849,0.05764387758500434,-0.021853318927953877,-0.028702964020610712,-0.04321171641631566,0.0036640402130855504,-0.04761816122428684,-0.06195788662667046,0.08485067696452697,-0.08368953205930785,-0.0484206474648241,-0.0128127661547015,0.038935187536510575,-0.06885089997495351,0.07802738595188041,0.021652287047459178,-0.06873629826915957,-0.05255614153094333,-0.018385646311879902,0.02057497748002984,0.08396473328164249,0.05603488597143465,0.0678314389321332,-0.021654876437526394,-0.008649967696273632,-0.07137121088301493,-0.008194694463725368,-0.0013788625924257194,-0.03811388700423364,0.07462739149941089,-0.005879034765163662,-0.06283640572205919,-0.020380836310106055,0.02007712762710751,0.07195115375948304,-0.08668902382669857,-0.030200203368647944,-0.030955630312241203,0.03975480999522668,0.02831770330061295,0.06696949344389529,0.06149941508390356,-0.027406777180613316,0.03371641229662172,-0.06697470829542426,-0.08362247087621873,-0.005933097454739551,0.02972999668005899,-0.034223261391847296,0.039422030690380555,0.07051091369371289,-0.008748512202624443,0.06512216028275672,-0.07285212552180528,0.027482064924955443,0.011688599523803217,0.08332206948629717,-0.06717545750821992,-0.06014280142372744,-0.03507343058652105,-0.03543445835242217,0.0446042011188316,-0.05251221037725135,0.03814847780331915,-0.08656075404733428,0.000022137116960661623,0.0804604515622907,0.08090851395275858,0.06598858744591249,-0.021698150892420415,-0.005149646099968189,0.05849897013782056,-0.05070436919348623,0.03982768388663256,-0.08602312446719255,-0.03772306249677965,0.028210019161206086,-0.08235746438242049,0.023821669321946834,-0.00024792895898635253,0.016193338466664663,0.0007624991853848208,0.05697871603849906,0.010763302882832114,-0.02569035577179246,0.032279958785435534,0.08080964956438073,0.01981607439365164,0.06944015130700494,0.030557136664284543,0.004597958296215309,0.04608699771144244,-0.05108553219526246,0.060866398267175534,-0.020170206142947913,0.009644025822461735,0.06852497327065174,0.04048069246633912,0.028727246322078046,0.015302497079072053,-0.039398165618867914,-0.0629060526427087,-0.01417523950239352,-0.04346864064090674,0.07092177079906375,-0.018361438538520413,-0.008159607379803452,0.08145935662108252,0.045268121716470835,0.08271431328688048,-0.03092454822567165,-0.07501554990845533,-0.028909164645595273,0.07480547887263501,0.027298654523985416,-0.044736108020970965,-0.035537529205862416,0.035852361898276924,-0.012559931979865617,0.06564429458719015,-0.020699928317841256,0.013070881717308825,-0.037561839990031896,0.07897383654991567,0.0538120800660316,-0.012464885095877745,0.0059539238280794556,-0.021367857321626514,-0.023170467048778724,-0.027566705072093606,0.06075043663754787,0.04598332735443983,-0.018276479746864235,0.053210015545107854,0.006528253021732232,0.010848658778852655,0.0756371803600506,0.06987114733585491,0.042460228258736354,0.0011793857447183595,-0.08195058947304372,0.0712993441427539,-0.05337001630646319,-0.0028572529331324626,0.031523385921023446,-0.04680634620206692,0.041672798856873916,-0.010334510330222956,0.06421868912672592,-0.0685180311060712,-0.0560997318675557,-0.016225927624133617,-0.04525459469597318,-0.053471965496601374,0.07694211450816656,0.03412481419369156,0.06297172608832209,0.05116820543875957,-0.08034570160243751,0.03997849973023653,-0.0017451663364486337,0.05479256456421309,0.038585190223708724,0.07929636380822631,0.018044656297310422,-0.04585960844855887,0.05653118658103657,-0.034741715862838744,0.08048693052040483,-0.06377452436237935,0.072776793507032,-0.0645808357520939,0.06872024956983763,0.04869814709783442,0.08417554323322297,-0.05965433303339101,0.03266000369997146,-0.00975218203681716,-0.003517059547882047,-0.08554354675714519,-0.014030865685507815,0.06848012694519004,-0.08545664895473438,-0.02628498842878214,-0.0339548718632488,0.01102027952471688,-0.050902402350225424,-0.043504060176635585,-0.04910231040734307,-0.009699021853953212,-0.06702500187247273,0.057404147689442714,-0.06511117246495288,0.06723138497454388,-0.013943324318080758,-0.06863044590213958,-0.000432438488389393,-0.060229547695065035,0.04126951993538301,0.04946568294199658,-0.00793426228228968,-0.0830329939558774,0.031831733221548995,-0.04250734137629631,0.04147976777066616,-0.0876679196814687,0.06817063019457,0.011858074226455647,-0.023505277055994478,-0.08201119720184576,-0.054805129688080496,0.0024802888484342926,-0.08229262528674958,0.030330205494417915,-0.0860256465914631,0.06096763583911363,0.06752344577490965,0.0748042990579471,-0.03002435265313676,0.06071492565301418,0.05551367035744122,0.02395388023443637,-0.029075019029139143,-0.07617349627365909,0.0261009167826449,0.05890639029461054,-0.041676788883936944,-0.06499632936665725,0.03515655346224514,0.027488666344297488,0.027610738364196988,0.06933245916638149,0.07968171912296554,0.05753133787780188,0.014667747267324201,-0.02380975469233552,0.026424746300909997,0.03261437287121384,-0.05218501386992978,-0.06600225952199748,0.007745609140255445,0.05757592639009329,0.02878881590724096,-0.034695240715909,-0.06149860584138362,0.03483510700951212,0.01757800239562446,0.058530570415147046,0.08488605003490116,-0.04620700639753541,0.07712747870971844,0.048545882780223364,0.03963735386991764,0.08158076832585795,-0.026535035292213478,0.005045654983129667,-0.08333469948325785,-0.07606609586080419,0.06858770872330183,0.005424907523969575,-0.032845200889246084,0.04100805357048741,0.06672758752388754,0.059010170383741484,0.06006818973490823,-0.016550986610959988,-0.07384374993944762,0.029330988660227344,0.0128159837637419,0.04353150120066478,0.00656828105561284,0.06920182413335557,-0.05214444972696659,-0.06455129468288834,-0.0027739446084058036,-0.01773654877040504,0.07288956862658297,-0.012575405131033961,-0.06452606125713338,-0.08463097246499271,-0.02368277947146928,0.001054916898533136,0.011837996836788144,0.001393323909383863,-0.016353095545838657,-0.058092450574398526,0.029713082207335678,-0.04740764069767145,0.08256773105282825,0.061394170839534086,0.060046224755676225,-0.012394907695601611,-0.057343715017850364,-0.0049267030231917655,0.06655923748735626,0.02163264569281068,0.03934990679105168,-0.08433548655685362,-0.04325424278300506,-0.03606283680620261,0.07570157154042319,-0.022717479254864087,0.016550260202531343,-0.05169378111210266,-0.06209408030359078,-0.062415514226998904,0.017120154860308726,-0.05967904486136127,0.05611296597796367,0.05073293884461264,0.034829497361800174,0.04480115947595244,-0.06046403787501708,0.024904787757529984,0.06861174969090314,0.030824030606602805,0.05597413795150219,0.07910037132552787,0.026111240673453443,0.04811654046690208,-0.06134526485856957,-0.03452538053524429,0.04998882287858666,0.044168717803660974,-0.048366185681726896,-0.030368810648769066,0.007900803208729497,-0.03324010032724907,-0.06851702760229603,-0.059376480461136104,0.03425119773337281,0.005911554512922636,0.07518071134056198,0.006316074972164444,-0.010760487666320376,-0.08140588949341741,-0.04154697820823248,0.028692470596864573,0.0377414733655124,-0.060022733782526934,-0.016070213421117068,-0.05012025074302579,0.06336660355288928,0.04671739632682255,0.04030654707691859,0.0212054890961141,-0.05620726095755019,0.06896135709924356,-0.02657530104806881,-0.06865870906805831,-0.006468961798496054,0.06290572592700064,0.05344007003854532,0.0546393677494651,-0.060093644802124244,-0.03944803249985743,-0.02367728884909306,0.005742543419211385]},{"id":"chunk-7db5cddc-0","content":"Version Notice This documentation is ahead of the last release by 2 commits. You may see documentation for features not yet supported in the latest release v0.0.27 2025-02-26. Introduction Agent Framework / shim to use Pydantic with LLMs PydanticAI is a Python agent framework designed to make it less painful to build production grade applications with Generative AI. PydanticAI is a Python Agent Framework designed to make it less painful to build production grade applications with Generative AI. FastAPI revolutionized web development by offering an innovative and ergonomic design, built on the foundation of Pydantic. Similarly, virtually every agent framework and LLM library in Python uses Pydantic, yet when we began to use LLMs in Pydantic Logfire, we couldn't find anything that gave us the same feeling. We built PydanticAI with one simple aim: to bring that FastAPI feeling to GenAI app development.","metadata":{"url":"https://ai.pydantic.dev","title":"PydanticAI","chunkIndex":0,"totalChunks":208},"embedding":[0.015009024782685515,0.060210963406155955,-0.0016051407323431402,-0.007975531689646535,0.058728698484845084,-0.05435202061566911,-0.037120351528960434,0.058808412327323006,0.03806965553763156,-0.055291670463199306,-0.07828303386853709,-0.004183357920041296,-0.01331003874728258,0.04438976492736216,-0.016182710283591945,0.005557833914630059,0.059604533145660346,-0.08430990447262456,-0.028885105479019492,-0.05539202552650243,0.061157644285433424,0.017513736775800957,-0.0008993403912097818,0.07820427365756918,-0.06612956837310466,-0.08328686800050057,0.005009332331979994,0.05751578651535998,0.009941057458318718,-0.018523522475331722,0.03046029134279727,-0.08361324777428031,-0.02043614042961246,-0.003266888398794139,0.04206129895973585,0.055611160740348914,0.03182959160832186,0.048701795890975404,-0.08638513242240524,-0.03289933831064802,0.04848571570433879,0.08477129300216488,-0.07648244366240654,-0.05168105324928488,-0.07912735283668405,-0.055514059732861595,0.013701167575213533,0.056704019591650584,-0.07592837181243103,0.04940586460514008,-0.029730959019041613,0.004460484636553377,-0.023685588378286496,-0.08250054614695099,0.074417449911302,-0.07882612338608518,0.06422684642852965,0.07985537615446621,0.05797796259473008,-0.0653187101185187,0.03443480339305138,0.02738886130214869,0.06509550566081962,-0.020622952882437182,0.05969177554209161,-0.04238336015848313,0.05270171488136377,0.046022695682589015,-0.013666711161810464,-0.08598377415589142,-0.020279659500388753,0.07910821585571867,-0.07617294180786621,-0.015440453682583174,-0.05756591454134863,0.034021744672551014,-0.08479592439472482,0.07641112792786693,0.040780458051693155,0.06960616210097952,-0.07909314430662669,0.04434585731252764,-0.07784313763510718,-0.07338024373001698,0.0341378030376815,0.03692905155746691,-0.009620571106930613,-0.08115257781770233,0.07942824042177259,-0.050924434665093936,0.06548369749765297,-0.0013748585288725656,-0.061403731102822094,0.07695721207506431,-0.03890324555189537,0.050282622435580265,0.03936508147447022,0.05623521779116437,0.05271000985811976,0.011447505543100044,-0.010992584232417649,0.014257966553219772,0.03048354097603227,0.014174431537590617,0.04448779102614912,-0.0011269974277151775,0.00024359920255019837,0.03853913257720384,-0.07489363102357618,0.07569497083242285,0.029711809623638317,0.07141240217914922,0.004489888471656596,0.031645703169460096,-0.026439392803282287,0.0010454267014849358,0.02920716927020231,0.06530469943081933,0.07910041809710941,-0.015466196243813207,0.020698520753803074,-0.012569699913648681,0.01965650560483149,0.015848281687376838,-0.08423121640474426,0.06289856729830011,0.06463855272472067,0.021919439846966274,0.004668555791790441,-0.03178510364484727,0.02190158010550743,0.05912194395239753,-0.03466835565323925,0.06443051102561125,-0.023668492625423705,-0.0042025081446901875,-0.06120880612344465,0.033772574137099894,-0.06832329391133761,0.013712061714402118,0.047582967989579256,0.017095338428607543,0.03882435662717607,-0.07212237536776078,-0.06692073206715081,0.01210145685969499,0.06620575037388708,0.07063208664060026,-0.07542825985057032,0.012103116779827425,-0.04868400664964067,-0.058085741348000514,-0.005669263240970933,0.02256423279005146,-0.06378592198747633,-0.00919568788453703,-0.0074340085081576615,-0.08159001904136427,-0.023070075868436107,-0.008964040895810026,-0.01637220487375082,0.0600712590226885,-0.07240065593598656,-0.06144801930762361,-0.059317786649424005,0.06860437654136592,-0.020164701711898173,0.07608902987075096,0.024608640499406483,-0.06853790437752877,-0.013123148011595398,0.07107243545358892,-0.04148602263658756,0.05886604241989798,0.02735077389819893,0.025809991256450383,-0.0813477862193882,-0.06519704003270796,-0.08479565198573606,0.05326714837260082,-0.06574151931479927,-0.07481807754403762,0.05127542391641062,0.058375636761980265,-0.005435929939878655,-0.024249184430533456,0.04193298542097343,0.024032115528091227,0.0683212079192447,0.06470662354551505,-0.016113023177247186,-0.06918095001433819,0.02891691512185414,0.0758634559179961,-0.08020724581687091,0.02853556680236789,0.08501177850912717,-0.03147087770433811,-0.04846873748802564,-0.01317365981172147,-0.04536596254269625,-0.0845911176813606,-0.019774903227132875,0.043820760882341984,-0.035881812136603145,-0.02164549493336678,0.013598309032524828,0.06654147982783636,0.012175863296166222,-0.03357952417920002,-0.07736869971869878,0.08593466334258293,0.08242070989777836,-0.0037043405761496067,0.027031000290012833,0.06532919067949598,0.06738706176733301,-0.030094530274838674,0.01594769563753907,-0.0052565143602861415,-0.06688834977252997,0.07001268675250885,0.05121593577769104,0.0031150270197208576,-0.06539831155732292,-0.07051800869060179,-0.03032280353631004,0.001656697270883943,0.047141089480922,-0.06507292558349653,0.07125731509819727,-0.03906776644897247,0.04711659174741726,-0.009786181261708948,-0.05142112504690857,-0.05900283621709601,0.019409994378765668,0.02575917369960258,0.08009475905140898,-0.055111531512222034,0.014843919066646562,0.08405736745637027,0.08200573937399268,0.06897337292908236,0.06772088190195517,0.017381158766227065,-0.026157046175133272,-0.018825164282157903,-0.025246835729472224,0.0027826996953973543,-0.002908987157540857,0.01947744632910068,0.05282565905612327,0.019913481487898173,0.022636184952322485,0.054170494734035804,-0.07589323223362653,0.08416142863314828,0.003841994770364124,-0.00398839398222419,-0.01615782331964915,0.05490274926731474,-0.003135937470235214,-0.031518116761161195,0.0023039965865433148,-0.0587491123762638,0.03430816380106262,0.02378229656131498,-0.05057715176078743,0.05171662462125603,0.028948420869715524,0.007134142312579993,0.0260583570025171,0.07062113869148864,-0.03704421526988147,-0.08118656569034015,0.04100784643301427,-0.04708724664697505,-0.04768214780625445,-0.0717287777406066,0.07735462583912364,0.04354063552118032,-0.08596178259575772,0.029785040674381855,-0.05220998224187784,0.02045351480584655,-0.012111482563010405,0.07360429317091158,-0.01062948589725734,0.04581515262454532,-0.05181664330483039,-0.028764112748980802,0.019760842458931144,-0.03021293680151298,0.05726757174473466,-0.03250007253620898,0.053342219267099436,0.048905197933936585,-0.06471768422518877,-0.010350874160506007,0.07690962656818512,0.021651607170401217,0.08218021170061897,0.027624768042095755,0.05303854342958002,-0.024900369672412027,-0.020780250637091678,-0.05057961369534456,-0.053411368944207116,0.058391315232570185,0.033906387079619266,-0.05236734691973777,-0.011680545974666657,-0.04943381830114076,0.051675808646705845,0.0652583660758154,-0.074699200578638,0.03966467113890007,0.07255700378666241,0.07779609956194242,0.04826090648275391,-0.056081779925842214,-0.01276342196337441,0.06613397271263062,0.03792379079069567,-0.03533534403247848,-0.05807555137045561,-0.07050576215926134,0.047866207420174216,-0.051486212645494266,0.02199129250952721,0.010157040196396116,0.06940597341083678,-0.004831482657312196,0.06676122162365769,0.009178836168049336,-0.0695876967697436,0.062034838724051196,0.02696754463195984,0.08058776218764445,0.004394490256885476,0.04644262018379929,0.008605324402382127,0.07439668697581724,0.029320518473440443,-0.01859344619246979,0.08061193388262626,-0.02146739510502384,-0.0721315400869595,0.08427981159851014,-0.027920069503419975,-0.06021080741292853,-0.06758064513907606,0.06579409140979717,0.04648452241591981,-0.04661334063052886,0.06088145492314092,-0.022999916168917944,0.03340378901229429,-0.006645749452192994,0.08520483821022982,0.018377099473986785,0.0631937390801844,-0.07455271447201026,0.06697477093282003,-0.04571810856217726,0.04556644952131222,0.008920927198378639,0.08259326290201716,-0.029272131124643497,-0.008550559383962524,-0.017383644681255733,-0.04018229688331283,0.03919976854598448,0.01792128574956732,0.06114565205098502,-0.0349438893889621,0.03286995436925213,-0.026226528139616328,-0.08278266770221236,0.05745627187715038,-0.05711877116281546,0.08511412330394057,0.00923252125301804]},{"id":"chunk-7db5cddc-1","content":"Why use PydanticAI Built by the Pydantic Team: Built by the team behind Pydantic (the validation layer of the OpenAI SDK, the Anthropic SDK, LangChain, LlamaIndex, AutoGPT, Transformers, CrewAI, Instructor and many more). Model-agnostic: Supports OpenAI, Anthropic, Gemini, Deepseek, Ollama, Groq, Cohere, and Mistral, and there is a simple interface to implement support for other models. Pydantic Logfire Integration: Seamlessly integrates with Pydantic Logfire for real-time debugging, performance monitoring, and behavior tracking of your LLM-powered applications. Type-safe: Designed to make type checking as powerful and informative as possible for you. Python-centric Design: Leverages Python's familiar control flow and agent composition to build your AI-driven projects, making it easy to apply standard Python best practices you'd use in any other (non-AI) project.","metadata":{"url":"https://ai.pydantic.dev","title":"PydanticAI","chunkIndex":1,"totalChunks":208},"embedding":[0.07500543045577016,0.003162084423178789,-0.06382686993862559,-0.009917151409158225,-0.07356905514985897,0.04298650253711857,-0.008039092264317092,0.026159456874444296,-0.06406171520701137,-0.0008834572821605684,-0.019066578614810824,-0.03051143772964751,-0.0844362436061908,-0.035686929412077066,-0.043182756623981765,0.06479301033049499,0.0031606166499233705,-0.07170726370748175,-0.03740343698868313,0.06675978506856646,0.01915140228514099,-0.028273812848458636,-0.04069064705457519,0.04070831669002461,0.026782920926221095,-0.03256594805487066,0.05293578257301375,0.02166858001752666,0.009602160037204314,0.06781927336651977,-0.0478250583151164,0.08158149986382103,0.0612112745570693,0.0005873518979077741,0.05485896193053551,0.031468693111589015,-0.07653804663814513,-0.04215455801446098,-0.07172440611752533,0.07219868223703085,-0.03300937979807877,-0.033914484987350446,0.06495512777350262,0.04446212641060492,-0.04597593785778248,-0.04504529089179326,-0.08169442374371566,-0.06385186471424843,-0.07649326096159059,0.01877528391002515,-0.026480563828474437,0.06270621366068688,0.04357294683102192,0.006945505269801979,0.008621024709739768,-0.018885456350017316,-0.00234053989341962,0.04576203554564781,0.06518808871467516,-0.02205556241854605,0.053359927245078556,0.06197373647149288,-0.010284158003721683,-0.0694390067048582,0.06152971297774822,0.036445737809462364,0.013022965915210991,0.01005189929925961,0.0545991790550793,-0.04814255597378651,-0.02920297022142806,0.009520930972413943,0.05986626658508983,-0.07105742286772268,0.07619395373561434,0.08025551882392545,-0.018026357803252895,0.08587891959737276,-0.07193518257083227,-0.022122668938017283,0.0769198597657898,-0.04638321803741478,0.05100929704851939,0.01548910670413638,-0.004711029935544812,0.07124666390565115,-0.05242946826265082,-0.04237039214127775,-0.03462787703150801,0.06407927560566716,0.055395654294867064,0.02355361438819219,-0.08164223487834277,0.06574856205761984,0.06212655528772882,-0.043281582338030186,0.03531048928195431,0.004168531617024316,-0.03233156919397364,-0.028974161825775405,-0.006293832336840649,0.06989150881592096,-0.0033097971685544475,0.07554164929530112,-0.06739007243190898,0.041409122990259936,0.07690896394570076,0.027474650472548105,0.08080778423921023,-0.025685183119111908,-0.06118914981939416,-0.0040896518257269,-0.07611348932979617,-0.03661233538645509,0.06252820385320128,-0.0707284491568252,0.007844367751862055,-0.06533586036934554,-0.03257543624322134,0.08473509889491841,-0.03127856526506091,0.02174029678267455,0.06513824767329615,-0.01520183587491693,0.05980147560626873,-0.066570052014553,-0.0051274085352942585,-0.05942475377009658,-0.03214268944023469,-0.05263726417349764,0.026414055694343973,-0.006364281709761,-0.07281718368051139,-0.01711585816543289,0.008461226917334879,-0.08460619224528293,-0.08619392596338524,0.004631856656322587,0.07518614748198173,0.050260092456193,-0.08374801566504395,0.00038682679671977414,0.03642616716646342,-0.06467961345971228,0.06728975477550372,0.030347944630898037,-0.07297497436060274,0.02062173423647126,-0.005630504877186492,0.03838009337479577,0.04239384207323806,0.003235761300519397,0.07692533547537159,-0.03354321306279706,-0.08149473631502685,-0.00030168629911604553,-0.02642918471746816,-0.007199560189405018,-0.02076438762701788,-0.039740412712281556,0.03612111596446955,-0.08408062613078912,-0.03315311656148041,0.08541850147219388,0.016251843947213355,-0.014772463261889053,-0.04364708790039329,0.05852076826024221,0.04247669975163804,0.06114709897500234,-0.07430848741639717,0.021913050252359394,0.06651323944507914,-0.051347061088374266,-0.044691995035039775,-0.028688956981959418,0.0038120953957249976,0.0561917599378443,-0.04213845413716117,-0.03297798137460383,0.08558730524375478,0.002174829857071744,0.003202263681493833,-0.006756283709910737,0.03779469058660082,0.005201910711471328,0.046948915123061694,0.04301793299365194,0.03581881195649029,-0.07909377038971946,0.03205708039864114,-0.004500942877422243,0.07275659316953009,0.0514231390225638,0.050471038973497986,0.022901016494239274,0.049992061738136126,0.021009987482947308,-0.03920916142276528,0.022662109926334814,0.023237740208976888,0.030920130816922627,0.06449486365859904,-0.06420094086173012,-0.018896987039373554,0.04964162912313932,0.06914565421899051,0.07270517760750636,-0.05357076231489361,-0.019525740423089445,-0.04261225494449046,0.03212881330719245,0.02207628497102205,-0.018645436421770335,0.009404662098865032,-0.0851030213646587,-0.04608616055553998,0.08309002822939436,0.08021069271993553,0.05554895533682102,0.013535423115471209,-0.06331285267664678,0.08406548985726114,0.014511995716446497,-0.0830326128078131,0.0519237892828514,0.009782099208937021,-0.045033092218375065,0.05917145012858168,0.028212609178946916,0.004223381547494825,-0.05624467632173623,0.06283359929416703,0.08162462008701919,-0.03141637972706354,0.00945639067024368,0.0017754958281566322,0.07890699708150205,-0.08077945611610081,0.07854533308715046,0.0002875993469673131,-0.02687481545982176,0.07427835283904749,0.0658793239847935,0.06544095309505683,0.06862260941510108,-0.030260271447039935,0.03548282668880724,0.02532141094632774,-0.006621483942509068,-0.07728808700510648,0.036998776654980345,-0.0725837749527634,0.011766850079426077,0.07778851784434304,0.08472761221976048,-0.004430769654295788,0.030901194993920873,0.06591245835280403,-0.03260503058630998,-0.014911629987557849,0.012397807253834714,0.054604555057284405,0.06500220800813945,-0.05222003801398012,-0.030469803259291436,0.04841976824391614,0.06696103865562529,-0.07049331228746206,-0.025776289497772675,0.08548597481451439,-0.06819236280926276,-0.014092039831688752,0.07901204582592312,0.08616673610511,-0.020676721283977153,-0.03429693802174638,-0.012688800597932088,0.08586915646366727,0.07181849977659474,-0.03853244442842106,-0.05404333157994434,-0.014112989705338247,-0.01073566198383755,-0.0717385617424576,0.004192472091346272,-0.07865095466543703,-0.04281801483935827,-0.08044851101624004,-0.0762383759268065,0.03887484261769647,-0.08020191662544436,0.005123576642345286,-0.0762502935287824,0.04118015461742264,-0.031289846398599865,-0.045554283418204444,0.08354311441274365,-0.019035152754082692,0.04913625877505298,-0.04023626886501084,0.027365834039640526,-0.08476767626493271,0.008212448668081703,-0.004099967023767707,-0.08256887437764478,0.05103171794378151,-0.008684995105694154,-0.028872739317744825,-0.01917946518868422,0.031605530154306276,-0.03966583943466786,-0.047705648853920674,-0.06455022164808101,0.04783029490847461,-0.07969814525978255,-0.003255451868124979,-0.005891857471774011,-0.048680878695224694,-0.027867693418648632,0.081010290739648,-0.021709321159586528,0.04103253718368927,0.0188727260574659,-0.041320459164810384,-0.003240045790323132,0.06842358822012977,-0.07959369903538825,0.007609274439071462,-0.05046730622368183,0.0296873940180484,0.043462253135952075,-0.07593390990465107,-0.06652238478527303,-0.07633553520236411,-0.05834027245977266,-0.0701007822358075,0.017216343202549264,0.07266515285294878,0.03133686737952418,0.022898911451732257,0.027314396157980283,0.022646158208207305,-0.0688847402794404,0.08438467227105768,-0.03863378942702203,0.06980682189220463,0.03939771372978867,-0.004650856045972445,-0.02105603819062579,0.06878819170991218,-0.0008743804798972058,0.07516292973306604,-0.03009624681593068,0.04133000837697324,0.04976722757395563,-0.012669914123089546,-0.07121999271255143,0.06051997530725337,-0.08285542380994644,-0.07559508300833293,-0.043849904456179666,-0.049622365557723265,-0.08247990864150886,0.05302006820286719,0.04887077142371921,0.010581375007230357,0.03309553310730496,0.00013798359963014827,0.05610911233595898,-0.015275784923144426,0.03742156977413421,0.0660433361038403,-0.0092992157239259,0.061513533874203385,-0.020863266339534652,0.07122713895483546,-0.08425841985215757,-0.0316549239488761,-0.06512720931209448,-0.017922459550241805,-0.06914950028446402,0.01129920945517521,0.04223670301724548]},{"id":"chunk-7db5cddc-2","content":"Structured Responses: Harnesses the power of Pydantic to validate and structure model outputs, ensuring responses are consistent across runs. Dependency Injection System: Offers an optional dependency injection system to provide data and services to your agent's system prompts, tools and result validators. This is useful for testing and eval-driven iterative development. Streamed Responses: Provides the ability to stream LLM outputs continuously, with immediate validation, ensuring rapid and accurate results. Graph Support: Pydantic Graph provides a powerful way to define graphs using typing hints, this is useful in complex applications where standard control flow can degrade to spaghetti code. In Beta PydanticAI is in early beta, the API is still subject to change and there's a lot more to do. Feedback is very welcome! Hello World Example Here's a minimal example of PydanticAI: hello_world.pyfrom pydantic_ai import Agent agent = Agent( # (1)!","metadata":{"url":"https://ai.pydantic.dev","title":"PydanticAI","chunkIndex":2,"totalChunks":208},"embedding":[-0.009553868619240107,0.05798520954967318,0.06697626879876299,0.0034799164591508636,0.058421086645615024,-0.07034832042097323,-0.05080022186124155,0.06968504354070171,0.06653299993609074,-0.08269437322156793,-0.030807616839943788,0.03964405498469702,-0.05157969042208596,0.06965621340856837,0.02920007459816432,-0.04466244402081827,0.0831728025397266,0.006671182340023357,0.039703948382297814,-0.016580940712272313,-0.05086220252648599,-0.04576896913923724,0.006307982582002487,0.06423403132136457,0.018700779745940838,-0.017281494810800074,0.0023188535901829755,-0.003414398657990245,0.07810017030870645,0.07508675752104033,0.037788371082768744,0.011712017565463572,-0.06848169142877733,-0.05669738578950699,0.05626812561335317,-0.055240305625505595,-0.03200445284760034,0.021226040389762103,-0.01582710548214947,-0.07221885920318775,-0.062339979644063376,0.08291488753182076,-0.04097179177049581,-0.005114654367012742,0.046375582234540066,0.04058465939884318,0.06413504986586134,-0.027552904646746163,0.058537924165648056,-0.07256699491195676,-0.035339111274573724,-0.008100037636925777,-0.010731194255498554,-0.024213757660407238,-0.040127007532814486,-0.04003305405798139,0.037680018608071644,0.07761243925848701,-0.03776826059579685,0.05688421418143376,0.0801393155848782,0.05547379442914241,0.04797505945643049,0.06294954085645853,0.031943536697165424,0.07458575553703521,0.021888816403332317,-0.033293900694047286,0.023116177481607592,-0.03950815901038656,-0.07061844766330624,-0.040320207290762626,-0.07670760578554314,0.06880535142574958,0.021055243577646578,-0.050582210548535726,0.017020174158539625,0.0817287905294333,-0.059383384767755655,0.03311817083250758,0.009238602334479864,-0.02085130450381923,0.06350063621268068,0.04445449228464999,0.004521064933619707,-0.0809034037264576,0.07717426116223478,0.006078831641920275,-0.041699280101943105,0.0844221920473896,0.060501747993172775,0.04920929531639849,0.03342928814989363,0.0011310973093236658,-0.08250555128026404,0.08291288019152473,-0.06762833198430956,0.04367278689111703,-0.03226168546383,-0.0694646937570045,0.00785530791252176,0.0628352154783712,-0.05129956504673137,0.04163191254607851,-0.07515701777908321,-0.058574242053204585,0.07361337354000146,-0.02937415352011508,0.054177011203684386,-0.06582575611062619,0.013533428712122474,-0.024728701613773944,0.023611170100613935,-0.002175329809244142,0.053532433316115874,0.02141353135303306,0.004071010774280359,0.0622649475631368,-0.0205735999462482,0.044063005398291846,-0.08385234038230441,0.004319861475842444,-0.052003892914625975,-0.02571363648277823,-0.0069394538583062776,0.049599795594416934,-0.045317497780345904,-0.012210548802297811,0.05852387930186876,-0.07158412578339568,0.08288141433858104,-0.06639669434947842,0.06214066943675783,0.02475934481617056,0.06550103214078007,0.06891125507838629,-0.020889974122378786,-0.0284832215874653,-0.028518361096672558,0.005685705251840905,0.07479929802935632,-0.04186408855154803,-0.008651603167468082,-0.05726656682476788,0.0209649942876356,0.02543565356300146,-0.003403555611352151,-0.08189612360873873,-0.041718179417693846,-0.0028998004178860727,-0.06227578438714306,0.04369943984562642,0.022113606970612393,0.05197140498685196,-0.0149755018629769,0.08470939650101789,0.01076207213471654,-0.08013508546811168,0.03905402700083393,0.021248728703408493,-0.013297966897772314,0.05264586050760864,0.07369982997672336,-0.05113453672101586,-0.02979883069458809,0.05950307644032047,-0.08365842196561808,-0.0620412194928787,0.08131619789201275,0.0542030249560402,-0.0036406273066598304,-0.06506651359012677,-0.06123988436250276,-0.05657017840004232,-0.030187714613529645,-0.061946537196357856,0.014411244889108814,0.03677463551476853,-0.08133416638003188,0.03644490655441512,0.06133345022458119,-0.0008819287030656271,-0.049246403579017585,-0.06699335308990022,-0.08400270668354595,0.065901723458332,0.029098631830192925,-0.012120662307367126,0.069231887856637,-0.0343083246895491,-0.05589175118147761,0.03452884690021507,0.011621124858334128,0.045296720614065304,-0.028869372392852147,-0.05997321625366054,-0.057847793752872675,-0.07240972402328139,-0.06000870177379996,-0.05011599549174667,-0.024850620077119495,0.06157020405893946,0.06004588548921966,-0.0314442735316732,0.046989608254149245,0.036969648785698826,-0.045036163646647885,-0.003288175929149449,0.010978420543134693,-0.08378551608533713,0.023271821651411558,-0.07622587575215432,-0.07389268813574716,-0.01545502393291877,0.017670829357681623,0.06313935366494874,-0.006063501974323047,-0.03357693445729413,0.07128505820515,0.01016409900617722,-0.01855066288123718,-0.04399422457407671,-0.030809477204661883,-0.04344119054784882,-0.06396349365445395,0.07455603613312166,0.019349418140439615,0.03782221008525451,-0.02521339464487816,0.03402638298030395,0.07922025987305638,0.057227465201355,-0.024914770695820973,0.05393695807144532,-0.030712906999015955,0.05950423875084469,-0.08413976807625863,0.07859981754923898,-0.004958019315889309,-0.002817659856142004,-0.009297785399014498,0.07994750199896182,0.051797592440361126,0.07496748180891254,0.07724975586644196,0.0784861613471615,-0.049021898726220904,0.042610360130650955,0.020829001805014208,0.012100048269452416,-0.04617687552649233,0.010936545082133963,0.04033004440081484,-0.07699154059476383,-0.06335813588452065,-0.06879556287953587,0.028897380787611268,0.0021777862433188383,0.017811589304601826,0.04009569087609273,0.06303783029873351,-0.00048198826245063477,0.04094131330494725,-0.02918698552205901,-0.04014210238623779,-0.04209590195832351,0.056593764103649066,0.0037456955003798273,-0.06143565906578302,0.018547709560257017,0.0016618645361444243,-0.016430859948133043,-0.07941868489107087,0.03911718738019404,-0.030108108876883404,-0.027917596081059898,0.07071922658087339,-0.048995333976947976,0.08037733041006333,0.001327709460452856,0.011499339974776406,-0.08039685867879973,0.0006128942218831677,0.043236034321518055,0.00451442050863241,0.008592049389825515,-0.016015584151576237,-0.05533669749901757,-0.03211715127954185,-0.03391793894905688,0.05613510289712855,0.08292392024951038,0.08376091453287325,-0.02525604497454003,0.06106748260813432,-0.01511986702408633,0.06026997339655783,-0.08116827133077896,0.0037637985545795794,-0.04044473310427166,0.04162388325241671,-0.07104534676643598,-0.003857274991153759,0.04325887226539459,-0.015008687834379947,0.04467417932533888,0.041971316396926105,-0.019308995694449486,-0.05360396459335419,0.04816571889529448,0.02038266488118189,0.012573928692241412,0.06433749734850633,-0.008423854381236776,0.06199528106128342,-0.05649239095048767,-0.06750198886776472,-0.0821146957868091,0.0387962405148237,0.06335777402478586,0.008872205133508516,-0.002549514961714864,-0.05407519274712632,0.038105526696765354,-0.04068394419316958,0.07035701481547577,-0.020943024540386462,0.0763100238922992,-0.009653988412188466,0.062481673329318484,0.07949226140056637,0.0628762076935476,-0.022562533472715283,0.05975224975349404,0.040391016312273306,-0.07098172874716382,0.07141358190069458,-0.078547542680832,-0.07232533166938536,0.08189123074092919,0.07297481036314817,0.08246576046906749,0.06218119759154588,0.007965884363406926,-0.04407589366451704,-0.07341144755775951,-0.04780813544272068,0.08029450750593277,-0.06155815895055894,-0.06620144553074565,0.06755998828713675,0.03063764397389106,-0.062019967285421966,0.06272975049899017,0.0398278954675218,-0.012646794547669628,-0.031146649265223203,-0.01577373361582137,0.02501121890777223,-0.07883596955771713,0.019796768431396394,0.01658886456289884,-0.056102442021212846,-0.017644220796738778,-0.0479478204433379,0.024329152575136768,0.08399748031851725,0.00808289610152543,-0.07041155290448578,0.013480496379340765,-0.07835042699888535,-0.07519877740773731,-0.04493057533446442,0.08086778231947482,0.0015478301120822632,0.08393465552693956,-0.07334870737242015,0.01548332567573017,0.07843143338942653,-0.06991000073785524,-0.010831857921920386,0.01851094878791785,0.054036531901515805,-0.04422746204766497]},{"id":"chunk-7db5cddc-3","content":"'google-gla:gemini-1.5-flash', system_prompt='Be concise, reply with one sentence.', # (2)! ) result = agent.run_sync('Where does \"hello world\" come from?') # (3)! print(result.data) \"\"\" The first known use of \"hello, world\" was in a 1974 textbook about the C programming language. \"\"\" We configure the agent to use Gemini 1.5's Flash model, but you can also set the model when running the agent. Register a static system prompt using a keyword argument to the agent. Run the agent synchronously, conducting a conversation with the LLM. (This example is complete, it can be run \"as is\") The exchange should be very short: PydanticAI will send the system prompt and the user query to the LLM, the model will return a text response. Not very interesting yet, but we can easily add \"tools\", dynamic system prompts, and structured responses to build more powerful agents.","metadata":{"url":"https://ai.pydantic.dev","title":"PydanticAI","chunkIndex":3,"totalChunks":208},"embedding":[0.008100435002019991,0.01697550995684778,-0.06869564927695253,-0.0033182801258794564,-0.06294265000152945,0.08870601320470885,-0.07023066308176072,0.013265080173217309,0.059984336390440054,-0.03235539929901852,0.0729848527730044,-0.01494963013677367,0.0189969148107413,0.044810699705040244,0.07383296584821247,-0.06038516254182135,-0.07671720751437389,-0.027644462884839235,-0.01858667564248173,-0.04473862465723044,-0.0008642373775124965,-0.08811926131630181,-0.05806810618065612,-0.023179330210839604,0.000951726811121287,-0.007494516176810253,0.002511944552728117,-0.026248698840878857,0.06887386632969653,-0.03972817085432257,-0.014132291806916993,-0.037360403814532574,0.05799176567933597,-0.03692961720496018,0.004103946157481939,0.019698497454535155,0.03398949441202445,0.033815474029006164,-0.07672018787035446,0.029109212159843946,-0.08997804923075098,-0.04251978266978775,0.049856232642001674,-0.0727266749254642,0.02895602329567374,-0.013716986524091581,-0.06744180572736962,-0.06902815434427292,-0.08358017172110105,0.07958027794025853,0.003127772389946109,0.02674151009808609,0.050981924834663364,0.05453594680914772,0.03427034243450153,-0.009370283717343525,0.006179277481370911,0.05004644943489519,-0.030120392074876056,-0.020805511930821204,-0.07754450802114794,0.027815394801158543,0.01064891852807841,0.06432596982271065,0.03293593383322658,0.07871575270782866,0.0783667911357053,-0.08734888978141883,0.08799639683464161,0.052517092155144524,-0.0566883425640906,-0.06846124784462503,0.034495130087888626,0.02563704910828167,0.011850516719108464,-0.01800475588574713,0.013179045005087923,-0.028421488652550835,-0.051067743727666676,-0.0730943077838695,-0.08465848133727814,0.022606676963285267,-0.003991704293183874,0.037593528076208166,0.07395964533086365,-0.021402881216360768,-0.06567905669795437,0.07138866973889517,-0.08168157010042519,-0.03664499714107998,-0.06380743564038376,0.05604599644245063,0.05570904589054209,-0.005985018797730593,0.0006980745320598564,0.063997049370947,0.005960467448517465,-0.07339543498190165,-0.0192057267656301,-0.030132275159879023,-0.04957792642426108,0.04984112049122503,-0.05315900673186592,-0.040469209432022354,-0.0419473611968568,-0.04333363081385742,0.01876719370243398,-0.08553567625462191,0.04788746870615316,-0.016109562010124333,-0.019864478892617422,0.023300085388738453,-0.003929636814957674,-0.07432857622606648,0.08637589621846593,-0.03872763795603232,0.07157332195667516,0.06703624197061908,0.07798159210946864,0.03946476720499955,-0.01597763612922812,0.0027455846630160437,-0.06817355867896413,0.019327650866888833,0.08165631325165905,0.07564209127916477,0.03455442582361237,-0.011249144780603645,0.0726288905230663,0.07442726336128086,0.020934747012504983,-0.06195474660639715,0.04575810699953961,-0.05430205051430028,-0.06734185816348241,0.0013630109806159602,-0.0066976114427344064,0.022374599595906857,-0.06888016552600651,-0.055996796595977824,-0.08336375009013282,-0.06271464420182521,-0.0891884629369804,-0.06984062524287812,0.042819285635567174,0.04732066954710021,-0.0016411116855778668,0.05198487755237879,0.025629993764389764,-0.054539486133231375,0.01582529560616865,0.055423484693084966,0.040064107678993474,-0.01979585833391296,0.0031643905654899183,-0.051368349066280385,-0.08389156012786081,-0.017546639310088832,0.06780748735978964,0.05390614228001819,-0.009842998807477285,0.08422909631774729,0.011237041920940617,-0.037063662109312986,-0.02782094275235163,0.04911652834161171,-0.056926821446530725,-0.06879246511543728,-0.004712597068619803,0.021550126259946924,0.043282372047865496,0.058668726067138084,0.07732823931047447,0.05801302198914141,-0.0490099082363201,0.08124752753921011,0.055282759948721505,-0.06935383030684601,-0.08764898027510434,-0.05943162745539583,-0.08817240384140712,-0.007614075123058665,-0.015702156493822752,0.02962689656834379,-0.04401640141493808,0.07736779821116868,0.004110527715786056,0.0603770773113361,-0.06965501017355331,0.04544127557787578,-0.06341979981266688,0.0652239286879922,-0.06045402693939943,-0.0004562252764194329,0.011883836031894633,-0.051344427060169555,0.005376225228852195,0.057711997917261774,-0.040561268617035746,0.05411290969916286,0.03909852596672053,0.049159927447703776,0.06760604991671684,0.018959732305837706,-0.036895652848105635,0.07715338980099977,0.0014071006034095258,-0.05705789600345635,-0.020869468821904418,-0.07823999124168982,-0.026992905574663485,0.022390056450080225,0.025513462472138555,0.051651580214414586,0.026395145231849913,0.06056813522055942,0.07799652914583832,-0.07609656436490375,-0.08998436558358551,-0.033120006838833795,-0.04651780502441963,-0.0846373398500916,0.046973538696435405,0.0474231485079236,-0.005911112584391801,-0.0867913056648178,-0.012674062735178815,-0.04187435568388186,-0.06583596957233506,-0.025001163673006383,0.0779401553773895,0.005437017766221707,-0.014644900184295106,0.04698841344441136,-0.0637675104552001,-0.010702225955424258,0.05839429386378851,-0.056945685407094056,0.017003740017489225,-0.037747866574199374,-0.06042788850744184,0.02508587029934055,0.02379411552292031,-0.020049456771712475,0.01200511035632671,-0.04802863042803018,0.08423711805589208,0.028594735740245916,-0.017987654411997473,0.045925008635683925,0.05702000958221454,-0.011418163678602829,0.006181798527247525,-0.024297890401728958,0.012013793560249288,-0.07254022810512267,-0.002326346330369239,-0.005474784873502461,-0.012066719637325996,-0.01112128434445482,0.06457386074606582,0.02951374932900448,0.08370145629099762,-0.03235983632915546,-0.07183157172981172,0.07819781271083562,-0.03589399019256889,-0.04826710631104647,0.06035085505286769,-0.024567279709883164,-0.05144217552771954,-0.08934765793868432,0.023960213796927723,-0.016167302580093964,-0.05027406518744237,-0.045556281623726644,0.03607956520953629,0.0545759809742221,-0.009447428954124166,-0.004357987693330108,0.015500485592832002,-0.03700573173500476,0.04124309292622574,-0.07992015521083896,0.019597130459275677,0.05369095361145713,0.00848709587332437,-0.08940532357262375,0.025913192847413922,0.06102226861208545,-0.06536737807118673,0.0735441249704364,0.03857724779355117,-0.009162088713645569,0.005339344655968852,-0.07247992307371125,0.05446107001461802,0.02178178694369456,0.05053287173426727,0.006604534024296266,-0.08140317024810981,0.04143594582754641,-0.06822642967176108,0.019240484377184234,0.02700475069063401,0.006980118526210669,-0.06753359761464024,-0.0878271694909948,-0.014341988210404085,0.05325905376522127,0.016714536049072675,0.008854774549332832,-0.06894639107500491,0.007001519602070615,0.057604469028320296,0.06818185205609481,0.03534735263601122,-0.08647104881049797,-0.018856156007919785,-0.08474369241954383,-0.0893071557445671,0.07064547981007917,-0.08871136718491342,0.07436546866501986,-0.011572088991919948,0.06515449631010178,-0.0867038373649453,0.008568011006411653,0.05952162541439595,-0.04784239771312099,0.0886285105170008,0.03066443114600716,0.09059393271054288,0.02089443670679357,-0.020377273242850377,-0.0368848547219761,-0.056760652931870964,-0.08763596365572017,0.03643479154265583,-0.049943210974168394,-0.05643842512867791,0.052084617794051824,0.079060911941226,0.0761115038133936,-0.023400604664465703,0.02090043215892625,0.042985676778335404,-0.03556784306223395,-0.044758717363737946,0.03266600293497237,0.0050349313766366545,-0.008143942593129588,-0.049229946240994374,0.01855879451876141,0.013649287214348505,0.030195094742167906,-0.02911431008216598,0.01728287613632761,-0.040099799506373934,0.06743764605886753,-0.04043062010307478,-0.06345554633827571,-0.010026304785343953,0.07720170865016215,-0.018615606066330916,-0.0838925754943942,0.05413370002572568,0.03425329453942296,-0.02645234779413788,0.07411277032207485,0.005921552509140055,0.051275668952699444,0.054615829018157,0.07317359683263054,0.07675413730258271,-0.019126573201278297,0.03450158656748076,0.020119410155312534,0.03578946902517534,0.050623543371744996,0.05061685217360929,-0.007489019588513283,-0.022251887392633576,0.06505107733204234]},{"id":"chunk-7db5cddc-4","content":"Tools & Dependency Injection Example Here is a concise example using PydanticAI to build a support agent for a bank: bank_support.pyfrom dataclasses import dataclass from pydantic import BaseModel, Field from pydantic_ai import Agent, RunContext from bank_database import DatabaseConn @dataclass class SupportDependencies: # (3)! customer_id: int db: DatabaseConn # (12)! class SupportResult(BaseModel): # (13)! support_advice: str = Field(description='Advice returned to the customer') block_card: bool = Field(description=\"Whether to block the customer's card\") risk: int = Field(description='Risk level of query', ge=0, le=10) support_agent = Agent( # (1)! 'openai:gpt-4o', # (2)! deps_type=SupportDependencies, result_type=SupportResult, # (9)! system_prompt=( # (4)! 'You are a support agent in our bank, give the ' 'customer support and judge the risk level of their query.' ), ) @support_agent.system_prompt # (5)!","metadata":{"url":"https://ai.pydantic.dev","title":"PydanticAI","chunkIndex":4,"totalChunks":208},"embedding":[-0.023096534647677615,-0.0043409384884854916,0.008917226934427362,-0.04195738808977641,-0.07465301930504023,-0.07600031257189714,-0.041518154121151514,0.03193056478982755,0.02425229382060463,-0.07587071608857601,0.08803778935690253,-0.003026615972439317,-0.01672702199980011,-0.012492103092015846,-0.04050850898690072,-0.055964761813210764,0.07323926711292132,0.08442524338076096,-0.01613022930611251,0.06945964780694713,0.06660912627862604,0.05892458076742156,-0.03751163042121933,0.007509732659529039,-0.02237451267948385,-0.01627895643274073,-0.01490120645141381,0.06641076582295588,-0.058321360420713605,-0.07010648432865567,0.05393017425638555,0.038206775028469316,0.08077556590548048,-0.007579960878664664,-0.003223652962592941,-0.07506078328900437,0.025526208440864954,-0.06149881283731934,0.03392363385209488,0.08337261535740906,-0.03173611990940122,-0.07744262809635084,0.029635421235474597,0.07532916333718431,-0.03969021280666446,0.07987559800276002,0.08044055626374995,0.032165605567018606,0.02833455913031498,-0.08247692927910874,0.029754774815249737,-0.004818109921824928,0.05087981548398277,-0.05755757617303816,0.05046927193672151,0.03158779736760765,-0.08559910775142526,0.03167133380629614,-0.04326736422476217,-0.07906298339105929,-0.005077573475851807,-0.022976486814214568,-0.000873472553455278,-0.05292775814682833,-0.018106018535049,0.030980325814020045,0.07801738972627371,-0.08197455578855405,-0.007471085691501199,-0.005992207582572124,0.0351989884772263,-0.051400622346793906,-0.04913050415090337,0.015327599075280468,0.013699705447233094,-0.04349118099803571,0.04920194496363538,-0.0677760325901467,-0.06965638132175671,-0.03454795166614191,-0.08426398395922968,-0.05364342434050436,0.01726359099126688,-0.08766973499439183,-0.06184949539816082,-0.03202070033371297,0.07454025591467332,-0.025332441800773667,-0.07757771387018589,-0.000243380601698952,-0.01857516789005027,-0.06196214600867578,0.00025000897715968517,-0.019586464665904583,-0.060799529506181685,0.03929914659599276,-0.0696414030071225,-0.08806551934549071,-0.026756604612649896,-0.06188044311852849,-0.062166085417141616,0.08410597284313963,0.0046563833770202675,-0.06991571364796124,-0.07073006846760353,0.07061821909774865,0.04211331994183683,-0.021242128587054016,-0.021063809986158775,0.0856113810869941,0.03846818400069166,-0.01100116798613107,-0.0034535559027640992,-0.005374352142804598,0.04298334708496544,-0.05696883233156705,-0.053136610037310676,0.017011288838041868,-0.06108138009782306,-0.0787742991665683,0.05958154588882641,0.004997714616664712,-0.04860569290715707,-0.003967633538127647,-0.07271393585015552,-0.08153799332611908,-0.011067288650388814,0.07527941829770185,0.06106394784094082,0.03582566518536891,0.0334037054325894,-0.03608958603324008,0.039225023489691514,-0.060112478694810026,0.07470525091320634,0.031456320803121884,0.011034946176988266,-0.07373734934281248,0.0369078459332451,-0.0067170407685129075,0.02608464518359938,0.014183319652104622,0.028533459476592336,0.06039748707511084,0.047636142375803756,-0.028628079779727915,-0.06397015174924381,-0.021544525260379935,0.051055588453583996,0.0024312706244195774,-0.07185442503132296,-0.01163180256710765,0.06632477850987384,0.054640838456715864,0.021376733129762463,0.03579195943517694,-0.019520760041690215,-0.016531053332938608,0.015375316713047354,0.05929330821577009,-0.0669031827706252,-0.0709290947075906,-0.003393408564326791,-0.0723411253991114,-0.06018257552502014,0.04372223599241054,0.06579496738776586,0.013235347887396868,0.050587305816231366,0.02470362951634266,-0.048954657070550876,0.051012111204785215,-0.008773090626517491,-0.05144838010594167,0.07439844897526231,0.03447300207918929,-0.04353467164515036,0.08495816755739109,0.01584356898694622,-0.03916479615045875,0.05370469699729662,-0.07769474626522144,-0.034084733265522776,0.03987960224451965,-0.0057715720077048255,0.07700779928886821,0.03475383265784443,0.035025030589201187,0.06120753321004387,0.05060174072079247,-0.06273674140759566,0.07290590280880643,0.004473766159187574,-0.05996565396236563,0.0030531966287537233,-0.023268685378030403,0.07592798027291528,-0.053388903875964275,0.027302464223752525,0.05046694779041735,-0.06480983353397628,-0.04139806314741724,-0.04057974974387603,-0.046671796803299075,-0.08715688956309055,-0.07770207141750891,0.00019059852462867323,-0.028737057498954072,0.048374118877386484,0.0581924516866633,-0.07433450270754721,0.013454140343833298,-0.07759091572366197,0.08148518989752304,0.08268834431604506,0.02559222794045702,-0.0868338444703864,0.05884918228028483,0.012009431185773892,0.0010526295074708132,0.027277061250974108,-0.0874527591401122,-0.009251709460438554,0.08163165761032398,-0.05564951309361536,-0.04098743552508867,0.07663795817879764,0.008365958999260448,0.021354871717055024,-0.07192708833851102,-0.01302866584582544,0.029006377428306616,-0.027107689603925494,-0.028123708493213995,0.01799706233345672,0.04336234251050194,-0.036040148020969116,0.05094190202141036,0.08236323665325718,-0.0551518025186503,0.016497106773095745,-0.053218818417645516,0.05663136992407373,0.024985169474413413,0.028409947378164838,-0.08174061572268218,0.059086492728197826,-0.011749737659484765,0.06601470850436661,-0.009455706259257898,-0.060082130647046324,0.04764707929955364,0.03665306599367988,0.05821088272885847,0.0670004038006882,-0.007079007167087028,0.0635052101934177,0.08214004210634698,0.03270719120572653,0.008336126549797223,0.011300215620780943,0.012024463278030726,0.014249770121530949,0.03204118569843959,0.07455770107285362,-0.03884731608657377,0.008458636417791513,0.04191885757792846,0.02935484515020918,0.026898466264021575,0.012442649659508935,0.08176079438220261,-0.05959617041062407,-0.07470173440707914,0.05690677993120618,0.03253635798947341,-0.04601926460254858,-0.08415337223930687,0.011098905991318568,0.07323079100321808,-0.07302218407814473,-0.027795798747982166,-0.01828781867904701,0.07069568107483502,0.07366380512039525,0.06351751281450639,-0.06722740702366778,-0.04879023287119644,0.07433012544147286,0.037650420316276675,-0.031950041980730814,-0.003280139605542318,0.041949004290356265,-0.04927568261388649,-0.017141061838168756,-0.024226886120619223,0.08661409325769263,0.053584579087814534,-0.0351691860183178,-0.05229156362929954,-0.06621925136013479,0.020129943760234078,-0.019475025265106825,0.008613013784530735,-0.06047288792484606,-0.016378931771396224,0.07225362856270139,-0.05768539927591976,-0.07862167776400167,0.06215622015380069,0.07794500583094374,0.020008535071411405,-0.05222919257544558,-0.06028081570820261,-0.05272841558280143,-0.08719366531975319,-0.062099793718289095,0.07284026270513236,0.06252669207672162,0.03580681029305908,-0.0008957534010507294,0.06332291348151321,-0.07373280711546122,-0.007818776359539384,0.06762759434185066,0.04803330160087054,0.04725820408128147,0.0020129154224246405,0.07952740803125752,-0.048512018056996724,0.009371537500223601,-0.0022885019463628514,0.06401576783542885,-0.03825413640211935,0.04731490790785671,-0.011846450784320294,0.020227188760518076,-0.026773450103010063,-0.057499188052997016,-0.07163326024275707,0.026757330369392932,0.054122046311856756,-0.021940991073716307,0.05053380924991094,0.05393458774914419,0.06585039923783755,-0.071071597363261,0.035842008955335423,0.05884506984457408,-0.027792686194678787,0.0002789924119505786,0.07725192516911408,-0.07860648257094313,0.04703396655020467,0.03130287072367481,0.01723732667796692,0.045750571905129114,0.04168942187544107,0.05523353276168248,0.03839263365375404,0.023541027941870636,0.02109079487292108,-0.001545178769177683,0.02900965369110125,-0.07376285828147253,0.06486328242123783,-0.049971956179357596,-0.01664125680028161,0.02943275928652729,-0.08462035546353361,-0.08193956146423284,-0.08287928947039935,0.04306202727958573,-0.027520871086814207,-0.06731320439895515,-0.020638569240216977,-0.01139502823546529,0.0429017270426874,-0.049214721924695524,-0.02808218767422792,0.0034602026028603535,0.05150590229992054,-0.014036808847996554,0.07831220401442496]},{"id":"chunk-7db5cddc-5","content":"async def add_customer_name(ctx: RunContext[SupportDependencies]) -> str: customer_name = await ctx.deps.db.customer_name(id=ctx.deps.customer_id) return f\"The customer's name is {customer_name!r}\" @support_agent.tool # (6)! async def customer_balance( ctx: RunContext[SupportDependencies], include_pending: bool ) -> float: \"\"\"Returns the customer's current account balance.\"\"\" # (7)! return await ctx.deps.db.customer_balance( id=ctx.deps.customer_id, include_pending=include_pending, ) ... # (11)! async def main(): deps = SupportDependencies(customer_id=123, db=DatabaseConn()) result = await support_agent.run('What is my balance?', deps=deps) # (8)! print(result.data) # (10)! \"\"\" support_advice='Hello John, your current account balance, including pending transactions, is $123.45.' block_card=False risk=1 \"\"\" result = await support_agent.run('I just lost my card!', deps=deps) print(result.data) \"\"\" support_advice=\"I'm sorry to hear that, John.","metadata":{"url":"https://ai.pydantic.dev","title":"PydanticAI","chunkIndex":5,"totalChunks":208},"embedding":[0.048797788611183085,0.05141405326594539,-0.035313309629821474,0.06718939105818302,-0.00012820970256800188,-0.02082290121422216,0.01979881714527893,0.03455560111718974,0.04360234085894931,0.0011111114188270595,0.05115203913319291,0.08638872512470418,0.03538828535088926,0.013185194260654126,0.051243732893618776,0.08061638612286988,-0.010776095185620884,-0.07609356577020317,-0.03245397178348341,0.03737595814317702,-0.051015903201831234,0.032747154161028566,-0.05770729966250183,-0.06116433756445203,0.05015530716356446,-0.016031419548440198,-0.08449671449038493,0.03844176773272269,0.07852364440492929,0.00823180085933947,0.08322960156888201,0.04998597714298374,0.0797369497465798,0.030211218534432146,0.03716187777711096,-0.08565712085832763,0.05380724562351038,-0.06330526112822546,-0.047084084578880525,0.016730544349788035,-0.06729899149686251,0.06818655046231197,-0.04626075959222867,-0.07875129174294024,-0.04026486803714167,0.08719646614626499,0.05947861007329893,0.08310085130623668,-0.004288808923248157,0.005949211779560527,0.04933030862157891,-0.07379769949949819,0.06922232300664857,0.03255709696047664,0.007885590541795273,-0.058568917346726417,-0.07041914192548879,-0.07858687820995175,-0.08632206536039361,0.0077097494131249346,0.005279979340155176,-0.012538663584690139,0.03040644071279351,0.08714552899819338,0.0035476841204435264,0.08021266319894542,0.06764420409114713,0.045965000631466676,0.059263479015217134,0.0856275800133541,-0.08567334299889215,0.06502337207249538,-0.050465797755138916,-0.015759018791112897,0.028298062032762673,-0.07172386088827007,0.040533261829052,-0.0003765063877447978,0.06422862523664022,-0.051634515527230605,0.04525993176107106,0.08615194997424067,-0.03948207055864121,0.06463955877602885,-0.03336907020630517,0.02578730268171595,0.001283493067778937,-0.03749107969981559,-0.023639495601190177,0.016277956790808106,-0.05247684932778386,0.0392696969634108,-0.0002253080516636098,-0.07534067018982918,-0.07461890735338987,0.08495793739534284,-0.021596985055487048,0.0671790069582065,-0.049474783394273504,-0.030998676333664633,-0.01842469318348713,-0.0526424236562894,0.07041418518075804,-0.04158087319029849,-0.02802833526049928,0.00254115519727742,0.07600668503094238,-0.05267931998978052,0.03294428659542029,-0.04906402926736783,0.08414288915567246,0.07824454828810885,-0.08035016932952259,0.0729425680954816,0.08651847535191323,0.025666352391162262,-0.02796757202850472,0.04167976532731038,0.08656367001470831,-0.018576808876812345,0.02011495366928148,-0.023072101936379902,-0.06716902845656213,0.036918842287261194,-0.08503785979087067,0.03527212229588669,0.02159258593538462,-0.011199141288886608,0.0185417849294128,-0.007399084739810671,0.06928658852356065,0.0024220332351197926,-0.07165512334291342,0.025062476436464486,-0.01366384784341464,-0.06955068503567156,0.002260158730386516,0.08334505462311598,0.005360023656747021,-0.009556580935882403,-0.04571234910740673,-0.07443885117370638,0.04636724702675599,-0.015020662595158019,0.0160480297404458,-0.07676627542595586,-0.00036564983980853923,-0.06724003485857775,0.05775056720116134,-0.0397737424153456,-0.07374344156287035,-0.021307061462540477,0.04657794792479114,0.0010540425607376439,-0.014639577849187417,0.025974072991867544,-0.01935620028908799,-0.04876675895321812,-0.0881938186530576,-0.07435660851163454,-0.03477787401355081,-0.005851573709478679,0.07494876515741399,0.03554284459568408,0.027901680100520944,-0.03050396711785136,-0.005101732023588071,-0.005631315782969357,0.008087482022693738,-0.03918181716932954,-0.03226505068286325,-0.025210644124871673,-0.08694537382384164,-0.038837444537827594,-0.028322278253714733,0.03831767844019843,-0.0011265588812901216,-0.05345422131268995,0.0032006319759153414,-0.07206104749833066,-0.006634048230297526,-0.053267778067221945,-0.05993290325129666,0.005761701365818648,0.0031962069769929176,-0.04180359778273458,-0.06741482960022688,-0.017948999856316074,0.03453864234071048,0.0347110158512477,0.06288352874717552,-0.06942581073834676,0.07759238086457021,0.02836197923320866,-0.06668734806491551,0.012091467886726841,0.053802279548693495,0.05646205095346955,-0.058569909427725726,0.05617144888505302,0.06165861501574124,0.07934742582184044,-0.06993515442342228,-0.053228322421956305,-0.07515822076680133,0.00860798098284779,-0.012800059323475204,-0.08308337756405089,0.0733596290804301,-0.015416028516149302,0.07211366293254554,-0.011605696639519351,-0.03686077256872518,0.03972656257498764,-0.015985306030270176,0.031413604278031214,0.004693173359684992,-0.07610390143975457,0.052512817754728984,0.06769286258198395,0.017877136666861863,-0.03292117617359581,0.001931979624455309,0.026202186815222357,-0.036706002394002964,0.03984424125386211,0.0872250170602858,-0.03603813756899243,-0.04537657933903762,-0.014662535437840596,-0.04692613613598617,-0.04698114273014919,0.03875788491341693,-0.06254768144093593,-0.08515699452161411,-0.048469748413324076,0.02307432926347709,0.021486566592478842,-0.08057092557124124,0.05514715059651109,0.06391752938563842,-0.05711260587738114,-0.05433436202531174,-0.017499141875669803,-0.01773265243841367,-0.06718190281902284,-0.02560200319884177,-0.08266353210312945,0.023165884683870396,0.07530840937361488,-0.0061099969275618385,-0.017934242568730954,-0.010693054889409342,0.029329985777645697,-0.014010558626094233,0.009916548464741347,-0.05120588124120078,-0.08096771031760581,0.07889864858211673,-0.009286960228365636,-0.058957813834462754,0.0498081121034706,-0.05086381565850029,0.08821275201133975,-0.00789459658199209,-0.08040168842132768,-0.0138148490787704,0.04286866021331352,0.07894446955968587,0.004395968480359354,-0.0787466505181991,0.051494100303450786,-0.0086883178278273,0.003764248832016702,-0.07838870370140762,0.06749598888211834,0.030587086438087756,-0.0060476445065719975,-0.08313939669111105,-0.004876764002388558,0.06237780487897056,-0.06909124456008754,0.060415833318140925,-0.061093023031075035,0.08616766729577346,0.015963768268473212,-0.008745030629170418,-0.027957746627436594,-0.08441269891185181,0.047469330752174924,0.05459260252876628,0.018855969205328345,0.07893150746309512,0.007791710004989725,-0.08765494046663429,0.057600548607282004,-0.03801442083269606,-0.06593930088519585,0.08794241781606346,0.04979227921519614,-0.042861558018660054,-0.04728987132051921,0.08424814279209,0.038030074013160976,0.07628004111993203,-0.022276175886206964,0.005716298232892179,-0.07898020558209035,-0.07156754247734168,-0.00960989607139668,-0.040546477387197404,-0.027880920225876776,-0.022847583965124114,0.012328122389353095,-0.02312517935890751,-0.0752513754372505,-0.057517301871163655,0.010093282618236924,0.005319565196479839,-0.0348582120842702,0.012077575003442845,0.03669357818917513,0.07679852739663495,0.06067501607150773,0.01021620597171659,-0.07528950542788729,0.0021810605735751165,0.024598060089465107,-0.04695412186014101,-0.07561080796653621,0.07126228602246447,0.015219539803544565,0.034897912141827754,0.07580679086598714,0.003732781866901459,0.0793133850504058,0.08741454354495622,-0.02703020926713482,-0.08658716715662267,-0.02970584341176249,0.0009834656663741076,0.05905532705906048,0.022453282282161216,-0.07787437850347002,-0.019637883211980706,-0.03516687520317654,0.008699546924195193,0.005240943290681024,0.05764560207088873,0.053130835108800685,0.03640742254361349,-0.08249916223685315,0.010546746945862726,0.012319778284288952,-0.07493220239282394,-0.015312958987023676,0.001532096231647313,0.059042333326488894,0.08219776192381631,-0.05310613621296572,-0.00939792142601457,0.0007787684548677946,0.017901455420814647,-0.007494589245990765,-0.014549965044036028,0.07490973209053338,0.049030901224517025,-0.029357142446294962,0.03460407026769334,-0.00563357615707445,-0.07911910493996385,-0.03321609259904802,0.0270581235863872,0.02345823460605866,0.0019386489607394245,-0.07419642391655688,-0.016433010730159035,0.023857155367965465,0.008271572100927266,-0.07346132915647074,0.043739590165081534,-0.0389472966064072,-0.008610337366655129,0.07715634792051666]},{"id":"chunk-7db5cddc-6","content":"We are temporarily blocking your card to prevent unauthorized transactions.\" block_card=True risk=8 \"\"\" This agent will act as first-tier support in a bank. Agents are generic in the type of dependencies they accept and the type of result they return. In this case, the support agent has type Agent[SupportDependencies, SupportResult]. Here we configure the agent to use OpenAI's GPT-4o model, you can also set the model when running the agent. The SupportDependencies dataclass is used to pass data, connections, and logic into the model that will be needed when running system prompt and tool functions. PydanticAI's system of dependency injection provides a type-safe way to customise the behavior of your agents, and can be especially useful when running unit tests and evals. Static system prompts can be registered with the system_prompt keyword argument to the agent. Dynamic system prompts can be registered with the @agent.system_prompt decorator, and can make use of dependency injection.","metadata":{"url":"https://ai.pydantic.dev","title":"PydanticAI","chunkIndex":6,"totalChunks":208},"embedding":[-0.0336099411205293,-0.0628710597418275,0.013853141482880589,-0.04539401761201458,-0.06404096126309311,-0.021058022837322245,0.017926036224670167,0.04021611919632529,-0.026826110477452876,-0.07107688448505962,-0.04000509964851646,-0.027395888651641553,0.08444923821312021,-0.025966820952821736,0.08266039708093112,-0.05795029446521905,0.037883268066198426,0.0038153842621477534,0.013266346648257162,-0.0840931789839031,-0.037424493921796004,-0.07422994097591988,0.009327815745266489,-0.00009991222058707588,0.024751262231774717,-0.026170570530091135,-0.04968105006310003,0.0715889805487338,-0.07323773450744041,0.008906019793354328,0.05329241584487254,-0.05749936788347635,0.08096591651439938,0.07225296699273515,0.011188539041485437,0.08224094939739235,0.044592495904999606,0.042646158720107595,-0.060333082835442434,-0.06148265525011888,0.03765119211468198,-0.029512932943611823,0.0032389430184149763,0.06586857332132857,-0.032889630650003256,-0.07146858668082916,0.014913960247881773,-0.048937237890337694,-0.05919036367453437,-0.011831226233565082,-0.057107627078047514,-0.003148359453872727,-0.024779024958382103,0.000626406386381859,-0.011513318929441223,0.011842754794748826,-0.07789274023177127,-0.06039246365120198,0.04527928154062003,-0.07499051410670643,-0.010021293495254588,0.0806848497483769,-0.023159009552769703,0.0764565092865406,0.06931070176777342,0.036440677422212193,-0.07037286045923255,-0.07378665819563744,0.04209618295680567,-0.08209233968238215,0.03861412963268724,0.018329132742435004,0.022706422632656174,-0.05691013286991692,-0.0593041186808054,0.06466952526766145,0.006732374493149291,-0.04864802936775028,-0.05895316423651079,-0.0387229243430228,-0.00092485496072143,-0.021972090353958453,-0.003599503478862988,-0.061324043944131434,-0.05566737159547955,-0.05567325902611697,-0.004340226801651655,-0.05787187915824584,-0.05229723402840236,0.08400078798806483,-0.01909979229877732,0.06882807534990952,-0.06398829260139188,0.08398366100347904,-0.0005831352654831551,-0.005109648878474314,0.0237468334432889,0.038638476546219054,-0.06590719956842916,0.03771919885209197,0.04653455480013929,0.03844756460197278,-0.001567158080476317,0.07358143181718364,-0.07365105823739088,0.003291561131896115,0.02193772959549986,-0.033895802648611084,-0.022404490052311807,-0.0005849050486862086,0.05041424437131136,0.041061158891048395,-0.08478287908670842,0.08754441078186229,-0.040898245699487495,0.057263984702216365,-0.008048372445085024,0.013957929082876928,-0.04496762837326147,0.039851095769455745,0.012521015367710536,0.021397428988865812,-0.05946370792874957,0.062058747278800966,-0.03809269578239537,-0.08099049932978845,0.0650068481388161,-0.08227763881769723,-0.05037620414789002,0.017494612781210218,0.010976450206016777,-0.03787630545550171,0.07489219780120517,0.04999577165618702,-0.08118030213445841,-0.034222743492962907,-0.07518259778372198,0.08459661727353507,0.001975294963976021,0.029815017639815734,-0.05222497887241624,0.05269935368542045,-0.0216851791247567,0.04664411338105208,-0.07926840301524747,-0.08781870429873735,-0.055605316959593976,0.04535574490724301,0.03048187607475035,-0.053467196285786146,-0.035917252925712205,-0.07198095387378843,0.038582128396379874,-0.0015516449128313583,0.029122752007373322,-0.005338515446381749,-0.011334191128615924,-0.05416382191023844,0.06023050795800492,0.018632204022440407,0.02001402118059015,0.050141090447067424,-0.084415782492186,0.03411083986241252,-0.08309939555530074,-0.06556051383008327,0.019243720857824703,0.03965674001860939,-0.06926849417221205,0.032163007071947095,-0.03794839408720375,0.05246450792799617,0.062228157893141844,0.02258773740739454,0.049569844003849124,-0.057949507841642794,-0.01196111143777189,0.000573616895833691,0.011608890402856347,0.0029832828843412455,0.08612524702394007,-0.01610817291295747,-0.059129982467465286,-0.07854752407376002,-0.07190238149601792,0.05255657138460522,-0.04910610826817791,0.03486819343849126,0.06252503796030386,0.08161069461957673,0.06141560919576026,0.025407007855393716,-0.04167123372947621,0.08513410917268831,-0.029656385077953804,-0.046161556520556625,0.07616630784131714,0.041584733910524516,0.05054959355272388,-0.03550861057244368,0.07944712887283324,0.010779885436677654,-0.012625786718237298,0.08442627493174333,-0.05922800503950746,0.05592547713777195,-0.006895365058370263,0.0376986164271467,0.06601085405653835,0.04592631420581553,0.010976546589544738,0.07644412191904768,0.07883277592533779,-0.0434224273405011,0.03163823965226167,-0.007547041207770712,-0.06069357790290429,-0.03207602959231879,-0.06416141567475868,0.049625394040734586,0.029808773631946166,-0.06584796372654718,-0.0851079771627963,0.014046201944751325,0.07124054169258898,-0.048570402345533156,-0.017767003942490034,0.017213632721451745,-0.030155307182938147,0.0479621144055954,0.0330476440549316,-0.001516665753676549,-0.06514518655341779,0.012807491704381025,0.0004842247725127749,0.023052646616714002,0.06896946141833629,0.0662206195354149,0.031903058082224205,0.03528994211289596,-0.08558357995306451,-0.03884478083108218,-0.05219609996279768,-0.047952087631240196,0.004450339798815589,-0.07863040666498912,-0.08649961596348653,0.08515192634127816,-0.06029821083082152,0.03544145440116176,0.006580675387310607,0.040861361100200985,-0.07291312794568772,0.00822564443341123,-0.07462089134026878,0.003045903498139299,0.051900791050923205,0.034529931709056653,-0.08525719971637247,-0.08516152410174035,-0.058668259800811945,0.03753936129111612,0.02143762975958427,-0.07495879363601424,0.015508695745328326,0.025129015389110883,-0.012353549319066388,0.008328816833029641,0.0587323947372082,-0.019170999854382774,-0.05940013909710484,-0.03857282560510813,0.07829234906104147,0.04866936258807332,0.0542298614950067,-0.06657614407683016,0.055493064544568094,0.051021463939095006,-0.05981593148085863,0.04765966907945578,0.018132796102703394,0.06417543219020817,-0.03593828241603596,-0.011615806588141793,0.08081213040161007,-0.058796065088343105,0.08135250037405481,-0.04134275010093041,-0.06792931741468716,0.01988636853236447,0.011742139984475007,0.027255128482325506,0.02644548779433018,-0.007337667570340659,-0.04933616782575846,0.03384614271577687,0.022367078482323388,0.0012911281530597325,-0.0520703609811086,0.0015756555978344669,0.02288867308506293,0.08081972663680716,-0.044306490942058054,-0.0030573750568220807,0.07722898192169468,0.06375659974170594,-0.045389353546344734,0.08744649577609123,-0.06367217670982721,-0.07935537908761389,0.0615327314226686,-0.004855906355299892,0.05119422419105469,0.0655795279520566,-0.017848430840263774,-0.07399155310003822,0.08305141795080336,0.06443003430900804,0.01955780659723398,0.01127743618949996,0.06314091952871231,0.014205162322281056,0.05926376848608945,-0.06716792898350592,-0.011138102228216892,0.07740141257928174,-0.06633008780740292,-0.01915351341024433,0.04814779612897249,-0.009943414821801468,-0.06746012002033056,-0.014525659401128776,0.030592386590697504,-0.05457605826469276,-0.07202993010592094,-0.08268958573958762,0.03480799687446286,-0.06859687880467534,-0.004328283365401485,0.006903219705648572,-0.004811412282410051,0.029422403615016152,-0.08749174355946249,0.07820455807427402,-0.011224749923034105,0.08601108524335271,-0.028494567679155255,0.06463798421252612,0.00437193807333466,0.054611442850464,0.08666731977127262,0.0010419398453816193,-0.0406595885300292,-0.028751000500819197,-0.031678740739957606,-0.016247757096548476,0.05105260346406719,0.023233478376951146,-0.07852121224634769,0.08303170041438965,-0.010314925587516576,-0.07081852812747773,-0.06599904144783394,0.051857457690945526,-0.05190086261654997,0.0720641596364493,0.009207145233756,0.03964652037023653,-0.011726714467771153,-0.07167830528210303,-0.06829852966019956,0.004690306419141378,-0.007371017800119398,-0.05968215513238297,0.037491675816501216,0.03348250316944375,-0.0592379478336489,0.040368886701510724,0.011460628292164824,-0.06217152249933198,-0.025626651358747757,0.031128993482503083,-0.039839196558231135,-0.049710904500396114]},{"id":"chunk-7db5cddc-7","content":"Dependencies are carried via the RunContext argument, which is parameterized with the deps_type from above. If the type annotation here is wrong, static type checkers will catch it. tool let you register functions which the LLM may call while responding to a user. Again, dependencies are carried via RunContext, any other arguments become the tool schema passed to the LLM. Pydantic is used to validate these arguments, and errors are passed back to the LLM so it can retry. The docstring of a tool is also passed to the LLM as the description of the tool. Parameter descriptions are extracted from the docstring and added to the parameter schema sent to the LLM. Run the agent asynchronously, conducting a conversation with the LLM until a final response is reached. Even in this fairly simple case, the agent will exchange multiple messages with the LLM as tools are called to retrieve a result.","metadata":{"url":"https://ai.pydantic.dev","title":"PydanticAI","chunkIndex":7,"totalChunks":208},"embedding":[0.022976237275850263,-0.008849928872578605,-0.08278399202459782,-0.006227862690410164,-0.06974839033601656,-0.006534311033611639,-0.0828930177604781,-0.05175844261773112,-0.014400298236472407,-0.02870979471063437,-0.00811714984330778,0.07985506245042517,-0.07064595952215291,0.023248751085444292,-0.05345646502595245,0.015509265566841877,0.038465567035051454,0.02933186384520658,-0.02238116944957968,0.08392652465192896,0.08062915498355423,-0.020528062631994734,0.012248985282226966,0.08343745974643699,0.045465096806686284,-0.07198249872172109,-0.019458606754745617,0.014436769045262147,-0.025875832652435617,0.030683637108299494,-0.0588009730274261,-0.004110182044042966,-0.07841034470898756,0.018659494300978074,0.08276167739991294,0.03549191406076568,-0.06853133721162932,-0.059253953431327784,0.06189974280914226,-0.026602155931505254,0.016061180082165106,0.06217456975220638,-0.027426808445654302,-0.06012141773549746,0.05126011016508219,0.0720302573963196,-0.047992471675879354,0.06679026294354776,0.07253757113898267,0.022023251377782962,0.029000300514073547,0.007428668658636409,0.08049764251235032,-0.021612523305569602,-0.008227908544832123,-0.05604436057975563,-0.04536533607528701,0.059549547150921124,-0.05808574453205807,0.059994358892563986,0.0540201338001547,-0.06467499937092408,0.0294084141887842,0.08398588415823491,0.047032391542892696,-0.07281406567791458,-0.038956604020522735,0.0680104361488355,-0.08538643173562951,0.022711968116637036,0.08724458411308428,0.07307451209379934,0.0727358456561238,-0.06378589520831063,-0.05121068588626828,-0.06903742310636778,-0.08187028848552838,0.03297058374196289,-0.04203530085559389,0.041543476357370074,0.08138045086724698,-0.017400313073094118,-0.03394115546140605,0.06986797919808965,0.06137067930010969,0.0031687977426654063,0.03508382098489195,0.06820452638420559,-0.048140697925521767,0.024231158021279568,0.003734156873473674,-0.021878956035112168,0.06562111924948023,0.05103934243868925,0.07257894956014535,-0.035965752053824476,-0.028548681376613934,-0.07571311937054973,-0.0036321010228816315,0.04989980670847306,0.004382521038256493,0.013553159031907094,-0.0005531887863048615,-0.06886871239031932,0.05225553832831872,0.010102063797727795,0.0628932785374993,0.02858815379567818,-0.042337768034993506,0.07394967447121131,0.03344734431664501,0.0012576341457883708,-0.05834172776274261,-0.0683676744154634,-0.0032879595415941727,-0.04290540876997793,0.06093453333731166,-0.06049776539648204,-0.017280741631333335,-0.07015257075124741,-0.08516703202848165,-0.016354065309157607,-0.017747981065789207,-0.050485757487954495,-0.009627691371644459,0.023603792986419982,0.06776708082058622,0.001238726383585243,-0.0512635452769823,-0.004808589204796511,-0.026288960563697356,-0.00251782814077994,0.08406711012855299,0.03218533956863316,0.0738101358047644,0.07153950747424834,0.07571124909532811,0.07775399898380178,0.054211291036306716,0.0032597250673358506,0.013630744924686503,-0.020716513478209384,-0.004069247405272811,0.04130813883881815,0.08265330933453206,0.0704618319626653,-0.05005459472415943,-0.022725880884204526,0.023819375535290746,0.07076251957045604,0.0794933824303961,-0.07339150427122144,-0.0037509557383497835,0.06859759323422983,0.04568076179856646,0.04990195711842438,-0.05028946990843027,0.013299019490754523,0.06938964565454087,0.02029375913954583,-0.06771310713583387,0.030918951020616956,0.0390169738465039,-0.0021185876664476366,-0.07856146231422889,0.051432425963443516,-0.024070065172210938,-0.07469022390447938,0.003265326758998639,0.06660641959306705,0.02528098216919644,-0.04964632461240477,0.027772888119380796,0.029332090010682568,-0.04410870950906504,0.07896328801502628,-0.07052962688739177,-0.07086669227268012,-0.012080880952686083,-0.01153054268331087,-0.08205292775463485,-0.0759867543999783,-0.019604865696806112,-0.04083893316489747,0.03536915286479871,-0.037591431538917995,-0.019277290579115747,-0.0869332899505478,0.01809905425576037,0.06438100854875271,-0.02479769752871732,0.019932685139739732,-0.04068741865584615,-0.06547970713148259,0.08079902829610194,-0.03744852682597039,-0.004691491820935041,0.08647108394122845,-0.010567812784964227,0.02962060842323965,-0.06238754702132997,-0.07589573059369169,-0.03656700688776125,-0.08593656064526856,0.031350723489435475,0.025302792264024446,-0.06169116849551671,-0.03501484016032706,-0.05231756953287025,0.06581062960687745,-0.06529092917861318,-0.04074540011184511,-0.061666269722463266,-0.06093973818857867,0.023581624152416183,-0.07561896523529822,-0.05431488253911734,-0.07894748566525595,-0.026402381917887883,-0.038167126879990854,0.023104523482826312,0.07491967785686691,-0.07730686034974528,0.0724640963079035,-0.06580034005119238,-0.06149094967862228,0.033315485803917654,0.01688490636733019,0.040400913233774496,0.04367044298898749,-0.05898954448792568,0.011328696906181645,-0.009353853692640671,0.00499565689583246,0.08131651917670059,0.05601264279903373,0.024852163870772506,-0.054614611048194706,0.06857036378237182,-0.0301311097819187,-0.03718155846814839,-0.04838036213545896,0.031861371307017466,-0.06827280538868526,0.07993730469948847,0.022788000048747238,0.03918276505287345,-0.0081327751971448,0.00031830350461894557,-0.08691750933914422,0.02805979706386722,0.012340541411130626,0.00329450181476027,0.031672588382002625,0.02970572106520036,0.04165501368849258,-0.03489426074589063,-0.004739146409720296,0.07213253219869517,-0.06962882884980344,0.051747847382160705,0.012428317000384877,0.018901967687505287,-0.0023126556137047496,0.02229332622445774,-0.04848784474077399,0.054592702396310915,-0.03526988804519022,-0.060283772631798,-0.05657862868554012,0.0441631157909085,0.010426396009691752,0.032300580194754555,0.04181706611141467,0.04262814180184514,-0.019842779399871273,0.004814615593004513,0.07756723550805177,-0.07686787368066411,0.08225665863201052,0.0353948055835135,-0.07919259265168281,0.04473683015642828,-0.042363675215186566,0.08221630009152442,0.01459989507214184,-0.011077447849489625,-0.07682555240524544,0.024750668138840907,-0.03404283225375837,-0.04531644267790245,0.08032164345945862,0.007936985956845017,0.035839757795450226,-0.04634392346687602,-0.02985024194240839,-0.07756438193274971,-0.046239503000441204,0.08076388533212309,-0.012757653529956762,0.07768610195505479,0.06298685838276732,0.0048767158911772555,-0.024745600203598086,-0.007172358120830561,-0.05676658002689433,0.08397767084187079,0.011615888767020967,-0.06443526737630612,-0.08140331784891,0.03322714448749994,0.00860836672207686,-0.07463784276956989,-0.0633419920761103,0.019811799861397472,-0.05069442997307102,0.014481771080677415,-0.04898282580437268,-0.07525871077838564,-0.009554643625424842,0.0652765009983536,-0.05930848977344474,0.0331548802437836,-0.08031435629172419,-0.01858080767874473,0.02947666099550857,0.01139655765375498,-0.06500950117542527,0.010157566137300162,-0.07644267892711584,0.0276062572383575,-0.004562649414665244,-0.05303058529103079,-0.06299816115495316,0.07015929294841797,0.005874833375553869,0.04727219082577524,0.03295355942198572,0.06288449668600288,0.019872679171018818,0.06593375284357107,0.01222500168108162,0.08313606643732568,-0.03814464397841049,-0.08080184336805336,-0.02982162002158045,0.0069130480002886074,0.0658388127326769,-0.057697944811737685,0.05542117322292666,-0.014457887799831332,0.004439402304169126,-0.05291157792543848,-0.01534374665696763,0.034713121205627716,0.020657835976536056,0.05762386245825363,-0.08370452934386229,-0.03274362084449998,0.01856436118908944,-0.009803903374787256,-0.0591378886112652,-0.07123166704664381,0.037678453268054475,0.0012946003736251334,-0.044785990620474156,0.06595254000713702,-0.08416103209574824,0.028928997109161823,-0.08647259938920629,-0.02918429204199288,0.08668620070561384,-0.07012797402517183,0.0287047225889856,-0.036297153787117134,-0.035484190312036534,0.021682548787631314,-0.056146406889374986,0.043532083546826666,-0.054074515209375486,-0.06429042180171446,0.07052159282748885,0.0014552640360090215,-0.008014149182653415]},{"id":"chunk-7db5cddc-8","content":"The response from the agent will, be guaranteed to be a SupportResult, if validation fails reflection will mean the agent is prompted to try again. The result will be validated with Pydantic to guarantee it is a SupportResult, since the agent is generic, it'll also be typed as a SupportResult to aid with static type checking. In a real use case, you'd add more tools and a longer system prompt to the agent to extend the context it's equipped with and support it can provide. This is a simple sketch of a database connection, used to keep the example short and readable. In reality, you'd be connecting to an external database (e.g. PostgreSQL) to get information about customers. This Pydantic model is used to constrain the structured data returned by the agent. From this simple definition, Pydantic builds the JSON Schema that tells the LLM how to return the data, and performs validation to guarantee the data is correct at the end of the run.","metadata":{"url":"https://ai.pydantic.dev","title":"PydanticAI","chunkIndex":8,"totalChunks":208},"embedding":[0.042551325735224924,0.06426946130926658,0.006399998881213015,-0.009822943813187142,0.06598814554893062,-0.08586839250180764,-0.049218673854659965,-0.08288270051665896,-0.043035419647568095,-0.06882252449487455,0.0629786584846815,-0.08394580658211796,0.030047043241907247,0.07199608700701529,-0.04564140250399759,0.07558150441488423,-0.053930113832236004,-0.06389877088534515,0.012347322876642758,-0.04055880112604134,-0.06798388606265722,0.05248181867403711,-0.025698371069850977,-0.07234160524067389,0.06220325472286875,-0.0642114298208991,-0.009309683846504806,-0.06485792883770473,0.013680313156441635,0.03722859239712707,-0.023708211462331038,0.0028601080392400375,0.04315710630990388,-0.03269241041440943,0.032897652380359216,0.07707127030622127,0.07433920774491146,-0.05519030676660794,-0.020002067348780992,0.02741462606420782,-0.005183054461948865,-0.0757971718572535,0.0631150057193655,-0.039036873862560335,0.06115517011419373,-0.03646061222842847,0.03518628228713536,0.07600714707925228,0.0778686452506614,0.06855752527717977,-0.07607029883518386,0.04963041790821923,0.0467195625718705,-0.025359897219261962,-0.014966424773108876,0.03834909218369464,0.008389639710686783,-0.016411600360693227,-0.008413157001014394,0.08573374155863604,0.05435059125664037,-0.07075132169990737,-0.03476425040868781,0.0642497257931644,0.008622645723532768,0.039567216824910934,0.023919779283917832,-0.08306281309595097,0.04483511621426222,-0.026251739287059647,0.07338333108593717,0.07594431710195397,0.06490843044439583,-0.005685746912387624,-0.027130757489717806,-0.03691006966009323,0.02487175683468765,0.06804263550758166,0.01941900801951602,-0.08163108782244685,0.019181738232899464,0.003982414895592554,-0.04932875281632843,0.022484146627411838,-0.06364637220982902,0.0755782101698465,0.024319360179300014,-0.05526072920282724,-0.05776101770357685,-0.08537280063344478,0.04352426066564388,-0.08437593899877632,0.07198941292540025,-0.025226681929348547,0.018994469882722798,0.003536577480006371,-0.03392274237216011,0.012577594573140739,-0.07300731771104194,0.05704315090744332,0.054951408616605156,0.04472335549449253,0.06664008765570517,-0.040558945159855773,0.005139432381969731,-0.05579308483531499,-0.045337731938128685,0.0005438617833070444,0.011116267731998728,-0.08499465447731074,0.04089235973834696,0.024250518861651738,0.04313860571077597,0.08290700405283512,0.0033797599583939874,-0.04723327402109015,-0.0025366209609411477,-0.04349355791706311,-0.036996532164948664,-0.07486128367402164,-0.01278093260935824,-0.06793270201185288,-0.05818386924187278,-0.04513985514252796,-0.07774577305259175,0.02289955426294527,0.07802492015554778,-0.00073229006733441,0.01827143094346536,0.05233851785390946,0.05660255569856284,0.035416003285356344,0.02617190616588813,-0.07753818961859306,0.0409685158896612,0.03131988627020287,0.044626604894834554,-0.03204330947491951,0.05722162283596836,-0.04642122236503852,0.06873169146141113,0.05237543873458478,0.06003902333350245,-0.03645476553597955,-0.010734313937784836,0.08286705500734254,0.015133383270740142,0.05008780353368604,-0.027683541324294677,-0.026102152042730083,-0.02860303030982271,-0.06227342407780569,-0.05440231551718485,0.03288196249901851,0.029371701118296057,0.07229841986197265,0.047557060018330065,0.08564027840255699,-0.04322001861791061,-0.08035937373582594,-0.009963482589970546,-0.07872077850566903,-0.06242767496708762,0.05397373702003978,-0.06860126239545167,0.08490574344748128,-0.019488583209915252,0.014396759855050744,-0.05210551835105134,-0.0071920800529188,0.015963645700875773,-0.03510000883980498,0.0774791463961083,0.029597556695899405,-0.018499765270521846,0.05121694401007685,-0.03571953848659507,-0.007883662008420911,0.037077043736523235,0.08375240178007841,-0.008098876292765058,0.038660574904590975,0.03228171251274972,0.07466321506201956,0.019232402395051484,-0.07098820991094194,0.03829149031472298,-0.07850986502640052,-0.024447501730441086,-0.07434520997268093,0.01737295704605674,0.021795325353528357,-0.042704161979996366,0.01113077705153374,0.006255383417199987,0.04536254517643944,-0.009404335629085001,0.05806580841414346,-0.006642922817041044,0.0559362646657363,0.04853189961863852,-0.023236336108877795,-0.06245973314539342,-0.01397439694667628,0.04889364533948272,0.05824261748972919,0.059703316214434615,-0.002224295492906378,0.031076906003971547,0.018361060674003737,-0.028760697222426468,-0.07533865969893912,-0.0842496142173695,0.07732243363628322,-0.06454425440578612,-0.07337284898940638,-0.049161312956000375,0.010008230424992938,-0.034982775619609954,-0.01731206271891312,-0.07505886476232068,-0.04349224669083125,0.04140825857742441,0.0780347439458338,0.08207859290525747,0.005114850762611592,-0.06202692223032645,0.024962189204904825,-0.0009271115335743754,-0.005749773532930847,0.03259778047600943,-0.0778562313070449,0.005824815946309628,-0.08221265814262103,0.08145742480846273,0.05551051797805235,-0.03867582700597625,0.048604648388268175,0.05010135397665427,-0.023717266155602535,-0.019831190081663043,-0.0000018049647692584455,-0.06330654867725637,-0.03012237332175058,0.03650562416269728,-0.0764655327159847,-0.05022969994357672,-0.010894707280527932,0.007873040327395319,0.019948426403986454,-0.02441857730065656,-0.0782664101480805,-0.05680931498890868,0.08579888495104103,-0.07805997424208293,0.030063544166888105,-0.010022541245920146,-0.07676618503363006,0.007637308818174773,0.06410332400829755,-0.007941506145612207,-0.003939531250668172,0.0007332314568981953,-0.007299985921819988,0.07668533314770166,-0.006708475764984985,0.0635179979356912,0.01913628608654802,-0.03362441555481378,0.030125590472194763,-0.05947745355408733,-0.020294211009806582,0.017492689462626672,0.08284494824630044,0.041339814593818934,-0.04329532775063043,0.07218981640567151,0.05953715327483514,0.043275253043601,-0.012490666743620487,-0.014519889790846953,0.07891034149846066,-0.07844885411436603,0.07267651329011189,-0.07920015714266469,0.04039128736905354,0.03536903073892439,-0.019005306253253716,0.0019248076261082407,-0.07894421636313374,-0.002268111054197107,-0.06161807045892733,0.0452798117211446,-0.02431633716631005,0.020543307485478796,-0.008849426186236055,0.01403899387944407,-0.048544181829405654,0.012757134809744797,-0.01435115072965734,-0.009953628613950664,0.03890135328456504,0.05921503767545359,0.040193276959254516,0.03789812592025092,-0.009919552944601805,0.08210361359237116,0.07185482829206427,0.071304283213918,-0.06433509973607937,-0.05934223127084475,0.08417984023485435,-0.01494775564670546,-0.06811700242323836,0.0339898199574434,-0.05801406229445348,0.08377325053223339,0.02943484544673312,0.06273300317804657,0.016306760866922163,-0.0054474020823626675,0.006748243154189163,0.08339847053066232,-0.001410873464743481,0.030674002282318317,-0.07776576772883005,-0.04382867298828345,-0.012297656373225415,-0.008606427442470643,0.01632887629350512,-0.0516809262598523,0.08372245050748248,-0.0647569078124705,-0.035423209973825164,0.08583763018408287,0.015673367866259804,-0.005311018063262032,-0.07772353302695978,0.012988903576855742,0.026848720893007005,0.0731907116413866,-0.03117326664065771,0.0791387552626321,-0.036810020978637,0.07994056173098976,0.07126799176114182,-0.08293592229301476,0.034762625141161775,-0.07493830088993812,-0.005770142576486647,0.03016267110313864,0.038487602002952384,0.07764272201513013,-0.03843977337513478,0.02696679087547041,-0.0667548911319583,-0.038677661880130436,0.045458183001363964,0.04026933488247459,-0.08494581683134442,0.0349362544169532,0.013138841837135758,-0.07747195339067242,-0.0802766522787523,-0.06248509974552219,-0.06767013628706664,0.037885039150200465,-0.07512904314651034,-0.07465113657850225,-0.08444441552580806,-0.027310956022929288,0.06387854994209356,0.026378548433313984,-0.06284028440148351,0.023516096493966406,-0.07223833675758277,-0.0007770609844266334,0.04949423437474337,0.046350767178571985,0.05821382162282222,0.03413868220854328,0.028694616867055135,-0.056420634653441916,0.022067412514977878]},{"id":"chunk-7db5cddc-9","content":"Complete bank_support.py example The code included here is incomplete for the sake of brevity (the definition of DatabaseConn is missing); you can find the complete bank_support.py example here. Instrumentation with Pydantic Logfire To understand the flow of the above runs, we can watch the agent in action using Pydantic Logfire. To do this, we need to set up logfire, and add the following to our code: bank_support_with_logfire.py... from bank_database import DatabaseConn import logfire logfire.configure() # (1)! logfire.instrument_asyncpg() # (2)! ... Configure logfire, this will fail if project is not set up. In our demo, DatabaseConn uses asyncpg to connect to a PostgreSQL database, so logfire.instrument_asyncpg() is used to log the database queries. That's enough to get the following view of your agent in action: See Monitoring and Performance to learn more. Next Steps To try PydanticAI yourself, follow the instructions in the examples.","metadata":{"url":"https://ai.pydantic.dev","title":"PydanticAI","chunkIndex":9,"totalChunks":208},"embedding":[0.017255923036449933,0.04838185340109174,-0.058105046929758784,0.03664247861686904,0.016527275113191034,0.01597951444348863,-0.024223035481289016,-0.02586534633342551,0.02685048383010961,-0.05781431426220649,0.0768754848114378,-0.07917473366430822,-0.017056875045847034,-0.07625459293002726,-0.0029552490997870533,-0.08103568765928669,0.05672210276140816,0.06032924612376686,-0.04781117075488919,0.038093824600971216,-0.0280716957495695,0.05187818996625666,-0.062054480098785864,-0.024987638094127386,0.058490484909134395,0.07758677011691413,0.042928062187281575,-0.004544247881817122,-0.08472685119560865,0.029987223509324427,0.01947432792428543,-0.06873963941806803,-0.07526992415340936,-0.06564600973979139,0.07892643332471318,-0.04180171491174488,0.08096078266702893,0.04381505868303034,-0.018140467672171416,-0.04239918041507216,-0.07201394425245089,-0.01040275884044226,0.018398130517462395,0.004933845891735261,0.013769102758513873,-0.036088851243562904,0.007426975622048366,-0.08248652691791118,-0.06448294802290912,0.08372191808762033,0.06682881128861046,-0.07493025943524965,0.03087585770988679,-0.005269058668485586,-0.052875327861193436,-0.07156122767187773,0.040772824786166915,-0.06755101636901975,-0.03962029483582416,0.003929211996928742,0.04451033620837329,0.070193764153135,-0.010566409777117853,0.0780566220921378,-0.04914018478666803,-0.013899883107883078,-0.04629112839880407,-0.03800151038352364,0.03432667358795876,-0.020886829320107256,0.048230531314088325,-0.0815426175350265,0.07679124896162612,-0.012492112891672973,-0.004131475744974581,-0.06483795144555778,-0.03786748342259169,-0.028695700224946004,0.0026139439271365937,0.05788393464516486,0.052431679894315894,-0.06100113856710169,0.037814043660879905,0.028794814095300967,-0.05147064433321036,-0.06897802376243634,-0.05237276269046228,-0.023856276802483187,-0.012345695167270895,0.07424599949047048,-0.011879294765574692,0.0585563557806867,0.005746625163469558,-0.001031557943192078,0.0008401369496690512,0.0596048314783168,0.07236671163046289,-0.06796123016468242,0.0012335428020679882,0.02128928504319632,-0.03496546578201224,0.07137122880376873,0.052949120809900524,-0.04672162484911513,-0.05661864954088866,-0.08121317412142907,0.08637331382803731,-0.01599233394128602,-0.059975916450399985,-0.06571845749726862,-0.011737232209579156,-0.07254693873817103,-0.07371059062361734,-0.029475886626177093,0.0755490780211575,-0.009893415467533286,0.045009867735430156,-0.06664807350813809,-0.06179705089360193,0.05898363746143806,-0.009744902490788174,-0.07987734132099573,0.055086960943871825,0.02507788522796071,0.06991998190067918,-0.025414826637266578,0.012606516660091374,-0.08630196387718966,0.07760806814426043,0.0030957218775591504,0.04061067452389035,-0.06209613823798255,-0.05343922871801261,0.032796075317398254,0.04845388480799214,-0.06739551430452861,0.053672245755517725,-0.05763347410982194,-0.04030108579076318,0.033851607253985234,-0.028443765767966863,-0.08232075178298964,0.06300799666611034,0.03227480281946646,-0.061784607766697516,-0.000830532057904741,-0.07578777387186764,-0.0696386623811974,-0.07939768279064907,-0.04457877206125359,0.07948138240363742,-0.06443233704356285,-0.06274317106536235,0.06031428757719425,0.03400951367962269,0.045125410569357746,-0.08420788483039801,0.06016784267560328,-0.0475085691052748,0.029705833532850102,-0.016077069602297045,0.0385652259204458,0.026303674617039852,-0.033789735834314376,0.012286327693903825,-0.052156181571385074,0.05386563632553206,0.028272311037790633,-0.03473653378944306,-0.012770820382177443,0.08475224603978279,-0.04537885194976091,-0.04004471533250475,0.02625885017652853,-0.04625589591631616,0.07220192209695744,0.07095968367036097,0.011578732869514422,0.006973849180927557,0.05012866895071761,0.07884535948125367,-0.0782624585494284,-0.04769449215594575,0.022532100520053774,0.06733652102945845,-0.05766413053792918,-0.0435858929616707,-0.03264700786076204,-0.030138421866714223,0.06605293847535768,-0.08481664755554777,-0.07440668534344344,-0.029347198928452455,0.010790717871580435,-0.021810653395134133,-0.060690986886754325,-0.05977133318203592,0.009257549564875246,0.08345629063708616,-0.029842951347475274,0.011400401059032417,0.08338199743783219,0.025272564015845433,0.0293848940437115,0.0575877379763447,-0.044416394112847174,-0.07866321980973243,0.011989075911445268,0.03125404940303825,0.04844379063631599,-0.010587421831748718,0.06318505078595964,-0.08370216924091968,-0.013481115667330276,-0.08614925391744628,-0.025059353280408824,-0.06802444862596216,-0.005998925957042999,0.03529045066550074,0.04230299031462176,0.022439281388699946,0.009516783267113022,0.028002714424405946,0.0570578398546027,0.08098711801599502,-0.05500002889075646,-0.012504485252559226,0.027275615655724374,0.006781350420826905,-0.0032659085273094553,0.024355982557778946,0.005539320599469229,0.06950094919663091,-0.06962360994453065,0.020879674323495034,-0.07061616606729106,-0.08477351041614965,-0.08425425233296989,-0.03511603028557954,0.0016793803211429112,-0.05355416158733629,-0.05510547330438258,-0.043708124959397736,0.0495607577626014,0.04882938001767428,0.04834227985665881,-0.05176482189234618,-0.018822342863743326,0.08427648790082931,0.0287127647905111,-0.023714441746580897,0.03264691228241968,0.050024489255057765,0.042841734885754504,0.025135839567086368,-0.04723905034912093,-0.07192173264023287,-0.01795352335112243,0.023989076600189,-0.02919746064794287,-0.01580594611610539,0.07286348740860525,-0.05802588821261269,0.030300496826514502,-0.0187436941521225,0.025364458957323595,-0.07006244303549747,-0.05473895828496271,0.05998846636620474,0.02016692622940392,0.07403699500671639,0.04954384746346752,-0.04437219426885687,0.07164424354954553,-0.08180271408991194,-0.019871739342000146,0.0737144255462484,-0.05795619939633813,0.06324840036669145,-0.0678602589832761,-0.07799023277427128,0.020069178210465874,0.04905300415187382,-0.04392595801816659,-0.04674900780384632,0.030958395257360244,-0.008908530135113637,-0.06118480684857097,0.03679221857589546,-0.03686573591827184,0.06725467388871206,0.04995026608420245,0.05525592025367794,0.08364935841541643,0.025468874329171904,0.03738992270761917,0.07130135998852305,-0.0752468537978296,-0.02138498654221899,0.038875670466751416,0.005803506761502502,-0.01659467531098045,0.07448388614461,-0.061802077944971306,-0.0658147841904571,0.08366367822873108,0.022385184780610853,0.04541082624422794,-0.04536881403391661,0.057707804116760075,0.04988127923397013,0.05254997494130271,0.01591017704785272,-0.01758199326990099,0.047702094875947364,-0.08229520616884219,0.07950164017471606,-0.015041210457157566,-0.018832859239219246,0.07039385743292172,-0.008015730503855597,-0.06797229861091185,0.037019638512471136,-0.07573179429236668,-0.01409353049612404,-0.018004357685136002,0.06728221817615905,-0.018389203953237652,-0.04217598332182055,0.08528393181734176,0.007765209266872033,-0.014730499564555364,-0.015928223001752718,0.00867649160427327,0.03633411037048937,0.054626754264247186,-0.03813557464472486,-0.05374168051551026,0.07624141380765835,0.035375052145820866,-0.07530061610166942,0.03361745377494609,0.013306725185535592,-0.028142465263004346,-0.01811143981092832,0.00018696916098723246,0.07035919734504191,0.04588986541239963,-0.05464743632264507,0.020274577052270423,-0.06642642565392046,-0.0760295708766789,-0.05032859532168403,-0.06796051150783679,0.033165946383589405,0.025127740898951215,-0.05101716895989438,0.012873648848242393,-0.08288442042044497,-0.021265132600145766,0.02514267670962206,0.07339772237331327,0.03788154861642274,-0.06304040711993336,0.006691113974258505,0.07699610174789329,-0.06321758173802527,0.0691053575284351,-0.07096051999811756,-0.02131033085630405,0.029103673712857738,0.08435113269466803,-0.042817075824409134,-0.07433833271443771,-0.0007370791967593696,0.01766344131478325,0.07244348615445778,0.019941078614869785,0.028083655381370413,-0.01303151286673588,-0.03155961257011642,-0.038649875519192196,-0.03685988142187741,0.03570717145740616]},{"id":"chunk-7db5cddc-10","content":"Read the docs to learn more about building applications with PydanticAI. Read the API Reference to understand PydanticAI's interface. Version Notice This documentation is ahead of the last release by 2 commits. You may see documentation for features not yet supported in the latest release v0.0.27 2025-02-26. Introduction Agent Framework / shim to use Pydantic with LLMs PydanticAI is a Python agent framework designed to make it less painful to build production grade applications with Generative AI. PydanticAI is a Python Agent Framework designed to make it less painful to build production grade applications with Generative AI. FastAPI revolutionized web development by offering an innovative and ergonomic design, built on the foundation of Pydantic. Similarly, virtually every agent framework and LLM library in Python uses Pydantic, yet when we began to use LLMs in Pydantic Logfire, we couldn't find anything that gave us the same feeling.","metadata":{"url":"https://ai.pydantic.dev","title":"PydanticAI","chunkIndex":10,"totalChunks":208},"embedding":[0.06995917869292044,0.024774931989859313,-0.07169014416869474,0.08543319496963964,0.00347286376150647,0.058839626831607206,0.01876919356942903,0.0368815064957099,-0.04559524245028396,-0.08128207613772478,-0.07252826319325523,0.012683412329713836,-0.03936380209844382,0.07842915703149185,-0.06237891960330028,-0.08145579009216482,-0.002537495623435369,0.03026329333575164,-0.06693213647826989,0.03584761962620388,0.052959131001679906,-0.0036659529033122927,-0.019058198496617853,-0.027634800008352046,0.08109930177529637,0.052656332566984654,0.02560527730655097,0.046402236349522084,-0.06743536196271425,-0.03664701682196451,-0.07570725577375154,0.07763542039079743,-0.0016116409846141527,0.06717359157545408,-0.08072397378892415,-0.0631151854606996,0.042688773266976884,-0.05283936349477952,0.005208964671997803,-0.05375236933750427,0.011520102239989258,-0.008403106906395612,-0.03519698289836431,-0.03845468327972363,0.07259158749106588,-0.08039952538406818,0.04390905664178127,0.06540052102017399,0.07379623961107286,0.06193831888195065,0.018234007608572626,0.06186288763174061,-0.0224098216618206,0.03603551825067729,0.06927499300569366,0.08073540481063735,0.08083284340364186,0.035174329484515286,0.08333560982140145,-0.03012220720874145,0.02359716006989315,-0.016275872669863446,0.08375353074787349,-0.0687396847350995,-0.07613095335283734,0.04306176292384558,-0.059200723823016596,-0.04652281193657235,0.04134217867959885,0.0785207636771475,0.04424029836968229,-0.03879379656313866,-0.0443873269775957,0.0586922180958621,-0.005282299704451333,0.08575587911961086,0.04312652887621882,0.0613652845449741,0.0384834302265663,0.0042026389554962375,0.02836165502932166,-0.014049674220881513,-0.08271705211572784,0.008285932404239716,-0.046729979624254986,0.02207273060429551,-0.06473189005392972,-0.01008739196096818,-0.020073333373669386,0.06467001588702426,0.008037093136507538,0.03181543188859948,-0.03605132445959729,0.0562903151939253,-0.025663755981091368,0.02094158971798686,-0.013180775438591719,0.0734673914512986,0.008002667523476645,0.0231244950964029,0.06812714786735859,-0.053824051930126196,-0.03226709029730691,0.01255191068110434,-0.0014099276777019933,0.07687064687483443,0.0500497019591656,-0.022873074847821126,-0.05843635918548914,-0.06054688589951084,-0.008210074456986856,0.024905818695589783,-0.01974311206728735,-0.050666124235249695,0.07515296763686899,0.05822455953011486,0.018681904655967287,0.042855727098962966,0.07737889523768972,0.0041928021225892155,-0.04907555586346619,0.011158029298946113,-0.05644813453174612,-0.05989699877119369,-0.07233546103370526,0.035034085804836086,0.057557826768522384,-0.06595534508187177,0.0784253741529506,0.07001960502441187,-0.07250272542420515,-0.0034643546358576237,-0.027292189648949916,-0.048763226139724294,-0.006143999281473948,-0.02292913379320473,0.00973122352435807,0.03979039378373204,0.0661832512147458,-0.07652316294015776,-0.01450739359078551,0.02532914227364134,0.07890033534403094,0.007616987686102484,-0.07293877041130407,-0.006635182417474817,-0.05863522063293369,0.0432576387035209,0.08549711530223444,-0.041868393246323264,0.006360318110850936,0.010006860060072871,-0.05868545754528807,0.029627114443960236,-0.046870610089754454,0.005860327287124134,0.06955467960990278,0.01754261543595972,-0.045092617813133305,-0.005309008025449269,-0.05739504891800136,0.07889651044931727,-0.0034395647375040778,0.011092883639825224,0.07610835123439509,-0.07889430352484943,-0.0253462302598291,0.07983236237398195,0.07969116100395927,-0.0745943006639202,-0.08179324565639101,0.0750350934094755,0.0401051001977444,-0.04594016925747893,-0.06612464011782594,-0.017831290758347468,0.0593652488105178,-0.06755491112162902,0.001964503282757875,0.06585278040850744,0.02982090164932385,0.010498809776582277,-0.04418139912113354,-0.04881401407422219,-0.023147734270585203,0.05819554707559743,-0.07235157353475505,0.029733631247724424,0.0071143589237588475,0.013894214207852293,0.009858127384796803,0.058527726366024234,-0.06984422174838376,-0.03436606091254111,-0.0451399118948137,0.038912063653388056,-0.06931460944975822,-0.03204375186095928,-0.011257770836517685,0.06042120301293947,-0.036067534904033256,-0.05388360540537401,0.037190271584061234,-0.055143286457270374,0.06527927312042854,-0.01488353891225882,-0.07850541553711993,-0.06005170392347232,0.08341264640143738,-0.03199299518040356,-0.04536927970554666,0.06904958172662966,-0.03830002872881275,0.005400050612250099,0.02580311407726393,-0.079325120539165,0.008446576803256929,0.009942349759616491,-0.05310916839984535,-0.05226526558145011,0.07601340615587991,0.01656674150600043,0.03279226324637392,-0.05443518619769893,0.0153512427957048,-0.033358096711072587,-0.0050189896030988475,-0.059041710066689894,-0.03601963994213287,-0.006280929428011786,0.061915151574047325,0.08514545999777155,-0.031665137546415326,0.01732020640676285,0.006307645850913833,0.05473768413301687,0.040343604283836994,-0.07955622253414847,0.07028268259290048,0.07290975064354543,-0.08286497385826191,-0.0741722038403371,-0.08231317355408564,0.007965043639700261,0.00783404183559777,-0.0846942772641109,-0.013952854159642564,0.08280656758368067,0.03490827031251721,-0.07535296912529689,0.021573880468083166,-0.030827404125817495,-0.017656482818367576,-0.016279172007523508,0.05096711506901869,0.07058997406277283,0.08545469019128378,-0.06606904950367348,0.04497876296403699,-0.005375273351631447,-0.018971419377672494,0.05617893870029244,-0.04086187370750774,0.06671945826732785,0.031237109328914325,0.039392797954664785,-0.08579469076027874,-0.04690820109208949,-0.04247936442262347,0.07900709292020675,0.018341101291334216,0.07442974133109075,-0.05020170327626007,-0.0017905179371865533,-0.0449793303209099,-0.002719287336593634,-0.011900329309314488,0.013204222551323256,-0.0639370344964817,0.028106919278469557,0.06183676141086873,-0.011459305418738169,0.010342250263918997,-0.051274872376643375,0.08040959251506556,0.07446083891833927,0.07613025498596576,0.01274488497344517,0.02868913787047693,-0.06693800564402005,-0.017359409523467838,0.06527518530159705,0.01676454062531186,0.06066325813355472,-0.05083123778477775,-0.06747891341029777,-0.045218474301772164,-0.02765182537737155,-0.08618047687915006,0.07489055463134059,-0.07150724500624316,0.05964547737818339,-0.014817857164279262,-0.04155241360098171,-0.04473351690571243,0.08362480927966208,-0.03668002787437421,-0.0044066718390017605,-0.06630553993196155,0.009019920202796463,-0.008916294885086457,0.08043561249767561,0.01998952027240066,0.0013656287347227844,0.033076935787389045,0.016007986566956633,-0.0629341826670635,0.06545244929034548,-0.05772112160579693,-0.06549054543988712,0.0715350060244362,0.011110054538442802,-0.0232730207595073,-0.025300079340778957,-0.014825937099464061,-0.008758038096812117,-0.049900740607320665,0.020316285759272412,0.08296248067264497,0.06772331163151346,-0.061804521241550905,0.0667094392591918,0.026491217574413837,0.007429434781337404,0.03566976810461016,0.06601313426505556,0.003614361682104272,0.039203343877727385,0.04638952377506704,0.008666642306001856,0.010189760551256786,-0.06216353453181698,0.05517376989806396,0.07238747368600457,0.0028602260353841075,0.04176726681906319,0.028280881725221616,-0.009237841298992577,-0.07158693957692436,0.08308703646359346,-0.0477503242912552,0.08057217042778379,-0.03549144073314678,-0.06654660901448647,-0.08143954223923706,-0.025282317927106123,0.021699812933690735,0.07723410709664144,0.04647732967163689,-0.0527639297959515,-0.07161986708904117,0.016711485903226325,0.014239319627867973,0.0653559634424114,0.051514776249255205,0.020600860662919808,-0.039029103091379,0.06282192969261076,-0.026734505409135318,-0.0776121667033364,0.06477634937589842,-0.04788973628724478,-0.0680757519788206,0.07649905119797402,0.012302891183204556,-0.010494381683265844,0.0014030460432279256,-0.025851858410324426,-0.01863230773900374,-0.08618569487166322,-0.011885604656850178,0.023538152393445498,-0.03406834748940866,0.031619989445630485]},{"id":"chunk-7db5cddc-11","content":"We built PydanticAI with one simple aim: to bring that FastAPI feeling to GenAI app development. Why use PydanticAI Built by the Pydantic Team: Built by the team behind Pydantic (the validation layer of the OpenAI SDK, the Anthropic SDK, LangChain, LlamaIndex, AutoGPT, Transformers, CrewAI, Instructor and many more). Model-agnostic: Supports OpenAI, Anthropic, Gemini, Deepseek, Ollama, Groq, Cohere, and Mistral, and there is a simple interface to implement support for other models. Pydantic Logfire Integration: Seamlessly integrates with Pydantic Logfire for real-time debugging, performance monitoring, and behavior tracking of your LLM-powered applications. Type-safe: Designed to make type checking as powerful and informative as possible for you. Python-centric Design: Leverages Python's familiar control flow and agent composition to build your AI-driven projects, making it easy to apply standard Python best practices you'd use in any other (non-AI) project.","metadata":{"url":"https://ai.pydantic.dev","title":"PydanticAI","chunkIndex":11,"totalChunks":208},"embedding":[0.0766111567968011,0.029343484537290486,-0.0017787454835805998,-0.047571232236973605,-0.0627738560290386,-0.05642486579364401,0.01942906521990928,-0.06891286140829184,-0.03818346123304306,0.07519272480092647,-0.010639336568540072,0.07315342217277816,0.06650217006423123,0.0036413727754848963,-0.07204468966749558,0.016860752416934723,0.04142215310893636,0.038678876762503124,0.08369080414440652,-0.07582258232965616,-0.03993939367209846,-0.010683431273505633,0.03774977709362433,-0.06465643814741256,-0.058610430518614656,0.0015465987955501968,0.040399567161046444,0.005696745352631787,-0.049697733628221295,-0.08603083181497384,-0.01814848723794158,0.07233104689224402,-0.07086982626323776,-0.024973321239199042,-0.055915416486175804,-0.004744509737904351,-0.042730311154982666,0.08054880729855231,0.05953710984849949,0.06774754259687424,-0.05617225807814216,-0.012599766973436817,-0.010987508579129203,-0.01676846127363354,-0.03256828149469241,0.0451223407480605,-0.0459041178816814,-0.06496395807760376,0.02861492405469802,0.018436705116640615,0.004587876669662538,0.027491895124428397,-0.05301799063847195,0.042288704272853375,0.01774875519444852,-0.08577315599237462,-0.06018021705463239,-0.031692677920682574,0.06382502628054038,-0.05521311070137383,0.05191632158276372,0.0773311552789114,0.06020524448633747,0.056141329637304074,-0.004228825316991842,0.03153313579243506,0.07982015573188664,0.029852034584963324,-0.028541963987460502,0.06599163748209148,0.027819320546795687,-0.017149592344210984,-0.05745717765659312,0.07227934749079187,0.08028316595051269,-0.07305111227856971,-0.002639348911523519,0.0854933911450583,-0.06431087158097654,-0.06691633250009672,0.00973543632837672,0.08077215332340486,-0.030498241738609048,0.042806574575006945,0.07557767139475147,-0.055190693474301715,-0.08619894918613208,-0.032419920780494785,-0.00643141014170326,0.011660510699447601,-0.06430586944103883,-0.005318934349548052,-0.03672221237923038,-0.008381985309695228,0.0365964453145821,-0.041042858818749285,-0.0647803484278243,0.019021079288885127,0.025664446110352287,0.02688045367811458,0.0853605560603011,-0.04444131408226826,-0.0064024708567425115,0.0141972549571789,0.048523652356935836,-0.08222701988659753,-0.004957690067025443,0.010126414924400928,-0.06353889757530203,0.018239232029196608,-0.01560329489050475,0.00348114946592268,-0.019415822450119215,0.056156061955478745,-0.002366531310951089,0.05698002999857958,0.05718165320492178,0.0516280639304499,0.00764619855297012,-0.05179974981541299,0.08557218412886858,-0.07989135223179522,-0.003994495376650591,0.020670660488456758,-0.07283690502820116,-0.056063180214338766,0.0667412160924793,0.04004847333869548,0.071837062295985,0.07868301060483926,-0.06338768209760569,0.012197334175336185,-0.013190595692212164,-0.0758976205653831,-0.06654823262428335,-0.04664529889949369,-0.08261264861632815,0.045064862413664364,-0.05054265599416469,0.06818456969588434,-0.0825502376036064,-0.0020642138298766584,0.014132543594685952,0.0746165282888682,-0.006237545605609506,-0.03427613375365318,0.054460127507047,0.04372744812830508,0.02956910707146301,0.08461789654599298,0.06999761301620602,-0.038349578511679284,-0.05137701734785427,-0.060076907944555814,-0.08023242721689657,0.03368893887841539,-0.021664866628219363,-0.022550266246478354,-0.053879206363230354,0.046124986466927066,-0.057310432358000214,0.026984439013314047,-0.054423638042944554,-0.029043837066554657,0.020126173944753342,-0.012137772145098912,-0.055679025729890946,0.08524315071343529,0.06253163740158862,0.02390386907226235,0.0077878457564865755,0.052391222426201894,-0.0766385056313733,0.04105460037054162,0.06354880457014687,-0.045944346317657585,-0.0486804999204314,-0.05002331943831839,-0.06220050396684109,-0.02175321311015864,0.06727234117647309,0.01569276354116063,-0.07789252077090267,0.007593634039119565,0.05707005279267731,-0.028313787082249922,-0.01565384702195574,0.06607095496218338,0.018223550260237257,-0.0010381191483104229,0.06591618350856351,0.024609232192727485,-0.006455272434190098,0.06741583736454276,-0.050765941653204374,0.08606966516735724,0.026089275710519638,-0.040377073569564444,0.054373459279485926,-0.04698129038753373,-0.025718392456932884,0.007671493036329762,0.041934156615650385,-0.05917318482470885,-0.06221835581527809,0.0009514496599392797,0.07576016378643834,0.0025086466311203246,-0.027724897736497882,-0.06497714637042505,-0.05492883536535772,-0.04580276461608779,0.07879554433099024,-0.015651974932253863,-0.03340451608120787,0.07263993744537121,-0.033988897018322126,0.0017080096008390134,-0.04421660315818082,-0.024835278897574635,0.06364061482915152,0.08413886524452638,-0.06083404522496345,0.06415901419984735,0.07182760408001065,0.08550238554537411,-0.03917271412344954,-0.05297046816150888,-0.00015988693022232414,-0.06696449848627982,-0.06233369638943781,0.009951326308191346,-0.005737320056637343,0.05526231351444065,0.01990600595157002,-0.051856316106129334,-0.06088989155191707,0.045946876673706186,-0.013013853759286084,0.0409893465497349,-0.009965758011194288,0.06787069789825528,0.03922010219703955,-0.06078415051100429,-0.02200513037808811,-0.02058128999123691,-0.06401668345501825,0.07666178148124178,0.03624162476661264,-0.023705288429118183,0.06234320099537687,0.05003882966328028,-0.05942586561188211,-0.0746222992326935,-0.009746192653369148,-0.027312751991048122,-0.015940112208196983,0.006462129768307888,-0.055579401221941147,-0.07904047827022587,0.018105466475005133,-0.041939685198907235,-0.035265003564534575,0.08497978488752568,-0.017428768078533607,-0.0237568846793601,-0.07201928387645742,0.03350655583567936,-0.06483913522459182,-0.0810714154337027,0.07176835816306253,0.05617524893639808,0.08159148379462391,0.04738841492292087,0.04815112143230783,-0.08496578838481403,-0.07016468215230699,-0.03808428182156672,0.08080937607495592,-0.021766481474383256,0.03762241624971941,0.027570962239887038,0.01984990366461378,0.0014403105734248436,0.006564712313360151,0.08269508850706482,0.0430571039646829,-0.002362604468648701,-0.0009562448105327104,0.0702040746002835,-0.03085661302837497,-0.07346334390199451,0.059453461888236414,-0.04405838746936143,-0.08542472927304565,-0.05191490140049876,-0.07658882891816807,-0.04988325826772626,0.07196084525796029,-0.03155186599646031,-0.040951807952473586,-0.0736935671097204,-0.05764850459235472,-0.0650046478589687,0.07054487025413066,0.08022174284343957,-0.07564066593508616,-0.05213090362842126,0.05687256517378924,-0.03407840538673114,0.06720688518212423,0.05390844773624319,0.006591438254016109,0.04307422290989301,-0.08410767636952128,-0.013036345822065304,-0.052006245189906375,-0.03732482649115331,-0.02756304642347228,-0.03730799447850124,0.005331083386994379,0.06363207169939486,0.06785930427653342,-0.06620300383991196,-0.05698163953823666,0.01975520810642039,0.05689842080691305,-0.030240133704199285,0.06913330344085764,-0.005316343326959465,0.06226072004216684,-0.038749644833972856,0.04699166714234076,-0.060193960629547454,-0.03545104638458067,-0.0014827163207230553,0.0014624241981390142,-0.0570196049856882,-0.013192528413540494,0.04865927959447792,-0.08099264622789157,0.00036510578497128096,0.009851311595374298,-0.0580862358282884,0.012040667566839818,-0.07507570365591852,-0.03869202530050017,-0.06530199214605284,-0.05824603970870842,0.020878032767884757,0.013794932532643233,-0.08171145005048898,-0.05496939406091984,0.047608555091665776,0.0022257012236888665,-0.051929268525155295,-0.05452869980646784,-0.05011840255567855,0.016676149999189076,0.08128563572188298,-0.06520573655720094,0.01706084570310867,0.05744503068775402,-0.01069864045301592,0.055982480502443366,0.014833689606597438,-0.02726659114400099,-0.021111001874260165,-0.00047829812636895463,0.030071554530873422,-0.06538019046397003,-0.051879346484908134,-0.0014595301031720745,-0.03301421312277848,-0.07916500546115882,0.008218780966466898,-0.041136020408903295,-0.06202550285354098,-0.08228617047610516,-0.0619940229123332,0.02897696260299885,-0.05934081161270871,-0.056688302857636874,0.013537265880456192]},{"id":"chunk-7db5cddc-12","content":"Structured Responses: Harnesses the power of Pydantic to validate and structure model outputs, ensuring responses are consistent across runs. Dependency Injection System: Offers an optional dependency injection system to provide data and services to your agent's system prompts, tools and result validators. This is useful for testing and eval-driven iterative development. Streamed Responses: Provides the ability to stream LLM outputs continuously, with immediate validation, ensuring rapid and accurate results. Graph Support: Pydantic Graph provides a powerful way to define graphs using typing hints, this is useful in complex applications where standard control flow can degrade to spaghetti code. In Beta PydanticAI is in early beta, the API is still subject to change and there's a lot more to do. Feedback is very welcome! Hello World Example Here's a minimal example of PydanticAI: hello_world.pyfrom pydantic_ai import Agent agent = Agent( # (1)!","metadata":{"url":"https://ai.pydantic.dev","title":"PydanticAI","chunkIndex":12,"totalChunks":208},"embedding":[-0.009553868619240107,0.05798520954967318,0.06697626879876299,0.0034799164591508636,0.058421086645615024,-0.07034832042097323,-0.05080022186124155,0.06968504354070171,0.06653299993609074,-0.08269437322156793,-0.030807616839943788,0.03964405498469702,-0.05157969042208596,0.06965621340856837,0.02920007459816432,-0.04466244402081827,0.0831728025397266,0.006671182340023357,0.039703948382297814,-0.016580940712272313,-0.05086220252648599,-0.04576896913923724,0.006307982582002487,0.06423403132136457,0.018700779745940838,-0.017281494810800074,0.0023188535901829755,-0.003414398657990245,0.07810017030870645,0.07508675752104033,0.037788371082768744,0.011712017565463572,-0.06848169142877733,-0.05669738578950699,0.05626812561335317,-0.055240305625505595,-0.03200445284760034,0.021226040389762103,-0.01582710548214947,-0.07221885920318775,-0.062339979644063376,0.08291488753182076,-0.04097179177049581,-0.005114654367012742,0.046375582234540066,0.04058465939884318,0.06413504986586134,-0.027552904646746163,0.058537924165648056,-0.07256699491195676,-0.035339111274573724,-0.008100037636925777,-0.010731194255498554,-0.024213757660407238,-0.040127007532814486,-0.04003305405798139,0.037680018608071644,0.07761243925848701,-0.03776826059579685,0.05688421418143376,0.0801393155848782,0.05547379442914241,0.04797505945643049,0.06294954085645853,0.031943536697165424,0.07458575553703521,0.021888816403332317,-0.033293900694047286,0.023116177481607592,-0.03950815901038656,-0.07061844766330624,-0.040320207290762626,-0.07670760578554314,0.06880535142574958,0.021055243577646578,-0.050582210548535726,0.017020174158539625,0.0817287905294333,-0.059383384767755655,0.03311817083250758,0.009238602334479864,-0.02085130450381923,0.06350063621268068,0.04445449228464999,0.004521064933619707,-0.0809034037264576,0.07717426116223478,0.006078831641920275,-0.041699280101943105,0.0844221920473896,0.060501747993172775,0.04920929531639849,0.03342928814989363,0.0011310973093236658,-0.08250555128026404,0.08291288019152473,-0.06762833198430956,0.04367278689111703,-0.03226168546383,-0.0694646937570045,0.00785530791252176,0.0628352154783712,-0.05129956504673137,0.04163191254607851,-0.07515701777908321,-0.058574242053204585,0.07361337354000146,-0.02937415352011508,0.054177011203684386,-0.06582575611062619,0.013533428712122474,-0.024728701613773944,0.023611170100613935,-0.002175329809244142,0.053532433316115874,0.02141353135303306,0.004071010774280359,0.0622649475631368,-0.0205735999462482,0.044063005398291846,-0.08385234038230441,0.004319861475842444,-0.052003892914625975,-0.02571363648277823,-0.0069394538583062776,0.049599795594416934,-0.045317497780345904,-0.012210548802297811,0.05852387930186876,-0.07158412578339568,0.08288141433858104,-0.06639669434947842,0.06214066943675783,0.02475934481617056,0.06550103214078007,0.06891125507838629,-0.020889974122378786,-0.0284832215874653,-0.028518361096672558,0.005685705251840905,0.07479929802935632,-0.04186408855154803,-0.008651603167468082,-0.05726656682476788,0.0209649942876356,0.02543565356300146,-0.003403555611352151,-0.08189612360873873,-0.041718179417693846,-0.0028998004178860727,-0.06227578438714306,0.04369943984562642,0.022113606970612393,0.05197140498685196,-0.0149755018629769,0.08470939650101789,0.01076207213471654,-0.08013508546811168,0.03905402700083393,0.021248728703408493,-0.013297966897772314,0.05264586050760864,0.07369982997672336,-0.05113453672101586,-0.02979883069458809,0.05950307644032047,-0.08365842196561808,-0.0620412194928787,0.08131619789201275,0.0542030249560402,-0.0036406273066598304,-0.06506651359012677,-0.06123988436250276,-0.05657017840004232,-0.030187714613529645,-0.061946537196357856,0.014411244889108814,0.03677463551476853,-0.08133416638003188,0.03644490655441512,0.06133345022458119,-0.0008819287030656271,-0.049246403579017585,-0.06699335308990022,-0.08400270668354595,0.065901723458332,0.029098631830192925,-0.012120662307367126,0.069231887856637,-0.0343083246895491,-0.05589175118147761,0.03452884690021507,0.011621124858334128,0.045296720614065304,-0.028869372392852147,-0.05997321625366054,-0.057847793752872675,-0.07240972402328139,-0.06000870177379996,-0.05011599549174667,-0.024850620077119495,0.06157020405893946,0.06004588548921966,-0.0314442735316732,0.046989608254149245,0.036969648785698826,-0.045036163646647885,-0.003288175929149449,0.010978420543134693,-0.08378551608533713,0.023271821651411558,-0.07622587575215432,-0.07389268813574716,-0.01545502393291877,0.017670829357681623,0.06313935366494874,-0.006063501974323047,-0.03357693445729413,0.07128505820515,0.01016409900617722,-0.01855066288123718,-0.04399422457407671,-0.030809477204661883,-0.04344119054784882,-0.06396349365445395,0.07455603613312166,0.019349418140439615,0.03782221008525451,-0.02521339464487816,0.03402638298030395,0.07922025987305638,0.057227465201355,-0.024914770695820973,0.05393695807144532,-0.030712906999015955,0.05950423875084469,-0.08413976807625863,0.07859981754923898,-0.004958019315889309,-0.002817659856142004,-0.009297785399014498,0.07994750199896182,0.051797592440361126,0.07496748180891254,0.07724975586644196,0.0784861613471615,-0.049021898726220904,0.042610360130650955,0.020829001805014208,0.012100048269452416,-0.04617687552649233,0.010936545082133963,0.04033004440081484,-0.07699154059476383,-0.06335813588452065,-0.06879556287953587,0.028897380787611268,0.0021777862433188383,0.017811589304601826,0.04009569087609273,0.06303783029873351,-0.00048198826245063477,0.04094131330494725,-0.02918698552205901,-0.04014210238623779,-0.04209590195832351,0.056593764103649066,0.0037456955003798273,-0.06143565906578302,0.018547709560257017,0.0016618645361444243,-0.016430859948133043,-0.07941868489107087,0.03911718738019404,-0.030108108876883404,-0.027917596081059898,0.07071922658087339,-0.048995333976947976,0.08037733041006333,0.001327709460452856,0.011499339974776406,-0.08039685867879973,0.0006128942218831677,0.043236034321518055,0.00451442050863241,0.008592049389825515,-0.016015584151576237,-0.05533669749901757,-0.03211715127954185,-0.03391793894905688,0.05613510289712855,0.08292392024951038,0.08376091453287325,-0.02525604497454003,0.06106748260813432,-0.01511986702408633,0.06026997339655783,-0.08116827133077896,0.0037637985545795794,-0.04044473310427166,0.04162388325241671,-0.07104534676643598,-0.003857274991153759,0.04325887226539459,-0.015008687834379947,0.04467417932533888,0.041971316396926105,-0.019308995694449486,-0.05360396459335419,0.04816571889529448,0.02038266488118189,0.012573928692241412,0.06433749734850633,-0.008423854381236776,0.06199528106128342,-0.05649239095048767,-0.06750198886776472,-0.0821146957868091,0.0387962405148237,0.06335777402478586,0.008872205133508516,-0.002549514961714864,-0.05407519274712632,0.038105526696765354,-0.04068394419316958,0.07035701481547577,-0.020943024540386462,0.0763100238922992,-0.009653988412188466,0.062481673329318484,0.07949226140056637,0.0628762076935476,-0.022562533472715283,0.05975224975349404,0.040391016312273306,-0.07098172874716382,0.07141358190069458,-0.078547542680832,-0.07232533166938536,0.08189123074092919,0.07297481036314817,0.08246576046906749,0.06218119759154588,0.007965884363406926,-0.04407589366451704,-0.07341144755775951,-0.04780813544272068,0.08029450750593277,-0.06155815895055894,-0.06620144553074565,0.06755998828713675,0.03063764397389106,-0.062019967285421966,0.06272975049899017,0.0398278954675218,-0.012646794547669628,-0.031146649265223203,-0.01577373361582137,0.02501121890777223,-0.07883596955771713,0.019796768431396394,0.01658886456289884,-0.056102442021212846,-0.017644220796738778,-0.0479478204433379,0.024329152575136768,0.08399748031851725,0.00808289610152543,-0.07041155290448578,0.013480496379340765,-0.07835042699888535,-0.07519877740773731,-0.04493057533446442,0.08086778231947482,0.0015478301120822632,0.08393465552693956,-0.07334870737242015,0.01548332567573017,0.07843143338942653,-0.06991000073785524,-0.010831857921920386,0.01851094878791785,0.054036531901515805,-0.04422746204766497]},{"id":"chunk-7db5cddc-13","content":"'google-gla:gemini-1.5-flash', system_prompt='Be concise, reply with one sentence.', # (2)! ) result = agent.run_sync('Where does \"hello world\" come from?') # (3)! print(result.data) \"\"\" The first known use of \"hello, world\" was in a 1974 textbook about the C programming language. \"\"\" We configure the agent to use Gemini 1.5's Flash model, but you can also set the model when running the agent. Register a static system prompt using a keyword argument to the agent. Run the agent synchronously, conducting a conversation with the LLM. (This example is complete, it can be run \"as is\") The exchange should be very short: PydanticAI will send the system prompt and the user query to the LLM, the model will return a text response. Not very interesting yet, but we can easily add \"tools\", dynamic system prompts, and structured responses to build more powerful agents.","metadata":{"url":"https://ai.pydantic.dev","title":"PydanticAI","chunkIndex":13,"totalChunks":208},"embedding":[0.008100435002019991,0.01697550995684778,-0.06869564927695253,-0.0033182801258794564,-0.06294265000152945,0.08870601320470885,-0.07023066308176072,0.013265080173217309,0.059984336390440054,-0.03235539929901852,0.0729848527730044,-0.01494963013677367,0.0189969148107413,0.044810699705040244,0.07383296584821247,-0.06038516254182135,-0.07671720751437389,-0.027644462884839235,-0.01858667564248173,-0.04473862465723044,-0.0008642373775124965,-0.08811926131630181,-0.05806810618065612,-0.023179330210839604,0.000951726811121287,-0.007494516176810253,0.002511944552728117,-0.026248698840878857,0.06887386632969653,-0.03972817085432257,-0.014132291806916993,-0.037360403814532574,0.05799176567933597,-0.03692961720496018,0.004103946157481939,0.019698497454535155,0.03398949441202445,0.033815474029006164,-0.07672018787035446,0.029109212159843946,-0.08997804923075098,-0.04251978266978775,0.049856232642001674,-0.0727266749254642,0.02895602329567374,-0.013716986524091581,-0.06744180572736962,-0.06902815434427292,-0.08358017172110105,0.07958027794025853,0.003127772389946109,0.02674151009808609,0.050981924834663364,0.05453594680914772,0.03427034243450153,-0.009370283717343525,0.006179277481370911,0.05004644943489519,-0.030120392074876056,-0.020805511930821204,-0.07754450802114794,0.027815394801158543,0.01064891852807841,0.06432596982271065,0.03293593383322658,0.07871575270782866,0.0783667911357053,-0.08734888978141883,0.08799639683464161,0.052517092155144524,-0.0566883425640906,-0.06846124784462503,0.034495130087888626,0.02563704910828167,0.011850516719108464,-0.01800475588574713,0.013179045005087923,-0.028421488652550835,-0.051067743727666676,-0.0730943077838695,-0.08465848133727814,0.022606676963285267,-0.003991704293183874,0.037593528076208166,0.07395964533086365,-0.021402881216360768,-0.06567905669795437,0.07138866973889517,-0.08168157010042519,-0.03664499714107998,-0.06380743564038376,0.05604599644245063,0.05570904589054209,-0.005985018797730593,0.0006980745320598564,0.063997049370947,0.005960467448517465,-0.07339543498190165,-0.0192057267656301,-0.030132275159879023,-0.04957792642426108,0.04984112049122503,-0.05315900673186592,-0.040469209432022354,-0.0419473611968568,-0.04333363081385742,0.01876719370243398,-0.08553567625462191,0.04788746870615316,-0.016109562010124333,-0.019864478892617422,0.023300085388738453,-0.003929636814957674,-0.07432857622606648,0.08637589621846593,-0.03872763795603232,0.07157332195667516,0.06703624197061908,0.07798159210946864,0.03946476720499955,-0.01597763612922812,0.0027455846630160437,-0.06817355867896413,0.019327650866888833,0.08165631325165905,0.07564209127916477,0.03455442582361237,-0.011249144780603645,0.0726288905230663,0.07442726336128086,0.020934747012504983,-0.06195474660639715,0.04575810699953961,-0.05430205051430028,-0.06734185816348241,0.0013630109806159602,-0.0066976114427344064,0.022374599595906857,-0.06888016552600651,-0.055996796595977824,-0.08336375009013282,-0.06271464420182521,-0.0891884629369804,-0.06984062524287812,0.042819285635567174,0.04732066954710021,-0.0016411116855778668,0.05198487755237879,0.025629993764389764,-0.054539486133231375,0.01582529560616865,0.055423484693084966,0.040064107678993474,-0.01979585833391296,0.0031643905654899183,-0.051368349066280385,-0.08389156012786081,-0.017546639310088832,0.06780748735978964,0.05390614228001819,-0.009842998807477285,0.08422909631774729,0.011237041920940617,-0.037063662109312986,-0.02782094275235163,0.04911652834161171,-0.056926821446530725,-0.06879246511543728,-0.004712597068619803,0.021550126259946924,0.043282372047865496,0.058668726067138084,0.07732823931047447,0.05801302198914141,-0.0490099082363201,0.08124752753921011,0.055282759948721505,-0.06935383030684601,-0.08764898027510434,-0.05943162745539583,-0.08817240384140712,-0.007614075123058665,-0.015702156493822752,0.02962689656834379,-0.04401640141493808,0.07736779821116868,0.004110527715786056,0.0603770773113361,-0.06965501017355331,0.04544127557787578,-0.06341979981266688,0.0652239286879922,-0.06045402693939943,-0.0004562252764194329,0.011883836031894633,-0.051344427060169555,0.005376225228852195,0.057711997917261774,-0.040561268617035746,0.05411290969916286,0.03909852596672053,0.049159927447703776,0.06760604991671684,0.018959732305837706,-0.036895652848105635,0.07715338980099977,0.0014071006034095258,-0.05705789600345635,-0.020869468821904418,-0.07823999124168982,-0.026992905574663485,0.022390056450080225,0.025513462472138555,0.051651580214414586,0.026395145231849913,0.06056813522055942,0.07799652914583832,-0.07609656436490375,-0.08998436558358551,-0.033120006838833795,-0.04651780502441963,-0.0846373398500916,0.046973538696435405,0.0474231485079236,-0.005911112584391801,-0.0867913056648178,-0.012674062735178815,-0.04187435568388186,-0.06583596957233506,-0.025001163673006383,0.0779401553773895,0.005437017766221707,-0.014644900184295106,0.04698841344441136,-0.0637675104552001,-0.010702225955424258,0.05839429386378851,-0.056945685407094056,0.017003740017489225,-0.037747866574199374,-0.06042788850744184,0.02508587029934055,0.02379411552292031,-0.020049456771712475,0.01200511035632671,-0.04802863042803018,0.08423711805589208,0.028594735740245916,-0.017987654411997473,0.045925008635683925,0.05702000958221454,-0.011418163678602829,0.006181798527247525,-0.024297890401728958,0.012013793560249288,-0.07254022810512267,-0.002326346330369239,-0.005474784873502461,-0.012066719637325996,-0.01112128434445482,0.06457386074606582,0.02951374932900448,0.08370145629099762,-0.03235983632915546,-0.07183157172981172,0.07819781271083562,-0.03589399019256889,-0.04826710631104647,0.06035085505286769,-0.024567279709883164,-0.05144217552771954,-0.08934765793868432,0.023960213796927723,-0.016167302580093964,-0.05027406518744237,-0.045556281623726644,0.03607956520953629,0.0545759809742221,-0.009447428954124166,-0.004357987693330108,0.015500485592832002,-0.03700573173500476,0.04124309292622574,-0.07992015521083896,0.019597130459275677,0.05369095361145713,0.00848709587332437,-0.08940532357262375,0.025913192847413922,0.06102226861208545,-0.06536737807118673,0.0735441249704364,0.03857724779355117,-0.009162088713645569,0.005339344655968852,-0.07247992307371125,0.05446107001461802,0.02178178694369456,0.05053287173426727,0.006604534024296266,-0.08140317024810981,0.04143594582754641,-0.06822642967176108,0.019240484377184234,0.02700475069063401,0.006980118526210669,-0.06753359761464024,-0.0878271694909948,-0.014341988210404085,0.05325905376522127,0.016714536049072675,0.008854774549332832,-0.06894639107500491,0.007001519602070615,0.057604469028320296,0.06818185205609481,0.03534735263601122,-0.08647104881049797,-0.018856156007919785,-0.08474369241954383,-0.0893071557445671,0.07064547981007917,-0.08871136718491342,0.07436546866501986,-0.011572088991919948,0.06515449631010178,-0.0867038373649453,0.008568011006411653,0.05952162541439595,-0.04784239771312099,0.0886285105170008,0.03066443114600716,0.09059393271054288,0.02089443670679357,-0.020377273242850377,-0.0368848547219761,-0.056760652931870964,-0.08763596365572017,0.03643479154265583,-0.049943210974168394,-0.05643842512867791,0.052084617794051824,0.079060911941226,0.0761115038133936,-0.023400604664465703,0.02090043215892625,0.042985676778335404,-0.03556784306223395,-0.044758717363737946,0.03266600293497237,0.0050349313766366545,-0.008143942593129588,-0.049229946240994374,0.01855879451876141,0.013649287214348505,0.030195094742167906,-0.02911431008216598,0.01728287613632761,-0.040099799506373934,0.06743764605886753,-0.04043062010307478,-0.06345554633827571,-0.010026304785343953,0.07720170865016215,-0.018615606066330916,-0.0838925754943942,0.05413370002572568,0.03425329453942296,-0.02645234779413788,0.07411277032207485,0.005921552509140055,0.051275668952699444,0.054615829018157,0.07317359683263054,0.07675413730258271,-0.019126573201278297,0.03450158656748076,0.020119410155312534,0.03578946902517534,0.050623543371744996,0.05061685217360929,-0.007489019588513283,-0.022251887392633576,0.06505107733204234]},{"id":"chunk-7db5cddc-14","content":"Tools & Dependency Injection Example Here is a concise example using PydanticAI to build a support agent for a bank: bank_support.pyfrom dataclasses import dataclass from pydantic import BaseModel, Field from pydantic_ai import Agent, RunContext from bank_database import DatabaseConn @dataclass class SupportDependencies: # (3)! customer_id: int db: DatabaseConn # (12)! class SupportResult(BaseModel): # (13)! support_advice: str = Field(description='Advice returned to the customer') block_card: bool = Field(description=\"Whether to block the customer's card\") risk: int = Field(description='Risk level of query', ge=0, le=10) support_agent = Agent( # (1)! 'openai:gpt-4o', # (2)! deps_type=SupportDependencies, result_type=SupportResult, # (9)! system_prompt=( # (4)! 'You are a support agent in our bank, give the ' 'customer support and judge the risk level of their query.' ), ) @support_agent.system_prompt # (5)!","metadata":{"url":"https://ai.pydantic.dev","title":"PydanticAI","chunkIndex":14,"totalChunks":208},"embedding":[-0.023096534647677615,-0.0043409384884854916,0.008917226934427362,-0.04195738808977641,-0.07465301930504023,-0.07600031257189714,-0.041518154121151514,0.03193056478982755,0.02425229382060463,-0.07587071608857601,0.08803778935690253,-0.003026615972439317,-0.01672702199980011,-0.012492103092015846,-0.04050850898690072,-0.055964761813210764,0.07323926711292132,0.08442524338076096,-0.01613022930611251,0.06945964780694713,0.06660912627862604,0.05892458076742156,-0.03751163042121933,0.007509732659529039,-0.02237451267948385,-0.01627895643274073,-0.01490120645141381,0.06641076582295588,-0.058321360420713605,-0.07010648432865567,0.05393017425638555,0.038206775028469316,0.08077556590548048,-0.007579960878664664,-0.003223652962592941,-0.07506078328900437,0.025526208440864954,-0.06149881283731934,0.03392363385209488,0.08337261535740906,-0.03173611990940122,-0.07744262809635084,0.029635421235474597,0.07532916333718431,-0.03969021280666446,0.07987559800276002,0.08044055626374995,0.032165605567018606,0.02833455913031498,-0.08247692927910874,0.029754774815249737,-0.004818109921824928,0.05087981548398277,-0.05755757617303816,0.05046927193672151,0.03158779736760765,-0.08559910775142526,0.03167133380629614,-0.04326736422476217,-0.07906298339105929,-0.005077573475851807,-0.022976486814214568,-0.000873472553455278,-0.05292775814682833,-0.018106018535049,0.030980325814020045,0.07801738972627371,-0.08197455578855405,-0.007471085691501199,-0.005992207582572124,0.0351989884772263,-0.051400622346793906,-0.04913050415090337,0.015327599075280468,0.013699705447233094,-0.04349118099803571,0.04920194496363538,-0.0677760325901467,-0.06965638132175671,-0.03454795166614191,-0.08426398395922968,-0.05364342434050436,0.01726359099126688,-0.08766973499439183,-0.06184949539816082,-0.03202070033371297,0.07454025591467332,-0.025332441800773667,-0.07757771387018589,-0.000243380601698952,-0.01857516789005027,-0.06196214600867578,0.00025000897715968517,-0.019586464665904583,-0.060799529506181685,0.03929914659599276,-0.0696414030071225,-0.08806551934549071,-0.026756604612649896,-0.06188044311852849,-0.062166085417141616,0.08410597284313963,0.0046563833770202675,-0.06991571364796124,-0.07073006846760353,0.07061821909774865,0.04211331994183683,-0.021242128587054016,-0.021063809986158775,0.0856113810869941,0.03846818400069166,-0.01100116798613107,-0.0034535559027640992,-0.005374352142804598,0.04298334708496544,-0.05696883233156705,-0.053136610037310676,0.017011288838041868,-0.06108138009782306,-0.0787742991665683,0.05958154588882641,0.004997714616664712,-0.04860569290715707,-0.003967633538127647,-0.07271393585015552,-0.08153799332611908,-0.011067288650388814,0.07527941829770185,0.06106394784094082,0.03582566518536891,0.0334037054325894,-0.03608958603324008,0.039225023489691514,-0.060112478694810026,0.07470525091320634,0.031456320803121884,0.011034946176988266,-0.07373734934281248,0.0369078459332451,-0.0067170407685129075,0.02608464518359938,0.014183319652104622,0.028533459476592336,0.06039748707511084,0.047636142375803756,-0.028628079779727915,-0.06397015174924381,-0.021544525260379935,0.051055588453583996,0.0024312706244195774,-0.07185442503132296,-0.01163180256710765,0.06632477850987384,0.054640838456715864,0.021376733129762463,0.03579195943517694,-0.019520760041690215,-0.016531053332938608,0.015375316713047354,0.05929330821577009,-0.0669031827706252,-0.0709290947075906,-0.003393408564326791,-0.0723411253991114,-0.06018257552502014,0.04372223599241054,0.06579496738776586,0.013235347887396868,0.050587305816231366,0.02470362951634266,-0.048954657070550876,0.051012111204785215,-0.008773090626517491,-0.05144838010594167,0.07439844897526231,0.03447300207918929,-0.04353467164515036,0.08495816755739109,0.01584356898694622,-0.03916479615045875,0.05370469699729662,-0.07769474626522144,-0.034084733265522776,0.03987960224451965,-0.0057715720077048255,0.07700779928886821,0.03475383265784443,0.035025030589201187,0.06120753321004387,0.05060174072079247,-0.06273674140759566,0.07290590280880643,0.004473766159187574,-0.05996565396236563,0.0030531966287537233,-0.023268685378030403,0.07592798027291528,-0.053388903875964275,0.027302464223752525,0.05046694779041735,-0.06480983353397628,-0.04139806314741724,-0.04057974974387603,-0.046671796803299075,-0.08715688956309055,-0.07770207141750891,0.00019059852462867323,-0.028737057498954072,0.048374118877386484,0.0581924516866633,-0.07433450270754721,0.013454140343833298,-0.07759091572366197,0.08148518989752304,0.08268834431604506,0.02559222794045702,-0.0868338444703864,0.05884918228028483,0.012009431185773892,0.0010526295074708132,0.027277061250974108,-0.0874527591401122,-0.009251709460438554,0.08163165761032398,-0.05564951309361536,-0.04098743552508867,0.07663795817879764,0.008365958999260448,0.021354871717055024,-0.07192708833851102,-0.01302866584582544,0.029006377428306616,-0.027107689603925494,-0.028123708493213995,0.01799706233345672,0.04336234251050194,-0.036040148020969116,0.05094190202141036,0.08236323665325718,-0.0551518025186503,0.016497106773095745,-0.053218818417645516,0.05663136992407373,0.024985169474413413,0.028409947378164838,-0.08174061572268218,0.059086492728197826,-0.011749737659484765,0.06601470850436661,-0.009455706259257898,-0.060082130647046324,0.04764707929955364,0.03665306599367988,0.05821088272885847,0.0670004038006882,-0.007079007167087028,0.0635052101934177,0.08214004210634698,0.03270719120572653,0.008336126549797223,0.011300215620780943,0.012024463278030726,0.014249770121530949,0.03204118569843959,0.07455770107285362,-0.03884731608657377,0.008458636417791513,0.04191885757792846,0.02935484515020918,0.026898466264021575,0.012442649659508935,0.08176079438220261,-0.05959617041062407,-0.07470173440707914,0.05690677993120618,0.03253635798947341,-0.04601926460254858,-0.08415337223930687,0.011098905991318568,0.07323079100321808,-0.07302218407814473,-0.027795798747982166,-0.01828781867904701,0.07069568107483502,0.07366380512039525,0.06351751281450639,-0.06722740702366778,-0.04879023287119644,0.07433012544147286,0.037650420316276675,-0.031950041980730814,-0.003280139605542318,0.041949004290356265,-0.04927568261388649,-0.017141061838168756,-0.024226886120619223,0.08661409325769263,0.053584579087814534,-0.0351691860183178,-0.05229156362929954,-0.06621925136013479,0.020129943760234078,-0.019475025265106825,0.008613013784530735,-0.06047288792484606,-0.016378931771396224,0.07225362856270139,-0.05768539927591976,-0.07862167776400167,0.06215622015380069,0.07794500583094374,0.020008535071411405,-0.05222919257544558,-0.06028081570820261,-0.05272841558280143,-0.08719366531975319,-0.062099793718289095,0.07284026270513236,0.06252669207672162,0.03580681029305908,-0.0008957534010507294,0.06332291348151321,-0.07373280711546122,-0.007818776359539384,0.06762759434185066,0.04803330160087054,0.04725820408128147,0.0020129154224246405,0.07952740803125752,-0.048512018056996724,0.009371537500223601,-0.0022885019463628514,0.06401576783542885,-0.03825413640211935,0.04731490790785671,-0.011846450784320294,0.020227188760518076,-0.026773450103010063,-0.057499188052997016,-0.07163326024275707,0.026757330369392932,0.054122046311856756,-0.021940991073716307,0.05053380924991094,0.05393458774914419,0.06585039923783755,-0.071071597363261,0.035842008955335423,0.05884506984457408,-0.027792686194678787,0.0002789924119505786,0.07725192516911408,-0.07860648257094313,0.04703396655020467,0.03130287072367481,0.01723732667796692,0.045750571905129114,0.04168942187544107,0.05523353276168248,0.03839263365375404,0.023541027941870636,0.02109079487292108,-0.001545178769177683,0.02900965369110125,-0.07376285828147253,0.06486328242123783,-0.049971956179357596,-0.01664125680028161,0.02943275928652729,-0.08462035546353361,-0.08193956146423284,-0.08287928947039935,0.04306202727958573,-0.027520871086814207,-0.06731320439895515,-0.020638569240216977,-0.01139502823546529,0.0429017270426874,-0.049214721924695524,-0.02808218767422792,0.0034602026028603535,0.05150590229992054,-0.014036808847996554,0.07831220401442496]},{"id":"chunk-7db5cddc-15","content":"async def add_customer_name(ctx: RunContext[SupportDependencies]) -> str: customer_name = await ctx.deps.db.customer_name(id=ctx.deps.customer_id) return f\"The customer's name is {customer_name!r}\" @support_agent.tool # (6)! async def customer_balance( ctx: RunContext[SupportDependencies], include_pending: bool ) -> float: \"\"\"Returns the customer's current account balance.\"\"\" # (7)! return await ctx.deps.db.customer_balance( id=ctx.deps.customer_id, include_pending=include_pending, ) ... # (11)! async def main(): deps = SupportDependencies(customer_id=123, db=DatabaseConn()) result = await support_agent.run('What is my balance?', deps=deps) # (8)! print(result.data) # (10)! \"\"\" support_advice='Hello John, your current account balance, including pending transactions, is $123.45.' block_card=False risk=1 \"\"\" result = await support_agent.run('I just lost my card!', deps=deps) print(result.data) \"\"\" support_advice=\"I'm sorry to hear that, John.","metadata":{"url":"https://ai.pydantic.dev","title":"PydanticAI","chunkIndex":15,"totalChunks":208},"embedding":[0.048797788611183085,0.05141405326594539,-0.035313309629821474,0.06718939105818302,-0.00012820970256800188,-0.02082290121422216,0.01979881714527893,0.03455560111718974,0.04360234085894931,0.0011111114188270595,0.05115203913319291,0.08638872512470418,0.03538828535088926,0.013185194260654126,0.051243732893618776,0.08061638612286988,-0.010776095185620884,-0.07609356577020317,-0.03245397178348341,0.03737595814317702,-0.051015903201831234,0.032747154161028566,-0.05770729966250183,-0.06116433756445203,0.05015530716356446,-0.016031419548440198,-0.08449671449038493,0.03844176773272269,0.07852364440492929,0.00823180085933947,0.08322960156888201,0.04998597714298374,0.0797369497465798,0.030211218534432146,0.03716187777711096,-0.08565712085832763,0.05380724562351038,-0.06330526112822546,-0.047084084578880525,0.016730544349788035,-0.06729899149686251,0.06818655046231197,-0.04626075959222867,-0.07875129174294024,-0.04026486803714167,0.08719646614626499,0.05947861007329893,0.08310085130623668,-0.004288808923248157,0.005949211779560527,0.04933030862157891,-0.07379769949949819,0.06922232300664857,0.03255709696047664,0.007885590541795273,-0.058568917346726417,-0.07041914192548879,-0.07858687820995175,-0.08632206536039361,0.0077097494131249346,0.005279979340155176,-0.012538663584690139,0.03040644071279351,0.08714552899819338,0.0035476841204435264,0.08021266319894542,0.06764420409114713,0.045965000631466676,0.059263479015217134,0.0856275800133541,-0.08567334299889215,0.06502337207249538,-0.050465797755138916,-0.015759018791112897,0.028298062032762673,-0.07172386088827007,0.040533261829052,-0.0003765063877447978,0.06422862523664022,-0.051634515527230605,0.04525993176107106,0.08615194997424067,-0.03948207055864121,0.06463955877602885,-0.03336907020630517,0.02578730268171595,0.001283493067778937,-0.03749107969981559,-0.023639495601190177,0.016277956790808106,-0.05247684932778386,0.0392696969634108,-0.0002253080516636098,-0.07534067018982918,-0.07461890735338987,0.08495793739534284,-0.021596985055487048,0.0671790069582065,-0.049474783394273504,-0.030998676333664633,-0.01842469318348713,-0.0526424236562894,0.07041418518075804,-0.04158087319029849,-0.02802833526049928,0.00254115519727742,0.07600668503094238,-0.05267931998978052,0.03294428659542029,-0.04906402926736783,0.08414288915567246,0.07824454828810885,-0.08035016932952259,0.0729425680954816,0.08651847535191323,0.025666352391162262,-0.02796757202850472,0.04167976532731038,0.08656367001470831,-0.018576808876812345,0.02011495366928148,-0.023072101936379902,-0.06716902845656213,0.036918842287261194,-0.08503785979087067,0.03527212229588669,0.02159258593538462,-0.011199141288886608,0.0185417849294128,-0.007399084739810671,0.06928658852356065,0.0024220332351197926,-0.07165512334291342,0.025062476436464486,-0.01366384784341464,-0.06955068503567156,0.002260158730386516,0.08334505462311598,0.005360023656747021,-0.009556580935882403,-0.04571234910740673,-0.07443885117370638,0.04636724702675599,-0.015020662595158019,0.0160480297404458,-0.07676627542595586,-0.00036564983980853923,-0.06724003485857775,0.05775056720116134,-0.0397737424153456,-0.07374344156287035,-0.021307061462540477,0.04657794792479114,0.0010540425607376439,-0.014639577849187417,0.025974072991867544,-0.01935620028908799,-0.04876675895321812,-0.0881938186530576,-0.07435660851163454,-0.03477787401355081,-0.005851573709478679,0.07494876515741399,0.03554284459568408,0.027901680100520944,-0.03050396711785136,-0.005101732023588071,-0.005631315782969357,0.008087482022693738,-0.03918181716932954,-0.03226505068286325,-0.025210644124871673,-0.08694537382384164,-0.038837444537827594,-0.028322278253714733,0.03831767844019843,-0.0011265588812901216,-0.05345422131268995,0.0032006319759153414,-0.07206104749833066,-0.006634048230297526,-0.053267778067221945,-0.05993290325129666,0.005761701365818648,0.0031962069769929176,-0.04180359778273458,-0.06741482960022688,-0.017948999856316074,0.03453864234071048,0.0347110158512477,0.06288352874717552,-0.06942581073834676,0.07759238086457021,0.02836197923320866,-0.06668734806491551,0.012091467886726841,0.053802279548693495,0.05646205095346955,-0.058569909427725726,0.05617144888505302,0.06165861501574124,0.07934742582184044,-0.06993515442342228,-0.053228322421956305,-0.07515822076680133,0.00860798098284779,-0.012800059323475204,-0.08308337756405089,0.0733596290804301,-0.015416028516149302,0.07211366293254554,-0.011605696639519351,-0.03686077256872518,0.03972656257498764,-0.015985306030270176,0.031413604278031214,0.004693173359684992,-0.07610390143975457,0.052512817754728984,0.06769286258198395,0.017877136666861863,-0.03292117617359581,0.001931979624455309,0.026202186815222357,-0.036706002394002964,0.03984424125386211,0.0872250170602858,-0.03603813756899243,-0.04537657933903762,-0.014662535437840596,-0.04692613613598617,-0.04698114273014919,0.03875788491341693,-0.06254768144093593,-0.08515699452161411,-0.048469748413324076,0.02307432926347709,0.021486566592478842,-0.08057092557124124,0.05514715059651109,0.06391752938563842,-0.05711260587738114,-0.05433436202531174,-0.017499141875669803,-0.01773265243841367,-0.06718190281902284,-0.02560200319884177,-0.08266353210312945,0.023165884683870396,0.07530840937361488,-0.0061099969275618385,-0.017934242568730954,-0.010693054889409342,0.029329985777645697,-0.014010558626094233,0.009916548464741347,-0.05120588124120078,-0.08096771031760581,0.07889864858211673,-0.009286960228365636,-0.058957813834462754,0.0498081121034706,-0.05086381565850029,0.08821275201133975,-0.00789459658199209,-0.08040168842132768,-0.0138148490787704,0.04286866021331352,0.07894446955968587,0.004395968480359354,-0.0787466505181991,0.051494100303450786,-0.0086883178278273,0.003764248832016702,-0.07838870370140762,0.06749598888211834,0.030587086438087756,-0.0060476445065719975,-0.08313939669111105,-0.004876764002388558,0.06237780487897056,-0.06909124456008754,0.060415833318140925,-0.061093023031075035,0.08616766729577346,0.015963768268473212,-0.008745030629170418,-0.027957746627436594,-0.08441269891185181,0.047469330752174924,0.05459260252876628,0.018855969205328345,0.07893150746309512,0.007791710004989725,-0.08765494046663429,0.057600548607282004,-0.03801442083269606,-0.06593930088519585,0.08794241781606346,0.04979227921519614,-0.042861558018660054,-0.04728987132051921,0.08424814279209,0.038030074013160976,0.07628004111993203,-0.022276175886206964,0.005716298232892179,-0.07898020558209035,-0.07156754247734168,-0.00960989607139668,-0.040546477387197404,-0.027880920225876776,-0.022847583965124114,0.012328122389353095,-0.02312517935890751,-0.0752513754372505,-0.057517301871163655,0.010093282618236924,0.005319565196479839,-0.0348582120842702,0.012077575003442845,0.03669357818917513,0.07679852739663495,0.06067501607150773,0.01021620597171659,-0.07528950542788729,0.0021810605735751165,0.024598060089465107,-0.04695412186014101,-0.07561080796653621,0.07126228602246447,0.015219539803544565,0.034897912141827754,0.07580679086598714,0.003732781866901459,0.0793133850504058,0.08741454354495622,-0.02703020926713482,-0.08658716715662267,-0.02970584341176249,0.0009834656663741076,0.05905532705906048,0.022453282282161216,-0.07787437850347002,-0.019637883211980706,-0.03516687520317654,0.008699546924195193,0.005240943290681024,0.05764560207088873,0.053130835108800685,0.03640742254361349,-0.08249916223685315,0.010546746945862726,0.012319778284288952,-0.07493220239282394,-0.015312958987023676,0.001532096231647313,0.059042333326488894,0.08219776192381631,-0.05310613621296572,-0.00939792142601457,0.0007787684548677946,0.017901455420814647,-0.007494589245990765,-0.014549965044036028,0.07490973209053338,0.049030901224517025,-0.029357142446294962,0.03460407026769334,-0.00563357615707445,-0.07911910493996385,-0.03321609259904802,0.0270581235863872,0.02345823460605866,0.0019386489607394245,-0.07419642391655688,-0.016433010730159035,0.023857155367965465,0.008271572100927266,-0.07346132915647074,0.043739590165081534,-0.0389472966064072,-0.008610337366655129,0.07715634792051666]},{"id":"chunk-7db5cddc-16","content":"We are temporarily blocking your card to prevent unauthorized transactions.\" block_card=True risk=8 \"\"\" This agent will act as first-tier support in a bank. Agents are generic in the type of dependencies they accept and the type of result they return. In this case, the support agent has type Agent[SupportDependencies, SupportResult]. Here we configure the agent to use OpenAI's GPT-4o model, you can also set the model when running the agent. The SupportDependencies dataclass is used to pass data, connections, and logic into the model that will be needed when running system prompt and tool functions. PydanticAI's system of dependency injection provides a type-safe way to customise the behavior of your agents, and can be especially useful when running unit tests and evals. Static system prompts can be registered with the system_prompt keyword argument to the agent. Dynamic system prompts can be registered with the @agent.system_prompt decorator, and can make use of dependency injection.","metadata":{"url":"https://ai.pydantic.dev","title":"PydanticAI","chunkIndex":16,"totalChunks":208},"embedding":[-0.0336099411205293,-0.0628710597418275,0.013853141482880589,-0.04539401761201458,-0.06404096126309311,-0.021058022837322245,0.017926036224670167,0.04021611919632529,-0.026826110477452876,-0.07107688448505962,-0.04000509964851646,-0.027395888651641553,0.08444923821312021,-0.025966820952821736,0.08266039708093112,-0.05795029446521905,0.037883268066198426,0.0038153842621477534,0.013266346648257162,-0.0840931789839031,-0.037424493921796004,-0.07422994097591988,0.009327815745266489,-0.00009991222058707588,0.024751262231774717,-0.026170570530091135,-0.04968105006310003,0.0715889805487338,-0.07323773450744041,0.008906019793354328,0.05329241584487254,-0.05749936788347635,0.08096591651439938,0.07225296699273515,0.011188539041485437,0.08224094939739235,0.044592495904999606,0.042646158720107595,-0.060333082835442434,-0.06148265525011888,0.03765119211468198,-0.029512932943611823,0.0032389430184149763,0.06586857332132857,-0.032889630650003256,-0.07146858668082916,0.014913960247881773,-0.048937237890337694,-0.05919036367453437,-0.011831226233565082,-0.057107627078047514,-0.003148359453872727,-0.024779024958382103,0.000626406386381859,-0.011513318929441223,0.011842754794748826,-0.07789274023177127,-0.06039246365120198,0.04527928154062003,-0.07499051410670643,-0.010021293495254588,0.0806848497483769,-0.023159009552769703,0.0764565092865406,0.06931070176777342,0.036440677422212193,-0.07037286045923255,-0.07378665819563744,0.04209618295680567,-0.08209233968238215,0.03861412963268724,0.018329132742435004,0.022706422632656174,-0.05691013286991692,-0.0593041186808054,0.06466952526766145,0.006732374493149291,-0.04864802936775028,-0.05895316423651079,-0.0387229243430228,-0.00092485496072143,-0.021972090353958453,-0.003599503478862988,-0.061324043944131434,-0.05566737159547955,-0.05567325902611697,-0.004340226801651655,-0.05787187915824584,-0.05229723402840236,0.08400078798806483,-0.01909979229877732,0.06882807534990952,-0.06398829260139188,0.08398366100347904,-0.0005831352654831551,-0.005109648878474314,0.0237468334432889,0.038638476546219054,-0.06590719956842916,0.03771919885209197,0.04653455480013929,0.03844756460197278,-0.001567158080476317,0.07358143181718364,-0.07365105823739088,0.003291561131896115,0.02193772959549986,-0.033895802648611084,-0.022404490052311807,-0.0005849050486862086,0.05041424437131136,0.041061158891048395,-0.08478287908670842,0.08754441078186229,-0.040898245699487495,0.057263984702216365,-0.008048372445085024,0.013957929082876928,-0.04496762837326147,0.039851095769455745,0.012521015367710536,0.021397428988865812,-0.05946370792874957,0.062058747278800966,-0.03809269578239537,-0.08099049932978845,0.0650068481388161,-0.08227763881769723,-0.05037620414789002,0.017494612781210218,0.010976450206016777,-0.03787630545550171,0.07489219780120517,0.04999577165618702,-0.08118030213445841,-0.034222743492962907,-0.07518259778372198,0.08459661727353507,0.001975294963976021,0.029815017639815734,-0.05222497887241624,0.05269935368542045,-0.0216851791247567,0.04664411338105208,-0.07926840301524747,-0.08781870429873735,-0.055605316959593976,0.04535574490724301,0.03048187607475035,-0.053467196285786146,-0.035917252925712205,-0.07198095387378843,0.038582128396379874,-0.0015516449128313583,0.029122752007373322,-0.005338515446381749,-0.011334191128615924,-0.05416382191023844,0.06023050795800492,0.018632204022440407,0.02001402118059015,0.050141090447067424,-0.084415782492186,0.03411083986241252,-0.08309939555530074,-0.06556051383008327,0.019243720857824703,0.03965674001860939,-0.06926849417221205,0.032163007071947095,-0.03794839408720375,0.05246450792799617,0.062228157893141844,0.02258773740739454,0.049569844003849124,-0.057949507841642794,-0.01196111143777189,0.000573616895833691,0.011608890402856347,0.0029832828843412455,0.08612524702394007,-0.01610817291295747,-0.059129982467465286,-0.07854752407376002,-0.07190238149601792,0.05255657138460522,-0.04910610826817791,0.03486819343849126,0.06252503796030386,0.08161069461957673,0.06141560919576026,0.025407007855393716,-0.04167123372947621,0.08513410917268831,-0.029656385077953804,-0.046161556520556625,0.07616630784131714,0.041584733910524516,0.05054959355272388,-0.03550861057244368,0.07944712887283324,0.010779885436677654,-0.012625786718237298,0.08442627493174333,-0.05922800503950746,0.05592547713777195,-0.006895365058370263,0.0376986164271467,0.06601085405653835,0.04592631420581553,0.010976546589544738,0.07644412191904768,0.07883277592533779,-0.0434224273405011,0.03163823965226167,-0.007547041207770712,-0.06069357790290429,-0.03207602959231879,-0.06416141567475868,0.049625394040734586,0.029808773631946166,-0.06584796372654718,-0.0851079771627963,0.014046201944751325,0.07124054169258898,-0.048570402345533156,-0.017767003942490034,0.017213632721451745,-0.030155307182938147,0.0479621144055954,0.0330476440549316,-0.001516665753676549,-0.06514518655341779,0.012807491704381025,0.0004842247725127749,0.023052646616714002,0.06896946141833629,0.0662206195354149,0.031903058082224205,0.03528994211289596,-0.08558357995306451,-0.03884478083108218,-0.05219609996279768,-0.047952087631240196,0.004450339798815589,-0.07863040666498912,-0.08649961596348653,0.08515192634127816,-0.06029821083082152,0.03544145440116176,0.006580675387310607,0.040861361100200985,-0.07291312794568772,0.00822564443341123,-0.07462089134026878,0.003045903498139299,0.051900791050923205,0.034529931709056653,-0.08525719971637247,-0.08516152410174035,-0.058668259800811945,0.03753936129111612,0.02143762975958427,-0.07495879363601424,0.015508695745328326,0.025129015389110883,-0.012353549319066388,0.008328816833029641,0.0587323947372082,-0.019170999854382774,-0.05940013909710484,-0.03857282560510813,0.07829234906104147,0.04866936258807332,0.0542298614950067,-0.06657614407683016,0.055493064544568094,0.051021463939095006,-0.05981593148085863,0.04765966907945578,0.018132796102703394,0.06417543219020817,-0.03593828241603596,-0.011615806588141793,0.08081213040161007,-0.058796065088343105,0.08135250037405481,-0.04134275010093041,-0.06792931741468716,0.01988636853236447,0.011742139984475007,0.027255128482325506,0.02644548779433018,-0.007337667570340659,-0.04933616782575846,0.03384614271577687,0.022367078482323388,0.0012911281530597325,-0.0520703609811086,0.0015756555978344669,0.02288867308506293,0.08081972663680716,-0.044306490942058054,-0.0030573750568220807,0.07722898192169468,0.06375659974170594,-0.045389353546344734,0.08744649577609123,-0.06367217670982721,-0.07935537908761389,0.0615327314226686,-0.004855906355299892,0.05119422419105469,0.0655795279520566,-0.017848430840263774,-0.07399155310003822,0.08305141795080336,0.06443003430900804,0.01955780659723398,0.01127743618949996,0.06314091952871231,0.014205162322281056,0.05926376848608945,-0.06716792898350592,-0.011138102228216892,0.07740141257928174,-0.06633008780740292,-0.01915351341024433,0.04814779612897249,-0.009943414821801468,-0.06746012002033056,-0.014525659401128776,0.030592386590697504,-0.05457605826469276,-0.07202993010592094,-0.08268958573958762,0.03480799687446286,-0.06859687880467534,-0.004328283365401485,0.006903219705648572,-0.004811412282410051,0.029422403615016152,-0.08749174355946249,0.07820455807427402,-0.011224749923034105,0.08601108524335271,-0.028494567679155255,0.06463798421252612,0.00437193807333466,0.054611442850464,0.08666731977127262,0.0010419398453816193,-0.0406595885300292,-0.028751000500819197,-0.031678740739957606,-0.016247757096548476,0.05105260346406719,0.023233478376951146,-0.07852121224634769,0.08303170041438965,-0.010314925587516576,-0.07081852812747773,-0.06599904144783394,0.051857457690945526,-0.05190086261654997,0.0720641596364493,0.009207145233756,0.03964652037023653,-0.011726714467771153,-0.07167830528210303,-0.06829852966019956,0.004690306419141378,-0.007371017800119398,-0.05968215513238297,0.037491675816501216,0.03348250316944375,-0.0592379478336489,0.040368886701510724,0.011460628292164824,-0.06217152249933198,-0.025626651358747757,0.031128993482503083,-0.039839196558231135,-0.049710904500396114]},{"id":"chunk-7db5cddc-17","content":"Dependencies are carried via the RunContext argument, which is parameterized with the deps_type from above. If the type annotation here is wrong, static type checkers will catch it. tool let you register functions which the LLM may call while responding to a user. Again, dependencies are carried via RunContext, any other arguments become the tool schema passed to the LLM. Pydantic is used to validate these arguments, and errors are passed back to the LLM so it can retry. The docstring of a tool is also passed to the LLM as the description of the tool. Parameter descriptions are extracted from the docstring and added to the parameter schema sent to the LLM. Run the agent asynchronously, conducting a conversation with the LLM until a final response is reached. Even in this fairly simple case, the agent will exchange multiple messages with the LLM as tools are called to retrieve a result.","metadata":{"url":"https://ai.pydantic.dev","title":"PydanticAI","chunkIndex":17,"totalChunks":208},"embedding":[0.022976237275850263,-0.008849928872578605,-0.08278399202459782,-0.006227862690410164,-0.06974839033601656,-0.006534311033611639,-0.0828930177604781,-0.05175844261773112,-0.014400298236472407,-0.02870979471063437,-0.00811714984330778,0.07985506245042517,-0.07064595952215291,0.023248751085444292,-0.05345646502595245,0.015509265566841877,0.038465567035051454,0.02933186384520658,-0.02238116944957968,0.08392652465192896,0.08062915498355423,-0.020528062631994734,0.012248985282226966,0.08343745974643699,0.045465096806686284,-0.07198249872172109,-0.019458606754745617,0.014436769045262147,-0.025875832652435617,0.030683637108299494,-0.0588009730274261,-0.004110182044042966,-0.07841034470898756,0.018659494300978074,0.08276167739991294,0.03549191406076568,-0.06853133721162932,-0.059253953431327784,0.06189974280914226,-0.026602155931505254,0.016061180082165106,0.06217456975220638,-0.027426808445654302,-0.06012141773549746,0.05126011016508219,0.0720302573963196,-0.047992471675879354,0.06679026294354776,0.07253757113898267,0.022023251377782962,0.029000300514073547,0.007428668658636409,0.08049764251235032,-0.021612523305569602,-0.008227908544832123,-0.05604436057975563,-0.04536533607528701,0.059549547150921124,-0.05808574453205807,0.059994358892563986,0.0540201338001547,-0.06467499937092408,0.0294084141887842,0.08398588415823491,0.047032391542892696,-0.07281406567791458,-0.038956604020522735,0.0680104361488355,-0.08538643173562951,0.022711968116637036,0.08724458411308428,0.07307451209379934,0.0727358456561238,-0.06378589520831063,-0.05121068588626828,-0.06903742310636778,-0.08187028848552838,0.03297058374196289,-0.04203530085559389,0.041543476357370074,0.08138045086724698,-0.017400313073094118,-0.03394115546140605,0.06986797919808965,0.06137067930010969,0.0031687977426654063,0.03508382098489195,0.06820452638420559,-0.048140697925521767,0.024231158021279568,0.003734156873473674,-0.021878956035112168,0.06562111924948023,0.05103934243868925,0.07257894956014535,-0.035965752053824476,-0.028548681376613934,-0.07571311937054973,-0.0036321010228816315,0.04989980670847306,0.004382521038256493,0.013553159031907094,-0.0005531887863048615,-0.06886871239031932,0.05225553832831872,0.010102063797727795,0.0628932785374993,0.02858815379567818,-0.042337768034993506,0.07394967447121131,0.03344734431664501,0.0012576341457883708,-0.05834172776274261,-0.0683676744154634,-0.0032879595415941727,-0.04290540876997793,0.06093453333731166,-0.06049776539648204,-0.017280741631333335,-0.07015257075124741,-0.08516703202848165,-0.016354065309157607,-0.017747981065789207,-0.050485757487954495,-0.009627691371644459,0.023603792986419982,0.06776708082058622,0.001238726383585243,-0.0512635452769823,-0.004808589204796511,-0.026288960563697356,-0.00251782814077994,0.08406711012855299,0.03218533956863316,0.0738101358047644,0.07153950747424834,0.07571124909532811,0.07775399898380178,0.054211291036306716,0.0032597250673358506,0.013630744924686503,-0.020716513478209384,-0.004069247405272811,0.04130813883881815,0.08265330933453206,0.0704618319626653,-0.05005459472415943,-0.022725880884204526,0.023819375535290746,0.07076251957045604,0.0794933824303961,-0.07339150427122144,-0.0037509557383497835,0.06859759323422983,0.04568076179856646,0.04990195711842438,-0.05028946990843027,0.013299019490754523,0.06938964565454087,0.02029375913954583,-0.06771310713583387,0.030918951020616956,0.0390169738465039,-0.0021185876664476366,-0.07856146231422889,0.051432425963443516,-0.024070065172210938,-0.07469022390447938,0.003265326758998639,0.06660641959306705,0.02528098216919644,-0.04964632461240477,0.027772888119380796,0.029332090010682568,-0.04410870950906504,0.07896328801502628,-0.07052962688739177,-0.07086669227268012,-0.012080880952686083,-0.01153054268331087,-0.08205292775463485,-0.0759867543999783,-0.019604865696806112,-0.04083893316489747,0.03536915286479871,-0.037591431538917995,-0.019277290579115747,-0.0869332899505478,0.01809905425576037,0.06438100854875271,-0.02479769752871732,0.019932685139739732,-0.04068741865584615,-0.06547970713148259,0.08079902829610194,-0.03744852682597039,-0.004691491820935041,0.08647108394122845,-0.010567812784964227,0.02962060842323965,-0.06238754702132997,-0.07589573059369169,-0.03656700688776125,-0.08593656064526856,0.031350723489435475,0.025302792264024446,-0.06169116849551671,-0.03501484016032706,-0.05231756953287025,0.06581062960687745,-0.06529092917861318,-0.04074540011184511,-0.061666269722463266,-0.06093973818857867,0.023581624152416183,-0.07561896523529822,-0.05431488253911734,-0.07894748566525595,-0.026402381917887883,-0.038167126879990854,0.023104523482826312,0.07491967785686691,-0.07730686034974528,0.0724640963079035,-0.06580034005119238,-0.06149094967862228,0.033315485803917654,0.01688490636733019,0.040400913233774496,0.04367044298898749,-0.05898954448792568,0.011328696906181645,-0.009353853692640671,0.00499565689583246,0.08131651917670059,0.05601264279903373,0.024852163870772506,-0.054614611048194706,0.06857036378237182,-0.0301311097819187,-0.03718155846814839,-0.04838036213545896,0.031861371307017466,-0.06827280538868526,0.07993730469948847,0.022788000048747238,0.03918276505287345,-0.0081327751971448,0.00031830350461894557,-0.08691750933914422,0.02805979706386722,0.012340541411130626,0.00329450181476027,0.031672588382002625,0.02970572106520036,0.04165501368849258,-0.03489426074589063,-0.004739146409720296,0.07213253219869517,-0.06962882884980344,0.051747847382160705,0.012428317000384877,0.018901967687505287,-0.0023126556137047496,0.02229332622445774,-0.04848784474077399,0.054592702396310915,-0.03526988804519022,-0.060283772631798,-0.05657862868554012,0.0441631157909085,0.010426396009691752,0.032300580194754555,0.04181706611141467,0.04262814180184514,-0.019842779399871273,0.004814615593004513,0.07756723550805177,-0.07686787368066411,0.08225665863201052,0.0353948055835135,-0.07919259265168281,0.04473683015642828,-0.042363675215186566,0.08221630009152442,0.01459989507214184,-0.011077447849489625,-0.07682555240524544,0.024750668138840907,-0.03404283225375837,-0.04531644267790245,0.08032164345945862,0.007936985956845017,0.035839757795450226,-0.04634392346687602,-0.02985024194240839,-0.07756438193274971,-0.046239503000441204,0.08076388533212309,-0.012757653529956762,0.07768610195505479,0.06298685838276732,0.0048767158911772555,-0.024745600203598086,-0.007172358120830561,-0.05676658002689433,0.08397767084187079,0.011615888767020967,-0.06443526737630612,-0.08140331784891,0.03322714448749994,0.00860836672207686,-0.07463784276956989,-0.0633419920761103,0.019811799861397472,-0.05069442997307102,0.014481771080677415,-0.04898282580437268,-0.07525871077838564,-0.009554643625424842,0.0652765009983536,-0.05930848977344474,0.0331548802437836,-0.08031435629172419,-0.01858080767874473,0.02947666099550857,0.01139655765375498,-0.06500950117542527,0.010157566137300162,-0.07644267892711584,0.0276062572383575,-0.004562649414665244,-0.05303058529103079,-0.06299816115495316,0.07015929294841797,0.005874833375553869,0.04727219082577524,0.03295355942198572,0.06288449668600288,0.019872679171018818,0.06593375284357107,0.01222500168108162,0.08313606643732568,-0.03814464397841049,-0.08080184336805336,-0.02982162002158045,0.0069130480002886074,0.0658388127326769,-0.057697944811737685,0.05542117322292666,-0.014457887799831332,0.004439402304169126,-0.05291157792543848,-0.01534374665696763,0.034713121205627716,0.020657835976536056,0.05762386245825363,-0.08370452934386229,-0.03274362084449998,0.01856436118908944,-0.009803903374787256,-0.0591378886112652,-0.07123166704664381,0.037678453268054475,0.0012946003736251334,-0.044785990620474156,0.06595254000713702,-0.08416103209574824,0.028928997109161823,-0.08647259938920629,-0.02918429204199288,0.08668620070561384,-0.07012797402517183,0.0287047225889856,-0.036297153787117134,-0.035484190312036534,0.021682548787631314,-0.056146406889374986,0.043532083546826666,-0.054074515209375486,-0.06429042180171446,0.07052159282748885,0.0014552640360090215,-0.008014149182653415]},{"id":"chunk-7db5cddc-18","content":"The response from the agent will, be guaranteed to be a SupportResult, if validation fails reflection will mean the agent is prompted to try again. The result will be validated with Pydantic to guarantee it is a SupportResult, since the agent is generic, it'll also be typed as a SupportResult to aid with static type checking. In a real use case, you'd add more tools and a longer system prompt to the agent to extend the context it's equipped with and support it can provide. This is a simple sketch of a database connection, used to keep the example short and readable. In reality, you'd be connecting to an external database (e.g. PostgreSQL) to get information about customers. This Pydantic model is used to constrain the structured data returned by the agent. From this simple definition, Pydantic builds the JSON Schema that tells the LLM how to return the data, and performs validation to guarantee the data is correct at the end of the run.","metadata":{"url":"https://ai.pydantic.dev","title":"PydanticAI","chunkIndex":18,"totalChunks":208},"embedding":[0.042551325735224924,0.06426946130926658,0.006399998881213015,-0.009822943813187142,0.06598814554893062,-0.08586839250180764,-0.049218673854659965,-0.08288270051665896,-0.043035419647568095,-0.06882252449487455,0.0629786584846815,-0.08394580658211796,0.030047043241907247,0.07199608700701529,-0.04564140250399759,0.07558150441488423,-0.053930113832236004,-0.06389877088534515,0.012347322876642758,-0.04055880112604134,-0.06798388606265722,0.05248181867403711,-0.025698371069850977,-0.07234160524067389,0.06220325472286875,-0.0642114298208991,-0.009309683846504806,-0.06485792883770473,0.013680313156441635,0.03722859239712707,-0.023708211462331038,0.0028601080392400375,0.04315710630990388,-0.03269241041440943,0.032897652380359216,0.07707127030622127,0.07433920774491146,-0.05519030676660794,-0.020002067348780992,0.02741462606420782,-0.005183054461948865,-0.0757971718572535,0.0631150057193655,-0.039036873862560335,0.06115517011419373,-0.03646061222842847,0.03518628228713536,0.07600714707925228,0.0778686452506614,0.06855752527717977,-0.07607029883518386,0.04963041790821923,0.0467195625718705,-0.025359897219261962,-0.014966424773108876,0.03834909218369464,0.008389639710686783,-0.016411600360693227,-0.008413157001014394,0.08573374155863604,0.05435059125664037,-0.07075132169990737,-0.03476425040868781,0.0642497257931644,0.008622645723532768,0.039567216824910934,0.023919779283917832,-0.08306281309595097,0.04483511621426222,-0.026251739287059647,0.07338333108593717,0.07594431710195397,0.06490843044439583,-0.005685746912387624,-0.027130757489717806,-0.03691006966009323,0.02487175683468765,0.06804263550758166,0.01941900801951602,-0.08163108782244685,0.019181738232899464,0.003982414895592554,-0.04932875281632843,0.022484146627411838,-0.06364637220982902,0.0755782101698465,0.024319360179300014,-0.05526072920282724,-0.05776101770357685,-0.08537280063344478,0.04352426066564388,-0.08437593899877632,0.07198941292540025,-0.025226681929348547,0.018994469882722798,0.003536577480006371,-0.03392274237216011,0.012577594573140739,-0.07300731771104194,0.05704315090744332,0.054951408616605156,0.04472335549449253,0.06664008765570517,-0.040558945159855773,0.005139432381969731,-0.05579308483531499,-0.045337731938128685,0.0005438617833070444,0.011116267731998728,-0.08499465447731074,0.04089235973834696,0.024250518861651738,0.04313860571077597,0.08290700405283512,0.0033797599583939874,-0.04723327402109015,-0.0025366209609411477,-0.04349355791706311,-0.036996532164948664,-0.07486128367402164,-0.01278093260935824,-0.06793270201185288,-0.05818386924187278,-0.04513985514252796,-0.07774577305259175,0.02289955426294527,0.07802492015554778,-0.00073229006733441,0.01827143094346536,0.05233851785390946,0.05660255569856284,0.035416003285356344,0.02617190616588813,-0.07753818961859306,0.0409685158896612,0.03131988627020287,0.044626604894834554,-0.03204330947491951,0.05722162283596836,-0.04642122236503852,0.06873169146141113,0.05237543873458478,0.06003902333350245,-0.03645476553597955,-0.010734313937784836,0.08286705500734254,0.015133383270740142,0.05008780353368604,-0.027683541324294677,-0.026102152042730083,-0.02860303030982271,-0.06227342407780569,-0.05440231551718485,0.03288196249901851,0.029371701118296057,0.07229841986197265,0.047557060018330065,0.08564027840255699,-0.04322001861791061,-0.08035937373582594,-0.009963482589970546,-0.07872077850566903,-0.06242767496708762,0.05397373702003978,-0.06860126239545167,0.08490574344748128,-0.019488583209915252,0.014396759855050744,-0.05210551835105134,-0.0071920800529188,0.015963645700875773,-0.03510000883980498,0.0774791463961083,0.029597556695899405,-0.018499765270521846,0.05121694401007685,-0.03571953848659507,-0.007883662008420911,0.037077043736523235,0.08375240178007841,-0.008098876292765058,0.038660574904590975,0.03228171251274972,0.07466321506201956,0.019232402395051484,-0.07098820991094194,0.03829149031472298,-0.07850986502640052,-0.024447501730441086,-0.07434520997268093,0.01737295704605674,0.021795325353528357,-0.042704161979996366,0.01113077705153374,0.006255383417199987,0.04536254517643944,-0.009404335629085001,0.05806580841414346,-0.006642922817041044,0.0559362646657363,0.04853189961863852,-0.023236336108877795,-0.06245973314539342,-0.01397439694667628,0.04889364533948272,0.05824261748972919,0.059703316214434615,-0.002224295492906378,0.031076906003971547,0.018361060674003737,-0.028760697222426468,-0.07533865969893912,-0.0842496142173695,0.07732243363628322,-0.06454425440578612,-0.07337284898940638,-0.049161312956000375,0.010008230424992938,-0.034982775619609954,-0.01731206271891312,-0.07505886476232068,-0.04349224669083125,0.04140825857742441,0.0780347439458338,0.08207859290525747,0.005114850762611592,-0.06202692223032645,0.024962189204904825,-0.0009271115335743754,-0.005749773532930847,0.03259778047600943,-0.0778562313070449,0.005824815946309628,-0.08221265814262103,0.08145742480846273,0.05551051797805235,-0.03867582700597625,0.048604648388268175,0.05010135397665427,-0.023717266155602535,-0.019831190081663043,-0.0000018049647692584455,-0.06330654867725637,-0.03012237332175058,0.03650562416269728,-0.0764655327159847,-0.05022969994357672,-0.010894707280527932,0.007873040327395319,0.019948426403986454,-0.02441857730065656,-0.0782664101480805,-0.05680931498890868,0.08579888495104103,-0.07805997424208293,0.030063544166888105,-0.010022541245920146,-0.07676618503363006,0.007637308818174773,0.06410332400829755,-0.007941506145612207,-0.003939531250668172,0.0007332314568981953,-0.007299985921819988,0.07668533314770166,-0.006708475764984985,0.0635179979356912,0.01913628608654802,-0.03362441555481378,0.030125590472194763,-0.05947745355408733,-0.020294211009806582,0.017492689462626672,0.08284494824630044,0.041339814593818934,-0.04329532775063043,0.07218981640567151,0.05953715327483514,0.043275253043601,-0.012490666743620487,-0.014519889790846953,0.07891034149846066,-0.07844885411436603,0.07267651329011189,-0.07920015714266469,0.04039128736905354,0.03536903073892439,-0.019005306253253716,0.0019248076261082407,-0.07894421636313374,-0.002268111054197107,-0.06161807045892733,0.0452798117211446,-0.02431633716631005,0.020543307485478796,-0.008849426186236055,0.01403899387944407,-0.048544181829405654,0.012757134809744797,-0.01435115072965734,-0.009953628613950664,0.03890135328456504,0.05921503767545359,0.040193276959254516,0.03789812592025092,-0.009919552944601805,0.08210361359237116,0.07185482829206427,0.071304283213918,-0.06433509973607937,-0.05934223127084475,0.08417984023485435,-0.01494775564670546,-0.06811700242323836,0.0339898199574434,-0.05801406229445348,0.08377325053223339,0.02943484544673312,0.06273300317804657,0.016306760866922163,-0.0054474020823626675,0.006748243154189163,0.08339847053066232,-0.001410873464743481,0.030674002282318317,-0.07776576772883005,-0.04382867298828345,-0.012297656373225415,-0.008606427442470643,0.01632887629350512,-0.0516809262598523,0.08372245050748248,-0.0647569078124705,-0.035423209973825164,0.08583763018408287,0.015673367866259804,-0.005311018063262032,-0.07772353302695978,0.012988903576855742,0.026848720893007005,0.0731907116413866,-0.03117326664065771,0.0791387552626321,-0.036810020978637,0.07994056173098976,0.07126799176114182,-0.08293592229301476,0.034762625141161775,-0.07493830088993812,-0.005770142576486647,0.03016267110313864,0.038487602002952384,0.07764272201513013,-0.03843977337513478,0.02696679087547041,-0.0667548911319583,-0.038677661880130436,0.045458183001363964,0.04026933488247459,-0.08494581683134442,0.0349362544169532,0.013138841837135758,-0.07747195339067242,-0.0802766522787523,-0.06248509974552219,-0.06767013628706664,0.037885039150200465,-0.07512904314651034,-0.07465113657850225,-0.08444441552580806,-0.027310956022929288,0.06387854994209356,0.026378548433313984,-0.06284028440148351,0.023516096493966406,-0.07223833675758277,-0.0007770609844266334,0.04949423437474337,0.046350767178571985,0.05821382162282222,0.03413868220854328,0.028694616867055135,-0.056420634653441916,0.022067412514977878]},{"id":"chunk-7db5cddc-19","content":"Complete bank_support.py example The code included here is incomplete for the sake of brevity (the definition of DatabaseConn is missing); you can find the complete bank_support.py example here. Instrumentation with Pydantic Logfire To understand the flow of the above runs, we can watch the agent in action using Pydantic Logfire. To do this, we need to set up logfire, and add the following to our code: bank_support_with_logfire.py... from bank_database import DatabaseConn import logfire logfire.configure() # (1)! logfire.instrument_asyncpg() # (2)! ... Configure logfire, this will fail if project is not set up. In our demo, DatabaseConn uses asyncpg to connect to a PostgreSQL database, so logfire.instrument_asyncpg() is used to log the database queries. That's enough to get the following view of your agent in action: See Monitoring and Performance to learn more. Next Steps To try PydanticAI yourself, follow the instructions in the examples.","metadata":{"url":"https://ai.pydantic.dev","title":"PydanticAI","chunkIndex":19,"totalChunks":208},"embedding":[0.017255923036449933,0.04838185340109174,-0.058105046929758784,0.03664247861686904,0.016527275113191034,0.01597951444348863,-0.024223035481289016,-0.02586534633342551,0.02685048383010961,-0.05781431426220649,0.0768754848114378,-0.07917473366430822,-0.017056875045847034,-0.07625459293002726,-0.0029552490997870533,-0.08103568765928669,0.05672210276140816,0.06032924612376686,-0.04781117075488919,0.038093824600971216,-0.0280716957495695,0.05187818996625666,-0.062054480098785864,-0.024987638094127386,0.058490484909134395,0.07758677011691413,0.042928062187281575,-0.004544247881817122,-0.08472685119560865,0.029987223509324427,0.01947432792428543,-0.06873963941806803,-0.07526992415340936,-0.06564600973979139,0.07892643332471318,-0.04180171491174488,0.08096078266702893,0.04381505868303034,-0.018140467672171416,-0.04239918041507216,-0.07201394425245089,-0.01040275884044226,0.018398130517462395,0.004933845891735261,0.013769102758513873,-0.036088851243562904,0.007426975622048366,-0.08248652691791118,-0.06448294802290912,0.08372191808762033,0.06682881128861046,-0.07493025943524965,0.03087585770988679,-0.005269058668485586,-0.052875327861193436,-0.07156122767187773,0.040772824786166915,-0.06755101636901975,-0.03962029483582416,0.003929211996928742,0.04451033620837329,0.070193764153135,-0.010566409777117853,0.0780566220921378,-0.04914018478666803,-0.013899883107883078,-0.04629112839880407,-0.03800151038352364,0.03432667358795876,-0.020886829320107256,0.048230531314088325,-0.0815426175350265,0.07679124896162612,-0.012492112891672973,-0.004131475744974581,-0.06483795144555778,-0.03786748342259169,-0.028695700224946004,0.0026139439271365937,0.05788393464516486,0.052431679894315894,-0.06100113856710169,0.037814043660879905,0.028794814095300967,-0.05147064433321036,-0.06897802376243634,-0.05237276269046228,-0.023856276802483187,-0.012345695167270895,0.07424599949047048,-0.011879294765574692,0.0585563557806867,0.005746625163469558,-0.001031557943192078,0.0008401369496690512,0.0596048314783168,0.07236671163046289,-0.06796123016468242,0.0012335428020679882,0.02128928504319632,-0.03496546578201224,0.07137122880376873,0.052949120809900524,-0.04672162484911513,-0.05661864954088866,-0.08121317412142907,0.08637331382803731,-0.01599233394128602,-0.059975916450399985,-0.06571845749726862,-0.011737232209579156,-0.07254693873817103,-0.07371059062361734,-0.029475886626177093,0.0755490780211575,-0.009893415467533286,0.045009867735430156,-0.06664807350813809,-0.06179705089360193,0.05898363746143806,-0.009744902490788174,-0.07987734132099573,0.055086960943871825,0.02507788522796071,0.06991998190067918,-0.025414826637266578,0.012606516660091374,-0.08630196387718966,0.07760806814426043,0.0030957218775591504,0.04061067452389035,-0.06209613823798255,-0.05343922871801261,0.032796075317398254,0.04845388480799214,-0.06739551430452861,0.053672245755517725,-0.05763347410982194,-0.04030108579076318,0.033851607253985234,-0.028443765767966863,-0.08232075178298964,0.06300799666611034,0.03227480281946646,-0.061784607766697516,-0.000830532057904741,-0.07578777387186764,-0.0696386623811974,-0.07939768279064907,-0.04457877206125359,0.07948138240363742,-0.06443233704356285,-0.06274317106536235,0.06031428757719425,0.03400951367962269,0.045125410569357746,-0.08420788483039801,0.06016784267560328,-0.0475085691052748,0.029705833532850102,-0.016077069602297045,0.0385652259204458,0.026303674617039852,-0.033789735834314376,0.012286327693903825,-0.052156181571385074,0.05386563632553206,0.028272311037790633,-0.03473653378944306,-0.012770820382177443,0.08475224603978279,-0.04537885194976091,-0.04004471533250475,0.02625885017652853,-0.04625589591631616,0.07220192209695744,0.07095968367036097,0.011578732869514422,0.006973849180927557,0.05012866895071761,0.07884535948125367,-0.0782624585494284,-0.04769449215594575,0.022532100520053774,0.06733652102945845,-0.05766413053792918,-0.0435858929616707,-0.03264700786076204,-0.030138421866714223,0.06605293847535768,-0.08481664755554777,-0.07440668534344344,-0.029347198928452455,0.010790717871580435,-0.021810653395134133,-0.060690986886754325,-0.05977133318203592,0.009257549564875246,0.08345629063708616,-0.029842951347475274,0.011400401059032417,0.08338199743783219,0.025272564015845433,0.0293848940437115,0.0575877379763447,-0.044416394112847174,-0.07866321980973243,0.011989075911445268,0.03125404940303825,0.04844379063631599,-0.010587421831748718,0.06318505078595964,-0.08370216924091968,-0.013481115667330276,-0.08614925391744628,-0.025059353280408824,-0.06802444862596216,-0.005998925957042999,0.03529045066550074,0.04230299031462176,0.022439281388699946,0.009516783267113022,0.028002714424405946,0.0570578398546027,0.08098711801599502,-0.05500002889075646,-0.012504485252559226,0.027275615655724374,0.006781350420826905,-0.0032659085273094553,0.024355982557778946,0.005539320599469229,0.06950094919663091,-0.06962360994453065,0.020879674323495034,-0.07061616606729106,-0.08477351041614965,-0.08425425233296989,-0.03511603028557954,0.0016793803211429112,-0.05355416158733629,-0.05510547330438258,-0.043708124959397736,0.0495607577626014,0.04882938001767428,0.04834227985665881,-0.05176482189234618,-0.018822342863743326,0.08427648790082931,0.0287127647905111,-0.023714441746580897,0.03264691228241968,0.050024489255057765,0.042841734885754504,0.025135839567086368,-0.04723905034912093,-0.07192173264023287,-0.01795352335112243,0.023989076600189,-0.02919746064794287,-0.01580594611610539,0.07286348740860525,-0.05802588821261269,0.030300496826514502,-0.0187436941521225,0.025364458957323595,-0.07006244303549747,-0.05473895828496271,0.05998846636620474,0.02016692622940392,0.07403699500671639,0.04954384746346752,-0.04437219426885687,0.07164424354954553,-0.08180271408991194,-0.019871739342000146,0.0737144255462484,-0.05795619939633813,0.06324840036669145,-0.0678602589832761,-0.07799023277427128,0.020069178210465874,0.04905300415187382,-0.04392595801816659,-0.04674900780384632,0.030958395257360244,-0.008908530135113637,-0.06118480684857097,0.03679221857589546,-0.03686573591827184,0.06725467388871206,0.04995026608420245,0.05525592025367794,0.08364935841541643,0.025468874329171904,0.03738992270761917,0.07130135998852305,-0.0752468537978296,-0.02138498654221899,0.038875670466751416,0.005803506761502502,-0.01659467531098045,0.07448388614461,-0.061802077944971306,-0.0658147841904571,0.08366367822873108,0.022385184780610853,0.04541082624422794,-0.04536881403391661,0.057707804116760075,0.04988127923397013,0.05254997494130271,0.01591017704785272,-0.01758199326990099,0.047702094875947364,-0.08229520616884219,0.07950164017471606,-0.015041210457157566,-0.018832859239219246,0.07039385743292172,-0.008015730503855597,-0.06797229861091185,0.037019638512471136,-0.07573179429236668,-0.01409353049612404,-0.018004357685136002,0.06728221817615905,-0.018389203953237652,-0.04217598332182055,0.08528393181734176,0.007765209266872033,-0.014730499564555364,-0.015928223001752718,0.00867649160427327,0.03633411037048937,0.054626754264247186,-0.03813557464472486,-0.05374168051551026,0.07624141380765835,0.035375052145820866,-0.07530061610166942,0.03361745377494609,0.013306725185535592,-0.028142465263004346,-0.01811143981092832,0.00018696916098723246,0.07035919734504191,0.04588986541239963,-0.05464743632264507,0.020274577052270423,-0.06642642565392046,-0.0760295708766789,-0.05032859532168403,-0.06796051150783679,0.033165946383589405,0.025127740898951215,-0.05101716895989438,0.012873648848242393,-0.08288442042044497,-0.021265132600145766,0.02514267670962206,0.07339772237331327,0.03788154861642274,-0.06304040711993336,0.006691113974258505,0.07699610174789329,-0.06321758173802527,0.0691053575284351,-0.07096051999811756,-0.02131033085630405,0.029103673712857738,0.08435113269466803,-0.042817075824409134,-0.07433833271443771,-0.0007370791967593696,0.01766344131478325,0.07244348615445778,0.019941078614869785,0.028083655381370413,-0.01303151286673588,-0.03155961257011642,-0.038649875519192196,-0.03685988142187741,0.03570717145740616]},{"id":"chunk-7db5cddc-20","content":"Read the docs to learn more about building applications with PydanticAI. Read the API Reference to understand PydanticAI's interface. Version Notice This documentation is ahead of the last release by 2 commits. You may see documentation for features not yet supported in the latest release v0.0.27 2025-02-26. Introduction Agent Framework / shim to use Pydantic with LLMs PydanticAI is a Python agent framework designed to make it less painful to build production grade applications with Generative AI. PydanticAI is a Python Agent Framework designed to make it less painful to build production grade applications with Generative AI. FastAPI revolutionized web development by offering an innovative and ergonomic design, built on the foundation of Pydantic. Similarly, virtually every agent framework and LLM library in Python uses Pydantic, yet when we began to use LLMs in Pydantic Logfire, we couldn't find anything that gave us the same feeling.","metadata":{"url":"https://ai.pydantic.dev","title":"PydanticAI","chunkIndex":20,"totalChunks":208},"embedding":[0.06995917869292044,0.024774931989859313,-0.07169014416869474,0.08543319496963964,0.00347286376150647,0.058839626831607206,0.01876919356942903,0.0368815064957099,-0.04559524245028396,-0.08128207613772478,-0.07252826319325523,0.012683412329713836,-0.03936380209844382,0.07842915703149185,-0.06237891960330028,-0.08145579009216482,-0.002537495623435369,0.03026329333575164,-0.06693213647826989,0.03584761962620388,0.052959131001679906,-0.0036659529033122927,-0.019058198496617853,-0.027634800008352046,0.08109930177529637,0.052656332566984654,0.02560527730655097,0.046402236349522084,-0.06743536196271425,-0.03664701682196451,-0.07570725577375154,0.07763542039079743,-0.0016116409846141527,0.06717359157545408,-0.08072397378892415,-0.0631151854606996,0.042688773266976884,-0.05283936349477952,0.005208964671997803,-0.05375236933750427,0.011520102239989258,-0.008403106906395612,-0.03519698289836431,-0.03845468327972363,0.07259158749106588,-0.08039952538406818,0.04390905664178127,0.06540052102017399,0.07379623961107286,0.06193831888195065,0.018234007608572626,0.06186288763174061,-0.0224098216618206,0.03603551825067729,0.06927499300569366,0.08073540481063735,0.08083284340364186,0.035174329484515286,0.08333560982140145,-0.03012220720874145,0.02359716006989315,-0.016275872669863446,0.08375353074787349,-0.0687396847350995,-0.07613095335283734,0.04306176292384558,-0.059200723823016596,-0.04652281193657235,0.04134217867959885,0.0785207636771475,0.04424029836968229,-0.03879379656313866,-0.0443873269775957,0.0586922180958621,-0.005282299704451333,0.08575587911961086,0.04312652887621882,0.0613652845449741,0.0384834302265663,0.0042026389554962375,0.02836165502932166,-0.014049674220881513,-0.08271705211572784,0.008285932404239716,-0.046729979624254986,0.02207273060429551,-0.06473189005392972,-0.01008739196096818,-0.020073333373669386,0.06467001588702426,0.008037093136507538,0.03181543188859948,-0.03605132445959729,0.0562903151939253,-0.025663755981091368,0.02094158971798686,-0.013180775438591719,0.0734673914512986,0.008002667523476645,0.0231244950964029,0.06812714786735859,-0.053824051930126196,-0.03226709029730691,0.01255191068110434,-0.0014099276777019933,0.07687064687483443,0.0500497019591656,-0.022873074847821126,-0.05843635918548914,-0.06054688589951084,-0.008210074456986856,0.024905818695589783,-0.01974311206728735,-0.050666124235249695,0.07515296763686899,0.05822455953011486,0.018681904655967287,0.042855727098962966,0.07737889523768972,0.0041928021225892155,-0.04907555586346619,0.011158029298946113,-0.05644813453174612,-0.05989699877119369,-0.07233546103370526,0.035034085804836086,0.057557826768522384,-0.06595534508187177,0.0784253741529506,0.07001960502441187,-0.07250272542420515,-0.0034643546358576237,-0.027292189648949916,-0.048763226139724294,-0.006143999281473948,-0.02292913379320473,0.00973122352435807,0.03979039378373204,0.0661832512147458,-0.07652316294015776,-0.01450739359078551,0.02532914227364134,0.07890033534403094,0.007616987686102484,-0.07293877041130407,-0.006635182417474817,-0.05863522063293369,0.0432576387035209,0.08549711530223444,-0.041868393246323264,0.006360318110850936,0.010006860060072871,-0.05868545754528807,0.029627114443960236,-0.046870610089754454,0.005860327287124134,0.06955467960990278,0.01754261543595972,-0.045092617813133305,-0.005309008025449269,-0.05739504891800136,0.07889651044931727,-0.0034395647375040778,0.011092883639825224,0.07610835123439509,-0.07889430352484943,-0.0253462302598291,0.07983236237398195,0.07969116100395927,-0.0745943006639202,-0.08179324565639101,0.0750350934094755,0.0401051001977444,-0.04594016925747893,-0.06612464011782594,-0.017831290758347468,0.0593652488105178,-0.06755491112162902,0.001964503282757875,0.06585278040850744,0.02982090164932385,0.010498809776582277,-0.04418139912113354,-0.04881401407422219,-0.023147734270585203,0.05819554707559743,-0.07235157353475505,0.029733631247724424,0.0071143589237588475,0.013894214207852293,0.009858127384796803,0.058527726366024234,-0.06984422174838376,-0.03436606091254111,-0.0451399118948137,0.038912063653388056,-0.06931460944975822,-0.03204375186095928,-0.011257770836517685,0.06042120301293947,-0.036067534904033256,-0.05388360540537401,0.037190271584061234,-0.055143286457270374,0.06527927312042854,-0.01488353891225882,-0.07850541553711993,-0.06005170392347232,0.08341264640143738,-0.03199299518040356,-0.04536927970554666,0.06904958172662966,-0.03830002872881275,0.005400050612250099,0.02580311407726393,-0.079325120539165,0.008446576803256929,0.009942349759616491,-0.05310916839984535,-0.05226526558145011,0.07601340615587991,0.01656674150600043,0.03279226324637392,-0.05443518619769893,0.0153512427957048,-0.033358096711072587,-0.0050189896030988475,-0.059041710066689894,-0.03601963994213287,-0.006280929428011786,0.061915151574047325,0.08514545999777155,-0.031665137546415326,0.01732020640676285,0.006307645850913833,0.05473768413301687,0.040343604283836994,-0.07955622253414847,0.07028268259290048,0.07290975064354543,-0.08286497385826191,-0.0741722038403371,-0.08231317355408564,0.007965043639700261,0.00783404183559777,-0.0846942772641109,-0.013952854159642564,0.08280656758368067,0.03490827031251721,-0.07535296912529689,0.021573880468083166,-0.030827404125817495,-0.017656482818367576,-0.016279172007523508,0.05096711506901869,0.07058997406277283,0.08545469019128378,-0.06606904950367348,0.04497876296403699,-0.005375273351631447,-0.018971419377672494,0.05617893870029244,-0.04086187370750774,0.06671945826732785,0.031237109328914325,0.039392797954664785,-0.08579469076027874,-0.04690820109208949,-0.04247936442262347,0.07900709292020675,0.018341101291334216,0.07442974133109075,-0.05020170327626007,-0.0017905179371865533,-0.0449793303209099,-0.002719287336593634,-0.011900329309314488,0.013204222551323256,-0.0639370344964817,0.028106919278469557,0.06183676141086873,-0.011459305418738169,0.010342250263918997,-0.051274872376643375,0.08040959251506556,0.07446083891833927,0.07613025498596576,0.01274488497344517,0.02868913787047693,-0.06693800564402005,-0.017359409523467838,0.06527518530159705,0.01676454062531186,0.06066325813355472,-0.05083123778477775,-0.06747891341029777,-0.045218474301772164,-0.02765182537737155,-0.08618047687915006,0.07489055463134059,-0.07150724500624316,0.05964547737818339,-0.014817857164279262,-0.04155241360098171,-0.04473351690571243,0.08362480927966208,-0.03668002787437421,-0.0044066718390017605,-0.06630553993196155,0.009019920202796463,-0.008916294885086457,0.08043561249767561,0.01998952027240066,0.0013656287347227844,0.033076935787389045,0.016007986566956633,-0.0629341826670635,0.06545244929034548,-0.05772112160579693,-0.06549054543988712,0.0715350060244362,0.011110054538442802,-0.0232730207595073,-0.025300079340778957,-0.014825937099464061,-0.008758038096812117,-0.049900740607320665,0.020316285759272412,0.08296248067264497,0.06772331163151346,-0.061804521241550905,0.0667094392591918,0.026491217574413837,0.007429434781337404,0.03566976810461016,0.06601313426505556,0.003614361682104272,0.039203343877727385,0.04638952377506704,0.008666642306001856,0.010189760551256786,-0.06216353453181698,0.05517376989806396,0.07238747368600457,0.0028602260353841075,0.04176726681906319,0.028280881725221616,-0.009237841298992577,-0.07158693957692436,0.08308703646359346,-0.0477503242912552,0.08057217042778379,-0.03549144073314678,-0.06654660901448647,-0.08143954223923706,-0.025282317927106123,0.021699812933690735,0.07723410709664144,0.04647732967163689,-0.0527639297959515,-0.07161986708904117,0.016711485903226325,0.014239319627867973,0.0653559634424114,0.051514776249255205,0.020600860662919808,-0.039029103091379,0.06282192969261076,-0.026734505409135318,-0.0776121667033364,0.06477634937589842,-0.04788973628724478,-0.0680757519788206,0.07649905119797402,0.012302891183204556,-0.010494381683265844,0.0014030460432279256,-0.025851858410324426,-0.01863230773900374,-0.08618569487166322,-0.011885604656850178,0.023538152393445498,-0.03406834748940866,0.031619989445630485]},{"id":"chunk-7db5cddc-21","content":"We built PydanticAI with one simple aim: to bring that FastAPI feeling to GenAI app development. Why use PydanticAI Built by the Pydantic Team: Built by the team behind Pydantic (the validation layer of the OpenAI SDK, the Anthropic SDK, LangChain, LlamaIndex, AutoGPT, Transformers, CrewAI, Instructor and many more). Model-agnostic: Supports OpenAI, Anthropic, Gemini, Deepseek, Ollama, Groq, Cohere, and Mistral, and there is a simple interface to implement support for other models. Pydantic Logfire Integration: Seamlessly integrates with Pydantic Logfire for real-time debugging, performance monitoring, and behavior tracking of your LLM-powered applications. Type-safe: Designed to make type checking as powerful and informative as possible for you. Python-centric Design: Leverages Python's familiar control flow and agent composition to build your AI-driven projects, making it easy to apply standard Python best practices you'd use in any other (non-AI) project.","metadata":{"url":"https://ai.pydantic.dev","title":"PydanticAI","chunkIndex":21,"totalChunks":208},"embedding":[0.0766111567968011,0.029343484537290486,-0.0017787454835805998,-0.047571232236973605,-0.0627738560290386,-0.05642486579364401,0.01942906521990928,-0.06891286140829184,-0.03818346123304306,0.07519272480092647,-0.010639336568540072,0.07315342217277816,0.06650217006423123,0.0036413727754848963,-0.07204468966749558,0.016860752416934723,0.04142215310893636,0.038678876762503124,0.08369080414440652,-0.07582258232965616,-0.03993939367209846,-0.010683431273505633,0.03774977709362433,-0.06465643814741256,-0.058610430518614656,0.0015465987955501968,0.040399567161046444,0.005696745352631787,-0.049697733628221295,-0.08603083181497384,-0.01814848723794158,0.07233104689224402,-0.07086982626323776,-0.024973321239199042,-0.055915416486175804,-0.004744509737904351,-0.042730311154982666,0.08054880729855231,0.05953710984849949,0.06774754259687424,-0.05617225807814216,-0.012599766973436817,-0.010987508579129203,-0.01676846127363354,-0.03256828149469241,0.0451223407480605,-0.0459041178816814,-0.06496395807760376,0.02861492405469802,0.018436705116640615,0.004587876669662538,0.027491895124428397,-0.05301799063847195,0.042288704272853375,0.01774875519444852,-0.08577315599237462,-0.06018021705463239,-0.031692677920682574,0.06382502628054038,-0.05521311070137383,0.05191632158276372,0.0773311552789114,0.06020524448633747,0.056141329637304074,-0.004228825316991842,0.03153313579243506,0.07982015573188664,0.029852034584963324,-0.028541963987460502,0.06599163748209148,0.027819320546795687,-0.017149592344210984,-0.05745717765659312,0.07227934749079187,0.08028316595051269,-0.07305111227856971,-0.002639348911523519,0.0854933911450583,-0.06431087158097654,-0.06691633250009672,0.00973543632837672,0.08077215332340486,-0.030498241738609048,0.042806574575006945,0.07557767139475147,-0.055190693474301715,-0.08619894918613208,-0.032419920780494785,-0.00643141014170326,0.011660510699447601,-0.06430586944103883,-0.005318934349548052,-0.03672221237923038,-0.008381985309695228,0.0365964453145821,-0.041042858818749285,-0.0647803484278243,0.019021079288885127,0.025664446110352287,0.02688045367811458,0.0853605560603011,-0.04444131408226826,-0.0064024708567425115,0.0141972549571789,0.048523652356935836,-0.08222701988659753,-0.004957690067025443,0.010126414924400928,-0.06353889757530203,0.018239232029196608,-0.01560329489050475,0.00348114946592268,-0.019415822450119215,0.056156061955478745,-0.002366531310951089,0.05698002999857958,0.05718165320492178,0.0516280639304499,0.00764619855297012,-0.05179974981541299,0.08557218412886858,-0.07989135223179522,-0.003994495376650591,0.020670660488456758,-0.07283690502820116,-0.056063180214338766,0.0667412160924793,0.04004847333869548,0.071837062295985,0.07868301060483926,-0.06338768209760569,0.012197334175336185,-0.013190595692212164,-0.0758976205653831,-0.06654823262428335,-0.04664529889949369,-0.08261264861632815,0.045064862413664364,-0.05054265599416469,0.06818456969588434,-0.0825502376036064,-0.0020642138298766584,0.014132543594685952,0.0746165282888682,-0.006237545605609506,-0.03427613375365318,0.054460127507047,0.04372744812830508,0.02956910707146301,0.08461789654599298,0.06999761301620602,-0.038349578511679284,-0.05137701734785427,-0.060076907944555814,-0.08023242721689657,0.03368893887841539,-0.021664866628219363,-0.022550266246478354,-0.053879206363230354,0.046124986466927066,-0.057310432358000214,0.026984439013314047,-0.054423638042944554,-0.029043837066554657,0.020126173944753342,-0.012137772145098912,-0.055679025729890946,0.08524315071343529,0.06253163740158862,0.02390386907226235,0.0077878457564865755,0.052391222426201894,-0.0766385056313733,0.04105460037054162,0.06354880457014687,-0.045944346317657585,-0.0486804999204314,-0.05002331943831839,-0.06220050396684109,-0.02175321311015864,0.06727234117647309,0.01569276354116063,-0.07789252077090267,0.007593634039119565,0.05707005279267731,-0.028313787082249922,-0.01565384702195574,0.06607095496218338,0.018223550260237257,-0.0010381191483104229,0.06591618350856351,0.024609232192727485,-0.006455272434190098,0.06741583736454276,-0.050765941653204374,0.08606966516735724,0.026089275710519638,-0.040377073569564444,0.054373459279485926,-0.04698129038753373,-0.025718392456932884,0.007671493036329762,0.041934156615650385,-0.05917318482470885,-0.06221835581527809,0.0009514496599392797,0.07576016378643834,0.0025086466311203246,-0.027724897736497882,-0.06497714637042505,-0.05492883536535772,-0.04580276461608779,0.07879554433099024,-0.015651974932253863,-0.03340451608120787,0.07263993744537121,-0.033988897018322126,0.0017080096008390134,-0.04421660315818082,-0.024835278897574635,0.06364061482915152,0.08413886524452638,-0.06083404522496345,0.06415901419984735,0.07182760408001065,0.08550238554537411,-0.03917271412344954,-0.05297046816150888,-0.00015988693022232414,-0.06696449848627982,-0.06233369638943781,0.009951326308191346,-0.005737320056637343,0.05526231351444065,0.01990600595157002,-0.051856316106129334,-0.06088989155191707,0.045946876673706186,-0.013013853759286084,0.0409893465497349,-0.009965758011194288,0.06787069789825528,0.03922010219703955,-0.06078415051100429,-0.02200513037808811,-0.02058128999123691,-0.06401668345501825,0.07666178148124178,0.03624162476661264,-0.023705288429118183,0.06234320099537687,0.05003882966328028,-0.05942586561188211,-0.0746222992326935,-0.009746192653369148,-0.027312751991048122,-0.015940112208196983,0.006462129768307888,-0.055579401221941147,-0.07904047827022587,0.018105466475005133,-0.041939685198907235,-0.035265003564534575,0.08497978488752568,-0.017428768078533607,-0.0237568846793601,-0.07201928387645742,0.03350655583567936,-0.06483913522459182,-0.0810714154337027,0.07176835816306253,0.05617524893639808,0.08159148379462391,0.04738841492292087,0.04815112143230783,-0.08496578838481403,-0.07016468215230699,-0.03808428182156672,0.08080937607495592,-0.021766481474383256,0.03762241624971941,0.027570962239887038,0.01984990366461378,0.0014403105734248436,0.006564712313360151,0.08269508850706482,0.0430571039646829,-0.002362604468648701,-0.0009562448105327104,0.0702040746002835,-0.03085661302837497,-0.07346334390199451,0.059453461888236414,-0.04405838746936143,-0.08542472927304565,-0.05191490140049876,-0.07658882891816807,-0.04988325826772626,0.07196084525796029,-0.03155186599646031,-0.040951807952473586,-0.0736935671097204,-0.05764850459235472,-0.0650046478589687,0.07054487025413066,0.08022174284343957,-0.07564066593508616,-0.05213090362842126,0.05687256517378924,-0.03407840538673114,0.06720688518212423,0.05390844773624319,0.006591438254016109,0.04307422290989301,-0.08410767636952128,-0.013036345822065304,-0.052006245189906375,-0.03732482649115331,-0.02756304642347228,-0.03730799447850124,0.005331083386994379,0.06363207169939486,0.06785930427653342,-0.06620300383991196,-0.05698163953823666,0.01975520810642039,0.05689842080691305,-0.030240133704199285,0.06913330344085764,-0.005316343326959465,0.06226072004216684,-0.038749644833972856,0.04699166714234076,-0.060193960629547454,-0.03545104638458067,-0.0014827163207230553,0.0014624241981390142,-0.0570196049856882,-0.013192528413540494,0.04865927959447792,-0.08099264622789157,0.00036510578497128096,0.009851311595374298,-0.0580862358282884,0.012040667566839818,-0.07507570365591852,-0.03869202530050017,-0.06530199214605284,-0.05824603970870842,0.020878032767884757,0.013794932532643233,-0.08171145005048898,-0.05496939406091984,0.047608555091665776,0.0022257012236888665,-0.051929268525155295,-0.05452869980646784,-0.05011840255567855,0.016676149999189076,0.08128563572188298,-0.06520573655720094,0.01706084570310867,0.05744503068775402,-0.01069864045301592,0.055982480502443366,0.014833689606597438,-0.02726659114400099,-0.021111001874260165,-0.00047829812636895463,0.030071554530873422,-0.06538019046397003,-0.051879346484908134,-0.0014595301031720745,-0.03301421312277848,-0.07916500546115882,0.008218780966466898,-0.041136020408903295,-0.06202550285354098,-0.08228617047610516,-0.0619940229123332,0.02897696260299885,-0.05934081161270871,-0.056688302857636874,0.013537265880456192]},{"id":"chunk-7db5cddc-22","content":"Structured Responses: Harnesses the power of Pydantic to validate and structure model outputs, ensuring responses are consistent across runs. Dependency Injection System: Offers an optional dependency injection system to provide data and services to your agent's system prompts, tools and result validators. This is useful for testing and eval-driven iterative development. Streamed Responses: Provides the ability to stream LLM outputs continuously, with immediate validation, ensuring rapid and accurate results. Graph Support: Pydantic Graph provides a powerful way to define graphs using typing hints, this is useful in complex applications where standard control flow can degrade to spaghetti code. In Beta PydanticAI is in early beta, the API is still subject to change and there's a lot more to do. Feedback is very welcome! Hello World Example Here's a minimal example of PydanticAI: hello_world.pyfrom pydantic_ai import Agent agent = Agent( # (1)!","metadata":{"url":"https://ai.pydantic.dev","title":"PydanticAI","chunkIndex":22,"totalChunks":208},"embedding":[-0.009553868619240107,0.05798520954967318,0.06697626879876299,0.0034799164591508636,0.058421086645615024,-0.07034832042097323,-0.05080022186124155,0.06968504354070171,0.06653299993609074,-0.08269437322156793,-0.030807616839943788,0.03964405498469702,-0.05157969042208596,0.06965621340856837,0.02920007459816432,-0.04466244402081827,0.0831728025397266,0.006671182340023357,0.039703948382297814,-0.016580940712272313,-0.05086220252648599,-0.04576896913923724,0.006307982582002487,0.06423403132136457,0.018700779745940838,-0.017281494810800074,0.0023188535901829755,-0.003414398657990245,0.07810017030870645,0.07508675752104033,0.037788371082768744,0.011712017565463572,-0.06848169142877733,-0.05669738578950699,0.05626812561335317,-0.055240305625505595,-0.03200445284760034,0.021226040389762103,-0.01582710548214947,-0.07221885920318775,-0.062339979644063376,0.08291488753182076,-0.04097179177049581,-0.005114654367012742,0.046375582234540066,0.04058465939884318,0.06413504986586134,-0.027552904646746163,0.058537924165648056,-0.07256699491195676,-0.035339111274573724,-0.008100037636925777,-0.010731194255498554,-0.024213757660407238,-0.040127007532814486,-0.04003305405798139,0.037680018608071644,0.07761243925848701,-0.03776826059579685,0.05688421418143376,0.0801393155848782,0.05547379442914241,0.04797505945643049,0.06294954085645853,0.031943536697165424,0.07458575553703521,0.021888816403332317,-0.033293900694047286,0.023116177481607592,-0.03950815901038656,-0.07061844766330624,-0.040320207290762626,-0.07670760578554314,0.06880535142574958,0.021055243577646578,-0.050582210548535726,0.017020174158539625,0.0817287905294333,-0.059383384767755655,0.03311817083250758,0.009238602334479864,-0.02085130450381923,0.06350063621268068,0.04445449228464999,0.004521064933619707,-0.0809034037264576,0.07717426116223478,0.006078831641920275,-0.041699280101943105,0.0844221920473896,0.060501747993172775,0.04920929531639849,0.03342928814989363,0.0011310973093236658,-0.08250555128026404,0.08291288019152473,-0.06762833198430956,0.04367278689111703,-0.03226168546383,-0.0694646937570045,0.00785530791252176,0.0628352154783712,-0.05129956504673137,0.04163191254607851,-0.07515701777908321,-0.058574242053204585,0.07361337354000146,-0.02937415352011508,0.054177011203684386,-0.06582575611062619,0.013533428712122474,-0.024728701613773944,0.023611170100613935,-0.002175329809244142,0.053532433316115874,0.02141353135303306,0.004071010774280359,0.0622649475631368,-0.0205735999462482,0.044063005398291846,-0.08385234038230441,0.004319861475842444,-0.052003892914625975,-0.02571363648277823,-0.0069394538583062776,0.049599795594416934,-0.045317497780345904,-0.012210548802297811,0.05852387930186876,-0.07158412578339568,0.08288141433858104,-0.06639669434947842,0.06214066943675783,0.02475934481617056,0.06550103214078007,0.06891125507838629,-0.020889974122378786,-0.0284832215874653,-0.028518361096672558,0.005685705251840905,0.07479929802935632,-0.04186408855154803,-0.008651603167468082,-0.05726656682476788,0.0209649942876356,0.02543565356300146,-0.003403555611352151,-0.08189612360873873,-0.041718179417693846,-0.0028998004178860727,-0.06227578438714306,0.04369943984562642,0.022113606970612393,0.05197140498685196,-0.0149755018629769,0.08470939650101789,0.01076207213471654,-0.08013508546811168,0.03905402700083393,0.021248728703408493,-0.013297966897772314,0.05264586050760864,0.07369982997672336,-0.05113453672101586,-0.02979883069458809,0.05950307644032047,-0.08365842196561808,-0.0620412194928787,0.08131619789201275,0.0542030249560402,-0.0036406273066598304,-0.06506651359012677,-0.06123988436250276,-0.05657017840004232,-0.030187714613529645,-0.061946537196357856,0.014411244889108814,0.03677463551476853,-0.08133416638003188,0.03644490655441512,0.06133345022458119,-0.0008819287030656271,-0.049246403579017585,-0.06699335308990022,-0.08400270668354595,0.065901723458332,0.029098631830192925,-0.012120662307367126,0.069231887856637,-0.0343083246895491,-0.05589175118147761,0.03452884690021507,0.011621124858334128,0.045296720614065304,-0.028869372392852147,-0.05997321625366054,-0.057847793752872675,-0.07240972402328139,-0.06000870177379996,-0.05011599549174667,-0.024850620077119495,0.06157020405893946,0.06004588548921966,-0.0314442735316732,0.046989608254149245,0.036969648785698826,-0.045036163646647885,-0.003288175929149449,0.010978420543134693,-0.08378551608533713,0.023271821651411558,-0.07622587575215432,-0.07389268813574716,-0.01545502393291877,0.017670829357681623,0.06313935366494874,-0.006063501974323047,-0.03357693445729413,0.07128505820515,0.01016409900617722,-0.01855066288123718,-0.04399422457407671,-0.030809477204661883,-0.04344119054784882,-0.06396349365445395,0.07455603613312166,0.019349418140439615,0.03782221008525451,-0.02521339464487816,0.03402638298030395,0.07922025987305638,0.057227465201355,-0.024914770695820973,0.05393695807144532,-0.030712906999015955,0.05950423875084469,-0.08413976807625863,0.07859981754923898,-0.004958019315889309,-0.002817659856142004,-0.009297785399014498,0.07994750199896182,0.051797592440361126,0.07496748180891254,0.07724975586644196,0.0784861613471615,-0.049021898726220904,0.042610360130650955,0.020829001805014208,0.012100048269452416,-0.04617687552649233,0.010936545082133963,0.04033004440081484,-0.07699154059476383,-0.06335813588452065,-0.06879556287953587,0.028897380787611268,0.0021777862433188383,0.017811589304601826,0.04009569087609273,0.06303783029873351,-0.00048198826245063477,0.04094131330494725,-0.02918698552205901,-0.04014210238623779,-0.04209590195832351,0.056593764103649066,0.0037456955003798273,-0.06143565906578302,0.018547709560257017,0.0016618645361444243,-0.016430859948133043,-0.07941868489107087,0.03911718738019404,-0.030108108876883404,-0.027917596081059898,0.07071922658087339,-0.048995333976947976,0.08037733041006333,0.001327709460452856,0.011499339974776406,-0.08039685867879973,0.0006128942218831677,0.043236034321518055,0.00451442050863241,0.008592049389825515,-0.016015584151576237,-0.05533669749901757,-0.03211715127954185,-0.03391793894905688,0.05613510289712855,0.08292392024951038,0.08376091453287325,-0.02525604497454003,0.06106748260813432,-0.01511986702408633,0.06026997339655783,-0.08116827133077896,0.0037637985545795794,-0.04044473310427166,0.04162388325241671,-0.07104534676643598,-0.003857274991153759,0.04325887226539459,-0.015008687834379947,0.04467417932533888,0.041971316396926105,-0.019308995694449486,-0.05360396459335419,0.04816571889529448,0.02038266488118189,0.012573928692241412,0.06433749734850633,-0.008423854381236776,0.06199528106128342,-0.05649239095048767,-0.06750198886776472,-0.0821146957868091,0.0387962405148237,0.06335777402478586,0.008872205133508516,-0.002549514961714864,-0.05407519274712632,0.038105526696765354,-0.04068394419316958,0.07035701481547577,-0.020943024540386462,0.0763100238922992,-0.009653988412188466,0.062481673329318484,0.07949226140056637,0.0628762076935476,-0.022562533472715283,0.05975224975349404,0.040391016312273306,-0.07098172874716382,0.07141358190069458,-0.078547542680832,-0.07232533166938536,0.08189123074092919,0.07297481036314817,0.08246576046906749,0.06218119759154588,0.007965884363406926,-0.04407589366451704,-0.07341144755775951,-0.04780813544272068,0.08029450750593277,-0.06155815895055894,-0.06620144553074565,0.06755998828713675,0.03063764397389106,-0.062019967285421966,0.06272975049899017,0.0398278954675218,-0.012646794547669628,-0.031146649265223203,-0.01577373361582137,0.02501121890777223,-0.07883596955771713,0.019796768431396394,0.01658886456289884,-0.056102442021212846,-0.017644220796738778,-0.0479478204433379,0.024329152575136768,0.08399748031851725,0.00808289610152543,-0.07041155290448578,0.013480496379340765,-0.07835042699888535,-0.07519877740773731,-0.04493057533446442,0.08086778231947482,0.0015478301120822632,0.08393465552693956,-0.07334870737242015,0.01548332567573017,0.07843143338942653,-0.06991000073785524,-0.010831857921920386,0.01851094878791785,0.054036531901515805,-0.04422746204766497]},{"id":"chunk-7db5cddc-23","content":"'google-gla:gemini-1.5-flash', system_prompt='Be concise, reply with one sentence.', # (2)! ) result = agent.run_sync('Where does \"hello world\" come from?') # (3)! print(result.data) \"\"\" The first known use of \"hello, world\" was in a 1974 textbook about the C programming language. \"\"\" We configure the agent to use Gemini 1.5's Flash model, but you can also set the model when running the agent. Register a static system prompt using a keyword argument to the agent. Run the agent synchronously, conducting a conversation with the LLM. (This example is complete, it can be run \"as is\") The exchange should be very short: PydanticAI will send the system prompt and the user query to the LLM, the model will return a text response. Not very interesting yet, but we can easily add \"tools\", dynamic system prompts, and structured responses to build more powerful agents.","metadata":{"url":"https://ai.pydantic.dev","title":"PydanticAI","chunkIndex":23,"totalChunks":208},"embedding":[0.008100435002019991,0.01697550995684778,-0.06869564927695253,-0.0033182801258794564,-0.06294265000152945,0.08870601320470885,-0.07023066308176072,0.013265080173217309,0.059984336390440054,-0.03235539929901852,0.0729848527730044,-0.01494963013677367,0.0189969148107413,0.044810699705040244,0.07383296584821247,-0.06038516254182135,-0.07671720751437389,-0.027644462884839235,-0.01858667564248173,-0.04473862465723044,-0.0008642373775124965,-0.08811926131630181,-0.05806810618065612,-0.023179330210839604,0.000951726811121287,-0.007494516176810253,0.002511944552728117,-0.026248698840878857,0.06887386632969653,-0.03972817085432257,-0.014132291806916993,-0.037360403814532574,0.05799176567933597,-0.03692961720496018,0.004103946157481939,0.019698497454535155,0.03398949441202445,0.033815474029006164,-0.07672018787035446,0.029109212159843946,-0.08997804923075098,-0.04251978266978775,0.049856232642001674,-0.0727266749254642,0.02895602329567374,-0.013716986524091581,-0.06744180572736962,-0.06902815434427292,-0.08358017172110105,0.07958027794025853,0.003127772389946109,0.02674151009808609,0.050981924834663364,0.05453594680914772,0.03427034243450153,-0.009370283717343525,0.006179277481370911,0.05004644943489519,-0.030120392074876056,-0.020805511930821204,-0.07754450802114794,0.027815394801158543,0.01064891852807841,0.06432596982271065,0.03293593383322658,0.07871575270782866,0.0783667911357053,-0.08734888978141883,0.08799639683464161,0.052517092155144524,-0.0566883425640906,-0.06846124784462503,0.034495130087888626,0.02563704910828167,0.011850516719108464,-0.01800475588574713,0.013179045005087923,-0.028421488652550835,-0.051067743727666676,-0.0730943077838695,-0.08465848133727814,0.022606676963285267,-0.003991704293183874,0.037593528076208166,0.07395964533086365,-0.021402881216360768,-0.06567905669795437,0.07138866973889517,-0.08168157010042519,-0.03664499714107998,-0.06380743564038376,0.05604599644245063,0.05570904589054209,-0.005985018797730593,0.0006980745320598564,0.063997049370947,0.005960467448517465,-0.07339543498190165,-0.0192057267656301,-0.030132275159879023,-0.04957792642426108,0.04984112049122503,-0.05315900673186592,-0.040469209432022354,-0.0419473611968568,-0.04333363081385742,0.01876719370243398,-0.08553567625462191,0.04788746870615316,-0.016109562010124333,-0.019864478892617422,0.023300085388738453,-0.003929636814957674,-0.07432857622606648,0.08637589621846593,-0.03872763795603232,0.07157332195667516,0.06703624197061908,0.07798159210946864,0.03946476720499955,-0.01597763612922812,0.0027455846630160437,-0.06817355867896413,0.019327650866888833,0.08165631325165905,0.07564209127916477,0.03455442582361237,-0.011249144780603645,0.0726288905230663,0.07442726336128086,0.020934747012504983,-0.06195474660639715,0.04575810699953961,-0.05430205051430028,-0.06734185816348241,0.0013630109806159602,-0.0066976114427344064,0.022374599595906857,-0.06888016552600651,-0.055996796595977824,-0.08336375009013282,-0.06271464420182521,-0.0891884629369804,-0.06984062524287812,0.042819285635567174,0.04732066954710021,-0.0016411116855778668,0.05198487755237879,0.025629993764389764,-0.054539486133231375,0.01582529560616865,0.055423484693084966,0.040064107678993474,-0.01979585833391296,0.0031643905654899183,-0.051368349066280385,-0.08389156012786081,-0.017546639310088832,0.06780748735978964,0.05390614228001819,-0.009842998807477285,0.08422909631774729,0.011237041920940617,-0.037063662109312986,-0.02782094275235163,0.04911652834161171,-0.056926821446530725,-0.06879246511543728,-0.004712597068619803,0.021550126259946924,0.043282372047865496,0.058668726067138084,0.07732823931047447,0.05801302198914141,-0.0490099082363201,0.08124752753921011,0.055282759948721505,-0.06935383030684601,-0.08764898027510434,-0.05943162745539583,-0.08817240384140712,-0.007614075123058665,-0.015702156493822752,0.02962689656834379,-0.04401640141493808,0.07736779821116868,0.004110527715786056,0.0603770773113361,-0.06965501017355331,0.04544127557787578,-0.06341979981266688,0.0652239286879922,-0.06045402693939943,-0.0004562252764194329,0.011883836031894633,-0.051344427060169555,0.005376225228852195,0.057711997917261774,-0.040561268617035746,0.05411290969916286,0.03909852596672053,0.049159927447703776,0.06760604991671684,0.018959732305837706,-0.036895652848105635,0.07715338980099977,0.0014071006034095258,-0.05705789600345635,-0.020869468821904418,-0.07823999124168982,-0.026992905574663485,0.022390056450080225,0.025513462472138555,0.051651580214414586,0.026395145231849913,0.06056813522055942,0.07799652914583832,-0.07609656436490375,-0.08998436558358551,-0.033120006838833795,-0.04651780502441963,-0.0846373398500916,0.046973538696435405,0.0474231485079236,-0.005911112584391801,-0.0867913056648178,-0.012674062735178815,-0.04187435568388186,-0.06583596957233506,-0.025001163673006383,0.0779401553773895,0.005437017766221707,-0.014644900184295106,0.04698841344441136,-0.0637675104552001,-0.010702225955424258,0.05839429386378851,-0.056945685407094056,0.017003740017489225,-0.037747866574199374,-0.06042788850744184,0.02508587029934055,0.02379411552292031,-0.020049456771712475,0.01200511035632671,-0.04802863042803018,0.08423711805589208,0.028594735740245916,-0.017987654411997473,0.045925008635683925,0.05702000958221454,-0.011418163678602829,0.006181798527247525,-0.024297890401728958,0.012013793560249288,-0.07254022810512267,-0.002326346330369239,-0.005474784873502461,-0.012066719637325996,-0.01112128434445482,0.06457386074606582,0.02951374932900448,0.08370145629099762,-0.03235983632915546,-0.07183157172981172,0.07819781271083562,-0.03589399019256889,-0.04826710631104647,0.06035085505286769,-0.024567279709883164,-0.05144217552771954,-0.08934765793868432,0.023960213796927723,-0.016167302580093964,-0.05027406518744237,-0.045556281623726644,0.03607956520953629,0.0545759809742221,-0.009447428954124166,-0.004357987693330108,0.015500485592832002,-0.03700573173500476,0.04124309292622574,-0.07992015521083896,0.019597130459275677,0.05369095361145713,0.00848709587332437,-0.08940532357262375,0.025913192847413922,0.06102226861208545,-0.06536737807118673,0.0735441249704364,0.03857724779355117,-0.009162088713645569,0.005339344655968852,-0.07247992307371125,0.05446107001461802,0.02178178694369456,0.05053287173426727,0.006604534024296266,-0.08140317024810981,0.04143594582754641,-0.06822642967176108,0.019240484377184234,0.02700475069063401,0.006980118526210669,-0.06753359761464024,-0.0878271694909948,-0.014341988210404085,0.05325905376522127,0.016714536049072675,0.008854774549332832,-0.06894639107500491,0.007001519602070615,0.057604469028320296,0.06818185205609481,0.03534735263601122,-0.08647104881049797,-0.018856156007919785,-0.08474369241954383,-0.0893071557445671,0.07064547981007917,-0.08871136718491342,0.07436546866501986,-0.011572088991919948,0.06515449631010178,-0.0867038373649453,0.008568011006411653,0.05952162541439595,-0.04784239771312099,0.0886285105170008,0.03066443114600716,0.09059393271054288,0.02089443670679357,-0.020377273242850377,-0.0368848547219761,-0.056760652931870964,-0.08763596365572017,0.03643479154265583,-0.049943210974168394,-0.05643842512867791,0.052084617794051824,0.079060911941226,0.0761115038133936,-0.023400604664465703,0.02090043215892625,0.042985676778335404,-0.03556784306223395,-0.044758717363737946,0.03266600293497237,0.0050349313766366545,-0.008143942593129588,-0.049229946240994374,0.01855879451876141,0.013649287214348505,0.030195094742167906,-0.02911431008216598,0.01728287613632761,-0.040099799506373934,0.06743764605886753,-0.04043062010307478,-0.06345554633827571,-0.010026304785343953,0.07720170865016215,-0.018615606066330916,-0.0838925754943942,0.05413370002572568,0.03425329453942296,-0.02645234779413788,0.07411277032207485,0.005921552509140055,0.051275668952699444,0.054615829018157,0.07317359683263054,0.07675413730258271,-0.019126573201278297,0.03450158656748076,0.020119410155312534,0.03578946902517534,0.050623543371744996,0.05061685217360929,-0.007489019588513283,-0.022251887392633576,0.06505107733204234]},{"id":"chunk-7db5cddc-24","content":"Tools & Dependency Injection Example Here is a concise example using PydanticAI to build a support agent for a bank: bank_support.pyfrom dataclasses import dataclass from pydantic import BaseModel, Field from pydantic_ai import Agent, RunContext from bank_database import DatabaseConn @dataclass class SupportDependencies: # (3)! customer_id: int db: DatabaseConn # (12)! class SupportResult(BaseModel): # (13)! support_advice: str = Field(description='Advice returned to the customer') block_card: bool = Field(description=\"Whether to block the customer's card\") risk: int = Field(description='Risk level of query', ge=0, le=10) support_agent = Agent( # (1)! 'openai:gpt-4o', # (2)! deps_type=SupportDependencies, result_type=SupportResult, # (9)! system_prompt=( # (4)! 'You are a support agent in our bank, give the ' 'customer support and judge the risk level of their query.' ), ) @support_agent.system_prompt # (5)!","metadata":{"url":"https://ai.pydantic.dev","title":"PydanticAI","chunkIndex":24,"totalChunks":208},"embedding":[-0.023096534647677615,-0.0043409384884854916,0.008917226934427362,-0.04195738808977641,-0.07465301930504023,-0.07600031257189714,-0.041518154121151514,0.03193056478982755,0.02425229382060463,-0.07587071608857601,0.08803778935690253,-0.003026615972439317,-0.01672702199980011,-0.012492103092015846,-0.04050850898690072,-0.055964761813210764,0.07323926711292132,0.08442524338076096,-0.01613022930611251,0.06945964780694713,0.06660912627862604,0.05892458076742156,-0.03751163042121933,0.007509732659529039,-0.02237451267948385,-0.01627895643274073,-0.01490120645141381,0.06641076582295588,-0.058321360420713605,-0.07010648432865567,0.05393017425638555,0.038206775028469316,0.08077556590548048,-0.007579960878664664,-0.003223652962592941,-0.07506078328900437,0.025526208440864954,-0.06149881283731934,0.03392363385209488,0.08337261535740906,-0.03173611990940122,-0.07744262809635084,0.029635421235474597,0.07532916333718431,-0.03969021280666446,0.07987559800276002,0.08044055626374995,0.032165605567018606,0.02833455913031498,-0.08247692927910874,0.029754774815249737,-0.004818109921824928,0.05087981548398277,-0.05755757617303816,0.05046927193672151,0.03158779736760765,-0.08559910775142526,0.03167133380629614,-0.04326736422476217,-0.07906298339105929,-0.005077573475851807,-0.022976486814214568,-0.000873472553455278,-0.05292775814682833,-0.018106018535049,0.030980325814020045,0.07801738972627371,-0.08197455578855405,-0.007471085691501199,-0.005992207582572124,0.0351989884772263,-0.051400622346793906,-0.04913050415090337,0.015327599075280468,0.013699705447233094,-0.04349118099803571,0.04920194496363538,-0.0677760325901467,-0.06965638132175671,-0.03454795166614191,-0.08426398395922968,-0.05364342434050436,0.01726359099126688,-0.08766973499439183,-0.06184949539816082,-0.03202070033371297,0.07454025591467332,-0.025332441800773667,-0.07757771387018589,-0.000243380601698952,-0.01857516789005027,-0.06196214600867578,0.00025000897715968517,-0.019586464665904583,-0.060799529506181685,0.03929914659599276,-0.0696414030071225,-0.08806551934549071,-0.026756604612649896,-0.06188044311852849,-0.062166085417141616,0.08410597284313963,0.0046563833770202675,-0.06991571364796124,-0.07073006846760353,0.07061821909774865,0.04211331994183683,-0.021242128587054016,-0.021063809986158775,0.0856113810869941,0.03846818400069166,-0.01100116798613107,-0.0034535559027640992,-0.005374352142804598,0.04298334708496544,-0.05696883233156705,-0.053136610037310676,0.017011288838041868,-0.06108138009782306,-0.0787742991665683,0.05958154588882641,0.004997714616664712,-0.04860569290715707,-0.003967633538127647,-0.07271393585015552,-0.08153799332611908,-0.011067288650388814,0.07527941829770185,0.06106394784094082,0.03582566518536891,0.0334037054325894,-0.03608958603324008,0.039225023489691514,-0.060112478694810026,0.07470525091320634,0.031456320803121884,0.011034946176988266,-0.07373734934281248,0.0369078459332451,-0.0067170407685129075,0.02608464518359938,0.014183319652104622,0.028533459476592336,0.06039748707511084,0.047636142375803756,-0.028628079779727915,-0.06397015174924381,-0.021544525260379935,0.051055588453583996,0.0024312706244195774,-0.07185442503132296,-0.01163180256710765,0.06632477850987384,0.054640838456715864,0.021376733129762463,0.03579195943517694,-0.019520760041690215,-0.016531053332938608,0.015375316713047354,0.05929330821577009,-0.0669031827706252,-0.0709290947075906,-0.003393408564326791,-0.0723411253991114,-0.06018257552502014,0.04372223599241054,0.06579496738776586,0.013235347887396868,0.050587305816231366,0.02470362951634266,-0.048954657070550876,0.051012111204785215,-0.008773090626517491,-0.05144838010594167,0.07439844897526231,0.03447300207918929,-0.04353467164515036,0.08495816755739109,0.01584356898694622,-0.03916479615045875,0.05370469699729662,-0.07769474626522144,-0.034084733265522776,0.03987960224451965,-0.0057715720077048255,0.07700779928886821,0.03475383265784443,0.035025030589201187,0.06120753321004387,0.05060174072079247,-0.06273674140759566,0.07290590280880643,0.004473766159187574,-0.05996565396236563,0.0030531966287537233,-0.023268685378030403,0.07592798027291528,-0.053388903875964275,0.027302464223752525,0.05046694779041735,-0.06480983353397628,-0.04139806314741724,-0.04057974974387603,-0.046671796803299075,-0.08715688956309055,-0.07770207141750891,0.00019059852462867323,-0.028737057498954072,0.048374118877386484,0.0581924516866633,-0.07433450270754721,0.013454140343833298,-0.07759091572366197,0.08148518989752304,0.08268834431604506,0.02559222794045702,-0.0868338444703864,0.05884918228028483,0.012009431185773892,0.0010526295074708132,0.027277061250974108,-0.0874527591401122,-0.009251709460438554,0.08163165761032398,-0.05564951309361536,-0.04098743552508867,0.07663795817879764,0.008365958999260448,0.021354871717055024,-0.07192708833851102,-0.01302866584582544,0.029006377428306616,-0.027107689603925494,-0.028123708493213995,0.01799706233345672,0.04336234251050194,-0.036040148020969116,0.05094190202141036,0.08236323665325718,-0.0551518025186503,0.016497106773095745,-0.053218818417645516,0.05663136992407373,0.024985169474413413,0.028409947378164838,-0.08174061572268218,0.059086492728197826,-0.011749737659484765,0.06601470850436661,-0.009455706259257898,-0.060082130647046324,0.04764707929955364,0.03665306599367988,0.05821088272885847,0.0670004038006882,-0.007079007167087028,0.0635052101934177,0.08214004210634698,0.03270719120572653,0.008336126549797223,0.011300215620780943,0.012024463278030726,0.014249770121530949,0.03204118569843959,0.07455770107285362,-0.03884731608657377,0.008458636417791513,0.04191885757792846,0.02935484515020918,0.026898466264021575,0.012442649659508935,0.08176079438220261,-0.05959617041062407,-0.07470173440707914,0.05690677993120618,0.03253635798947341,-0.04601926460254858,-0.08415337223930687,0.011098905991318568,0.07323079100321808,-0.07302218407814473,-0.027795798747982166,-0.01828781867904701,0.07069568107483502,0.07366380512039525,0.06351751281450639,-0.06722740702366778,-0.04879023287119644,0.07433012544147286,0.037650420316276675,-0.031950041980730814,-0.003280139605542318,0.041949004290356265,-0.04927568261388649,-0.017141061838168756,-0.024226886120619223,0.08661409325769263,0.053584579087814534,-0.0351691860183178,-0.05229156362929954,-0.06621925136013479,0.020129943760234078,-0.019475025265106825,0.008613013784530735,-0.06047288792484606,-0.016378931771396224,0.07225362856270139,-0.05768539927591976,-0.07862167776400167,0.06215622015380069,0.07794500583094374,0.020008535071411405,-0.05222919257544558,-0.06028081570820261,-0.05272841558280143,-0.08719366531975319,-0.062099793718289095,0.07284026270513236,0.06252669207672162,0.03580681029305908,-0.0008957534010507294,0.06332291348151321,-0.07373280711546122,-0.007818776359539384,0.06762759434185066,0.04803330160087054,0.04725820408128147,0.0020129154224246405,0.07952740803125752,-0.048512018056996724,0.009371537500223601,-0.0022885019463628514,0.06401576783542885,-0.03825413640211935,0.04731490790785671,-0.011846450784320294,0.020227188760518076,-0.026773450103010063,-0.057499188052997016,-0.07163326024275707,0.026757330369392932,0.054122046311856756,-0.021940991073716307,0.05053380924991094,0.05393458774914419,0.06585039923783755,-0.071071597363261,0.035842008955335423,0.05884506984457408,-0.027792686194678787,0.0002789924119505786,0.07725192516911408,-0.07860648257094313,0.04703396655020467,0.03130287072367481,0.01723732667796692,0.045750571905129114,0.04168942187544107,0.05523353276168248,0.03839263365375404,0.023541027941870636,0.02109079487292108,-0.001545178769177683,0.02900965369110125,-0.07376285828147253,0.06486328242123783,-0.049971956179357596,-0.01664125680028161,0.02943275928652729,-0.08462035546353361,-0.08193956146423284,-0.08287928947039935,0.04306202727958573,-0.027520871086814207,-0.06731320439895515,-0.020638569240216977,-0.01139502823546529,0.0429017270426874,-0.049214721924695524,-0.02808218767422792,0.0034602026028603535,0.05150590229992054,-0.014036808847996554,0.07831220401442496]},{"id":"chunk-7db5cddc-25","content":"async def add_customer_name(ctx: RunContext[SupportDependencies]) -> str: customer_name = await ctx.deps.db.customer_name(id=ctx.deps.customer_id) return f\"The customer's name is {customer_name!r}\" @support_agent.tool # (6)! async def customer_balance( ctx: RunContext[SupportDependencies], include_pending: bool ) -> float: \"\"\"Returns the customer's current account balance.\"\"\" # (7)! return await ctx.deps.db.customer_balance( id=ctx.deps.customer_id, include_pending=include_pending, ) ... # (11)! async def main(): deps = SupportDependencies(customer_id=123, db=DatabaseConn()) result = await support_agent.run('What is my balance?', deps=deps) # (8)! print(result.data) # (10)! \"\"\" support_advice='Hello John, your current account balance, including pending transactions, is $123.45.' block_card=False risk=1 \"\"\" result = await support_agent.run('I just lost my card!', deps=deps) print(result.data) \"\"\" support_advice=\"I'm sorry to hear that, John.","metadata":{"url":"https://ai.pydantic.dev","title":"PydanticAI","chunkIndex":25,"totalChunks":208},"embedding":[0.048797788611183085,0.05141405326594539,-0.035313309629821474,0.06718939105818302,-0.00012820970256800188,-0.02082290121422216,0.01979881714527893,0.03455560111718974,0.04360234085894931,0.0011111114188270595,0.05115203913319291,0.08638872512470418,0.03538828535088926,0.013185194260654126,0.051243732893618776,0.08061638612286988,-0.010776095185620884,-0.07609356577020317,-0.03245397178348341,0.03737595814317702,-0.051015903201831234,0.032747154161028566,-0.05770729966250183,-0.06116433756445203,0.05015530716356446,-0.016031419548440198,-0.08449671449038493,0.03844176773272269,0.07852364440492929,0.00823180085933947,0.08322960156888201,0.04998597714298374,0.0797369497465798,0.030211218534432146,0.03716187777711096,-0.08565712085832763,0.05380724562351038,-0.06330526112822546,-0.047084084578880525,0.016730544349788035,-0.06729899149686251,0.06818655046231197,-0.04626075959222867,-0.07875129174294024,-0.04026486803714167,0.08719646614626499,0.05947861007329893,0.08310085130623668,-0.004288808923248157,0.005949211779560527,0.04933030862157891,-0.07379769949949819,0.06922232300664857,0.03255709696047664,0.007885590541795273,-0.058568917346726417,-0.07041914192548879,-0.07858687820995175,-0.08632206536039361,0.0077097494131249346,0.005279979340155176,-0.012538663584690139,0.03040644071279351,0.08714552899819338,0.0035476841204435264,0.08021266319894542,0.06764420409114713,0.045965000631466676,0.059263479015217134,0.0856275800133541,-0.08567334299889215,0.06502337207249538,-0.050465797755138916,-0.015759018791112897,0.028298062032762673,-0.07172386088827007,0.040533261829052,-0.0003765063877447978,0.06422862523664022,-0.051634515527230605,0.04525993176107106,0.08615194997424067,-0.03948207055864121,0.06463955877602885,-0.03336907020630517,0.02578730268171595,0.001283493067778937,-0.03749107969981559,-0.023639495601190177,0.016277956790808106,-0.05247684932778386,0.0392696969634108,-0.0002253080516636098,-0.07534067018982918,-0.07461890735338987,0.08495793739534284,-0.021596985055487048,0.0671790069582065,-0.049474783394273504,-0.030998676333664633,-0.01842469318348713,-0.0526424236562894,0.07041418518075804,-0.04158087319029849,-0.02802833526049928,0.00254115519727742,0.07600668503094238,-0.05267931998978052,0.03294428659542029,-0.04906402926736783,0.08414288915567246,0.07824454828810885,-0.08035016932952259,0.0729425680954816,0.08651847535191323,0.025666352391162262,-0.02796757202850472,0.04167976532731038,0.08656367001470831,-0.018576808876812345,0.02011495366928148,-0.023072101936379902,-0.06716902845656213,0.036918842287261194,-0.08503785979087067,0.03527212229588669,0.02159258593538462,-0.011199141288886608,0.0185417849294128,-0.007399084739810671,0.06928658852356065,0.0024220332351197926,-0.07165512334291342,0.025062476436464486,-0.01366384784341464,-0.06955068503567156,0.002260158730386516,0.08334505462311598,0.005360023656747021,-0.009556580935882403,-0.04571234910740673,-0.07443885117370638,0.04636724702675599,-0.015020662595158019,0.0160480297404458,-0.07676627542595586,-0.00036564983980853923,-0.06724003485857775,0.05775056720116134,-0.0397737424153456,-0.07374344156287035,-0.021307061462540477,0.04657794792479114,0.0010540425607376439,-0.014639577849187417,0.025974072991867544,-0.01935620028908799,-0.04876675895321812,-0.0881938186530576,-0.07435660851163454,-0.03477787401355081,-0.005851573709478679,0.07494876515741399,0.03554284459568408,0.027901680100520944,-0.03050396711785136,-0.005101732023588071,-0.005631315782969357,0.008087482022693738,-0.03918181716932954,-0.03226505068286325,-0.025210644124871673,-0.08694537382384164,-0.038837444537827594,-0.028322278253714733,0.03831767844019843,-0.0011265588812901216,-0.05345422131268995,0.0032006319759153414,-0.07206104749833066,-0.006634048230297526,-0.053267778067221945,-0.05993290325129666,0.005761701365818648,0.0031962069769929176,-0.04180359778273458,-0.06741482960022688,-0.017948999856316074,0.03453864234071048,0.0347110158512477,0.06288352874717552,-0.06942581073834676,0.07759238086457021,0.02836197923320866,-0.06668734806491551,0.012091467886726841,0.053802279548693495,0.05646205095346955,-0.058569909427725726,0.05617144888505302,0.06165861501574124,0.07934742582184044,-0.06993515442342228,-0.053228322421956305,-0.07515822076680133,0.00860798098284779,-0.012800059323475204,-0.08308337756405089,0.0733596290804301,-0.015416028516149302,0.07211366293254554,-0.011605696639519351,-0.03686077256872518,0.03972656257498764,-0.015985306030270176,0.031413604278031214,0.004693173359684992,-0.07610390143975457,0.052512817754728984,0.06769286258198395,0.017877136666861863,-0.03292117617359581,0.001931979624455309,0.026202186815222357,-0.036706002394002964,0.03984424125386211,0.0872250170602858,-0.03603813756899243,-0.04537657933903762,-0.014662535437840596,-0.04692613613598617,-0.04698114273014919,0.03875788491341693,-0.06254768144093593,-0.08515699452161411,-0.048469748413324076,0.02307432926347709,0.021486566592478842,-0.08057092557124124,0.05514715059651109,0.06391752938563842,-0.05711260587738114,-0.05433436202531174,-0.017499141875669803,-0.01773265243841367,-0.06718190281902284,-0.02560200319884177,-0.08266353210312945,0.023165884683870396,0.07530840937361488,-0.0061099969275618385,-0.017934242568730954,-0.010693054889409342,0.029329985777645697,-0.014010558626094233,0.009916548464741347,-0.05120588124120078,-0.08096771031760581,0.07889864858211673,-0.009286960228365636,-0.058957813834462754,0.0498081121034706,-0.05086381565850029,0.08821275201133975,-0.00789459658199209,-0.08040168842132768,-0.0138148490787704,0.04286866021331352,0.07894446955968587,0.004395968480359354,-0.0787466505181991,0.051494100303450786,-0.0086883178278273,0.003764248832016702,-0.07838870370140762,0.06749598888211834,0.030587086438087756,-0.0060476445065719975,-0.08313939669111105,-0.004876764002388558,0.06237780487897056,-0.06909124456008754,0.060415833318140925,-0.061093023031075035,0.08616766729577346,0.015963768268473212,-0.008745030629170418,-0.027957746627436594,-0.08441269891185181,0.047469330752174924,0.05459260252876628,0.018855969205328345,0.07893150746309512,0.007791710004989725,-0.08765494046663429,0.057600548607282004,-0.03801442083269606,-0.06593930088519585,0.08794241781606346,0.04979227921519614,-0.042861558018660054,-0.04728987132051921,0.08424814279209,0.038030074013160976,0.07628004111993203,-0.022276175886206964,0.005716298232892179,-0.07898020558209035,-0.07156754247734168,-0.00960989607139668,-0.040546477387197404,-0.027880920225876776,-0.022847583965124114,0.012328122389353095,-0.02312517935890751,-0.0752513754372505,-0.057517301871163655,0.010093282618236924,0.005319565196479839,-0.0348582120842702,0.012077575003442845,0.03669357818917513,0.07679852739663495,0.06067501607150773,0.01021620597171659,-0.07528950542788729,0.0021810605735751165,0.024598060089465107,-0.04695412186014101,-0.07561080796653621,0.07126228602246447,0.015219539803544565,0.034897912141827754,0.07580679086598714,0.003732781866901459,0.0793133850504058,0.08741454354495622,-0.02703020926713482,-0.08658716715662267,-0.02970584341176249,0.0009834656663741076,0.05905532705906048,0.022453282282161216,-0.07787437850347002,-0.019637883211980706,-0.03516687520317654,0.008699546924195193,0.005240943290681024,0.05764560207088873,0.053130835108800685,0.03640742254361349,-0.08249916223685315,0.010546746945862726,0.012319778284288952,-0.07493220239282394,-0.015312958987023676,0.001532096231647313,0.059042333326488894,0.08219776192381631,-0.05310613621296572,-0.00939792142601457,0.0007787684548677946,0.017901455420814647,-0.007494589245990765,-0.014549965044036028,0.07490973209053338,0.049030901224517025,-0.029357142446294962,0.03460407026769334,-0.00563357615707445,-0.07911910493996385,-0.03321609259904802,0.0270581235863872,0.02345823460605866,0.0019386489607394245,-0.07419642391655688,-0.016433010730159035,0.023857155367965465,0.008271572100927266,-0.07346132915647074,0.043739590165081534,-0.0389472966064072,-0.008610337366655129,0.07715634792051666]},{"id":"chunk-7db5cddc-26","content":"We are temporarily blocking your card to prevent unauthorized transactions.\" block_card=True risk=8 \"\"\" This agent will act as first-tier support in a bank. Agents are generic in the type of dependencies they accept and the type of result they return. In this case, the support agent has type Agent[SupportDependencies, SupportResult]. Here we configure the agent to use OpenAI's GPT-4o model, you can also set the model when running the agent. The SupportDependencies dataclass is used to pass data, connections, and logic into the model that will be needed when running system prompt and tool functions. PydanticAI's system of dependency injection provides a type-safe way to customise the behavior of your agents, and can be especially useful when running unit tests and evals. Static system prompts can be registered with the system_prompt keyword argument to the agent. Dynamic system prompts can be registered with the @agent.system_prompt decorator, and can make use of dependency injection.","metadata":{"url":"https://ai.pydantic.dev","title":"PydanticAI","chunkIndex":26,"totalChunks":208},"embedding":[-0.0336099411205293,-0.0628710597418275,0.013853141482880589,-0.04539401761201458,-0.06404096126309311,-0.021058022837322245,0.017926036224670167,0.04021611919632529,-0.026826110477452876,-0.07107688448505962,-0.04000509964851646,-0.027395888651641553,0.08444923821312021,-0.025966820952821736,0.08266039708093112,-0.05795029446521905,0.037883268066198426,0.0038153842621477534,0.013266346648257162,-0.0840931789839031,-0.037424493921796004,-0.07422994097591988,0.009327815745266489,-0.00009991222058707588,0.024751262231774717,-0.026170570530091135,-0.04968105006310003,0.0715889805487338,-0.07323773450744041,0.008906019793354328,0.05329241584487254,-0.05749936788347635,0.08096591651439938,0.07225296699273515,0.011188539041485437,0.08224094939739235,0.044592495904999606,0.042646158720107595,-0.060333082835442434,-0.06148265525011888,0.03765119211468198,-0.029512932943611823,0.0032389430184149763,0.06586857332132857,-0.032889630650003256,-0.07146858668082916,0.014913960247881773,-0.048937237890337694,-0.05919036367453437,-0.011831226233565082,-0.057107627078047514,-0.003148359453872727,-0.024779024958382103,0.000626406386381859,-0.011513318929441223,0.011842754794748826,-0.07789274023177127,-0.06039246365120198,0.04527928154062003,-0.07499051410670643,-0.010021293495254588,0.0806848497483769,-0.023159009552769703,0.0764565092865406,0.06931070176777342,0.036440677422212193,-0.07037286045923255,-0.07378665819563744,0.04209618295680567,-0.08209233968238215,0.03861412963268724,0.018329132742435004,0.022706422632656174,-0.05691013286991692,-0.0593041186808054,0.06466952526766145,0.006732374493149291,-0.04864802936775028,-0.05895316423651079,-0.0387229243430228,-0.00092485496072143,-0.021972090353958453,-0.003599503478862988,-0.061324043944131434,-0.05566737159547955,-0.05567325902611697,-0.004340226801651655,-0.05787187915824584,-0.05229723402840236,0.08400078798806483,-0.01909979229877732,0.06882807534990952,-0.06398829260139188,0.08398366100347904,-0.0005831352654831551,-0.005109648878474314,0.0237468334432889,0.038638476546219054,-0.06590719956842916,0.03771919885209197,0.04653455480013929,0.03844756460197278,-0.001567158080476317,0.07358143181718364,-0.07365105823739088,0.003291561131896115,0.02193772959549986,-0.033895802648611084,-0.022404490052311807,-0.0005849050486862086,0.05041424437131136,0.041061158891048395,-0.08478287908670842,0.08754441078186229,-0.040898245699487495,0.057263984702216365,-0.008048372445085024,0.013957929082876928,-0.04496762837326147,0.039851095769455745,0.012521015367710536,0.021397428988865812,-0.05946370792874957,0.062058747278800966,-0.03809269578239537,-0.08099049932978845,0.0650068481388161,-0.08227763881769723,-0.05037620414789002,0.017494612781210218,0.010976450206016777,-0.03787630545550171,0.07489219780120517,0.04999577165618702,-0.08118030213445841,-0.034222743492962907,-0.07518259778372198,0.08459661727353507,0.001975294963976021,0.029815017639815734,-0.05222497887241624,0.05269935368542045,-0.0216851791247567,0.04664411338105208,-0.07926840301524747,-0.08781870429873735,-0.055605316959593976,0.04535574490724301,0.03048187607475035,-0.053467196285786146,-0.035917252925712205,-0.07198095387378843,0.038582128396379874,-0.0015516449128313583,0.029122752007373322,-0.005338515446381749,-0.011334191128615924,-0.05416382191023844,0.06023050795800492,0.018632204022440407,0.02001402118059015,0.050141090447067424,-0.084415782492186,0.03411083986241252,-0.08309939555530074,-0.06556051383008327,0.019243720857824703,0.03965674001860939,-0.06926849417221205,0.032163007071947095,-0.03794839408720375,0.05246450792799617,0.062228157893141844,0.02258773740739454,0.049569844003849124,-0.057949507841642794,-0.01196111143777189,0.000573616895833691,0.011608890402856347,0.0029832828843412455,0.08612524702394007,-0.01610817291295747,-0.059129982467465286,-0.07854752407376002,-0.07190238149601792,0.05255657138460522,-0.04910610826817791,0.03486819343849126,0.06252503796030386,0.08161069461957673,0.06141560919576026,0.025407007855393716,-0.04167123372947621,0.08513410917268831,-0.029656385077953804,-0.046161556520556625,0.07616630784131714,0.041584733910524516,0.05054959355272388,-0.03550861057244368,0.07944712887283324,0.010779885436677654,-0.012625786718237298,0.08442627493174333,-0.05922800503950746,0.05592547713777195,-0.006895365058370263,0.0376986164271467,0.06601085405653835,0.04592631420581553,0.010976546589544738,0.07644412191904768,0.07883277592533779,-0.0434224273405011,0.03163823965226167,-0.007547041207770712,-0.06069357790290429,-0.03207602959231879,-0.06416141567475868,0.049625394040734586,0.029808773631946166,-0.06584796372654718,-0.0851079771627963,0.014046201944751325,0.07124054169258898,-0.048570402345533156,-0.017767003942490034,0.017213632721451745,-0.030155307182938147,0.0479621144055954,0.0330476440549316,-0.001516665753676549,-0.06514518655341779,0.012807491704381025,0.0004842247725127749,0.023052646616714002,0.06896946141833629,0.0662206195354149,0.031903058082224205,0.03528994211289596,-0.08558357995306451,-0.03884478083108218,-0.05219609996279768,-0.047952087631240196,0.004450339798815589,-0.07863040666498912,-0.08649961596348653,0.08515192634127816,-0.06029821083082152,0.03544145440116176,0.006580675387310607,0.040861361100200985,-0.07291312794568772,0.00822564443341123,-0.07462089134026878,0.003045903498139299,0.051900791050923205,0.034529931709056653,-0.08525719971637247,-0.08516152410174035,-0.058668259800811945,0.03753936129111612,0.02143762975958427,-0.07495879363601424,0.015508695745328326,0.025129015389110883,-0.012353549319066388,0.008328816833029641,0.0587323947372082,-0.019170999854382774,-0.05940013909710484,-0.03857282560510813,0.07829234906104147,0.04866936258807332,0.0542298614950067,-0.06657614407683016,0.055493064544568094,0.051021463939095006,-0.05981593148085863,0.04765966907945578,0.018132796102703394,0.06417543219020817,-0.03593828241603596,-0.011615806588141793,0.08081213040161007,-0.058796065088343105,0.08135250037405481,-0.04134275010093041,-0.06792931741468716,0.01988636853236447,0.011742139984475007,0.027255128482325506,0.02644548779433018,-0.007337667570340659,-0.04933616782575846,0.03384614271577687,0.022367078482323388,0.0012911281530597325,-0.0520703609811086,0.0015756555978344669,0.02288867308506293,0.08081972663680716,-0.044306490942058054,-0.0030573750568220807,0.07722898192169468,0.06375659974170594,-0.045389353546344734,0.08744649577609123,-0.06367217670982721,-0.07935537908761389,0.0615327314226686,-0.004855906355299892,0.05119422419105469,0.0655795279520566,-0.017848430840263774,-0.07399155310003822,0.08305141795080336,0.06443003430900804,0.01955780659723398,0.01127743618949996,0.06314091952871231,0.014205162322281056,0.05926376848608945,-0.06716792898350592,-0.011138102228216892,0.07740141257928174,-0.06633008780740292,-0.01915351341024433,0.04814779612897249,-0.009943414821801468,-0.06746012002033056,-0.014525659401128776,0.030592386590697504,-0.05457605826469276,-0.07202993010592094,-0.08268958573958762,0.03480799687446286,-0.06859687880467534,-0.004328283365401485,0.006903219705648572,-0.004811412282410051,0.029422403615016152,-0.08749174355946249,0.07820455807427402,-0.011224749923034105,0.08601108524335271,-0.028494567679155255,0.06463798421252612,0.00437193807333466,0.054611442850464,0.08666731977127262,0.0010419398453816193,-0.0406595885300292,-0.028751000500819197,-0.031678740739957606,-0.016247757096548476,0.05105260346406719,0.023233478376951146,-0.07852121224634769,0.08303170041438965,-0.010314925587516576,-0.07081852812747773,-0.06599904144783394,0.051857457690945526,-0.05190086261654997,0.0720641596364493,0.009207145233756,0.03964652037023653,-0.011726714467771153,-0.07167830528210303,-0.06829852966019956,0.004690306419141378,-0.007371017800119398,-0.05968215513238297,0.037491675816501216,0.03348250316944375,-0.0592379478336489,0.040368886701510724,0.011460628292164824,-0.06217152249933198,-0.025626651358747757,0.031128993482503083,-0.039839196558231135,-0.049710904500396114]},{"id":"chunk-7db5cddc-27","content":"Dependencies are carried via the RunContext argument, which is parameterized with the deps_type from above. If the type annotation here is wrong, static type checkers will catch it. tool let you register functions which the LLM may call while responding to a user. Again, dependencies are carried via RunContext, any other arguments become the tool schema passed to the LLM. Pydantic is used to validate these arguments, and errors are passed back to the LLM so it can retry. The docstring of a tool is also passed to the LLM as the description of the tool. Parameter descriptions are extracted from the docstring and added to the parameter schema sent to the LLM. Run the agent asynchronously, conducting a conversation with the LLM until a final response is reached. Even in this fairly simple case, the agent will exchange multiple messages with the LLM as tools are called to retrieve a result.","metadata":{"url":"https://ai.pydantic.dev","title":"PydanticAI","chunkIndex":27,"totalChunks":208},"embedding":[0.022976237275850263,-0.008849928872578605,-0.08278399202459782,-0.006227862690410164,-0.06974839033601656,-0.006534311033611639,-0.0828930177604781,-0.05175844261773112,-0.014400298236472407,-0.02870979471063437,-0.00811714984330778,0.07985506245042517,-0.07064595952215291,0.023248751085444292,-0.05345646502595245,0.015509265566841877,0.038465567035051454,0.02933186384520658,-0.02238116944957968,0.08392652465192896,0.08062915498355423,-0.020528062631994734,0.012248985282226966,0.08343745974643699,0.045465096806686284,-0.07198249872172109,-0.019458606754745617,0.014436769045262147,-0.025875832652435617,0.030683637108299494,-0.0588009730274261,-0.004110182044042966,-0.07841034470898756,0.018659494300978074,0.08276167739991294,0.03549191406076568,-0.06853133721162932,-0.059253953431327784,0.06189974280914226,-0.026602155931505254,0.016061180082165106,0.06217456975220638,-0.027426808445654302,-0.06012141773549746,0.05126011016508219,0.0720302573963196,-0.047992471675879354,0.06679026294354776,0.07253757113898267,0.022023251377782962,0.029000300514073547,0.007428668658636409,0.08049764251235032,-0.021612523305569602,-0.008227908544832123,-0.05604436057975563,-0.04536533607528701,0.059549547150921124,-0.05808574453205807,0.059994358892563986,0.0540201338001547,-0.06467499937092408,0.0294084141887842,0.08398588415823491,0.047032391542892696,-0.07281406567791458,-0.038956604020522735,0.0680104361488355,-0.08538643173562951,0.022711968116637036,0.08724458411308428,0.07307451209379934,0.0727358456561238,-0.06378589520831063,-0.05121068588626828,-0.06903742310636778,-0.08187028848552838,0.03297058374196289,-0.04203530085559389,0.041543476357370074,0.08138045086724698,-0.017400313073094118,-0.03394115546140605,0.06986797919808965,0.06137067930010969,0.0031687977426654063,0.03508382098489195,0.06820452638420559,-0.048140697925521767,0.024231158021279568,0.003734156873473674,-0.021878956035112168,0.06562111924948023,0.05103934243868925,0.07257894956014535,-0.035965752053824476,-0.028548681376613934,-0.07571311937054973,-0.0036321010228816315,0.04989980670847306,0.004382521038256493,0.013553159031907094,-0.0005531887863048615,-0.06886871239031932,0.05225553832831872,0.010102063797727795,0.0628932785374993,0.02858815379567818,-0.042337768034993506,0.07394967447121131,0.03344734431664501,0.0012576341457883708,-0.05834172776274261,-0.0683676744154634,-0.0032879595415941727,-0.04290540876997793,0.06093453333731166,-0.06049776539648204,-0.017280741631333335,-0.07015257075124741,-0.08516703202848165,-0.016354065309157607,-0.017747981065789207,-0.050485757487954495,-0.009627691371644459,0.023603792986419982,0.06776708082058622,0.001238726383585243,-0.0512635452769823,-0.004808589204796511,-0.026288960563697356,-0.00251782814077994,0.08406711012855299,0.03218533956863316,0.0738101358047644,0.07153950747424834,0.07571124909532811,0.07775399898380178,0.054211291036306716,0.0032597250673358506,0.013630744924686503,-0.020716513478209384,-0.004069247405272811,0.04130813883881815,0.08265330933453206,0.0704618319626653,-0.05005459472415943,-0.022725880884204526,0.023819375535290746,0.07076251957045604,0.0794933824303961,-0.07339150427122144,-0.0037509557383497835,0.06859759323422983,0.04568076179856646,0.04990195711842438,-0.05028946990843027,0.013299019490754523,0.06938964565454087,0.02029375913954583,-0.06771310713583387,0.030918951020616956,0.0390169738465039,-0.0021185876664476366,-0.07856146231422889,0.051432425963443516,-0.024070065172210938,-0.07469022390447938,0.003265326758998639,0.06660641959306705,0.02528098216919644,-0.04964632461240477,0.027772888119380796,0.029332090010682568,-0.04410870950906504,0.07896328801502628,-0.07052962688739177,-0.07086669227268012,-0.012080880952686083,-0.01153054268331087,-0.08205292775463485,-0.0759867543999783,-0.019604865696806112,-0.04083893316489747,0.03536915286479871,-0.037591431538917995,-0.019277290579115747,-0.0869332899505478,0.01809905425576037,0.06438100854875271,-0.02479769752871732,0.019932685139739732,-0.04068741865584615,-0.06547970713148259,0.08079902829610194,-0.03744852682597039,-0.004691491820935041,0.08647108394122845,-0.010567812784964227,0.02962060842323965,-0.06238754702132997,-0.07589573059369169,-0.03656700688776125,-0.08593656064526856,0.031350723489435475,0.025302792264024446,-0.06169116849551671,-0.03501484016032706,-0.05231756953287025,0.06581062960687745,-0.06529092917861318,-0.04074540011184511,-0.061666269722463266,-0.06093973818857867,0.023581624152416183,-0.07561896523529822,-0.05431488253911734,-0.07894748566525595,-0.026402381917887883,-0.038167126879990854,0.023104523482826312,0.07491967785686691,-0.07730686034974528,0.0724640963079035,-0.06580034005119238,-0.06149094967862228,0.033315485803917654,0.01688490636733019,0.040400913233774496,0.04367044298898749,-0.05898954448792568,0.011328696906181645,-0.009353853692640671,0.00499565689583246,0.08131651917670059,0.05601264279903373,0.024852163870772506,-0.054614611048194706,0.06857036378237182,-0.0301311097819187,-0.03718155846814839,-0.04838036213545896,0.031861371307017466,-0.06827280538868526,0.07993730469948847,0.022788000048747238,0.03918276505287345,-0.0081327751971448,0.00031830350461894557,-0.08691750933914422,0.02805979706386722,0.012340541411130626,0.00329450181476027,0.031672588382002625,0.02970572106520036,0.04165501368849258,-0.03489426074589063,-0.004739146409720296,0.07213253219869517,-0.06962882884980344,0.051747847382160705,0.012428317000384877,0.018901967687505287,-0.0023126556137047496,0.02229332622445774,-0.04848784474077399,0.054592702396310915,-0.03526988804519022,-0.060283772631798,-0.05657862868554012,0.0441631157909085,0.010426396009691752,0.032300580194754555,0.04181706611141467,0.04262814180184514,-0.019842779399871273,0.004814615593004513,0.07756723550805177,-0.07686787368066411,0.08225665863201052,0.0353948055835135,-0.07919259265168281,0.04473683015642828,-0.042363675215186566,0.08221630009152442,0.01459989507214184,-0.011077447849489625,-0.07682555240524544,0.024750668138840907,-0.03404283225375837,-0.04531644267790245,0.08032164345945862,0.007936985956845017,0.035839757795450226,-0.04634392346687602,-0.02985024194240839,-0.07756438193274971,-0.046239503000441204,0.08076388533212309,-0.012757653529956762,0.07768610195505479,0.06298685838276732,0.0048767158911772555,-0.024745600203598086,-0.007172358120830561,-0.05676658002689433,0.08397767084187079,0.011615888767020967,-0.06443526737630612,-0.08140331784891,0.03322714448749994,0.00860836672207686,-0.07463784276956989,-0.0633419920761103,0.019811799861397472,-0.05069442997307102,0.014481771080677415,-0.04898282580437268,-0.07525871077838564,-0.009554643625424842,0.0652765009983536,-0.05930848977344474,0.0331548802437836,-0.08031435629172419,-0.01858080767874473,0.02947666099550857,0.01139655765375498,-0.06500950117542527,0.010157566137300162,-0.07644267892711584,0.0276062572383575,-0.004562649414665244,-0.05303058529103079,-0.06299816115495316,0.07015929294841797,0.005874833375553869,0.04727219082577524,0.03295355942198572,0.06288449668600288,0.019872679171018818,0.06593375284357107,0.01222500168108162,0.08313606643732568,-0.03814464397841049,-0.08080184336805336,-0.02982162002158045,0.0069130480002886074,0.0658388127326769,-0.057697944811737685,0.05542117322292666,-0.014457887799831332,0.004439402304169126,-0.05291157792543848,-0.01534374665696763,0.034713121205627716,0.020657835976536056,0.05762386245825363,-0.08370452934386229,-0.03274362084449998,0.01856436118908944,-0.009803903374787256,-0.0591378886112652,-0.07123166704664381,0.037678453268054475,0.0012946003736251334,-0.044785990620474156,0.06595254000713702,-0.08416103209574824,0.028928997109161823,-0.08647259938920629,-0.02918429204199288,0.08668620070561384,-0.07012797402517183,0.0287047225889856,-0.036297153787117134,-0.035484190312036534,0.021682548787631314,-0.056146406889374986,0.043532083546826666,-0.054074515209375486,-0.06429042180171446,0.07052159282748885,0.0014552640360090215,-0.008014149182653415]},{"id":"chunk-7db5cddc-28","content":"The response from the agent will, be guaranteed to be a SupportResult, if validation fails reflection will mean the agent is prompted to try again. The result will be validated with Pydantic to guarantee it is a SupportResult, since the agent is generic, it'll also be typed as a SupportResult to aid with static type checking. In a real use case, you'd add more tools and a longer system prompt to the agent to extend the context it's equipped with and support it can provide. This is a simple sketch of a database connection, used to keep the example short and readable. In reality, you'd be connecting to an external database (e.g. PostgreSQL) to get information about customers. This Pydantic model is used to constrain the structured data returned by the agent. From this simple definition, Pydantic builds the JSON Schema that tells the LLM how to return the data, and performs validation to guarantee the data is correct at the end of the run.","metadata":{"url":"https://ai.pydantic.dev","title":"PydanticAI","chunkIndex":28,"totalChunks":208},"embedding":[0.042551325735224924,0.06426946130926658,0.006399998881213015,-0.009822943813187142,0.06598814554893062,-0.08586839250180764,-0.049218673854659965,-0.08288270051665896,-0.043035419647568095,-0.06882252449487455,0.0629786584846815,-0.08394580658211796,0.030047043241907247,0.07199608700701529,-0.04564140250399759,0.07558150441488423,-0.053930113832236004,-0.06389877088534515,0.012347322876642758,-0.04055880112604134,-0.06798388606265722,0.05248181867403711,-0.025698371069850977,-0.07234160524067389,0.06220325472286875,-0.0642114298208991,-0.009309683846504806,-0.06485792883770473,0.013680313156441635,0.03722859239712707,-0.023708211462331038,0.0028601080392400375,0.04315710630990388,-0.03269241041440943,0.032897652380359216,0.07707127030622127,0.07433920774491146,-0.05519030676660794,-0.020002067348780992,0.02741462606420782,-0.005183054461948865,-0.0757971718572535,0.0631150057193655,-0.039036873862560335,0.06115517011419373,-0.03646061222842847,0.03518628228713536,0.07600714707925228,0.0778686452506614,0.06855752527717977,-0.07607029883518386,0.04963041790821923,0.0467195625718705,-0.025359897219261962,-0.014966424773108876,0.03834909218369464,0.008389639710686783,-0.016411600360693227,-0.008413157001014394,0.08573374155863604,0.05435059125664037,-0.07075132169990737,-0.03476425040868781,0.0642497257931644,0.008622645723532768,0.039567216824910934,0.023919779283917832,-0.08306281309595097,0.04483511621426222,-0.026251739287059647,0.07338333108593717,0.07594431710195397,0.06490843044439583,-0.005685746912387624,-0.027130757489717806,-0.03691006966009323,0.02487175683468765,0.06804263550758166,0.01941900801951602,-0.08163108782244685,0.019181738232899464,0.003982414895592554,-0.04932875281632843,0.022484146627411838,-0.06364637220982902,0.0755782101698465,0.024319360179300014,-0.05526072920282724,-0.05776101770357685,-0.08537280063344478,0.04352426066564388,-0.08437593899877632,0.07198941292540025,-0.025226681929348547,0.018994469882722798,0.003536577480006371,-0.03392274237216011,0.012577594573140739,-0.07300731771104194,0.05704315090744332,0.054951408616605156,0.04472335549449253,0.06664008765570517,-0.040558945159855773,0.005139432381969731,-0.05579308483531499,-0.045337731938128685,0.0005438617833070444,0.011116267731998728,-0.08499465447731074,0.04089235973834696,0.024250518861651738,0.04313860571077597,0.08290700405283512,0.0033797599583939874,-0.04723327402109015,-0.0025366209609411477,-0.04349355791706311,-0.036996532164948664,-0.07486128367402164,-0.01278093260935824,-0.06793270201185288,-0.05818386924187278,-0.04513985514252796,-0.07774577305259175,0.02289955426294527,0.07802492015554778,-0.00073229006733441,0.01827143094346536,0.05233851785390946,0.05660255569856284,0.035416003285356344,0.02617190616588813,-0.07753818961859306,0.0409685158896612,0.03131988627020287,0.044626604894834554,-0.03204330947491951,0.05722162283596836,-0.04642122236503852,0.06873169146141113,0.05237543873458478,0.06003902333350245,-0.03645476553597955,-0.010734313937784836,0.08286705500734254,0.015133383270740142,0.05008780353368604,-0.027683541324294677,-0.026102152042730083,-0.02860303030982271,-0.06227342407780569,-0.05440231551718485,0.03288196249901851,0.029371701118296057,0.07229841986197265,0.047557060018330065,0.08564027840255699,-0.04322001861791061,-0.08035937373582594,-0.009963482589970546,-0.07872077850566903,-0.06242767496708762,0.05397373702003978,-0.06860126239545167,0.08490574344748128,-0.019488583209915252,0.014396759855050744,-0.05210551835105134,-0.0071920800529188,0.015963645700875773,-0.03510000883980498,0.0774791463961083,0.029597556695899405,-0.018499765270521846,0.05121694401007685,-0.03571953848659507,-0.007883662008420911,0.037077043736523235,0.08375240178007841,-0.008098876292765058,0.038660574904590975,0.03228171251274972,0.07466321506201956,0.019232402395051484,-0.07098820991094194,0.03829149031472298,-0.07850986502640052,-0.024447501730441086,-0.07434520997268093,0.01737295704605674,0.021795325353528357,-0.042704161979996366,0.01113077705153374,0.006255383417199987,0.04536254517643944,-0.009404335629085001,0.05806580841414346,-0.006642922817041044,0.0559362646657363,0.04853189961863852,-0.023236336108877795,-0.06245973314539342,-0.01397439694667628,0.04889364533948272,0.05824261748972919,0.059703316214434615,-0.002224295492906378,0.031076906003971547,0.018361060674003737,-0.028760697222426468,-0.07533865969893912,-0.0842496142173695,0.07732243363628322,-0.06454425440578612,-0.07337284898940638,-0.049161312956000375,0.010008230424992938,-0.034982775619609954,-0.01731206271891312,-0.07505886476232068,-0.04349224669083125,0.04140825857742441,0.0780347439458338,0.08207859290525747,0.005114850762611592,-0.06202692223032645,0.024962189204904825,-0.0009271115335743754,-0.005749773532930847,0.03259778047600943,-0.0778562313070449,0.005824815946309628,-0.08221265814262103,0.08145742480846273,0.05551051797805235,-0.03867582700597625,0.048604648388268175,0.05010135397665427,-0.023717266155602535,-0.019831190081663043,-0.0000018049647692584455,-0.06330654867725637,-0.03012237332175058,0.03650562416269728,-0.0764655327159847,-0.05022969994357672,-0.010894707280527932,0.007873040327395319,0.019948426403986454,-0.02441857730065656,-0.0782664101480805,-0.05680931498890868,0.08579888495104103,-0.07805997424208293,0.030063544166888105,-0.010022541245920146,-0.07676618503363006,0.007637308818174773,0.06410332400829755,-0.007941506145612207,-0.003939531250668172,0.0007332314568981953,-0.007299985921819988,0.07668533314770166,-0.006708475764984985,0.0635179979356912,0.01913628608654802,-0.03362441555481378,0.030125590472194763,-0.05947745355408733,-0.020294211009806582,0.017492689462626672,0.08284494824630044,0.041339814593818934,-0.04329532775063043,0.07218981640567151,0.05953715327483514,0.043275253043601,-0.012490666743620487,-0.014519889790846953,0.07891034149846066,-0.07844885411436603,0.07267651329011189,-0.07920015714266469,0.04039128736905354,0.03536903073892439,-0.019005306253253716,0.0019248076261082407,-0.07894421636313374,-0.002268111054197107,-0.06161807045892733,0.0452798117211446,-0.02431633716631005,0.020543307485478796,-0.008849426186236055,0.01403899387944407,-0.048544181829405654,0.012757134809744797,-0.01435115072965734,-0.009953628613950664,0.03890135328456504,0.05921503767545359,0.040193276959254516,0.03789812592025092,-0.009919552944601805,0.08210361359237116,0.07185482829206427,0.071304283213918,-0.06433509973607937,-0.05934223127084475,0.08417984023485435,-0.01494775564670546,-0.06811700242323836,0.0339898199574434,-0.05801406229445348,0.08377325053223339,0.02943484544673312,0.06273300317804657,0.016306760866922163,-0.0054474020823626675,0.006748243154189163,0.08339847053066232,-0.001410873464743481,0.030674002282318317,-0.07776576772883005,-0.04382867298828345,-0.012297656373225415,-0.008606427442470643,0.01632887629350512,-0.0516809262598523,0.08372245050748248,-0.0647569078124705,-0.035423209973825164,0.08583763018408287,0.015673367866259804,-0.005311018063262032,-0.07772353302695978,0.012988903576855742,0.026848720893007005,0.0731907116413866,-0.03117326664065771,0.0791387552626321,-0.036810020978637,0.07994056173098976,0.07126799176114182,-0.08293592229301476,0.034762625141161775,-0.07493830088993812,-0.005770142576486647,0.03016267110313864,0.038487602002952384,0.07764272201513013,-0.03843977337513478,0.02696679087547041,-0.0667548911319583,-0.038677661880130436,0.045458183001363964,0.04026933488247459,-0.08494581683134442,0.0349362544169532,0.013138841837135758,-0.07747195339067242,-0.0802766522787523,-0.06248509974552219,-0.06767013628706664,0.037885039150200465,-0.07512904314651034,-0.07465113657850225,-0.08444441552580806,-0.027310956022929288,0.06387854994209356,0.026378548433313984,-0.06284028440148351,0.023516096493966406,-0.07223833675758277,-0.0007770609844266334,0.04949423437474337,0.046350767178571985,0.05821382162282222,0.03413868220854328,0.028694616867055135,-0.056420634653441916,0.022067412514977878]},{"id":"chunk-7db5cddc-29","content":"Complete bank_support.py example The code included here is incomplete for the sake of brevity (the definition of DatabaseConn is missing); you can find the complete bank_support.py example here. Instrumentation with Pydantic Logfire To understand the flow of the above runs, we can watch the agent in action using Pydantic Logfire. To do this, we need to set up logfire, and add the following to our code: bank_support_with_logfire.py... from bank_database import DatabaseConn import logfire logfire.configure() # (1)! logfire.instrument_asyncpg() # (2)! ... Configure logfire, this will fail if project is not set up. In our demo, DatabaseConn uses asyncpg to connect to a PostgreSQL database, so logfire.instrument_asyncpg() is used to log the database queries. That's enough to get the following view of your agent in action: See Monitoring and Performance to learn more. Next Steps To try PydanticAI yourself, follow the instructions in the examples.","metadata":{"url":"https://ai.pydantic.dev","title":"PydanticAI","chunkIndex":29,"totalChunks":208},"embedding":[0.017255923036449933,0.04838185340109174,-0.058105046929758784,0.03664247861686904,0.016527275113191034,0.01597951444348863,-0.024223035481289016,-0.02586534633342551,0.02685048383010961,-0.05781431426220649,0.0768754848114378,-0.07917473366430822,-0.017056875045847034,-0.07625459293002726,-0.0029552490997870533,-0.08103568765928669,0.05672210276140816,0.06032924612376686,-0.04781117075488919,0.038093824600971216,-0.0280716957495695,0.05187818996625666,-0.062054480098785864,-0.024987638094127386,0.058490484909134395,0.07758677011691413,0.042928062187281575,-0.004544247881817122,-0.08472685119560865,0.029987223509324427,0.01947432792428543,-0.06873963941806803,-0.07526992415340936,-0.06564600973979139,0.07892643332471318,-0.04180171491174488,0.08096078266702893,0.04381505868303034,-0.018140467672171416,-0.04239918041507216,-0.07201394425245089,-0.01040275884044226,0.018398130517462395,0.004933845891735261,0.013769102758513873,-0.036088851243562904,0.007426975622048366,-0.08248652691791118,-0.06448294802290912,0.08372191808762033,0.06682881128861046,-0.07493025943524965,0.03087585770988679,-0.005269058668485586,-0.052875327861193436,-0.07156122767187773,0.040772824786166915,-0.06755101636901975,-0.03962029483582416,0.003929211996928742,0.04451033620837329,0.070193764153135,-0.010566409777117853,0.0780566220921378,-0.04914018478666803,-0.013899883107883078,-0.04629112839880407,-0.03800151038352364,0.03432667358795876,-0.020886829320107256,0.048230531314088325,-0.0815426175350265,0.07679124896162612,-0.012492112891672973,-0.004131475744974581,-0.06483795144555778,-0.03786748342259169,-0.028695700224946004,0.0026139439271365937,0.05788393464516486,0.052431679894315894,-0.06100113856710169,0.037814043660879905,0.028794814095300967,-0.05147064433321036,-0.06897802376243634,-0.05237276269046228,-0.023856276802483187,-0.012345695167270895,0.07424599949047048,-0.011879294765574692,0.0585563557806867,0.005746625163469558,-0.001031557943192078,0.0008401369496690512,0.0596048314783168,0.07236671163046289,-0.06796123016468242,0.0012335428020679882,0.02128928504319632,-0.03496546578201224,0.07137122880376873,0.052949120809900524,-0.04672162484911513,-0.05661864954088866,-0.08121317412142907,0.08637331382803731,-0.01599233394128602,-0.059975916450399985,-0.06571845749726862,-0.011737232209579156,-0.07254693873817103,-0.07371059062361734,-0.029475886626177093,0.0755490780211575,-0.009893415467533286,0.045009867735430156,-0.06664807350813809,-0.06179705089360193,0.05898363746143806,-0.009744902490788174,-0.07987734132099573,0.055086960943871825,0.02507788522796071,0.06991998190067918,-0.025414826637266578,0.012606516660091374,-0.08630196387718966,0.07760806814426043,0.0030957218775591504,0.04061067452389035,-0.06209613823798255,-0.05343922871801261,0.032796075317398254,0.04845388480799214,-0.06739551430452861,0.053672245755517725,-0.05763347410982194,-0.04030108579076318,0.033851607253985234,-0.028443765767966863,-0.08232075178298964,0.06300799666611034,0.03227480281946646,-0.061784607766697516,-0.000830532057904741,-0.07578777387186764,-0.0696386623811974,-0.07939768279064907,-0.04457877206125359,0.07948138240363742,-0.06443233704356285,-0.06274317106536235,0.06031428757719425,0.03400951367962269,0.045125410569357746,-0.08420788483039801,0.06016784267560328,-0.0475085691052748,0.029705833532850102,-0.016077069602297045,0.0385652259204458,0.026303674617039852,-0.033789735834314376,0.012286327693903825,-0.052156181571385074,0.05386563632553206,0.028272311037790633,-0.03473653378944306,-0.012770820382177443,0.08475224603978279,-0.04537885194976091,-0.04004471533250475,0.02625885017652853,-0.04625589591631616,0.07220192209695744,0.07095968367036097,0.011578732869514422,0.006973849180927557,0.05012866895071761,0.07884535948125367,-0.0782624585494284,-0.04769449215594575,0.022532100520053774,0.06733652102945845,-0.05766413053792918,-0.0435858929616707,-0.03264700786076204,-0.030138421866714223,0.06605293847535768,-0.08481664755554777,-0.07440668534344344,-0.029347198928452455,0.010790717871580435,-0.021810653395134133,-0.060690986886754325,-0.05977133318203592,0.009257549564875246,0.08345629063708616,-0.029842951347475274,0.011400401059032417,0.08338199743783219,0.025272564015845433,0.0293848940437115,0.0575877379763447,-0.044416394112847174,-0.07866321980973243,0.011989075911445268,0.03125404940303825,0.04844379063631599,-0.010587421831748718,0.06318505078595964,-0.08370216924091968,-0.013481115667330276,-0.08614925391744628,-0.025059353280408824,-0.06802444862596216,-0.005998925957042999,0.03529045066550074,0.04230299031462176,0.022439281388699946,0.009516783267113022,0.028002714424405946,0.0570578398546027,0.08098711801599502,-0.05500002889075646,-0.012504485252559226,0.027275615655724374,0.006781350420826905,-0.0032659085273094553,0.024355982557778946,0.005539320599469229,0.06950094919663091,-0.06962360994453065,0.020879674323495034,-0.07061616606729106,-0.08477351041614965,-0.08425425233296989,-0.03511603028557954,0.0016793803211429112,-0.05355416158733629,-0.05510547330438258,-0.043708124959397736,0.0495607577626014,0.04882938001767428,0.04834227985665881,-0.05176482189234618,-0.018822342863743326,0.08427648790082931,0.0287127647905111,-0.023714441746580897,0.03264691228241968,0.050024489255057765,0.042841734885754504,0.025135839567086368,-0.04723905034912093,-0.07192173264023287,-0.01795352335112243,0.023989076600189,-0.02919746064794287,-0.01580594611610539,0.07286348740860525,-0.05802588821261269,0.030300496826514502,-0.0187436941521225,0.025364458957323595,-0.07006244303549747,-0.05473895828496271,0.05998846636620474,0.02016692622940392,0.07403699500671639,0.04954384746346752,-0.04437219426885687,0.07164424354954553,-0.08180271408991194,-0.019871739342000146,0.0737144255462484,-0.05795619939633813,0.06324840036669145,-0.0678602589832761,-0.07799023277427128,0.020069178210465874,0.04905300415187382,-0.04392595801816659,-0.04674900780384632,0.030958395257360244,-0.008908530135113637,-0.06118480684857097,0.03679221857589546,-0.03686573591827184,0.06725467388871206,0.04995026608420245,0.05525592025367794,0.08364935841541643,0.025468874329171904,0.03738992270761917,0.07130135998852305,-0.0752468537978296,-0.02138498654221899,0.038875670466751416,0.005803506761502502,-0.01659467531098045,0.07448388614461,-0.061802077944971306,-0.0658147841904571,0.08366367822873108,0.022385184780610853,0.04541082624422794,-0.04536881403391661,0.057707804116760075,0.04988127923397013,0.05254997494130271,0.01591017704785272,-0.01758199326990099,0.047702094875947364,-0.08229520616884219,0.07950164017471606,-0.015041210457157566,-0.018832859239219246,0.07039385743292172,-0.008015730503855597,-0.06797229861091185,0.037019638512471136,-0.07573179429236668,-0.01409353049612404,-0.018004357685136002,0.06728221817615905,-0.018389203953237652,-0.04217598332182055,0.08528393181734176,0.007765209266872033,-0.014730499564555364,-0.015928223001752718,0.00867649160427327,0.03633411037048937,0.054626754264247186,-0.03813557464472486,-0.05374168051551026,0.07624141380765835,0.035375052145820866,-0.07530061610166942,0.03361745377494609,0.013306725185535592,-0.028142465263004346,-0.01811143981092832,0.00018696916098723246,0.07035919734504191,0.04588986541239963,-0.05464743632264507,0.020274577052270423,-0.06642642565392046,-0.0760295708766789,-0.05032859532168403,-0.06796051150783679,0.033165946383589405,0.025127740898951215,-0.05101716895989438,0.012873648848242393,-0.08288442042044497,-0.021265132600145766,0.02514267670962206,0.07339772237331327,0.03788154861642274,-0.06304040711993336,0.006691113974258505,0.07699610174789329,-0.06321758173802527,0.0691053575284351,-0.07096051999811756,-0.02131033085630405,0.029103673712857738,0.08435113269466803,-0.042817075824409134,-0.07433833271443771,-0.0007370791967593696,0.01766344131478325,0.07244348615445778,0.019941078614869785,0.028083655381370413,-0.01303151286673588,-0.03155961257011642,-0.038649875519192196,-0.03685988142187741,0.03570717145740616]},{"id":"chunk-7db5cddc-30","content":"Read the docs to learn more about building applications with PydanticAI. Read the API Reference to understand PydanticAI's interface. Version Notice This documentation is ahead of the last release by 2 commits. You may see documentation for features not yet supported in the latest release v0.0.27 2025-02-26. Introduction Agent Framework / shim to use Pydantic with LLMs PydanticAI is a Python agent framework designed to make it less painful to build production grade applications with Generative AI. PydanticAI is a Python Agent Framework designed to make it less painful to build production grade applications with Generative AI. FastAPI revolutionized web development by offering an innovative and ergonomic design, built on the foundation of Pydantic. Similarly, virtually every agent framework and LLM library in Python uses Pydantic, yet when we began to use LLMs in Pydantic Logfire, we couldn't find anything that gave us the same feeling.","metadata":{"url":"https://ai.pydantic.dev","title":"PydanticAI","chunkIndex":30,"totalChunks":208},"embedding":[0.06995917869292044,0.024774931989859313,-0.07169014416869474,0.08543319496963964,0.00347286376150647,0.058839626831607206,0.01876919356942903,0.0368815064957099,-0.04559524245028396,-0.08128207613772478,-0.07252826319325523,0.012683412329713836,-0.03936380209844382,0.07842915703149185,-0.06237891960330028,-0.08145579009216482,-0.002537495623435369,0.03026329333575164,-0.06693213647826989,0.03584761962620388,0.052959131001679906,-0.0036659529033122927,-0.019058198496617853,-0.027634800008352046,0.08109930177529637,0.052656332566984654,0.02560527730655097,0.046402236349522084,-0.06743536196271425,-0.03664701682196451,-0.07570725577375154,0.07763542039079743,-0.0016116409846141527,0.06717359157545408,-0.08072397378892415,-0.0631151854606996,0.042688773266976884,-0.05283936349477952,0.005208964671997803,-0.05375236933750427,0.011520102239989258,-0.008403106906395612,-0.03519698289836431,-0.03845468327972363,0.07259158749106588,-0.08039952538406818,0.04390905664178127,0.06540052102017399,0.07379623961107286,0.06193831888195065,0.018234007608572626,0.06186288763174061,-0.0224098216618206,0.03603551825067729,0.06927499300569366,0.08073540481063735,0.08083284340364186,0.035174329484515286,0.08333560982140145,-0.03012220720874145,0.02359716006989315,-0.016275872669863446,0.08375353074787349,-0.0687396847350995,-0.07613095335283734,0.04306176292384558,-0.059200723823016596,-0.04652281193657235,0.04134217867959885,0.0785207636771475,0.04424029836968229,-0.03879379656313866,-0.0443873269775957,0.0586922180958621,-0.005282299704451333,0.08575587911961086,0.04312652887621882,0.0613652845449741,0.0384834302265663,0.0042026389554962375,0.02836165502932166,-0.014049674220881513,-0.08271705211572784,0.008285932404239716,-0.046729979624254986,0.02207273060429551,-0.06473189005392972,-0.01008739196096818,-0.020073333373669386,0.06467001588702426,0.008037093136507538,0.03181543188859948,-0.03605132445959729,0.0562903151939253,-0.025663755981091368,0.02094158971798686,-0.013180775438591719,0.0734673914512986,0.008002667523476645,0.0231244950964029,0.06812714786735859,-0.053824051930126196,-0.03226709029730691,0.01255191068110434,-0.0014099276777019933,0.07687064687483443,0.0500497019591656,-0.022873074847821126,-0.05843635918548914,-0.06054688589951084,-0.008210074456986856,0.024905818695589783,-0.01974311206728735,-0.050666124235249695,0.07515296763686899,0.05822455953011486,0.018681904655967287,0.042855727098962966,0.07737889523768972,0.0041928021225892155,-0.04907555586346619,0.011158029298946113,-0.05644813453174612,-0.05989699877119369,-0.07233546103370526,0.035034085804836086,0.057557826768522384,-0.06595534508187177,0.0784253741529506,0.07001960502441187,-0.07250272542420515,-0.0034643546358576237,-0.027292189648949916,-0.048763226139724294,-0.006143999281473948,-0.02292913379320473,0.00973122352435807,0.03979039378373204,0.0661832512147458,-0.07652316294015776,-0.01450739359078551,0.02532914227364134,0.07890033534403094,0.007616987686102484,-0.07293877041130407,-0.006635182417474817,-0.05863522063293369,0.0432576387035209,0.08549711530223444,-0.041868393246323264,0.006360318110850936,0.010006860060072871,-0.05868545754528807,0.029627114443960236,-0.046870610089754454,0.005860327287124134,0.06955467960990278,0.01754261543595972,-0.045092617813133305,-0.005309008025449269,-0.05739504891800136,0.07889651044931727,-0.0034395647375040778,0.011092883639825224,0.07610835123439509,-0.07889430352484943,-0.0253462302598291,0.07983236237398195,0.07969116100395927,-0.0745943006639202,-0.08179324565639101,0.0750350934094755,0.0401051001977444,-0.04594016925747893,-0.06612464011782594,-0.017831290758347468,0.0593652488105178,-0.06755491112162902,0.001964503282757875,0.06585278040850744,0.02982090164932385,0.010498809776582277,-0.04418139912113354,-0.04881401407422219,-0.023147734270585203,0.05819554707559743,-0.07235157353475505,0.029733631247724424,0.0071143589237588475,0.013894214207852293,0.009858127384796803,0.058527726366024234,-0.06984422174838376,-0.03436606091254111,-0.0451399118948137,0.038912063653388056,-0.06931460944975822,-0.03204375186095928,-0.011257770836517685,0.06042120301293947,-0.036067534904033256,-0.05388360540537401,0.037190271584061234,-0.055143286457270374,0.06527927312042854,-0.01488353891225882,-0.07850541553711993,-0.06005170392347232,0.08341264640143738,-0.03199299518040356,-0.04536927970554666,0.06904958172662966,-0.03830002872881275,0.005400050612250099,0.02580311407726393,-0.079325120539165,0.008446576803256929,0.009942349759616491,-0.05310916839984535,-0.05226526558145011,0.07601340615587991,0.01656674150600043,0.03279226324637392,-0.05443518619769893,0.0153512427957048,-0.033358096711072587,-0.0050189896030988475,-0.059041710066689894,-0.03601963994213287,-0.006280929428011786,0.061915151574047325,0.08514545999777155,-0.031665137546415326,0.01732020640676285,0.006307645850913833,0.05473768413301687,0.040343604283836994,-0.07955622253414847,0.07028268259290048,0.07290975064354543,-0.08286497385826191,-0.0741722038403371,-0.08231317355408564,0.007965043639700261,0.00783404183559777,-0.0846942772641109,-0.013952854159642564,0.08280656758368067,0.03490827031251721,-0.07535296912529689,0.021573880468083166,-0.030827404125817495,-0.017656482818367576,-0.016279172007523508,0.05096711506901869,0.07058997406277283,0.08545469019128378,-0.06606904950367348,0.04497876296403699,-0.005375273351631447,-0.018971419377672494,0.05617893870029244,-0.04086187370750774,0.06671945826732785,0.031237109328914325,0.039392797954664785,-0.08579469076027874,-0.04690820109208949,-0.04247936442262347,0.07900709292020675,0.018341101291334216,0.07442974133109075,-0.05020170327626007,-0.0017905179371865533,-0.0449793303209099,-0.002719287336593634,-0.011900329309314488,0.013204222551323256,-0.0639370344964817,0.028106919278469557,0.06183676141086873,-0.011459305418738169,0.010342250263918997,-0.051274872376643375,0.08040959251506556,0.07446083891833927,0.07613025498596576,0.01274488497344517,0.02868913787047693,-0.06693800564402005,-0.017359409523467838,0.06527518530159705,0.01676454062531186,0.06066325813355472,-0.05083123778477775,-0.06747891341029777,-0.045218474301772164,-0.02765182537737155,-0.08618047687915006,0.07489055463134059,-0.07150724500624316,0.05964547737818339,-0.014817857164279262,-0.04155241360098171,-0.04473351690571243,0.08362480927966208,-0.03668002787437421,-0.0044066718390017605,-0.06630553993196155,0.009019920202796463,-0.008916294885086457,0.08043561249767561,0.01998952027240066,0.0013656287347227844,0.033076935787389045,0.016007986566956633,-0.0629341826670635,0.06545244929034548,-0.05772112160579693,-0.06549054543988712,0.0715350060244362,0.011110054538442802,-0.0232730207595073,-0.025300079340778957,-0.014825937099464061,-0.008758038096812117,-0.049900740607320665,0.020316285759272412,0.08296248067264497,0.06772331163151346,-0.061804521241550905,0.0667094392591918,0.026491217574413837,0.007429434781337404,0.03566976810461016,0.06601313426505556,0.003614361682104272,0.039203343877727385,0.04638952377506704,0.008666642306001856,0.010189760551256786,-0.06216353453181698,0.05517376989806396,0.07238747368600457,0.0028602260353841075,0.04176726681906319,0.028280881725221616,-0.009237841298992577,-0.07158693957692436,0.08308703646359346,-0.0477503242912552,0.08057217042778379,-0.03549144073314678,-0.06654660901448647,-0.08143954223923706,-0.025282317927106123,0.021699812933690735,0.07723410709664144,0.04647732967163689,-0.0527639297959515,-0.07161986708904117,0.016711485903226325,0.014239319627867973,0.0653559634424114,0.051514776249255205,0.020600860662919808,-0.039029103091379,0.06282192969261076,-0.026734505409135318,-0.0776121667033364,0.06477634937589842,-0.04788973628724478,-0.0680757519788206,0.07649905119797402,0.012302891183204556,-0.010494381683265844,0.0014030460432279256,-0.025851858410324426,-0.01863230773900374,-0.08618569487166322,-0.011885604656850178,0.023538152393445498,-0.03406834748940866,0.031619989445630485]},{"id":"chunk-7db5cddc-31","content":"We built PydanticAI with one simple aim: to bring that FastAPI feeling to GenAI app development. Why use PydanticAI Built by the Pydantic Team: Built by the team behind Pydantic (the validation layer of the OpenAI SDK, the Anthropic SDK, LangChain, LlamaIndex, AutoGPT, Transformers, CrewAI, Instructor and many more). Model-agnostic: Supports OpenAI, Anthropic, Gemini, Deepseek, Ollama, Groq, Cohere, and Mistral, and there is a simple interface to implement support for other models. Pydantic Logfire Integration: Seamlessly integrates with Pydantic Logfire for real-time debugging, performance monitoring, and behavior tracking of your LLM-powered applications. Type-safe: Designed to make type checking as powerful and informative as possible for you. Python-centric Design: Leverages Python's familiar control flow and agent composition to build your AI-driven projects, making it easy to apply standard Python best practices you'd use in any other (non-AI) project.","metadata":{"url":"https://ai.pydantic.dev","title":"PydanticAI","chunkIndex":31,"totalChunks":208},"embedding":[0.0766111567968011,0.029343484537290486,-0.0017787454835805998,-0.047571232236973605,-0.0627738560290386,-0.05642486579364401,0.01942906521990928,-0.06891286140829184,-0.03818346123304306,0.07519272480092647,-0.010639336568540072,0.07315342217277816,0.06650217006423123,0.0036413727754848963,-0.07204468966749558,0.016860752416934723,0.04142215310893636,0.038678876762503124,0.08369080414440652,-0.07582258232965616,-0.03993939367209846,-0.010683431273505633,0.03774977709362433,-0.06465643814741256,-0.058610430518614656,0.0015465987955501968,0.040399567161046444,0.005696745352631787,-0.049697733628221295,-0.08603083181497384,-0.01814848723794158,0.07233104689224402,-0.07086982626323776,-0.024973321239199042,-0.055915416486175804,-0.004744509737904351,-0.042730311154982666,0.08054880729855231,0.05953710984849949,0.06774754259687424,-0.05617225807814216,-0.012599766973436817,-0.010987508579129203,-0.01676846127363354,-0.03256828149469241,0.0451223407480605,-0.0459041178816814,-0.06496395807760376,0.02861492405469802,0.018436705116640615,0.004587876669662538,0.027491895124428397,-0.05301799063847195,0.042288704272853375,0.01774875519444852,-0.08577315599237462,-0.06018021705463239,-0.031692677920682574,0.06382502628054038,-0.05521311070137383,0.05191632158276372,0.0773311552789114,0.06020524448633747,0.056141329637304074,-0.004228825316991842,0.03153313579243506,0.07982015573188664,0.029852034584963324,-0.028541963987460502,0.06599163748209148,0.027819320546795687,-0.017149592344210984,-0.05745717765659312,0.07227934749079187,0.08028316595051269,-0.07305111227856971,-0.002639348911523519,0.0854933911450583,-0.06431087158097654,-0.06691633250009672,0.00973543632837672,0.08077215332340486,-0.030498241738609048,0.042806574575006945,0.07557767139475147,-0.055190693474301715,-0.08619894918613208,-0.032419920780494785,-0.00643141014170326,0.011660510699447601,-0.06430586944103883,-0.005318934349548052,-0.03672221237923038,-0.008381985309695228,0.0365964453145821,-0.041042858818749285,-0.0647803484278243,0.019021079288885127,0.025664446110352287,0.02688045367811458,0.0853605560603011,-0.04444131408226826,-0.0064024708567425115,0.0141972549571789,0.048523652356935836,-0.08222701988659753,-0.004957690067025443,0.010126414924400928,-0.06353889757530203,0.018239232029196608,-0.01560329489050475,0.00348114946592268,-0.019415822450119215,0.056156061955478745,-0.002366531310951089,0.05698002999857958,0.05718165320492178,0.0516280639304499,0.00764619855297012,-0.05179974981541299,0.08557218412886858,-0.07989135223179522,-0.003994495376650591,0.020670660488456758,-0.07283690502820116,-0.056063180214338766,0.0667412160924793,0.04004847333869548,0.071837062295985,0.07868301060483926,-0.06338768209760569,0.012197334175336185,-0.013190595692212164,-0.0758976205653831,-0.06654823262428335,-0.04664529889949369,-0.08261264861632815,0.045064862413664364,-0.05054265599416469,0.06818456969588434,-0.0825502376036064,-0.0020642138298766584,0.014132543594685952,0.0746165282888682,-0.006237545605609506,-0.03427613375365318,0.054460127507047,0.04372744812830508,0.02956910707146301,0.08461789654599298,0.06999761301620602,-0.038349578511679284,-0.05137701734785427,-0.060076907944555814,-0.08023242721689657,0.03368893887841539,-0.021664866628219363,-0.022550266246478354,-0.053879206363230354,0.046124986466927066,-0.057310432358000214,0.026984439013314047,-0.054423638042944554,-0.029043837066554657,0.020126173944753342,-0.012137772145098912,-0.055679025729890946,0.08524315071343529,0.06253163740158862,0.02390386907226235,0.0077878457564865755,0.052391222426201894,-0.0766385056313733,0.04105460037054162,0.06354880457014687,-0.045944346317657585,-0.0486804999204314,-0.05002331943831839,-0.06220050396684109,-0.02175321311015864,0.06727234117647309,0.01569276354116063,-0.07789252077090267,0.007593634039119565,0.05707005279267731,-0.028313787082249922,-0.01565384702195574,0.06607095496218338,0.018223550260237257,-0.0010381191483104229,0.06591618350856351,0.024609232192727485,-0.006455272434190098,0.06741583736454276,-0.050765941653204374,0.08606966516735724,0.026089275710519638,-0.040377073569564444,0.054373459279485926,-0.04698129038753373,-0.025718392456932884,0.007671493036329762,0.041934156615650385,-0.05917318482470885,-0.06221835581527809,0.0009514496599392797,0.07576016378643834,0.0025086466311203246,-0.027724897736497882,-0.06497714637042505,-0.05492883536535772,-0.04580276461608779,0.07879554433099024,-0.015651974932253863,-0.03340451608120787,0.07263993744537121,-0.033988897018322126,0.0017080096008390134,-0.04421660315818082,-0.024835278897574635,0.06364061482915152,0.08413886524452638,-0.06083404522496345,0.06415901419984735,0.07182760408001065,0.08550238554537411,-0.03917271412344954,-0.05297046816150888,-0.00015988693022232414,-0.06696449848627982,-0.06233369638943781,0.009951326308191346,-0.005737320056637343,0.05526231351444065,0.01990600595157002,-0.051856316106129334,-0.06088989155191707,0.045946876673706186,-0.013013853759286084,0.0409893465497349,-0.009965758011194288,0.06787069789825528,0.03922010219703955,-0.06078415051100429,-0.02200513037808811,-0.02058128999123691,-0.06401668345501825,0.07666178148124178,0.03624162476661264,-0.023705288429118183,0.06234320099537687,0.05003882966328028,-0.05942586561188211,-0.0746222992326935,-0.009746192653369148,-0.027312751991048122,-0.015940112208196983,0.006462129768307888,-0.055579401221941147,-0.07904047827022587,0.018105466475005133,-0.041939685198907235,-0.035265003564534575,0.08497978488752568,-0.017428768078533607,-0.0237568846793601,-0.07201928387645742,0.03350655583567936,-0.06483913522459182,-0.0810714154337027,0.07176835816306253,0.05617524893639808,0.08159148379462391,0.04738841492292087,0.04815112143230783,-0.08496578838481403,-0.07016468215230699,-0.03808428182156672,0.08080937607495592,-0.021766481474383256,0.03762241624971941,0.027570962239887038,0.01984990366461378,0.0014403105734248436,0.006564712313360151,0.08269508850706482,0.0430571039646829,-0.002362604468648701,-0.0009562448105327104,0.0702040746002835,-0.03085661302837497,-0.07346334390199451,0.059453461888236414,-0.04405838746936143,-0.08542472927304565,-0.05191490140049876,-0.07658882891816807,-0.04988325826772626,0.07196084525796029,-0.03155186599646031,-0.040951807952473586,-0.0736935671097204,-0.05764850459235472,-0.0650046478589687,0.07054487025413066,0.08022174284343957,-0.07564066593508616,-0.05213090362842126,0.05687256517378924,-0.03407840538673114,0.06720688518212423,0.05390844773624319,0.006591438254016109,0.04307422290989301,-0.08410767636952128,-0.013036345822065304,-0.052006245189906375,-0.03732482649115331,-0.02756304642347228,-0.03730799447850124,0.005331083386994379,0.06363207169939486,0.06785930427653342,-0.06620300383991196,-0.05698163953823666,0.01975520810642039,0.05689842080691305,-0.030240133704199285,0.06913330344085764,-0.005316343326959465,0.06226072004216684,-0.038749644833972856,0.04699166714234076,-0.060193960629547454,-0.03545104638458067,-0.0014827163207230553,0.0014624241981390142,-0.0570196049856882,-0.013192528413540494,0.04865927959447792,-0.08099264622789157,0.00036510578497128096,0.009851311595374298,-0.0580862358282884,0.012040667566839818,-0.07507570365591852,-0.03869202530050017,-0.06530199214605284,-0.05824603970870842,0.020878032767884757,0.013794932532643233,-0.08171145005048898,-0.05496939406091984,0.047608555091665776,0.0022257012236888665,-0.051929268525155295,-0.05452869980646784,-0.05011840255567855,0.016676149999189076,0.08128563572188298,-0.06520573655720094,0.01706084570310867,0.05744503068775402,-0.01069864045301592,0.055982480502443366,0.014833689606597438,-0.02726659114400099,-0.021111001874260165,-0.00047829812636895463,0.030071554530873422,-0.06538019046397003,-0.051879346484908134,-0.0014595301031720745,-0.03301421312277848,-0.07916500546115882,0.008218780966466898,-0.041136020408903295,-0.06202550285354098,-0.08228617047610516,-0.0619940229123332,0.02897696260299885,-0.05934081161270871,-0.056688302857636874,0.013537265880456192]},{"id":"chunk-7db5cddc-32","content":"Structured Responses: Harnesses the power of Pydantic to validate and structure model outputs, ensuring responses are consistent across runs. Dependency Injection System: Offers an optional dependency injection system to provide data and services to your agent's system prompts, tools and result validators. This is useful for testing and eval-driven iterative development. Streamed Responses: Provides the ability to stream LLM outputs continuously, with immediate validation, ensuring rapid and accurate results. Graph Support: Pydantic Graph provides a powerful way to define graphs using typing hints, this is useful in complex applications where standard control flow can degrade to spaghetti code. In Beta PydanticAI is in early beta, the API is still subject to change and there's a lot more to do. Feedback is very welcome! Hello World Example Here's a minimal example of PydanticAI: hello_world.pyfrom pydantic_ai import Agent agent = Agent( # (1)!","metadata":{"url":"https://ai.pydantic.dev","title":"PydanticAI","chunkIndex":32,"totalChunks":208},"embedding":[-0.009553868619240107,0.05798520954967318,0.06697626879876299,0.0034799164591508636,0.058421086645615024,-0.07034832042097323,-0.05080022186124155,0.06968504354070171,0.06653299993609074,-0.08269437322156793,-0.030807616839943788,0.03964405498469702,-0.05157969042208596,0.06965621340856837,0.02920007459816432,-0.04466244402081827,0.0831728025397266,0.006671182340023357,0.039703948382297814,-0.016580940712272313,-0.05086220252648599,-0.04576896913923724,0.006307982582002487,0.06423403132136457,0.018700779745940838,-0.017281494810800074,0.0023188535901829755,-0.003414398657990245,0.07810017030870645,0.07508675752104033,0.037788371082768744,0.011712017565463572,-0.06848169142877733,-0.05669738578950699,0.05626812561335317,-0.055240305625505595,-0.03200445284760034,0.021226040389762103,-0.01582710548214947,-0.07221885920318775,-0.062339979644063376,0.08291488753182076,-0.04097179177049581,-0.005114654367012742,0.046375582234540066,0.04058465939884318,0.06413504986586134,-0.027552904646746163,0.058537924165648056,-0.07256699491195676,-0.035339111274573724,-0.008100037636925777,-0.010731194255498554,-0.024213757660407238,-0.040127007532814486,-0.04003305405798139,0.037680018608071644,0.07761243925848701,-0.03776826059579685,0.05688421418143376,0.0801393155848782,0.05547379442914241,0.04797505945643049,0.06294954085645853,0.031943536697165424,0.07458575553703521,0.021888816403332317,-0.033293900694047286,0.023116177481607592,-0.03950815901038656,-0.07061844766330624,-0.040320207290762626,-0.07670760578554314,0.06880535142574958,0.021055243577646578,-0.050582210548535726,0.017020174158539625,0.0817287905294333,-0.059383384767755655,0.03311817083250758,0.009238602334479864,-0.02085130450381923,0.06350063621268068,0.04445449228464999,0.004521064933619707,-0.0809034037264576,0.07717426116223478,0.006078831641920275,-0.041699280101943105,0.0844221920473896,0.060501747993172775,0.04920929531639849,0.03342928814989363,0.0011310973093236658,-0.08250555128026404,0.08291288019152473,-0.06762833198430956,0.04367278689111703,-0.03226168546383,-0.0694646937570045,0.00785530791252176,0.0628352154783712,-0.05129956504673137,0.04163191254607851,-0.07515701777908321,-0.058574242053204585,0.07361337354000146,-0.02937415352011508,0.054177011203684386,-0.06582575611062619,0.013533428712122474,-0.024728701613773944,0.023611170100613935,-0.002175329809244142,0.053532433316115874,0.02141353135303306,0.004071010774280359,0.0622649475631368,-0.0205735999462482,0.044063005398291846,-0.08385234038230441,0.004319861475842444,-0.052003892914625975,-0.02571363648277823,-0.0069394538583062776,0.049599795594416934,-0.045317497780345904,-0.012210548802297811,0.05852387930186876,-0.07158412578339568,0.08288141433858104,-0.06639669434947842,0.06214066943675783,0.02475934481617056,0.06550103214078007,0.06891125507838629,-0.020889974122378786,-0.0284832215874653,-0.028518361096672558,0.005685705251840905,0.07479929802935632,-0.04186408855154803,-0.008651603167468082,-0.05726656682476788,0.0209649942876356,0.02543565356300146,-0.003403555611352151,-0.08189612360873873,-0.041718179417693846,-0.0028998004178860727,-0.06227578438714306,0.04369943984562642,0.022113606970612393,0.05197140498685196,-0.0149755018629769,0.08470939650101789,0.01076207213471654,-0.08013508546811168,0.03905402700083393,0.021248728703408493,-0.013297966897772314,0.05264586050760864,0.07369982997672336,-0.05113453672101586,-0.02979883069458809,0.05950307644032047,-0.08365842196561808,-0.0620412194928787,0.08131619789201275,0.0542030249560402,-0.0036406273066598304,-0.06506651359012677,-0.06123988436250276,-0.05657017840004232,-0.030187714613529645,-0.061946537196357856,0.014411244889108814,0.03677463551476853,-0.08133416638003188,0.03644490655441512,0.06133345022458119,-0.0008819287030656271,-0.049246403579017585,-0.06699335308990022,-0.08400270668354595,0.065901723458332,0.029098631830192925,-0.012120662307367126,0.069231887856637,-0.0343083246895491,-0.05589175118147761,0.03452884690021507,0.011621124858334128,0.045296720614065304,-0.028869372392852147,-0.05997321625366054,-0.057847793752872675,-0.07240972402328139,-0.06000870177379996,-0.05011599549174667,-0.024850620077119495,0.06157020405893946,0.06004588548921966,-0.0314442735316732,0.046989608254149245,0.036969648785698826,-0.045036163646647885,-0.003288175929149449,0.010978420543134693,-0.08378551608533713,0.023271821651411558,-0.07622587575215432,-0.07389268813574716,-0.01545502393291877,0.017670829357681623,0.06313935366494874,-0.006063501974323047,-0.03357693445729413,0.07128505820515,0.01016409900617722,-0.01855066288123718,-0.04399422457407671,-0.030809477204661883,-0.04344119054784882,-0.06396349365445395,0.07455603613312166,0.019349418140439615,0.03782221008525451,-0.02521339464487816,0.03402638298030395,0.07922025987305638,0.057227465201355,-0.024914770695820973,0.05393695807144532,-0.030712906999015955,0.05950423875084469,-0.08413976807625863,0.07859981754923898,-0.004958019315889309,-0.002817659856142004,-0.009297785399014498,0.07994750199896182,0.051797592440361126,0.07496748180891254,0.07724975586644196,0.0784861613471615,-0.049021898726220904,0.042610360130650955,0.020829001805014208,0.012100048269452416,-0.04617687552649233,0.010936545082133963,0.04033004440081484,-0.07699154059476383,-0.06335813588452065,-0.06879556287953587,0.028897380787611268,0.0021777862433188383,0.017811589304601826,0.04009569087609273,0.06303783029873351,-0.00048198826245063477,0.04094131330494725,-0.02918698552205901,-0.04014210238623779,-0.04209590195832351,0.056593764103649066,0.0037456955003798273,-0.06143565906578302,0.018547709560257017,0.0016618645361444243,-0.016430859948133043,-0.07941868489107087,0.03911718738019404,-0.030108108876883404,-0.027917596081059898,0.07071922658087339,-0.048995333976947976,0.08037733041006333,0.001327709460452856,0.011499339974776406,-0.08039685867879973,0.0006128942218831677,0.043236034321518055,0.00451442050863241,0.008592049389825515,-0.016015584151576237,-0.05533669749901757,-0.03211715127954185,-0.03391793894905688,0.05613510289712855,0.08292392024951038,0.08376091453287325,-0.02525604497454003,0.06106748260813432,-0.01511986702408633,0.06026997339655783,-0.08116827133077896,0.0037637985545795794,-0.04044473310427166,0.04162388325241671,-0.07104534676643598,-0.003857274991153759,0.04325887226539459,-0.015008687834379947,0.04467417932533888,0.041971316396926105,-0.019308995694449486,-0.05360396459335419,0.04816571889529448,0.02038266488118189,0.012573928692241412,0.06433749734850633,-0.008423854381236776,0.06199528106128342,-0.05649239095048767,-0.06750198886776472,-0.0821146957868091,0.0387962405148237,0.06335777402478586,0.008872205133508516,-0.002549514961714864,-0.05407519274712632,0.038105526696765354,-0.04068394419316958,0.07035701481547577,-0.020943024540386462,0.0763100238922992,-0.009653988412188466,0.062481673329318484,0.07949226140056637,0.0628762076935476,-0.022562533472715283,0.05975224975349404,0.040391016312273306,-0.07098172874716382,0.07141358190069458,-0.078547542680832,-0.07232533166938536,0.08189123074092919,0.07297481036314817,0.08246576046906749,0.06218119759154588,0.007965884363406926,-0.04407589366451704,-0.07341144755775951,-0.04780813544272068,0.08029450750593277,-0.06155815895055894,-0.06620144553074565,0.06755998828713675,0.03063764397389106,-0.062019967285421966,0.06272975049899017,0.0398278954675218,-0.012646794547669628,-0.031146649265223203,-0.01577373361582137,0.02501121890777223,-0.07883596955771713,0.019796768431396394,0.01658886456289884,-0.056102442021212846,-0.017644220796738778,-0.0479478204433379,0.024329152575136768,0.08399748031851725,0.00808289610152543,-0.07041155290448578,0.013480496379340765,-0.07835042699888535,-0.07519877740773731,-0.04493057533446442,0.08086778231947482,0.0015478301120822632,0.08393465552693956,-0.07334870737242015,0.01548332567573017,0.07843143338942653,-0.06991000073785524,-0.010831857921920386,0.01851094878791785,0.054036531901515805,-0.04422746204766497]},{"id":"chunk-7db5cddc-33","content":"'google-gla:gemini-1.5-flash', system_prompt='Be concise, reply with one sentence.', # (2)! ) result = agent.run_sync('Where does \"hello world\" come from?') # (3)! print(result.data) \"\"\" The first known use of \"hello, world\" was in a 1974 textbook about the C programming language. \"\"\" We configure the agent to use Gemini 1.5's Flash model, but you can also set the model when running the agent. Register a static system prompt using a keyword argument to the agent. Run the agent synchronously, conducting a conversation with the LLM. (This example is complete, it can be run \"as is\") The exchange should be very short: PydanticAI will send the system prompt and the user query to the LLM, the model will return a text response. Not very interesting yet, but we can easily add \"tools\", dynamic system prompts, and structured responses to build more powerful agents.","metadata":{"url":"https://ai.pydantic.dev","title":"PydanticAI","chunkIndex":33,"totalChunks":208},"embedding":[0.008100435002019991,0.01697550995684778,-0.06869564927695253,-0.0033182801258794564,-0.06294265000152945,0.08870601320470885,-0.07023066308176072,0.013265080173217309,0.059984336390440054,-0.03235539929901852,0.0729848527730044,-0.01494963013677367,0.0189969148107413,0.044810699705040244,0.07383296584821247,-0.06038516254182135,-0.07671720751437389,-0.027644462884839235,-0.01858667564248173,-0.04473862465723044,-0.0008642373775124965,-0.08811926131630181,-0.05806810618065612,-0.023179330210839604,0.000951726811121287,-0.007494516176810253,0.002511944552728117,-0.026248698840878857,0.06887386632969653,-0.03972817085432257,-0.014132291806916993,-0.037360403814532574,0.05799176567933597,-0.03692961720496018,0.004103946157481939,0.019698497454535155,0.03398949441202445,0.033815474029006164,-0.07672018787035446,0.029109212159843946,-0.08997804923075098,-0.04251978266978775,0.049856232642001674,-0.0727266749254642,0.02895602329567374,-0.013716986524091581,-0.06744180572736962,-0.06902815434427292,-0.08358017172110105,0.07958027794025853,0.003127772389946109,0.02674151009808609,0.050981924834663364,0.05453594680914772,0.03427034243450153,-0.009370283717343525,0.006179277481370911,0.05004644943489519,-0.030120392074876056,-0.020805511930821204,-0.07754450802114794,0.027815394801158543,0.01064891852807841,0.06432596982271065,0.03293593383322658,0.07871575270782866,0.0783667911357053,-0.08734888978141883,0.08799639683464161,0.052517092155144524,-0.0566883425640906,-0.06846124784462503,0.034495130087888626,0.02563704910828167,0.011850516719108464,-0.01800475588574713,0.013179045005087923,-0.028421488652550835,-0.051067743727666676,-0.0730943077838695,-0.08465848133727814,0.022606676963285267,-0.003991704293183874,0.037593528076208166,0.07395964533086365,-0.021402881216360768,-0.06567905669795437,0.07138866973889517,-0.08168157010042519,-0.03664499714107998,-0.06380743564038376,0.05604599644245063,0.05570904589054209,-0.005985018797730593,0.0006980745320598564,0.063997049370947,0.005960467448517465,-0.07339543498190165,-0.0192057267656301,-0.030132275159879023,-0.04957792642426108,0.04984112049122503,-0.05315900673186592,-0.040469209432022354,-0.0419473611968568,-0.04333363081385742,0.01876719370243398,-0.08553567625462191,0.04788746870615316,-0.016109562010124333,-0.019864478892617422,0.023300085388738453,-0.003929636814957674,-0.07432857622606648,0.08637589621846593,-0.03872763795603232,0.07157332195667516,0.06703624197061908,0.07798159210946864,0.03946476720499955,-0.01597763612922812,0.0027455846630160437,-0.06817355867896413,0.019327650866888833,0.08165631325165905,0.07564209127916477,0.03455442582361237,-0.011249144780603645,0.0726288905230663,0.07442726336128086,0.020934747012504983,-0.06195474660639715,0.04575810699953961,-0.05430205051430028,-0.06734185816348241,0.0013630109806159602,-0.0066976114427344064,0.022374599595906857,-0.06888016552600651,-0.055996796595977824,-0.08336375009013282,-0.06271464420182521,-0.0891884629369804,-0.06984062524287812,0.042819285635567174,0.04732066954710021,-0.0016411116855778668,0.05198487755237879,0.025629993764389764,-0.054539486133231375,0.01582529560616865,0.055423484693084966,0.040064107678993474,-0.01979585833391296,0.0031643905654899183,-0.051368349066280385,-0.08389156012786081,-0.017546639310088832,0.06780748735978964,0.05390614228001819,-0.009842998807477285,0.08422909631774729,0.011237041920940617,-0.037063662109312986,-0.02782094275235163,0.04911652834161171,-0.056926821446530725,-0.06879246511543728,-0.004712597068619803,0.021550126259946924,0.043282372047865496,0.058668726067138084,0.07732823931047447,0.05801302198914141,-0.0490099082363201,0.08124752753921011,0.055282759948721505,-0.06935383030684601,-0.08764898027510434,-0.05943162745539583,-0.08817240384140712,-0.007614075123058665,-0.015702156493822752,0.02962689656834379,-0.04401640141493808,0.07736779821116868,0.004110527715786056,0.0603770773113361,-0.06965501017355331,0.04544127557787578,-0.06341979981266688,0.0652239286879922,-0.06045402693939943,-0.0004562252764194329,0.011883836031894633,-0.051344427060169555,0.005376225228852195,0.057711997917261774,-0.040561268617035746,0.05411290969916286,0.03909852596672053,0.049159927447703776,0.06760604991671684,0.018959732305837706,-0.036895652848105635,0.07715338980099977,0.0014071006034095258,-0.05705789600345635,-0.020869468821904418,-0.07823999124168982,-0.026992905574663485,0.022390056450080225,0.025513462472138555,0.051651580214414586,0.026395145231849913,0.06056813522055942,0.07799652914583832,-0.07609656436490375,-0.08998436558358551,-0.033120006838833795,-0.04651780502441963,-0.0846373398500916,0.046973538696435405,0.0474231485079236,-0.005911112584391801,-0.0867913056648178,-0.012674062735178815,-0.04187435568388186,-0.06583596957233506,-0.025001163673006383,0.0779401553773895,0.005437017766221707,-0.014644900184295106,0.04698841344441136,-0.0637675104552001,-0.010702225955424258,0.05839429386378851,-0.056945685407094056,0.017003740017489225,-0.037747866574199374,-0.06042788850744184,0.02508587029934055,0.02379411552292031,-0.020049456771712475,0.01200511035632671,-0.04802863042803018,0.08423711805589208,0.028594735740245916,-0.017987654411997473,0.045925008635683925,0.05702000958221454,-0.011418163678602829,0.006181798527247525,-0.024297890401728958,0.012013793560249288,-0.07254022810512267,-0.002326346330369239,-0.005474784873502461,-0.012066719637325996,-0.01112128434445482,0.06457386074606582,0.02951374932900448,0.08370145629099762,-0.03235983632915546,-0.07183157172981172,0.07819781271083562,-0.03589399019256889,-0.04826710631104647,0.06035085505286769,-0.024567279709883164,-0.05144217552771954,-0.08934765793868432,0.023960213796927723,-0.016167302580093964,-0.05027406518744237,-0.045556281623726644,0.03607956520953629,0.0545759809742221,-0.009447428954124166,-0.004357987693330108,0.015500485592832002,-0.03700573173500476,0.04124309292622574,-0.07992015521083896,0.019597130459275677,0.05369095361145713,0.00848709587332437,-0.08940532357262375,0.025913192847413922,0.06102226861208545,-0.06536737807118673,0.0735441249704364,0.03857724779355117,-0.009162088713645569,0.005339344655968852,-0.07247992307371125,0.05446107001461802,0.02178178694369456,0.05053287173426727,0.006604534024296266,-0.08140317024810981,0.04143594582754641,-0.06822642967176108,0.019240484377184234,0.02700475069063401,0.006980118526210669,-0.06753359761464024,-0.0878271694909948,-0.014341988210404085,0.05325905376522127,0.016714536049072675,0.008854774549332832,-0.06894639107500491,0.007001519602070615,0.057604469028320296,0.06818185205609481,0.03534735263601122,-0.08647104881049797,-0.018856156007919785,-0.08474369241954383,-0.0893071557445671,0.07064547981007917,-0.08871136718491342,0.07436546866501986,-0.011572088991919948,0.06515449631010178,-0.0867038373649453,0.008568011006411653,0.05952162541439595,-0.04784239771312099,0.0886285105170008,0.03066443114600716,0.09059393271054288,0.02089443670679357,-0.020377273242850377,-0.0368848547219761,-0.056760652931870964,-0.08763596365572017,0.03643479154265583,-0.049943210974168394,-0.05643842512867791,0.052084617794051824,0.079060911941226,0.0761115038133936,-0.023400604664465703,0.02090043215892625,0.042985676778335404,-0.03556784306223395,-0.044758717363737946,0.03266600293497237,0.0050349313766366545,-0.008143942593129588,-0.049229946240994374,0.01855879451876141,0.013649287214348505,0.030195094742167906,-0.02911431008216598,0.01728287613632761,-0.040099799506373934,0.06743764605886753,-0.04043062010307478,-0.06345554633827571,-0.010026304785343953,0.07720170865016215,-0.018615606066330916,-0.0838925754943942,0.05413370002572568,0.03425329453942296,-0.02645234779413788,0.07411277032207485,0.005921552509140055,0.051275668952699444,0.054615829018157,0.07317359683263054,0.07675413730258271,-0.019126573201278297,0.03450158656748076,0.020119410155312534,0.03578946902517534,0.050623543371744996,0.05061685217360929,-0.007489019588513283,-0.022251887392633576,0.06505107733204234]},{"id":"chunk-7db5cddc-34","content":"Tools & Dependency Injection Example Here is a concise example using PydanticAI to build a support agent for a bank: bank_support.pyfrom dataclasses import dataclass from pydantic import BaseModel, Field from pydantic_ai import Agent, RunContext from bank_database import DatabaseConn @dataclass class SupportDependencies: # (3)! customer_id: int db: DatabaseConn # (12)! class SupportResult(BaseModel): # (13)! support_advice: str = Field(description='Advice returned to the customer') block_card: bool = Field(description=\"Whether to block the customer's card\") risk: int = Field(description='Risk level of query', ge=0, le=10) support_agent = Agent( # (1)! 'openai:gpt-4o', # (2)! deps_type=SupportDependencies, result_type=SupportResult, # (9)! system_prompt=( # (4)! 'You are a support agent in our bank, give the ' 'customer support and judge the risk level of their query.' ), ) @support_agent.system_prompt # (5)!","metadata":{"url":"https://ai.pydantic.dev","title":"PydanticAI","chunkIndex":34,"totalChunks":208},"embedding":[-0.023096534647677615,-0.0043409384884854916,0.008917226934427362,-0.04195738808977641,-0.07465301930504023,-0.07600031257189714,-0.041518154121151514,0.03193056478982755,0.02425229382060463,-0.07587071608857601,0.08803778935690253,-0.003026615972439317,-0.01672702199980011,-0.012492103092015846,-0.04050850898690072,-0.055964761813210764,0.07323926711292132,0.08442524338076096,-0.01613022930611251,0.06945964780694713,0.06660912627862604,0.05892458076742156,-0.03751163042121933,0.007509732659529039,-0.02237451267948385,-0.01627895643274073,-0.01490120645141381,0.06641076582295588,-0.058321360420713605,-0.07010648432865567,0.05393017425638555,0.038206775028469316,0.08077556590548048,-0.007579960878664664,-0.003223652962592941,-0.07506078328900437,0.025526208440864954,-0.06149881283731934,0.03392363385209488,0.08337261535740906,-0.03173611990940122,-0.07744262809635084,0.029635421235474597,0.07532916333718431,-0.03969021280666446,0.07987559800276002,0.08044055626374995,0.032165605567018606,0.02833455913031498,-0.08247692927910874,0.029754774815249737,-0.004818109921824928,0.05087981548398277,-0.05755757617303816,0.05046927193672151,0.03158779736760765,-0.08559910775142526,0.03167133380629614,-0.04326736422476217,-0.07906298339105929,-0.005077573475851807,-0.022976486814214568,-0.000873472553455278,-0.05292775814682833,-0.018106018535049,0.030980325814020045,0.07801738972627371,-0.08197455578855405,-0.007471085691501199,-0.005992207582572124,0.0351989884772263,-0.051400622346793906,-0.04913050415090337,0.015327599075280468,0.013699705447233094,-0.04349118099803571,0.04920194496363538,-0.0677760325901467,-0.06965638132175671,-0.03454795166614191,-0.08426398395922968,-0.05364342434050436,0.01726359099126688,-0.08766973499439183,-0.06184949539816082,-0.03202070033371297,0.07454025591467332,-0.025332441800773667,-0.07757771387018589,-0.000243380601698952,-0.01857516789005027,-0.06196214600867578,0.00025000897715968517,-0.019586464665904583,-0.060799529506181685,0.03929914659599276,-0.0696414030071225,-0.08806551934549071,-0.026756604612649896,-0.06188044311852849,-0.062166085417141616,0.08410597284313963,0.0046563833770202675,-0.06991571364796124,-0.07073006846760353,0.07061821909774865,0.04211331994183683,-0.021242128587054016,-0.021063809986158775,0.0856113810869941,0.03846818400069166,-0.01100116798613107,-0.0034535559027640992,-0.005374352142804598,0.04298334708496544,-0.05696883233156705,-0.053136610037310676,0.017011288838041868,-0.06108138009782306,-0.0787742991665683,0.05958154588882641,0.004997714616664712,-0.04860569290715707,-0.003967633538127647,-0.07271393585015552,-0.08153799332611908,-0.011067288650388814,0.07527941829770185,0.06106394784094082,0.03582566518536891,0.0334037054325894,-0.03608958603324008,0.039225023489691514,-0.060112478694810026,0.07470525091320634,0.031456320803121884,0.011034946176988266,-0.07373734934281248,0.0369078459332451,-0.0067170407685129075,0.02608464518359938,0.014183319652104622,0.028533459476592336,0.06039748707511084,0.047636142375803756,-0.028628079779727915,-0.06397015174924381,-0.021544525260379935,0.051055588453583996,0.0024312706244195774,-0.07185442503132296,-0.01163180256710765,0.06632477850987384,0.054640838456715864,0.021376733129762463,0.03579195943517694,-0.019520760041690215,-0.016531053332938608,0.015375316713047354,0.05929330821577009,-0.0669031827706252,-0.0709290947075906,-0.003393408564326791,-0.0723411253991114,-0.06018257552502014,0.04372223599241054,0.06579496738776586,0.013235347887396868,0.050587305816231366,0.02470362951634266,-0.048954657070550876,0.051012111204785215,-0.008773090626517491,-0.05144838010594167,0.07439844897526231,0.03447300207918929,-0.04353467164515036,0.08495816755739109,0.01584356898694622,-0.03916479615045875,0.05370469699729662,-0.07769474626522144,-0.034084733265522776,0.03987960224451965,-0.0057715720077048255,0.07700779928886821,0.03475383265784443,0.035025030589201187,0.06120753321004387,0.05060174072079247,-0.06273674140759566,0.07290590280880643,0.004473766159187574,-0.05996565396236563,0.0030531966287537233,-0.023268685378030403,0.07592798027291528,-0.053388903875964275,0.027302464223752525,0.05046694779041735,-0.06480983353397628,-0.04139806314741724,-0.04057974974387603,-0.046671796803299075,-0.08715688956309055,-0.07770207141750891,0.00019059852462867323,-0.028737057498954072,0.048374118877386484,0.0581924516866633,-0.07433450270754721,0.013454140343833298,-0.07759091572366197,0.08148518989752304,0.08268834431604506,0.02559222794045702,-0.0868338444703864,0.05884918228028483,0.012009431185773892,0.0010526295074708132,0.027277061250974108,-0.0874527591401122,-0.009251709460438554,0.08163165761032398,-0.05564951309361536,-0.04098743552508867,0.07663795817879764,0.008365958999260448,0.021354871717055024,-0.07192708833851102,-0.01302866584582544,0.029006377428306616,-0.027107689603925494,-0.028123708493213995,0.01799706233345672,0.04336234251050194,-0.036040148020969116,0.05094190202141036,0.08236323665325718,-0.0551518025186503,0.016497106773095745,-0.053218818417645516,0.05663136992407373,0.024985169474413413,0.028409947378164838,-0.08174061572268218,0.059086492728197826,-0.011749737659484765,0.06601470850436661,-0.009455706259257898,-0.060082130647046324,0.04764707929955364,0.03665306599367988,0.05821088272885847,0.0670004038006882,-0.007079007167087028,0.0635052101934177,0.08214004210634698,0.03270719120572653,0.008336126549797223,0.011300215620780943,0.012024463278030726,0.014249770121530949,0.03204118569843959,0.07455770107285362,-0.03884731608657377,0.008458636417791513,0.04191885757792846,0.02935484515020918,0.026898466264021575,0.012442649659508935,0.08176079438220261,-0.05959617041062407,-0.07470173440707914,0.05690677993120618,0.03253635798947341,-0.04601926460254858,-0.08415337223930687,0.011098905991318568,0.07323079100321808,-0.07302218407814473,-0.027795798747982166,-0.01828781867904701,0.07069568107483502,0.07366380512039525,0.06351751281450639,-0.06722740702366778,-0.04879023287119644,0.07433012544147286,0.037650420316276675,-0.031950041980730814,-0.003280139605542318,0.041949004290356265,-0.04927568261388649,-0.017141061838168756,-0.024226886120619223,0.08661409325769263,0.053584579087814534,-0.0351691860183178,-0.05229156362929954,-0.06621925136013479,0.020129943760234078,-0.019475025265106825,0.008613013784530735,-0.06047288792484606,-0.016378931771396224,0.07225362856270139,-0.05768539927591976,-0.07862167776400167,0.06215622015380069,0.07794500583094374,0.020008535071411405,-0.05222919257544558,-0.06028081570820261,-0.05272841558280143,-0.08719366531975319,-0.062099793718289095,0.07284026270513236,0.06252669207672162,0.03580681029305908,-0.0008957534010507294,0.06332291348151321,-0.07373280711546122,-0.007818776359539384,0.06762759434185066,0.04803330160087054,0.04725820408128147,0.0020129154224246405,0.07952740803125752,-0.048512018056996724,0.009371537500223601,-0.0022885019463628514,0.06401576783542885,-0.03825413640211935,0.04731490790785671,-0.011846450784320294,0.020227188760518076,-0.026773450103010063,-0.057499188052997016,-0.07163326024275707,0.026757330369392932,0.054122046311856756,-0.021940991073716307,0.05053380924991094,0.05393458774914419,0.06585039923783755,-0.071071597363261,0.035842008955335423,0.05884506984457408,-0.027792686194678787,0.0002789924119505786,0.07725192516911408,-0.07860648257094313,0.04703396655020467,0.03130287072367481,0.01723732667796692,0.045750571905129114,0.04168942187544107,0.05523353276168248,0.03839263365375404,0.023541027941870636,0.02109079487292108,-0.001545178769177683,0.02900965369110125,-0.07376285828147253,0.06486328242123783,-0.049971956179357596,-0.01664125680028161,0.02943275928652729,-0.08462035546353361,-0.08193956146423284,-0.08287928947039935,0.04306202727958573,-0.027520871086814207,-0.06731320439895515,-0.020638569240216977,-0.01139502823546529,0.0429017270426874,-0.049214721924695524,-0.02808218767422792,0.0034602026028603535,0.05150590229992054,-0.014036808847996554,0.07831220401442496]},{"id":"chunk-7db5cddc-35","content":"async def add_customer_name(ctx: RunContext[SupportDependencies]) -> str: customer_name = await ctx.deps.db.customer_name(id=ctx.deps.customer_id) return f\"The customer's name is {customer_name!r}\" @support_agent.tool # (6)! async def customer_balance( ctx: RunContext[SupportDependencies], include_pending: bool ) -> float: \"\"\"Returns the customer's current account balance.\"\"\" # (7)! return await ctx.deps.db.customer_balance( id=ctx.deps.customer_id, include_pending=include_pending, ) ... # (11)! async def main(): deps = SupportDependencies(customer_id=123, db=DatabaseConn()) result = await support_agent.run('What is my balance?', deps=deps) # (8)! print(result.data) # (10)! \"\"\" support_advice='Hello John, your current account balance, including pending transactions, is $123.45.' block_card=False risk=1 \"\"\" result = await support_agent.run('I just lost my card!', deps=deps) print(result.data) \"\"\" support_advice=\"I'm sorry to hear that, John.","metadata":{"url":"https://ai.pydantic.dev","title":"PydanticAI","chunkIndex":35,"totalChunks":208},"embedding":[0.048797788611183085,0.05141405326594539,-0.035313309629821474,0.06718939105818302,-0.00012820970256800188,-0.02082290121422216,0.01979881714527893,0.03455560111718974,0.04360234085894931,0.0011111114188270595,0.05115203913319291,0.08638872512470418,0.03538828535088926,0.013185194260654126,0.051243732893618776,0.08061638612286988,-0.010776095185620884,-0.07609356577020317,-0.03245397178348341,0.03737595814317702,-0.051015903201831234,0.032747154161028566,-0.05770729966250183,-0.06116433756445203,0.05015530716356446,-0.016031419548440198,-0.08449671449038493,0.03844176773272269,0.07852364440492929,0.00823180085933947,0.08322960156888201,0.04998597714298374,0.0797369497465798,0.030211218534432146,0.03716187777711096,-0.08565712085832763,0.05380724562351038,-0.06330526112822546,-0.047084084578880525,0.016730544349788035,-0.06729899149686251,0.06818655046231197,-0.04626075959222867,-0.07875129174294024,-0.04026486803714167,0.08719646614626499,0.05947861007329893,0.08310085130623668,-0.004288808923248157,0.005949211779560527,0.04933030862157891,-0.07379769949949819,0.06922232300664857,0.03255709696047664,0.007885590541795273,-0.058568917346726417,-0.07041914192548879,-0.07858687820995175,-0.08632206536039361,0.0077097494131249346,0.005279979340155176,-0.012538663584690139,0.03040644071279351,0.08714552899819338,0.0035476841204435264,0.08021266319894542,0.06764420409114713,0.045965000631466676,0.059263479015217134,0.0856275800133541,-0.08567334299889215,0.06502337207249538,-0.050465797755138916,-0.015759018791112897,0.028298062032762673,-0.07172386088827007,0.040533261829052,-0.0003765063877447978,0.06422862523664022,-0.051634515527230605,0.04525993176107106,0.08615194997424067,-0.03948207055864121,0.06463955877602885,-0.03336907020630517,0.02578730268171595,0.001283493067778937,-0.03749107969981559,-0.023639495601190177,0.016277956790808106,-0.05247684932778386,0.0392696969634108,-0.0002253080516636098,-0.07534067018982918,-0.07461890735338987,0.08495793739534284,-0.021596985055487048,0.0671790069582065,-0.049474783394273504,-0.030998676333664633,-0.01842469318348713,-0.0526424236562894,0.07041418518075804,-0.04158087319029849,-0.02802833526049928,0.00254115519727742,0.07600668503094238,-0.05267931998978052,0.03294428659542029,-0.04906402926736783,0.08414288915567246,0.07824454828810885,-0.08035016932952259,0.0729425680954816,0.08651847535191323,0.025666352391162262,-0.02796757202850472,0.04167976532731038,0.08656367001470831,-0.018576808876812345,0.02011495366928148,-0.023072101936379902,-0.06716902845656213,0.036918842287261194,-0.08503785979087067,0.03527212229588669,0.02159258593538462,-0.011199141288886608,0.0185417849294128,-0.007399084739810671,0.06928658852356065,0.0024220332351197926,-0.07165512334291342,0.025062476436464486,-0.01366384784341464,-0.06955068503567156,0.002260158730386516,0.08334505462311598,0.005360023656747021,-0.009556580935882403,-0.04571234910740673,-0.07443885117370638,0.04636724702675599,-0.015020662595158019,0.0160480297404458,-0.07676627542595586,-0.00036564983980853923,-0.06724003485857775,0.05775056720116134,-0.0397737424153456,-0.07374344156287035,-0.021307061462540477,0.04657794792479114,0.0010540425607376439,-0.014639577849187417,0.025974072991867544,-0.01935620028908799,-0.04876675895321812,-0.0881938186530576,-0.07435660851163454,-0.03477787401355081,-0.005851573709478679,0.07494876515741399,0.03554284459568408,0.027901680100520944,-0.03050396711785136,-0.005101732023588071,-0.005631315782969357,0.008087482022693738,-0.03918181716932954,-0.03226505068286325,-0.025210644124871673,-0.08694537382384164,-0.038837444537827594,-0.028322278253714733,0.03831767844019843,-0.0011265588812901216,-0.05345422131268995,0.0032006319759153414,-0.07206104749833066,-0.006634048230297526,-0.053267778067221945,-0.05993290325129666,0.005761701365818648,0.0031962069769929176,-0.04180359778273458,-0.06741482960022688,-0.017948999856316074,0.03453864234071048,0.0347110158512477,0.06288352874717552,-0.06942581073834676,0.07759238086457021,0.02836197923320866,-0.06668734806491551,0.012091467886726841,0.053802279548693495,0.05646205095346955,-0.058569909427725726,0.05617144888505302,0.06165861501574124,0.07934742582184044,-0.06993515442342228,-0.053228322421956305,-0.07515822076680133,0.00860798098284779,-0.012800059323475204,-0.08308337756405089,0.0733596290804301,-0.015416028516149302,0.07211366293254554,-0.011605696639519351,-0.03686077256872518,0.03972656257498764,-0.015985306030270176,0.031413604278031214,0.004693173359684992,-0.07610390143975457,0.052512817754728984,0.06769286258198395,0.017877136666861863,-0.03292117617359581,0.001931979624455309,0.026202186815222357,-0.036706002394002964,0.03984424125386211,0.0872250170602858,-0.03603813756899243,-0.04537657933903762,-0.014662535437840596,-0.04692613613598617,-0.04698114273014919,0.03875788491341693,-0.06254768144093593,-0.08515699452161411,-0.048469748413324076,0.02307432926347709,0.021486566592478842,-0.08057092557124124,0.05514715059651109,0.06391752938563842,-0.05711260587738114,-0.05433436202531174,-0.017499141875669803,-0.01773265243841367,-0.06718190281902284,-0.02560200319884177,-0.08266353210312945,0.023165884683870396,0.07530840937361488,-0.0061099969275618385,-0.017934242568730954,-0.010693054889409342,0.029329985777645697,-0.014010558626094233,0.009916548464741347,-0.05120588124120078,-0.08096771031760581,0.07889864858211673,-0.009286960228365636,-0.058957813834462754,0.0498081121034706,-0.05086381565850029,0.08821275201133975,-0.00789459658199209,-0.08040168842132768,-0.0138148490787704,0.04286866021331352,0.07894446955968587,0.004395968480359354,-0.0787466505181991,0.051494100303450786,-0.0086883178278273,0.003764248832016702,-0.07838870370140762,0.06749598888211834,0.030587086438087756,-0.0060476445065719975,-0.08313939669111105,-0.004876764002388558,0.06237780487897056,-0.06909124456008754,0.060415833318140925,-0.061093023031075035,0.08616766729577346,0.015963768268473212,-0.008745030629170418,-0.027957746627436594,-0.08441269891185181,0.047469330752174924,0.05459260252876628,0.018855969205328345,0.07893150746309512,0.007791710004989725,-0.08765494046663429,0.057600548607282004,-0.03801442083269606,-0.06593930088519585,0.08794241781606346,0.04979227921519614,-0.042861558018660054,-0.04728987132051921,0.08424814279209,0.038030074013160976,0.07628004111993203,-0.022276175886206964,0.005716298232892179,-0.07898020558209035,-0.07156754247734168,-0.00960989607139668,-0.040546477387197404,-0.027880920225876776,-0.022847583965124114,0.012328122389353095,-0.02312517935890751,-0.0752513754372505,-0.057517301871163655,0.010093282618236924,0.005319565196479839,-0.0348582120842702,0.012077575003442845,0.03669357818917513,0.07679852739663495,0.06067501607150773,0.01021620597171659,-0.07528950542788729,0.0021810605735751165,0.024598060089465107,-0.04695412186014101,-0.07561080796653621,0.07126228602246447,0.015219539803544565,0.034897912141827754,0.07580679086598714,0.003732781866901459,0.0793133850504058,0.08741454354495622,-0.02703020926713482,-0.08658716715662267,-0.02970584341176249,0.0009834656663741076,0.05905532705906048,0.022453282282161216,-0.07787437850347002,-0.019637883211980706,-0.03516687520317654,0.008699546924195193,0.005240943290681024,0.05764560207088873,0.053130835108800685,0.03640742254361349,-0.08249916223685315,0.010546746945862726,0.012319778284288952,-0.07493220239282394,-0.015312958987023676,0.001532096231647313,0.059042333326488894,0.08219776192381631,-0.05310613621296572,-0.00939792142601457,0.0007787684548677946,0.017901455420814647,-0.007494589245990765,-0.014549965044036028,0.07490973209053338,0.049030901224517025,-0.029357142446294962,0.03460407026769334,-0.00563357615707445,-0.07911910493996385,-0.03321609259904802,0.0270581235863872,0.02345823460605866,0.0019386489607394245,-0.07419642391655688,-0.016433010730159035,0.023857155367965465,0.008271572100927266,-0.07346132915647074,0.043739590165081534,-0.0389472966064072,-0.008610337366655129,0.07715634792051666]},{"id":"chunk-7db5cddc-36","content":"We are temporarily blocking your card to prevent unauthorized transactions.\" block_card=True risk=8 \"\"\" This agent will act as first-tier support in a bank. Agents are generic in the type of dependencies they accept and the type of result they return. In this case, the support agent has type Agent[SupportDependencies, SupportResult]. Here we configure the agent to use OpenAI's GPT-4o model, you can also set the model when running the agent. The SupportDependencies dataclass is used to pass data, connections, and logic into the model that will be needed when running system prompt and tool functions. PydanticAI's system of dependency injection provides a type-safe way to customise the behavior of your agents, and can be especially useful when running unit tests and evals. Static system prompts can be registered with the system_prompt keyword argument to the agent. Dynamic system prompts can be registered with the @agent.system_prompt decorator, and can make use of dependency injection.","metadata":{"url":"https://ai.pydantic.dev","title":"PydanticAI","chunkIndex":36,"totalChunks":208},"embedding":[-0.0336099411205293,-0.0628710597418275,0.013853141482880589,-0.04539401761201458,-0.06404096126309311,-0.021058022837322245,0.017926036224670167,0.04021611919632529,-0.026826110477452876,-0.07107688448505962,-0.04000509964851646,-0.027395888651641553,0.08444923821312021,-0.025966820952821736,0.08266039708093112,-0.05795029446521905,0.037883268066198426,0.0038153842621477534,0.013266346648257162,-0.0840931789839031,-0.037424493921796004,-0.07422994097591988,0.009327815745266489,-0.00009991222058707588,0.024751262231774717,-0.026170570530091135,-0.04968105006310003,0.0715889805487338,-0.07323773450744041,0.008906019793354328,0.05329241584487254,-0.05749936788347635,0.08096591651439938,0.07225296699273515,0.011188539041485437,0.08224094939739235,0.044592495904999606,0.042646158720107595,-0.060333082835442434,-0.06148265525011888,0.03765119211468198,-0.029512932943611823,0.0032389430184149763,0.06586857332132857,-0.032889630650003256,-0.07146858668082916,0.014913960247881773,-0.048937237890337694,-0.05919036367453437,-0.011831226233565082,-0.057107627078047514,-0.003148359453872727,-0.024779024958382103,0.000626406386381859,-0.011513318929441223,0.011842754794748826,-0.07789274023177127,-0.06039246365120198,0.04527928154062003,-0.07499051410670643,-0.010021293495254588,0.0806848497483769,-0.023159009552769703,0.0764565092865406,0.06931070176777342,0.036440677422212193,-0.07037286045923255,-0.07378665819563744,0.04209618295680567,-0.08209233968238215,0.03861412963268724,0.018329132742435004,0.022706422632656174,-0.05691013286991692,-0.0593041186808054,0.06466952526766145,0.006732374493149291,-0.04864802936775028,-0.05895316423651079,-0.0387229243430228,-0.00092485496072143,-0.021972090353958453,-0.003599503478862988,-0.061324043944131434,-0.05566737159547955,-0.05567325902611697,-0.004340226801651655,-0.05787187915824584,-0.05229723402840236,0.08400078798806483,-0.01909979229877732,0.06882807534990952,-0.06398829260139188,0.08398366100347904,-0.0005831352654831551,-0.005109648878474314,0.0237468334432889,0.038638476546219054,-0.06590719956842916,0.03771919885209197,0.04653455480013929,0.03844756460197278,-0.001567158080476317,0.07358143181718364,-0.07365105823739088,0.003291561131896115,0.02193772959549986,-0.033895802648611084,-0.022404490052311807,-0.0005849050486862086,0.05041424437131136,0.041061158891048395,-0.08478287908670842,0.08754441078186229,-0.040898245699487495,0.057263984702216365,-0.008048372445085024,0.013957929082876928,-0.04496762837326147,0.039851095769455745,0.012521015367710536,0.021397428988865812,-0.05946370792874957,0.062058747278800966,-0.03809269578239537,-0.08099049932978845,0.0650068481388161,-0.08227763881769723,-0.05037620414789002,0.017494612781210218,0.010976450206016777,-0.03787630545550171,0.07489219780120517,0.04999577165618702,-0.08118030213445841,-0.034222743492962907,-0.07518259778372198,0.08459661727353507,0.001975294963976021,0.029815017639815734,-0.05222497887241624,0.05269935368542045,-0.0216851791247567,0.04664411338105208,-0.07926840301524747,-0.08781870429873735,-0.055605316959593976,0.04535574490724301,0.03048187607475035,-0.053467196285786146,-0.035917252925712205,-0.07198095387378843,0.038582128396379874,-0.0015516449128313583,0.029122752007373322,-0.005338515446381749,-0.011334191128615924,-0.05416382191023844,0.06023050795800492,0.018632204022440407,0.02001402118059015,0.050141090447067424,-0.084415782492186,0.03411083986241252,-0.08309939555530074,-0.06556051383008327,0.019243720857824703,0.03965674001860939,-0.06926849417221205,0.032163007071947095,-0.03794839408720375,0.05246450792799617,0.062228157893141844,0.02258773740739454,0.049569844003849124,-0.057949507841642794,-0.01196111143777189,0.000573616895833691,0.011608890402856347,0.0029832828843412455,0.08612524702394007,-0.01610817291295747,-0.059129982467465286,-0.07854752407376002,-0.07190238149601792,0.05255657138460522,-0.04910610826817791,0.03486819343849126,0.06252503796030386,0.08161069461957673,0.06141560919576026,0.025407007855393716,-0.04167123372947621,0.08513410917268831,-0.029656385077953804,-0.046161556520556625,0.07616630784131714,0.041584733910524516,0.05054959355272388,-0.03550861057244368,0.07944712887283324,0.010779885436677654,-0.012625786718237298,0.08442627493174333,-0.05922800503950746,0.05592547713777195,-0.006895365058370263,0.0376986164271467,0.06601085405653835,0.04592631420581553,0.010976546589544738,0.07644412191904768,0.07883277592533779,-0.0434224273405011,0.03163823965226167,-0.007547041207770712,-0.06069357790290429,-0.03207602959231879,-0.06416141567475868,0.049625394040734586,0.029808773631946166,-0.06584796372654718,-0.0851079771627963,0.014046201944751325,0.07124054169258898,-0.048570402345533156,-0.017767003942490034,0.017213632721451745,-0.030155307182938147,0.0479621144055954,0.0330476440549316,-0.001516665753676549,-0.06514518655341779,0.012807491704381025,0.0004842247725127749,0.023052646616714002,0.06896946141833629,0.0662206195354149,0.031903058082224205,0.03528994211289596,-0.08558357995306451,-0.03884478083108218,-0.05219609996279768,-0.047952087631240196,0.004450339798815589,-0.07863040666498912,-0.08649961596348653,0.08515192634127816,-0.06029821083082152,0.03544145440116176,0.006580675387310607,0.040861361100200985,-0.07291312794568772,0.00822564443341123,-0.07462089134026878,0.003045903498139299,0.051900791050923205,0.034529931709056653,-0.08525719971637247,-0.08516152410174035,-0.058668259800811945,0.03753936129111612,0.02143762975958427,-0.07495879363601424,0.015508695745328326,0.025129015389110883,-0.012353549319066388,0.008328816833029641,0.0587323947372082,-0.019170999854382774,-0.05940013909710484,-0.03857282560510813,0.07829234906104147,0.04866936258807332,0.0542298614950067,-0.06657614407683016,0.055493064544568094,0.051021463939095006,-0.05981593148085863,0.04765966907945578,0.018132796102703394,0.06417543219020817,-0.03593828241603596,-0.011615806588141793,0.08081213040161007,-0.058796065088343105,0.08135250037405481,-0.04134275010093041,-0.06792931741468716,0.01988636853236447,0.011742139984475007,0.027255128482325506,0.02644548779433018,-0.007337667570340659,-0.04933616782575846,0.03384614271577687,0.022367078482323388,0.0012911281530597325,-0.0520703609811086,0.0015756555978344669,0.02288867308506293,0.08081972663680716,-0.044306490942058054,-0.0030573750568220807,0.07722898192169468,0.06375659974170594,-0.045389353546344734,0.08744649577609123,-0.06367217670982721,-0.07935537908761389,0.0615327314226686,-0.004855906355299892,0.05119422419105469,0.0655795279520566,-0.017848430840263774,-0.07399155310003822,0.08305141795080336,0.06443003430900804,0.01955780659723398,0.01127743618949996,0.06314091952871231,0.014205162322281056,0.05926376848608945,-0.06716792898350592,-0.011138102228216892,0.07740141257928174,-0.06633008780740292,-0.01915351341024433,0.04814779612897249,-0.009943414821801468,-0.06746012002033056,-0.014525659401128776,0.030592386590697504,-0.05457605826469276,-0.07202993010592094,-0.08268958573958762,0.03480799687446286,-0.06859687880467534,-0.004328283365401485,0.006903219705648572,-0.004811412282410051,0.029422403615016152,-0.08749174355946249,0.07820455807427402,-0.011224749923034105,0.08601108524335271,-0.028494567679155255,0.06463798421252612,0.00437193807333466,0.054611442850464,0.08666731977127262,0.0010419398453816193,-0.0406595885300292,-0.028751000500819197,-0.031678740739957606,-0.016247757096548476,0.05105260346406719,0.023233478376951146,-0.07852121224634769,0.08303170041438965,-0.010314925587516576,-0.07081852812747773,-0.06599904144783394,0.051857457690945526,-0.05190086261654997,0.0720641596364493,0.009207145233756,0.03964652037023653,-0.011726714467771153,-0.07167830528210303,-0.06829852966019956,0.004690306419141378,-0.007371017800119398,-0.05968215513238297,0.037491675816501216,0.03348250316944375,-0.0592379478336489,0.040368886701510724,0.011460628292164824,-0.06217152249933198,-0.025626651358747757,0.031128993482503083,-0.039839196558231135,-0.049710904500396114]},{"id":"chunk-7db5cddc-37","content":"Dependencies are carried via the RunContext argument, which is parameterized with the deps_type from above. If the type annotation here is wrong, static type checkers will catch it. tool let you register functions which the LLM may call while responding to a user. Again, dependencies are carried via RunContext, any other arguments become the tool schema passed to the LLM. Pydantic is used to validate these arguments, and errors are passed back to the LLM so it can retry. The docstring of a tool is also passed to the LLM as the description of the tool. Parameter descriptions are extracted from the docstring and added to the parameter schema sent to the LLM. Run the agent asynchronously, conducting a conversation with the LLM until a final response is reached. Even in this fairly simple case, the agent will exchange multiple messages with the LLM as tools are called to retrieve a result.","metadata":{"url":"https://ai.pydantic.dev","title":"PydanticAI","chunkIndex":37,"totalChunks":208},"embedding":[0.022976237275850263,-0.008849928872578605,-0.08278399202459782,-0.006227862690410164,-0.06974839033601656,-0.006534311033611639,-0.0828930177604781,-0.05175844261773112,-0.014400298236472407,-0.02870979471063437,-0.00811714984330778,0.07985506245042517,-0.07064595952215291,0.023248751085444292,-0.05345646502595245,0.015509265566841877,0.038465567035051454,0.02933186384520658,-0.02238116944957968,0.08392652465192896,0.08062915498355423,-0.020528062631994734,0.012248985282226966,0.08343745974643699,0.045465096806686284,-0.07198249872172109,-0.019458606754745617,0.014436769045262147,-0.025875832652435617,0.030683637108299494,-0.0588009730274261,-0.004110182044042966,-0.07841034470898756,0.018659494300978074,0.08276167739991294,0.03549191406076568,-0.06853133721162932,-0.059253953431327784,0.06189974280914226,-0.026602155931505254,0.016061180082165106,0.06217456975220638,-0.027426808445654302,-0.06012141773549746,0.05126011016508219,0.0720302573963196,-0.047992471675879354,0.06679026294354776,0.07253757113898267,0.022023251377782962,0.029000300514073547,0.007428668658636409,0.08049764251235032,-0.021612523305569602,-0.008227908544832123,-0.05604436057975563,-0.04536533607528701,0.059549547150921124,-0.05808574453205807,0.059994358892563986,0.0540201338001547,-0.06467499937092408,0.0294084141887842,0.08398588415823491,0.047032391542892696,-0.07281406567791458,-0.038956604020522735,0.0680104361488355,-0.08538643173562951,0.022711968116637036,0.08724458411308428,0.07307451209379934,0.0727358456561238,-0.06378589520831063,-0.05121068588626828,-0.06903742310636778,-0.08187028848552838,0.03297058374196289,-0.04203530085559389,0.041543476357370074,0.08138045086724698,-0.017400313073094118,-0.03394115546140605,0.06986797919808965,0.06137067930010969,0.0031687977426654063,0.03508382098489195,0.06820452638420559,-0.048140697925521767,0.024231158021279568,0.003734156873473674,-0.021878956035112168,0.06562111924948023,0.05103934243868925,0.07257894956014535,-0.035965752053824476,-0.028548681376613934,-0.07571311937054973,-0.0036321010228816315,0.04989980670847306,0.004382521038256493,0.013553159031907094,-0.0005531887863048615,-0.06886871239031932,0.05225553832831872,0.010102063797727795,0.0628932785374993,0.02858815379567818,-0.042337768034993506,0.07394967447121131,0.03344734431664501,0.0012576341457883708,-0.05834172776274261,-0.0683676744154634,-0.0032879595415941727,-0.04290540876997793,0.06093453333731166,-0.06049776539648204,-0.017280741631333335,-0.07015257075124741,-0.08516703202848165,-0.016354065309157607,-0.017747981065789207,-0.050485757487954495,-0.009627691371644459,0.023603792986419982,0.06776708082058622,0.001238726383585243,-0.0512635452769823,-0.004808589204796511,-0.026288960563697356,-0.00251782814077994,0.08406711012855299,0.03218533956863316,0.0738101358047644,0.07153950747424834,0.07571124909532811,0.07775399898380178,0.054211291036306716,0.0032597250673358506,0.013630744924686503,-0.020716513478209384,-0.004069247405272811,0.04130813883881815,0.08265330933453206,0.0704618319626653,-0.05005459472415943,-0.022725880884204526,0.023819375535290746,0.07076251957045604,0.0794933824303961,-0.07339150427122144,-0.0037509557383497835,0.06859759323422983,0.04568076179856646,0.04990195711842438,-0.05028946990843027,0.013299019490754523,0.06938964565454087,0.02029375913954583,-0.06771310713583387,0.030918951020616956,0.0390169738465039,-0.0021185876664476366,-0.07856146231422889,0.051432425963443516,-0.024070065172210938,-0.07469022390447938,0.003265326758998639,0.06660641959306705,0.02528098216919644,-0.04964632461240477,0.027772888119380796,0.029332090010682568,-0.04410870950906504,0.07896328801502628,-0.07052962688739177,-0.07086669227268012,-0.012080880952686083,-0.01153054268331087,-0.08205292775463485,-0.0759867543999783,-0.019604865696806112,-0.04083893316489747,0.03536915286479871,-0.037591431538917995,-0.019277290579115747,-0.0869332899505478,0.01809905425576037,0.06438100854875271,-0.02479769752871732,0.019932685139739732,-0.04068741865584615,-0.06547970713148259,0.08079902829610194,-0.03744852682597039,-0.004691491820935041,0.08647108394122845,-0.010567812784964227,0.02962060842323965,-0.06238754702132997,-0.07589573059369169,-0.03656700688776125,-0.08593656064526856,0.031350723489435475,0.025302792264024446,-0.06169116849551671,-0.03501484016032706,-0.05231756953287025,0.06581062960687745,-0.06529092917861318,-0.04074540011184511,-0.061666269722463266,-0.06093973818857867,0.023581624152416183,-0.07561896523529822,-0.05431488253911734,-0.07894748566525595,-0.026402381917887883,-0.038167126879990854,0.023104523482826312,0.07491967785686691,-0.07730686034974528,0.0724640963079035,-0.06580034005119238,-0.06149094967862228,0.033315485803917654,0.01688490636733019,0.040400913233774496,0.04367044298898749,-0.05898954448792568,0.011328696906181645,-0.009353853692640671,0.00499565689583246,0.08131651917670059,0.05601264279903373,0.024852163870772506,-0.054614611048194706,0.06857036378237182,-0.0301311097819187,-0.03718155846814839,-0.04838036213545896,0.031861371307017466,-0.06827280538868526,0.07993730469948847,0.022788000048747238,0.03918276505287345,-0.0081327751971448,0.00031830350461894557,-0.08691750933914422,0.02805979706386722,0.012340541411130626,0.00329450181476027,0.031672588382002625,0.02970572106520036,0.04165501368849258,-0.03489426074589063,-0.004739146409720296,0.07213253219869517,-0.06962882884980344,0.051747847382160705,0.012428317000384877,0.018901967687505287,-0.0023126556137047496,0.02229332622445774,-0.04848784474077399,0.054592702396310915,-0.03526988804519022,-0.060283772631798,-0.05657862868554012,0.0441631157909085,0.010426396009691752,0.032300580194754555,0.04181706611141467,0.04262814180184514,-0.019842779399871273,0.004814615593004513,0.07756723550805177,-0.07686787368066411,0.08225665863201052,0.0353948055835135,-0.07919259265168281,0.04473683015642828,-0.042363675215186566,0.08221630009152442,0.01459989507214184,-0.011077447849489625,-0.07682555240524544,0.024750668138840907,-0.03404283225375837,-0.04531644267790245,0.08032164345945862,0.007936985956845017,0.035839757795450226,-0.04634392346687602,-0.02985024194240839,-0.07756438193274971,-0.046239503000441204,0.08076388533212309,-0.012757653529956762,0.07768610195505479,0.06298685838276732,0.0048767158911772555,-0.024745600203598086,-0.007172358120830561,-0.05676658002689433,0.08397767084187079,0.011615888767020967,-0.06443526737630612,-0.08140331784891,0.03322714448749994,0.00860836672207686,-0.07463784276956989,-0.0633419920761103,0.019811799861397472,-0.05069442997307102,0.014481771080677415,-0.04898282580437268,-0.07525871077838564,-0.009554643625424842,0.0652765009983536,-0.05930848977344474,0.0331548802437836,-0.08031435629172419,-0.01858080767874473,0.02947666099550857,0.01139655765375498,-0.06500950117542527,0.010157566137300162,-0.07644267892711584,0.0276062572383575,-0.004562649414665244,-0.05303058529103079,-0.06299816115495316,0.07015929294841797,0.005874833375553869,0.04727219082577524,0.03295355942198572,0.06288449668600288,0.019872679171018818,0.06593375284357107,0.01222500168108162,0.08313606643732568,-0.03814464397841049,-0.08080184336805336,-0.02982162002158045,0.0069130480002886074,0.0658388127326769,-0.057697944811737685,0.05542117322292666,-0.014457887799831332,0.004439402304169126,-0.05291157792543848,-0.01534374665696763,0.034713121205627716,0.020657835976536056,0.05762386245825363,-0.08370452934386229,-0.03274362084449998,0.01856436118908944,-0.009803903374787256,-0.0591378886112652,-0.07123166704664381,0.037678453268054475,0.0012946003736251334,-0.044785990620474156,0.06595254000713702,-0.08416103209574824,0.028928997109161823,-0.08647259938920629,-0.02918429204199288,0.08668620070561384,-0.07012797402517183,0.0287047225889856,-0.036297153787117134,-0.035484190312036534,0.021682548787631314,-0.056146406889374986,0.043532083546826666,-0.054074515209375486,-0.06429042180171446,0.07052159282748885,0.0014552640360090215,-0.008014149182653415]},{"id":"chunk-7db5cddc-38","content":"The response from the agent will, be guaranteed to be a SupportResult, if validation fails reflection will mean the agent is prompted to try again. The result will be validated with Pydantic to guarantee it is a SupportResult, since the agent is generic, it'll also be typed as a SupportResult to aid with static type checking. In a real use case, you'd add more tools and a longer system prompt to the agent to extend the context it's equipped with and support it can provide. This is a simple sketch of a database connection, used to keep the example short and readable. In reality, you'd be connecting to an external database (e.g. PostgreSQL) to get information about customers. This Pydantic model is used to constrain the structured data returned by the agent. From this simple definition, Pydantic builds the JSON Schema that tells the LLM how to return the data, and performs validation to guarantee the data is correct at the end of the run.","metadata":{"url":"https://ai.pydantic.dev","title":"PydanticAI","chunkIndex":38,"totalChunks":208},"embedding":[0.042551325735224924,0.06426946130926658,0.006399998881213015,-0.009822943813187142,0.06598814554893062,-0.08586839250180764,-0.049218673854659965,-0.08288270051665896,-0.043035419647568095,-0.06882252449487455,0.0629786584846815,-0.08394580658211796,0.030047043241907247,0.07199608700701529,-0.04564140250399759,0.07558150441488423,-0.053930113832236004,-0.06389877088534515,0.012347322876642758,-0.04055880112604134,-0.06798388606265722,0.05248181867403711,-0.025698371069850977,-0.07234160524067389,0.06220325472286875,-0.0642114298208991,-0.009309683846504806,-0.06485792883770473,0.013680313156441635,0.03722859239712707,-0.023708211462331038,0.0028601080392400375,0.04315710630990388,-0.03269241041440943,0.032897652380359216,0.07707127030622127,0.07433920774491146,-0.05519030676660794,-0.020002067348780992,0.02741462606420782,-0.005183054461948865,-0.0757971718572535,0.0631150057193655,-0.039036873862560335,0.06115517011419373,-0.03646061222842847,0.03518628228713536,0.07600714707925228,0.0778686452506614,0.06855752527717977,-0.07607029883518386,0.04963041790821923,0.0467195625718705,-0.025359897219261962,-0.014966424773108876,0.03834909218369464,0.008389639710686783,-0.016411600360693227,-0.008413157001014394,0.08573374155863604,0.05435059125664037,-0.07075132169990737,-0.03476425040868781,0.0642497257931644,0.008622645723532768,0.039567216824910934,0.023919779283917832,-0.08306281309595097,0.04483511621426222,-0.026251739287059647,0.07338333108593717,0.07594431710195397,0.06490843044439583,-0.005685746912387624,-0.027130757489717806,-0.03691006966009323,0.02487175683468765,0.06804263550758166,0.01941900801951602,-0.08163108782244685,0.019181738232899464,0.003982414895592554,-0.04932875281632843,0.022484146627411838,-0.06364637220982902,0.0755782101698465,0.024319360179300014,-0.05526072920282724,-0.05776101770357685,-0.08537280063344478,0.04352426066564388,-0.08437593899877632,0.07198941292540025,-0.025226681929348547,0.018994469882722798,0.003536577480006371,-0.03392274237216011,0.012577594573140739,-0.07300731771104194,0.05704315090744332,0.054951408616605156,0.04472335549449253,0.06664008765570517,-0.040558945159855773,0.005139432381969731,-0.05579308483531499,-0.045337731938128685,0.0005438617833070444,0.011116267731998728,-0.08499465447731074,0.04089235973834696,0.024250518861651738,0.04313860571077597,0.08290700405283512,0.0033797599583939874,-0.04723327402109015,-0.0025366209609411477,-0.04349355791706311,-0.036996532164948664,-0.07486128367402164,-0.01278093260935824,-0.06793270201185288,-0.05818386924187278,-0.04513985514252796,-0.07774577305259175,0.02289955426294527,0.07802492015554778,-0.00073229006733441,0.01827143094346536,0.05233851785390946,0.05660255569856284,0.035416003285356344,0.02617190616588813,-0.07753818961859306,0.0409685158896612,0.03131988627020287,0.044626604894834554,-0.03204330947491951,0.05722162283596836,-0.04642122236503852,0.06873169146141113,0.05237543873458478,0.06003902333350245,-0.03645476553597955,-0.010734313937784836,0.08286705500734254,0.015133383270740142,0.05008780353368604,-0.027683541324294677,-0.026102152042730083,-0.02860303030982271,-0.06227342407780569,-0.05440231551718485,0.03288196249901851,0.029371701118296057,0.07229841986197265,0.047557060018330065,0.08564027840255699,-0.04322001861791061,-0.08035937373582594,-0.009963482589970546,-0.07872077850566903,-0.06242767496708762,0.05397373702003978,-0.06860126239545167,0.08490574344748128,-0.019488583209915252,0.014396759855050744,-0.05210551835105134,-0.0071920800529188,0.015963645700875773,-0.03510000883980498,0.0774791463961083,0.029597556695899405,-0.018499765270521846,0.05121694401007685,-0.03571953848659507,-0.007883662008420911,0.037077043736523235,0.08375240178007841,-0.008098876292765058,0.038660574904590975,0.03228171251274972,0.07466321506201956,0.019232402395051484,-0.07098820991094194,0.03829149031472298,-0.07850986502640052,-0.024447501730441086,-0.07434520997268093,0.01737295704605674,0.021795325353528357,-0.042704161979996366,0.01113077705153374,0.006255383417199987,0.04536254517643944,-0.009404335629085001,0.05806580841414346,-0.006642922817041044,0.0559362646657363,0.04853189961863852,-0.023236336108877795,-0.06245973314539342,-0.01397439694667628,0.04889364533948272,0.05824261748972919,0.059703316214434615,-0.002224295492906378,0.031076906003971547,0.018361060674003737,-0.028760697222426468,-0.07533865969893912,-0.0842496142173695,0.07732243363628322,-0.06454425440578612,-0.07337284898940638,-0.049161312956000375,0.010008230424992938,-0.034982775619609954,-0.01731206271891312,-0.07505886476232068,-0.04349224669083125,0.04140825857742441,0.0780347439458338,0.08207859290525747,0.005114850762611592,-0.06202692223032645,0.024962189204904825,-0.0009271115335743754,-0.005749773532930847,0.03259778047600943,-0.0778562313070449,0.005824815946309628,-0.08221265814262103,0.08145742480846273,0.05551051797805235,-0.03867582700597625,0.048604648388268175,0.05010135397665427,-0.023717266155602535,-0.019831190081663043,-0.0000018049647692584455,-0.06330654867725637,-0.03012237332175058,0.03650562416269728,-0.0764655327159847,-0.05022969994357672,-0.010894707280527932,0.007873040327395319,0.019948426403986454,-0.02441857730065656,-0.0782664101480805,-0.05680931498890868,0.08579888495104103,-0.07805997424208293,0.030063544166888105,-0.010022541245920146,-0.07676618503363006,0.007637308818174773,0.06410332400829755,-0.007941506145612207,-0.003939531250668172,0.0007332314568981953,-0.007299985921819988,0.07668533314770166,-0.006708475764984985,0.0635179979356912,0.01913628608654802,-0.03362441555481378,0.030125590472194763,-0.05947745355408733,-0.020294211009806582,0.017492689462626672,0.08284494824630044,0.041339814593818934,-0.04329532775063043,0.07218981640567151,0.05953715327483514,0.043275253043601,-0.012490666743620487,-0.014519889790846953,0.07891034149846066,-0.07844885411436603,0.07267651329011189,-0.07920015714266469,0.04039128736905354,0.03536903073892439,-0.019005306253253716,0.0019248076261082407,-0.07894421636313374,-0.002268111054197107,-0.06161807045892733,0.0452798117211446,-0.02431633716631005,0.020543307485478796,-0.008849426186236055,0.01403899387944407,-0.048544181829405654,0.012757134809744797,-0.01435115072965734,-0.009953628613950664,0.03890135328456504,0.05921503767545359,0.040193276959254516,0.03789812592025092,-0.009919552944601805,0.08210361359237116,0.07185482829206427,0.071304283213918,-0.06433509973607937,-0.05934223127084475,0.08417984023485435,-0.01494775564670546,-0.06811700242323836,0.0339898199574434,-0.05801406229445348,0.08377325053223339,0.02943484544673312,0.06273300317804657,0.016306760866922163,-0.0054474020823626675,0.006748243154189163,0.08339847053066232,-0.001410873464743481,0.030674002282318317,-0.07776576772883005,-0.04382867298828345,-0.012297656373225415,-0.008606427442470643,0.01632887629350512,-0.0516809262598523,0.08372245050748248,-0.0647569078124705,-0.035423209973825164,0.08583763018408287,0.015673367866259804,-0.005311018063262032,-0.07772353302695978,0.012988903576855742,0.026848720893007005,0.0731907116413866,-0.03117326664065771,0.0791387552626321,-0.036810020978637,0.07994056173098976,0.07126799176114182,-0.08293592229301476,0.034762625141161775,-0.07493830088993812,-0.005770142576486647,0.03016267110313864,0.038487602002952384,0.07764272201513013,-0.03843977337513478,0.02696679087547041,-0.0667548911319583,-0.038677661880130436,0.045458183001363964,0.04026933488247459,-0.08494581683134442,0.0349362544169532,0.013138841837135758,-0.07747195339067242,-0.0802766522787523,-0.06248509974552219,-0.06767013628706664,0.037885039150200465,-0.07512904314651034,-0.07465113657850225,-0.08444441552580806,-0.027310956022929288,0.06387854994209356,0.026378548433313984,-0.06284028440148351,0.023516096493966406,-0.07223833675758277,-0.0007770609844266334,0.04949423437474337,0.046350767178571985,0.05821382162282222,0.03413868220854328,0.028694616867055135,-0.056420634653441916,0.022067412514977878]},{"id":"chunk-7db5cddc-39","content":"Complete bank_support.py example The code included here is incomplete for the sake of brevity (the definition of DatabaseConn is missing); you can find the complete bank_support.py example here. Instrumentation with Pydantic Logfire To understand the flow of the above runs, we can watch the agent in action using Pydantic Logfire. To do this, we need to set up logfire, and add the following to our code: bank_support_with_logfire.py... from bank_database import DatabaseConn import logfire logfire.configure() # (1)! logfire.instrument_asyncpg() # (2)! ... Configure logfire, this will fail if project is not set up. In our demo, DatabaseConn uses asyncpg to connect to a PostgreSQL database, so logfire.instrument_asyncpg() is used to log the database queries. That's enough to get the following view of your agent in action: See Monitoring and Performance to learn more. Next Steps To try PydanticAI yourself, follow the instructions in the examples.","metadata":{"url":"https://ai.pydantic.dev","title":"PydanticAI","chunkIndex":39,"totalChunks":208},"embedding":[0.017255923036449933,0.04838185340109174,-0.058105046929758784,0.03664247861686904,0.016527275113191034,0.01597951444348863,-0.024223035481289016,-0.02586534633342551,0.02685048383010961,-0.05781431426220649,0.0768754848114378,-0.07917473366430822,-0.017056875045847034,-0.07625459293002726,-0.0029552490997870533,-0.08103568765928669,0.05672210276140816,0.06032924612376686,-0.04781117075488919,0.038093824600971216,-0.0280716957495695,0.05187818996625666,-0.062054480098785864,-0.024987638094127386,0.058490484909134395,0.07758677011691413,0.042928062187281575,-0.004544247881817122,-0.08472685119560865,0.029987223509324427,0.01947432792428543,-0.06873963941806803,-0.07526992415340936,-0.06564600973979139,0.07892643332471318,-0.04180171491174488,0.08096078266702893,0.04381505868303034,-0.018140467672171416,-0.04239918041507216,-0.07201394425245089,-0.01040275884044226,0.018398130517462395,0.004933845891735261,0.013769102758513873,-0.036088851243562904,0.007426975622048366,-0.08248652691791118,-0.06448294802290912,0.08372191808762033,0.06682881128861046,-0.07493025943524965,0.03087585770988679,-0.005269058668485586,-0.052875327861193436,-0.07156122767187773,0.040772824786166915,-0.06755101636901975,-0.03962029483582416,0.003929211996928742,0.04451033620837329,0.070193764153135,-0.010566409777117853,0.0780566220921378,-0.04914018478666803,-0.013899883107883078,-0.04629112839880407,-0.03800151038352364,0.03432667358795876,-0.020886829320107256,0.048230531314088325,-0.0815426175350265,0.07679124896162612,-0.012492112891672973,-0.004131475744974581,-0.06483795144555778,-0.03786748342259169,-0.028695700224946004,0.0026139439271365937,0.05788393464516486,0.052431679894315894,-0.06100113856710169,0.037814043660879905,0.028794814095300967,-0.05147064433321036,-0.06897802376243634,-0.05237276269046228,-0.023856276802483187,-0.012345695167270895,0.07424599949047048,-0.011879294765574692,0.0585563557806867,0.005746625163469558,-0.001031557943192078,0.0008401369496690512,0.0596048314783168,0.07236671163046289,-0.06796123016468242,0.0012335428020679882,0.02128928504319632,-0.03496546578201224,0.07137122880376873,0.052949120809900524,-0.04672162484911513,-0.05661864954088866,-0.08121317412142907,0.08637331382803731,-0.01599233394128602,-0.059975916450399985,-0.06571845749726862,-0.011737232209579156,-0.07254693873817103,-0.07371059062361734,-0.029475886626177093,0.0755490780211575,-0.009893415467533286,0.045009867735430156,-0.06664807350813809,-0.06179705089360193,0.05898363746143806,-0.009744902490788174,-0.07987734132099573,0.055086960943871825,0.02507788522796071,0.06991998190067918,-0.025414826637266578,0.012606516660091374,-0.08630196387718966,0.07760806814426043,0.0030957218775591504,0.04061067452389035,-0.06209613823798255,-0.05343922871801261,0.032796075317398254,0.04845388480799214,-0.06739551430452861,0.053672245755517725,-0.05763347410982194,-0.04030108579076318,0.033851607253985234,-0.028443765767966863,-0.08232075178298964,0.06300799666611034,0.03227480281946646,-0.061784607766697516,-0.000830532057904741,-0.07578777387186764,-0.0696386623811974,-0.07939768279064907,-0.04457877206125359,0.07948138240363742,-0.06443233704356285,-0.06274317106536235,0.06031428757719425,0.03400951367962269,0.045125410569357746,-0.08420788483039801,0.06016784267560328,-0.0475085691052748,0.029705833532850102,-0.016077069602297045,0.0385652259204458,0.026303674617039852,-0.033789735834314376,0.012286327693903825,-0.052156181571385074,0.05386563632553206,0.028272311037790633,-0.03473653378944306,-0.012770820382177443,0.08475224603978279,-0.04537885194976091,-0.04004471533250475,0.02625885017652853,-0.04625589591631616,0.07220192209695744,0.07095968367036097,0.011578732869514422,0.006973849180927557,0.05012866895071761,0.07884535948125367,-0.0782624585494284,-0.04769449215594575,0.022532100520053774,0.06733652102945845,-0.05766413053792918,-0.0435858929616707,-0.03264700786076204,-0.030138421866714223,0.06605293847535768,-0.08481664755554777,-0.07440668534344344,-0.029347198928452455,0.010790717871580435,-0.021810653395134133,-0.060690986886754325,-0.05977133318203592,0.009257549564875246,0.08345629063708616,-0.029842951347475274,0.011400401059032417,0.08338199743783219,0.025272564015845433,0.0293848940437115,0.0575877379763447,-0.044416394112847174,-0.07866321980973243,0.011989075911445268,0.03125404940303825,0.04844379063631599,-0.010587421831748718,0.06318505078595964,-0.08370216924091968,-0.013481115667330276,-0.08614925391744628,-0.025059353280408824,-0.06802444862596216,-0.005998925957042999,0.03529045066550074,0.04230299031462176,0.022439281388699946,0.009516783267113022,0.028002714424405946,0.0570578398546027,0.08098711801599502,-0.05500002889075646,-0.012504485252559226,0.027275615655724374,0.006781350420826905,-0.0032659085273094553,0.024355982557778946,0.005539320599469229,0.06950094919663091,-0.06962360994453065,0.020879674323495034,-0.07061616606729106,-0.08477351041614965,-0.08425425233296989,-0.03511603028557954,0.0016793803211429112,-0.05355416158733629,-0.05510547330438258,-0.043708124959397736,0.0495607577626014,0.04882938001767428,0.04834227985665881,-0.05176482189234618,-0.018822342863743326,0.08427648790082931,0.0287127647905111,-0.023714441746580897,0.03264691228241968,0.050024489255057765,0.042841734885754504,0.025135839567086368,-0.04723905034912093,-0.07192173264023287,-0.01795352335112243,0.023989076600189,-0.02919746064794287,-0.01580594611610539,0.07286348740860525,-0.05802588821261269,0.030300496826514502,-0.0187436941521225,0.025364458957323595,-0.07006244303549747,-0.05473895828496271,0.05998846636620474,0.02016692622940392,0.07403699500671639,0.04954384746346752,-0.04437219426885687,0.07164424354954553,-0.08180271408991194,-0.019871739342000146,0.0737144255462484,-0.05795619939633813,0.06324840036669145,-0.0678602589832761,-0.07799023277427128,0.020069178210465874,0.04905300415187382,-0.04392595801816659,-0.04674900780384632,0.030958395257360244,-0.008908530135113637,-0.06118480684857097,0.03679221857589546,-0.03686573591827184,0.06725467388871206,0.04995026608420245,0.05525592025367794,0.08364935841541643,0.025468874329171904,0.03738992270761917,0.07130135998852305,-0.0752468537978296,-0.02138498654221899,0.038875670466751416,0.005803506761502502,-0.01659467531098045,0.07448388614461,-0.061802077944971306,-0.0658147841904571,0.08366367822873108,0.022385184780610853,0.04541082624422794,-0.04536881403391661,0.057707804116760075,0.04988127923397013,0.05254997494130271,0.01591017704785272,-0.01758199326990099,0.047702094875947364,-0.08229520616884219,0.07950164017471606,-0.015041210457157566,-0.018832859239219246,0.07039385743292172,-0.008015730503855597,-0.06797229861091185,0.037019638512471136,-0.07573179429236668,-0.01409353049612404,-0.018004357685136002,0.06728221817615905,-0.018389203953237652,-0.04217598332182055,0.08528393181734176,0.007765209266872033,-0.014730499564555364,-0.015928223001752718,0.00867649160427327,0.03633411037048937,0.054626754264247186,-0.03813557464472486,-0.05374168051551026,0.07624141380765835,0.035375052145820866,-0.07530061610166942,0.03361745377494609,0.013306725185535592,-0.028142465263004346,-0.01811143981092832,0.00018696916098723246,0.07035919734504191,0.04588986541239963,-0.05464743632264507,0.020274577052270423,-0.06642642565392046,-0.0760295708766789,-0.05032859532168403,-0.06796051150783679,0.033165946383589405,0.025127740898951215,-0.05101716895989438,0.012873648848242393,-0.08288442042044497,-0.021265132600145766,0.02514267670962206,0.07339772237331327,0.03788154861642274,-0.06304040711993336,0.006691113974258505,0.07699610174789329,-0.06321758173802527,0.0691053575284351,-0.07096051999811756,-0.02131033085630405,0.029103673712857738,0.08435113269466803,-0.042817075824409134,-0.07433833271443771,-0.0007370791967593696,0.01766344131478325,0.07244348615445778,0.019941078614869785,0.028083655381370413,-0.01303151286673588,-0.03155961257011642,-0.038649875519192196,-0.03685988142187741,0.03570717145740616]},{"id":"chunk-7db5cddc-40","content":"Read the docs to learn more about building applications with PydanticAI. Read the API Reference to understand PydanticAI's interface. Version Notice This documentation is ahead of the last release by 2 commits. You may see documentation for features not yet supported in the latest release v0.0.27 2025-02-26. Introduction Agent Framework / shim to use Pydantic with LLMs PydanticAI is a Python agent framework designed to make it less painful to build production grade applications with Generative AI. PydanticAI is a Python Agent Framework designed to make it less painful to build production grade applications with Generative AI. FastAPI revolutionized web development by offering an innovative and ergonomic design, built on the foundation of Pydantic. Similarly, virtually every agent framework and LLM library in Python uses Pydantic, yet when we began to use LLMs in Pydantic Logfire, we couldn't find anything that gave us the same feeling.","metadata":{"url":"https://ai.pydantic.dev","title":"PydanticAI","chunkIndex":40,"totalChunks":208},"embedding":[0.06995917869292044,0.024774931989859313,-0.07169014416869474,0.08543319496963964,0.00347286376150647,0.058839626831607206,0.01876919356942903,0.0368815064957099,-0.04559524245028396,-0.08128207613772478,-0.07252826319325523,0.012683412329713836,-0.03936380209844382,0.07842915703149185,-0.06237891960330028,-0.08145579009216482,-0.002537495623435369,0.03026329333575164,-0.06693213647826989,0.03584761962620388,0.052959131001679906,-0.0036659529033122927,-0.019058198496617853,-0.027634800008352046,0.08109930177529637,0.052656332566984654,0.02560527730655097,0.046402236349522084,-0.06743536196271425,-0.03664701682196451,-0.07570725577375154,0.07763542039079743,-0.0016116409846141527,0.06717359157545408,-0.08072397378892415,-0.0631151854606996,0.042688773266976884,-0.05283936349477952,0.005208964671997803,-0.05375236933750427,0.011520102239989258,-0.008403106906395612,-0.03519698289836431,-0.03845468327972363,0.07259158749106588,-0.08039952538406818,0.04390905664178127,0.06540052102017399,0.07379623961107286,0.06193831888195065,0.018234007608572626,0.06186288763174061,-0.0224098216618206,0.03603551825067729,0.06927499300569366,0.08073540481063735,0.08083284340364186,0.035174329484515286,0.08333560982140145,-0.03012220720874145,0.02359716006989315,-0.016275872669863446,0.08375353074787349,-0.0687396847350995,-0.07613095335283734,0.04306176292384558,-0.059200723823016596,-0.04652281193657235,0.04134217867959885,0.0785207636771475,0.04424029836968229,-0.03879379656313866,-0.0443873269775957,0.0586922180958621,-0.005282299704451333,0.08575587911961086,0.04312652887621882,0.0613652845449741,0.0384834302265663,0.0042026389554962375,0.02836165502932166,-0.014049674220881513,-0.08271705211572784,0.008285932404239716,-0.046729979624254986,0.02207273060429551,-0.06473189005392972,-0.01008739196096818,-0.020073333373669386,0.06467001588702426,0.008037093136507538,0.03181543188859948,-0.03605132445959729,0.0562903151939253,-0.025663755981091368,0.02094158971798686,-0.013180775438591719,0.0734673914512986,0.008002667523476645,0.0231244950964029,0.06812714786735859,-0.053824051930126196,-0.03226709029730691,0.01255191068110434,-0.0014099276777019933,0.07687064687483443,0.0500497019591656,-0.022873074847821126,-0.05843635918548914,-0.06054688589951084,-0.008210074456986856,0.024905818695589783,-0.01974311206728735,-0.050666124235249695,0.07515296763686899,0.05822455953011486,0.018681904655967287,0.042855727098962966,0.07737889523768972,0.0041928021225892155,-0.04907555586346619,0.011158029298946113,-0.05644813453174612,-0.05989699877119369,-0.07233546103370526,0.035034085804836086,0.057557826768522384,-0.06595534508187177,0.0784253741529506,0.07001960502441187,-0.07250272542420515,-0.0034643546358576237,-0.027292189648949916,-0.048763226139724294,-0.006143999281473948,-0.02292913379320473,0.00973122352435807,0.03979039378373204,0.0661832512147458,-0.07652316294015776,-0.01450739359078551,0.02532914227364134,0.07890033534403094,0.007616987686102484,-0.07293877041130407,-0.006635182417474817,-0.05863522063293369,0.0432576387035209,0.08549711530223444,-0.041868393246323264,0.006360318110850936,0.010006860060072871,-0.05868545754528807,0.029627114443960236,-0.046870610089754454,0.005860327287124134,0.06955467960990278,0.01754261543595972,-0.045092617813133305,-0.005309008025449269,-0.05739504891800136,0.07889651044931727,-0.0034395647375040778,0.011092883639825224,0.07610835123439509,-0.07889430352484943,-0.0253462302598291,0.07983236237398195,0.07969116100395927,-0.0745943006639202,-0.08179324565639101,0.0750350934094755,0.0401051001977444,-0.04594016925747893,-0.06612464011782594,-0.017831290758347468,0.0593652488105178,-0.06755491112162902,0.001964503282757875,0.06585278040850744,0.02982090164932385,0.010498809776582277,-0.04418139912113354,-0.04881401407422219,-0.023147734270585203,0.05819554707559743,-0.07235157353475505,0.029733631247724424,0.0071143589237588475,0.013894214207852293,0.009858127384796803,0.058527726366024234,-0.06984422174838376,-0.03436606091254111,-0.0451399118948137,0.038912063653388056,-0.06931460944975822,-0.03204375186095928,-0.011257770836517685,0.06042120301293947,-0.036067534904033256,-0.05388360540537401,0.037190271584061234,-0.055143286457270374,0.06527927312042854,-0.01488353891225882,-0.07850541553711993,-0.06005170392347232,0.08341264640143738,-0.03199299518040356,-0.04536927970554666,0.06904958172662966,-0.03830002872881275,0.005400050612250099,0.02580311407726393,-0.079325120539165,0.008446576803256929,0.009942349759616491,-0.05310916839984535,-0.05226526558145011,0.07601340615587991,0.01656674150600043,0.03279226324637392,-0.05443518619769893,0.0153512427957048,-0.033358096711072587,-0.0050189896030988475,-0.059041710066689894,-0.03601963994213287,-0.006280929428011786,0.061915151574047325,0.08514545999777155,-0.031665137546415326,0.01732020640676285,0.006307645850913833,0.05473768413301687,0.040343604283836994,-0.07955622253414847,0.07028268259290048,0.07290975064354543,-0.08286497385826191,-0.0741722038403371,-0.08231317355408564,0.007965043639700261,0.00783404183559777,-0.0846942772641109,-0.013952854159642564,0.08280656758368067,0.03490827031251721,-0.07535296912529689,0.021573880468083166,-0.030827404125817495,-0.017656482818367576,-0.016279172007523508,0.05096711506901869,0.07058997406277283,0.08545469019128378,-0.06606904950367348,0.04497876296403699,-0.005375273351631447,-0.018971419377672494,0.05617893870029244,-0.04086187370750774,0.06671945826732785,0.031237109328914325,0.039392797954664785,-0.08579469076027874,-0.04690820109208949,-0.04247936442262347,0.07900709292020675,0.018341101291334216,0.07442974133109075,-0.05020170327626007,-0.0017905179371865533,-0.0449793303209099,-0.002719287336593634,-0.011900329309314488,0.013204222551323256,-0.0639370344964817,0.028106919278469557,0.06183676141086873,-0.011459305418738169,0.010342250263918997,-0.051274872376643375,0.08040959251506556,0.07446083891833927,0.07613025498596576,0.01274488497344517,0.02868913787047693,-0.06693800564402005,-0.017359409523467838,0.06527518530159705,0.01676454062531186,0.06066325813355472,-0.05083123778477775,-0.06747891341029777,-0.045218474301772164,-0.02765182537737155,-0.08618047687915006,0.07489055463134059,-0.07150724500624316,0.05964547737818339,-0.014817857164279262,-0.04155241360098171,-0.04473351690571243,0.08362480927966208,-0.03668002787437421,-0.0044066718390017605,-0.06630553993196155,0.009019920202796463,-0.008916294885086457,0.08043561249767561,0.01998952027240066,0.0013656287347227844,0.033076935787389045,0.016007986566956633,-0.0629341826670635,0.06545244929034548,-0.05772112160579693,-0.06549054543988712,0.0715350060244362,0.011110054538442802,-0.0232730207595073,-0.025300079340778957,-0.014825937099464061,-0.008758038096812117,-0.049900740607320665,0.020316285759272412,0.08296248067264497,0.06772331163151346,-0.061804521241550905,0.0667094392591918,0.026491217574413837,0.007429434781337404,0.03566976810461016,0.06601313426505556,0.003614361682104272,0.039203343877727385,0.04638952377506704,0.008666642306001856,0.010189760551256786,-0.06216353453181698,0.05517376989806396,0.07238747368600457,0.0028602260353841075,0.04176726681906319,0.028280881725221616,-0.009237841298992577,-0.07158693957692436,0.08308703646359346,-0.0477503242912552,0.08057217042778379,-0.03549144073314678,-0.06654660901448647,-0.08143954223923706,-0.025282317927106123,0.021699812933690735,0.07723410709664144,0.04647732967163689,-0.0527639297959515,-0.07161986708904117,0.016711485903226325,0.014239319627867973,0.0653559634424114,0.051514776249255205,0.020600860662919808,-0.039029103091379,0.06282192969261076,-0.026734505409135318,-0.0776121667033364,0.06477634937589842,-0.04788973628724478,-0.0680757519788206,0.07649905119797402,0.012302891183204556,-0.010494381683265844,0.0014030460432279256,-0.025851858410324426,-0.01863230773900374,-0.08618569487166322,-0.011885604656850178,0.023538152393445498,-0.03406834748940866,0.031619989445630485]},{"id":"chunk-7db5cddc-41","content":"We built PydanticAI with one simple aim: to bring that FastAPI feeling to GenAI app development. Why use PydanticAI Built by the Pydantic Team: Built by the team behind Pydantic (the validation layer of the OpenAI SDK, the Anthropic SDK, LangChain, LlamaIndex, AutoGPT, Transformers, CrewAI, Instructor and many more). Model-agnostic: Supports OpenAI, Anthropic, Gemini, Deepseek, Ollama, Groq, Cohere, and Mistral, and there is a simple interface to implement support for other models. Pydantic Logfire Integration: Seamlessly integrates with Pydantic Logfire for real-time debugging, performance monitoring, and behavior tracking of your LLM-powered applications. Type-safe: Designed to make type checking as powerful and informative as possible for you. Python-centric Design: Leverages Python's familiar control flow and agent composition to build your AI-driven projects, making it easy to apply standard Python best practices you'd use in any other (non-AI) project.","metadata":{"url":"https://ai.pydantic.dev","title":"PydanticAI","chunkIndex":41,"totalChunks":208},"embedding":[0.0766111567968011,0.029343484537290486,-0.0017787454835805998,-0.047571232236973605,-0.0627738560290386,-0.05642486579364401,0.01942906521990928,-0.06891286140829184,-0.03818346123304306,0.07519272480092647,-0.010639336568540072,0.07315342217277816,0.06650217006423123,0.0036413727754848963,-0.07204468966749558,0.016860752416934723,0.04142215310893636,0.038678876762503124,0.08369080414440652,-0.07582258232965616,-0.03993939367209846,-0.010683431273505633,0.03774977709362433,-0.06465643814741256,-0.058610430518614656,0.0015465987955501968,0.040399567161046444,0.005696745352631787,-0.049697733628221295,-0.08603083181497384,-0.01814848723794158,0.07233104689224402,-0.07086982626323776,-0.024973321239199042,-0.055915416486175804,-0.004744509737904351,-0.042730311154982666,0.08054880729855231,0.05953710984849949,0.06774754259687424,-0.05617225807814216,-0.012599766973436817,-0.010987508579129203,-0.01676846127363354,-0.03256828149469241,0.0451223407480605,-0.0459041178816814,-0.06496395807760376,0.02861492405469802,0.018436705116640615,0.004587876669662538,0.027491895124428397,-0.05301799063847195,0.042288704272853375,0.01774875519444852,-0.08577315599237462,-0.06018021705463239,-0.031692677920682574,0.06382502628054038,-0.05521311070137383,0.05191632158276372,0.0773311552789114,0.06020524448633747,0.056141329637304074,-0.004228825316991842,0.03153313579243506,0.07982015573188664,0.029852034584963324,-0.028541963987460502,0.06599163748209148,0.027819320546795687,-0.017149592344210984,-0.05745717765659312,0.07227934749079187,0.08028316595051269,-0.07305111227856971,-0.002639348911523519,0.0854933911450583,-0.06431087158097654,-0.06691633250009672,0.00973543632837672,0.08077215332340486,-0.030498241738609048,0.042806574575006945,0.07557767139475147,-0.055190693474301715,-0.08619894918613208,-0.032419920780494785,-0.00643141014170326,0.011660510699447601,-0.06430586944103883,-0.005318934349548052,-0.03672221237923038,-0.008381985309695228,0.0365964453145821,-0.041042858818749285,-0.0647803484278243,0.019021079288885127,0.025664446110352287,0.02688045367811458,0.0853605560603011,-0.04444131408226826,-0.0064024708567425115,0.0141972549571789,0.048523652356935836,-0.08222701988659753,-0.004957690067025443,0.010126414924400928,-0.06353889757530203,0.018239232029196608,-0.01560329489050475,0.00348114946592268,-0.019415822450119215,0.056156061955478745,-0.002366531310951089,0.05698002999857958,0.05718165320492178,0.0516280639304499,0.00764619855297012,-0.05179974981541299,0.08557218412886858,-0.07989135223179522,-0.003994495376650591,0.020670660488456758,-0.07283690502820116,-0.056063180214338766,0.0667412160924793,0.04004847333869548,0.071837062295985,0.07868301060483926,-0.06338768209760569,0.012197334175336185,-0.013190595692212164,-0.0758976205653831,-0.06654823262428335,-0.04664529889949369,-0.08261264861632815,0.045064862413664364,-0.05054265599416469,0.06818456969588434,-0.0825502376036064,-0.0020642138298766584,0.014132543594685952,0.0746165282888682,-0.006237545605609506,-0.03427613375365318,0.054460127507047,0.04372744812830508,0.02956910707146301,0.08461789654599298,0.06999761301620602,-0.038349578511679284,-0.05137701734785427,-0.060076907944555814,-0.08023242721689657,0.03368893887841539,-0.021664866628219363,-0.022550266246478354,-0.053879206363230354,0.046124986466927066,-0.057310432358000214,0.026984439013314047,-0.054423638042944554,-0.029043837066554657,0.020126173944753342,-0.012137772145098912,-0.055679025729890946,0.08524315071343529,0.06253163740158862,0.02390386907226235,0.0077878457564865755,0.052391222426201894,-0.0766385056313733,0.04105460037054162,0.06354880457014687,-0.045944346317657585,-0.0486804999204314,-0.05002331943831839,-0.06220050396684109,-0.02175321311015864,0.06727234117647309,0.01569276354116063,-0.07789252077090267,0.007593634039119565,0.05707005279267731,-0.028313787082249922,-0.01565384702195574,0.06607095496218338,0.018223550260237257,-0.0010381191483104229,0.06591618350856351,0.024609232192727485,-0.006455272434190098,0.06741583736454276,-0.050765941653204374,0.08606966516735724,0.026089275710519638,-0.040377073569564444,0.054373459279485926,-0.04698129038753373,-0.025718392456932884,0.007671493036329762,0.041934156615650385,-0.05917318482470885,-0.06221835581527809,0.0009514496599392797,0.07576016378643834,0.0025086466311203246,-0.027724897736497882,-0.06497714637042505,-0.05492883536535772,-0.04580276461608779,0.07879554433099024,-0.015651974932253863,-0.03340451608120787,0.07263993744537121,-0.033988897018322126,0.0017080096008390134,-0.04421660315818082,-0.024835278897574635,0.06364061482915152,0.08413886524452638,-0.06083404522496345,0.06415901419984735,0.07182760408001065,0.08550238554537411,-0.03917271412344954,-0.05297046816150888,-0.00015988693022232414,-0.06696449848627982,-0.06233369638943781,0.009951326308191346,-0.005737320056637343,0.05526231351444065,0.01990600595157002,-0.051856316106129334,-0.06088989155191707,0.045946876673706186,-0.013013853759286084,0.0409893465497349,-0.009965758011194288,0.06787069789825528,0.03922010219703955,-0.06078415051100429,-0.02200513037808811,-0.02058128999123691,-0.06401668345501825,0.07666178148124178,0.03624162476661264,-0.023705288429118183,0.06234320099537687,0.05003882966328028,-0.05942586561188211,-0.0746222992326935,-0.009746192653369148,-0.027312751991048122,-0.015940112208196983,0.006462129768307888,-0.055579401221941147,-0.07904047827022587,0.018105466475005133,-0.041939685198907235,-0.035265003564534575,0.08497978488752568,-0.017428768078533607,-0.0237568846793601,-0.07201928387645742,0.03350655583567936,-0.06483913522459182,-0.0810714154337027,0.07176835816306253,0.05617524893639808,0.08159148379462391,0.04738841492292087,0.04815112143230783,-0.08496578838481403,-0.07016468215230699,-0.03808428182156672,0.08080937607495592,-0.021766481474383256,0.03762241624971941,0.027570962239887038,0.01984990366461378,0.0014403105734248436,0.006564712313360151,0.08269508850706482,0.0430571039646829,-0.002362604468648701,-0.0009562448105327104,0.0702040746002835,-0.03085661302837497,-0.07346334390199451,0.059453461888236414,-0.04405838746936143,-0.08542472927304565,-0.05191490140049876,-0.07658882891816807,-0.04988325826772626,0.07196084525796029,-0.03155186599646031,-0.040951807952473586,-0.0736935671097204,-0.05764850459235472,-0.0650046478589687,0.07054487025413066,0.08022174284343957,-0.07564066593508616,-0.05213090362842126,0.05687256517378924,-0.03407840538673114,0.06720688518212423,0.05390844773624319,0.006591438254016109,0.04307422290989301,-0.08410767636952128,-0.013036345822065304,-0.052006245189906375,-0.03732482649115331,-0.02756304642347228,-0.03730799447850124,0.005331083386994379,0.06363207169939486,0.06785930427653342,-0.06620300383991196,-0.05698163953823666,0.01975520810642039,0.05689842080691305,-0.030240133704199285,0.06913330344085764,-0.005316343326959465,0.06226072004216684,-0.038749644833972856,0.04699166714234076,-0.060193960629547454,-0.03545104638458067,-0.0014827163207230553,0.0014624241981390142,-0.0570196049856882,-0.013192528413540494,0.04865927959447792,-0.08099264622789157,0.00036510578497128096,0.009851311595374298,-0.0580862358282884,0.012040667566839818,-0.07507570365591852,-0.03869202530050017,-0.06530199214605284,-0.05824603970870842,0.020878032767884757,0.013794932532643233,-0.08171145005048898,-0.05496939406091984,0.047608555091665776,0.0022257012236888665,-0.051929268525155295,-0.05452869980646784,-0.05011840255567855,0.016676149999189076,0.08128563572188298,-0.06520573655720094,0.01706084570310867,0.05744503068775402,-0.01069864045301592,0.055982480502443366,0.014833689606597438,-0.02726659114400099,-0.021111001874260165,-0.00047829812636895463,0.030071554530873422,-0.06538019046397003,-0.051879346484908134,-0.0014595301031720745,-0.03301421312277848,-0.07916500546115882,0.008218780966466898,-0.041136020408903295,-0.06202550285354098,-0.08228617047610516,-0.0619940229123332,0.02897696260299885,-0.05934081161270871,-0.056688302857636874,0.013537265880456192]},{"id":"chunk-7db5cddc-42","content":"Structured Responses: Harnesses the power of Pydantic to validate and structure model outputs, ensuring responses are consistent across runs. Dependency Injection System: Offers an optional dependency injection system to provide data and services to your agent's system prompts, tools and result validators. This is useful for testing and eval-driven iterative development. Streamed Responses: Provides the ability to stream LLM outputs continuously, with immediate validation, ensuring rapid and accurate results. Graph Support: Pydantic Graph provides a powerful way to define graphs using typing hints, this is useful in complex applications where standard control flow can degrade to spaghetti code. In Beta PydanticAI is in early beta, the API is still subject to change and there's a lot more to do. Feedback is very welcome! Hello World Example Here's a minimal example of PydanticAI: hello_world.pyfrom pydantic_ai import Agent agent = Agent( # (1)!","metadata":{"url":"https://ai.pydantic.dev","title":"PydanticAI","chunkIndex":42,"totalChunks":208},"embedding":[-0.009553868619240107,0.05798520954967318,0.06697626879876299,0.0034799164591508636,0.058421086645615024,-0.07034832042097323,-0.05080022186124155,0.06968504354070171,0.06653299993609074,-0.08269437322156793,-0.030807616839943788,0.03964405498469702,-0.05157969042208596,0.06965621340856837,0.02920007459816432,-0.04466244402081827,0.0831728025397266,0.006671182340023357,0.039703948382297814,-0.016580940712272313,-0.05086220252648599,-0.04576896913923724,0.006307982582002487,0.06423403132136457,0.018700779745940838,-0.017281494810800074,0.0023188535901829755,-0.003414398657990245,0.07810017030870645,0.07508675752104033,0.037788371082768744,0.011712017565463572,-0.06848169142877733,-0.05669738578950699,0.05626812561335317,-0.055240305625505595,-0.03200445284760034,0.021226040389762103,-0.01582710548214947,-0.07221885920318775,-0.062339979644063376,0.08291488753182076,-0.04097179177049581,-0.005114654367012742,0.046375582234540066,0.04058465939884318,0.06413504986586134,-0.027552904646746163,0.058537924165648056,-0.07256699491195676,-0.035339111274573724,-0.008100037636925777,-0.010731194255498554,-0.024213757660407238,-0.040127007532814486,-0.04003305405798139,0.037680018608071644,0.07761243925848701,-0.03776826059579685,0.05688421418143376,0.0801393155848782,0.05547379442914241,0.04797505945643049,0.06294954085645853,0.031943536697165424,0.07458575553703521,0.021888816403332317,-0.033293900694047286,0.023116177481607592,-0.03950815901038656,-0.07061844766330624,-0.040320207290762626,-0.07670760578554314,0.06880535142574958,0.021055243577646578,-0.050582210548535726,0.017020174158539625,0.0817287905294333,-0.059383384767755655,0.03311817083250758,0.009238602334479864,-0.02085130450381923,0.06350063621268068,0.04445449228464999,0.004521064933619707,-0.0809034037264576,0.07717426116223478,0.006078831641920275,-0.041699280101943105,0.0844221920473896,0.060501747993172775,0.04920929531639849,0.03342928814989363,0.0011310973093236658,-0.08250555128026404,0.08291288019152473,-0.06762833198430956,0.04367278689111703,-0.03226168546383,-0.0694646937570045,0.00785530791252176,0.0628352154783712,-0.05129956504673137,0.04163191254607851,-0.07515701777908321,-0.058574242053204585,0.07361337354000146,-0.02937415352011508,0.054177011203684386,-0.06582575611062619,0.013533428712122474,-0.024728701613773944,0.023611170100613935,-0.002175329809244142,0.053532433316115874,0.02141353135303306,0.004071010774280359,0.0622649475631368,-0.0205735999462482,0.044063005398291846,-0.08385234038230441,0.004319861475842444,-0.052003892914625975,-0.02571363648277823,-0.0069394538583062776,0.049599795594416934,-0.045317497780345904,-0.012210548802297811,0.05852387930186876,-0.07158412578339568,0.08288141433858104,-0.06639669434947842,0.06214066943675783,0.02475934481617056,0.06550103214078007,0.06891125507838629,-0.020889974122378786,-0.0284832215874653,-0.028518361096672558,0.005685705251840905,0.07479929802935632,-0.04186408855154803,-0.008651603167468082,-0.05726656682476788,0.0209649942876356,0.02543565356300146,-0.003403555611352151,-0.08189612360873873,-0.041718179417693846,-0.0028998004178860727,-0.06227578438714306,0.04369943984562642,0.022113606970612393,0.05197140498685196,-0.0149755018629769,0.08470939650101789,0.01076207213471654,-0.08013508546811168,0.03905402700083393,0.021248728703408493,-0.013297966897772314,0.05264586050760864,0.07369982997672336,-0.05113453672101586,-0.02979883069458809,0.05950307644032047,-0.08365842196561808,-0.0620412194928787,0.08131619789201275,0.0542030249560402,-0.0036406273066598304,-0.06506651359012677,-0.06123988436250276,-0.05657017840004232,-0.030187714613529645,-0.061946537196357856,0.014411244889108814,0.03677463551476853,-0.08133416638003188,0.03644490655441512,0.06133345022458119,-0.0008819287030656271,-0.049246403579017585,-0.06699335308990022,-0.08400270668354595,0.065901723458332,0.029098631830192925,-0.012120662307367126,0.069231887856637,-0.0343083246895491,-0.05589175118147761,0.03452884690021507,0.011621124858334128,0.045296720614065304,-0.028869372392852147,-0.05997321625366054,-0.057847793752872675,-0.07240972402328139,-0.06000870177379996,-0.05011599549174667,-0.024850620077119495,0.06157020405893946,0.06004588548921966,-0.0314442735316732,0.046989608254149245,0.036969648785698826,-0.045036163646647885,-0.003288175929149449,0.010978420543134693,-0.08378551608533713,0.023271821651411558,-0.07622587575215432,-0.07389268813574716,-0.01545502393291877,0.017670829357681623,0.06313935366494874,-0.006063501974323047,-0.03357693445729413,0.07128505820515,0.01016409900617722,-0.01855066288123718,-0.04399422457407671,-0.030809477204661883,-0.04344119054784882,-0.06396349365445395,0.07455603613312166,0.019349418140439615,0.03782221008525451,-0.02521339464487816,0.03402638298030395,0.07922025987305638,0.057227465201355,-0.024914770695820973,0.05393695807144532,-0.030712906999015955,0.05950423875084469,-0.08413976807625863,0.07859981754923898,-0.004958019315889309,-0.002817659856142004,-0.009297785399014498,0.07994750199896182,0.051797592440361126,0.07496748180891254,0.07724975586644196,0.0784861613471615,-0.049021898726220904,0.042610360130650955,0.020829001805014208,0.012100048269452416,-0.04617687552649233,0.010936545082133963,0.04033004440081484,-0.07699154059476383,-0.06335813588452065,-0.06879556287953587,0.028897380787611268,0.0021777862433188383,0.017811589304601826,0.04009569087609273,0.06303783029873351,-0.00048198826245063477,0.04094131330494725,-0.02918698552205901,-0.04014210238623779,-0.04209590195832351,0.056593764103649066,0.0037456955003798273,-0.06143565906578302,0.018547709560257017,0.0016618645361444243,-0.016430859948133043,-0.07941868489107087,0.03911718738019404,-0.030108108876883404,-0.027917596081059898,0.07071922658087339,-0.048995333976947976,0.08037733041006333,0.001327709460452856,0.011499339974776406,-0.08039685867879973,0.0006128942218831677,0.043236034321518055,0.00451442050863241,0.008592049389825515,-0.016015584151576237,-0.05533669749901757,-0.03211715127954185,-0.03391793894905688,0.05613510289712855,0.08292392024951038,0.08376091453287325,-0.02525604497454003,0.06106748260813432,-0.01511986702408633,0.06026997339655783,-0.08116827133077896,0.0037637985545795794,-0.04044473310427166,0.04162388325241671,-0.07104534676643598,-0.003857274991153759,0.04325887226539459,-0.015008687834379947,0.04467417932533888,0.041971316396926105,-0.019308995694449486,-0.05360396459335419,0.04816571889529448,0.02038266488118189,0.012573928692241412,0.06433749734850633,-0.008423854381236776,0.06199528106128342,-0.05649239095048767,-0.06750198886776472,-0.0821146957868091,0.0387962405148237,0.06335777402478586,0.008872205133508516,-0.002549514961714864,-0.05407519274712632,0.038105526696765354,-0.04068394419316958,0.07035701481547577,-0.020943024540386462,0.0763100238922992,-0.009653988412188466,0.062481673329318484,0.07949226140056637,0.0628762076935476,-0.022562533472715283,0.05975224975349404,0.040391016312273306,-0.07098172874716382,0.07141358190069458,-0.078547542680832,-0.07232533166938536,0.08189123074092919,0.07297481036314817,0.08246576046906749,0.06218119759154588,0.007965884363406926,-0.04407589366451704,-0.07341144755775951,-0.04780813544272068,0.08029450750593277,-0.06155815895055894,-0.06620144553074565,0.06755998828713675,0.03063764397389106,-0.062019967285421966,0.06272975049899017,0.0398278954675218,-0.012646794547669628,-0.031146649265223203,-0.01577373361582137,0.02501121890777223,-0.07883596955771713,0.019796768431396394,0.01658886456289884,-0.056102442021212846,-0.017644220796738778,-0.0479478204433379,0.024329152575136768,0.08399748031851725,0.00808289610152543,-0.07041155290448578,0.013480496379340765,-0.07835042699888535,-0.07519877740773731,-0.04493057533446442,0.08086778231947482,0.0015478301120822632,0.08393465552693956,-0.07334870737242015,0.01548332567573017,0.07843143338942653,-0.06991000073785524,-0.010831857921920386,0.01851094878791785,0.054036531901515805,-0.04422746204766497]},{"id":"chunk-7db5cddc-43","content":"'google-gla:gemini-1.5-flash', system_prompt='Be concise, reply with one sentence.', # (2)! ) result = agent.run_sync('Where does \"hello world\" come from?') # (3)! print(result.data) \"\"\" The first known use of \"hello, world\" was in a 1974 textbook about the C programming language. \"\"\" We configure the agent to use Gemini 1.5's Flash model, but you can also set the model when running the agent. Register a static system prompt using a keyword argument to the agent. Run the agent synchronously, conducting a conversation with the LLM. (This example is complete, it can be run \"as is\") The exchange should be very short: PydanticAI will send the system prompt and the user query to the LLM, the model will return a text response. Not very interesting yet, but we can easily add \"tools\", dynamic system prompts, and structured responses to build more powerful agents.","metadata":{"url":"https://ai.pydantic.dev","title":"PydanticAI","chunkIndex":43,"totalChunks":208},"embedding":[0.008100435002019991,0.01697550995684778,-0.06869564927695253,-0.0033182801258794564,-0.06294265000152945,0.08870601320470885,-0.07023066308176072,0.013265080173217309,0.059984336390440054,-0.03235539929901852,0.0729848527730044,-0.01494963013677367,0.0189969148107413,0.044810699705040244,0.07383296584821247,-0.06038516254182135,-0.07671720751437389,-0.027644462884839235,-0.01858667564248173,-0.04473862465723044,-0.0008642373775124965,-0.08811926131630181,-0.05806810618065612,-0.023179330210839604,0.000951726811121287,-0.007494516176810253,0.002511944552728117,-0.026248698840878857,0.06887386632969653,-0.03972817085432257,-0.014132291806916993,-0.037360403814532574,0.05799176567933597,-0.03692961720496018,0.004103946157481939,0.019698497454535155,0.03398949441202445,0.033815474029006164,-0.07672018787035446,0.029109212159843946,-0.08997804923075098,-0.04251978266978775,0.049856232642001674,-0.0727266749254642,0.02895602329567374,-0.013716986524091581,-0.06744180572736962,-0.06902815434427292,-0.08358017172110105,0.07958027794025853,0.003127772389946109,0.02674151009808609,0.050981924834663364,0.05453594680914772,0.03427034243450153,-0.009370283717343525,0.006179277481370911,0.05004644943489519,-0.030120392074876056,-0.020805511930821204,-0.07754450802114794,0.027815394801158543,0.01064891852807841,0.06432596982271065,0.03293593383322658,0.07871575270782866,0.0783667911357053,-0.08734888978141883,0.08799639683464161,0.052517092155144524,-0.0566883425640906,-0.06846124784462503,0.034495130087888626,0.02563704910828167,0.011850516719108464,-0.01800475588574713,0.013179045005087923,-0.028421488652550835,-0.051067743727666676,-0.0730943077838695,-0.08465848133727814,0.022606676963285267,-0.003991704293183874,0.037593528076208166,0.07395964533086365,-0.021402881216360768,-0.06567905669795437,0.07138866973889517,-0.08168157010042519,-0.03664499714107998,-0.06380743564038376,0.05604599644245063,0.05570904589054209,-0.005985018797730593,0.0006980745320598564,0.063997049370947,0.005960467448517465,-0.07339543498190165,-0.0192057267656301,-0.030132275159879023,-0.04957792642426108,0.04984112049122503,-0.05315900673186592,-0.040469209432022354,-0.0419473611968568,-0.04333363081385742,0.01876719370243398,-0.08553567625462191,0.04788746870615316,-0.016109562010124333,-0.019864478892617422,0.023300085388738453,-0.003929636814957674,-0.07432857622606648,0.08637589621846593,-0.03872763795603232,0.07157332195667516,0.06703624197061908,0.07798159210946864,0.03946476720499955,-0.01597763612922812,0.0027455846630160437,-0.06817355867896413,0.019327650866888833,0.08165631325165905,0.07564209127916477,0.03455442582361237,-0.011249144780603645,0.0726288905230663,0.07442726336128086,0.020934747012504983,-0.06195474660639715,0.04575810699953961,-0.05430205051430028,-0.06734185816348241,0.0013630109806159602,-0.0066976114427344064,0.022374599595906857,-0.06888016552600651,-0.055996796595977824,-0.08336375009013282,-0.06271464420182521,-0.0891884629369804,-0.06984062524287812,0.042819285635567174,0.04732066954710021,-0.0016411116855778668,0.05198487755237879,0.025629993764389764,-0.054539486133231375,0.01582529560616865,0.055423484693084966,0.040064107678993474,-0.01979585833391296,0.0031643905654899183,-0.051368349066280385,-0.08389156012786081,-0.017546639310088832,0.06780748735978964,0.05390614228001819,-0.009842998807477285,0.08422909631774729,0.011237041920940617,-0.037063662109312986,-0.02782094275235163,0.04911652834161171,-0.056926821446530725,-0.06879246511543728,-0.004712597068619803,0.021550126259946924,0.043282372047865496,0.058668726067138084,0.07732823931047447,0.05801302198914141,-0.0490099082363201,0.08124752753921011,0.055282759948721505,-0.06935383030684601,-0.08764898027510434,-0.05943162745539583,-0.08817240384140712,-0.007614075123058665,-0.015702156493822752,0.02962689656834379,-0.04401640141493808,0.07736779821116868,0.004110527715786056,0.0603770773113361,-0.06965501017355331,0.04544127557787578,-0.06341979981266688,0.0652239286879922,-0.06045402693939943,-0.0004562252764194329,0.011883836031894633,-0.051344427060169555,0.005376225228852195,0.057711997917261774,-0.040561268617035746,0.05411290969916286,0.03909852596672053,0.049159927447703776,0.06760604991671684,0.018959732305837706,-0.036895652848105635,0.07715338980099977,0.0014071006034095258,-0.05705789600345635,-0.020869468821904418,-0.07823999124168982,-0.026992905574663485,0.022390056450080225,0.025513462472138555,0.051651580214414586,0.026395145231849913,0.06056813522055942,0.07799652914583832,-0.07609656436490375,-0.08998436558358551,-0.033120006838833795,-0.04651780502441963,-0.0846373398500916,0.046973538696435405,0.0474231485079236,-0.005911112584391801,-0.0867913056648178,-0.012674062735178815,-0.04187435568388186,-0.06583596957233506,-0.025001163673006383,0.0779401553773895,0.005437017766221707,-0.014644900184295106,0.04698841344441136,-0.0637675104552001,-0.010702225955424258,0.05839429386378851,-0.056945685407094056,0.017003740017489225,-0.037747866574199374,-0.06042788850744184,0.02508587029934055,0.02379411552292031,-0.020049456771712475,0.01200511035632671,-0.04802863042803018,0.08423711805589208,0.028594735740245916,-0.017987654411997473,0.045925008635683925,0.05702000958221454,-0.011418163678602829,0.006181798527247525,-0.024297890401728958,0.012013793560249288,-0.07254022810512267,-0.002326346330369239,-0.005474784873502461,-0.012066719637325996,-0.01112128434445482,0.06457386074606582,0.02951374932900448,0.08370145629099762,-0.03235983632915546,-0.07183157172981172,0.07819781271083562,-0.03589399019256889,-0.04826710631104647,0.06035085505286769,-0.024567279709883164,-0.05144217552771954,-0.08934765793868432,0.023960213796927723,-0.016167302580093964,-0.05027406518744237,-0.045556281623726644,0.03607956520953629,0.0545759809742221,-0.009447428954124166,-0.004357987693330108,0.015500485592832002,-0.03700573173500476,0.04124309292622574,-0.07992015521083896,0.019597130459275677,0.05369095361145713,0.00848709587332437,-0.08940532357262375,0.025913192847413922,0.06102226861208545,-0.06536737807118673,0.0735441249704364,0.03857724779355117,-0.009162088713645569,0.005339344655968852,-0.07247992307371125,0.05446107001461802,0.02178178694369456,0.05053287173426727,0.006604534024296266,-0.08140317024810981,0.04143594582754641,-0.06822642967176108,0.019240484377184234,0.02700475069063401,0.006980118526210669,-0.06753359761464024,-0.0878271694909948,-0.014341988210404085,0.05325905376522127,0.016714536049072675,0.008854774549332832,-0.06894639107500491,0.007001519602070615,0.057604469028320296,0.06818185205609481,0.03534735263601122,-0.08647104881049797,-0.018856156007919785,-0.08474369241954383,-0.0893071557445671,0.07064547981007917,-0.08871136718491342,0.07436546866501986,-0.011572088991919948,0.06515449631010178,-0.0867038373649453,0.008568011006411653,0.05952162541439595,-0.04784239771312099,0.0886285105170008,0.03066443114600716,0.09059393271054288,0.02089443670679357,-0.020377273242850377,-0.0368848547219761,-0.056760652931870964,-0.08763596365572017,0.03643479154265583,-0.049943210974168394,-0.05643842512867791,0.052084617794051824,0.079060911941226,0.0761115038133936,-0.023400604664465703,0.02090043215892625,0.042985676778335404,-0.03556784306223395,-0.044758717363737946,0.03266600293497237,0.0050349313766366545,-0.008143942593129588,-0.049229946240994374,0.01855879451876141,0.013649287214348505,0.030195094742167906,-0.02911431008216598,0.01728287613632761,-0.040099799506373934,0.06743764605886753,-0.04043062010307478,-0.06345554633827571,-0.010026304785343953,0.07720170865016215,-0.018615606066330916,-0.0838925754943942,0.05413370002572568,0.03425329453942296,-0.02645234779413788,0.07411277032207485,0.005921552509140055,0.051275668952699444,0.054615829018157,0.07317359683263054,0.07675413730258271,-0.019126573201278297,0.03450158656748076,0.020119410155312534,0.03578946902517534,0.050623543371744996,0.05061685217360929,-0.007489019588513283,-0.022251887392633576,0.06505107733204234]},{"id":"chunk-7db5cddc-44","content":"Tools & Dependency Injection Example Here is a concise example using PydanticAI to build a support agent for a bank: bank_support.pyfrom dataclasses import dataclass from pydantic import BaseModel, Field from pydantic_ai import Agent, RunContext from bank_database import DatabaseConn @dataclass class SupportDependencies: # (3)! customer_id: int db: DatabaseConn # (12)! class SupportResult(BaseModel): # (13)! support_advice: str = Field(description='Advice returned to the customer') block_card: bool = Field(description=\"Whether to block the customer's card\") risk: int = Field(description='Risk level of query', ge=0, le=10) support_agent = Agent( # (1)! 'openai:gpt-4o', # (2)! deps_type=SupportDependencies, result_type=SupportResult, # (9)! system_prompt=( # (4)! 'You are a support agent in our bank, give the ' 'customer support and judge the risk level of their query.' ), ) @support_agent.system_prompt # (5)!","metadata":{"url":"https://ai.pydantic.dev","title":"PydanticAI","chunkIndex":44,"totalChunks":208},"embedding":[-0.023096534647677615,-0.0043409384884854916,0.008917226934427362,-0.04195738808977641,-0.07465301930504023,-0.07600031257189714,-0.041518154121151514,0.03193056478982755,0.02425229382060463,-0.07587071608857601,0.08803778935690253,-0.003026615972439317,-0.01672702199980011,-0.012492103092015846,-0.04050850898690072,-0.055964761813210764,0.07323926711292132,0.08442524338076096,-0.01613022930611251,0.06945964780694713,0.06660912627862604,0.05892458076742156,-0.03751163042121933,0.007509732659529039,-0.02237451267948385,-0.01627895643274073,-0.01490120645141381,0.06641076582295588,-0.058321360420713605,-0.07010648432865567,0.05393017425638555,0.038206775028469316,0.08077556590548048,-0.007579960878664664,-0.003223652962592941,-0.07506078328900437,0.025526208440864954,-0.06149881283731934,0.03392363385209488,0.08337261535740906,-0.03173611990940122,-0.07744262809635084,0.029635421235474597,0.07532916333718431,-0.03969021280666446,0.07987559800276002,0.08044055626374995,0.032165605567018606,0.02833455913031498,-0.08247692927910874,0.029754774815249737,-0.004818109921824928,0.05087981548398277,-0.05755757617303816,0.05046927193672151,0.03158779736760765,-0.08559910775142526,0.03167133380629614,-0.04326736422476217,-0.07906298339105929,-0.005077573475851807,-0.022976486814214568,-0.000873472553455278,-0.05292775814682833,-0.018106018535049,0.030980325814020045,0.07801738972627371,-0.08197455578855405,-0.007471085691501199,-0.005992207582572124,0.0351989884772263,-0.051400622346793906,-0.04913050415090337,0.015327599075280468,0.013699705447233094,-0.04349118099803571,0.04920194496363538,-0.0677760325901467,-0.06965638132175671,-0.03454795166614191,-0.08426398395922968,-0.05364342434050436,0.01726359099126688,-0.08766973499439183,-0.06184949539816082,-0.03202070033371297,0.07454025591467332,-0.025332441800773667,-0.07757771387018589,-0.000243380601698952,-0.01857516789005027,-0.06196214600867578,0.00025000897715968517,-0.019586464665904583,-0.060799529506181685,0.03929914659599276,-0.0696414030071225,-0.08806551934549071,-0.026756604612649896,-0.06188044311852849,-0.062166085417141616,0.08410597284313963,0.0046563833770202675,-0.06991571364796124,-0.07073006846760353,0.07061821909774865,0.04211331994183683,-0.021242128587054016,-0.021063809986158775,0.0856113810869941,0.03846818400069166,-0.01100116798613107,-0.0034535559027640992,-0.005374352142804598,0.04298334708496544,-0.05696883233156705,-0.053136610037310676,0.017011288838041868,-0.06108138009782306,-0.0787742991665683,0.05958154588882641,0.004997714616664712,-0.04860569290715707,-0.003967633538127647,-0.07271393585015552,-0.08153799332611908,-0.011067288650388814,0.07527941829770185,0.06106394784094082,0.03582566518536891,0.0334037054325894,-0.03608958603324008,0.039225023489691514,-0.060112478694810026,0.07470525091320634,0.031456320803121884,0.011034946176988266,-0.07373734934281248,0.0369078459332451,-0.0067170407685129075,0.02608464518359938,0.014183319652104622,0.028533459476592336,0.06039748707511084,0.047636142375803756,-0.028628079779727915,-0.06397015174924381,-0.021544525260379935,0.051055588453583996,0.0024312706244195774,-0.07185442503132296,-0.01163180256710765,0.06632477850987384,0.054640838456715864,0.021376733129762463,0.03579195943517694,-0.019520760041690215,-0.016531053332938608,0.015375316713047354,0.05929330821577009,-0.0669031827706252,-0.0709290947075906,-0.003393408564326791,-0.0723411253991114,-0.06018257552502014,0.04372223599241054,0.06579496738776586,0.013235347887396868,0.050587305816231366,0.02470362951634266,-0.048954657070550876,0.051012111204785215,-0.008773090626517491,-0.05144838010594167,0.07439844897526231,0.03447300207918929,-0.04353467164515036,0.08495816755739109,0.01584356898694622,-0.03916479615045875,0.05370469699729662,-0.07769474626522144,-0.034084733265522776,0.03987960224451965,-0.0057715720077048255,0.07700779928886821,0.03475383265784443,0.035025030589201187,0.06120753321004387,0.05060174072079247,-0.06273674140759566,0.07290590280880643,0.004473766159187574,-0.05996565396236563,0.0030531966287537233,-0.023268685378030403,0.07592798027291528,-0.053388903875964275,0.027302464223752525,0.05046694779041735,-0.06480983353397628,-0.04139806314741724,-0.04057974974387603,-0.046671796803299075,-0.08715688956309055,-0.07770207141750891,0.00019059852462867323,-0.028737057498954072,0.048374118877386484,0.0581924516866633,-0.07433450270754721,0.013454140343833298,-0.07759091572366197,0.08148518989752304,0.08268834431604506,0.02559222794045702,-0.0868338444703864,0.05884918228028483,0.012009431185773892,0.0010526295074708132,0.027277061250974108,-0.0874527591401122,-0.009251709460438554,0.08163165761032398,-0.05564951309361536,-0.04098743552508867,0.07663795817879764,0.008365958999260448,0.021354871717055024,-0.07192708833851102,-0.01302866584582544,0.029006377428306616,-0.027107689603925494,-0.028123708493213995,0.01799706233345672,0.04336234251050194,-0.036040148020969116,0.05094190202141036,0.08236323665325718,-0.0551518025186503,0.016497106773095745,-0.053218818417645516,0.05663136992407373,0.024985169474413413,0.028409947378164838,-0.08174061572268218,0.059086492728197826,-0.011749737659484765,0.06601470850436661,-0.009455706259257898,-0.060082130647046324,0.04764707929955364,0.03665306599367988,0.05821088272885847,0.0670004038006882,-0.007079007167087028,0.0635052101934177,0.08214004210634698,0.03270719120572653,0.008336126549797223,0.011300215620780943,0.012024463278030726,0.014249770121530949,0.03204118569843959,0.07455770107285362,-0.03884731608657377,0.008458636417791513,0.04191885757792846,0.02935484515020918,0.026898466264021575,0.012442649659508935,0.08176079438220261,-0.05959617041062407,-0.07470173440707914,0.05690677993120618,0.03253635798947341,-0.04601926460254858,-0.08415337223930687,0.011098905991318568,0.07323079100321808,-0.07302218407814473,-0.027795798747982166,-0.01828781867904701,0.07069568107483502,0.07366380512039525,0.06351751281450639,-0.06722740702366778,-0.04879023287119644,0.07433012544147286,0.037650420316276675,-0.031950041980730814,-0.003280139605542318,0.041949004290356265,-0.04927568261388649,-0.017141061838168756,-0.024226886120619223,0.08661409325769263,0.053584579087814534,-0.0351691860183178,-0.05229156362929954,-0.06621925136013479,0.020129943760234078,-0.019475025265106825,0.008613013784530735,-0.06047288792484606,-0.016378931771396224,0.07225362856270139,-0.05768539927591976,-0.07862167776400167,0.06215622015380069,0.07794500583094374,0.020008535071411405,-0.05222919257544558,-0.06028081570820261,-0.05272841558280143,-0.08719366531975319,-0.062099793718289095,0.07284026270513236,0.06252669207672162,0.03580681029305908,-0.0008957534010507294,0.06332291348151321,-0.07373280711546122,-0.007818776359539384,0.06762759434185066,0.04803330160087054,0.04725820408128147,0.0020129154224246405,0.07952740803125752,-0.048512018056996724,0.009371537500223601,-0.0022885019463628514,0.06401576783542885,-0.03825413640211935,0.04731490790785671,-0.011846450784320294,0.020227188760518076,-0.026773450103010063,-0.057499188052997016,-0.07163326024275707,0.026757330369392932,0.054122046311856756,-0.021940991073716307,0.05053380924991094,0.05393458774914419,0.06585039923783755,-0.071071597363261,0.035842008955335423,0.05884506984457408,-0.027792686194678787,0.0002789924119505786,0.07725192516911408,-0.07860648257094313,0.04703396655020467,0.03130287072367481,0.01723732667796692,0.045750571905129114,0.04168942187544107,0.05523353276168248,0.03839263365375404,0.023541027941870636,0.02109079487292108,-0.001545178769177683,0.02900965369110125,-0.07376285828147253,0.06486328242123783,-0.049971956179357596,-0.01664125680028161,0.02943275928652729,-0.08462035546353361,-0.08193956146423284,-0.08287928947039935,0.04306202727958573,-0.027520871086814207,-0.06731320439895515,-0.020638569240216977,-0.01139502823546529,0.0429017270426874,-0.049214721924695524,-0.02808218767422792,0.0034602026028603535,0.05150590229992054,-0.014036808847996554,0.07831220401442496]},{"id":"chunk-7db5cddc-45","content":"async def add_customer_name(ctx: RunContext[SupportDependencies]) -> str: customer_name = await ctx.deps.db.customer_name(id=ctx.deps.customer_id) return f\"The customer's name is {customer_name!r}\" @support_agent.tool # (6)! async def customer_balance( ctx: RunContext[SupportDependencies], include_pending: bool ) -> float: \"\"\"Returns the customer's current account balance.\"\"\" # (7)! return await ctx.deps.db.customer_balance( id=ctx.deps.customer_id, include_pending=include_pending, ) ... # (11)! async def main(): deps = SupportDependencies(customer_id=123, db=DatabaseConn()) result = await support_agent.run('What is my balance?', deps=deps) # (8)! print(result.data) # (10)! \"\"\" support_advice='Hello John, your current account balance, including pending transactions, is $123.45.' block_card=False risk=1 \"\"\" result = await support_agent.run('I just lost my card!', deps=deps) print(result.data) \"\"\" support_advice=\"I'm sorry to hear that, John.","metadata":{"url":"https://ai.pydantic.dev","title":"PydanticAI","chunkIndex":45,"totalChunks":208},"embedding":[0.048797788611183085,0.05141405326594539,-0.035313309629821474,0.06718939105818302,-0.00012820970256800188,-0.02082290121422216,0.01979881714527893,0.03455560111718974,0.04360234085894931,0.0011111114188270595,0.05115203913319291,0.08638872512470418,0.03538828535088926,0.013185194260654126,0.051243732893618776,0.08061638612286988,-0.010776095185620884,-0.07609356577020317,-0.03245397178348341,0.03737595814317702,-0.051015903201831234,0.032747154161028566,-0.05770729966250183,-0.06116433756445203,0.05015530716356446,-0.016031419548440198,-0.08449671449038493,0.03844176773272269,0.07852364440492929,0.00823180085933947,0.08322960156888201,0.04998597714298374,0.0797369497465798,0.030211218534432146,0.03716187777711096,-0.08565712085832763,0.05380724562351038,-0.06330526112822546,-0.047084084578880525,0.016730544349788035,-0.06729899149686251,0.06818655046231197,-0.04626075959222867,-0.07875129174294024,-0.04026486803714167,0.08719646614626499,0.05947861007329893,0.08310085130623668,-0.004288808923248157,0.005949211779560527,0.04933030862157891,-0.07379769949949819,0.06922232300664857,0.03255709696047664,0.007885590541795273,-0.058568917346726417,-0.07041914192548879,-0.07858687820995175,-0.08632206536039361,0.0077097494131249346,0.005279979340155176,-0.012538663584690139,0.03040644071279351,0.08714552899819338,0.0035476841204435264,0.08021266319894542,0.06764420409114713,0.045965000631466676,0.059263479015217134,0.0856275800133541,-0.08567334299889215,0.06502337207249538,-0.050465797755138916,-0.015759018791112897,0.028298062032762673,-0.07172386088827007,0.040533261829052,-0.0003765063877447978,0.06422862523664022,-0.051634515527230605,0.04525993176107106,0.08615194997424067,-0.03948207055864121,0.06463955877602885,-0.03336907020630517,0.02578730268171595,0.001283493067778937,-0.03749107969981559,-0.023639495601190177,0.016277956790808106,-0.05247684932778386,0.0392696969634108,-0.0002253080516636098,-0.07534067018982918,-0.07461890735338987,0.08495793739534284,-0.021596985055487048,0.0671790069582065,-0.049474783394273504,-0.030998676333664633,-0.01842469318348713,-0.0526424236562894,0.07041418518075804,-0.04158087319029849,-0.02802833526049928,0.00254115519727742,0.07600668503094238,-0.05267931998978052,0.03294428659542029,-0.04906402926736783,0.08414288915567246,0.07824454828810885,-0.08035016932952259,0.0729425680954816,0.08651847535191323,0.025666352391162262,-0.02796757202850472,0.04167976532731038,0.08656367001470831,-0.018576808876812345,0.02011495366928148,-0.023072101936379902,-0.06716902845656213,0.036918842287261194,-0.08503785979087067,0.03527212229588669,0.02159258593538462,-0.011199141288886608,0.0185417849294128,-0.007399084739810671,0.06928658852356065,0.0024220332351197926,-0.07165512334291342,0.025062476436464486,-0.01366384784341464,-0.06955068503567156,0.002260158730386516,0.08334505462311598,0.005360023656747021,-0.009556580935882403,-0.04571234910740673,-0.07443885117370638,0.04636724702675599,-0.015020662595158019,0.0160480297404458,-0.07676627542595586,-0.00036564983980853923,-0.06724003485857775,0.05775056720116134,-0.0397737424153456,-0.07374344156287035,-0.021307061462540477,0.04657794792479114,0.0010540425607376439,-0.014639577849187417,0.025974072991867544,-0.01935620028908799,-0.04876675895321812,-0.0881938186530576,-0.07435660851163454,-0.03477787401355081,-0.005851573709478679,0.07494876515741399,0.03554284459568408,0.027901680100520944,-0.03050396711785136,-0.005101732023588071,-0.005631315782969357,0.008087482022693738,-0.03918181716932954,-0.03226505068286325,-0.025210644124871673,-0.08694537382384164,-0.038837444537827594,-0.028322278253714733,0.03831767844019843,-0.0011265588812901216,-0.05345422131268995,0.0032006319759153414,-0.07206104749833066,-0.006634048230297526,-0.053267778067221945,-0.05993290325129666,0.005761701365818648,0.0031962069769929176,-0.04180359778273458,-0.06741482960022688,-0.017948999856316074,0.03453864234071048,0.0347110158512477,0.06288352874717552,-0.06942581073834676,0.07759238086457021,0.02836197923320866,-0.06668734806491551,0.012091467886726841,0.053802279548693495,0.05646205095346955,-0.058569909427725726,0.05617144888505302,0.06165861501574124,0.07934742582184044,-0.06993515442342228,-0.053228322421956305,-0.07515822076680133,0.00860798098284779,-0.012800059323475204,-0.08308337756405089,0.0733596290804301,-0.015416028516149302,0.07211366293254554,-0.011605696639519351,-0.03686077256872518,0.03972656257498764,-0.015985306030270176,0.031413604278031214,0.004693173359684992,-0.07610390143975457,0.052512817754728984,0.06769286258198395,0.017877136666861863,-0.03292117617359581,0.001931979624455309,0.026202186815222357,-0.036706002394002964,0.03984424125386211,0.0872250170602858,-0.03603813756899243,-0.04537657933903762,-0.014662535437840596,-0.04692613613598617,-0.04698114273014919,0.03875788491341693,-0.06254768144093593,-0.08515699452161411,-0.048469748413324076,0.02307432926347709,0.021486566592478842,-0.08057092557124124,0.05514715059651109,0.06391752938563842,-0.05711260587738114,-0.05433436202531174,-0.017499141875669803,-0.01773265243841367,-0.06718190281902284,-0.02560200319884177,-0.08266353210312945,0.023165884683870396,0.07530840937361488,-0.0061099969275618385,-0.017934242568730954,-0.010693054889409342,0.029329985777645697,-0.014010558626094233,0.009916548464741347,-0.05120588124120078,-0.08096771031760581,0.07889864858211673,-0.009286960228365636,-0.058957813834462754,0.0498081121034706,-0.05086381565850029,0.08821275201133975,-0.00789459658199209,-0.08040168842132768,-0.0138148490787704,0.04286866021331352,0.07894446955968587,0.004395968480359354,-0.0787466505181991,0.051494100303450786,-0.0086883178278273,0.003764248832016702,-0.07838870370140762,0.06749598888211834,0.030587086438087756,-0.0060476445065719975,-0.08313939669111105,-0.004876764002388558,0.06237780487897056,-0.06909124456008754,0.060415833318140925,-0.061093023031075035,0.08616766729577346,0.015963768268473212,-0.008745030629170418,-0.027957746627436594,-0.08441269891185181,0.047469330752174924,0.05459260252876628,0.018855969205328345,0.07893150746309512,0.007791710004989725,-0.08765494046663429,0.057600548607282004,-0.03801442083269606,-0.06593930088519585,0.08794241781606346,0.04979227921519614,-0.042861558018660054,-0.04728987132051921,0.08424814279209,0.038030074013160976,0.07628004111993203,-0.022276175886206964,0.005716298232892179,-0.07898020558209035,-0.07156754247734168,-0.00960989607139668,-0.040546477387197404,-0.027880920225876776,-0.022847583965124114,0.012328122389353095,-0.02312517935890751,-0.0752513754372505,-0.057517301871163655,0.010093282618236924,0.005319565196479839,-0.0348582120842702,0.012077575003442845,0.03669357818917513,0.07679852739663495,0.06067501607150773,0.01021620597171659,-0.07528950542788729,0.0021810605735751165,0.024598060089465107,-0.04695412186014101,-0.07561080796653621,0.07126228602246447,0.015219539803544565,0.034897912141827754,0.07580679086598714,0.003732781866901459,0.0793133850504058,0.08741454354495622,-0.02703020926713482,-0.08658716715662267,-0.02970584341176249,0.0009834656663741076,0.05905532705906048,0.022453282282161216,-0.07787437850347002,-0.019637883211980706,-0.03516687520317654,0.008699546924195193,0.005240943290681024,0.05764560207088873,0.053130835108800685,0.03640742254361349,-0.08249916223685315,0.010546746945862726,0.012319778284288952,-0.07493220239282394,-0.015312958987023676,0.001532096231647313,0.059042333326488894,0.08219776192381631,-0.05310613621296572,-0.00939792142601457,0.0007787684548677946,0.017901455420814647,-0.007494589245990765,-0.014549965044036028,0.07490973209053338,0.049030901224517025,-0.029357142446294962,0.03460407026769334,-0.00563357615707445,-0.07911910493996385,-0.03321609259904802,0.0270581235863872,0.02345823460605866,0.0019386489607394245,-0.07419642391655688,-0.016433010730159035,0.023857155367965465,0.008271572100927266,-0.07346132915647074,0.043739590165081534,-0.0389472966064072,-0.008610337366655129,0.07715634792051666]},{"id":"chunk-7db5cddc-46","content":"We are temporarily blocking your card to prevent unauthorized transactions.\" block_card=True risk=8 \"\"\" This agent will act as first-tier support in a bank. Agents are generic in the type of dependencies they accept and the type of result they return. In this case, the support agent has type Agent[SupportDependencies, SupportResult]. Here we configure the agent to use OpenAI's GPT-4o model, you can also set the model when running the agent. The SupportDependencies dataclass is used to pass data, connections, and logic into the model that will be needed when running system prompt and tool functions. PydanticAI's system of dependency injection provides a type-safe way to customise the behavior of your agents, and can be especially useful when running unit tests and evals. Static system prompts can be registered with the system_prompt keyword argument to the agent. Dynamic system prompts can be registered with the @agent.system_prompt decorator, and can make use of dependency injection.","metadata":{"url":"https://ai.pydantic.dev","title":"PydanticAI","chunkIndex":46,"totalChunks":208},"embedding":[-0.0336099411205293,-0.0628710597418275,0.013853141482880589,-0.04539401761201458,-0.06404096126309311,-0.021058022837322245,0.017926036224670167,0.04021611919632529,-0.026826110477452876,-0.07107688448505962,-0.04000509964851646,-0.027395888651641553,0.08444923821312021,-0.025966820952821736,0.08266039708093112,-0.05795029446521905,0.037883268066198426,0.0038153842621477534,0.013266346648257162,-0.0840931789839031,-0.037424493921796004,-0.07422994097591988,0.009327815745266489,-0.00009991222058707588,0.024751262231774717,-0.026170570530091135,-0.04968105006310003,0.0715889805487338,-0.07323773450744041,0.008906019793354328,0.05329241584487254,-0.05749936788347635,0.08096591651439938,0.07225296699273515,0.011188539041485437,0.08224094939739235,0.044592495904999606,0.042646158720107595,-0.060333082835442434,-0.06148265525011888,0.03765119211468198,-0.029512932943611823,0.0032389430184149763,0.06586857332132857,-0.032889630650003256,-0.07146858668082916,0.014913960247881773,-0.048937237890337694,-0.05919036367453437,-0.011831226233565082,-0.057107627078047514,-0.003148359453872727,-0.024779024958382103,0.000626406386381859,-0.011513318929441223,0.011842754794748826,-0.07789274023177127,-0.06039246365120198,0.04527928154062003,-0.07499051410670643,-0.010021293495254588,0.0806848497483769,-0.023159009552769703,0.0764565092865406,0.06931070176777342,0.036440677422212193,-0.07037286045923255,-0.07378665819563744,0.04209618295680567,-0.08209233968238215,0.03861412963268724,0.018329132742435004,0.022706422632656174,-0.05691013286991692,-0.0593041186808054,0.06466952526766145,0.006732374493149291,-0.04864802936775028,-0.05895316423651079,-0.0387229243430228,-0.00092485496072143,-0.021972090353958453,-0.003599503478862988,-0.061324043944131434,-0.05566737159547955,-0.05567325902611697,-0.004340226801651655,-0.05787187915824584,-0.05229723402840236,0.08400078798806483,-0.01909979229877732,0.06882807534990952,-0.06398829260139188,0.08398366100347904,-0.0005831352654831551,-0.005109648878474314,0.0237468334432889,0.038638476546219054,-0.06590719956842916,0.03771919885209197,0.04653455480013929,0.03844756460197278,-0.001567158080476317,0.07358143181718364,-0.07365105823739088,0.003291561131896115,0.02193772959549986,-0.033895802648611084,-0.022404490052311807,-0.0005849050486862086,0.05041424437131136,0.041061158891048395,-0.08478287908670842,0.08754441078186229,-0.040898245699487495,0.057263984702216365,-0.008048372445085024,0.013957929082876928,-0.04496762837326147,0.039851095769455745,0.012521015367710536,0.021397428988865812,-0.05946370792874957,0.062058747278800966,-0.03809269578239537,-0.08099049932978845,0.0650068481388161,-0.08227763881769723,-0.05037620414789002,0.017494612781210218,0.010976450206016777,-0.03787630545550171,0.07489219780120517,0.04999577165618702,-0.08118030213445841,-0.034222743492962907,-0.07518259778372198,0.08459661727353507,0.001975294963976021,0.029815017639815734,-0.05222497887241624,0.05269935368542045,-0.0216851791247567,0.04664411338105208,-0.07926840301524747,-0.08781870429873735,-0.055605316959593976,0.04535574490724301,0.03048187607475035,-0.053467196285786146,-0.035917252925712205,-0.07198095387378843,0.038582128396379874,-0.0015516449128313583,0.029122752007373322,-0.005338515446381749,-0.011334191128615924,-0.05416382191023844,0.06023050795800492,0.018632204022440407,0.02001402118059015,0.050141090447067424,-0.084415782492186,0.03411083986241252,-0.08309939555530074,-0.06556051383008327,0.019243720857824703,0.03965674001860939,-0.06926849417221205,0.032163007071947095,-0.03794839408720375,0.05246450792799617,0.062228157893141844,0.02258773740739454,0.049569844003849124,-0.057949507841642794,-0.01196111143777189,0.000573616895833691,0.011608890402856347,0.0029832828843412455,0.08612524702394007,-0.01610817291295747,-0.059129982467465286,-0.07854752407376002,-0.07190238149601792,0.05255657138460522,-0.04910610826817791,0.03486819343849126,0.06252503796030386,0.08161069461957673,0.06141560919576026,0.025407007855393716,-0.04167123372947621,0.08513410917268831,-0.029656385077953804,-0.046161556520556625,0.07616630784131714,0.041584733910524516,0.05054959355272388,-0.03550861057244368,0.07944712887283324,0.010779885436677654,-0.012625786718237298,0.08442627493174333,-0.05922800503950746,0.05592547713777195,-0.006895365058370263,0.0376986164271467,0.06601085405653835,0.04592631420581553,0.010976546589544738,0.07644412191904768,0.07883277592533779,-0.0434224273405011,0.03163823965226167,-0.007547041207770712,-0.06069357790290429,-0.03207602959231879,-0.06416141567475868,0.049625394040734586,0.029808773631946166,-0.06584796372654718,-0.0851079771627963,0.014046201944751325,0.07124054169258898,-0.048570402345533156,-0.017767003942490034,0.017213632721451745,-0.030155307182938147,0.0479621144055954,0.0330476440549316,-0.001516665753676549,-0.06514518655341779,0.012807491704381025,0.0004842247725127749,0.023052646616714002,0.06896946141833629,0.0662206195354149,0.031903058082224205,0.03528994211289596,-0.08558357995306451,-0.03884478083108218,-0.05219609996279768,-0.047952087631240196,0.004450339798815589,-0.07863040666498912,-0.08649961596348653,0.08515192634127816,-0.06029821083082152,0.03544145440116176,0.006580675387310607,0.040861361100200985,-0.07291312794568772,0.00822564443341123,-0.07462089134026878,0.003045903498139299,0.051900791050923205,0.034529931709056653,-0.08525719971637247,-0.08516152410174035,-0.058668259800811945,0.03753936129111612,0.02143762975958427,-0.07495879363601424,0.015508695745328326,0.025129015389110883,-0.012353549319066388,0.008328816833029641,0.0587323947372082,-0.019170999854382774,-0.05940013909710484,-0.03857282560510813,0.07829234906104147,0.04866936258807332,0.0542298614950067,-0.06657614407683016,0.055493064544568094,0.051021463939095006,-0.05981593148085863,0.04765966907945578,0.018132796102703394,0.06417543219020817,-0.03593828241603596,-0.011615806588141793,0.08081213040161007,-0.058796065088343105,0.08135250037405481,-0.04134275010093041,-0.06792931741468716,0.01988636853236447,0.011742139984475007,0.027255128482325506,0.02644548779433018,-0.007337667570340659,-0.04933616782575846,0.03384614271577687,0.022367078482323388,0.0012911281530597325,-0.0520703609811086,0.0015756555978344669,0.02288867308506293,0.08081972663680716,-0.044306490942058054,-0.0030573750568220807,0.07722898192169468,0.06375659974170594,-0.045389353546344734,0.08744649577609123,-0.06367217670982721,-0.07935537908761389,0.0615327314226686,-0.004855906355299892,0.05119422419105469,0.0655795279520566,-0.017848430840263774,-0.07399155310003822,0.08305141795080336,0.06443003430900804,0.01955780659723398,0.01127743618949996,0.06314091952871231,0.014205162322281056,0.05926376848608945,-0.06716792898350592,-0.011138102228216892,0.07740141257928174,-0.06633008780740292,-0.01915351341024433,0.04814779612897249,-0.009943414821801468,-0.06746012002033056,-0.014525659401128776,0.030592386590697504,-0.05457605826469276,-0.07202993010592094,-0.08268958573958762,0.03480799687446286,-0.06859687880467534,-0.004328283365401485,0.006903219705648572,-0.004811412282410051,0.029422403615016152,-0.08749174355946249,0.07820455807427402,-0.011224749923034105,0.08601108524335271,-0.028494567679155255,0.06463798421252612,0.00437193807333466,0.054611442850464,0.08666731977127262,0.0010419398453816193,-0.0406595885300292,-0.028751000500819197,-0.031678740739957606,-0.016247757096548476,0.05105260346406719,0.023233478376951146,-0.07852121224634769,0.08303170041438965,-0.010314925587516576,-0.07081852812747773,-0.06599904144783394,0.051857457690945526,-0.05190086261654997,0.0720641596364493,0.009207145233756,0.03964652037023653,-0.011726714467771153,-0.07167830528210303,-0.06829852966019956,0.004690306419141378,-0.007371017800119398,-0.05968215513238297,0.037491675816501216,0.03348250316944375,-0.0592379478336489,0.040368886701510724,0.011460628292164824,-0.06217152249933198,-0.025626651358747757,0.031128993482503083,-0.039839196558231135,-0.049710904500396114]},{"id":"chunk-7db5cddc-47","content":"Dependencies are carried via the RunContext argument, which is parameterized with the deps_type from above. If the type annotation here is wrong, static type checkers will catch it. tool let you register functions which the LLM may call while responding to a user. Again, dependencies are carried via RunContext, any other arguments become the tool schema passed to the LLM. Pydantic is used to validate these arguments, and errors are passed back to the LLM so it can retry. The docstring of a tool is also passed to the LLM as the description of the tool. Parameter descriptions are extracted from the docstring and added to the parameter schema sent to the LLM. Run the agent asynchronously, conducting a conversation with the LLM until a final response is reached. Even in this fairly simple case, the agent will exchange multiple messages with the LLM as tools are called to retrieve a result.","metadata":{"url":"https://ai.pydantic.dev","title":"PydanticAI","chunkIndex":47,"totalChunks":208},"embedding":[0.022976237275850263,-0.008849928872578605,-0.08278399202459782,-0.006227862690410164,-0.06974839033601656,-0.006534311033611639,-0.0828930177604781,-0.05175844261773112,-0.014400298236472407,-0.02870979471063437,-0.00811714984330778,0.07985506245042517,-0.07064595952215291,0.023248751085444292,-0.05345646502595245,0.015509265566841877,0.038465567035051454,0.02933186384520658,-0.02238116944957968,0.08392652465192896,0.08062915498355423,-0.020528062631994734,0.012248985282226966,0.08343745974643699,0.045465096806686284,-0.07198249872172109,-0.019458606754745617,0.014436769045262147,-0.025875832652435617,0.030683637108299494,-0.0588009730274261,-0.004110182044042966,-0.07841034470898756,0.018659494300978074,0.08276167739991294,0.03549191406076568,-0.06853133721162932,-0.059253953431327784,0.06189974280914226,-0.026602155931505254,0.016061180082165106,0.06217456975220638,-0.027426808445654302,-0.06012141773549746,0.05126011016508219,0.0720302573963196,-0.047992471675879354,0.06679026294354776,0.07253757113898267,0.022023251377782962,0.029000300514073547,0.007428668658636409,0.08049764251235032,-0.021612523305569602,-0.008227908544832123,-0.05604436057975563,-0.04536533607528701,0.059549547150921124,-0.05808574453205807,0.059994358892563986,0.0540201338001547,-0.06467499937092408,0.0294084141887842,0.08398588415823491,0.047032391542892696,-0.07281406567791458,-0.038956604020522735,0.0680104361488355,-0.08538643173562951,0.022711968116637036,0.08724458411308428,0.07307451209379934,0.0727358456561238,-0.06378589520831063,-0.05121068588626828,-0.06903742310636778,-0.08187028848552838,0.03297058374196289,-0.04203530085559389,0.041543476357370074,0.08138045086724698,-0.017400313073094118,-0.03394115546140605,0.06986797919808965,0.06137067930010969,0.0031687977426654063,0.03508382098489195,0.06820452638420559,-0.048140697925521767,0.024231158021279568,0.003734156873473674,-0.021878956035112168,0.06562111924948023,0.05103934243868925,0.07257894956014535,-0.035965752053824476,-0.028548681376613934,-0.07571311937054973,-0.0036321010228816315,0.04989980670847306,0.004382521038256493,0.013553159031907094,-0.0005531887863048615,-0.06886871239031932,0.05225553832831872,0.010102063797727795,0.0628932785374993,0.02858815379567818,-0.042337768034993506,0.07394967447121131,0.03344734431664501,0.0012576341457883708,-0.05834172776274261,-0.0683676744154634,-0.0032879595415941727,-0.04290540876997793,0.06093453333731166,-0.06049776539648204,-0.017280741631333335,-0.07015257075124741,-0.08516703202848165,-0.016354065309157607,-0.017747981065789207,-0.050485757487954495,-0.009627691371644459,0.023603792986419982,0.06776708082058622,0.001238726383585243,-0.0512635452769823,-0.004808589204796511,-0.026288960563697356,-0.00251782814077994,0.08406711012855299,0.03218533956863316,0.0738101358047644,0.07153950747424834,0.07571124909532811,0.07775399898380178,0.054211291036306716,0.0032597250673358506,0.013630744924686503,-0.020716513478209384,-0.004069247405272811,0.04130813883881815,0.08265330933453206,0.0704618319626653,-0.05005459472415943,-0.022725880884204526,0.023819375535290746,0.07076251957045604,0.0794933824303961,-0.07339150427122144,-0.0037509557383497835,0.06859759323422983,0.04568076179856646,0.04990195711842438,-0.05028946990843027,0.013299019490754523,0.06938964565454087,0.02029375913954583,-0.06771310713583387,0.030918951020616956,0.0390169738465039,-0.0021185876664476366,-0.07856146231422889,0.051432425963443516,-0.024070065172210938,-0.07469022390447938,0.003265326758998639,0.06660641959306705,0.02528098216919644,-0.04964632461240477,0.027772888119380796,0.029332090010682568,-0.04410870950906504,0.07896328801502628,-0.07052962688739177,-0.07086669227268012,-0.012080880952686083,-0.01153054268331087,-0.08205292775463485,-0.0759867543999783,-0.019604865696806112,-0.04083893316489747,0.03536915286479871,-0.037591431538917995,-0.019277290579115747,-0.0869332899505478,0.01809905425576037,0.06438100854875271,-0.02479769752871732,0.019932685139739732,-0.04068741865584615,-0.06547970713148259,0.08079902829610194,-0.03744852682597039,-0.004691491820935041,0.08647108394122845,-0.010567812784964227,0.02962060842323965,-0.06238754702132997,-0.07589573059369169,-0.03656700688776125,-0.08593656064526856,0.031350723489435475,0.025302792264024446,-0.06169116849551671,-0.03501484016032706,-0.05231756953287025,0.06581062960687745,-0.06529092917861318,-0.04074540011184511,-0.061666269722463266,-0.06093973818857867,0.023581624152416183,-0.07561896523529822,-0.05431488253911734,-0.07894748566525595,-0.026402381917887883,-0.038167126879990854,0.023104523482826312,0.07491967785686691,-0.07730686034974528,0.0724640963079035,-0.06580034005119238,-0.06149094967862228,0.033315485803917654,0.01688490636733019,0.040400913233774496,0.04367044298898749,-0.05898954448792568,0.011328696906181645,-0.009353853692640671,0.00499565689583246,0.08131651917670059,0.05601264279903373,0.024852163870772506,-0.054614611048194706,0.06857036378237182,-0.0301311097819187,-0.03718155846814839,-0.04838036213545896,0.031861371307017466,-0.06827280538868526,0.07993730469948847,0.022788000048747238,0.03918276505287345,-0.0081327751971448,0.00031830350461894557,-0.08691750933914422,0.02805979706386722,0.012340541411130626,0.00329450181476027,0.031672588382002625,0.02970572106520036,0.04165501368849258,-0.03489426074589063,-0.004739146409720296,0.07213253219869517,-0.06962882884980344,0.051747847382160705,0.012428317000384877,0.018901967687505287,-0.0023126556137047496,0.02229332622445774,-0.04848784474077399,0.054592702396310915,-0.03526988804519022,-0.060283772631798,-0.05657862868554012,0.0441631157909085,0.010426396009691752,0.032300580194754555,0.04181706611141467,0.04262814180184514,-0.019842779399871273,0.004814615593004513,0.07756723550805177,-0.07686787368066411,0.08225665863201052,0.0353948055835135,-0.07919259265168281,0.04473683015642828,-0.042363675215186566,0.08221630009152442,0.01459989507214184,-0.011077447849489625,-0.07682555240524544,0.024750668138840907,-0.03404283225375837,-0.04531644267790245,0.08032164345945862,0.007936985956845017,0.035839757795450226,-0.04634392346687602,-0.02985024194240839,-0.07756438193274971,-0.046239503000441204,0.08076388533212309,-0.012757653529956762,0.07768610195505479,0.06298685838276732,0.0048767158911772555,-0.024745600203598086,-0.007172358120830561,-0.05676658002689433,0.08397767084187079,0.011615888767020967,-0.06443526737630612,-0.08140331784891,0.03322714448749994,0.00860836672207686,-0.07463784276956989,-0.0633419920761103,0.019811799861397472,-0.05069442997307102,0.014481771080677415,-0.04898282580437268,-0.07525871077838564,-0.009554643625424842,0.0652765009983536,-0.05930848977344474,0.0331548802437836,-0.08031435629172419,-0.01858080767874473,0.02947666099550857,0.01139655765375498,-0.06500950117542527,0.010157566137300162,-0.07644267892711584,0.0276062572383575,-0.004562649414665244,-0.05303058529103079,-0.06299816115495316,0.07015929294841797,0.005874833375553869,0.04727219082577524,0.03295355942198572,0.06288449668600288,0.019872679171018818,0.06593375284357107,0.01222500168108162,0.08313606643732568,-0.03814464397841049,-0.08080184336805336,-0.02982162002158045,0.0069130480002886074,0.0658388127326769,-0.057697944811737685,0.05542117322292666,-0.014457887799831332,0.004439402304169126,-0.05291157792543848,-0.01534374665696763,0.034713121205627716,0.020657835976536056,0.05762386245825363,-0.08370452934386229,-0.03274362084449998,0.01856436118908944,-0.009803903374787256,-0.0591378886112652,-0.07123166704664381,0.037678453268054475,0.0012946003736251334,-0.044785990620474156,0.06595254000713702,-0.08416103209574824,0.028928997109161823,-0.08647259938920629,-0.02918429204199288,0.08668620070561384,-0.07012797402517183,0.0287047225889856,-0.036297153787117134,-0.035484190312036534,0.021682548787631314,-0.056146406889374986,0.043532083546826666,-0.054074515209375486,-0.06429042180171446,0.07052159282748885,0.0014552640360090215,-0.008014149182653415]},{"id":"chunk-7db5cddc-48","content":"The response from the agent will, be guaranteed to be a SupportResult, if validation fails reflection will mean the agent is prompted to try again. The result will be validated with Pydantic to guarantee it is a SupportResult, since the agent is generic, it'll also be typed as a SupportResult to aid with static type checking. In a real use case, you'd add more tools and a longer system prompt to the agent to extend the context it's equipped with and support it can provide. This is a simple sketch of a database connection, used to keep the example short and readable. In reality, you'd be connecting to an external database (e.g. PostgreSQL) to get information about customers. This Pydantic model is used to constrain the structured data returned by the agent. From this simple definition, Pydantic builds the JSON Schema that tells the LLM how to return the data, and performs validation to guarantee the data is correct at the end of the run.","metadata":{"url":"https://ai.pydantic.dev","title":"PydanticAI","chunkIndex":48,"totalChunks":208},"embedding":[0.042551325735224924,0.06426946130926658,0.006399998881213015,-0.009822943813187142,0.06598814554893062,-0.08586839250180764,-0.049218673854659965,-0.08288270051665896,-0.043035419647568095,-0.06882252449487455,0.0629786584846815,-0.08394580658211796,0.030047043241907247,0.07199608700701529,-0.04564140250399759,0.07558150441488423,-0.053930113832236004,-0.06389877088534515,0.012347322876642758,-0.04055880112604134,-0.06798388606265722,0.05248181867403711,-0.025698371069850977,-0.07234160524067389,0.06220325472286875,-0.0642114298208991,-0.009309683846504806,-0.06485792883770473,0.013680313156441635,0.03722859239712707,-0.023708211462331038,0.0028601080392400375,0.04315710630990388,-0.03269241041440943,0.032897652380359216,0.07707127030622127,0.07433920774491146,-0.05519030676660794,-0.020002067348780992,0.02741462606420782,-0.005183054461948865,-0.0757971718572535,0.0631150057193655,-0.039036873862560335,0.06115517011419373,-0.03646061222842847,0.03518628228713536,0.07600714707925228,0.0778686452506614,0.06855752527717977,-0.07607029883518386,0.04963041790821923,0.0467195625718705,-0.025359897219261962,-0.014966424773108876,0.03834909218369464,0.008389639710686783,-0.016411600360693227,-0.008413157001014394,0.08573374155863604,0.05435059125664037,-0.07075132169990737,-0.03476425040868781,0.0642497257931644,0.008622645723532768,0.039567216824910934,0.023919779283917832,-0.08306281309595097,0.04483511621426222,-0.026251739287059647,0.07338333108593717,0.07594431710195397,0.06490843044439583,-0.005685746912387624,-0.027130757489717806,-0.03691006966009323,0.02487175683468765,0.06804263550758166,0.01941900801951602,-0.08163108782244685,0.019181738232899464,0.003982414895592554,-0.04932875281632843,0.022484146627411838,-0.06364637220982902,0.0755782101698465,0.024319360179300014,-0.05526072920282724,-0.05776101770357685,-0.08537280063344478,0.04352426066564388,-0.08437593899877632,0.07198941292540025,-0.025226681929348547,0.018994469882722798,0.003536577480006371,-0.03392274237216011,0.012577594573140739,-0.07300731771104194,0.05704315090744332,0.054951408616605156,0.04472335549449253,0.06664008765570517,-0.040558945159855773,0.005139432381969731,-0.05579308483531499,-0.045337731938128685,0.0005438617833070444,0.011116267731998728,-0.08499465447731074,0.04089235973834696,0.024250518861651738,0.04313860571077597,0.08290700405283512,0.0033797599583939874,-0.04723327402109015,-0.0025366209609411477,-0.04349355791706311,-0.036996532164948664,-0.07486128367402164,-0.01278093260935824,-0.06793270201185288,-0.05818386924187278,-0.04513985514252796,-0.07774577305259175,0.02289955426294527,0.07802492015554778,-0.00073229006733441,0.01827143094346536,0.05233851785390946,0.05660255569856284,0.035416003285356344,0.02617190616588813,-0.07753818961859306,0.0409685158896612,0.03131988627020287,0.044626604894834554,-0.03204330947491951,0.05722162283596836,-0.04642122236503852,0.06873169146141113,0.05237543873458478,0.06003902333350245,-0.03645476553597955,-0.010734313937784836,0.08286705500734254,0.015133383270740142,0.05008780353368604,-0.027683541324294677,-0.026102152042730083,-0.02860303030982271,-0.06227342407780569,-0.05440231551718485,0.03288196249901851,0.029371701118296057,0.07229841986197265,0.047557060018330065,0.08564027840255699,-0.04322001861791061,-0.08035937373582594,-0.009963482589970546,-0.07872077850566903,-0.06242767496708762,0.05397373702003978,-0.06860126239545167,0.08490574344748128,-0.019488583209915252,0.014396759855050744,-0.05210551835105134,-0.0071920800529188,0.015963645700875773,-0.03510000883980498,0.0774791463961083,0.029597556695899405,-0.018499765270521846,0.05121694401007685,-0.03571953848659507,-0.007883662008420911,0.037077043736523235,0.08375240178007841,-0.008098876292765058,0.038660574904590975,0.03228171251274972,0.07466321506201956,0.019232402395051484,-0.07098820991094194,0.03829149031472298,-0.07850986502640052,-0.024447501730441086,-0.07434520997268093,0.01737295704605674,0.021795325353528357,-0.042704161979996366,0.01113077705153374,0.006255383417199987,0.04536254517643944,-0.009404335629085001,0.05806580841414346,-0.006642922817041044,0.0559362646657363,0.04853189961863852,-0.023236336108877795,-0.06245973314539342,-0.01397439694667628,0.04889364533948272,0.05824261748972919,0.059703316214434615,-0.002224295492906378,0.031076906003971547,0.018361060674003737,-0.028760697222426468,-0.07533865969893912,-0.0842496142173695,0.07732243363628322,-0.06454425440578612,-0.07337284898940638,-0.049161312956000375,0.010008230424992938,-0.034982775619609954,-0.01731206271891312,-0.07505886476232068,-0.04349224669083125,0.04140825857742441,0.0780347439458338,0.08207859290525747,0.005114850762611592,-0.06202692223032645,0.024962189204904825,-0.0009271115335743754,-0.005749773532930847,0.03259778047600943,-0.0778562313070449,0.005824815946309628,-0.08221265814262103,0.08145742480846273,0.05551051797805235,-0.03867582700597625,0.048604648388268175,0.05010135397665427,-0.023717266155602535,-0.019831190081663043,-0.0000018049647692584455,-0.06330654867725637,-0.03012237332175058,0.03650562416269728,-0.0764655327159847,-0.05022969994357672,-0.010894707280527932,0.007873040327395319,0.019948426403986454,-0.02441857730065656,-0.0782664101480805,-0.05680931498890868,0.08579888495104103,-0.07805997424208293,0.030063544166888105,-0.010022541245920146,-0.07676618503363006,0.007637308818174773,0.06410332400829755,-0.007941506145612207,-0.003939531250668172,0.0007332314568981953,-0.007299985921819988,0.07668533314770166,-0.006708475764984985,0.0635179979356912,0.01913628608654802,-0.03362441555481378,0.030125590472194763,-0.05947745355408733,-0.020294211009806582,0.017492689462626672,0.08284494824630044,0.041339814593818934,-0.04329532775063043,0.07218981640567151,0.05953715327483514,0.043275253043601,-0.012490666743620487,-0.014519889790846953,0.07891034149846066,-0.07844885411436603,0.07267651329011189,-0.07920015714266469,0.04039128736905354,0.03536903073892439,-0.019005306253253716,0.0019248076261082407,-0.07894421636313374,-0.002268111054197107,-0.06161807045892733,0.0452798117211446,-0.02431633716631005,0.020543307485478796,-0.008849426186236055,0.01403899387944407,-0.048544181829405654,0.012757134809744797,-0.01435115072965734,-0.009953628613950664,0.03890135328456504,0.05921503767545359,0.040193276959254516,0.03789812592025092,-0.009919552944601805,0.08210361359237116,0.07185482829206427,0.071304283213918,-0.06433509973607937,-0.05934223127084475,0.08417984023485435,-0.01494775564670546,-0.06811700242323836,0.0339898199574434,-0.05801406229445348,0.08377325053223339,0.02943484544673312,0.06273300317804657,0.016306760866922163,-0.0054474020823626675,0.006748243154189163,0.08339847053066232,-0.001410873464743481,0.030674002282318317,-0.07776576772883005,-0.04382867298828345,-0.012297656373225415,-0.008606427442470643,0.01632887629350512,-0.0516809262598523,0.08372245050748248,-0.0647569078124705,-0.035423209973825164,0.08583763018408287,0.015673367866259804,-0.005311018063262032,-0.07772353302695978,0.012988903576855742,0.026848720893007005,0.0731907116413866,-0.03117326664065771,0.0791387552626321,-0.036810020978637,0.07994056173098976,0.07126799176114182,-0.08293592229301476,0.034762625141161775,-0.07493830088993812,-0.005770142576486647,0.03016267110313864,0.038487602002952384,0.07764272201513013,-0.03843977337513478,0.02696679087547041,-0.0667548911319583,-0.038677661880130436,0.045458183001363964,0.04026933488247459,-0.08494581683134442,0.0349362544169532,0.013138841837135758,-0.07747195339067242,-0.0802766522787523,-0.06248509974552219,-0.06767013628706664,0.037885039150200465,-0.07512904314651034,-0.07465113657850225,-0.08444441552580806,-0.027310956022929288,0.06387854994209356,0.026378548433313984,-0.06284028440148351,0.023516096493966406,-0.07223833675758277,-0.0007770609844266334,0.04949423437474337,0.046350767178571985,0.05821382162282222,0.03413868220854328,0.028694616867055135,-0.056420634653441916,0.022067412514977878]},{"id":"chunk-7db5cddc-49","content":"Complete bank_support.py example The code included here is incomplete for the sake of brevity (the definition of DatabaseConn is missing); you can find the complete bank_support.py example here. Instrumentation with Pydantic Logfire To understand the flow of the above runs, we can watch the agent in action using Pydantic Logfire. To do this, we need to set up logfire, and add the following to our code: bank_support_with_logfire.py... from bank_database import DatabaseConn import logfire logfire.configure() # (1)! logfire.instrument_asyncpg() # (2)! ... Configure logfire, this will fail if project is not set up. In our demo, DatabaseConn uses asyncpg to connect to a PostgreSQL database, so logfire.instrument_asyncpg() is used to log the database queries. That's enough to get the following view of your agent in action: See Monitoring and Performance to learn more. Next Steps To try PydanticAI yourself, follow the instructions in the examples.","metadata":{"url":"https://ai.pydantic.dev","title":"PydanticAI","chunkIndex":49,"totalChunks":208},"embedding":[0.017255923036449933,0.04838185340109174,-0.058105046929758784,0.03664247861686904,0.016527275113191034,0.01597951444348863,-0.024223035481289016,-0.02586534633342551,0.02685048383010961,-0.05781431426220649,0.0768754848114378,-0.07917473366430822,-0.017056875045847034,-0.07625459293002726,-0.0029552490997870533,-0.08103568765928669,0.05672210276140816,0.06032924612376686,-0.04781117075488919,0.038093824600971216,-0.0280716957495695,0.05187818996625666,-0.062054480098785864,-0.024987638094127386,0.058490484909134395,0.07758677011691413,0.042928062187281575,-0.004544247881817122,-0.08472685119560865,0.029987223509324427,0.01947432792428543,-0.06873963941806803,-0.07526992415340936,-0.06564600973979139,0.07892643332471318,-0.04180171491174488,0.08096078266702893,0.04381505868303034,-0.018140467672171416,-0.04239918041507216,-0.07201394425245089,-0.01040275884044226,0.018398130517462395,0.004933845891735261,0.013769102758513873,-0.036088851243562904,0.007426975622048366,-0.08248652691791118,-0.06448294802290912,0.08372191808762033,0.06682881128861046,-0.07493025943524965,0.03087585770988679,-0.005269058668485586,-0.052875327861193436,-0.07156122767187773,0.040772824786166915,-0.06755101636901975,-0.03962029483582416,0.003929211996928742,0.04451033620837329,0.070193764153135,-0.010566409777117853,0.0780566220921378,-0.04914018478666803,-0.013899883107883078,-0.04629112839880407,-0.03800151038352364,0.03432667358795876,-0.020886829320107256,0.048230531314088325,-0.0815426175350265,0.07679124896162612,-0.012492112891672973,-0.004131475744974581,-0.06483795144555778,-0.03786748342259169,-0.028695700224946004,0.0026139439271365937,0.05788393464516486,0.052431679894315894,-0.06100113856710169,0.037814043660879905,0.028794814095300967,-0.05147064433321036,-0.06897802376243634,-0.05237276269046228,-0.023856276802483187,-0.012345695167270895,0.07424599949047048,-0.011879294765574692,0.0585563557806867,0.005746625163469558,-0.001031557943192078,0.0008401369496690512,0.0596048314783168,0.07236671163046289,-0.06796123016468242,0.0012335428020679882,0.02128928504319632,-0.03496546578201224,0.07137122880376873,0.052949120809900524,-0.04672162484911513,-0.05661864954088866,-0.08121317412142907,0.08637331382803731,-0.01599233394128602,-0.059975916450399985,-0.06571845749726862,-0.011737232209579156,-0.07254693873817103,-0.07371059062361734,-0.029475886626177093,0.0755490780211575,-0.009893415467533286,0.045009867735430156,-0.06664807350813809,-0.06179705089360193,0.05898363746143806,-0.009744902490788174,-0.07987734132099573,0.055086960943871825,0.02507788522796071,0.06991998190067918,-0.025414826637266578,0.012606516660091374,-0.08630196387718966,0.07760806814426043,0.0030957218775591504,0.04061067452389035,-0.06209613823798255,-0.05343922871801261,0.032796075317398254,0.04845388480799214,-0.06739551430452861,0.053672245755517725,-0.05763347410982194,-0.04030108579076318,0.033851607253985234,-0.028443765767966863,-0.08232075178298964,0.06300799666611034,0.03227480281946646,-0.061784607766697516,-0.000830532057904741,-0.07578777387186764,-0.0696386623811974,-0.07939768279064907,-0.04457877206125359,0.07948138240363742,-0.06443233704356285,-0.06274317106536235,0.06031428757719425,0.03400951367962269,0.045125410569357746,-0.08420788483039801,0.06016784267560328,-0.0475085691052748,0.029705833532850102,-0.016077069602297045,0.0385652259204458,0.026303674617039852,-0.033789735834314376,0.012286327693903825,-0.052156181571385074,0.05386563632553206,0.028272311037790633,-0.03473653378944306,-0.012770820382177443,0.08475224603978279,-0.04537885194976091,-0.04004471533250475,0.02625885017652853,-0.04625589591631616,0.07220192209695744,0.07095968367036097,0.011578732869514422,0.006973849180927557,0.05012866895071761,0.07884535948125367,-0.0782624585494284,-0.04769449215594575,0.022532100520053774,0.06733652102945845,-0.05766413053792918,-0.0435858929616707,-0.03264700786076204,-0.030138421866714223,0.06605293847535768,-0.08481664755554777,-0.07440668534344344,-0.029347198928452455,0.010790717871580435,-0.021810653395134133,-0.060690986886754325,-0.05977133318203592,0.009257549564875246,0.08345629063708616,-0.029842951347475274,0.011400401059032417,0.08338199743783219,0.025272564015845433,0.0293848940437115,0.0575877379763447,-0.044416394112847174,-0.07866321980973243,0.011989075911445268,0.03125404940303825,0.04844379063631599,-0.010587421831748718,0.06318505078595964,-0.08370216924091968,-0.013481115667330276,-0.08614925391744628,-0.025059353280408824,-0.06802444862596216,-0.005998925957042999,0.03529045066550074,0.04230299031462176,0.022439281388699946,0.009516783267113022,0.028002714424405946,0.0570578398546027,0.08098711801599502,-0.05500002889075646,-0.012504485252559226,0.027275615655724374,0.006781350420826905,-0.0032659085273094553,0.024355982557778946,0.005539320599469229,0.06950094919663091,-0.06962360994453065,0.020879674323495034,-0.07061616606729106,-0.08477351041614965,-0.08425425233296989,-0.03511603028557954,0.0016793803211429112,-0.05355416158733629,-0.05510547330438258,-0.043708124959397736,0.0495607577626014,0.04882938001767428,0.04834227985665881,-0.05176482189234618,-0.018822342863743326,0.08427648790082931,0.0287127647905111,-0.023714441746580897,0.03264691228241968,0.050024489255057765,0.042841734885754504,0.025135839567086368,-0.04723905034912093,-0.07192173264023287,-0.01795352335112243,0.023989076600189,-0.02919746064794287,-0.01580594611610539,0.07286348740860525,-0.05802588821261269,0.030300496826514502,-0.0187436941521225,0.025364458957323595,-0.07006244303549747,-0.05473895828496271,0.05998846636620474,0.02016692622940392,0.07403699500671639,0.04954384746346752,-0.04437219426885687,0.07164424354954553,-0.08180271408991194,-0.019871739342000146,0.0737144255462484,-0.05795619939633813,0.06324840036669145,-0.0678602589832761,-0.07799023277427128,0.020069178210465874,0.04905300415187382,-0.04392595801816659,-0.04674900780384632,0.030958395257360244,-0.008908530135113637,-0.06118480684857097,0.03679221857589546,-0.03686573591827184,0.06725467388871206,0.04995026608420245,0.05525592025367794,0.08364935841541643,0.025468874329171904,0.03738992270761917,0.07130135998852305,-0.0752468537978296,-0.02138498654221899,0.038875670466751416,0.005803506761502502,-0.01659467531098045,0.07448388614461,-0.061802077944971306,-0.0658147841904571,0.08366367822873108,0.022385184780610853,0.04541082624422794,-0.04536881403391661,0.057707804116760075,0.04988127923397013,0.05254997494130271,0.01591017704785272,-0.01758199326990099,0.047702094875947364,-0.08229520616884219,0.07950164017471606,-0.015041210457157566,-0.018832859239219246,0.07039385743292172,-0.008015730503855597,-0.06797229861091185,0.037019638512471136,-0.07573179429236668,-0.01409353049612404,-0.018004357685136002,0.06728221817615905,-0.018389203953237652,-0.04217598332182055,0.08528393181734176,0.007765209266872033,-0.014730499564555364,-0.015928223001752718,0.00867649160427327,0.03633411037048937,0.054626754264247186,-0.03813557464472486,-0.05374168051551026,0.07624141380765835,0.035375052145820866,-0.07530061610166942,0.03361745377494609,0.013306725185535592,-0.028142465263004346,-0.01811143981092832,0.00018696916098723246,0.07035919734504191,0.04588986541239963,-0.05464743632264507,0.020274577052270423,-0.06642642565392046,-0.0760295708766789,-0.05032859532168403,-0.06796051150783679,0.033165946383589405,0.025127740898951215,-0.05101716895989438,0.012873648848242393,-0.08288442042044497,-0.021265132600145766,0.02514267670962206,0.07339772237331327,0.03788154861642274,-0.06304040711993336,0.006691113974258505,0.07699610174789329,-0.06321758173802527,0.0691053575284351,-0.07096051999811756,-0.02131033085630405,0.029103673712857738,0.08435113269466803,-0.042817075824409134,-0.07433833271443771,-0.0007370791967593696,0.01766344131478325,0.07244348615445778,0.019941078614869785,0.028083655381370413,-0.01303151286673588,-0.03155961257011642,-0.038649875519192196,-0.03685988142187741,0.03570717145740616]},{"id":"chunk-7db5cddc-50","content":"Read the docs to learn more about building applications with PydanticAI. Read the API Reference to understand PydanticAI's interface. Version Notice This documentation is ahead of the last release by 2 commits. You may see documentation for features not yet supported in the latest release v0.0.27 2025-02-26. Introduction Agent Framework / shim to use Pydantic with LLMs PydanticAI is a Python agent framework designed to make it less painful to build production grade applications with Generative AI. PydanticAI is a Python Agent Framework designed to make it less painful to build production grade applications with Generative AI. FastAPI revolutionized web development by offering an innovative and ergonomic design, built on the foundation of Pydantic. Similarly, virtually every agent framework and LLM library in Python uses Pydantic, yet when we began to use LLMs in Pydantic Logfire, we couldn't find anything that gave us the same feeling.","metadata":{"url":"https://ai.pydantic.dev","title":"PydanticAI","chunkIndex":50,"totalChunks":208},"embedding":[0.06995917869292044,0.024774931989859313,-0.07169014416869474,0.08543319496963964,0.00347286376150647,0.058839626831607206,0.01876919356942903,0.0368815064957099,-0.04559524245028396,-0.08128207613772478,-0.07252826319325523,0.012683412329713836,-0.03936380209844382,0.07842915703149185,-0.06237891960330028,-0.08145579009216482,-0.002537495623435369,0.03026329333575164,-0.06693213647826989,0.03584761962620388,0.052959131001679906,-0.0036659529033122927,-0.019058198496617853,-0.027634800008352046,0.08109930177529637,0.052656332566984654,0.02560527730655097,0.046402236349522084,-0.06743536196271425,-0.03664701682196451,-0.07570725577375154,0.07763542039079743,-0.0016116409846141527,0.06717359157545408,-0.08072397378892415,-0.0631151854606996,0.042688773266976884,-0.05283936349477952,0.005208964671997803,-0.05375236933750427,0.011520102239989258,-0.008403106906395612,-0.03519698289836431,-0.03845468327972363,0.07259158749106588,-0.08039952538406818,0.04390905664178127,0.06540052102017399,0.07379623961107286,0.06193831888195065,0.018234007608572626,0.06186288763174061,-0.0224098216618206,0.03603551825067729,0.06927499300569366,0.08073540481063735,0.08083284340364186,0.035174329484515286,0.08333560982140145,-0.03012220720874145,0.02359716006989315,-0.016275872669863446,0.08375353074787349,-0.0687396847350995,-0.07613095335283734,0.04306176292384558,-0.059200723823016596,-0.04652281193657235,0.04134217867959885,0.0785207636771475,0.04424029836968229,-0.03879379656313866,-0.0443873269775957,0.0586922180958621,-0.005282299704451333,0.08575587911961086,0.04312652887621882,0.0613652845449741,0.0384834302265663,0.0042026389554962375,0.02836165502932166,-0.014049674220881513,-0.08271705211572784,0.008285932404239716,-0.046729979624254986,0.02207273060429551,-0.06473189005392972,-0.01008739196096818,-0.020073333373669386,0.06467001588702426,0.008037093136507538,0.03181543188859948,-0.03605132445959729,0.0562903151939253,-0.025663755981091368,0.02094158971798686,-0.013180775438591719,0.0734673914512986,0.008002667523476645,0.0231244950964029,0.06812714786735859,-0.053824051930126196,-0.03226709029730691,0.01255191068110434,-0.0014099276777019933,0.07687064687483443,0.0500497019591656,-0.022873074847821126,-0.05843635918548914,-0.06054688589951084,-0.008210074456986856,0.024905818695589783,-0.01974311206728735,-0.050666124235249695,0.07515296763686899,0.05822455953011486,0.018681904655967287,0.042855727098962966,0.07737889523768972,0.0041928021225892155,-0.04907555586346619,0.011158029298946113,-0.05644813453174612,-0.05989699877119369,-0.07233546103370526,0.035034085804836086,0.057557826768522384,-0.06595534508187177,0.0784253741529506,0.07001960502441187,-0.07250272542420515,-0.0034643546358576237,-0.027292189648949916,-0.048763226139724294,-0.006143999281473948,-0.02292913379320473,0.00973122352435807,0.03979039378373204,0.0661832512147458,-0.07652316294015776,-0.01450739359078551,0.02532914227364134,0.07890033534403094,0.007616987686102484,-0.07293877041130407,-0.006635182417474817,-0.05863522063293369,0.0432576387035209,0.08549711530223444,-0.041868393246323264,0.006360318110850936,0.010006860060072871,-0.05868545754528807,0.029627114443960236,-0.046870610089754454,0.005860327287124134,0.06955467960990278,0.01754261543595972,-0.045092617813133305,-0.005309008025449269,-0.05739504891800136,0.07889651044931727,-0.0034395647375040778,0.011092883639825224,0.07610835123439509,-0.07889430352484943,-0.0253462302598291,0.07983236237398195,0.07969116100395927,-0.0745943006639202,-0.08179324565639101,0.0750350934094755,0.0401051001977444,-0.04594016925747893,-0.06612464011782594,-0.017831290758347468,0.0593652488105178,-0.06755491112162902,0.001964503282757875,0.06585278040850744,0.02982090164932385,0.010498809776582277,-0.04418139912113354,-0.04881401407422219,-0.023147734270585203,0.05819554707559743,-0.07235157353475505,0.029733631247724424,0.0071143589237588475,0.013894214207852293,0.009858127384796803,0.058527726366024234,-0.06984422174838376,-0.03436606091254111,-0.0451399118948137,0.038912063653388056,-0.06931460944975822,-0.03204375186095928,-0.011257770836517685,0.06042120301293947,-0.036067534904033256,-0.05388360540537401,0.037190271584061234,-0.055143286457270374,0.06527927312042854,-0.01488353891225882,-0.07850541553711993,-0.06005170392347232,0.08341264640143738,-0.03199299518040356,-0.04536927970554666,0.06904958172662966,-0.03830002872881275,0.005400050612250099,0.02580311407726393,-0.079325120539165,0.008446576803256929,0.009942349759616491,-0.05310916839984535,-0.05226526558145011,0.07601340615587991,0.01656674150600043,0.03279226324637392,-0.05443518619769893,0.0153512427957048,-0.033358096711072587,-0.0050189896030988475,-0.059041710066689894,-0.03601963994213287,-0.006280929428011786,0.061915151574047325,0.08514545999777155,-0.031665137546415326,0.01732020640676285,0.006307645850913833,0.05473768413301687,0.040343604283836994,-0.07955622253414847,0.07028268259290048,0.07290975064354543,-0.08286497385826191,-0.0741722038403371,-0.08231317355408564,0.007965043639700261,0.00783404183559777,-0.0846942772641109,-0.013952854159642564,0.08280656758368067,0.03490827031251721,-0.07535296912529689,0.021573880468083166,-0.030827404125817495,-0.017656482818367576,-0.016279172007523508,0.05096711506901869,0.07058997406277283,0.08545469019128378,-0.06606904950367348,0.04497876296403699,-0.005375273351631447,-0.018971419377672494,0.05617893870029244,-0.04086187370750774,0.06671945826732785,0.031237109328914325,0.039392797954664785,-0.08579469076027874,-0.04690820109208949,-0.04247936442262347,0.07900709292020675,0.018341101291334216,0.07442974133109075,-0.05020170327626007,-0.0017905179371865533,-0.0449793303209099,-0.002719287336593634,-0.011900329309314488,0.013204222551323256,-0.0639370344964817,0.028106919278469557,0.06183676141086873,-0.011459305418738169,0.010342250263918997,-0.051274872376643375,0.08040959251506556,0.07446083891833927,0.07613025498596576,0.01274488497344517,0.02868913787047693,-0.06693800564402005,-0.017359409523467838,0.06527518530159705,0.01676454062531186,0.06066325813355472,-0.05083123778477775,-0.06747891341029777,-0.045218474301772164,-0.02765182537737155,-0.08618047687915006,0.07489055463134059,-0.07150724500624316,0.05964547737818339,-0.014817857164279262,-0.04155241360098171,-0.04473351690571243,0.08362480927966208,-0.03668002787437421,-0.0044066718390017605,-0.06630553993196155,0.009019920202796463,-0.008916294885086457,0.08043561249767561,0.01998952027240066,0.0013656287347227844,0.033076935787389045,0.016007986566956633,-0.0629341826670635,0.06545244929034548,-0.05772112160579693,-0.06549054543988712,0.0715350060244362,0.011110054538442802,-0.0232730207595073,-0.025300079340778957,-0.014825937099464061,-0.008758038096812117,-0.049900740607320665,0.020316285759272412,0.08296248067264497,0.06772331163151346,-0.061804521241550905,0.0667094392591918,0.026491217574413837,0.007429434781337404,0.03566976810461016,0.06601313426505556,0.003614361682104272,0.039203343877727385,0.04638952377506704,0.008666642306001856,0.010189760551256786,-0.06216353453181698,0.05517376989806396,0.07238747368600457,0.0028602260353841075,0.04176726681906319,0.028280881725221616,-0.009237841298992577,-0.07158693957692436,0.08308703646359346,-0.0477503242912552,0.08057217042778379,-0.03549144073314678,-0.06654660901448647,-0.08143954223923706,-0.025282317927106123,0.021699812933690735,0.07723410709664144,0.04647732967163689,-0.0527639297959515,-0.07161986708904117,0.016711485903226325,0.014239319627867973,0.0653559634424114,0.051514776249255205,0.020600860662919808,-0.039029103091379,0.06282192969261076,-0.026734505409135318,-0.0776121667033364,0.06477634937589842,-0.04788973628724478,-0.0680757519788206,0.07649905119797402,0.012302891183204556,-0.010494381683265844,0.0014030460432279256,-0.025851858410324426,-0.01863230773900374,-0.08618569487166322,-0.011885604656850178,0.023538152393445498,-0.03406834748940866,0.031619989445630485]},{"id":"chunk-7db5cddc-51","content":"We built PydanticAI with one simple aim: to bring that FastAPI feeling to GenAI app development. Why use PydanticAI Built by the Pydantic Team: Built by the team behind Pydantic (the validation layer of the OpenAI SDK, the Anthropic SDK, LangChain, LlamaIndex, AutoGPT, Transformers, CrewAI, Instructor and many more). Model-agnostic: Supports OpenAI, Anthropic, Gemini, Deepseek, Ollama, Groq, Cohere, and Mistral, and there is a simple interface to implement support for other models. Pydantic Logfire Integration: Seamlessly integrates with Pydantic Logfire for real-time debugging, performance monitoring, and behavior tracking of your LLM-powered applications. Type-safe: Designed to make type checking as powerful and informative as possible for you. Python-centric Design: Leverages Python's familiar control flow and agent composition to build your AI-driven projects, making it easy to apply standard Python best practices you'd use in any other (non-AI) project.","metadata":{"url":"https://ai.pydantic.dev","title":"PydanticAI","chunkIndex":51,"totalChunks":208},"embedding":[0.0766111567968011,0.029343484537290486,-0.0017787454835805998,-0.047571232236973605,-0.0627738560290386,-0.05642486579364401,0.01942906521990928,-0.06891286140829184,-0.03818346123304306,0.07519272480092647,-0.010639336568540072,0.07315342217277816,0.06650217006423123,0.0036413727754848963,-0.07204468966749558,0.016860752416934723,0.04142215310893636,0.038678876762503124,0.08369080414440652,-0.07582258232965616,-0.03993939367209846,-0.010683431273505633,0.03774977709362433,-0.06465643814741256,-0.058610430518614656,0.0015465987955501968,0.040399567161046444,0.005696745352631787,-0.049697733628221295,-0.08603083181497384,-0.01814848723794158,0.07233104689224402,-0.07086982626323776,-0.024973321239199042,-0.055915416486175804,-0.004744509737904351,-0.042730311154982666,0.08054880729855231,0.05953710984849949,0.06774754259687424,-0.05617225807814216,-0.012599766973436817,-0.010987508579129203,-0.01676846127363354,-0.03256828149469241,0.0451223407480605,-0.0459041178816814,-0.06496395807760376,0.02861492405469802,0.018436705116640615,0.004587876669662538,0.027491895124428397,-0.05301799063847195,0.042288704272853375,0.01774875519444852,-0.08577315599237462,-0.06018021705463239,-0.031692677920682574,0.06382502628054038,-0.05521311070137383,0.05191632158276372,0.0773311552789114,0.06020524448633747,0.056141329637304074,-0.004228825316991842,0.03153313579243506,0.07982015573188664,0.029852034584963324,-0.028541963987460502,0.06599163748209148,0.027819320546795687,-0.017149592344210984,-0.05745717765659312,0.07227934749079187,0.08028316595051269,-0.07305111227856971,-0.002639348911523519,0.0854933911450583,-0.06431087158097654,-0.06691633250009672,0.00973543632837672,0.08077215332340486,-0.030498241738609048,0.042806574575006945,0.07557767139475147,-0.055190693474301715,-0.08619894918613208,-0.032419920780494785,-0.00643141014170326,0.011660510699447601,-0.06430586944103883,-0.005318934349548052,-0.03672221237923038,-0.008381985309695228,0.0365964453145821,-0.041042858818749285,-0.0647803484278243,0.019021079288885127,0.025664446110352287,0.02688045367811458,0.0853605560603011,-0.04444131408226826,-0.0064024708567425115,0.0141972549571789,0.048523652356935836,-0.08222701988659753,-0.004957690067025443,0.010126414924400928,-0.06353889757530203,0.018239232029196608,-0.01560329489050475,0.00348114946592268,-0.019415822450119215,0.056156061955478745,-0.002366531310951089,0.05698002999857958,0.05718165320492178,0.0516280639304499,0.00764619855297012,-0.05179974981541299,0.08557218412886858,-0.07989135223179522,-0.003994495376650591,0.020670660488456758,-0.07283690502820116,-0.056063180214338766,0.0667412160924793,0.04004847333869548,0.071837062295985,0.07868301060483926,-0.06338768209760569,0.012197334175336185,-0.013190595692212164,-0.0758976205653831,-0.06654823262428335,-0.04664529889949369,-0.08261264861632815,0.045064862413664364,-0.05054265599416469,0.06818456969588434,-0.0825502376036064,-0.0020642138298766584,0.014132543594685952,0.0746165282888682,-0.006237545605609506,-0.03427613375365318,0.054460127507047,0.04372744812830508,0.02956910707146301,0.08461789654599298,0.06999761301620602,-0.038349578511679284,-0.05137701734785427,-0.060076907944555814,-0.08023242721689657,0.03368893887841539,-0.021664866628219363,-0.022550266246478354,-0.053879206363230354,0.046124986466927066,-0.057310432358000214,0.026984439013314047,-0.054423638042944554,-0.029043837066554657,0.020126173944753342,-0.012137772145098912,-0.055679025729890946,0.08524315071343529,0.06253163740158862,0.02390386907226235,0.0077878457564865755,0.052391222426201894,-0.0766385056313733,0.04105460037054162,0.06354880457014687,-0.045944346317657585,-0.0486804999204314,-0.05002331943831839,-0.06220050396684109,-0.02175321311015864,0.06727234117647309,0.01569276354116063,-0.07789252077090267,0.007593634039119565,0.05707005279267731,-0.028313787082249922,-0.01565384702195574,0.06607095496218338,0.018223550260237257,-0.0010381191483104229,0.06591618350856351,0.024609232192727485,-0.006455272434190098,0.06741583736454276,-0.050765941653204374,0.08606966516735724,0.026089275710519638,-0.040377073569564444,0.054373459279485926,-0.04698129038753373,-0.025718392456932884,0.007671493036329762,0.041934156615650385,-0.05917318482470885,-0.06221835581527809,0.0009514496599392797,0.07576016378643834,0.0025086466311203246,-0.027724897736497882,-0.06497714637042505,-0.05492883536535772,-0.04580276461608779,0.07879554433099024,-0.015651974932253863,-0.03340451608120787,0.07263993744537121,-0.033988897018322126,0.0017080096008390134,-0.04421660315818082,-0.024835278897574635,0.06364061482915152,0.08413886524452638,-0.06083404522496345,0.06415901419984735,0.07182760408001065,0.08550238554537411,-0.03917271412344954,-0.05297046816150888,-0.00015988693022232414,-0.06696449848627982,-0.06233369638943781,0.009951326308191346,-0.005737320056637343,0.05526231351444065,0.01990600595157002,-0.051856316106129334,-0.06088989155191707,0.045946876673706186,-0.013013853759286084,0.0409893465497349,-0.009965758011194288,0.06787069789825528,0.03922010219703955,-0.06078415051100429,-0.02200513037808811,-0.02058128999123691,-0.06401668345501825,0.07666178148124178,0.03624162476661264,-0.023705288429118183,0.06234320099537687,0.05003882966328028,-0.05942586561188211,-0.0746222992326935,-0.009746192653369148,-0.027312751991048122,-0.015940112208196983,0.006462129768307888,-0.055579401221941147,-0.07904047827022587,0.018105466475005133,-0.041939685198907235,-0.035265003564534575,0.08497978488752568,-0.017428768078533607,-0.0237568846793601,-0.07201928387645742,0.03350655583567936,-0.06483913522459182,-0.0810714154337027,0.07176835816306253,0.05617524893639808,0.08159148379462391,0.04738841492292087,0.04815112143230783,-0.08496578838481403,-0.07016468215230699,-0.03808428182156672,0.08080937607495592,-0.021766481474383256,0.03762241624971941,0.027570962239887038,0.01984990366461378,0.0014403105734248436,0.006564712313360151,0.08269508850706482,0.0430571039646829,-0.002362604468648701,-0.0009562448105327104,0.0702040746002835,-0.03085661302837497,-0.07346334390199451,0.059453461888236414,-0.04405838746936143,-0.08542472927304565,-0.05191490140049876,-0.07658882891816807,-0.04988325826772626,0.07196084525796029,-0.03155186599646031,-0.040951807952473586,-0.0736935671097204,-0.05764850459235472,-0.0650046478589687,0.07054487025413066,0.08022174284343957,-0.07564066593508616,-0.05213090362842126,0.05687256517378924,-0.03407840538673114,0.06720688518212423,0.05390844773624319,0.006591438254016109,0.04307422290989301,-0.08410767636952128,-0.013036345822065304,-0.052006245189906375,-0.03732482649115331,-0.02756304642347228,-0.03730799447850124,0.005331083386994379,0.06363207169939486,0.06785930427653342,-0.06620300383991196,-0.05698163953823666,0.01975520810642039,0.05689842080691305,-0.030240133704199285,0.06913330344085764,-0.005316343326959465,0.06226072004216684,-0.038749644833972856,0.04699166714234076,-0.060193960629547454,-0.03545104638458067,-0.0014827163207230553,0.0014624241981390142,-0.0570196049856882,-0.013192528413540494,0.04865927959447792,-0.08099264622789157,0.00036510578497128096,0.009851311595374298,-0.0580862358282884,0.012040667566839818,-0.07507570365591852,-0.03869202530050017,-0.06530199214605284,-0.05824603970870842,0.020878032767884757,0.013794932532643233,-0.08171145005048898,-0.05496939406091984,0.047608555091665776,0.0022257012236888665,-0.051929268525155295,-0.05452869980646784,-0.05011840255567855,0.016676149999189076,0.08128563572188298,-0.06520573655720094,0.01706084570310867,0.05744503068775402,-0.01069864045301592,0.055982480502443366,0.014833689606597438,-0.02726659114400099,-0.021111001874260165,-0.00047829812636895463,0.030071554530873422,-0.06538019046397003,-0.051879346484908134,-0.0014595301031720745,-0.03301421312277848,-0.07916500546115882,0.008218780966466898,-0.041136020408903295,-0.06202550285354098,-0.08228617047610516,-0.0619940229123332,0.02897696260299885,-0.05934081161270871,-0.056688302857636874,0.013537265880456192]},{"id":"chunk-7db5cddc-52","content":"Structured Responses: Harnesses the power of Pydantic to validate and structure model outputs, ensuring responses are consistent across runs. Dependency Injection System: Offers an optional dependency injection system to provide data and services to your agent's system prompts, tools and result validators. This is useful for testing and eval-driven iterative development. Streamed Responses: Provides the ability to stream LLM outputs continuously, with immediate validation, ensuring rapid and accurate results. Graph Support: Pydantic Graph provides a powerful way to define graphs using typing hints, this is useful in complex applications where standard control flow can degrade to spaghetti code. In Beta PydanticAI is in early beta, the API is still subject to change and there's a lot more to do. Feedback is very welcome! Hello World Example Here's a minimal example of PydanticAI: hello_world.pyfrom pydantic_ai import Agent agent = Agent( # (1)!","metadata":{"url":"https://ai.pydantic.dev","title":"PydanticAI","chunkIndex":52,"totalChunks":208},"embedding":[-0.009553868619240107,0.05798520954967318,0.06697626879876299,0.0034799164591508636,0.058421086645615024,-0.07034832042097323,-0.05080022186124155,0.06968504354070171,0.06653299993609074,-0.08269437322156793,-0.030807616839943788,0.03964405498469702,-0.05157969042208596,0.06965621340856837,0.02920007459816432,-0.04466244402081827,0.0831728025397266,0.006671182340023357,0.039703948382297814,-0.016580940712272313,-0.05086220252648599,-0.04576896913923724,0.006307982582002487,0.06423403132136457,0.018700779745940838,-0.017281494810800074,0.0023188535901829755,-0.003414398657990245,0.07810017030870645,0.07508675752104033,0.037788371082768744,0.011712017565463572,-0.06848169142877733,-0.05669738578950699,0.05626812561335317,-0.055240305625505595,-0.03200445284760034,0.021226040389762103,-0.01582710548214947,-0.07221885920318775,-0.062339979644063376,0.08291488753182076,-0.04097179177049581,-0.005114654367012742,0.046375582234540066,0.04058465939884318,0.06413504986586134,-0.027552904646746163,0.058537924165648056,-0.07256699491195676,-0.035339111274573724,-0.008100037636925777,-0.010731194255498554,-0.024213757660407238,-0.040127007532814486,-0.04003305405798139,0.037680018608071644,0.07761243925848701,-0.03776826059579685,0.05688421418143376,0.0801393155848782,0.05547379442914241,0.04797505945643049,0.06294954085645853,0.031943536697165424,0.07458575553703521,0.021888816403332317,-0.033293900694047286,0.023116177481607592,-0.03950815901038656,-0.07061844766330624,-0.040320207290762626,-0.07670760578554314,0.06880535142574958,0.021055243577646578,-0.050582210548535726,0.017020174158539625,0.0817287905294333,-0.059383384767755655,0.03311817083250758,0.009238602334479864,-0.02085130450381923,0.06350063621268068,0.04445449228464999,0.004521064933619707,-0.0809034037264576,0.07717426116223478,0.006078831641920275,-0.041699280101943105,0.0844221920473896,0.060501747993172775,0.04920929531639849,0.03342928814989363,0.0011310973093236658,-0.08250555128026404,0.08291288019152473,-0.06762833198430956,0.04367278689111703,-0.03226168546383,-0.0694646937570045,0.00785530791252176,0.0628352154783712,-0.05129956504673137,0.04163191254607851,-0.07515701777908321,-0.058574242053204585,0.07361337354000146,-0.02937415352011508,0.054177011203684386,-0.06582575611062619,0.013533428712122474,-0.024728701613773944,0.023611170100613935,-0.002175329809244142,0.053532433316115874,0.02141353135303306,0.004071010774280359,0.0622649475631368,-0.0205735999462482,0.044063005398291846,-0.08385234038230441,0.004319861475842444,-0.052003892914625975,-0.02571363648277823,-0.0069394538583062776,0.049599795594416934,-0.045317497780345904,-0.012210548802297811,0.05852387930186876,-0.07158412578339568,0.08288141433858104,-0.06639669434947842,0.06214066943675783,0.02475934481617056,0.06550103214078007,0.06891125507838629,-0.020889974122378786,-0.0284832215874653,-0.028518361096672558,0.005685705251840905,0.07479929802935632,-0.04186408855154803,-0.008651603167468082,-0.05726656682476788,0.0209649942876356,0.02543565356300146,-0.003403555611352151,-0.08189612360873873,-0.041718179417693846,-0.0028998004178860727,-0.06227578438714306,0.04369943984562642,0.022113606970612393,0.05197140498685196,-0.0149755018629769,0.08470939650101789,0.01076207213471654,-0.08013508546811168,0.03905402700083393,0.021248728703408493,-0.013297966897772314,0.05264586050760864,0.07369982997672336,-0.05113453672101586,-0.02979883069458809,0.05950307644032047,-0.08365842196561808,-0.0620412194928787,0.08131619789201275,0.0542030249560402,-0.0036406273066598304,-0.06506651359012677,-0.06123988436250276,-0.05657017840004232,-0.030187714613529645,-0.061946537196357856,0.014411244889108814,0.03677463551476853,-0.08133416638003188,0.03644490655441512,0.06133345022458119,-0.0008819287030656271,-0.049246403579017585,-0.06699335308990022,-0.08400270668354595,0.065901723458332,0.029098631830192925,-0.012120662307367126,0.069231887856637,-0.0343083246895491,-0.05589175118147761,0.03452884690021507,0.011621124858334128,0.045296720614065304,-0.028869372392852147,-0.05997321625366054,-0.057847793752872675,-0.07240972402328139,-0.06000870177379996,-0.05011599549174667,-0.024850620077119495,0.06157020405893946,0.06004588548921966,-0.0314442735316732,0.046989608254149245,0.036969648785698826,-0.045036163646647885,-0.003288175929149449,0.010978420543134693,-0.08378551608533713,0.023271821651411558,-0.07622587575215432,-0.07389268813574716,-0.01545502393291877,0.017670829357681623,0.06313935366494874,-0.006063501974323047,-0.03357693445729413,0.07128505820515,0.01016409900617722,-0.01855066288123718,-0.04399422457407671,-0.030809477204661883,-0.04344119054784882,-0.06396349365445395,0.07455603613312166,0.019349418140439615,0.03782221008525451,-0.02521339464487816,0.03402638298030395,0.07922025987305638,0.057227465201355,-0.024914770695820973,0.05393695807144532,-0.030712906999015955,0.05950423875084469,-0.08413976807625863,0.07859981754923898,-0.004958019315889309,-0.002817659856142004,-0.009297785399014498,0.07994750199896182,0.051797592440361126,0.07496748180891254,0.07724975586644196,0.0784861613471615,-0.049021898726220904,0.042610360130650955,0.020829001805014208,0.012100048269452416,-0.04617687552649233,0.010936545082133963,0.04033004440081484,-0.07699154059476383,-0.06335813588452065,-0.06879556287953587,0.028897380787611268,0.0021777862433188383,0.017811589304601826,0.04009569087609273,0.06303783029873351,-0.00048198826245063477,0.04094131330494725,-0.02918698552205901,-0.04014210238623779,-0.04209590195832351,0.056593764103649066,0.0037456955003798273,-0.06143565906578302,0.018547709560257017,0.0016618645361444243,-0.016430859948133043,-0.07941868489107087,0.03911718738019404,-0.030108108876883404,-0.027917596081059898,0.07071922658087339,-0.048995333976947976,0.08037733041006333,0.001327709460452856,0.011499339974776406,-0.08039685867879973,0.0006128942218831677,0.043236034321518055,0.00451442050863241,0.008592049389825515,-0.016015584151576237,-0.05533669749901757,-0.03211715127954185,-0.03391793894905688,0.05613510289712855,0.08292392024951038,0.08376091453287325,-0.02525604497454003,0.06106748260813432,-0.01511986702408633,0.06026997339655783,-0.08116827133077896,0.0037637985545795794,-0.04044473310427166,0.04162388325241671,-0.07104534676643598,-0.003857274991153759,0.04325887226539459,-0.015008687834379947,0.04467417932533888,0.041971316396926105,-0.019308995694449486,-0.05360396459335419,0.04816571889529448,0.02038266488118189,0.012573928692241412,0.06433749734850633,-0.008423854381236776,0.06199528106128342,-0.05649239095048767,-0.06750198886776472,-0.0821146957868091,0.0387962405148237,0.06335777402478586,0.008872205133508516,-0.002549514961714864,-0.05407519274712632,0.038105526696765354,-0.04068394419316958,0.07035701481547577,-0.020943024540386462,0.0763100238922992,-0.009653988412188466,0.062481673329318484,0.07949226140056637,0.0628762076935476,-0.022562533472715283,0.05975224975349404,0.040391016312273306,-0.07098172874716382,0.07141358190069458,-0.078547542680832,-0.07232533166938536,0.08189123074092919,0.07297481036314817,0.08246576046906749,0.06218119759154588,0.007965884363406926,-0.04407589366451704,-0.07341144755775951,-0.04780813544272068,0.08029450750593277,-0.06155815895055894,-0.06620144553074565,0.06755998828713675,0.03063764397389106,-0.062019967285421966,0.06272975049899017,0.0398278954675218,-0.012646794547669628,-0.031146649265223203,-0.01577373361582137,0.02501121890777223,-0.07883596955771713,0.019796768431396394,0.01658886456289884,-0.056102442021212846,-0.017644220796738778,-0.0479478204433379,0.024329152575136768,0.08399748031851725,0.00808289610152543,-0.07041155290448578,0.013480496379340765,-0.07835042699888535,-0.07519877740773731,-0.04493057533446442,0.08086778231947482,0.0015478301120822632,0.08393465552693956,-0.07334870737242015,0.01548332567573017,0.07843143338942653,-0.06991000073785524,-0.010831857921920386,0.01851094878791785,0.054036531901515805,-0.04422746204766497]},{"id":"chunk-7db5cddc-53","content":"'google-gla:gemini-1.5-flash', system_prompt='Be concise, reply with one sentence.', # (2)! ) result = agent.run_sync('Where does \"hello world\" come from?') # (3)! print(result.data) \"\"\" The first known use of \"hello, world\" was in a 1974 textbook about the C programming language. \"\"\" We configure the agent to use Gemini 1.5's Flash model, but you can also set the model when running the agent. Register a static system prompt using a keyword argument to the agent. Run the agent synchronously, conducting a conversation with the LLM. (This example is complete, it can be run \"as is\") The exchange should be very short: PydanticAI will send the system prompt and the user query to the LLM, the model will return a text response. Not very interesting yet, but we can easily add \"tools\", dynamic system prompts, and structured responses to build more powerful agents.","metadata":{"url":"https://ai.pydantic.dev","title":"PydanticAI","chunkIndex":53,"totalChunks":208},"embedding":[0.008100435002019991,0.01697550995684778,-0.06869564927695253,-0.0033182801258794564,-0.06294265000152945,0.08870601320470885,-0.07023066308176072,0.013265080173217309,0.059984336390440054,-0.03235539929901852,0.0729848527730044,-0.01494963013677367,0.0189969148107413,0.044810699705040244,0.07383296584821247,-0.06038516254182135,-0.07671720751437389,-0.027644462884839235,-0.01858667564248173,-0.04473862465723044,-0.0008642373775124965,-0.08811926131630181,-0.05806810618065612,-0.023179330210839604,0.000951726811121287,-0.007494516176810253,0.002511944552728117,-0.026248698840878857,0.06887386632969653,-0.03972817085432257,-0.014132291806916993,-0.037360403814532574,0.05799176567933597,-0.03692961720496018,0.004103946157481939,0.019698497454535155,0.03398949441202445,0.033815474029006164,-0.07672018787035446,0.029109212159843946,-0.08997804923075098,-0.04251978266978775,0.049856232642001674,-0.0727266749254642,0.02895602329567374,-0.013716986524091581,-0.06744180572736962,-0.06902815434427292,-0.08358017172110105,0.07958027794025853,0.003127772389946109,0.02674151009808609,0.050981924834663364,0.05453594680914772,0.03427034243450153,-0.009370283717343525,0.006179277481370911,0.05004644943489519,-0.030120392074876056,-0.020805511930821204,-0.07754450802114794,0.027815394801158543,0.01064891852807841,0.06432596982271065,0.03293593383322658,0.07871575270782866,0.0783667911357053,-0.08734888978141883,0.08799639683464161,0.052517092155144524,-0.0566883425640906,-0.06846124784462503,0.034495130087888626,0.02563704910828167,0.011850516719108464,-0.01800475588574713,0.013179045005087923,-0.028421488652550835,-0.051067743727666676,-0.0730943077838695,-0.08465848133727814,0.022606676963285267,-0.003991704293183874,0.037593528076208166,0.07395964533086365,-0.021402881216360768,-0.06567905669795437,0.07138866973889517,-0.08168157010042519,-0.03664499714107998,-0.06380743564038376,0.05604599644245063,0.05570904589054209,-0.005985018797730593,0.0006980745320598564,0.063997049370947,0.005960467448517465,-0.07339543498190165,-0.0192057267656301,-0.030132275159879023,-0.04957792642426108,0.04984112049122503,-0.05315900673186592,-0.040469209432022354,-0.0419473611968568,-0.04333363081385742,0.01876719370243398,-0.08553567625462191,0.04788746870615316,-0.016109562010124333,-0.019864478892617422,0.023300085388738453,-0.003929636814957674,-0.07432857622606648,0.08637589621846593,-0.03872763795603232,0.07157332195667516,0.06703624197061908,0.07798159210946864,0.03946476720499955,-0.01597763612922812,0.0027455846630160437,-0.06817355867896413,0.019327650866888833,0.08165631325165905,0.07564209127916477,0.03455442582361237,-0.011249144780603645,0.0726288905230663,0.07442726336128086,0.020934747012504983,-0.06195474660639715,0.04575810699953961,-0.05430205051430028,-0.06734185816348241,0.0013630109806159602,-0.0066976114427344064,0.022374599595906857,-0.06888016552600651,-0.055996796595977824,-0.08336375009013282,-0.06271464420182521,-0.0891884629369804,-0.06984062524287812,0.042819285635567174,0.04732066954710021,-0.0016411116855778668,0.05198487755237879,0.025629993764389764,-0.054539486133231375,0.01582529560616865,0.055423484693084966,0.040064107678993474,-0.01979585833391296,0.0031643905654899183,-0.051368349066280385,-0.08389156012786081,-0.017546639310088832,0.06780748735978964,0.05390614228001819,-0.009842998807477285,0.08422909631774729,0.011237041920940617,-0.037063662109312986,-0.02782094275235163,0.04911652834161171,-0.056926821446530725,-0.06879246511543728,-0.004712597068619803,0.021550126259946924,0.043282372047865496,0.058668726067138084,0.07732823931047447,0.05801302198914141,-0.0490099082363201,0.08124752753921011,0.055282759948721505,-0.06935383030684601,-0.08764898027510434,-0.05943162745539583,-0.08817240384140712,-0.007614075123058665,-0.015702156493822752,0.02962689656834379,-0.04401640141493808,0.07736779821116868,0.004110527715786056,0.0603770773113361,-0.06965501017355331,0.04544127557787578,-0.06341979981266688,0.0652239286879922,-0.06045402693939943,-0.0004562252764194329,0.011883836031894633,-0.051344427060169555,0.005376225228852195,0.057711997917261774,-0.040561268617035746,0.05411290969916286,0.03909852596672053,0.049159927447703776,0.06760604991671684,0.018959732305837706,-0.036895652848105635,0.07715338980099977,0.0014071006034095258,-0.05705789600345635,-0.020869468821904418,-0.07823999124168982,-0.026992905574663485,0.022390056450080225,0.025513462472138555,0.051651580214414586,0.026395145231849913,0.06056813522055942,0.07799652914583832,-0.07609656436490375,-0.08998436558358551,-0.033120006838833795,-0.04651780502441963,-0.0846373398500916,0.046973538696435405,0.0474231485079236,-0.005911112584391801,-0.0867913056648178,-0.012674062735178815,-0.04187435568388186,-0.06583596957233506,-0.025001163673006383,0.0779401553773895,0.005437017766221707,-0.014644900184295106,0.04698841344441136,-0.0637675104552001,-0.010702225955424258,0.05839429386378851,-0.056945685407094056,0.017003740017489225,-0.037747866574199374,-0.06042788850744184,0.02508587029934055,0.02379411552292031,-0.020049456771712475,0.01200511035632671,-0.04802863042803018,0.08423711805589208,0.028594735740245916,-0.017987654411997473,0.045925008635683925,0.05702000958221454,-0.011418163678602829,0.006181798527247525,-0.024297890401728958,0.012013793560249288,-0.07254022810512267,-0.002326346330369239,-0.005474784873502461,-0.012066719637325996,-0.01112128434445482,0.06457386074606582,0.02951374932900448,0.08370145629099762,-0.03235983632915546,-0.07183157172981172,0.07819781271083562,-0.03589399019256889,-0.04826710631104647,0.06035085505286769,-0.024567279709883164,-0.05144217552771954,-0.08934765793868432,0.023960213796927723,-0.016167302580093964,-0.05027406518744237,-0.045556281623726644,0.03607956520953629,0.0545759809742221,-0.009447428954124166,-0.004357987693330108,0.015500485592832002,-0.03700573173500476,0.04124309292622574,-0.07992015521083896,0.019597130459275677,0.05369095361145713,0.00848709587332437,-0.08940532357262375,0.025913192847413922,0.06102226861208545,-0.06536737807118673,0.0735441249704364,0.03857724779355117,-0.009162088713645569,0.005339344655968852,-0.07247992307371125,0.05446107001461802,0.02178178694369456,0.05053287173426727,0.006604534024296266,-0.08140317024810981,0.04143594582754641,-0.06822642967176108,0.019240484377184234,0.02700475069063401,0.006980118526210669,-0.06753359761464024,-0.0878271694909948,-0.014341988210404085,0.05325905376522127,0.016714536049072675,0.008854774549332832,-0.06894639107500491,0.007001519602070615,0.057604469028320296,0.06818185205609481,0.03534735263601122,-0.08647104881049797,-0.018856156007919785,-0.08474369241954383,-0.0893071557445671,0.07064547981007917,-0.08871136718491342,0.07436546866501986,-0.011572088991919948,0.06515449631010178,-0.0867038373649453,0.008568011006411653,0.05952162541439595,-0.04784239771312099,0.0886285105170008,0.03066443114600716,0.09059393271054288,0.02089443670679357,-0.020377273242850377,-0.0368848547219761,-0.056760652931870964,-0.08763596365572017,0.03643479154265583,-0.049943210974168394,-0.05643842512867791,0.052084617794051824,0.079060911941226,0.0761115038133936,-0.023400604664465703,0.02090043215892625,0.042985676778335404,-0.03556784306223395,-0.044758717363737946,0.03266600293497237,0.0050349313766366545,-0.008143942593129588,-0.049229946240994374,0.01855879451876141,0.013649287214348505,0.030195094742167906,-0.02911431008216598,0.01728287613632761,-0.040099799506373934,0.06743764605886753,-0.04043062010307478,-0.06345554633827571,-0.010026304785343953,0.07720170865016215,-0.018615606066330916,-0.0838925754943942,0.05413370002572568,0.03425329453942296,-0.02645234779413788,0.07411277032207485,0.005921552509140055,0.051275668952699444,0.054615829018157,0.07317359683263054,0.07675413730258271,-0.019126573201278297,0.03450158656748076,0.020119410155312534,0.03578946902517534,0.050623543371744996,0.05061685217360929,-0.007489019588513283,-0.022251887392633576,0.06505107733204234]},{"id":"chunk-7db5cddc-54","content":"Tools & Dependency Injection Example Here is a concise example using PydanticAI to build a support agent for a bank: bank_support.pyfrom dataclasses import dataclass from pydantic import BaseModel, Field from pydantic_ai import Agent, RunContext from bank_database import DatabaseConn @dataclass class SupportDependencies: # (3)! customer_id: int db: DatabaseConn # (12)! class SupportResult(BaseModel): # (13)! support_advice: str = Field(description='Advice returned to the customer') block_card: bool = Field(description=\"Whether to block the customer's card\") risk: int = Field(description='Risk level of query', ge=0, le=10) support_agent = Agent( # (1)! 'openai:gpt-4o', # (2)! deps_type=SupportDependencies, result_type=SupportResult, # (9)! system_prompt=( # (4)! 'You are a support agent in our bank, give the ' 'customer support and judge the risk level of their query.' ), ) @support_agent.system_prompt # (5)!","metadata":{"url":"https://ai.pydantic.dev","title":"PydanticAI","chunkIndex":54,"totalChunks":208},"embedding":[-0.023096534647677615,-0.0043409384884854916,0.008917226934427362,-0.04195738808977641,-0.07465301930504023,-0.07600031257189714,-0.041518154121151514,0.03193056478982755,0.02425229382060463,-0.07587071608857601,0.08803778935690253,-0.003026615972439317,-0.01672702199980011,-0.012492103092015846,-0.04050850898690072,-0.055964761813210764,0.07323926711292132,0.08442524338076096,-0.01613022930611251,0.06945964780694713,0.06660912627862604,0.05892458076742156,-0.03751163042121933,0.007509732659529039,-0.02237451267948385,-0.01627895643274073,-0.01490120645141381,0.06641076582295588,-0.058321360420713605,-0.07010648432865567,0.05393017425638555,0.038206775028469316,0.08077556590548048,-0.007579960878664664,-0.003223652962592941,-0.07506078328900437,0.025526208440864954,-0.06149881283731934,0.03392363385209488,0.08337261535740906,-0.03173611990940122,-0.07744262809635084,0.029635421235474597,0.07532916333718431,-0.03969021280666446,0.07987559800276002,0.08044055626374995,0.032165605567018606,0.02833455913031498,-0.08247692927910874,0.029754774815249737,-0.004818109921824928,0.05087981548398277,-0.05755757617303816,0.05046927193672151,0.03158779736760765,-0.08559910775142526,0.03167133380629614,-0.04326736422476217,-0.07906298339105929,-0.005077573475851807,-0.022976486814214568,-0.000873472553455278,-0.05292775814682833,-0.018106018535049,0.030980325814020045,0.07801738972627371,-0.08197455578855405,-0.007471085691501199,-0.005992207582572124,0.0351989884772263,-0.051400622346793906,-0.04913050415090337,0.015327599075280468,0.013699705447233094,-0.04349118099803571,0.04920194496363538,-0.0677760325901467,-0.06965638132175671,-0.03454795166614191,-0.08426398395922968,-0.05364342434050436,0.01726359099126688,-0.08766973499439183,-0.06184949539816082,-0.03202070033371297,0.07454025591467332,-0.025332441800773667,-0.07757771387018589,-0.000243380601698952,-0.01857516789005027,-0.06196214600867578,0.00025000897715968517,-0.019586464665904583,-0.060799529506181685,0.03929914659599276,-0.0696414030071225,-0.08806551934549071,-0.026756604612649896,-0.06188044311852849,-0.062166085417141616,0.08410597284313963,0.0046563833770202675,-0.06991571364796124,-0.07073006846760353,0.07061821909774865,0.04211331994183683,-0.021242128587054016,-0.021063809986158775,0.0856113810869941,0.03846818400069166,-0.01100116798613107,-0.0034535559027640992,-0.005374352142804598,0.04298334708496544,-0.05696883233156705,-0.053136610037310676,0.017011288838041868,-0.06108138009782306,-0.0787742991665683,0.05958154588882641,0.004997714616664712,-0.04860569290715707,-0.003967633538127647,-0.07271393585015552,-0.08153799332611908,-0.011067288650388814,0.07527941829770185,0.06106394784094082,0.03582566518536891,0.0334037054325894,-0.03608958603324008,0.039225023489691514,-0.060112478694810026,0.07470525091320634,0.031456320803121884,0.011034946176988266,-0.07373734934281248,0.0369078459332451,-0.0067170407685129075,0.02608464518359938,0.014183319652104622,0.028533459476592336,0.06039748707511084,0.047636142375803756,-0.028628079779727915,-0.06397015174924381,-0.021544525260379935,0.051055588453583996,0.0024312706244195774,-0.07185442503132296,-0.01163180256710765,0.06632477850987384,0.054640838456715864,0.021376733129762463,0.03579195943517694,-0.019520760041690215,-0.016531053332938608,0.015375316713047354,0.05929330821577009,-0.0669031827706252,-0.0709290947075906,-0.003393408564326791,-0.0723411253991114,-0.06018257552502014,0.04372223599241054,0.06579496738776586,0.013235347887396868,0.050587305816231366,0.02470362951634266,-0.048954657070550876,0.051012111204785215,-0.008773090626517491,-0.05144838010594167,0.07439844897526231,0.03447300207918929,-0.04353467164515036,0.08495816755739109,0.01584356898694622,-0.03916479615045875,0.05370469699729662,-0.07769474626522144,-0.034084733265522776,0.03987960224451965,-0.0057715720077048255,0.07700779928886821,0.03475383265784443,0.035025030589201187,0.06120753321004387,0.05060174072079247,-0.06273674140759566,0.07290590280880643,0.004473766159187574,-0.05996565396236563,0.0030531966287537233,-0.023268685378030403,0.07592798027291528,-0.053388903875964275,0.027302464223752525,0.05046694779041735,-0.06480983353397628,-0.04139806314741724,-0.04057974974387603,-0.046671796803299075,-0.08715688956309055,-0.07770207141750891,0.00019059852462867323,-0.028737057498954072,0.048374118877386484,0.0581924516866633,-0.07433450270754721,0.013454140343833298,-0.07759091572366197,0.08148518989752304,0.08268834431604506,0.02559222794045702,-0.0868338444703864,0.05884918228028483,0.012009431185773892,0.0010526295074708132,0.027277061250974108,-0.0874527591401122,-0.009251709460438554,0.08163165761032398,-0.05564951309361536,-0.04098743552508867,0.07663795817879764,0.008365958999260448,0.021354871717055024,-0.07192708833851102,-0.01302866584582544,0.029006377428306616,-0.027107689603925494,-0.028123708493213995,0.01799706233345672,0.04336234251050194,-0.036040148020969116,0.05094190202141036,0.08236323665325718,-0.0551518025186503,0.016497106773095745,-0.053218818417645516,0.05663136992407373,0.024985169474413413,0.028409947378164838,-0.08174061572268218,0.059086492728197826,-0.011749737659484765,0.06601470850436661,-0.009455706259257898,-0.060082130647046324,0.04764707929955364,0.03665306599367988,0.05821088272885847,0.0670004038006882,-0.007079007167087028,0.0635052101934177,0.08214004210634698,0.03270719120572653,0.008336126549797223,0.011300215620780943,0.012024463278030726,0.014249770121530949,0.03204118569843959,0.07455770107285362,-0.03884731608657377,0.008458636417791513,0.04191885757792846,0.02935484515020918,0.026898466264021575,0.012442649659508935,0.08176079438220261,-0.05959617041062407,-0.07470173440707914,0.05690677993120618,0.03253635798947341,-0.04601926460254858,-0.08415337223930687,0.011098905991318568,0.07323079100321808,-0.07302218407814473,-0.027795798747982166,-0.01828781867904701,0.07069568107483502,0.07366380512039525,0.06351751281450639,-0.06722740702366778,-0.04879023287119644,0.07433012544147286,0.037650420316276675,-0.031950041980730814,-0.003280139605542318,0.041949004290356265,-0.04927568261388649,-0.017141061838168756,-0.024226886120619223,0.08661409325769263,0.053584579087814534,-0.0351691860183178,-0.05229156362929954,-0.06621925136013479,0.020129943760234078,-0.019475025265106825,0.008613013784530735,-0.06047288792484606,-0.016378931771396224,0.07225362856270139,-0.05768539927591976,-0.07862167776400167,0.06215622015380069,0.07794500583094374,0.020008535071411405,-0.05222919257544558,-0.06028081570820261,-0.05272841558280143,-0.08719366531975319,-0.062099793718289095,0.07284026270513236,0.06252669207672162,0.03580681029305908,-0.0008957534010507294,0.06332291348151321,-0.07373280711546122,-0.007818776359539384,0.06762759434185066,0.04803330160087054,0.04725820408128147,0.0020129154224246405,0.07952740803125752,-0.048512018056996724,0.009371537500223601,-0.0022885019463628514,0.06401576783542885,-0.03825413640211935,0.04731490790785671,-0.011846450784320294,0.020227188760518076,-0.026773450103010063,-0.057499188052997016,-0.07163326024275707,0.026757330369392932,0.054122046311856756,-0.021940991073716307,0.05053380924991094,0.05393458774914419,0.06585039923783755,-0.071071597363261,0.035842008955335423,0.05884506984457408,-0.027792686194678787,0.0002789924119505786,0.07725192516911408,-0.07860648257094313,0.04703396655020467,0.03130287072367481,0.01723732667796692,0.045750571905129114,0.04168942187544107,0.05523353276168248,0.03839263365375404,0.023541027941870636,0.02109079487292108,-0.001545178769177683,0.02900965369110125,-0.07376285828147253,0.06486328242123783,-0.049971956179357596,-0.01664125680028161,0.02943275928652729,-0.08462035546353361,-0.08193956146423284,-0.08287928947039935,0.04306202727958573,-0.027520871086814207,-0.06731320439895515,-0.020638569240216977,-0.01139502823546529,0.0429017270426874,-0.049214721924695524,-0.02808218767422792,0.0034602026028603535,0.05150590229992054,-0.014036808847996554,0.07831220401442496]},{"id":"chunk-7db5cddc-55","content":"async def add_customer_name(ctx: RunContext[SupportDependencies]) -> str: customer_name = await ctx.deps.db.customer_name(id=ctx.deps.customer_id) return f\"The customer's name is {customer_name!r}\" @support_agent.tool # (6)! async def customer_balance( ctx: RunContext[SupportDependencies], include_pending: bool ) -> float: \"\"\"Returns the customer's current account balance.\"\"\" # (7)! return await ctx.deps.db.customer_balance( id=ctx.deps.customer_id, include_pending=include_pending, ) ... # (11)! async def main(): deps = SupportDependencies(customer_id=123, db=DatabaseConn()) result = await support_agent.run('What is my balance?', deps=deps) # (8)! print(result.data) # (10)! \"\"\" support_advice='Hello John, your current account balance, including pending transactions, is $123.45.' block_card=False risk=1 \"\"\" result = await support_agent.run('I just lost my card!', deps=deps) print(result.data) \"\"\" support_advice=\"I'm sorry to hear that, John.","metadata":{"url":"https://ai.pydantic.dev","title":"PydanticAI","chunkIndex":55,"totalChunks":208},"embedding":[0.048797788611183085,0.05141405326594539,-0.035313309629821474,0.06718939105818302,-0.00012820970256800188,-0.02082290121422216,0.01979881714527893,0.03455560111718974,0.04360234085894931,0.0011111114188270595,0.05115203913319291,0.08638872512470418,0.03538828535088926,0.013185194260654126,0.051243732893618776,0.08061638612286988,-0.010776095185620884,-0.07609356577020317,-0.03245397178348341,0.03737595814317702,-0.051015903201831234,0.032747154161028566,-0.05770729966250183,-0.06116433756445203,0.05015530716356446,-0.016031419548440198,-0.08449671449038493,0.03844176773272269,0.07852364440492929,0.00823180085933947,0.08322960156888201,0.04998597714298374,0.0797369497465798,0.030211218534432146,0.03716187777711096,-0.08565712085832763,0.05380724562351038,-0.06330526112822546,-0.047084084578880525,0.016730544349788035,-0.06729899149686251,0.06818655046231197,-0.04626075959222867,-0.07875129174294024,-0.04026486803714167,0.08719646614626499,0.05947861007329893,0.08310085130623668,-0.004288808923248157,0.005949211779560527,0.04933030862157891,-0.07379769949949819,0.06922232300664857,0.03255709696047664,0.007885590541795273,-0.058568917346726417,-0.07041914192548879,-0.07858687820995175,-0.08632206536039361,0.0077097494131249346,0.005279979340155176,-0.012538663584690139,0.03040644071279351,0.08714552899819338,0.0035476841204435264,0.08021266319894542,0.06764420409114713,0.045965000631466676,0.059263479015217134,0.0856275800133541,-0.08567334299889215,0.06502337207249538,-0.050465797755138916,-0.015759018791112897,0.028298062032762673,-0.07172386088827007,0.040533261829052,-0.0003765063877447978,0.06422862523664022,-0.051634515527230605,0.04525993176107106,0.08615194997424067,-0.03948207055864121,0.06463955877602885,-0.03336907020630517,0.02578730268171595,0.001283493067778937,-0.03749107969981559,-0.023639495601190177,0.016277956790808106,-0.05247684932778386,0.0392696969634108,-0.0002253080516636098,-0.07534067018982918,-0.07461890735338987,0.08495793739534284,-0.021596985055487048,0.0671790069582065,-0.049474783394273504,-0.030998676333664633,-0.01842469318348713,-0.0526424236562894,0.07041418518075804,-0.04158087319029849,-0.02802833526049928,0.00254115519727742,0.07600668503094238,-0.05267931998978052,0.03294428659542029,-0.04906402926736783,0.08414288915567246,0.07824454828810885,-0.08035016932952259,0.0729425680954816,0.08651847535191323,0.025666352391162262,-0.02796757202850472,0.04167976532731038,0.08656367001470831,-0.018576808876812345,0.02011495366928148,-0.023072101936379902,-0.06716902845656213,0.036918842287261194,-0.08503785979087067,0.03527212229588669,0.02159258593538462,-0.011199141288886608,0.0185417849294128,-0.007399084739810671,0.06928658852356065,0.0024220332351197926,-0.07165512334291342,0.025062476436464486,-0.01366384784341464,-0.06955068503567156,0.002260158730386516,0.08334505462311598,0.005360023656747021,-0.009556580935882403,-0.04571234910740673,-0.07443885117370638,0.04636724702675599,-0.015020662595158019,0.0160480297404458,-0.07676627542595586,-0.00036564983980853923,-0.06724003485857775,0.05775056720116134,-0.0397737424153456,-0.07374344156287035,-0.021307061462540477,0.04657794792479114,0.0010540425607376439,-0.014639577849187417,0.025974072991867544,-0.01935620028908799,-0.04876675895321812,-0.0881938186530576,-0.07435660851163454,-0.03477787401355081,-0.005851573709478679,0.07494876515741399,0.03554284459568408,0.027901680100520944,-0.03050396711785136,-0.005101732023588071,-0.005631315782969357,0.008087482022693738,-0.03918181716932954,-0.03226505068286325,-0.025210644124871673,-0.08694537382384164,-0.038837444537827594,-0.028322278253714733,0.03831767844019843,-0.0011265588812901216,-0.05345422131268995,0.0032006319759153414,-0.07206104749833066,-0.006634048230297526,-0.053267778067221945,-0.05993290325129666,0.005761701365818648,0.0031962069769929176,-0.04180359778273458,-0.06741482960022688,-0.017948999856316074,0.03453864234071048,0.0347110158512477,0.06288352874717552,-0.06942581073834676,0.07759238086457021,0.02836197923320866,-0.06668734806491551,0.012091467886726841,0.053802279548693495,0.05646205095346955,-0.058569909427725726,0.05617144888505302,0.06165861501574124,0.07934742582184044,-0.06993515442342228,-0.053228322421956305,-0.07515822076680133,0.00860798098284779,-0.012800059323475204,-0.08308337756405089,0.0733596290804301,-0.015416028516149302,0.07211366293254554,-0.011605696639519351,-0.03686077256872518,0.03972656257498764,-0.015985306030270176,0.031413604278031214,0.004693173359684992,-0.07610390143975457,0.052512817754728984,0.06769286258198395,0.017877136666861863,-0.03292117617359581,0.001931979624455309,0.026202186815222357,-0.036706002394002964,0.03984424125386211,0.0872250170602858,-0.03603813756899243,-0.04537657933903762,-0.014662535437840596,-0.04692613613598617,-0.04698114273014919,0.03875788491341693,-0.06254768144093593,-0.08515699452161411,-0.048469748413324076,0.02307432926347709,0.021486566592478842,-0.08057092557124124,0.05514715059651109,0.06391752938563842,-0.05711260587738114,-0.05433436202531174,-0.017499141875669803,-0.01773265243841367,-0.06718190281902284,-0.02560200319884177,-0.08266353210312945,0.023165884683870396,0.07530840937361488,-0.0061099969275618385,-0.017934242568730954,-0.010693054889409342,0.029329985777645697,-0.014010558626094233,0.009916548464741347,-0.05120588124120078,-0.08096771031760581,0.07889864858211673,-0.009286960228365636,-0.058957813834462754,0.0498081121034706,-0.05086381565850029,0.08821275201133975,-0.00789459658199209,-0.08040168842132768,-0.0138148490787704,0.04286866021331352,0.07894446955968587,0.004395968480359354,-0.0787466505181991,0.051494100303450786,-0.0086883178278273,0.003764248832016702,-0.07838870370140762,0.06749598888211834,0.030587086438087756,-0.0060476445065719975,-0.08313939669111105,-0.004876764002388558,0.06237780487897056,-0.06909124456008754,0.060415833318140925,-0.061093023031075035,0.08616766729577346,0.015963768268473212,-0.008745030629170418,-0.027957746627436594,-0.08441269891185181,0.047469330752174924,0.05459260252876628,0.018855969205328345,0.07893150746309512,0.007791710004989725,-0.08765494046663429,0.057600548607282004,-0.03801442083269606,-0.06593930088519585,0.08794241781606346,0.04979227921519614,-0.042861558018660054,-0.04728987132051921,0.08424814279209,0.038030074013160976,0.07628004111993203,-0.022276175886206964,0.005716298232892179,-0.07898020558209035,-0.07156754247734168,-0.00960989607139668,-0.040546477387197404,-0.027880920225876776,-0.022847583965124114,0.012328122389353095,-0.02312517935890751,-0.0752513754372505,-0.057517301871163655,0.010093282618236924,0.005319565196479839,-0.0348582120842702,0.012077575003442845,0.03669357818917513,0.07679852739663495,0.06067501607150773,0.01021620597171659,-0.07528950542788729,0.0021810605735751165,0.024598060089465107,-0.04695412186014101,-0.07561080796653621,0.07126228602246447,0.015219539803544565,0.034897912141827754,0.07580679086598714,0.003732781866901459,0.0793133850504058,0.08741454354495622,-0.02703020926713482,-0.08658716715662267,-0.02970584341176249,0.0009834656663741076,0.05905532705906048,0.022453282282161216,-0.07787437850347002,-0.019637883211980706,-0.03516687520317654,0.008699546924195193,0.005240943290681024,0.05764560207088873,0.053130835108800685,0.03640742254361349,-0.08249916223685315,0.010546746945862726,0.012319778284288952,-0.07493220239282394,-0.015312958987023676,0.001532096231647313,0.059042333326488894,0.08219776192381631,-0.05310613621296572,-0.00939792142601457,0.0007787684548677946,0.017901455420814647,-0.007494589245990765,-0.014549965044036028,0.07490973209053338,0.049030901224517025,-0.029357142446294962,0.03460407026769334,-0.00563357615707445,-0.07911910493996385,-0.03321609259904802,0.0270581235863872,0.02345823460605866,0.0019386489607394245,-0.07419642391655688,-0.016433010730159035,0.023857155367965465,0.008271572100927266,-0.07346132915647074,0.043739590165081534,-0.0389472966064072,-0.008610337366655129,0.07715634792051666]},{"id":"chunk-7db5cddc-56","content":"We are temporarily blocking your card to prevent unauthorized transactions.\" block_card=True risk=8 \"\"\" This agent will act as first-tier support in a bank. Agents are generic in the type of dependencies they accept and the type of result they return. In this case, the support agent has type Agent[SupportDependencies, SupportResult]. Here we configure the agent to use OpenAI's GPT-4o model, you can also set the model when running the agent. The SupportDependencies dataclass is used to pass data, connections, and logic into the model that will be needed when running system prompt and tool functions. PydanticAI's system of dependency injection provides a type-safe way to customise the behavior of your agents, and can be especially useful when running unit tests and evals. Static system prompts can be registered with the system_prompt keyword argument to the agent. Dynamic system prompts can be registered with the @agent.system_prompt decorator, and can make use of dependency injection.","metadata":{"url":"https://ai.pydantic.dev","title":"PydanticAI","chunkIndex":56,"totalChunks":208},"embedding":[-0.0336099411205293,-0.0628710597418275,0.013853141482880589,-0.04539401761201458,-0.06404096126309311,-0.021058022837322245,0.017926036224670167,0.04021611919632529,-0.026826110477452876,-0.07107688448505962,-0.04000509964851646,-0.027395888651641553,0.08444923821312021,-0.025966820952821736,0.08266039708093112,-0.05795029446521905,0.037883268066198426,0.0038153842621477534,0.013266346648257162,-0.0840931789839031,-0.037424493921796004,-0.07422994097591988,0.009327815745266489,-0.00009991222058707588,0.024751262231774717,-0.026170570530091135,-0.04968105006310003,0.0715889805487338,-0.07323773450744041,0.008906019793354328,0.05329241584487254,-0.05749936788347635,0.08096591651439938,0.07225296699273515,0.011188539041485437,0.08224094939739235,0.044592495904999606,0.042646158720107595,-0.060333082835442434,-0.06148265525011888,0.03765119211468198,-0.029512932943611823,0.0032389430184149763,0.06586857332132857,-0.032889630650003256,-0.07146858668082916,0.014913960247881773,-0.048937237890337694,-0.05919036367453437,-0.011831226233565082,-0.057107627078047514,-0.003148359453872727,-0.024779024958382103,0.000626406386381859,-0.011513318929441223,0.011842754794748826,-0.07789274023177127,-0.06039246365120198,0.04527928154062003,-0.07499051410670643,-0.010021293495254588,0.0806848497483769,-0.023159009552769703,0.0764565092865406,0.06931070176777342,0.036440677422212193,-0.07037286045923255,-0.07378665819563744,0.04209618295680567,-0.08209233968238215,0.03861412963268724,0.018329132742435004,0.022706422632656174,-0.05691013286991692,-0.0593041186808054,0.06466952526766145,0.006732374493149291,-0.04864802936775028,-0.05895316423651079,-0.0387229243430228,-0.00092485496072143,-0.021972090353958453,-0.003599503478862988,-0.061324043944131434,-0.05566737159547955,-0.05567325902611697,-0.004340226801651655,-0.05787187915824584,-0.05229723402840236,0.08400078798806483,-0.01909979229877732,0.06882807534990952,-0.06398829260139188,0.08398366100347904,-0.0005831352654831551,-0.005109648878474314,0.0237468334432889,0.038638476546219054,-0.06590719956842916,0.03771919885209197,0.04653455480013929,0.03844756460197278,-0.001567158080476317,0.07358143181718364,-0.07365105823739088,0.003291561131896115,0.02193772959549986,-0.033895802648611084,-0.022404490052311807,-0.0005849050486862086,0.05041424437131136,0.041061158891048395,-0.08478287908670842,0.08754441078186229,-0.040898245699487495,0.057263984702216365,-0.008048372445085024,0.013957929082876928,-0.04496762837326147,0.039851095769455745,0.012521015367710536,0.021397428988865812,-0.05946370792874957,0.062058747278800966,-0.03809269578239537,-0.08099049932978845,0.0650068481388161,-0.08227763881769723,-0.05037620414789002,0.017494612781210218,0.010976450206016777,-0.03787630545550171,0.07489219780120517,0.04999577165618702,-0.08118030213445841,-0.034222743492962907,-0.07518259778372198,0.08459661727353507,0.001975294963976021,0.029815017639815734,-0.05222497887241624,0.05269935368542045,-0.0216851791247567,0.04664411338105208,-0.07926840301524747,-0.08781870429873735,-0.055605316959593976,0.04535574490724301,0.03048187607475035,-0.053467196285786146,-0.035917252925712205,-0.07198095387378843,0.038582128396379874,-0.0015516449128313583,0.029122752007373322,-0.005338515446381749,-0.011334191128615924,-0.05416382191023844,0.06023050795800492,0.018632204022440407,0.02001402118059015,0.050141090447067424,-0.084415782492186,0.03411083986241252,-0.08309939555530074,-0.06556051383008327,0.019243720857824703,0.03965674001860939,-0.06926849417221205,0.032163007071947095,-0.03794839408720375,0.05246450792799617,0.062228157893141844,0.02258773740739454,0.049569844003849124,-0.057949507841642794,-0.01196111143777189,0.000573616895833691,0.011608890402856347,0.0029832828843412455,0.08612524702394007,-0.01610817291295747,-0.059129982467465286,-0.07854752407376002,-0.07190238149601792,0.05255657138460522,-0.04910610826817791,0.03486819343849126,0.06252503796030386,0.08161069461957673,0.06141560919576026,0.025407007855393716,-0.04167123372947621,0.08513410917268831,-0.029656385077953804,-0.046161556520556625,0.07616630784131714,0.041584733910524516,0.05054959355272388,-0.03550861057244368,0.07944712887283324,0.010779885436677654,-0.012625786718237298,0.08442627493174333,-0.05922800503950746,0.05592547713777195,-0.006895365058370263,0.0376986164271467,0.06601085405653835,0.04592631420581553,0.010976546589544738,0.07644412191904768,0.07883277592533779,-0.0434224273405011,0.03163823965226167,-0.007547041207770712,-0.06069357790290429,-0.03207602959231879,-0.06416141567475868,0.049625394040734586,0.029808773631946166,-0.06584796372654718,-0.0851079771627963,0.014046201944751325,0.07124054169258898,-0.048570402345533156,-0.017767003942490034,0.017213632721451745,-0.030155307182938147,0.0479621144055954,0.0330476440549316,-0.001516665753676549,-0.06514518655341779,0.012807491704381025,0.0004842247725127749,0.023052646616714002,0.06896946141833629,0.0662206195354149,0.031903058082224205,0.03528994211289596,-0.08558357995306451,-0.03884478083108218,-0.05219609996279768,-0.047952087631240196,0.004450339798815589,-0.07863040666498912,-0.08649961596348653,0.08515192634127816,-0.06029821083082152,0.03544145440116176,0.006580675387310607,0.040861361100200985,-0.07291312794568772,0.00822564443341123,-0.07462089134026878,0.003045903498139299,0.051900791050923205,0.034529931709056653,-0.08525719971637247,-0.08516152410174035,-0.058668259800811945,0.03753936129111612,0.02143762975958427,-0.07495879363601424,0.015508695745328326,0.025129015389110883,-0.012353549319066388,0.008328816833029641,0.0587323947372082,-0.019170999854382774,-0.05940013909710484,-0.03857282560510813,0.07829234906104147,0.04866936258807332,0.0542298614950067,-0.06657614407683016,0.055493064544568094,0.051021463939095006,-0.05981593148085863,0.04765966907945578,0.018132796102703394,0.06417543219020817,-0.03593828241603596,-0.011615806588141793,0.08081213040161007,-0.058796065088343105,0.08135250037405481,-0.04134275010093041,-0.06792931741468716,0.01988636853236447,0.011742139984475007,0.027255128482325506,0.02644548779433018,-0.007337667570340659,-0.04933616782575846,0.03384614271577687,0.022367078482323388,0.0012911281530597325,-0.0520703609811086,0.0015756555978344669,0.02288867308506293,0.08081972663680716,-0.044306490942058054,-0.0030573750568220807,0.07722898192169468,0.06375659974170594,-0.045389353546344734,0.08744649577609123,-0.06367217670982721,-0.07935537908761389,0.0615327314226686,-0.004855906355299892,0.05119422419105469,0.0655795279520566,-0.017848430840263774,-0.07399155310003822,0.08305141795080336,0.06443003430900804,0.01955780659723398,0.01127743618949996,0.06314091952871231,0.014205162322281056,0.05926376848608945,-0.06716792898350592,-0.011138102228216892,0.07740141257928174,-0.06633008780740292,-0.01915351341024433,0.04814779612897249,-0.009943414821801468,-0.06746012002033056,-0.014525659401128776,0.030592386590697504,-0.05457605826469276,-0.07202993010592094,-0.08268958573958762,0.03480799687446286,-0.06859687880467534,-0.004328283365401485,0.006903219705648572,-0.004811412282410051,0.029422403615016152,-0.08749174355946249,0.07820455807427402,-0.011224749923034105,0.08601108524335271,-0.028494567679155255,0.06463798421252612,0.00437193807333466,0.054611442850464,0.08666731977127262,0.0010419398453816193,-0.0406595885300292,-0.028751000500819197,-0.031678740739957606,-0.016247757096548476,0.05105260346406719,0.023233478376951146,-0.07852121224634769,0.08303170041438965,-0.010314925587516576,-0.07081852812747773,-0.06599904144783394,0.051857457690945526,-0.05190086261654997,0.0720641596364493,0.009207145233756,0.03964652037023653,-0.011726714467771153,-0.07167830528210303,-0.06829852966019956,0.004690306419141378,-0.007371017800119398,-0.05968215513238297,0.037491675816501216,0.03348250316944375,-0.0592379478336489,0.040368886701510724,0.011460628292164824,-0.06217152249933198,-0.025626651358747757,0.031128993482503083,-0.039839196558231135,-0.049710904500396114]},{"id":"chunk-7db5cddc-57","content":"Dependencies are carried via the RunContext argument, which is parameterized with the deps_type from above. If the type annotation here is wrong, static type checkers will catch it. tool let you register functions which the LLM may call while responding to a user. Again, dependencies are carried via RunContext, any other arguments become the tool schema passed to the LLM. Pydantic is used to validate these arguments, and errors are passed back to the LLM so it can retry. The docstring of a tool is also passed to the LLM as the description of the tool. Parameter descriptions are extracted from the docstring and added to the parameter schema sent to the LLM. Run the agent asynchronously, conducting a conversation with the LLM until a final response is reached. Even in this fairly simple case, the agent will exchange multiple messages with the LLM as tools are called to retrieve a result.","metadata":{"url":"https://ai.pydantic.dev","title":"PydanticAI","chunkIndex":57,"totalChunks":208},"embedding":[0.022976237275850263,-0.008849928872578605,-0.08278399202459782,-0.006227862690410164,-0.06974839033601656,-0.006534311033611639,-0.0828930177604781,-0.05175844261773112,-0.014400298236472407,-0.02870979471063437,-0.00811714984330778,0.07985506245042517,-0.07064595952215291,0.023248751085444292,-0.05345646502595245,0.015509265566841877,0.038465567035051454,0.02933186384520658,-0.02238116944957968,0.08392652465192896,0.08062915498355423,-0.020528062631994734,0.012248985282226966,0.08343745974643699,0.045465096806686284,-0.07198249872172109,-0.019458606754745617,0.014436769045262147,-0.025875832652435617,0.030683637108299494,-0.0588009730274261,-0.004110182044042966,-0.07841034470898756,0.018659494300978074,0.08276167739991294,0.03549191406076568,-0.06853133721162932,-0.059253953431327784,0.06189974280914226,-0.026602155931505254,0.016061180082165106,0.06217456975220638,-0.027426808445654302,-0.06012141773549746,0.05126011016508219,0.0720302573963196,-0.047992471675879354,0.06679026294354776,0.07253757113898267,0.022023251377782962,0.029000300514073547,0.007428668658636409,0.08049764251235032,-0.021612523305569602,-0.008227908544832123,-0.05604436057975563,-0.04536533607528701,0.059549547150921124,-0.05808574453205807,0.059994358892563986,0.0540201338001547,-0.06467499937092408,0.0294084141887842,0.08398588415823491,0.047032391542892696,-0.07281406567791458,-0.038956604020522735,0.0680104361488355,-0.08538643173562951,0.022711968116637036,0.08724458411308428,0.07307451209379934,0.0727358456561238,-0.06378589520831063,-0.05121068588626828,-0.06903742310636778,-0.08187028848552838,0.03297058374196289,-0.04203530085559389,0.041543476357370074,0.08138045086724698,-0.017400313073094118,-0.03394115546140605,0.06986797919808965,0.06137067930010969,0.0031687977426654063,0.03508382098489195,0.06820452638420559,-0.048140697925521767,0.024231158021279568,0.003734156873473674,-0.021878956035112168,0.06562111924948023,0.05103934243868925,0.07257894956014535,-0.035965752053824476,-0.028548681376613934,-0.07571311937054973,-0.0036321010228816315,0.04989980670847306,0.004382521038256493,0.013553159031907094,-0.0005531887863048615,-0.06886871239031932,0.05225553832831872,0.010102063797727795,0.0628932785374993,0.02858815379567818,-0.042337768034993506,0.07394967447121131,0.03344734431664501,0.0012576341457883708,-0.05834172776274261,-0.0683676744154634,-0.0032879595415941727,-0.04290540876997793,0.06093453333731166,-0.06049776539648204,-0.017280741631333335,-0.07015257075124741,-0.08516703202848165,-0.016354065309157607,-0.017747981065789207,-0.050485757487954495,-0.009627691371644459,0.023603792986419982,0.06776708082058622,0.001238726383585243,-0.0512635452769823,-0.004808589204796511,-0.026288960563697356,-0.00251782814077994,0.08406711012855299,0.03218533956863316,0.0738101358047644,0.07153950747424834,0.07571124909532811,0.07775399898380178,0.054211291036306716,0.0032597250673358506,0.013630744924686503,-0.020716513478209384,-0.004069247405272811,0.04130813883881815,0.08265330933453206,0.0704618319626653,-0.05005459472415943,-0.022725880884204526,0.023819375535290746,0.07076251957045604,0.0794933824303961,-0.07339150427122144,-0.0037509557383497835,0.06859759323422983,0.04568076179856646,0.04990195711842438,-0.05028946990843027,0.013299019490754523,0.06938964565454087,0.02029375913954583,-0.06771310713583387,0.030918951020616956,0.0390169738465039,-0.0021185876664476366,-0.07856146231422889,0.051432425963443516,-0.024070065172210938,-0.07469022390447938,0.003265326758998639,0.06660641959306705,0.02528098216919644,-0.04964632461240477,0.027772888119380796,0.029332090010682568,-0.04410870950906504,0.07896328801502628,-0.07052962688739177,-0.07086669227268012,-0.012080880952686083,-0.01153054268331087,-0.08205292775463485,-0.0759867543999783,-0.019604865696806112,-0.04083893316489747,0.03536915286479871,-0.037591431538917995,-0.019277290579115747,-0.0869332899505478,0.01809905425576037,0.06438100854875271,-0.02479769752871732,0.019932685139739732,-0.04068741865584615,-0.06547970713148259,0.08079902829610194,-0.03744852682597039,-0.004691491820935041,0.08647108394122845,-0.010567812784964227,0.02962060842323965,-0.06238754702132997,-0.07589573059369169,-0.03656700688776125,-0.08593656064526856,0.031350723489435475,0.025302792264024446,-0.06169116849551671,-0.03501484016032706,-0.05231756953287025,0.06581062960687745,-0.06529092917861318,-0.04074540011184511,-0.061666269722463266,-0.06093973818857867,0.023581624152416183,-0.07561896523529822,-0.05431488253911734,-0.07894748566525595,-0.026402381917887883,-0.038167126879990854,0.023104523482826312,0.07491967785686691,-0.07730686034974528,0.0724640963079035,-0.06580034005119238,-0.06149094967862228,0.033315485803917654,0.01688490636733019,0.040400913233774496,0.04367044298898749,-0.05898954448792568,0.011328696906181645,-0.009353853692640671,0.00499565689583246,0.08131651917670059,0.05601264279903373,0.024852163870772506,-0.054614611048194706,0.06857036378237182,-0.0301311097819187,-0.03718155846814839,-0.04838036213545896,0.031861371307017466,-0.06827280538868526,0.07993730469948847,0.022788000048747238,0.03918276505287345,-0.0081327751971448,0.00031830350461894557,-0.08691750933914422,0.02805979706386722,0.012340541411130626,0.00329450181476027,0.031672588382002625,0.02970572106520036,0.04165501368849258,-0.03489426074589063,-0.004739146409720296,0.07213253219869517,-0.06962882884980344,0.051747847382160705,0.012428317000384877,0.018901967687505287,-0.0023126556137047496,0.02229332622445774,-0.04848784474077399,0.054592702396310915,-0.03526988804519022,-0.060283772631798,-0.05657862868554012,0.0441631157909085,0.010426396009691752,0.032300580194754555,0.04181706611141467,0.04262814180184514,-0.019842779399871273,0.004814615593004513,0.07756723550805177,-0.07686787368066411,0.08225665863201052,0.0353948055835135,-0.07919259265168281,0.04473683015642828,-0.042363675215186566,0.08221630009152442,0.01459989507214184,-0.011077447849489625,-0.07682555240524544,0.024750668138840907,-0.03404283225375837,-0.04531644267790245,0.08032164345945862,0.007936985956845017,0.035839757795450226,-0.04634392346687602,-0.02985024194240839,-0.07756438193274971,-0.046239503000441204,0.08076388533212309,-0.012757653529956762,0.07768610195505479,0.06298685838276732,0.0048767158911772555,-0.024745600203598086,-0.007172358120830561,-0.05676658002689433,0.08397767084187079,0.011615888767020967,-0.06443526737630612,-0.08140331784891,0.03322714448749994,0.00860836672207686,-0.07463784276956989,-0.0633419920761103,0.019811799861397472,-0.05069442997307102,0.014481771080677415,-0.04898282580437268,-0.07525871077838564,-0.009554643625424842,0.0652765009983536,-0.05930848977344474,0.0331548802437836,-0.08031435629172419,-0.01858080767874473,0.02947666099550857,0.01139655765375498,-0.06500950117542527,0.010157566137300162,-0.07644267892711584,0.0276062572383575,-0.004562649414665244,-0.05303058529103079,-0.06299816115495316,0.07015929294841797,0.005874833375553869,0.04727219082577524,0.03295355942198572,0.06288449668600288,0.019872679171018818,0.06593375284357107,0.01222500168108162,0.08313606643732568,-0.03814464397841049,-0.08080184336805336,-0.02982162002158045,0.0069130480002886074,0.0658388127326769,-0.057697944811737685,0.05542117322292666,-0.014457887799831332,0.004439402304169126,-0.05291157792543848,-0.01534374665696763,0.034713121205627716,0.020657835976536056,0.05762386245825363,-0.08370452934386229,-0.03274362084449998,0.01856436118908944,-0.009803903374787256,-0.0591378886112652,-0.07123166704664381,0.037678453268054475,0.0012946003736251334,-0.044785990620474156,0.06595254000713702,-0.08416103209574824,0.028928997109161823,-0.08647259938920629,-0.02918429204199288,0.08668620070561384,-0.07012797402517183,0.0287047225889856,-0.036297153787117134,-0.035484190312036534,0.021682548787631314,-0.056146406889374986,0.043532083546826666,-0.054074515209375486,-0.06429042180171446,0.07052159282748885,0.0014552640360090215,-0.008014149182653415]},{"id":"chunk-7db5cddc-58","content":"The response from the agent will, be guaranteed to be a SupportResult, if validation fails reflection will mean the agent is prompted to try again. The result will be validated with Pydantic to guarantee it is a SupportResult, since the agent is generic, it'll also be typed as a SupportResult to aid with static type checking. In a real use case, you'd add more tools and a longer system prompt to the agent to extend the context it's equipped with and support it can provide. This is a simple sketch of a database connection, used to keep the example short and readable. In reality, you'd be connecting to an external database (e.g. PostgreSQL) to get information about customers. This Pydantic model is used to constrain the structured data returned by the agent. From this simple definition, Pydantic builds the JSON Schema that tells the LLM how to return the data, and performs validation to guarantee the data is correct at the end of the run.","metadata":{"url":"https://ai.pydantic.dev","title":"PydanticAI","chunkIndex":58,"totalChunks":208},"embedding":[0.042551325735224924,0.06426946130926658,0.006399998881213015,-0.009822943813187142,0.06598814554893062,-0.08586839250180764,-0.049218673854659965,-0.08288270051665896,-0.043035419647568095,-0.06882252449487455,0.0629786584846815,-0.08394580658211796,0.030047043241907247,0.07199608700701529,-0.04564140250399759,0.07558150441488423,-0.053930113832236004,-0.06389877088534515,0.012347322876642758,-0.04055880112604134,-0.06798388606265722,0.05248181867403711,-0.025698371069850977,-0.07234160524067389,0.06220325472286875,-0.0642114298208991,-0.009309683846504806,-0.06485792883770473,0.013680313156441635,0.03722859239712707,-0.023708211462331038,0.0028601080392400375,0.04315710630990388,-0.03269241041440943,0.032897652380359216,0.07707127030622127,0.07433920774491146,-0.05519030676660794,-0.020002067348780992,0.02741462606420782,-0.005183054461948865,-0.0757971718572535,0.0631150057193655,-0.039036873862560335,0.06115517011419373,-0.03646061222842847,0.03518628228713536,0.07600714707925228,0.0778686452506614,0.06855752527717977,-0.07607029883518386,0.04963041790821923,0.0467195625718705,-0.025359897219261962,-0.014966424773108876,0.03834909218369464,0.008389639710686783,-0.016411600360693227,-0.008413157001014394,0.08573374155863604,0.05435059125664037,-0.07075132169990737,-0.03476425040868781,0.0642497257931644,0.008622645723532768,0.039567216824910934,0.023919779283917832,-0.08306281309595097,0.04483511621426222,-0.026251739287059647,0.07338333108593717,0.07594431710195397,0.06490843044439583,-0.005685746912387624,-0.027130757489717806,-0.03691006966009323,0.02487175683468765,0.06804263550758166,0.01941900801951602,-0.08163108782244685,0.019181738232899464,0.003982414895592554,-0.04932875281632843,0.022484146627411838,-0.06364637220982902,0.0755782101698465,0.024319360179300014,-0.05526072920282724,-0.05776101770357685,-0.08537280063344478,0.04352426066564388,-0.08437593899877632,0.07198941292540025,-0.025226681929348547,0.018994469882722798,0.003536577480006371,-0.03392274237216011,0.012577594573140739,-0.07300731771104194,0.05704315090744332,0.054951408616605156,0.04472335549449253,0.06664008765570517,-0.040558945159855773,0.005139432381969731,-0.05579308483531499,-0.045337731938128685,0.0005438617833070444,0.011116267731998728,-0.08499465447731074,0.04089235973834696,0.024250518861651738,0.04313860571077597,0.08290700405283512,0.0033797599583939874,-0.04723327402109015,-0.0025366209609411477,-0.04349355791706311,-0.036996532164948664,-0.07486128367402164,-0.01278093260935824,-0.06793270201185288,-0.05818386924187278,-0.04513985514252796,-0.07774577305259175,0.02289955426294527,0.07802492015554778,-0.00073229006733441,0.01827143094346536,0.05233851785390946,0.05660255569856284,0.035416003285356344,0.02617190616588813,-0.07753818961859306,0.0409685158896612,0.03131988627020287,0.044626604894834554,-0.03204330947491951,0.05722162283596836,-0.04642122236503852,0.06873169146141113,0.05237543873458478,0.06003902333350245,-0.03645476553597955,-0.010734313937784836,0.08286705500734254,0.015133383270740142,0.05008780353368604,-0.027683541324294677,-0.026102152042730083,-0.02860303030982271,-0.06227342407780569,-0.05440231551718485,0.03288196249901851,0.029371701118296057,0.07229841986197265,0.047557060018330065,0.08564027840255699,-0.04322001861791061,-0.08035937373582594,-0.009963482589970546,-0.07872077850566903,-0.06242767496708762,0.05397373702003978,-0.06860126239545167,0.08490574344748128,-0.019488583209915252,0.014396759855050744,-0.05210551835105134,-0.0071920800529188,0.015963645700875773,-0.03510000883980498,0.0774791463961083,0.029597556695899405,-0.018499765270521846,0.05121694401007685,-0.03571953848659507,-0.007883662008420911,0.037077043736523235,0.08375240178007841,-0.008098876292765058,0.038660574904590975,0.03228171251274972,0.07466321506201956,0.019232402395051484,-0.07098820991094194,0.03829149031472298,-0.07850986502640052,-0.024447501730441086,-0.07434520997268093,0.01737295704605674,0.021795325353528357,-0.042704161979996366,0.01113077705153374,0.006255383417199987,0.04536254517643944,-0.009404335629085001,0.05806580841414346,-0.006642922817041044,0.0559362646657363,0.04853189961863852,-0.023236336108877795,-0.06245973314539342,-0.01397439694667628,0.04889364533948272,0.05824261748972919,0.059703316214434615,-0.002224295492906378,0.031076906003971547,0.018361060674003737,-0.028760697222426468,-0.07533865969893912,-0.0842496142173695,0.07732243363628322,-0.06454425440578612,-0.07337284898940638,-0.049161312956000375,0.010008230424992938,-0.034982775619609954,-0.01731206271891312,-0.07505886476232068,-0.04349224669083125,0.04140825857742441,0.0780347439458338,0.08207859290525747,0.005114850762611592,-0.06202692223032645,0.024962189204904825,-0.0009271115335743754,-0.005749773532930847,0.03259778047600943,-0.0778562313070449,0.005824815946309628,-0.08221265814262103,0.08145742480846273,0.05551051797805235,-0.03867582700597625,0.048604648388268175,0.05010135397665427,-0.023717266155602535,-0.019831190081663043,-0.0000018049647692584455,-0.06330654867725637,-0.03012237332175058,0.03650562416269728,-0.0764655327159847,-0.05022969994357672,-0.010894707280527932,0.007873040327395319,0.019948426403986454,-0.02441857730065656,-0.0782664101480805,-0.05680931498890868,0.08579888495104103,-0.07805997424208293,0.030063544166888105,-0.010022541245920146,-0.07676618503363006,0.007637308818174773,0.06410332400829755,-0.007941506145612207,-0.003939531250668172,0.0007332314568981953,-0.007299985921819988,0.07668533314770166,-0.006708475764984985,0.0635179979356912,0.01913628608654802,-0.03362441555481378,0.030125590472194763,-0.05947745355408733,-0.020294211009806582,0.017492689462626672,0.08284494824630044,0.041339814593818934,-0.04329532775063043,0.07218981640567151,0.05953715327483514,0.043275253043601,-0.012490666743620487,-0.014519889790846953,0.07891034149846066,-0.07844885411436603,0.07267651329011189,-0.07920015714266469,0.04039128736905354,0.03536903073892439,-0.019005306253253716,0.0019248076261082407,-0.07894421636313374,-0.002268111054197107,-0.06161807045892733,0.0452798117211446,-0.02431633716631005,0.020543307485478796,-0.008849426186236055,0.01403899387944407,-0.048544181829405654,0.012757134809744797,-0.01435115072965734,-0.009953628613950664,0.03890135328456504,0.05921503767545359,0.040193276959254516,0.03789812592025092,-0.009919552944601805,0.08210361359237116,0.07185482829206427,0.071304283213918,-0.06433509973607937,-0.05934223127084475,0.08417984023485435,-0.01494775564670546,-0.06811700242323836,0.0339898199574434,-0.05801406229445348,0.08377325053223339,0.02943484544673312,0.06273300317804657,0.016306760866922163,-0.0054474020823626675,0.006748243154189163,0.08339847053066232,-0.001410873464743481,0.030674002282318317,-0.07776576772883005,-0.04382867298828345,-0.012297656373225415,-0.008606427442470643,0.01632887629350512,-0.0516809262598523,0.08372245050748248,-0.0647569078124705,-0.035423209973825164,0.08583763018408287,0.015673367866259804,-0.005311018063262032,-0.07772353302695978,0.012988903576855742,0.026848720893007005,0.0731907116413866,-0.03117326664065771,0.0791387552626321,-0.036810020978637,0.07994056173098976,0.07126799176114182,-0.08293592229301476,0.034762625141161775,-0.07493830088993812,-0.005770142576486647,0.03016267110313864,0.038487602002952384,0.07764272201513013,-0.03843977337513478,0.02696679087547041,-0.0667548911319583,-0.038677661880130436,0.045458183001363964,0.04026933488247459,-0.08494581683134442,0.0349362544169532,0.013138841837135758,-0.07747195339067242,-0.0802766522787523,-0.06248509974552219,-0.06767013628706664,0.037885039150200465,-0.07512904314651034,-0.07465113657850225,-0.08444441552580806,-0.027310956022929288,0.06387854994209356,0.026378548433313984,-0.06284028440148351,0.023516096493966406,-0.07223833675758277,-0.0007770609844266334,0.04949423437474337,0.046350767178571985,0.05821382162282222,0.03413868220854328,0.028694616867055135,-0.056420634653441916,0.022067412514977878]},{"id":"chunk-7db5cddc-59","content":"Complete bank_support.py example The code included here is incomplete for the sake of brevity (the definition of DatabaseConn is missing); you can find the complete bank_support.py example here. Instrumentation with Pydantic Logfire To understand the flow of the above runs, we can watch the agent in action using Pydantic Logfire. To do this, we need to set up logfire, and add the following to our code: bank_support_with_logfire.py... from bank_database import DatabaseConn import logfire logfire.configure() # (1)! logfire.instrument_asyncpg() # (2)! ... Configure logfire, this will fail if project is not set up. In our demo, DatabaseConn uses asyncpg to connect to a PostgreSQL database, so logfire.instrument_asyncpg() is used to log the database queries. That's enough to get the following view of your agent in action: See Monitoring and Performance to learn more. Next Steps To try PydanticAI yourself, follow the instructions in the examples.","metadata":{"url":"https://ai.pydantic.dev","title":"PydanticAI","chunkIndex":59,"totalChunks":208},"embedding":[0.017255923036449933,0.04838185340109174,-0.058105046929758784,0.03664247861686904,0.016527275113191034,0.01597951444348863,-0.024223035481289016,-0.02586534633342551,0.02685048383010961,-0.05781431426220649,0.0768754848114378,-0.07917473366430822,-0.017056875045847034,-0.07625459293002726,-0.0029552490997870533,-0.08103568765928669,0.05672210276140816,0.06032924612376686,-0.04781117075488919,0.038093824600971216,-0.0280716957495695,0.05187818996625666,-0.062054480098785864,-0.024987638094127386,0.058490484909134395,0.07758677011691413,0.042928062187281575,-0.004544247881817122,-0.08472685119560865,0.029987223509324427,0.01947432792428543,-0.06873963941806803,-0.07526992415340936,-0.06564600973979139,0.07892643332471318,-0.04180171491174488,0.08096078266702893,0.04381505868303034,-0.018140467672171416,-0.04239918041507216,-0.07201394425245089,-0.01040275884044226,0.018398130517462395,0.004933845891735261,0.013769102758513873,-0.036088851243562904,0.007426975622048366,-0.08248652691791118,-0.06448294802290912,0.08372191808762033,0.06682881128861046,-0.07493025943524965,0.03087585770988679,-0.005269058668485586,-0.052875327861193436,-0.07156122767187773,0.040772824786166915,-0.06755101636901975,-0.03962029483582416,0.003929211996928742,0.04451033620837329,0.070193764153135,-0.010566409777117853,0.0780566220921378,-0.04914018478666803,-0.013899883107883078,-0.04629112839880407,-0.03800151038352364,0.03432667358795876,-0.020886829320107256,0.048230531314088325,-0.0815426175350265,0.07679124896162612,-0.012492112891672973,-0.004131475744974581,-0.06483795144555778,-0.03786748342259169,-0.028695700224946004,0.0026139439271365937,0.05788393464516486,0.052431679894315894,-0.06100113856710169,0.037814043660879905,0.028794814095300967,-0.05147064433321036,-0.06897802376243634,-0.05237276269046228,-0.023856276802483187,-0.012345695167270895,0.07424599949047048,-0.011879294765574692,0.0585563557806867,0.005746625163469558,-0.001031557943192078,0.0008401369496690512,0.0596048314783168,0.07236671163046289,-0.06796123016468242,0.0012335428020679882,0.02128928504319632,-0.03496546578201224,0.07137122880376873,0.052949120809900524,-0.04672162484911513,-0.05661864954088866,-0.08121317412142907,0.08637331382803731,-0.01599233394128602,-0.059975916450399985,-0.06571845749726862,-0.011737232209579156,-0.07254693873817103,-0.07371059062361734,-0.029475886626177093,0.0755490780211575,-0.009893415467533286,0.045009867735430156,-0.06664807350813809,-0.06179705089360193,0.05898363746143806,-0.009744902490788174,-0.07987734132099573,0.055086960943871825,0.02507788522796071,0.06991998190067918,-0.025414826637266578,0.012606516660091374,-0.08630196387718966,0.07760806814426043,0.0030957218775591504,0.04061067452389035,-0.06209613823798255,-0.05343922871801261,0.032796075317398254,0.04845388480799214,-0.06739551430452861,0.053672245755517725,-0.05763347410982194,-0.04030108579076318,0.033851607253985234,-0.028443765767966863,-0.08232075178298964,0.06300799666611034,0.03227480281946646,-0.061784607766697516,-0.000830532057904741,-0.07578777387186764,-0.0696386623811974,-0.07939768279064907,-0.04457877206125359,0.07948138240363742,-0.06443233704356285,-0.06274317106536235,0.06031428757719425,0.03400951367962269,0.045125410569357746,-0.08420788483039801,0.06016784267560328,-0.0475085691052748,0.029705833532850102,-0.016077069602297045,0.0385652259204458,0.026303674617039852,-0.033789735834314376,0.012286327693903825,-0.052156181571385074,0.05386563632553206,0.028272311037790633,-0.03473653378944306,-0.012770820382177443,0.08475224603978279,-0.04537885194976091,-0.04004471533250475,0.02625885017652853,-0.04625589591631616,0.07220192209695744,0.07095968367036097,0.011578732869514422,0.006973849180927557,0.05012866895071761,0.07884535948125367,-0.0782624585494284,-0.04769449215594575,0.022532100520053774,0.06733652102945845,-0.05766413053792918,-0.0435858929616707,-0.03264700786076204,-0.030138421866714223,0.06605293847535768,-0.08481664755554777,-0.07440668534344344,-0.029347198928452455,0.010790717871580435,-0.021810653395134133,-0.060690986886754325,-0.05977133318203592,0.009257549564875246,0.08345629063708616,-0.029842951347475274,0.011400401059032417,0.08338199743783219,0.025272564015845433,0.0293848940437115,0.0575877379763447,-0.044416394112847174,-0.07866321980973243,0.011989075911445268,0.03125404940303825,0.04844379063631599,-0.010587421831748718,0.06318505078595964,-0.08370216924091968,-0.013481115667330276,-0.08614925391744628,-0.025059353280408824,-0.06802444862596216,-0.005998925957042999,0.03529045066550074,0.04230299031462176,0.022439281388699946,0.009516783267113022,0.028002714424405946,0.0570578398546027,0.08098711801599502,-0.05500002889075646,-0.012504485252559226,0.027275615655724374,0.006781350420826905,-0.0032659085273094553,0.024355982557778946,0.005539320599469229,0.06950094919663091,-0.06962360994453065,0.020879674323495034,-0.07061616606729106,-0.08477351041614965,-0.08425425233296989,-0.03511603028557954,0.0016793803211429112,-0.05355416158733629,-0.05510547330438258,-0.043708124959397736,0.0495607577626014,0.04882938001767428,0.04834227985665881,-0.05176482189234618,-0.018822342863743326,0.08427648790082931,0.0287127647905111,-0.023714441746580897,0.03264691228241968,0.050024489255057765,0.042841734885754504,0.025135839567086368,-0.04723905034912093,-0.07192173264023287,-0.01795352335112243,0.023989076600189,-0.02919746064794287,-0.01580594611610539,0.07286348740860525,-0.05802588821261269,0.030300496826514502,-0.0187436941521225,0.025364458957323595,-0.07006244303549747,-0.05473895828496271,0.05998846636620474,0.02016692622940392,0.07403699500671639,0.04954384746346752,-0.04437219426885687,0.07164424354954553,-0.08180271408991194,-0.019871739342000146,0.0737144255462484,-0.05795619939633813,0.06324840036669145,-0.0678602589832761,-0.07799023277427128,0.020069178210465874,0.04905300415187382,-0.04392595801816659,-0.04674900780384632,0.030958395257360244,-0.008908530135113637,-0.06118480684857097,0.03679221857589546,-0.03686573591827184,0.06725467388871206,0.04995026608420245,0.05525592025367794,0.08364935841541643,0.025468874329171904,0.03738992270761917,0.07130135998852305,-0.0752468537978296,-0.02138498654221899,0.038875670466751416,0.005803506761502502,-0.01659467531098045,0.07448388614461,-0.061802077944971306,-0.0658147841904571,0.08366367822873108,0.022385184780610853,0.04541082624422794,-0.04536881403391661,0.057707804116760075,0.04988127923397013,0.05254997494130271,0.01591017704785272,-0.01758199326990099,0.047702094875947364,-0.08229520616884219,0.07950164017471606,-0.015041210457157566,-0.018832859239219246,0.07039385743292172,-0.008015730503855597,-0.06797229861091185,0.037019638512471136,-0.07573179429236668,-0.01409353049612404,-0.018004357685136002,0.06728221817615905,-0.018389203953237652,-0.04217598332182055,0.08528393181734176,0.007765209266872033,-0.014730499564555364,-0.015928223001752718,0.00867649160427327,0.03633411037048937,0.054626754264247186,-0.03813557464472486,-0.05374168051551026,0.07624141380765835,0.035375052145820866,-0.07530061610166942,0.03361745377494609,0.013306725185535592,-0.028142465263004346,-0.01811143981092832,0.00018696916098723246,0.07035919734504191,0.04588986541239963,-0.05464743632264507,0.020274577052270423,-0.06642642565392046,-0.0760295708766789,-0.05032859532168403,-0.06796051150783679,0.033165946383589405,0.025127740898951215,-0.05101716895989438,0.012873648848242393,-0.08288442042044497,-0.021265132600145766,0.02514267670962206,0.07339772237331327,0.03788154861642274,-0.06304040711993336,0.006691113974258505,0.07699610174789329,-0.06321758173802527,0.0691053575284351,-0.07096051999811756,-0.02131033085630405,0.029103673712857738,0.08435113269466803,-0.042817075824409134,-0.07433833271443771,-0.0007370791967593696,0.01766344131478325,0.07244348615445778,0.019941078614869785,0.028083655381370413,-0.01303151286673588,-0.03155961257011642,-0.038649875519192196,-0.03685988142187741,0.03570717145740616]},{"id":"chunk-7db5cddc-60","content":"Read the docs to learn more about building applications with PydanticAI. Read the API Reference to understand PydanticAI's interface. Version Notice This documentation is ahead of the last release by 2 commits. You may see documentation for features not yet supported in the latest release v0.0.27 2025-02-26. Introduction Agent Framework / shim to use Pydantic with LLMs PydanticAI is a Python agent framework designed to make it less painful to build production grade applications with Generative AI. PydanticAI is a Python Agent Framework designed to make it less painful to build production grade applications with Generative AI. FastAPI revolutionized web development by offering an innovative and ergonomic design, built on the foundation of Pydantic. Similarly, virtually every agent framework and LLM library in Python uses Pydantic, yet when we began to use LLMs in Pydantic Logfire, we couldn't find anything that gave us the same feeling.","metadata":{"url":"https://ai.pydantic.dev","title":"PydanticAI","chunkIndex":60,"totalChunks":208},"embedding":[0.06995917869292044,0.024774931989859313,-0.07169014416869474,0.08543319496963964,0.00347286376150647,0.058839626831607206,0.01876919356942903,0.0368815064957099,-0.04559524245028396,-0.08128207613772478,-0.07252826319325523,0.012683412329713836,-0.03936380209844382,0.07842915703149185,-0.06237891960330028,-0.08145579009216482,-0.002537495623435369,0.03026329333575164,-0.06693213647826989,0.03584761962620388,0.052959131001679906,-0.0036659529033122927,-0.019058198496617853,-0.027634800008352046,0.08109930177529637,0.052656332566984654,0.02560527730655097,0.046402236349522084,-0.06743536196271425,-0.03664701682196451,-0.07570725577375154,0.07763542039079743,-0.0016116409846141527,0.06717359157545408,-0.08072397378892415,-0.0631151854606996,0.042688773266976884,-0.05283936349477952,0.005208964671997803,-0.05375236933750427,0.011520102239989258,-0.008403106906395612,-0.03519698289836431,-0.03845468327972363,0.07259158749106588,-0.08039952538406818,0.04390905664178127,0.06540052102017399,0.07379623961107286,0.06193831888195065,0.018234007608572626,0.06186288763174061,-0.0224098216618206,0.03603551825067729,0.06927499300569366,0.08073540481063735,0.08083284340364186,0.035174329484515286,0.08333560982140145,-0.03012220720874145,0.02359716006989315,-0.016275872669863446,0.08375353074787349,-0.0687396847350995,-0.07613095335283734,0.04306176292384558,-0.059200723823016596,-0.04652281193657235,0.04134217867959885,0.0785207636771475,0.04424029836968229,-0.03879379656313866,-0.0443873269775957,0.0586922180958621,-0.005282299704451333,0.08575587911961086,0.04312652887621882,0.0613652845449741,0.0384834302265663,0.0042026389554962375,0.02836165502932166,-0.014049674220881513,-0.08271705211572784,0.008285932404239716,-0.046729979624254986,0.02207273060429551,-0.06473189005392972,-0.01008739196096818,-0.020073333373669386,0.06467001588702426,0.008037093136507538,0.03181543188859948,-0.03605132445959729,0.0562903151939253,-0.025663755981091368,0.02094158971798686,-0.013180775438591719,0.0734673914512986,0.008002667523476645,0.0231244950964029,0.06812714786735859,-0.053824051930126196,-0.03226709029730691,0.01255191068110434,-0.0014099276777019933,0.07687064687483443,0.0500497019591656,-0.022873074847821126,-0.05843635918548914,-0.06054688589951084,-0.008210074456986856,0.024905818695589783,-0.01974311206728735,-0.050666124235249695,0.07515296763686899,0.05822455953011486,0.018681904655967287,0.042855727098962966,0.07737889523768972,0.0041928021225892155,-0.04907555586346619,0.011158029298946113,-0.05644813453174612,-0.05989699877119369,-0.07233546103370526,0.035034085804836086,0.057557826768522384,-0.06595534508187177,0.0784253741529506,0.07001960502441187,-0.07250272542420515,-0.0034643546358576237,-0.027292189648949916,-0.048763226139724294,-0.006143999281473948,-0.02292913379320473,0.00973122352435807,0.03979039378373204,0.0661832512147458,-0.07652316294015776,-0.01450739359078551,0.02532914227364134,0.07890033534403094,0.007616987686102484,-0.07293877041130407,-0.006635182417474817,-0.05863522063293369,0.0432576387035209,0.08549711530223444,-0.041868393246323264,0.006360318110850936,0.010006860060072871,-0.05868545754528807,0.029627114443960236,-0.046870610089754454,0.005860327287124134,0.06955467960990278,0.01754261543595972,-0.045092617813133305,-0.005309008025449269,-0.05739504891800136,0.07889651044931727,-0.0034395647375040778,0.011092883639825224,0.07610835123439509,-0.07889430352484943,-0.0253462302598291,0.07983236237398195,0.07969116100395927,-0.0745943006639202,-0.08179324565639101,0.0750350934094755,0.0401051001977444,-0.04594016925747893,-0.06612464011782594,-0.017831290758347468,0.0593652488105178,-0.06755491112162902,0.001964503282757875,0.06585278040850744,0.02982090164932385,0.010498809776582277,-0.04418139912113354,-0.04881401407422219,-0.023147734270585203,0.05819554707559743,-0.07235157353475505,0.029733631247724424,0.0071143589237588475,0.013894214207852293,0.009858127384796803,0.058527726366024234,-0.06984422174838376,-0.03436606091254111,-0.0451399118948137,0.038912063653388056,-0.06931460944975822,-0.03204375186095928,-0.011257770836517685,0.06042120301293947,-0.036067534904033256,-0.05388360540537401,0.037190271584061234,-0.055143286457270374,0.06527927312042854,-0.01488353891225882,-0.07850541553711993,-0.06005170392347232,0.08341264640143738,-0.03199299518040356,-0.04536927970554666,0.06904958172662966,-0.03830002872881275,0.005400050612250099,0.02580311407726393,-0.079325120539165,0.008446576803256929,0.009942349759616491,-0.05310916839984535,-0.05226526558145011,0.07601340615587991,0.01656674150600043,0.03279226324637392,-0.05443518619769893,0.0153512427957048,-0.033358096711072587,-0.0050189896030988475,-0.059041710066689894,-0.03601963994213287,-0.006280929428011786,0.061915151574047325,0.08514545999777155,-0.031665137546415326,0.01732020640676285,0.006307645850913833,0.05473768413301687,0.040343604283836994,-0.07955622253414847,0.07028268259290048,0.07290975064354543,-0.08286497385826191,-0.0741722038403371,-0.08231317355408564,0.007965043639700261,0.00783404183559777,-0.0846942772641109,-0.013952854159642564,0.08280656758368067,0.03490827031251721,-0.07535296912529689,0.021573880468083166,-0.030827404125817495,-0.017656482818367576,-0.016279172007523508,0.05096711506901869,0.07058997406277283,0.08545469019128378,-0.06606904950367348,0.04497876296403699,-0.005375273351631447,-0.018971419377672494,0.05617893870029244,-0.04086187370750774,0.06671945826732785,0.031237109328914325,0.039392797954664785,-0.08579469076027874,-0.04690820109208949,-0.04247936442262347,0.07900709292020675,0.018341101291334216,0.07442974133109075,-0.05020170327626007,-0.0017905179371865533,-0.0449793303209099,-0.002719287336593634,-0.011900329309314488,0.013204222551323256,-0.0639370344964817,0.028106919278469557,0.06183676141086873,-0.011459305418738169,0.010342250263918997,-0.051274872376643375,0.08040959251506556,0.07446083891833927,0.07613025498596576,0.01274488497344517,0.02868913787047693,-0.06693800564402005,-0.017359409523467838,0.06527518530159705,0.01676454062531186,0.06066325813355472,-0.05083123778477775,-0.06747891341029777,-0.045218474301772164,-0.02765182537737155,-0.08618047687915006,0.07489055463134059,-0.07150724500624316,0.05964547737818339,-0.014817857164279262,-0.04155241360098171,-0.04473351690571243,0.08362480927966208,-0.03668002787437421,-0.0044066718390017605,-0.06630553993196155,0.009019920202796463,-0.008916294885086457,0.08043561249767561,0.01998952027240066,0.0013656287347227844,0.033076935787389045,0.016007986566956633,-0.0629341826670635,0.06545244929034548,-0.05772112160579693,-0.06549054543988712,0.0715350060244362,0.011110054538442802,-0.0232730207595073,-0.025300079340778957,-0.014825937099464061,-0.008758038096812117,-0.049900740607320665,0.020316285759272412,0.08296248067264497,0.06772331163151346,-0.061804521241550905,0.0667094392591918,0.026491217574413837,0.007429434781337404,0.03566976810461016,0.06601313426505556,0.003614361682104272,0.039203343877727385,0.04638952377506704,0.008666642306001856,0.010189760551256786,-0.06216353453181698,0.05517376989806396,0.07238747368600457,0.0028602260353841075,0.04176726681906319,0.028280881725221616,-0.009237841298992577,-0.07158693957692436,0.08308703646359346,-0.0477503242912552,0.08057217042778379,-0.03549144073314678,-0.06654660901448647,-0.08143954223923706,-0.025282317927106123,0.021699812933690735,0.07723410709664144,0.04647732967163689,-0.0527639297959515,-0.07161986708904117,0.016711485903226325,0.014239319627867973,0.0653559634424114,0.051514776249255205,0.020600860662919808,-0.039029103091379,0.06282192969261076,-0.026734505409135318,-0.0776121667033364,0.06477634937589842,-0.04788973628724478,-0.0680757519788206,0.07649905119797402,0.012302891183204556,-0.010494381683265844,0.0014030460432279256,-0.025851858410324426,-0.01863230773900374,-0.08618569487166322,-0.011885604656850178,0.023538152393445498,-0.03406834748940866,0.031619989445630485]},{"id":"chunk-7db5cddc-61","content":"We built PydanticAI with one simple aim: to bring that FastAPI feeling to GenAI app development. Why use PydanticAI Built by the Pydantic Team: Built by the team behind Pydantic (the validation layer of the OpenAI SDK, the Anthropic SDK, LangChain, LlamaIndex, AutoGPT, Transformers, CrewAI, Instructor and many more). Model-agnostic: Supports OpenAI, Anthropic, Gemini, Deepseek, Ollama, Groq, Cohere, and Mistral, and there is a simple interface to implement support for other models. Pydantic Logfire Integration: Seamlessly integrates with Pydantic Logfire for real-time debugging, performance monitoring, and behavior tracking of your LLM-powered applications. Type-safe: Designed to make type checking as powerful and informative as possible for you. Python-centric Design: Leverages Python's familiar control flow and agent composition to build your AI-driven projects, making it easy to apply standard Python best practices you'd use in any other (non-AI) project.","metadata":{"url":"https://ai.pydantic.dev","title":"PydanticAI","chunkIndex":61,"totalChunks":208},"embedding":[0.0766111567968011,0.029343484537290486,-0.0017787454835805998,-0.047571232236973605,-0.0627738560290386,-0.05642486579364401,0.01942906521990928,-0.06891286140829184,-0.03818346123304306,0.07519272480092647,-0.010639336568540072,0.07315342217277816,0.06650217006423123,0.0036413727754848963,-0.07204468966749558,0.016860752416934723,0.04142215310893636,0.038678876762503124,0.08369080414440652,-0.07582258232965616,-0.03993939367209846,-0.010683431273505633,0.03774977709362433,-0.06465643814741256,-0.058610430518614656,0.0015465987955501968,0.040399567161046444,0.005696745352631787,-0.049697733628221295,-0.08603083181497384,-0.01814848723794158,0.07233104689224402,-0.07086982626323776,-0.024973321239199042,-0.055915416486175804,-0.004744509737904351,-0.042730311154982666,0.08054880729855231,0.05953710984849949,0.06774754259687424,-0.05617225807814216,-0.012599766973436817,-0.010987508579129203,-0.01676846127363354,-0.03256828149469241,0.0451223407480605,-0.0459041178816814,-0.06496395807760376,0.02861492405469802,0.018436705116640615,0.004587876669662538,0.027491895124428397,-0.05301799063847195,0.042288704272853375,0.01774875519444852,-0.08577315599237462,-0.06018021705463239,-0.031692677920682574,0.06382502628054038,-0.05521311070137383,0.05191632158276372,0.0773311552789114,0.06020524448633747,0.056141329637304074,-0.004228825316991842,0.03153313579243506,0.07982015573188664,0.029852034584963324,-0.028541963987460502,0.06599163748209148,0.027819320546795687,-0.017149592344210984,-0.05745717765659312,0.07227934749079187,0.08028316595051269,-0.07305111227856971,-0.002639348911523519,0.0854933911450583,-0.06431087158097654,-0.06691633250009672,0.00973543632837672,0.08077215332340486,-0.030498241738609048,0.042806574575006945,0.07557767139475147,-0.055190693474301715,-0.08619894918613208,-0.032419920780494785,-0.00643141014170326,0.011660510699447601,-0.06430586944103883,-0.005318934349548052,-0.03672221237923038,-0.008381985309695228,0.0365964453145821,-0.041042858818749285,-0.0647803484278243,0.019021079288885127,0.025664446110352287,0.02688045367811458,0.0853605560603011,-0.04444131408226826,-0.0064024708567425115,0.0141972549571789,0.048523652356935836,-0.08222701988659753,-0.004957690067025443,0.010126414924400928,-0.06353889757530203,0.018239232029196608,-0.01560329489050475,0.00348114946592268,-0.019415822450119215,0.056156061955478745,-0.002366531310951089,0.05698002999857958,0.05718165320492178,0.0516280639304499,0.00764619855297012,-0.05179974981541299,0.08557218412886858,-0.07989135223179522,-0.003994495376650591,0.020670660488456758,-0.07283690502820116,-0.056063180214338766,0.0667412160924793,0.04004847333869548,0.071837062295985,0.07868301060483926,-0.06338768209760569,0.012197334175336185,-0.013190595692212164,-0.0758976205653831,-0.06654823262428335,-0.04664529889949369,-0.08261264861632815,0.045064862413664364,-0.05054265599416469,0.06818456969588434,-0.0825502376036064,-0.0020642138298766584,0.014132543594685952,0.0746165282888682,-0.006237545605609506,-0.03427613375365318,0.054460127507047,0.04372744812830508,0.02956910707146301,0.08461789654599298,0.06999761301620602,-0.038349578511679284,-0.05137701734785427,-0.060076907944555814,-0.08023242721689657,0.03368893887841539,-0.021664866628219363,-0.022550266246478354,-0.053879206363230354,0.046124986466927066,-0.057310432358000214,0.026984439013314047,-0.054423638042944554,-0.029043837066554657,0.020126173944753342,-0.012137772145098912,-0.055679025729890946,0.08524315071343529,0.06253163740158862,0.02390386907226235,0.0077878457564865755,0.052391222426201894,-0.0766385056313733,0.04105460037054162,0.06354880457014687,-0.045944346317657585,-0.0486804999204314,-0.05002331943831839,-0.06220050396684109,-0.02175321311015864,0.06727234117647309,0.01569276354116063,-0.07789252077090267,0.007593634039119565,0.05707005279267731,-0.028313787082249922,-0.01565384702195574,0.06607095496218338,0.018223550260237257,-0.0010381191483104229,0.06591618350856351,0.024609232192727485,-0.006455272434190098,0.06741583736454276,-0.050765941653204374,0.08606966516735724,0.026089275710519638,-0.040377073569564444,0.054373459279485926,-0.04698129038753373,-0.025718392456932884,0.007671493036329762,0.041934156615650385,-0.05917318482470885,-0.06221835581527809,0.0009514496599392797,0.07576016378643834,0.0025086466311203246,-0.027724897736497882,-0.06497714637042505,-0.05492883536535772,-0.04580276461608779,0.07879554433099024,-0.015651974932253863,-0.03340451608120787,0.07263993744537121,-0.033988897018322126,0.0017080096008390134,-0.04421660315818082,-0.024835278897574635,0.06364061482915152,0.08413886524452638,-0.06083404522496345,0.06415901419984735,0.07182760408001065,0.08550238554537411,-0.03917271412344954,-0.05297046816150888,-0.00015988693022232414,-0.06696449848627982,-0.06233369638943781,0.009951326308191346,-0.005737320056637343,0.05526231351444065,0.01990600595157002,-0.051856316106129334,-0.06088989155191707,0.045946876673706186,-0.013013853759286084,0.0409893465497349,-0.009965758011194288,0.06787069789825528,0.03922010219703955,-0.06078415051100429,-0.02200513037808811,-0.02058128999123691,-0.06401668345501825,0.07666178148124178,0.03624162476661264,-0.023705288429118183,0.06234320099537687,0.05003882966328028,-0.05942586561188211,-0.0746222992326935,-0.009746192653369148,-0.027312751991048122,-0.015940112208196983,0.006462129768307888,-0.055579401221941147,-0.07904047827022587,0.018105466475005133,-0.041939685198907235,-0.035265003564534575,0.08497978488752568,-0.017428768078533607,-0.0237568846793601,-0.07201928387645742,0.03350655583567936,-0.06483913522459182,-0.0810714154337027,0.07176835816306253,0.05617524893639808,0.08159148379462391,0.04738841492292087,0.04815112143230783,-0.08496578838481403,-0.07016468215230699,-0.03808428182156672,0.08080937607495592,-0.021766481474383256,0.03762241624971941,0.027570962239887038,0.01984990366461378,0.0014403105734248436,0.006564712313360151,0.08269508850706482,0.0430571039646829,-0.002362604468648701,-0.0009562448105327104,0.0702040746002835,-0.03085661302837497,-0.07346334390199451,0.059453461888236414,-0.04405838746936143,-0.08542472927304565,-0.05191490140049876,-0.07658882891816807,-0.04988325826772626,0.07196084525796029,-0.03155186599646031,-0.040951807952473586,-0.0736935671097204,-0.05764850459235472,-0.0650046478589687,0.07054487025413066,0.08022174284343957,-0.07564066593508616,-0.05213090362842126,0.05687256517378924,-0.03407840538673114,0.06720688518212423,0.05390844773624319,0.006591438254016109,0.04307422290989301,-0.08410767636952128,-0.013036345822065304,-0.052006245189906375,-0.03732482649115331,-0.02756304642347228,-0.03730799447850124,0.005331083386994379,0.06363207169939486,0.06785930427653342,-0.06620300383991196,-0.05698163953823666,0.01975520810642039,0.05689842080691305,-0.030240133704199285,0.06913330344085764,-0.005316343326959465,0.06226072004216684,-0.038749644833972856,0.04699166714234076,-0.060193960629547454,-0.03545104638458067,-0.0014827163207230553,0.0014624241981390142,-0.0570196049856882,-0.013192528413540494,0.04865927959447792,-0.08099264622789157,0.00036510578497128096,0.009851311595374298,-0.0580862358282884,0.012040667566839818,-0.07507570365591852,-0.03869202530050017,-0.06530199214605284,-0.05824603970870842,0.020878032767884757,0.013794932532643233,-0.08171145005048898,-0.05496939406091984,0.047608555091665776,0.0022257012236888665,-0.051929268525155295,-0.05452869980646784,-0.05011840255567855,0.016676149999189076,0.08128563572188298,-0.06520573655720094,0.01706084570310867,0.05744503068775402,-0.01069864045301592,0.055982480502443366,0.014833689606597438,-0.02726659114400099,-0.021111001874260165,-0.00047829812636895463,0.030071554530873422,-0.06538019046397003,-0.051879346484908134,-0.0014595301031720745,-0.03301421312277848,-0.07916500546115882,0.008218780966466898,-0.041136020408903295,-0.06202550285354098,-0.08228617047610516,-0.0619940229123332,0.02897696260299885,-0.05934081161270871,-0.056688302857636874,0.013537265880456192]},{"id":"chunk-7db5cddc-62","content":"Structured Responses: Harnesses the power of Pydantic to validate and structure model outputs, ensuring responses are consistent across runs. Dependency Injection System: Offers an optional dependency injection system to provide data and services to your agent's system prompts, tools and result validators. This is useful for testing and eval-driven iterative development. Streamed Responses: Provides the ability to stream LLM outputs continuously, with immediate validation, ensuring rapid and accurate results. Graph Support: Pydantic Graph provides a powerful way to define graphs using typing hints, this is useful in complex applications where standard control flow can degrade to spaghetti code. In Beta PydanticAI is in early beta, the API is still subject to change and there's a lot more to do. Feedback is very welcome! Hello World Example Here's a minimal example of PydanticAI: hello_world.pyfrom pydantic_ai import Agent agent = Agent( # (1)!","metadata":{"url":"https://ai.pydantic.dev","title":"PydanticAI","chunkIndex":62,"totalChunks":208},"embedding":[-0.009553868619240107,0.05798520954967318,0.06697626879876299,0.0034799164591508636,0.058421086645615024,-0.07034832042097323,-0.05080022186124155,0.06968504354070171,0.06653299993609074,-0.08269437322156793,-0.030807616839943788,0.03964405498469702,-0.05157969042208596,0.06965621340856837,0.02920007459816432,-0.04466244402081827,0.0831728025397266,0.006671182340023357,0.039703948382297814,-0.016580940712272313,-0.05086220252648599,-0.04576896913923724,0.006307982582002487,0.06423403132136457,0.018700779745940838,-0.017281494810800074,0.0023188535901829755,-0.003414398657990245,0.07810017030870645,0.07508675752104033,0.037788371082768744,0.011712017565463572,-0.06848169142877733,-0.05669738578950699,0.05626812561335317,-0.055240305625505595,-0.03200445284760034,0.021226040389762103,-0.01582710548214947,-0.07221885920318775,-0.062339979644063376,0.08291488753182076,-0.04097179177049581,-0.005114654367012742,0.046375582234540066,0.04058465939884318,0.06413504986586134,-0.027552904646746163,0.058537924165648056,-0.07256699491195676,-0.035339111274573724,-0.008100037636925777,-0.010731194255498554,-0.024213757660407238,-0.040127007532814486,-0.04003305405798139,0.037680018608071644,0.07761243925848701,-0.03776826059579685,0.05688421418143376,0.0801393155848782,0.05547379442914241,0.04797505945643049,0.06294954085645853,0.031943536697165424,0.07458575553703521,0.021888816403332317,-0.033293900694047286,0.023116177481607592,-0.03950815901038656,-0.07061844766330624,-0.040320207290762626,-0.07670760578554314,0.06880535142574958,0.021055243577646578,-0.050582210548535726,0.017020174158539625,0.0817287905294333,-0.059383384767755655,0.03311817083250758,0.009238602334479864,-0.02085130450381923,0.06350063621268068,0.04445449228464999,0.004521064933619707,-0.0809034037264576,0.07717426116223478,0.006078831641920275,-0.041699280101943105,0.0844221920473896,0.060501747993172775,0.04920929531639849,0.03342928814989363,0.0011310973093236658,-0.08250555128026404,0.08291288019152473,-0.06762833198430956,0.04367278689111703,-0.03226168546383,-0.0694646937570045,0.00785530791252176,0.0628352154783712,-0.05129956504673137,0.04163191254607851,-0.07515701777908321,-0.058574242053204585,0.07361337354000146,-0.02937415352011508,0.054177011203684386,-0.06582575611062619,0.013533428712122474,-0.024728701613773944,0.023611170100613935,-0.002175329809244142,0.053532433316115874,0.02141353135303306,0.004071010774280359,0.0622649475631368,-0.0205735999462482,0.044063005398291846,-0.08385234038230441,0.004319861475842444,-0.052003892914625975,-0.02571363648277823,-0.0069394538583062776,0.049599795594416934,-0.045317497780345904,-0.012210548802297811,0.05852387930186876,-0.07158412578339568,0.08288141433858104,-0.06639669434947842,0.06214066943675783,0.02475934481617056,0.06550103214078007,0.06891125507838629,-0.020889974122378786,-0.0284832215874653,-0.028518361096672558,0.005685705251840905,0.07479929802935632,-0.04186408855154803,-0.008651603167468082,-0.05726656682476788,0.0209649942876356,0.02543565356300146,-0.003403555611352151,-0.08189612360873873,-0.041718179417693846,-0.0028998004178860727,-0.06227578438714306,0.04369943984562642,0.022113606970612393,0.05197140498685196,-0.0149755018629769,0.08470939650101789,0.01076207213471654,-0.08013508546811168,0.03905402700083393,0.021248728703408493,-0.013297966897772314,0.05264586050760864,0.07369982997672336,-0.05113453672101586,-0.02979883069458809,0.05950307644032047,-0.08365842196561808,-0.0620412194928787,0.08131619789201275,0.0542030249560402,-0.0036406273066598304,-0.06506651359012677,-0.06123988436250276,-0.05657017840004232,-0.030187714613529645,-0.061946537196357856,0.014411244889108814,0.03677463551476853,-0.08133416638003188,0.03644490655441512,0.06133345022458119,-0.0008819287030656271,-0.049246403579017585,-0.06699335308990022,-0.08400270668354595,0.065901723458332,0.029098631830192925,-0.012120662307367126,0.069231887856637,-0.0343083246895491,-0.05589175118147761,0.03452884690021507,0.011621124858334128,0.045296720614065304,-0.028869372392852147,-0.05997321625366054,-0.057847793752872675,-0.07240972402328139,-0.06000870177379996,-0.05011599549174667,-0.024850620077119495,0.06157020405893946,0.06004588548921966,-0.0314442735316732,0.046989608254149245,0.036969648785698826,-0.045036163646647885,-0.003288175929149449,0.010978420543134693,-0.08378551608533713,0.023271821651411558,-0.07622587575215432,-0.07389268813574716,-0.01545502393291877,0.017670829357681623,0.06313935366494874,-0.006063501974323047,-0.03357693445729413,0.07128505820515,0.01016409900617722,-0.01855066288123718,-0.04399422457407671,-0.030809477204661883,-0.04344119054784882,-0.06396349365445395,0.07455603613312166,0.019349418140439615,0.03782221008525451,-0.02521339464487816,0.03402638298030395,0.07922025987305638,0.057227465201355,-0.024914770695820973,0.05393695807144532,-0.030712906999015955,0.05950423875084469,-0.08413976807625863,0.07859981754923898,-0.004958019315889309,-0.002817659856142004,-0.009297785399014498,0.07994750199896182,0.051797592440361126,0.07496748180891254,0.07724975586644196,0.0784861613471615,-0.049021898726220904,0.042610360130650955,0.020829001805014208,0.012100048269452416,-0.04617687552649233,0.010936545082133963,0.04033004440081484,-0.07699154059476383,-0.06335813588452065,-0.06879556287953587,0.028897380787611268,0.0021777862433188383,0.017811589304601826,0.04009569087609273,0.06303783029873351,-0.00048198826245063477,0.04094131330494725,-0.02918698552205901,-0.04014210238623779,-0.04209590195832351,0.056593764103649066,0.0037456955003798273,-0.06143565906578302,0.018547709560257017,0.0016618645361444243,-0.016430859948133043,-0.07941868489107087,0.03911718738019404,-0.030108108876883404,-0.027917596081059898,0.07071922658087339,-0.048995333976947976,0.08037733041006333,0.001327709460452856,0.011499339974776406,-0.08039685867879973,0.0006128942218831677,0.043236034321518055,0.00451442050863241,0.008592049389825515,-0.016015584151576237,-0.05533669749901757,-0.03211715127954185,-0.03391793894905688,0.05613510289712855,0.08292392024951038,0.08376091453287325,-0.02525604497454003,0.06106748260813432,-0.01511986702408633,0.06026997339655783,-0.08116827133077896,0.0037637985545795794,-0.04044473310427166,0.04162388325241671,-0.07104534676643598,-0.003857274991153759,0.04325887226539459,-0.015008687834379947,0.04467417932533888,0.041971316396926105,-0.019308995694449486,-0.05360396459335419,0.04816571889529448,0.02038266488118189,0.012573928692241412,0.06433749734850633,-0.008423854381236776,0.06199528106128342,-0.05649239095048767,-0.06750198886776472,-0.0821146957868091,0.0387962405148237,0.06335777402478586,0.008872205133508516,-0.002549514961714864,-0.05407519274712632,0.038105526696765354,-0.04068394419316958,0.07035701481547577,-0.020943024540386462,0.0763100238922992,-0.009653988412188466,0.062481673329318484,0.07949226140056637,0.0628762076935476,-0.022562533472715283,0.05975224975349404,0.040391016312273306,-0.07098172874716382,0.07141358190069458,-0.078547542680832,-0.07232533166938536,0.08189123074092919,0.07297481036314817,0.08246576046906749,0.06218119759154588,0.007965884363406926,-0.04407589366451704,-0.07341144755775951,-0.04780813544272068,0.08029450750593277,-0.06155815895055894,-0.06620144553074565,0.06755998828713675,0.03063764397389106,-0.062019967285421966,0.06272975049899017,0.0398278954675218,-0.012646794547669628,-0.031146649265223203,-0.01577373361582137,0.02501121890777223,-0.07883596955771713,0.019796768431396394,0.01658886456289884,-0.056102442021212846,-0.017644220796738778,-0.0479478204433379,0.024329152575136768,0.08399748031851725,0.00808289610152543,-0.07041155290448578,0.013480496379340765,-0.07835042699888535,-0.07519877740773731,-0.04493057533446442,0.08086778231947482,0.0015478301120822632,0.08393465552693956,-0.07334870737242015,0.01548332567573017,0.07843143338942653,-0.06991000073785524,-0.010831857921920386,0.01851094878791785,0.054036531901515805,-0.04422746204766497]},{"id":"chunk-7db5cddc-63","content":"'google-gla:gemini-1.5-flash', system_prompt='Be concise, reply with one sentence.', # (2)! ) result = agent.run_sync('Where does \"hello world\" come from?') # (3)! print(result.data) \"\"\" The first known use of \"hello, world\" was in a 1974 textbook about the C programming language. \"\"\" We configure the agent to use Gemini 1.5's Flash model, but you can also set the model when running the agent. Register a static system prompt using a keyword argument to the agent. Run the agent synchronously, conducting a conversation with the LLM. (This example is complete, it can be run \"as is\") The exchange should be very short: PydanticAI will send the system prompt and the user query to the LLM, the model will return a text response. Not very interesting yet, but we can easily add \"tools\", dynamic system prompts, and structured responses to build more powerful agents.","metadata":{"url":"https://ai.pydantic.dev","title":"PydanticAI","chunkIndex":63,"totalChunks":208},"embedding":[0.008100435002019991,0.01697550995684778,-0.06869564927695253,-0.0033182801258794564,-0.06294265000152945,0.08870601320470885,-0.07023066308176072,0.013265080173217309,0.059984336390440054,-0.03235539929901852,0.0729848527730044,-0.01494963013677367,0.0189969148107413,0.044810699705040244,0.07383296584821247,-0.06038516254182135,-0.07671720751437389,-0.027644462884839235,-0.01858667564248173,-0.04473862465723044,-0.0008642373775124965,-0.08811926131630181,-0.05806810618065612,-0.023179330210839604,0.000951726811121287,-0.007494516176810253,0.002511944552728117,-0.026248698840878857,0.06887386632969653,-0.03972817085432257,-0.014132291806916993,-0.037360403814532574,0.05799176567933597,-0.03692961720496018,0.004103946157481939,0.019698497454535155,0.03398949441202445,0.033815474029006164,-0.07672018787035446,0.029109212159843946,-0.08997804923075098,-0.04251978266978775,0.049856232642001674,-0.0727266749254642,0.02895602329567374,-0.013716986524091581,-0.06744180572736962,-0.06902815434427292,-0.08358017172110105,0.07958027794025853,0.003127772389946109,0.02674151009808609,0.050981924834663364,0.05453594680914772,0.03427034243450153,-0.009370283717343525,0.006179277481370911,0.05004644943489519,-0.030120392074876056,-0.020805511930821204,-0.07754450802114794,0.027815394801158543,0.01064891852807841,0.06432596982271065,0.03293593383322658,0.07871575270782866,0.0783667911357053,-0.08734888978141883,0.08799639683464161,0.052517092155144524,-0.0566883425640906,-0.06846124784462503,0.034495130087888626,0.02563704910828167,0.011850516719108464,-0.01800475588574713,0.013179045005087923,-0.028421488652550835,-0.051067743727666676,-0.0730943077838695,-0.08465848133727814,0.022606676963285267,-0.003991704293183874,0.037593528076208166,0.07395964533086365,-0.021402881216360768,-0.06567905669795437,0.07138866973889517,-0.08168157010042519,-0.03664499714107998,-0.06380743564038376,0.05604599644245063,0.05570904589054209,-0.005985018797730593,0.0006980745320598564,0.063997049370947,0.005960467448517465,-0.07339543498190165,-0.0192057267656301,-0.030132275159879023,-0.04957792642426108,0.04984112049122503,-0.05315900673186592,-0.040469209432022354,-0.0419473611968568,-0.04333363081385742,0.01876719370243398,-0.08553567625462191,0.04788746870615316,-0.016109562010124333,-0.019864478892617422,0.023300085388738453,-0.003929636814957674,-0.07432857622606648,0.08637589621846593,-0.03872763795603232,0.07157332195667516,0.06703624197061908,0.07798159210946864,0.03946476720499955,-0.01597763612922812,0.0027455846630160437,-0.06817355867896413,0.019327650866888833,0.08165631325165905,0.07564209127916477,0.03455442582361237,-0.011249144780603645,0.0726288905230663,0.07442726336128086,0.020934747012504983,-0.06195474660639715,0.04575810699953961,-0.05430205051430028,-0.06734185816348241,0.0013630109806159602,-0.0066976114427344064,0.022374599595906857,-0.06888016552600651,-0.055996796595977824,-0.08336375009013282,-0.06271464420182521,-0.0891884629369804,-0.06984062524287812,0.042819285635567174,0.04732066954710021,-0.0016411116855778668,0.05198487755237879,0.025629993764389764,-0.054539486133231375,0.01582529560616865,0.055423484693084966,0.040064107678993474,-0.01979585833391296,0.0031643905654899183,-0.051368349066280385,-0.08389156012786081,-0.017546639310088832,0.06780748735978964,0.05390614228001819,-0.009842998807477285,0.08422909631774729,0.011237041920940617,-0.037063662109312986,-0.02782094275235163,0.04911652834161171,-0.056926821446530725,-0.06879246511543728,-0.004712597068619803,0.021550126259946924,0.043282372047865496,0.058668726067138084,0.07732823931047447,0.05801302198914141,-0.0490099082363201,0.08124752753921011,0.055282759948721505,-0.06935383030684601,-0.08764898027510434,-0.05943162745539583,-0.08817240384140712,-0.007614075123058665,-0.015702156493822752,0.02962689656834379,-0.04401640141493808,0.07736779821116868,0.004110527715786056,0.0603770773113361,-0.06965501017355331,0.04544127557787578,-0.06341979981266688,0.0652239286879922,-0.06045402693939943,-0.0004562252764194329,0.011883836031894633,-0.051344427060169555,0.005376225228852195,0.057711997917261774,-0.040561268617035746,0.05411290969916286,0.03909852596672053,0.049159927447703776,0.06760604991671684,0.018959732305837706,-0.036895652848105635,0.07715338980099977,0.0014071006034095258,-0.05705789600345635,-0.020869468821904418,-0.07823999124168982,-0.026992905574663485,0.022390056450080225,0.025513462472138555,0.051651580214414586,0.026395145231849913,0.06056813522055942,0.07799652914583832,-0.07609656436490375,-0.08998436558358551,-0.033120006838833795,-0.04651780502441963,-0.0846373398500916,0.046973538696435405,0.0474231485079236,-0.005911112584391801,-0.0867913056648178,-0.012674062735178815,-0.04187435568388186,-0.06583596957233506,-0.025001163673006383,0.0779401553773895,0.005437017766221707,-0.014644900184295106,0.04698841344441136,-0.0637675104552001,-0.010702225955424258,0.05839429386378851,-0.056945685407094056,0.017003740017489225,-0.037747866574199374,-0.06042788850744184,0.02508587029934055,0.02379411552292031,-0.020049456771712475,0.01200511035632671,-0.04802863042803018,0.08423711805589208,0.028594735740245916,-0.017987654411997473,0.045925008635683925,0.05702000958221454,-0.011418163678602829,0.006181798527247525,-0.024297890401728958,0.012013793560249288,-0.07254022810512267,-0.002326346330369239,-0.005474784873502461,-0.012066719637325996,-0.01112128434445482,0.06457386074606582,0.02951374932900448,0.08370145629099762,-0.03235983632915546,-0.07183157172981172,0.07819781271083562,-0.03589399019256889,-0.04826710631104647,0.06035085505286769,-0.024567279709883164,-0.05144217552771954,-0.08934765793868432,0.023960213796927723,-0.016167302580093964,-0.05027406518744237,-0.045556281623726644,0.03607956520953629,0.0545759809742221,-0.009447428954124166,-0.004357987693330108,0.015500485592832002,-0.03700573173500476,0.04124309292622574,-0.07992015521083896,0.019597130459275677,0.05369095361145713,0.00848709587332437,-0.08940532357262375,0.025913192847413922,0.06102226861208545,-0.06536737807118673,0.0735441249704364,0.03857724779355117,-0.009162088713645569,0.005339344655968852,-0.07247992307371125,0.05446107001461802,0.02178178694369456,0.05053287173426727,0.006604534024296266,-0.08140317024810981,0.04143594582754641,-0.06822642967176108,0.019240484377184234,0.02700475069063401,0.006980118526210669,-0.06753359761464024,-0.0878271694909948,-0.014341988210404085,0.05325905376522127,0.016714536049072675,0.008854774549332832,-0.06894639107500491,0.007001519602070615,0.057604469028320296,0.06818185205609481,0.03534735263601122,-0.08647104881049797,-0.018856156007919785,-0.08474369241954383,-0.0893071557445671,0.07064547981007917,-0.08871136718491342,0.07436546866501986,-0.011572088991919948,0.06515449631010178,-0.0867038373649453,0.008568011006411653,0.05952162541439595,-0.04784239771312099,0.0886285105170008,0.03066443114600716,0.09059393271054288,0.02089443670679357,-0.020377273242850377,-0.0368848547219761,-0.056760652931870964,-0.08763596365572017,0.03643479154265583,-0.049943210974168394,-0.05643842512867791,0.052084617794051824,0.079060911941226,0.0761115038133936,-0.023400604664465703,0.02090043215892625,0.042985676778335404,-0.03556784306223395,-0.044758717363737946,0.03266600293497237,0.0050349313766366545,-0.008143942593129588,-0.049229946240994374,0.01855879451876141,0.013649287214348505,0.030195094742167906,-0.02911431008216598,0.01728287613632761,-0.040099799506373934,0.06743764605886753,-0.04043062010307478,-0.06345554633827571,-0.010026304785343953,0.07720170865016215,-0.018615606066330916,-0.0838925754943942,0.05413370002572568,0.03425329453942296,-0.02645234779413788,0.07411277032207485,0.005921552509140055,0.051275668952699444,0.054615829018157,0.07317359683263054,0.07675413730258271,-0.019126573201278297,0.03450158656748076,0.020119410155312534,0.03578946902517534,0.050623543371744996,0.05061685217360929,-0.007489019588513283,-0.022251887392633576,0.06505107733204234]},{"id":"chunk-7db5cddc-64","content":"Tools & Dependency Injection Example Here is a concise example using PydanticAI to build a support agent for a bank: bank_support.pyfrom dataclasses import dataclass from pydantic import BaseModel, Field from pydantic_ai import Agent, RunContext from bank_database import DatabaseConn @dataclass class SupportDependencies: # (3)! customer_id: int db: DatabaseConn # (12)! class SupportResult(BaseModel): # (13)! support_advice: str = Field(description='Advice returned to the customer') block_card: bool = Field(description=\"Whether to block the customer's card\") risk: int = Field(description='Risk level of query', ge=0, le=10) support_agent = Agent( # (1)! 'openai:gpt-4o', # (2)! deps_type=SupportDependencies, result_type=SupportResult, # (9)! system_prompt=( # (4)! 'You are a support agent in our bank, give the ' 'customer support and judge the risk level of their query.' ), ) @support_agent.system_prompt # (5)!","metadata":{"url":"https://ai.pydantic.dev","title":"PydanticAI","chunkIndex":64,"totalChunks":208},"embedding":[-0.023096534647677615,-0.0043409384884854916,0.008917226934427362,-0.04195738808977641,-0.07465301930504023,-0.07600031257189714,-0.041518154121151514,0.03193056478982755,0.02425229382060463,-0.07587071608857601,0.08803778935690253,-0.003026615972439317,-0.01672702199980011,-0.012492103092015846,-0.04050850898690072,-0.055964761813210764,0.07323926711292132,0.08442524338076096,-0.01613022930611251,0.06945964780694713,0.06660912627862604,0.05892458076742156,-0.03751163042121933,0.007509732659529039,-0.02237451267948385,-0.01627895643274073,-0.01490120645141381,0.06641076582295588,-0.058321360420713605,-0.07010648432865567,0.05393017425638555,0.038206775028469316,0.08077556590548048,-0.007579960878664664,-0.003223652962592941,-0.07506078328900437,0.025526208440864954,-0.06149881283731934,0.03392363385209488,0.08337261535740906,-0.03173611990940122,-0.07744262809635084,0.029635421235474597,0.07532916333718431,-0.03969021280666446,0.07987559800276002,0.08044055626374995,0.032165605567018606,0.02833455913031498,-0.08247692927910874,0.029754774815249737,-0.004818109921824928,0.05087981548398277,-0.05755757617303816,0.05046927193672151,0.03158779736760765,-0.08559910775142526,0.03167133380629614,-0.04326736422476217,-0.07906298339105929,-0.005077573475851807,-0.022976486814214568,-0.000873472553455278,-0.05292775814682833,-0.018106018535049,0.030980325814020045,0.07801738972627371,-0.08197455578855405,-0.007471085691501199,-0.005992207582572124,0.0351989884772263,-0.051400622346793906,-0.04913050415090337,0.015327599075280468,0.013699705447233094,-0.04349118099803571,0.04920194496363538,-0.0677760325901467,-0.06965638132175671,-0.03454795166614191,-0.08426398395922968,-0.05364342434050436,0.01726359099126688,-0.08766973499439183,-0.06184949539816082,-0.03202070033371297,0.07454025591467332,-0.025332441800773667,-0.07757771387018589,-0.000243380601698952,-0.01857516789005027,-0.06196214600867578,0.00025000897715968517,-0.019586464665904583,-0.060799529506181685,0.03929914659599276,-0.0696414030071225,-0.08806551934549071,-0.026756604612649896,-0.06188044311852849,-0.062166085417141616,0.08410597284313963,0.0046563833770202675,-0.06991571364796124,-0.07073006846760353,0.07061821909774865,0.04211331994183683,-0.021242128587054016,-0.021063809986158775,0.0856113810869941,0.03846818400069166,-0.01100116798613107,-0.0034535559027640992,-0.005374352142804598,0.04298334708496544,-0.05696883233156705,-0.053136610037310676,0.017011288838041868,-0.06108138009782306,-0.0787742991665683,0.05958154588882641,0.004997714616664712,-0.04860569290715707,-0.003967633538127647,-0.07271393585015552,-0.08153799332611908,-0.011067288650388814,0.07527941829770185,0.06106394784094082,0.03582566518536891,0.0334037054325894,-0.03608958603324008,0.039225023489691514,-0.060112478694810026,0.07470525091320634,0.031456320803121884,0.011034946176988266,-0.07373734934281248,0.0369078459332451,-0.0067170407685129075,0.02608464518359938,0.014183319652104622,0.028533459476592336,0.06039748707511084,0.047636142375803756,-0.028628079779727915,-0.06397015174924381,-0.021544525260379935,0.051055588453583996,0.0024312706244195774,-0.07185442503132296,-0.01163180256710765,0.06632477850987384,0.054640838456715864,0.021376733129762463,0.03579195943517694,-0.019520760041690215,-0.016531053332938608,0.015375316713047354,0.05929330821577009,-0.0669031827706252,-0.0709290947075906,-0.003393408564326791,-0.0723411253991114,-0.06018257552502014,0.04372223599241054,0.06579496738776586,0.013235347887396868,0.050587305816231366,0.02470362951634266,-0.048954657070550876,0.051012111204785215,-0.008773090626517491,-0.05144838010594167,0.07439844897526231,0.03447300207918929,-0.04353467164515036,0.08495816755739109,0.01584356898694622,-0.03916479615045875,0.05370469699729662,-0.07769474626522144,-0.034084733265522776,0.03987960224451965,-0.0057715720077048255,0.07700779928886821,0.03475383265784443,0.035025030589201187,0.06120753321004387,0.05060174072079247,-0.06273674140759566,0.07290590280880643,0.004473766159187574,-0.05996565396236563,0.0030531966287537233,-0.023268685378030403,0.07592798027291528,-0.053388903875964275,0.027302464223752525,0.05046694779041735,-0.06480983353397628,-0.04139806314741724,-0.04057974974387603,-0.046671796803299075,-0.08715688956309055,-0.07770207141750891,0.00019059852462867323,-0.028737057498954072,0.048374118877386484,0.0581924516866633,-0.07433450270754721,0.013454140343833298,-0.07759091572366197,0.08148518989752304,0.08268834431604506,0.02559222794045702,-0.0868338444703864,0.05884918228028483,0.012009431185773892,0.0010526295074708132,0.027277061250974108,-0.0874527591401122,-0.009251709460438554,0.08163165761032398,-0.05564951309361536,-0.04098743552508867,0.07663795817879764,0.008365958999260448,0.021354871717055024,-0.07192708833851102,-0.01302866584582544,0.029006377428306616,-0.027107689603925494,-0.028123708493213995,0.01799706233345672,0.04336234251050194,-0.036040148020969116,0.05094190202141036,0.08236323665325718,-0.0551518025186503,0.016497106773095745,-0.053218818417645516,0.05663136992407373,0.024985169474413413,0.028409947378164838,-0.08174061572268218,0.059086492728197826,-0.011749737659484765,0.06601470850436661,-0.009455706259257898,-0.060082130647046324,0.04764707929955364,0.03665306599367988,0.05821088272885847,0.0670004038006882,-0.007079007167087028,0.0635052101934177,0.08214004210634698,0.03270719120572653,0.008336126549797223,0.011300215620780943,0.012024463278030726,0.014249770121530949,0.03204118569843959,0.07455770107285362,-0.03884731608657377,0.008458636417791513,0.04191885757792846,0.02935484515020918,0.026898466264021575,0.012442649659508935,0.08176079438220261,-0.05959617041062407,-0.07470173440707914,0.05690677993120618,0.03253635798947341,-0.04601926460254858,-0.08415337223930687,0.011098905991318568,0.07323079100321808,-0.07302218407814473,-0.027795798747982166,-0.01828781867904701,0.07069568107483502,0.07366380512039525,0.06351751281450639,-0.06722740702366778,-0.04879023287119644,0.07433012544147286,0.037650420316276675,-0.031950041980730814,-0.003280139605542318,0.041949004290356265,-0.04927568261388649,-0.017141061838168756,-0.024226886120619223,0.08661409325769263,0.053584579087814534,-0.0351691860183178,-0.05229156362929954,-0.06621925136013479,0.020129943760234078,-0.019475025265106825,0.008613013784530735,-0.06047288792484606,-0.016378931771396224,0.07225362856270139,-0.05768539927591976,-0.07862167776400167,0.06215622015380069,0.07794500583094374,0.020008535071411405,-0.05222919257544558,-0.06028081570820261,-0.05272841558280143,-0.08719366531975319,-0.062099793718289095,0.07284026270513236,0.06252669207672162,0.03580681029305908,-0.0008957534010507294,0.06332291348151321,-0.07373280711546122,-0.007818776359539384,0.06762759434185066,0.04803330160087054,0.04725820408128147,0.0020129154224246405,0.07952740803125752,-0.048512018056996724,0.009371537500223601,-0.0022885019463628514,0.06401576783542885,-0.03825413640211935,0.04731490790785671,-0.011846450784320294,0.020227188760518076,-0.026773450103010063,-0.057499188052997016,-0.07163326024275707,0.026757330369392932,0.054122046311856756,-0.021940991073716307,0.05053380924991094,0.05393458774914419,0.06585039923783755,-0.071071597363261,0.035842008955335423,0.05884506984457408,-0.027792686194678787,0.0002789924119505786,0.07725192516911408,-0.07860648257094313,0.04703396655020467,0.03130287072367481,0.01723732667796692,0.045750571905129114,0.04168942187544107,0.05523353276168248,0.03839263365375404,0.023541027941870636,0.02109079487292108,-0.001545178769177683,0.02900965369110125,-0.07376285828147253,0.06486328242123783,-0.049971956179357596,-0.01664125680028161,0.02943275928652729,-0.08462035546353361,-0.08193956146423284,-0.08287928947039935,0.04306202727958573,-0.027520871086814207,-0.06731320439895515,-0.020638569240216977,-0.01139502823546529,0.0429017270426874,-0.049214721924695524,-0.02808218767422792,0.0034602026028603535,0.05150590229992054,-0.014036808847996554,0.07831220401442496]},{"id":"chunk-7db5cddc-65","content":"async def add_customer_name(ctx: RunContext[SupportDependencies]) -> str: customer_name = await ctx.deps.db.customer_name(id=ctx.deps.customer_id) return f\"The customer's name is {customer_name!r}\" @support_agent.tool # (6)! async def customer_balance( ctx: RunContext[SupportDependencies], include_pending: bool ) -> float: \"\"\"Returns the customer's current account balance.\"\"\" # (7)! return await ctx.deps.db.customer_balance( id=ctx.deps.customer_id, include_pending=include_pending, ) ... # (11)! async def main(): deps = SupportDependencies(customer_id=123, db=DatabaseConn()) result = await support_agent.run('What is my balance?', deps=deps) # (8)! print(result.data) # (10)! \"\"\" support_advice='Hello John, your current account balance, including pending transactions, is $123.45.' block_card=False risk=1 \"\"\" result = await support_agent.run('I just lost my card!', deps=deps) print(result.data) \"\"\" support_advice=\"I'm sorry to hear that, John.","metadata":{"url":"https://ai.pydantic.dev","title":"PydanticAI","chunkIndex":65,"totalChunks":208},"embedding":[0.048797788611183085,0.05141405326594539,-0.035313309629821474,0.06718939105818302,-0.00012820970256800188,-0.02082290121422216,0.01979881714527893,0.03455560111718974,0.04360234085894931,0.0011111114188270595,0.05115203913319291,0.08638872512470418,0.03538828535088926,0.013185194260654126,0.051243732893618776,0.08061638612286988,-0.010776095185620884,-0.07609356577020317,-0.03245397178348341,0.03737595814317702,-0.051015903201831234,0.032747154161028566,-0.05770729966250183,-0.06116433756445203,0.05015530716356446,-0.016031419548440198,-0.08449671449038493,0.03844176773272269,0.07852364440492929,0.00823180085933947,0.08322960156888201,0.04998597714298374,0.0797369497465798,0.030211218534432146,0.03716187777711096,-0.08565712085832763,0.05380724562351038,-0.06330526112822546,-0.047084084578880525,0.016730544349788035,-0.06729899149686251,0.06818655046231197,-0.04626075959222867,-0.07875129174294024,-0.04026486803714167,0.08719646614626499,0.05947861007329893,0.08310085130623668,-0.004288808923248157,0.005949211779560527,0.04933030862157891,-0.07379769949949819,0.06922232300664857,0.03255709696047664,0.007885590541795273,-0.058568917346726417,-0.07041914192548879,-0.07858687820995175,-0.08632206536039361,0.0077097494131249346,0.005279979340155176,-0.012538663584690139,0.03040644071279351,0.08714552899819338,0.0035476841204435264,0.08021266319894542,0.06764420409114713,0.045965000631466676,0.059263479015217134,0.0856275800133541,-0.08567334299889215,0.06502337207249538,-0.050465797755138916,-0.015759018791112897,0.028298062032762673,-0.07172386088827007,0.040533261829052,-0.0003765063877447978,0.06422862523664022,-0.051634515527230605,0.04525993176107106,0.08615194997424067,-0.03948207055864121,0.06463955877602885,-0.03336907020630517,0.02578730268171595,0.001283493067778937,-0.03749107969981559,-0.023639495601190177,0.016277956790808106,-0.05247684932778386,0.0392696969634108,-0.0002253080516636098,-0.07534067018982918,-0.07461890735338987,0.08495793739534284,-0.021596985055487048,0.0671790069582065,-0.049474783394273504,-0.030998676333664633,-0.01842469318348713,-0.0526424236562894,0.07041418518075804,-0.04158087319029849,-0.02802833526049928,0.00254115519727742,0.07600668503094238,-0.05267931998978052,0.03294428659542029,-0.04906402926736783,0.08414288915567246,0.07824454828810885,-0.08035016932952259,0.0729425680954816,0.08651847535191323,0.025666352391162262,-0.02796757202850472,0.04167976532731038,0.08656367001470831,-0.018576808876812345,0.02011495366928148,-0.023072101936379902,-0.06716902845656213,0.036918842287261194,-0.08503785979087067,0.03527212229588669,0.02159258593538462,-0.011199141288886608,0.0185417849294128,-0.007399084739810671,0.06928658852356065,0.0024220332351197926,-0.07165512334291342,0.025062476436464486,-0.01366384784341464,-0.06955068503567156,0.002260158730386516,0.08334505462311598,0.005360023656747021,-0.009556580935882403,-0.04571234910740673,-0.07443885117370638,0.04636724702675599,-0.015020662595158019,0.0160480297404458,-0.07676627542595586,-0.00036564983980853923,-0.06724003485857775,0.05775056720116134,-0.0397737424153456,-0.07374344156287035,-0.021307061462540477,0.04657794792479114,0.0010540425607376439,-0.014639577849187417,0.025974072991867544,-0.01935620028908799,-0.04876675895321812,-0.0881938186530576,-0.07435660851163454,-0.03477787401355081,-0.005851573709478679,0.07494876515741399,0.03554284459568408,0.027901680100520944,-0.03050396711785136,-0.005101732023588071,-0.005631315782969357,0.008087482022693738,-0.03918181716932954,-0.03226505068286325,-0.025210644124871673,-0.08694537382384164,-0.038837444537827594,-0.028322278253714733,0.03831767844019843,-0.0011265588812901216,-0.05345422131268995,0.0032006319759153414,-0.07206104749833066,-0.006634048230297526,-0.053267778067221945,-0.05993290325129666,0.005761701365818648,0.0031962069769929176,-0.04180359778273458,-0.06741482960022688,-0.017948999856316074,0.03453864234071048,0.0347110158512477,0.06288352874717552,-0.06942581073834676,0.07759238086457021,0.02836197923320866,-0.06668734806491551,0.012091467886726841,0.053802279548693495,0.05646205095346955,-0.058569909427725726,0.05617144888505302,0.06165861501574124,0.07934742582184044,-0.06993515442342228,-0.053228322421956305,-0.07515822076680133,0.00860798098284779,-0.012800059323475204,-0.08308337756405089,0.0733596290804301,-0.015416028516149302,0.07211366293254554,-0.011605696639519351,-0.03686077256872518,0.03972656257498764,-0.015985306030270176,0.031413604278031214,0.004693173359684992,-0.07610390143975457,0.052512817754728984,0.06769286258198395,0.017877136666861863,-0.03292117617359581,0.001931979624455309,0.026202186815222357,-0.036706002394002964,0.03984424125386211,0.0872250170602858,-0.03603813756899243,-0.04537657933903762,-0.014662535437840596,-0.04692613613598617,-0.04698114273014919,0.03875788491341693,-0.06254768144093593,-0.08515699452161411,-0.048469748413324076,0.02307432926347709,0.021486566592478842,-0.08057092557124124,0.05514715059651109,0.06391752938563842,-0.05711260587738114,-0.05433436202531174,-0.017499141875669803,-0.01773265243841367,-0.06718190281902284,-0.02560200319884177,-0.08266353210312945,0.023165884683870396,0.07530840937361488,-0.0061099969275618385,-0.017934242568730954,-0.010693054889409342,0.029329985777645697,-0.014010558626094233,0.009916548464741347,-0.05120588124120078,-0.08096771031760581,0.07889864858211673,-0.009286960228365636,-0.058957813834462754,0.0498081121034706,-0.05086381565850029,0.08821275201133975,-0.00789459658199209,-0.08040168842132768,-0.0138148490787704,0.04286866021331352,0.07894446955968587,0.004395968480359354,-0.0787466505181991,0.051494100303450786,-0.0086883178278273,0.003764248832016702,-0.07838870370140762,0.06749598888211834,0.030587086438087756,-0.0060476445065719975,-0.08313939669111105,-0.004876764002388558,0.06237780487897056,-0.06909124456008754,0.060415833318140925,-0.061093023031075035,0.08616766729577346,0.015963768268473212,-0.008745030629170418,-0.027957746627436594,-0.08441269891185181,0.047469330752174924,0.05459260252876628,0.018855969205328345,0.07893150746309512,0.007791710004989725,-0.08765494046663429,0.057600548607282004,-0.03801442083269606,-0.06593930088519585,0.08794241781606346,0.04979227921519614,-0.042861558018660054,-0.04728987132051921,0.08424814279209,0.038030074013160976,0.07628004111993203,-0.022276175886206964,0.005716298232892179,-0.07898020558209035,-0.07156754247734168,-0.00960989607139668,-0.040546477387197404,-0.027880920225876776,-0.022847583965124114,0.012328122389353095,-0.02312517935890751,-0.0752513754372505,-0.057517301871163655,0.010093282618236924,0.005319565196479839,-0.0348582120842702,0.012077575003442845,0.03669357818917513,0.07679852739663495,0.06067501607150773,0.01021620597171659,-0.07528950542788729,0.0021810605735751165,0.024598060089465107,-0.04695412186014101,-0.07561080796653621,0.07126228602246447,0.015219539803544565,0.034897912141827754,0.07580679086598714,0.003732781866901459,0.0793133850504058,0.08741454354495622,-0.02703020926713482,-0.08658716715662267,-0.02970584341176249,0.0009834656663741076,0.05905532705906048,0.022453282282161216,-0.07787437850347002,-0.019637883211980706,-0.03516687520317654,0.008699546924195193,0.005240943290681024,0.05764560207088873,0.053130835108800685,0.03640742254361349,-0.08249916223685315,0.010546746945862726,0.012319778284288952,-0.07493220239282394,-0.015312958987023676,0.001532096231647313,0.059042333326488894,0.08219776192381631,-0.05310613621296572,-0.00939792142601457,0.0007787684548677946,0.017901455420814647,-0.007494589245990765,-0.014549965044036028,0.07490973209053338,0.049030901224517025,-0.029357142446294962,0.03460407026769334,-0.00563357615707445,-0.07911910493996385,-0.03321609259904802,0.0270581235863872,0.02345823460605866,0.0019386489607394245,-0.07419642391655688,-0.016433010730159035,0.023857155367965465,0.008271572100927266,-0.07346132915647074,0.043739590165081534,-0.0389472966064072,-0.008610337366655129,0.07715634792051666]},{"id":"chunk-7db5cddc-66","content":"We are temporarily blocking your card to prevent unauthorized transactions.\" block_card=True risk=8 \"\"\" This agent will act as first-tier support in a bank. Agents are generic in the type of dependencies they accept and the type of result they return. In this case, the support agent has type Agent[SupportDependencies, SupportResult]. Here we configure the agent to use OpenAI's GPT-4o model, you can also set the model when running the agent. The SupportDependencies dataclass is used to pass data, connections, and logic into the model that will be needed when running system prompt and tool functions. PydanticAI's system of dependency injection provides a type-safe way to customise the behavior of your agents, and can be especially useful when running unit tests and evals. Static system prompts can be registered with the system_prompt keyword argument to the agent. Dynamic system prompts can be registered with the @agent.system_prompt decorator, and can make use of dependency injection.","metadata":{"url":"https://ai.pydantic.dev","title":"PydanticAI","chunkIndex":66,"totalChunks":208},"embedding":[-0.0336099411205293,-0.0628710597418275,0.013853141482880589,-0.04539401761201458,-0.06404096126309311,-0.021058022837322245,0.017926036224670167,0.04021611919632529,-0.026826110477452876,-0.07107688448505962,-0.04000509964851646,-0.027395888651641553,0.08444923821312021,-0.025966820952821736,0.08266039708093112,-0.05795029446521905,0.037883268066198426,0.0038153842621477534,0.013266346648257162,-0.0840931789839031,-0.037424493921796004,-0.07422994097591988,0.009327815745266489,-0.00009991222058707588,0.024751262231774717,-0.026170570530091135,-0.04968105006310003,0.0715889805487338,-0.07323773450744041,0.008906019793354328,0.05329241584487254,-0.05749936788347635,0.08096591651439938,0.07225296699273515,0.011188539041485437,0.08224094939739235,0.044592495904999606,0.042646158720107595,-0.060333082835442434,-0.06148265525011888,0.03765119211468198,-0.029512932943611823,0.0032389430184149763,0.06586857332132857,-0.032889630650003256,-0.07146858668082916,0.014913960247881773,-0.048937237890337694,-0.05919036367453437,-0.011831226233565082,-0.057107627078047514,-0.003148359453872727,-0.024779024958382103,0.000626406386381859,-0.011513318929441223,0.011842754794748826,-0.07789274023177127,-0.06039246365120198,0.04527928154062003,-0.07499051410670643,-0.010021293495254588,0.0806848497483769,-0.023159009552769703,0.0764565092865406,0.06931070176777342,0.036440677422212193,-0.07037286045923255,-0.07378665819563744,0.04209618295680567,-0.08209233968238215,0.03861412963268724,0.018329132742435004,0.022706422632656174,-0.05691013286991692,-0.0593041186808054,0.06466952526766145,0.006732374493149291,-0.04864802936775028,-0.05895316423651079,-0.0387229243430228,-0.00092485496072143,-0.021972090353958453,-0.003599503478862988,-0.061324043944131434,-0.05566737159547955,-0.05567325902611697,-0.004340226801651655,-0.05787187915824584,-0.05229723402840236,0.08400078798806483,-0.01909979229877732,0.06882807534990952,-0.06398829260139188,0.08398366100347904,-0.0005831352654831551,-0.005109648878474314,0.0237468334432889,0.038638476546219054,-0.06590719956842916,0.03771919885209197,0.04653455480013929,0.03844756460197278,-0.001567158080476317,0.07358143181718364,-0.07365105823739088,0.003291561131896115,0.02193772959549986,-0.033895802648611084,-0.022404490052311807,-0.0005849050486862086,0.05041424437131136,0.041061158891048395,-0.08478287908670842,0.08754441078186229,-0.040898245699487495,0.057263984702216365,-0.008048372445085024,0.013957929082876928,-0.04496762837326147,0.039851095769455745,0.012521015367710536,0.021397428988865812,-0.05946370792874957,0.062058747278800966,-0.03809269578239537,-0.08099049932978845,0.0650068481388161,-0.08227763881769723,-0.05037620414789002,0.017494612781210218,0.010976450206016777,-0.03787630545550171,0.07489219780120517,0.04999577165618702,-0.08118030213445841,-0.034222743492962907,-0.07518259778372198,0.08459661727353507,0.001975294963976021,0.029815017639815734,-0.05222497887241624,0.05269935368542045,-0.0216851791247567,0.04664411338105208,-0.07926840301524747,-0.08781870429873735,-0.055605316959593976,0.04535574490724301,0.03048187607475035,-0.053467196285786146,-0.035917252925712205,-0.07198095387378843,0.038582128396379874,-0.0015516449128313583,0.029122752007373322,-0.005338515446381749,-0.011334191128615924,-0.05416382191023844,0.06023050795800492,0.018632204022440407,0.02001402118059015,0.050141090447067424,-0.084415782492186,0.03411083986241252,-0.08309939555530074,-0.06556051383008327,0.019243720857824703,0.03965674001860939,-0.06926849417221205,0.032163007071947095,-0.03794839408720375,0.05246450792799617,0.062228157893141844,0.02258773740739454,0.049569844003849124,-0.057949507841642794,-0.01196111143777189,0.000573616895833691,0.011608890402856347,0.0029832828843412455,0.08612524702394007,-0.01610817291295747,-0.059129982467465286,-0.07854752407376002,-0.07190238149601792,0.05255657138460522,-0.04910610826817791,0.03486819343849126,0.06252503796030386,0.08161069461957673,0.06141560919576026,0.025407007855393716,-0.04167123372947621,0.08513410917268831,-0.029656385077953804,-0.046161556520556625,0.07616630784131714,0.041584733910524516,0.05054959355272388,-0.03550861057244368,0.07944712887283324,0.010779885436677654,-0.012625786718237298,0.08442627493174333,-0.05922800503950746,0.05592547713777195,-0.006895365058370263,0.0376986164271467,0.06601085405653835,0.04592631420581553,0.010976546589544738,0.07644412191904768,0.07883277592533779,-0.0434224273405011,0.03163823965226167,-0.007547041207770712,-0.06069357790290429,-0.03207602959231879,-0.06416141567475868,0.049625394040734586,0.029808773631946166,-0.06584796372654718,-0.0851079771627963,0.014046201944751325,0.07124054169258898,-0.048570402345533156,-0.017767003942490034,0.017213632721451745,-0.030155307182938147,0.0479621144055954,0.0330476440549316,-0.001516665753676549,-0.06514518655341779,0.012807491704381025,0.0004842247725127749,0.023052646616714002,0.06896946141833629,0.0662206195354149,0.031903058082224205,0.03528994211289596,-0.08558357995306451,-0.03884478083108218,-0.05219609996279768,-0.047952087631240196,0.004450339798815589,-0.07863040666498912,-0.08649961596348653,0.08515192634127816,-0.06029821083082152,0.03544145440116176,0.006580675387310607,0.040861361100200985,-0.07291312794568772,0.00822564443341123,-0.07462089134026878,0.003045903498139299,0.051900791050923205,0.034529931709056653,-0.08525719971637247,-0.08516152410174035,-0.058668259800811945,0.03753936129111612,0.02143762975958427,-0.07495879363601424,0.015508695745328326,0.025129015389110883,-0.012353549319066388,0.008328816833029641,0.0587323947372082,-0.019170999854382774,-0.05940013909710484,-0.03857282560510813,0.07829234906104147,0.04866936258807332,0.0542298614950067,-0.06657614407683016,0.055493064544568094,0.051021463939095006,-0.05981593148085863,0.04765966907945578,0.018132796102703394,0.06417543219020817,-0.03593828241603596,-0.011615806588141793,0.08081213040161007,-0.058796065088343105,0.08135250037405481,-0.04134275010093041,-0.06792931741468716,0.01988636853236447,0.011742139984475007,0.027255128482325506,0.02644548779433018,-0.007337667570340659,-0.04933616782575846,0.03384614271577687,0.022367078482323388,0.0012911281530597325,-0.0520703609811086,0.0015756555978344669,0.02288867308506293,0.08081972663680716,-0.044306490942058054,-0.0030573750568220807,0.07722898192169468,0.06375659974170594,-0.045389353546344734,0.08744649577609123,-0.06367217670982721,-0.07935537908761389,0.0615327314226686,-0.004855906355299892,0.05119422419105469,0.0655795279520566,-0.017848430840263774,-0.07399155310003822,0.08305141795080336,0.06443003430900804,0.01955780659723398,0.01127743618949996,0.06314091952871231,0.014205162322281056,0.05926376848608945,-0.06716792898350592,-0.011138102228216892,0.07740141257928174,-0.06633008780740292,-0.01915351341024433,0.04814779612897249,-0.009943414821801468,-0.06746012002033056,-0.014525659401128776,0.030592386590697504,-0.05457605826469276,-0.07202993010592094,-0.08268958573958762,0.03480799687446286,-0.06859687880467534,-0.004328283365401485,0.006903219705648572,-0.004811412282410051,0.029422403615016152,-0.08749174355946249,0.07820455807427402,-0.011224749923034105,0.08601108524335271,-0.028494567679155255,0.06463798421252612,0.00437193807333466,0.054611442850464,0.08666731977127262,0.0010419398453816193,-0.0406595885300292,-0.028751000500819197,-0.031678740739957606,-0.016247757096548476,0.05105260346406719,0.023233478376951146,-0.07852121224634769,0.08303170041438965,-0.010314925587516576,-0.07081852812747773,-0.06599904144783394,0.051857457690945526,-0.05190086261654997,0.0720641596364493,0.009207145233756,0.03964652037023653,-0.011726714467771153,-0.07167830528210303,-0.06829852966019956,0.004690306419141378,-0.007371017800119398,-0.05968215513238297,0.037491675816501216,0.03348250316944375,-0.0592379478336489,0.040368886701510724,0.011460628292164824,-0.06217152249933198,-0.025626651358747757,0.031128993482503083,-0.039839196558231135,-0.049710904500396114]},{"id":"chunk-7db5cddc-67","content":"Dependencies are carried via the RunContext argument, which is parameterized with the deps_type from above. If the type annotation here is wrong, static type checkers will catch it. tool let you register functions which the LLM may call while responding to a user. Again, dependencies are carried via RunContext, any other arguments become the tool schema passed to the LLM. Pydantic is used to validate these arguments, and errors are passed back to the LLM so it can retry. The docstring of a tool is also passed to the LLM as the description of the tool. Parameter descriptions are extracted from the docstring and added to the parameter schema sent to the LLM. Run the agent asynchronously, conducting a conversation with the LLM until a final response is reached. Even in this fairly simple case, the agent will exchange multiple messages with the LLM as tools are called to retrieve a result.","metadata":{"url":"https://ai.pydantic.dev","title":"PydanticAI","chunkIndex":67,"totalChunks":208},"embedding":[0.022976237275850263,-0.008849928872578605,-0.08278399202459782,-0.006227862690410164,-0.06974839033601656,-0.006534311033611639,-0.0828930177604781,-0.05175844261773112,-0.014400298236472407,-0.02870979471063437,-0.00811714984330778,0.07985506245042517,-0.07064595952215291,0.023248751085444292,-0.05345646502595245,0.015509265566841877,0.038465567035051454,0.02933186384520658,-0.02238116944957968,0.08392652465192896,0.08062915498355423,-0.020528062631994734,0.012248985282226966,0.08343745974643699,0.045465096806686284,-0.07198249872172109,-0.019458606754745617,0.014436769045262147,-0.025875832652435617,0.030683637108299494,-0.0588009730274261,-0.004110182044042966,-0.07841034470898756,0.018659494300978074,0.08276167739991294,0.03549191406076568,-0.06853133721162932,-0.059253953431327784,0.06189974280914226,-0.026602155931505254,0.016061180082165106,0.06217456975220638,-0.027426808445654302,-0.06012141773549746,0.05126011016508219,0.0720302573963196,-0.047992471675879354,0.06679026294354776,0.07253757113898267,0.022023251377782962,0.029000300514073547,0.007428668658636409,0.08049764251235032,-0.021612523305569602,-0.008227908544832123,-0.05604436057975563,-0.04536533607528701,0.059549547150921124,-0.05808574453205807,0.059994358892563986,0.0540201338001547,-0.06467499937092408,0.0294084141887842,0.08398588415823491,0.047032391542892696,-0.07281406567791458,-0.038956604020522735,0.0680104361488355,-0.08538643173562951,0.022711968116637036,0.08724458411308428,0.07307451209379934,0.0727358456561238,-0.06378589520831063,-0.05121068588626828,-0.06903742310636778,-0.08187028848552838,0.03297058374196289,-0.04203530085559389,0.041543476357370074,0.08138045086724698,-0.017400313073094118,-0.03394115546140605,0.06986797919808965,0.06137067930010969,0.0031687977426654063,0.03508382098489195,0.06820452638420559,-0.048140697925521767,0.024231158021279568,0.003734156873473674,-0.021878956035112168,0.06562111924948023,0.05103934243868925,0.07257894956014535,-0.035965752053824476,-0.028548681376613934,-0.07571311937054973,-0.0036321010228816315,0.04989980670847306,0.004382521038256493,0.013553159031907094,-0.0005531887863048615,-0.06886871239031932,0.05225553832831872,0.010102063797727795,0.0628932785374993,0.02858815379567818,-0.042337768034993506,0.07394967447121131,0.03344734431664501,0.0012576341457883708,-0.05834172776274261,-0.0683676744154634,-0.0032879595415941727,-0.04290540876997793,0.06093453333731166,-0.06049776539648204,-0.017280741631333335,-0.07015257075124741,-0.08516703202848165,-0.016354065309157607,-0.017747981065789207,-0.050485757487954495,-0.009627691371644459,0.023603792986419982,0.06776708082058622,0.001238726383585243,-0.0512635452769823,-0.004808589204796511,-0.026288960563697356,-0.00251782814077994,0.08406711012855299,0.03218533956863316,0.0738101358047644,0.07153950747424834,0.07571124909532811,0.07775399898380178,0.054211291036306716,0.0032597250673358506,0.013630744924686503,-0.020716513478209384,-0.004069247405272811,0.04130813883881815,0.08265330933453206,0.0704618319626653,-0.05005459472415943,-0.022725880884204526,0.023819375535290746,0.07076251957045604,0.0794933824303961,-0.07339150427122144,-0.0037509557383497835,0.06859759323422983,0.04568076179856646,0.04990195711842438,-0.05028946990843027,0.013299019490754523,0.06938964565454087,0.02029375913954583,-0.06771310713583387,0.030918951020616956,0.0390169738465039,-0.0021185876664476366,-0.07856146231422889,0.051432425963443516,-0.024070065172210938,-0.07469022390447938,0.003265326758998639,0.06660641959306705,0.02528098216919644,-0.04964632461240477,0.027772888119380796,0.029332090010682568,-0.04410870950906504,0.07896328801502628,-0.07052962688739177,-0.07086669227268012,-0.012080880952686083,-0.01153054268331087,-0.08205292775463485,-0.0759867543999783,-0.019604865696806112,-0.04083893316489747,0.03536915286479871,-0.037591431538917995,-0.019277290579115747,-0.0869332899505478,0.01809905425576037,0.06438100854875271,-0.02479769752871732,0.019932685139739732,-0.04068741865584615,-0.06547970713148259,0.08079902829610194,-0.03744852682597039,-0.004691491820935041,0.08647108394122845,-0.010567812784964227,0.02962060842323965,-0.06238754702132997,-0.07589573059369169,-0.03656700688776125,-0.08593656064526856,0.031350723489435475,0.025302792264024446,-0.06169116849551671,-0.03501484016032706,-0.05231756953287025,0.06581062960687745,-0.06529092917861318,-0.04074540011184511,-0.061666269722463266,-0.06093973818857867,0.023581624152416183,-0.07561896523529822,-0.05431488253911734,-0.07894748566525595,-0.026402381917887883,-0.038167126879990854,0.023104523482826312,0.07491967785686691,-0.07730686034974528,0.0724640963079035,-0.06580034005119238,-0.06149094967862228,0.033315485803917654,0.01688490636733019,0.040400913233774496,0.04367044298898749,-0.05898954448792568,0.011328696906181645,-0.009353853692640671,0.00499565689583246,0.08131651917670059,0.05601264279903373,0.024852163870772506,-0.054614611048194706,0.06857036378237182,-0.0301311097819187,-0.03718155846814839,-0.04838036213545896,0.031861371307017466,-0.06827280538868526,0.07993730469948847,0.022788000048747238,0.03918276505287345,-0.0081327751971448,0.00031830350461894557,-0.08691750933914422,0.02805979706386722,0.012340541411130626,0.00329450181476027,0.031672588382002625,0.02970572106520036,0.04165501368849258,-0.03489426074589063,-0.004739146409720296,0.07213253219869517,-0.06962882884980344,0.051747847382160705,0.012428317000384877,0.018901967687505287,-0.0023126556137047496,0.02229332622445774,-0.04848784474077399,0.054592702396310915,-0.03526988804519022,-0.060283772631798,-0.05657862868554012,0.0441631157909085,0.010426396009691752,0.032300580194754555,0.04181706611141467,0.04262814180184514,-0.019842779399871273,0.004814615593004513,0.07756723550805177,-0.07686787368066411,0.08225665863201052,0.0353948055835135,-0.07919259265168281,0.04473683015642828,-0.042363675215186566,0.08221630009152442,0.01459989507214184,-0.011077447849489625,-0.07682555240524544,0.024750668138840907,-0.03404283225375837,-0.04531644267790245,0.08032164345945862,0.007936985956845017,0.035839757795450226,-0.04634392346687602,-0.02985024194240839,-0.07756438193274971,-0.046239503000441204,0.08076388533212309,-0.012757653529956762,0.07768610195505479,0.06298685838276732,0.0048767158911772555,-0.024745600203598086,-0.007172358120830561,-0.05676658002689433,0.08397767084187079,0.011615888767020967,-0.06443526737630612,-0.08140331784891,0.03322714448749994,0.00860836672207686,-0.07463784276956989,-0.0633419920761103,0.019811799861397472,-0.05069442997307102,0.014481771080677415,-0.04898282580437268,-0.07525871077838564,-0.009554643625424842,0.0652765009983536,-0.05930848977344474,0.0331548802437836,-0.08031435629172419,-0.01858080767874473,0.02947666099550857,0.01139655765375498,-0.06500950117542527,0.010157566137300162,-0.07644267892711584,0.0276062572383575,-0.004562649414665244,-0.05303058529103079,-0.06299816115495316,0.07015929294841797,0.005874833375553869,0.04727219082577524,0.03295355942198572,0.06288449668600288,0.019872679171018818,0.06593375284357107,0.01222500168108162,0.08313606643732568,-0.03814464397841049,-0.08080184336805336,-0.02982162002158045,0.0069130480002886074,0.0658388127326769,-0.057697944811737685,0.05542117322292666,-0.014457887799831332,0.004439402304169126,-0.05291157792543848,-0.01534374665696763,0.034713121205627716,0.020657835976536056,0.05762386245825363,-0.08370452934386229,-0.03274362084449998,0.01856436118908944,-0.009803903374787256,-0.0591378886112652,-0.07123166704664381,0.037678453268054475,0.0012946003736251334,-0.044785990620474156,0.06595254000713702,-0.08416103209574824,0.028928997109161823,-0.08647259938920629,-0.02918429204199288,0.08668620070561384,-0.07012797402517183,0.0287047225889856,-0.036297153787117134,-0.035484190312036534,0.021682548787631314,-0.056146406889374986,0.043532083546826666,-0.054074515209375486,-0.06429042180171446,0.07052159282748885,0.0014552640360090215,-0.008014149182653415]},{"id":"chunk-7db5cddc-68","content":"The response from the agent will, be guaranteed to be a SupportResult, if validation fails reflection will mean the agent is prompted to try again. The result will be validated with Pydantic to guarantee it is a SupportResult, since the agent is generic, it'll also be typed as a SupportResult to aid with static type checking. In a real use case, you'd add more tools and a longer system prompt to the agent to extend the context it's equipped with and support it can provide. This is a simple sketch of a database connection, used to keep the example short and readable. In reality, you'd be connecting to an external database (e.g. PostgreSQL) to get information about customers. This Pydantic model is used to constrain the structured data returned by the agent. From this simple definition, Pydantic builds the JSON Schema that tells the LLM how to return the data, and performs validation to guarantee the data is correct at the end of the run.","metadata":{"url":"https://ai.pydantic.dev","title":"PydanticAI","chunkIndex":68,"totalChunks":208},"embedding":[0.042551325735224924,0.06426946130926658,0.006399998881213015,-0.009822943813187142,0.06598814554893062,-0.08586839250180764,-0.049218673854659965,-0.08288270051665896,-0.043035419647568095,-0.06882252449487455,0.0629786584846815,-0.08394580658211796,0.030047043241907247,0.07199608700701529,-0.04564140250399759,0.07558150441488423,-0.053930113832236004,-0.06389877088534515,0.012347322876642758,-0.04055880112604134,-0.06798388606265722,0.05248181867403711,-0.025698371069850977,-0.07234160524067389,0.06220325472286875,-0.0642114298208991,-0.009309683846504806,-0.06485792883770473,0.013680313156441635,0.03722859239712707,-0.023708211462331038,0.0028601080392400375,0.04315710630990388,-0.03269241041440943,0.032897652380359216,0.07707127030622127,0.07433920774491146,-0.05519030676660794,-0.020002067348780992,0.02741462606420782,-0.005183054461948865,-0.0757971718572535,0.0631150057193655,-0.039036873862560335,0.06115517011419373,-0.03646061222842847,0.03518628228713536,0.07600714707925228,0.0778686452506614,0.06855752527717977,-0.07607029883518386,0.04963041790821923,0.0467195625718705,-0.025359897219261962,-0.014966424773108876,0.03834909218369464,0.008389639710686783,-0.016411600360693227,-0.008413157001014394,0.08573374155863604,0.05435059125664037,-0.07075132169990737,-0.03476425040868781,0.0642497257931644,0.008622645723532768,0.039567216824910934,0.023919779283917832,-0.08306281309595097,0.04483511621426222,-0.026251739287059647,0.07338333108593717,0.07594431710195397,0.06490843044439583,-0.005685746912387624,-0.027130757489717806,-0.03691006966009323,0.02487175683468765,0.06804263550758166,0.01941900801951602,-0.08163108782244685,0.019181738232899464,0.003982414895592554,-0.04932875281632843,0.022484146627411838,-0.06364637220982902,0.0755782101698465,0.024319360179300014,-0.05526072920282724,-0.05776101770357685,-0.08537280063344478,0.04352426066564388,-0.08437593899877632,0.07198941292540025,-0.025226681929348547,0.018994469882722798,0.003536577480006371,-0.03392274237216011,0.012577594573140739,-0.07300731771104194,0.05704315090744332,0.054951408616605156,0.04472335549449253,0.06664008765570517,-0.040558945159855773,0.005139432381969731,-0.05579308483531499,-0.045337731938128685,0.0005438617833070444,0.011116267731998728,-0.08499465447731074,0.04089235973834696,0.024250518861651738,0.04313860571077597,0.08290700405283512,0.0033797599583939874,-0.04723327402109015,-0.0025366209609411477,-0.04349355791706311,-0.036996532164948664,-0.07486128367402164,-0.01278093260935824,-0.06793270201185288,-0.05818386924187278,-0.04513985514252796,-0.07774577305259175,0.02289955426294527,0.07802492015554778,-0.00073229006733441,0.01827143094346536,0.05233851785390946,0.05660255569856284,0.035416003285356344,0.02617190616588813,-0.07753818961859306,0.0409685158896612,0.03131988627020287,0.044626604894834554,-0.03204330947491951,0.05722162283596836,-0.04642122236503852,0.06873169146141113,0.05237543873458478,0.06003902333350245,-0.03645476553597955,-0.010734313937784836,0.08286705500734254,0.015133383270740142,0.05008780353368604,-0.027683541324294677,-0.026102152042730083,-0.02860303030982271,-0.06227342407780569,-0.05440231551718485,0.03288196249901851,0.029371701118296057,0.07229841986197265,0.047557060018330065,0.08564027840255699,-0.04322001861791061,-0.08035937373582594,-0.009963482589970546,-0.07872077850566903,-0.06242767496708762,0.05397373702003978,-0.06860126239545167,0.08490574344748128,-0.019488583209915252,0.014396759855050744,-0.05210551835105134,-0.0071920800529188,0.015963645700875773,-0.03510000883980498,0.0774791463961083,0.029597556695899405,-0.018499765270521846,0.05121694401007685,-0.03571953848659507,-0.007883662008420911,0.037077043736523235,0.08375240178007841,-0.008098876292765058,0.038660574904590975,0.03228171251274972,0.07466321506201956,0.019232402395051484,-0.07098820991094194,0.03829149031472298,-0.07850986502640052,-0.024447501730441086,-0.07434520997268093,0.01737295704605674,0.021795325353528357,-0.042704161979996366,0.01113077705153374,0.006255383417199987,0.04536254517643944,-0.009404335629085001,0.05806580841414346,-0.006642922817041044,0.0559362646657363,0.04853189961863852,-0.023236336108877795,-0.06245973314539342,-0.01397439694667628,0.04889364533948272,0.05824261748972919,0.059703316214434615,-0.002224295492906378,0.031076906003971547,0.018361060674003737,-0.028760697222426468,-0.07533865969893912,-0.0842496142173695,0.07732243363628322,-0.06454425440578612,-0.07337284898940638,-0.049161312956000375,0.010008230424992938,-0.034982775619609954,-0.01731206271891312,-0.07505886476232068,-0.04349224669083125,0.04140825857742441,0.0780347439458338,0.08207859290525747,0.005114850762611592,-0.06202692223032645,0.024962189204904825,-0.0009271115335743754,-0.005749773532930847,0.03259778047600943,-0.0778562313070449,0.005824815946309628,-0.08221265814262103,0.08145742480846273,0.05551051797805235,-0.03867582700597625,0.048604648388268175,0.05010135397665427,-0.023717266155602535,-0.019831190081663043,-0.0000018049647692584455,-0.06330654867725637,-0.03012237332175058,0.03650562416269728,-0.0764655327159847,-0.05022969994357672,-0.010894707280527932,0.007873040327395319,0.019948426403986454,-0.02441857730065656,-0.0782664101480805,-0.05680931498890868,0.08579888495104103,-0.07805997424208293,0.030063544166888105,-0.010022541245920146,-0.07676618503363006,0.007637308818174773,0.06410332400829755,-0.007941506145612207,-0.003939531250668172,0.0007332314568981953,-0.007299985921819988,0.07668533314770166,-0.006708475764984985,0.0635179979356912,0.01913628608654802,-0.03362441555481378,0.030125590472194763,-0.05947745355408733,-0.020294211009806582,0.017492689462626672,0.08284494824630044,0.041339814593818934,-0.04329532775063043,0.07218981640567151,0.05953715327483514,0.043275253043601,-0.012490666743620487,-0.014519889790846953,0.07891034149846066,-0.07844885411436603,0.07267651329011189,-0.07920015714266469,0.04039128736905354,0.03536903073892439,-0.019005306253253716,0.0019248076261082407,-0.07894421636313374,-0.002268111054197107,-0.06161807045892733,0.0452798117211446,-0.02431633716631005,0.020543307485478796,-0.008849426186236055,0.01403899387944407,-0.048544181829405654,0.012757134809744797,-0.01435115072965734,-0.009953628613950664,0.03890135328456504,0.05921503767545359,0.040193276959254516,0.03789812592025092,-0.009919552944601805,0.08210361359237116,0.07185482829206427,0.071304283213918,-0.06433509973607937,-0.05934223127084475,0.08417984023485435,-0.01494775564670546,-0.06811700242323836,0.0339898199574434,-0.05801406229445348,0.08377325053223339,0.02943484544673312,0.06273300317804657,0.016306760866922163,-0.0054474020823626675,0.006748243154189163,0.08339847053066232,-0.001410873464743481,0.030674002282318317,-0.07776576772883005,-0.04382867298828345,-0.012297656373225415,-0.008606427442470643,0.01632887629350512,-0.0516809262598523,0.08372245050748248,-0.0647569078124705,-0.035423209973825164,0.08583763018408287,0.015673367866259804,-0.005311018063262032,-0.07772353302695978,0.012988903576855742,0.026848720893007005,0.0731907116413866,-0.03117326664065771,0.0791387552626321,-0.036810020978637,0.07994056173098976,0.07126799176114182,-0.08293592229301476,0.034762625141161775,-0.07493830088993812,-0.005770142576486647,0.03016267110313864,0.038487602002952384,0.07764272201513013,-0.03843977337513478,0.02696679087547041,-0.0667548911319583,-0.038677661880130436,0.045458183001363964,0.04026933488247459,-0.08494581683134442,0.0349362544169532,0.013138841837135758,-0.07747195339067242,-0.0802766522787523,-0.06248509974552219,-0.06767013628706664,0.037885039150200465,-0.07512904314651034,-0.07465113657850225,-0.08444441552580806,-0.027310956022929288,0.06387854994209356,0.026378548433313984,-0.06284028440148351,0.023516096493966406,-0.07223833675758277,-0.0007770609844266334,0.04949423437474337,0.046350767178571985,0.05821382162282222,0.03413868220854328,0.028694616867055135,-0.056420634653441916,0.022067412514977878]},{"id":"chunk-7db5cddc-69","content":"Complete bank_support.py example The code included here is incomplete for the sake of brevity (the definition of DatabaseConn is missing); you can find the complete bank_support.py example here. Instrumentation with Pydantic Logfire To understand the flow of the above runs, we can watch the agent in action using Pydantic Logfire. To do this, we need to set up logfire, and add the following to our code: bank_support_with_logfire.py... from bank_database import DatabaseConn import logfire logfire.configure() # (1)! logfire.instrument_asyncpg() # (2)! ... Configure logfire, this will fail if project is not set up. In our demo, DatabaseConn uses asyncpg to connect to a PostgreSQL database, so logfire.instrument_asyncpg() is used to log the database queries. That's enough to get the following view of your agent in action: See Monitoring and Performance to learn more. Next Steps To try PydanticAI yourself, follow the instructions in the examples.","metadata":{"url":"https://ai.pydantic.dev","title":"PydanticAI","chunkIndex":69,"totalChunks":208},"embedding":[0.017255923036449933,0.04838185340109174,-0.058105046929758784,0.03664247861686904,0.016527275113191034,0.01597951444348863,-0.024223035481289016,-0.02586534633342551,0.02685048383010961,-0.05781431426220649,0.0768754848114378,-0.07917473366430822,-0.017056875045847034,-0.07625459293002726,-0.0029552490997870533,-0.08103568765928669,0.05672210276140816,0.06032924612376686,-0.04781117075488919,0.038093824600971216,-0.0280716957495695,0.05187818996625666,-0.062054480098785864,-0.024987638094127386,0.058490484909134395,0.07758677011691413,0.042928062187281575,-0.004544247881817122,-0.08472685119560865,0.029987223509324427,0.01947432792428543,-0.06873963941806803,-0.07526992415340936,-0.06564600973979139,0.07892643332471318,-0.04180171491174488,0.08096078266702893,0.04381505868303034,-0.018140467672171416,-0.04239918041507216,-0.07201394425245089,-0.01040275884044226,0.018398130517462395,0.004933845891735261,0.013769102758513873,-0.036088851243562904,0.007426975622048366,-0.08248652691791118,-0.06448294802290912,0.08372191808762033,0.06682881128861046,-0.07493025943524965,0.03087585770988679,-0.005269058668485586,-0.052875327861193436,-0.07156122767187773,0.040772824786166915,-0.06755101636901975,-0.03962029483582416,0.003929211996928742,0.04451033620837329,0.070193764153135,-0.010566409777117853,0.0780566220921378,-0.04914018478666803,-0.013899883107883078,-0.04629112839880407,-0.03800151038352364,0.03432667358795876,-0.020886829320107256,0.048230531314088325,-0.0815426175350265,0.07679124896162612,-0.012492112891672973,-0.004131475744974581,-0.06483795144555778,-0.03786748342259169,-0.028695700224946004,0.0026139439271365937,0.05788393464516486,0.052431679894315894,-0.06100113856710169,0.037814043660879905,0.028794814095300967,-0.05147064433321036,-0.06897802376243634,-0.05237276269046228,-0.023856276802483187,-0.012345695167270895,0.07424599949047048,-0.011879294765574692,0.0585563557806867,0.005746625163469558,-0.001031557943192078,0.0008401369496690512,0.0596048314783168,0.07236671163046289,-0.06796123016468242,0.0012335428020679882,0.02128928504319632,-0.03496546578201224,0.07137122880376873,0.052949120809900524,-0.04672162484911513,-0.05661864954088866,-0.08121317412142907,0.08637331382803731,-0.01599233394128602,-0.059975916450399985,-0.06571845749726862,-0.011737232209579156,-0.07254693873817103,-0.07371059062361734,-0.029475886626177093,0.0755490780211575,-0.009893415467533286,0.045009867735430156,-0.06664807350813809,-0.06179705089360193,0.05898363746143806,-0.009744902490788174,-0.07987734132099573,0.055086960943871825,0.02507788522796071,0.06991998190067918,-0.025414826637266578,0.012606516660091374,-0.08630196387718966,0.07760806814426043,0.0030957218775591504,0.04061067452389035,-0.06209613823798255,-0.05343922871801261,0.032796075317398254,0.04845388480799214,-0.06739551430452861,0.053672245755517725,-0.05763347410982194,-0.04030108579076318,0.033851607253985234,-0.028443765767966863,-0.08232075178298964,0.06300799666611034,0.03227480281946646,-0.061784607766697516,-0.000830532057904741,-0.07578777387186764,-0.0696386623811974,-0.07939768279064907,-0.04457877206125359,0.07948138240363742,-0.06443233704356285,-0.06274317106536235,0.06031428757719425,0.03400951367962269,0.045125410569357746,-0.08420788483039801,0.06016784267560328,-0.0475085691052748,0.029705833532850102,-0.016077069602297045,0.0385652259204458,0.026303674617039852,-0.033789735834314376,0.012286327693903825,-0.052156181571385074,0.05386563632553206,0.028272311037790633,-0.03473653378944306,-0.012770820382177443,0.08475224603978279,-0.04537885194976091,-0.04004471533250475,0.02625885017652853,-0.04625589591631616,0.07220192209695744,0.07095968367036097,0.011578732869514422,0.006973849180927557,0.05012866895071761,0.07884535948125367,-0.0782624585494284,-0.04769449215594575,0.022532100520053774,0.06733652102945845,-0.05766413053792918,-0.0435858929616707,-0.03264700786076204,-0.030138421866714223,0.06605293847535768,-0.08481664755554777,-0.07440668534344344,-0.029347198928452455,0.010790717871580435,-0.021810653395134133,-0.060690986886754325,-0.05977133318203592,0.009257549564875246,0.08345629063708616,-0.029842951347475274,0.011400401059032417,0.08338199743783219,0.025272564015845433,0.0293848940437115,0.0575877379763447,-0.044416394112847174,-0.07866321980973243,0.011989075911445268,0.03125404940303825,0.04844379063631599,-0.010587421831748718,0.06318505078595964,-0.08370216924091968,-0.013481115667330276,-0.08614925391744628,-0.025059353280408824,-0.06802444862596216,-0.005998925957042999,0.03529045066550074,0.04230299031462176,0.022439281388699946,0.009516783267113022,0.028002714424405946,0.0570578398546027,0.08098711801599502,-0.05500002889075646,-0.012504485252559226,0.027275615655724374,0.006781350420826905,-0.0032659085273094553,0.024355982557778946,0.005539320599469229,0.06950094919663091,-0.06962360994453065,0.020879674323495034,-0.07061616606729106,-0.08477351041614965,-0.08425425233296989,-0.03511603028557954,0.0016793803211429112,-0.05355416158733629,-0.05510547330438258,-0.043708124959397736,0.0495607577626014,0.04882938001767428,0.04834227985665881,-0.05176482189234618,-0.018822342863743326,0.08427648790082931,0.0287127647905111,-0.023714441746580897,0.03264691228241968,0.050024489255057765,0.042841734885754504,0.025135839567086368,-0.04723905034912093,-0.07192173264023287,-0.01795352335112243,0.023989076600189,-0.02919746064794287,-0.01580594611610539,0.07286348740860525,-0.05802588821261269,0.030300496826514502,-0.0187436941521225,0.025364458957323595,-0.07006244303549747,-0.05473895828496271,0.05998846636620474,0.02016692622940392,0.07403699500671639,0.04954384746346752,-0.04437219426885687,0.07164424354954553,-0.08180271408991194,-0.019871739342000146,0.0737144255462484,-0.05795619939633813,0.06324840036669145,-0.0678602589832761,-0.07799023277427128,0.020069178210465874,0.04905300415187382,-0.04392595801816659,-0.04674900780384632,0.030958395257360244,-0.008908530135113637,-0.06118480684857097,0.03679221857589546,-0.03686573591827184,0.06725467388871206,0.04995026608420245,0.05525592025367794,0.08364935841541643,0.025468874329171904,0.03738992270761917,0.07130135998852305,-0.0752468537978296,-0.02138498654221899,0.038875670466751416,0.005803506761502502,-0.01659467531098045,0.07448388614461,-0.061802077944971306,-0.0658147841904571,0.08366367822873108,0.022385184780610853,0.04541082624422794,-0.04536881403391661,0.057707804116760075,0.04988127923397013,0.05254997494130271,0.01591017704785272,-0.01758199326990099,0.047702094875947364,-0.08229520616884219,0.07950164017471606,-0.015041210457157566,-0.018832859239219246,0.07039385743292172,-0.008015730503855597,-0.06797229861091185,0.037019638512471136,-0.07573179429236668,-0.01409353049612404,-0.018004357685136002,0.06728221817615905,-0.018389203953237652,-0.04217598332182055,0.08528393181734176,0.007765209266872033,-0.014730499564555364,-0.015928223001752718,0.00867649160427327,0.03633411037048937,0.054626754264247186,-0.03813557464472486,-0.05374168051551026,0.07624141380765835,0.035375052145820866,-0.07530061610166942,0.03361745377494609,0.013306725185535592,-0.028142465263004346,-0.01811143981092832,0.00018696916098723246,0.07035919734504191,0.04588986541239963,-0.05464743632264507,0.020274577052270423,-0.06642642565392046,-0.0760295708766789,-0.05032859532168403,-0.06796051150783679,0.033165946383589405,0.025127740898951215,-0.05101716895989438,0.012873648848242393,-0.08288442042044497,-0.021265132600145766,0.02514267670962206,0.07339772237331327,0.03788154861642274,-0.06304040711993336,0.006691113974258505,0.07699610174789329,-0.06321758173802527,0.0691053575284351,-0.07096051999811756,-0.02131033085630405,0.029103673712857738,0.08435113269466803,-0.042817075824409134,-0.07433833271443771,-0.0007370791967593696,0.01766344131478325,0.07244348615445778,0.019941078614869785,0.028083655381370413,-0.01303151286673588,-0.03155961257011642,-0.038649875519192196,-0.03685988142187741,0.03570717145740616]},{"id":"chunk-7db5cddc-70","content":"Read the docs to learn more about building applications with PydanticAI. Read the API Reference to understand PydanticAI's interface. Version Notice This documentation is ahead of the last release by 2 commits. You may see documentation for features not yet supported in the latest release v0.0.27 2025-02-26. Introduction Agent Framework / shim to use Pydantic with LLMs PydanticAI is a Python agent framework designed to make it less painful to build production grade applications with Generative AI. PydanticAI is a Python Agent Framework designed to make it less painful to build production grade applications with Generative AI. FastAPI revolutionized web development by offering an innovative and ergonomic design, built on the foundation of Pydantic. Similarly, virtually every agent framework and LLM library in Python uses Pydantic, yet when we began to use LLMs in Pydantic Logfire, we couldn't find anything that gave us the same feeling.","metadata":{"url":"https://ai.pydantic.dev","title":"PydanticAI","chunkIndex":70,"totalChunks":208},"embedding":[0.06995917869292044,0.024774931989859313,-0.07169014416869474,0.08543319496963964,0.00347286376150647,0.058839626831607206,0.01876919356942903,0.0368815064957099,-0.04559524245028396,-0.08128207613772478,-0.07252826319325523,0.012683412329713836,-0.03936380209844382,0.07842915703149185,-0.06237891960330028,-0.08145579009216482,-0.002537495623435369,0.03026329333575164,-0.06693213647826989,0.03584761962620388,0.052959131001679906,-0.0036659529033122927,-0.019058198496617853,-0.027634800008352046,0.08109930177529637,0.052656332566984654,0.02560527730655097,0.046402236349522084,-0.06743536196271425,-0.03664701682196451,-0.07570725577375154,0.07763542039079743,-0.0016116409846141527,0.06717359157545408,-0.08072397378892415,-0.0631151854606996,0.042688773266976884,-0.05283936349477952,0.005208964671997803,-0.05375236933750427,0.011520102239989258,-0.008403106906395612,-0.03519698289836431,-0.03845468327972363,0.07259158749106588,-0.08039952538406818,0.04390905664178127,0.06540052102017399,0.07379623961107286,0.06193831888195065,0.018234007608572626,0.06186288763174061,-0.0224098216618206,0.03603551825067729,0.06927499300569366,0.08073540481063735,0.08083284340364186,0.035174329484515286,0.08333560982140145,-0.03012220720874145,0.02359716006989315,-0.016275872669863446,0.08375353074787349,-0.0687396847350995,-0.07613095335283734,0.04306176292384558,-0.059200723823016596,-0.04652281193657235,0.04134217867959885,0.0785207636771475,0.04424029836968229,-0.03879379656313866,-0.0443873269775957,0.0586922180958621,-0.005282299704451333,0.08575587911961086,0.04312652887621882,0.0613652845449741,0.0384834302265663,0.0042026389554962375,0.02836165502932166,-0.014049674220881513,-0.08271705211572784,0.008285932404239716,-0.046729979624254986,0.02207273060429551,-0.06473189005392972,-0.01008739196096818,-0.020073333373669386,0.06467001588702426,0.008037093136507538,0.03181543188859948,-0.03605132445959729,0.0562903151939253,-0.025663755981091368,0.02094158971798686,-0.013180775438591719,0.0734673914512986,0.008002667523476645,0.0231244950964029,0.06812714786735859,-0.053824051930126196,-0.03226709029730691,0.01255191068110434,-0.0014099276777019933,0.07687064687483443,0.0500497019591656,-0.022873074847821126,-0.05843635918548914,-0.06054688589951084,-0.008210074456986856,0.024905818695589783,-0.01974311206728735,-0.050666124235249695,0.07515296763686899,0.05822455953011486,0.018681904655967287,0.042855727098962966,0.07737889523768972,0.0041928021225892155,-0.04907555586346619,0.011158029298946113,-0.05644813453174612,-0.05989699877119369,-0.07233546103370526,0.035034085804836086,0.057557826768522384,-0.06595534508187177,0.0784253741529506,0.07001960502441187,-0.07250272542420515,-0.0034643546358576237,-0.027292189648949916,-0.048763226139724294,-0.006143999281473948,-0.02292913379320473,0.00973122352435807,0.03979039378373204,0.0661832512147458,-0.07652316294015776,-0.01450739359078551,0.02532914227364134,0.07890033534403094,0.007616987686102484,-0.07293877041130407,-0.006635182417474817,-0.05863522063293369,0.0432576387035209,0.08549711530223444,-0.041868393246323264,0.006360318110850936,0.010006860060072871,-0.05868545754528807,0.029627114443960236,-0.046870610089754454,0.005860327287124134,0.06955467960990278,0.01754261543595972,-0.045092617813133305,-0.005309008025449269,-0.05739504891800136,0.07889651044931727,-0.0034395647375040778,0.011092883639825224,0.07610835123439509,-0.07889430352484943,-0.0253462302598291,0.07983236237398195,0.07969116100395927,-0.0745943006639202,-0.08179324565639101,0.0750350934094755,0.0401051001977444,-0.04594016925747893,-0.06612464011782594,-0.017831290758347468,0.0593652488105178,-0.06755491112162902,0.001964503282757875,0.06585278040850744,0.02982090164932385,0.010498809776582277,-0.04418139912113354,-0.04881401407422219,-0.023147734270585203,0.05819554707559743,-0.07235157353475505,0.029733631247724424,0.0071143589237588475,0.013894214207852293,0.009858127384796803,0.058527726366024234,-0.06984422174838376,-0.03436606091254111,-0.0451399118948137,0.038912063653388056,-0.06931460944975822,-0.03204375186095928,-0.011257770836517685,0.06042120301293947,-0.036067534904033256,-0.05388360540537401,0.037190271584061234,-0.055143286457270374,0.06527927312042854,-0.01488353891225882,-0.07850541553711993,-0.06005170392347232,0.08341264640143738,-0.03199299518040356,-0.04536927970554666,0.06904958172662966,-0.03830002872881275,0.005400050612250099,0.02580311407726393,-0.079325120539165,0.008446576803256929,0.009942349759616491,-0.05310916839984535,-0.05226526558145011,0.07601340615587991,0.01656674150600043,0.03279226324637392,-0.05443518619769893,0.0153512427957048,-0.033358096711072587,-0.0050189896030988475,-0.059041710066689894,-0.03601963994213287,-0.006280929428011786,0.061915151574047325,0.08514545999777155,-0.031665137546415326,0.01732020640676285,0.006307645850913833,0.05473768413301687,0.040343604283836994,-0.07955622253414847,0.07028268259290048,0.07290975064354543,-0.08286497385826191,-0.0741722038403371,-0.08231317355408564,0.007965043639700261,0.00783404183559777,-0.0846942772641109,-0.013952854159642564,0.08280656758368067,0.03490827031251721,-0.07535296912529689,0.021573880468083166,-0.030827404125817495,-0.017656482818367576,-0.016279172007523508,0.05096711506901869,0.07058997406277283,0.08545469019128378,-0.06606904950367348,0.04497876296403699,-0.005375273351631447,-0.018971419377672494,0.05617893870029244,-0.04086187370750774,0.06671945826732785,0.031237109328914325,0.039392797954664785,-0.08579469076027874,-0.04690820109208949,-0.04247936442262347,0.07900709292020675,0.018341101291334216,0.07442974133109075,-0.05020170327626007,-0.0017905179371865533,-0.0449793303209099,-0.002719287336593634,-0.011900329309314488,0.013204222551323256,-0.0639370344964817,0.028106919278469557,0.06183676141086873,-0.011459305418738169,0.010342250263918997,-0.051274872376643375,0.08040959251506556,0.07446083891833927,0.07613025498596576,0.01274488497344517,0.02868913787047693,-0.06693800564402005,-0.017359409523467838,0.06527518530159705,0.01676454062531186,0.06066325813355472,-0.05083123778477775,-0.06747891341029777,-0.045218474301772164,-0.02765182537737155,-0.08618047687915006,0.07489055463134059,-0.07150724500624316,0.05964547737818339,-0.014817857164279262,-0.04155241360098171,-0.04473351690571243,0.08362480927966208,-0.03668002787437421,-0.0044066718390017605,-0.06630553993196155,0.009019920202796463,-0.008916294885086457,0.08043561249767561,0.01998952027240066,0.0013656287347227844,0.033076935787389045,0.016007986566956633,-0.0629341826670635,0.06545244929034548,-0.05772112160579693,-0.06549054543988712,0.0715350060244362,0.011110054538442802,-0.0232730207595073,-0.025300079340778957,-0.014825937099464061,-0.008758038096812117,-0.049900740607320665,0.020316285759272412,0.08296248067264497,0.06772331163151346,-0.061804521241550905,0.0667094392591918,0.026491217574413837,0.007429434781337404,0.03566976810461016,0.06601313426505556,0.003614361682104272,0.039203343877727385,0.04638952377506704,0.008666642306001856,0.010189760551256786,-0.06216353453181698,0.05517376989806396,0.07238747368600457,0.0028602260353841075,0.04176726681906319,0.028280881725221616,-0.009237841298992577,-0.07158693957692436,0.08308703646359346,-0.0477503242912552,0.08057217042778379,-0.03549144073314678,-0.06654660901448647,-0.08143954223923706,-0.025282317927106123,0.021699812933690735,0.07723410709664144,0.04647732967163689,-0.0527639297959515,-0.07161986708904117,0.016711485903226325,0.014239319627867973,0.0653559634424114,0.051514776249255205,0.020600860662919808,-0.039029103091379,0.06282192969261076,-0.026734505409135318,-0.0776121667033364,0.06477634937589842,-0.04788973628724478,-0.0680757519788206,0.07649905119797402,0.012302891183204556,-0.010494381683265844,0.0014030460432279256,-0.025851858410324426,-0.01863230773900374,-0.08618569487166322,-0.011885604656850178,0.023538152393445498,-0.03406834748940866,0.031619989445630485]},{"id":"chunk-7db5cddc-71","content":"We built PydanticAI with one simple aim: to bring that FastAPI feeling to GenAI app development. Why use PydanticAI Built by the Pydantic Team: Built by the team behind Pydantic (the validation layer of the OpenAI SDK, the Anthropic SDK, LangChain, LlamaIndex, AutoGPT, Transformers, CrewAI, Instructor and many more). Model-agnostic: Supports OpenAI, Anthropic, Gemini, Deepseek, Ollama, Groq, Cohere, and Mistral, and there is a simple interface to implement support for other models. Pydantic Logfire Integration: Seamlessly integrates with Pydantic Logfire for real-time debugging, performance monitoring, and behavior tracking of your LLM-powered applications. Type-safe: Designed to make type checking as powerful and informative as possible for you. Python-centric Design: Leverages Python's familiar control flow and agent composition to build your AI-driven projects, making it easy to apply standard Python best practices you'd use in any other (non-AI) project.","metadata":{"url":"https://ai.pydantic.dev","title":"PydanticAI","chunkIndex":71,"totalChunks":208},"embedding":[0.0766111567968011,0.029343484537290486,-0.0017787454835805998,-0.047571232236973605,-0.0627738560290386,-0.05642486579364401,0.01942906521990928,-0.06891286140829184,-0.03818346123304306,0.07519272480092647,-0.010639336568540072,0.07315342217277816,0.06650217006423123,0.0036413727754848963,-0.07204468966749558,0.016860752416934723,0.04142215310893636,0.038678876762503124,0.08369080414440652,-0.07582258232965616,-0.03993939367209846,-0.010683431273505633,0.03774977709362433,-0.06465643814741256,-0.058610430518614656,0.0015465987955501968,0.040399567161046444,0.005696745352631787,-0.049697733628221295,-0.08603083181497384,-0.01814848723794158,0.07233104689224402,-0.07086982626323776,-0.024973321239199042,-0.055915416486175804,-0.004744509737904351,-0.042730311154982666,0.08054880729855231,0.05953710984849949,0.06774754259687424,-0.05617225807814216,-0.012599766973436817,-0.010987508579129203,-0.01676846127363354,-0.03256828149469241,0.0451223407480605,-0.0459041178816814,-0.06496395807760376,0.02861492405469802,0.018436705116640615,0.004587876669662538,0.027491895124428397,-0.05301799063847195,0.042288704272853375,0.01774875519444852,-0.08577315599237462,-0.06018021705463239,-0.031692677920682574,0.06382502628054038,-0.05521311070137383,0.05191632158276372,0.0773311552789114,0.06020524448633747,0.056141329637304074,-0.004228825316991842,0.03153313579243506,0.07982015573188664,0.029852034584963324,-0.028541963987460502,0.06599163748209148,0.027819320546795687,-0.017149592344210984,-0.05745717765659312,0.07227934749079187,0.08028316595051269,-0.07305111227856971,-0.002639348911523519,0.0854933911450583,-0.06431087158097654,-0.06691633250009672,0.00973543632837672,0.08077215332340486,-0.030498241738609048,0.042806574575006945,0.07557767139475147,-0.055190693474301715,-0.08619894918613208,-0.032419920780494785,-0.00643141014170326,0.011660510699447601,-0.06430586944103883,-0.005318934349548052,-0.03672221237923038,-0.008381985309695228,0.0365964453145821,-0.041042858818749285,-0.0647803484278243,0.019021079288885127,0.025664446110352287,0.02688045367811458,0.0853605560603011,-0.04444131408226826,-0.0064024708567425115,0.0141972549571789,0.048523652356935836,-0.08222701988659753,-0.004957690067025443,0.010126414924400928,-0.06353889757530203,0.018239232029196608,-0.01560329489050475,0.00348114946592268,-0.019415822450119215,0.056156061955478745,-0.002366531310951089,0.05698002999857958,0.05718165320492178,0.0516280639304499,0.00764619855297012,-0.05179974981541299,0.08557218412886858,-0.07989135223179522,-0.003994495376650591,0.020670660488456758,-0.07283690502820116,-0.056063180214338766,0.0667412160924793,0.04004847333869548,0.071837062295985,0.07868301060483926,-0.06338768209760569,0.012197334175336185,-0.013190595692212164,-0.0758976205653831,-0.06654823262428335,-0.04664529889949369,-0.08261264861632815,0.045064862413664364,-0.05054265599416469,0.06818456969588434,-0.0825502376036064,-0.0020642138298766584,0.014132543594685952,0.0746165282888682,-0.006237545605609506,-0.03427613375365318,0.054460127507047,0.04372744812830508,0.02956910707146301,0.08461789654599298,0.06999761301620602,-0.038349578511679284,-0.05137701734785427,-0.060076907944555814,-0.08023242721689657,0.03368893887841539,-0.021664866628219363,-0.022550266246478354,-0.053879206363230354,0.046124986466927066,-0.057310432358000214,0.026984439013314047,-0.054423638042944554,-0.029043837066554657,0.020126173944753342,-0.012137772145098912,-0.055679025729890946,0.08524315071343529,0.06253163740158862,0.02390386907226235,0.0077878457564865755,0.052391222426201894,-0.0766385056313733,0.04105460037054162,0.06354880457014687,-0.045944346317657585,-0.0486804999204314,-0.05002331943831839,-0.06220050396684109,-0.02175321311015864,0.06727234117647309,0.01569276354116063,-0.07789252077090267,0.007593634039119565,0.05707005279267731,-0.028313787082249922,-0.01565384702195574,0.06607095496218338,0.018223550260237257,-0.0010381191483104229,0.06591618350856351,0.024609232192727485,-0.006455272434190098,0.06741583736454276,-0.050765941653204374,0.08606966516735724,0.026089275710519638,-0.040377073569564444,0.054373459279485926,-0.04698129038753373,-0.025718392456932884,0.007671493036329762,0.041934156615650385,-0.05917318482470885,-0.06221835581527809,0.0009514496599392797,0.07576016378643834,0.0025086466311203246,-0.027724897736497882,-0.06497714637042505,-0.05492883536535772,-0.04580276461608779,0.07879554433099024,-0.015651974932253863,-0.03340451608120787,0.07263993744537121,-0.033988897018322126,0.0017080096008390134,-0.04421660315818082,-0.024835278897574635,0.06364061482915152,0.08413886524452638,-0.06083404522496345,0.06415901419984735,0.07182760408001065,0.08550238554537411,-0.03917271412344954,-0.05297046816150888,-0.00015988693022232414,-0.06696449848627982,-0.06233369638943781,0.009951326308191346,-0.005737320056637343,0.05526231351444065,0.01990600595157002,-0.051856316106129334,-0.06088989155191707,0.045946876673706186,-0.013013853759286084,0.0409893465497349,-0.009965758011194288,0.06787069789825528,0.03922010219703955,-0.06078415051100429,-0.02200513037808811,-0.02058128999123691,-0.06401668345501825,0.07666178148124178,0.03624162476661264,-0.023705288429118183,0.06234320099537687,0.05003882966328028,-0.05942586561188211,-0.0746222992326935,-0.009746192653369148,-0.027312751991048122,-0.015940112208196983,0.006462129768307888,-0.055579401221941147,-0.07904047827022587,0.018105466475005133,-0.041939685198907235,-0.035265003564534575,0.08497978488752568,-0.017428768078533607,-0.0237568846793601,-0.07201928387645742,0.03350655583567936,-0.06483913522459182,-0.0810714154337027,0.07176835816306253,0.05617524893639808,0.08159148379462391,0.04738841492292087,0.04815112143230783,-0.08496578838481403,-0.07016468215230699,-0.03808428182156672,0.08080937607495592,-0.021766481474383256,0.03762241624971941,0.027570962239887038,0.01984990366461378,0.0014403105734248436,0.006564712313360151,0.08269508850706482,0.0430571039646829,-0.002362604468648701,-0.0009562448105327104,0.0702040746002835,-0.03085661302837497,-0.07346334390199451,0.059453461888236414,-0.04405838746936143,-0.08542472927304565,-0.05191490140049876,-0.07658882891816807,-0.04988325826772626,0.07196084525796029,-0.03155186599646031,-0.040951807952473586,-0.0736935671097204,-0.05764850459235472,-0.0650046478589687,0.07054487025413066,0.08022174284343957,-0.07564066593508616,-0.05213090362842126,0.05687256517378924,-0.03407840538673114,0.06720688518212423,0.05390844773624319,0.006591438254016109,0.04307422290989301,-0.08410767636952128,-0.013036345822065304,-0.052006245189906375,-0.03732482649115331,-0.02756304642347228,-0.03730799447850124,0.005331083386994379,0.06363207169939486,0.06785930427653342,-0.06620300383991196,-0.05698163953823666,0.01975520810642039,0.05689842080691305,-0.030240133704199285,0.06913330344085764,-0.005316343326959465,0.06226072004216684,-0.038749644833972856,0.04699166714234076,-0.060193960629547454,-0.03545104638458067,-0.0014827163207230553,0.0014624241981390142,-0.0570196049856882,-0.013192528413540494,0.04865927959447792,-0.08099264622789157,0.00036510578497128096,0.009851311595374298,-0.0580862358282884,0.012040667566839818,-0.07507570365591852,-0.03869202530050017,-0.06530199214605284,-0.05824603970870842,0.020878032767884757,0.013794932532643233,-0.08171145005048898,-0.05496939406091984,0.047608555091665776,0.0022257012236888665,-0.051929268525155295,-0.05452869980646784,-0.05011840255567855,0.016676149999189076,0.08128563572188298,-0.06520573655720094,0.01706084570310867,0.05744503068775402,-0.01069864045301592,0.055982480502443366,0.014833689606597438,-0.02726659114400099,-0.021111001874260165,-0.00047829812636895463,0.030071554530873422,-0.06538019046397003,-0.051879346484908134,-0.0014595301031720745,-0.03301421312277848,-0.07916500546115882,0.008218780966466898,-0.041136020408903295,-0.06202550285354098,-0.08228617047610516,-0.0619940229123332,0.02897696260299885,-0.05934081161270871,-0.056688302857636874,0.013537265880456192]},{"id":"chunk-7db5cddc-72","content":"Structured Responses: Harnesses the power of Pydantic to validate and structure model outputs, ensuring responses are consistent across runs. Dependency Injection System: Offers an optional dependency injection system to provide data and services to your agent's system prompts, tools and result validators. This is useful for testing and eval-driven iterative development. Streamed Responses: Provides the ability to stream LLM outputs continuously, with immediate validation, ensuring rapid and accurate results. Graph Support: Pydantic Graph provides a powerful way to define graphs using typing hints, this is useful in complex applications where standard control flow can degrade to spaghetti code. In Beta PydanticAI is in early beta, the API is still subject to change and there's a lot more to do. Feedback is very welcome! Hello World Example Here's a minimal example of PydanticAI: hello_world.pyfrom pydantic_ai import Agent agent = Agent( # (1)!","metadata":{"url":"https://ai.pydantic.dev","title":"PydanticAI","chunkIndex":72,"totalChunks":208},"embedding":[-0.009553868619240107,0.05798520954967318,0.06697626879876299,0.0034799164591508636,0.058421086645615024,-0.07034832042097323,-0.05080022186124155,0.06968504354070171,0.06653299993609074,-0.08269437322156793,-0.030807616839943788,0.03964405498469702,-0.05157969042208596,0.06965621340856837,0.02920007459816432,-0.04466244402081827,0.0831728025397266,0.006671182340023357,0.039703948382297814,-0.016580940712272313,-0.05086220252648599,-0.04576896913923724,0.006307982582002487,0.06423403132136457,0.018700779745940838,-0.017281494810800074,0.0023188535901829755,-0.003414398657990245,0.07810017030870645,0.07508675752104033,0.037788371082768744,0.011712017565463572,-0.06848169142877733,-0.05669738578950699,0.05626812561335317,-0.055240305625505595,-0.03200445284760034,0.021226040389762103,-0.01582710548214947,-0.07221885920318775,-0.062339979644063376,0.08291488753182076,-0.04097179177049581,-0.005114654367012742,0.046375582234540066,0.04058465939884318,0.06413504986586134,-0.027552904646746163,0.058537924165648056,-0.07256699491195676,-0.035339111274573724,-0.008100037636925777,-0.010731194255498554,-0.024213757660407238,-0.040127007532814486,-0.04003305405798139,0.037680018608071644,0.07761243925848701,-0.03776826059579685,0.05688421418143376,0.0801393155848782,0.05547379442914241,0.04797505945643049,0.06294954085645853,0.031943536697165424,0.07458575553703521,0.021888816403332317,-0.033293900694047286,0.023116177481607592,-0.03950815901038656,-0.07061844766330624,-0.040320207290762626,-0.07670760578554314,0.06880535142574958,0.021055243577646578,-0.050582210548535726,0.017020174158539625,0.0817287905294333,-0.059383384767755655,0.03311817083250758,0.009238602334479864,-0.02085130450381923,0.06350063621268068,0.04445449228464999,0.004521064933619707,-0.0809034037264576,0.07717426116223478,0.006078831641920275,-0.041699280101943105,0.0844221920473896,0.060501747993172775,0.04920929531639849,0.03342928814989363,0.0011310973093236658,-0.08250555128026404,0.08291288019152473,-0.06762833198430956,0.04367278689111703,-0.03226168546383,-0.0694646937570045,0.00785530791252176,0.0628352154783712,-0.05129956504673137,0.04163191254607851,-0.07515701777908321,-0.058574242053204585,0.07361337354000146,-0.02937415352011508,0.054177011203684386,-0.06582575611062619,0.013533428712122474,-0.024728701613773944,0.023611170100613935,-0.002175329809244142,0.053532433316115874,0.02141353135303306,0.004071010774280359,0.0622649475631368,-0.0205735999462482,0.044063005398291846,-0.08385234038230441,0.004319861475842444,-0.052003892914625975,-0.02571363648277823,-0.0069394538583062776,0.049599795594416934,-0.045317497780345904,-0.012210548802297811,0.05852387930186876,-0.07158412578339568,0.08288141433858104,-0.06639669434947842,0.06214066943675783,0.02475934481617056,0.06550103214078007,0.06891125507838629,-0.020889974122378786,-0.0284832215874653,-0.028518361096672558,0.005685705251840905,0.07479929802935632,-0.04186408855154803,-0.008651603167468082,-0.05726656682476788,0.0209649942876356,0.02543565356300146,-0.003403555611352151,-0.08189612360873873,-0.041718179417693846,-0.0028998004178860727,-0.06227578438714306,0.04369943984562642,0.022113606970612393,0.05197140498685196,-0.0149755018629769,0.08470939650101789,0.01076207213471654,-0.08013508546811168,0.03905402700083393,0.021248728703408493,-0.013297966897772314,0.05264586050760864,0.07369982997672336,-0.05113453672101586,-0.02979883069458809,0.05950307644032047,-0.08365842196561808,-0.0620412194928787,0.08131619789201275,0.0542030249560402,-0.0036406273066598304,-0.06506651359012677,-0.06123988436250276,-0.05657017840004232,-0.030187714613529645,-0.061946537196357856,0.014411244889108814,0.03677463551476853,-0.08133416638003188,0.03644490655441512,0.06133345022458119,-0.0008819287030656271,-0.049246403579017585,-0.06699335308990022,-0.08400270668354595,0.065901723458332,0.029098631830192925,-0.012120662307367126,0.069231887856637,-0.0343083246895491,-0.05589175118147761,0.03452884690021507,0.011621124858334128,0.045296720614065304,-0.028869372392852147,-0.05997321625366054,-0.057847793752872675,-0.07240972402328139,-0.06000870177379996,-0.05011599549174667,-0.024850620077119495,0.06157020405893946,0.06004588548921966,-0.0314442735316732,0.046989608254149245,0.036969648785698826,-0.045036163646647885,-0.003288175929149449,0.010978420543134693,-0.08378551608533713,0.023271821651411558,-0.07622587575215432,-0.07389268813574716,-0.01545502393291877,0.017670829357681623,0.06313935366494874,-0.006063501974323047,-0.03357693445729413,0.07128505820515,0.01016409900617722,-0.01855066288123718,-0.04399422457407671,-0.030809477204661883,-0.04344119054784882,-0.06396349365445395,0.07455603613312166,0.019349418140439615,0.03782221008525451,-0.02521339464487816,0.03402638298030395,0.07922025987305638,0.057227465201355,-0.024914770695820973,0.05393695807144532,-0.030712906999015955,0.05950423875084469,-0.08413976807625863,0.07859981754923898,-0.004958019315889309,-0.002817659856142004,-0.009297785399014498,0.07994750199896182,0.051797592440361126,0.07496748180891254,0.07724975586644196,0.0784861613471615,-0.049021898726220904,0.042610360130650955,0.020829001805014208,0.012100048269452416,-0.04617687552649233,0.010936545082133963,0.04033004440081484,-0.07699154059476383,-0.06335813588452065,-0.06879556287953587,0.028897380787611268,0.0021777862433188383,0.017811589304601826,0.04009569087609273,0.06303783029873351,-0.00048198826245063477,0.04094131330494725,-0.02918698552205901,-0.04014210238623779,-0.04209590195832351,0.056593764103649066,0.0037456955003798273,-0.06143565906578302,0.018547709560257017,0.0016618645361444243,-0.016430859948133043,-0.07941868489107087,0.03911718738019404,-0.030108108876883404,-0.027917596081059898,0.07071922658087339,-0.048995333976947976,0.08037733041006333,0.001327709460452856,0.011499339974776406,-0.08039685867879973,0.0006128942218831677,0.043236034321518055,0.00451442050863241,0.008592049389825515,-0.016015584151576237,-0.05533669749901757,-0.03211715127954185,-0.03391793894905688,0.05613510289712855,0.08292392024951038,0.08376091453287325,-0.02525604497454003,0.06106748260813432,-0.01511986702408633,0.06026997339655783,-0.08116827133077896,0.0037637985545795794,-0.04044473310427166,0.04162388325241671,-0.07104534676643598,-0.003857274991153759,0.04325887226539459,-0.015008687834379947,0.04467417932533888,0.041971316396926105,-0.019308995694449486,-0.05360396459335419,0.04816571889529448,0.02038266488118189,0.012573928692241412,0.06433749734850633,-0.008423854381236776,0.06199528106128342,-0.05649239095048767,-0.06750198886776472,-0.0821146957868091,0.0387962405148237,0.06335777402478586,0.008872205133508516,-0.002549514961714864,-0.05407519274712632,0.038105526696765354,-0.04068394419316958,0.07035701481547577,-0.020943024540386462,0.0763100238922992,-0.009653988412188466,0.062481673329318484,0.07949226140056637,0.0628762076935476,-0.022562533472715283,0.05975224975349404,0.040391016312273306,-0.07098172874716382,0.07141358190069458,-0.078547542680832,-0.07232533166938536,0.08189123074092919,0.07297481036314817,0.08246576046906749,0.06218119759154588,0.007965884363406926,-0.04407589366451704,-0.07341144755775951,-0.04780813544272068,0.08029450750593277,-0.06155815895055894,-0.06620144553074565,0.06755998828713675,0.03063764397389106,-0.062019967285421966,0.06272975049899017,0.0398278954675218,-0.012646794547669628,-0.031146649265223203,-0.01577373361582137,0.02501121890777223,-0.07883596955771713,0.019796768431396394,0.01658886456289884,-0.056102442021212846,-0.017644220796738778,-0.0479478204433379,0.024329152575136768,0.08399748031851725,0.00808289610152543,-0.07041155290448578,0.013480496379340765,-0.07835042699888535,-0.07519877740773731,-0.04493057533446442,0.08086778231947482,0.0015478301120822632,0.08393465552693956,-0.07334870737242015,0.01548332567573017,0.07843143338942653,-0.06991000073785524,-0.010831857921920386,0.01851094878791785,0.054036531901515805,-0.04422746204766497]},{"id":"chunk-7db5cddc-73","content":"'google-gla:gemini-1.5-flash', system_prompt='Be concise, reply with one sentence.', # (2)! ) result = agent.run_sync('Where does \"hello world\" come from?') # (3)! print(result.data) \"\"\" The first known use of \"hello, world\" was in a 1974 textbook about the C programming language. \"\"\" We configure the agent to use Gemini 1.5's Flash model, but you can also set the model when running the agent. Register a static system prompt using a keyword argument to the agent. Run the agent synchronously, conducting a conversation with the LLM. (This example is complete, it can be run \"as is\") The exchange should be very short: PydanticAI will send the system prompt and the user query to the LLM, the model will return a text response. Not very interesting yet, but we can easily add \"tools\", dynamic system prompts, and structured responses to build more powerful agents.","metadata":{"url":"https://ai.pydantic.dev","title":"PydanticAI","chunkIndex":73,"totalChunks":208},"embedding":[0.008100435002019991,0.01697550995684778,-0.06869564927695253,-0.0033182801258794564,-0.06294265000152945,0.08870601320470885,-0.07023066308176072,0.013265080173217309,0.059984336390440054,-0.03235539929901852,0.0729848527730044,-0.01494963013677367,0.0189969148107413,0.044810699705040244,0.07383296584821247,-0.06038516254182135,-0.07671720751437389,-0.027644462884839235,-0.01858667564248173,-0.04473862465723044,-0.0008642373775124965,-0.08811926131630181,-0.05806810618065612,-0.023179330210839604,0.000951726811121287,-0.007494516176810253,0.002511944552728117,-0.026248698840878857,0.06887386632969653,-0.03972817085432257,-0.014132291806916993,-0.037360403814532574,0.05799176567933597,-0.03692961720496018,0.004103946157481939,0.019698497454535155,0.03398949441202445,0.033815474029006164,-0.07672018787035446,0.029109212159843946,-0.08997804923075098,-0.04251978266978775,0.049856232642001674,-0.0727266749254642,0.02895602329567374,-0.013716986524091581,-0.06744180572736962,-0.06902815434427292,-0.08358017172110105,0.07958027794025853,0.003127772389946109,0.02674151009808609,0.050981924834663364,0.05453594680914772,0.03427034243450153,-0.009370283717343525,0.006179277481370911,0.05004644943489519,-0.030120392074876056,-0.020805511930821204,-0.07754450802114794,0.027815394801158543,0.01064891852807841,0.06432596982271065,0.03293593383322658,0.07871575270782866,0.0783667911357053,-0.08734888978141883,0.08799639683464161,0.052517092155144524,-0.0566883425640906,-0.06846124784462503,0.034495130087888626,0.02563704910828167,0.011850516719108464,-0.01800475588574713,0.013179045005087923,-0.028421488652550835,-0.051067743727666676,-0.0730943077838695,-0.08465848133727814,0.022606676963285267,-0.003991704293183874,0.037593528076208166,0.07395964533086365,-0.021402881216360768,-0.06567905669795437,0.07138866973889517,-0.08168157010042519,-0.03664499714107998,-0.06380743564038376,0.05604599644245063,0.05570904589054209,-0.005985018797730593,0.0006980745320598564,0.063997049370947,0.005960467448517465,-0.07339543498190165,-0.0192057267656301,-0.030132275159879023,-0.04957792642426108,0.04984112049122503,-0.05315900673186592,-0.040469209432022354,-0.0419473611968568,-0.04333363081385742,0.01876719370243398,-0.08553567625462191,0.04788746870615316,-0.016109562010124333,-0.019864478892617422,0.023300085388738453,-0.003929636814957674,-0.07432857622606648,0.08637589621846593,-0.03872763795603232,0.07157332195667516,0.06703624197061908,0.07798159210946864,0.03946476720499955,-0.01597763612922812,0.0027455846630160437,-0.06817355867896413,0.019327650866888833,0.08165631325165905,0.07564209127916477,0.03455442582361237,-0.011249144780603645,0.0726288905230663,0.07442726336128086,0.020934747012504983,-0.06195474660639715,0.04575810699953961,-0.05430205051430028,-0.06734185816348241,0.0013630109806159602,-0.0066976114427344064,0.022374599595906857,-0.06888016552600651,-0.055996796595977824,-0.08336375009013282,-0.06271464420182521,-0.0891884629369804,-0.06984062524287812,0.042819285635567174,0.04732066954710021,-0.0016411116855778668,0.05198487755237879,0.025629993764389764,-0.054539486133231375,0.01582529560616865,0.055423484693084966,0.040064107678993474,-0.01979585833391296,0.0031643905654899183,-0.051368349066280385,-0.08389156012786081,-0.017546639310088832,0.06780748735978964,0.05390614228001819,-0.009842998807477285,0.08422909631774729,0.011237041920940617,-0.037063662109312986,-0.02782094275235163,0.04911652834161171,-0.056926821446530725,-0.06879246511543728,-0.004712597068619803,0.021550126259946924,0.043282372047865496,0.058668726067138084,0.07732823931047447,0.05801302198914141,-0.0490099082363201,0.08124752753921011,0.055282759948721505,-0.06935383030684601,-0.08764898027510434,-0.05943162745539583,-0.08817240384140712,-0.007614075123058665,-0.015702156493822752,0.02962689656834379,-0.04401640141493808,0.07736779821116868,0.004110527715786056,0.0603770773113361,-0.06965501017355331,0.04544127557787578,-0.06341979981266688,0.0652239286879922,-0.06045402693939943,-0.0004562252764194329,0.011883836031894633,-0.051344427060169555,0.005376225228852195,0.057711997917261774,-0.040561268617035746,0.05411290969916286,0.03909852596672053,0.049159927447703776,0.06760604991671684,0.018959732305837706,-0.036895652848105635,0.07715338980099977,0.0014071006034095258,-0.05705789600345635,-0.020869468821904418,-0.07823999124168982,-0.026992905574663485,0.022390056450080225,0.025513462472138555,0.051651580214414586,0.026395145231849913,0.06056813522055942,0.07799652914583832,-0.07609656436490375,-0.08998436558358551,-0.033120006838833795,-0.04651780502441963,-0.0846373398500916,0.046973538696435405,0.0474231485079236,-0.005911112584391801,-0.0867913056648178,-0.012674062735178815,-0.04187435568388186,-0.06583596957233506,-0.025001163673006383,0.0779401553773895,0.005437017766221707,-0.014644900184295106,0.04698841344441136,-0.0637675104552001,-0.010702225955424258,0.05839429386378851,-0.056945685407094056,0.017003740017489225,-0.037747866574199374,-0.06042788850744184,0.02508587029934055,0.02379411552292031,-0.020049456771712475,0.01200511035632671,-0.04802863042803018,0.08423711805589208,0.028594735740245916,-0.017987654411997473,0.045925008635683925,0.05702000958221454,-0.011418163678602829,0.006181798527247525,-0.024297890401728958,0.012013793560249288,-0.07254022810512267,-0.002326346330369239,-0.005474784873502461,-0.012066719637325996,-0.01112128434445482,0.06457386074606582,0.02951374932900448,0.08370145629099762,-0.03235983632915546,-0.07183157172981172,0.07819781271083562,-0.03589399019256889,-0.04826710631104647,0.06035085505286769,-0.024567279709883164,-0.05144217552771954,-0.08934765793868432,0.023960213796927723,-0.016167302580093964,-0.05027406518744237,-0.045556281623726644,0.03607956520953629,0.0545759809742221,-0.009447428954124166,-0.004357987693330108,0.015500485592832002,-0.03700573173500476,0.04124309292622574,-0.07992015521083896,0.019597130459275677,0.05369095361145713,0.00848709587332437,-0.08940532357262375,0.025913192847413922,0.06102226861208545,-0.06536737807118673,0.0735441249704364,0.03857724779355117,-0.009162088713645569,0.005339344655968852,-0.07247992307371125,0.05446107001461802,0.02178178694369456,0.05053287173426727,0.006604534024296266,-0.08140317024810981,0.04143594582754641,-0.06822642967176108,0.019240484377184234,0.02700475069063401,0.006980118526210669,-0.06753359761464024,-0.0878271694909948,-0.014341988210404085,0.05325905376522127,0.016714536049072675,0.008854774549332832,-0.06894639107500491,0.007001519602070615,0.057604469028320296,0.06818185205609481,0.03534735263601122,-0.08647104881049797,-0.018856156007919785,-0.08474369241954383,-0.0893071557445671,0.07064547981007917,-0.08871136718491342,0.07436546866501986,-0.011572088991919948,0.06515449631010178,-0.0867038373649453,0.008568011006411653,0.05952162541439595,-0.04784239771312099,0.0886285105170008,0.03066443114600716,0.09059393271054288,0.02089443670679357,-0.020377273242850377,-0.0368848547219761,-0.056760652931870964,-0.08763596365572017,0.03643479154265583,-0.049943210974168394,-0.05643842512867791,0.052084617794051824,0.079060911941226,0.0761115038133936,-0.023400604664465703,0.02090043215892625,0.042985676778335404,-0.03556784306223395,-0.044758717363737946,0.03266600293497237,0.0050349313766366545,-0.008143942593129588,-0.049229946240994374,0.01855879451876141,0.013649287214348505,0.030195094742167906,-0.02911431008216598,0.01728287613632761,-0.040099799506373934,0.06743764605886753,-0.04043062010307478,-0.06345554633827571,-0.010026304785343953,0.07720170865016215,-0.018615606066330916,-0.0838925754943942,0.05413370002572568,0.03425329453942296,-0.02645234779413788,0.07411277032207485,0.005921552509140055,0.051275668952699444,0.054615829018157,0.07317359683263054,0.07675413730258271,-0.019126573201278297,0.03450158656748076,0.020119410155312534,0.03578946902517534,0.050623543371744996,0.05061685217360929,-0.007489019588513283,-0.022251887392633576,0.06505107733204234]},{"id":"chunk-7db5cddc-74","content":"Tools & Dependency Injection Example Here is a concise example using PydanticAI to build a support agent for a bank: bank_support.pyfrom dataclasses import dataclass from pydantic import BaseModel, Field from pydantic_ai import Agent, RunContext from bank_database import DatabaseConn @dataclass class SupportDependencies: # (3)! customer_id: int db: DatabaseConn # (12)! class SupportResult(BaseModel): # (13)! support_advice: str = Field(description='Advice returned to the customer') block_card: bool = Field(description=\"Whether to block the customer's card\") risk: int = Field(description='Risk level of query', ge=0, le=10) support_agent = Agent( # (1)! 'openai:gpt-4o', # (2)! deps_type=SupportDependencies, result_type=SupportResult, # (9)! system_prompt=( # (4)! 'You are a support agent in our bank, give the ' 'customer support and judge the risk level of their query.' ), ) @support_agent.system_prompt # (5)!","metadata":{"url":"https://ai.pydantic.dev","title":"PydanticAI","chunkIndex":74,"totalChunks":208},"embedding":[-0.023096534647677615,-0.0043409384884854916,0.008917226934427362,-0.04195738808977641,-0.07465301930504023,-0.07600031257189714,-0.041518154121151514,0.03193056478982755,0.02425229382060463,-0.07587071608857601,0.08803778935690253,-0.003026615972439317,-0.01672702199980011,-0.012492103092015846,-0.04050850898690072,-0.055964761813210764,0.07323926711292132,0.08442524338076096,-0.01613022930611251,0.06945964780694713,0.06660912627862604,0.05892458076742156,-0.03751163042121933,0.007509732659529039,-0.02237451267948385,-0.01627895643274073,-0.01490120645141381,0.06641076582295588,-0.058321360420713605,-0.07010648432865567,0.05393017425638555,0.038206775028469316,0.08077556590548048,-0.007579960878664664,-0.003223652962592941,-0.07506078328900437,0.025526208440864954,-0.06149881283731934,0.03392363385209488,0.08337261535740906,-0.03173611990940122,-0.07744262809635084,0.029635421235474597,0.07532916333718431,-0.03969021280666446,0.07987559800276002,0.08044055626374995,0.032165605567018606,0.02833455913031498,-0.08247692927910874,0.029754774815249737,-0.004818109921824928,0.05087981548398277,-0.05755757617303816,0.05046927193672151,0.03158779736760765,-0.08559910775142526,0.03167133380629614,-0.04326736422476217,-0.07906298339105929,-0.005077573475851807,-0.022976486814214568,-0.000873472553455278,-0.05292775814682833,-0.018106018535049,0.030980325814020045,0.07801738972627371,-0.08197455578855405,-0.007471085691501199,-0.005992207582572124,0.0351989884772263,-0.051400622346793906,-0.04913050415090337,0.015327599075280468,0.013699705447233094,-0.04349118099803571,0.04920194496363538,-0.0677760325901467,-0.06965638132175671,-0.03454795166614191,-0.08426398395922968,-0.05364342434050436,0.01726359099126688,-0.08766973499439183,-0.06184949539816082,-0.03202070033371297,0.07454025591467332,-0.025332441800773667,-0.07757771387018589,-0.000243380601698952,-0.01857516789005027,-0.06196214600867578,0.00025000897715968517,-0.019586464665904583,-0.060799529506181685,0.03929914659599276,-0.0696414030071225,-0.08806551934549071,-0.026756604612649896,-0.06188044311852849,-0.062166085417141616,0.08410597284313963,0.0046563833770202675,-0.06991571364796124,-0.07073006846760353,0.07061821909774865,0.04211331994183683,-0.021242128587054016,-0.021063809986158775,0.0856113810869941,0.03846818400069166,-0.01100116798613107,-0.0034535559027640992,-0.005374352142804598,0.04298334708496544,-0.05696883233156705,-0.053136610037310676,0.017011288838041868,-0.06108138009782306,-0.0787742991665683,0.05958154588882641,0.004997714616664712,-0.04860569290715707,-0.003967633538127647,-0.07271393585015552,-0.08153799332611908,-0.011067288650388814,0.07527941829770185,0.06106394784094082,0.03582566518536891,0.0334037054325894,-0.03608958603324008,0.039225023489691514,-0.060112478694810026,0.07470525091320634,0.031456320803121884,0.011034946176988266,-0.07373734934281248,0.0369078459332451,-0.0067170407685129075,0.02608464518359938,0.014183319652104622,0.028533459476592336,0.06039748707511084,0.047636142375803756,-0.028628079779727915,-0.06397015174924381,-0.021544525260379935,0.051055588453583996,0.0024312706244195774,-0.07185442503132296,-0.01163180256710765,0.06632477850987384,0.054640838456715864,0.021376733129762463,0.03579195943517694,-0.019520760041690215,-0.016531053332938608,0.015375316713047354,0.05929330821577009,-0.0669031827706252,-0.0709290947075906,-0.003393408564326791,-0.0723411253991114,-0.06018257552502014,0.04372223599241054,0.06579496738776586,0.013235347887396868,0.050587305816231366,0.02470362951634266,-0.048954657070550876,0.051012111204785215,-0.008773090626517491,-0.05144838010594167,0.07439844897526231,0.03447300207918929,-0.04353467164515036,0.08495816755739109,0.01584356898694622,-0.03916479615045875,0.05370469699729662,-0.07769474626522144,-0.034084733265522776,0.03987960224451965,-0.0057715720077048255,0.07700779928886821,0.03475383265784443,0.035025030589201187,0.06120753321004387,0.05060174072079247,-0.06273674140759566,0.07290590280880643,0.004473766159187574,-0.05996565396236563,0.0030531966287537233,-0.023268685378030403,0.07592798027291528,-0.053388903875964275,0.027302464223752525,0.05046694779041735,-0.06480983353397628,-0.04139806314741724,-0.04057974974387603,-0.046671796803299075,-0.08715688956309055,-0.07770207141750891,0.00019059852462867323,-0.028737057498954072,0.048374118877386484,0.0581924516866633,-0.07433450270754721,0.013454140343833298,-0.07759091572366197,0.08148518989752304,0.08268834431604506,0.02559222794045702,-0.0868338444703864,0.05884918228028483,0.012009431185773892,0.0010526295074708132,0.027277061250974108,-0.0874527591401122,-0.009251709460438554,0.08163165761032398,-0.05564951309361536,-0.04098743552508867,0.07663795817879764,0.008365958999260448,0.021354871717055024,-0.07192708833851102,-0.01302866584582544,0.029006377428306616,-0.027107689603925494,-0.028123708493213995,0.01799706233345672,0.04336234251050194,-0.036040148020969116,0.05094190202141036,0.08236323665325718,-0.0551518025186503,0.016497106773095745,-0.053218818417645516,0.05663136992407373,0.024985169474413413,0.028409947378164838,-0.08174061572268218,0.059086492728197826,-0.011749737659484765,0.06601470850436661,-0.009455706259257898,-0.060082130647046324,0.04764707929955364,0.03665306599367988,0.05821088272885847,0.0670004038006882,-0.007079007167087028,0.0635052101934177,0.08214004210634698,0.03270719120572653,0.008336126549797223,0.011300215620780943,0.012024463278030726,0.014249770121530949,0.03204118569843959,0.07455770107285362,-0.03884731608657377,0.008458636417791513,0.04191885757792846,0.02935484515020918,0.026898466264021575,0.012442649659508935,0.08176079438220261,-0.05959617041062407,-0.07470173440707914,0.05690677993120618,0.03253635798947341,-0.04601926460254858,-0.08415337223930687,0.011098905991318568,0.07323079100321808,-0.07302218407814473,-0.027795798747982166,-0.01828781867904701,0.07069568107483502,0.07366380512039525,0.06351751281450639,-0.06722740702366778,-0.04879023287119644,0.07433012544147286,0.037650420316276675,-0.031950041980730814,-0.003280139605542318,0.041949004290356265,-0.04927568261388649,-0.017141061838168756,-0.024226886120619223,0.08661409325769263,0.053584579087814534,-0.0351691860183178,-0.05229156362929954,-0.06621925136013479,0.020129943760234078,-0.019475025265106825,0.008613013784530735,-0.06047288792484606,-0.016378931771396224,0.07225362856270139,-0.05768539927591976,-0.07862167776400167,0.06215622015380069,0.07794500583094374,0.020008535071411405,-0.05222919257544558,-0.06028081570820261,-0.05272841558280143,-0.08719366531975319,-0.062099793718289095,0.07284026270513236,0.06252669207672162,0.03580681029305908,-0.0008957534010507294,0.06332291348151321,-0.07373280711546122,-0.007818776359539384,0.06762759434185066,0.04803330160087054,0.04725820408128147,0.0020129154224246405,0.07952740803125752,-0.048512018056996724,0.009371537500223601,-0.0022885019463628514,0.06401576783542885,-0.03825413640211935,0.04731490790785671,-0.011846450784320294,0.020227188760518076,-0.026773450103010063,-0.057499188052997016,-0.07163326024275707,0.026757330369392932,0.054122046311856756,-0.021940991073716307,0.05053380924991094,0.05393458774914419,0.06585039923783755,-0.071071597363261,0.035842008955335423,0.05884506984457408,-0.027792686194678787,0.0002789924119505786,0.07725192516911408,-0.07860648257094313,0.04703396655020467,0.03130287072367481,0.01723732667796692,0.045750571905129114,0.04168942187544107,0.05523353276168248,0.03839263365375404,0.023541027941870636,0.02109079487292108,-0.001545178769177683,0.02900965369110125,-0.07376285828147253,0.06486328242123783,-0.049971956179357596,-0.01664125680028161,0.02943275928652729,-0.08462035546353361,-0.08193956146423284,-0.08287928947039935,0.04306202727958573,-0.027520871086814207,-0.06731320439895515,-0.020638569240216977,-0.01139502823546529,0.0429017270426874,-0.049214721924695524,-0.02808218767422792,0.0034602026028603535,0.05150590229992054,-0.014036808847996554,0.07831220401442496]},{"id":"chunk-7db5cddc-75","content":"async def add_customer_name(ctx: RunContext[SupportDependencies]) -> str: customer_name = await ctx.deps.db.customer_name(id=ctx.deps.customer_id) return f\"The customer's name is {customer_name!r}\" @support_agent.tool # (6)! async def customer_balance( ctx: RunContext[SupportDependencies], include_pending: bool ) -> float: \"\"\"Returns the customer's current account balance.\"\"\" # (7)! return await ctx.deps.db.customer_balance( id=ctx.deps.customer_id, include_pending=include_pending, ) ... # (11)! async def main(): deps = SupportDependencies(customer_id=123, db=DatabaseConn()) result = await support_agent.run('What is my balance?', deps=deps) # (8)! print(result.data) # (10)! \"\"\" support_advice='Hello John, your current account balance, including pending transactions, is $123.45.' block_card=False risk=1 \"\"\" result = await support_agent.run('I just lost my card!', deps=deps) print(result.data) \"\"\" support_advice=\"I'm sorry to hear that, John.","metadata":{"url":"https://ai.pydantic.dev","title":"PydanticAI","chunkIndex":75,"totalChunks":208},"embedding":[0.048797788611183085,0.05141405326594539,-0.035313309629821474,0.06718939105818302,-0.00012820970256800188,-0.02082290121422216,0.01979881714527893,0.03455560111718974,0.04360234085894931,0.0011111114188270595,0.05115203913319291,0.08638872512470418,0.03538828535088926,0.013185194260654126,0.051243732893618776,0.08061638612286988,-0.010776095185620884,-0.07609356577020317,-0.03245397178348341,0.03737595814317702,-0.051015903201831234,0.032747154161028566,-0.05770729966250183,-0.06116433756445203,0.05015530716356446,-0.016031419548440198,-0.08449671449038493,0.03844176773272269,0.07852364440492929,0.00823180085933947,0.08322960156888201,0.04998597714298374,0.0797369497465798,0.030211218534432146,0.03716187777711096,-0.08565712085832763,0.05380724562351038,-0.06330526112822546,-0.047084084578880525,0.016730544349788035,-0.06729899149686251,0.06818655046231197,-0.04626075959222867,-0.07875129174294024,-0.04026486803714167,0.08719646614626499,0.05947861007329893,0.08310085130623668,-0.004288808923248157,0.005949211779560527,0.04933030862157891,-0.07379769949949819,0.06922232300664857,0.03255709696047664,0.007885590541795273,-0.058568917346726417,-0.07041914192548879,-0.07858687820995175,-0.08632206536039361,0.0077097494131249346,0.005279979340155176,-0.012538663584690139,0.03040644071279351,0.08714552899819338,0.0035476841204435264,0.08021266319894542,0.06764420409114713,0.045965000631466676,0.059263479015217134,0.0856275800133541,-0.08567334299889215,0.06502337207249538,-0.050465797755138916,-0.015759018791112897,0.028298062032762673,-0.07172386088827007,0.040533261829052,-0.0003765063877447978,0.06422862523664022,-0.051634515527230605,0.04525993176107106,0.08615194997424067,-0.03948207055864121,0.06463955877602885,-0.03336907020630517,0.02578730268171595,0.001283493067778937,-0.03749107969981559,-0.023639495601190177,0.016277956790808106,-0.05247684932778386,0.0392696969634108,-0.0002253080516636098,-0.07534067018982918,-0.07461890735338987,0.08495793739534284,-0.021596985055487048,0.0671790069582065,-0.049474783394273504,-0.030998676333664633,-0.01842469318348713,-0.0526424236562894,0.07041418518075804,-0.04158087319029849,-0.02802833526049928,0.00254115519727742,0.07600668503094238,-0.05267931998978052,0.03294428659542029,-0.04906402926736783,0.08414288915567246,0.07824454828810885,-0.08035016932952259,0.0729425680954816,0.08651847535191323,0.025666352391162262,-0.02796757202850472,0.04167976532731038,0.08656367001470831,-0.018576808876812345,0.02011495366928148,-0.023072101936379902,-0.06716902845656213,0.036918842287261194,-0.08503785979087067,0.03527212229588669,0.02159258593538462,-0.011199141288886608,0.0185417849294128,-0.007399084739810671,0.06928658852356065,0.0024220332351197926,-0.07165512334291342,0.025062476436464486,-0.01366384784341464,-0.06955068503567156,0.002260158730386516,0.08334505462311598,0.005360023656747021,-0.009556580935882403,-0.04571234910740673,-0.07443885117370638,0.04636724702675599,-0.015020662595158019,0.0160480297404458,-0.07676627542595586,-0.00036564983980853923,-0.06724003485857775,0.05775056720116134,-0.0397737424153456,-0.07374344156287035,-0.021307061462540477,0.04657794792479114,0.0010540425607376439,-0.014639577849187417,0.025974072991867544,-0.01935620028908799,-0.04876675895321812,-0.0881938186530576,-0.07435660851163454,-0.03477787401355081,-0.005851573709478679,0.07494876515741399,0.03554284459568408,0.027901680100520944,-0.03050396711785136,-0.005101732023588071,-0.005631315782969357,0.008087482022693738,-0.03918181716932954,-0.03226505068286325,-0.025210644124871673,-0.08694537382384164,-0.038837444537827594,-0.028322278253714733,0.03831767844019843,-0.0011265588812901216,-0.05345422131268995,0.0032006319759153414,-0.07206104749833066,-0.006634048230297526,-0.053267778067221945,-0.05993290325129666,0.005761701365818648,0.0031962069769929176,-0.04180359778273458,-0.06741482960022688,-0.017948999856316074,0.03453864234071048,0.0347110158512477,0.06288352874717552,-0.06942581073834676,0.07759238086457021,0.02836197923320866,-0.06668734806491551,0.012091467886726841,0.053802279548693495,0.05646205095346955,-0.058569909427725726,0.05617144888505302,0.06165861501574124,0.07934742582184044,-0.06993515442342228,-0.053228322421956305,-0.07515822076680133,0.00860798098284779,-0.012800059323475204,-0.08308337756405089,0.0733596290804301,-0.015416028516149302,0.07211366293254554,-0.011605696639519351,-0.03686077256872518,0.03972656257498764,-0.015985306030270176,0.031413604278031214,0.004693173359684992,-0.07610390143975457,0.052512817754728984,0.06769286258198395,0.017877136666861863,-0.03292117617359581,0.001931979624455309,0.026202186815222357,-0.036706002394002964,0.03984424125386211,0.0872250170602858,-0.03603813756899243,-0.04537657933903762,-0.014662535437840596,-0.04692613613598617,-0.04698114273014919,0.03875788491341693,-0.06254768144093593,-0.08515699452161411,-0.048469748413324076,0.02307432926347709,0.021486566592478842,-0.08057092557124124,0.05514715059651109,0.06391752938563842,-0.05711260587738114,-0.05433436202531174,-0.017499141875669803,-0.01773265243841367,-0.06718190281902284,-0.02560200319884177,-0.08266353210312945,0.023165884683870396,0.07530840937361488,-0.0061099969275618385,-0.017934242568730954,-0.010693054889409342,0.029329985777645697,-0.014010558626094233,0.009916548464741347,-0.05120588124120078,-0.08096771031760581,0.07889864858211673,-0.009286960228365636,-0.058957813834462754,0.0498081121034706,-0.05086381565850029,0.08821275201133975,-0.00789459658199209,-0.08040168842132768,-0.0138148490787704,0.04286866021331352,0.07894446955968587,0.004395968480359354,-0.0787466505181991,0.051494100303450786,-0.0086883178278273,0.003764248832016702,-0.07838870370140762,0.06749598888211834,0.030587086438087756,-0.0060476445065719975,-0.08313939669111105,-0.004876764002388558,0.06237780487897056,-0.06909124456008754,0.060415833318140925,-0.061093023031075035,0.08616766729577346,0.015963768268473212,-0.008745030629170418,-0.027957746627436594,-0.08441269891185181,0.047469330752174924,0.05459260252876628,0.018855969205328345,0.07893150746309512,0.007791710004989725,-0.08765494046663429,0.057600548607282004,-0.03801442083269606,-0.06593930088519585,0.08794241781606346,0.04979227921519614,-0.042861558018660054,-0.04728987132051921,0.08424814279209,0.038030074013160976,0.07628004111993203,-0.022276175886206964,0.005716298232892179,-0.07898020558209035,-0.07156754247734168,-0.00960989607139668,-0.040546477387197404,-0.027880920225876776,-0.022847583965124114,0.012328122389353095,-0.02312517935890751,-0.0752513754372505,-0.057517301871163655,0.010093282618236924,0.005319565196479839,-0.0348582120842702,0.012077575003442845,0.03669357818917513,0.07679852739663495,0.06067501607150773,0.01021620597171659,-0.07528950542788729,0.0021810605735751165,0.024598060089465107,-0.04695412186014101,-0.07561080796653621,0.07126228602246447,0.015219539803544565,0.034897912141827754,0.07580679086598714,0.003732781866901459,0.0793133850504058,0.08741454354495622,-0.02703020926713482,-0.08658716715662267,-0.02970584341176249,0.0009834656663741076,0.05905532705906048,0.022453282282161216,-0.07787437850347002,-0.019637883211980706,-0.03516687520317654,0.008699546924195193,0.005240943290681024,0.05764560207088873,0.053130835108800685,0.03640742254361349,-0.08249916223685315,0.010546746945862726,0.012319778284288952,-0.07493220239282394,-0.015312958987023676,0.001532096231647313,0.059042333326488894,0.08219776192381631,-0.05310613621296572,-0.00939792142601457,0.0007787684548677946,0.017901455420814647,-0.007494589245990765,-0.014549965044036028,0.07490973209053338,0.049030901224517025,-0.029357142446294962,0.03460407026769334,-0.00563357615707445,-0.07911910493996385,-0.03321609259904802,0.0270581235863872,0.02345823460605866,0.0019386489607394245,-0.07419642391655688,-0.016433010730159035,0.023857155367965465,0.008271572100927266,-0.07346132915647074,0.043739590165081534,-0.0389472966064072,-0.008610337366655129,0.07715634792051666]},{"id":"chunk-7db5cddc-76","content":"We are temporarily blocking your card to prevent unauthorized transactions.\" block_card=True risk=8 \"\"\" This agent will act as first-tier support in a bank. Agents are generic in the type of dependencies they accept and the type of result they return. In this case, the support agent has type Agent[SupportDependencies, SupportResult]. Here we configure the agent to use OpenAI's GPT-4o model, you can also set the model when running the agent. The SupportDependencies dataclass is used to pass data, connections, and logic into the model that will be needed when running system prompt and tool functions. PydanticAI's system of dependency injection provides a type-safe way to customise the behavior of your agents, and can be especially useful when running unit tests and evals. Static system prompts can be registered with the system_prompt keyword argument to the agent. Dynamic system prompts can be registered with the @agent.system_prompt decorator, and can make use of dependency injection.","metadata":{"url":"https://ai.pydantic.dev","title":"PydanticAI","chunkIndex":76,"totalChunks":208},"embedding":[-0.0336099411205293,-0.0628710597418275,0.013853141482880589,-0.04539401761201458,-0.06404096126309311,-0.021058022837322245,0.017926036224670167,0.04021611919632529,-0.026826110477452876,-0.07107688448505962,-0.04000509964851646,-0.027395888651641553,0.08444923821312021,-0.025966820952821736,0.08266039708093112,-0.05795029446521905,0.037883268066198426,0.0038153842621477534,0.013266346648257162,-0.0840931789839031,-0.037424493921796004,-0.07422994097591988,0.009327815745266489,-0.00009991222058707588,0.024751262231774717,-0.026170570530091135,-0.04968105006310003,0.0715889805487338,-0.07323773450744041,0.008906019793354328,0.05329241584487254,-0.05749936788347635,0.08096591651439938,0.07225296699273515,0.011188539041485437,0.08224094939739235,0.044592495904999606,0.042646158720107595,-0.060333082835442434,-0.06148265525011888,0.03765119211468198,-0.029512932943611823,0.0032389430184149763,0.06586857332132857,-0.032889630650003256,-0.07146858668082916,0.014913960247881773,-0.048937237890337694,-0.05919036367453437,-0.011831226233565082,-0.057107627078047514,-0.003148359453872727,-0.024779024958382103,0.000626406386381859,-0.011513318929441223,0.011842754794748826,-0.07789274023177127,-0.06039246365120198,0.04527928154062003,-0.07499051410670643,-0.010021293495254588,0.0806848497483769,-0.023159009552769703,0.0764565092865406,0.06931070176777342,0.036440677422212193,-0.07037286045923255,-0.07378665819563744,0.04209618295680567,-0.08209233968238215,0.03861412963268724,0.018329132742435004,0.022706422632656174,-0.05691013286991692,-0.0593041186808054,0.06466952526766145,0.006732374493149291,-0.04864802936775028,-0.05895316423651079,-0.0387229243430228,-0.00092485496072143,-0.021972090353958453,-0.003599503478862988,-0.061324043944131434,-0.05566737159547955,-0.05567325902611697,-0.004340226801651655,-0.05787187915824584,-0.05229723402840236,0.08400078798806483,-0.01909979229877732,0.06882807534990952,-0.06398829260139188,0.08398366100347904,-0.0005831352654831551,-0.005109648878474314,0.0237468334432889,0.038638476546219054,-0.06590719956842916,0.03771919885209197,0.04653455480013929,0.03844756460197278,-0.001567158080476317,0.07358143181718364,-0.07365105823739088,0.003291561131896115,0.02193772959549986,-0.033895802648611084,-0.022404490052311807,-0.0005849050486862086,0.05041424437131136,0.041061158891048395,-0.08478287908670842,0.08754441078186229,-0.040898245699487495,0.057263984702216365,-0.008048372445085024,0.013957929082876928,-0.04496762837326147,0.039851095769455745,0.012521015367710536,0.021397428988865812,-0.05946370792874957,0.062058747278800966,-0.03809269578239537,-0.08099049932978845,0.0650068481388161,-0.08227763881769723,-0.05037620414789002,0.017494612781210218,0.010976450206016777,-0.03787630545550171,0.07489219780120517,0.04999577165618702,-0.08118030213445841,-0.034222743492962907,-0.07518259778372198,0.08459661727353507,0.001975294963976021,0.029815017639815734,-0.05222497887241624,0.05269935368542045,-0.0216851791247567,0.04664411338105208,-0.07926840301524747,-0.08781870429873735,-0.055605316959593976,0.04535574490724301,0.03048187607475035,-0.053467196285786146,-0.035917252925712205,-0.07198095387378843,0.038582128396379874,-0.0015516449128313583,0.029122752007373322,-0.005338515446381749,-0.011334191128615924,-0.05416382191023844,0.06023050795800492,0.018632204022440407,0.02001402118059015,0.050141090447067424,-0.084415782492186,0.03411083986241252,-0.08309939555530074,-0.06556051383008327,0.019243720857824703,0.03965674001860939,-0.06926849417221205,0.032163007071947095,-0.03794839408720375,0.05246450792799617,0.062228157893141844,0.02258773740739454,0.049569844003849124,-0.057949507841642794,-0.01196111143777189,0.000573616895833691,0.011608890402856347,0.0029832828843412455,0.08612524702394007,-0.01610817291295747,-0.059129982467465286,-0.07854752407376002,-0.07190238149601792,0.05255657138460522,-0.04910610826817791,0.03486819343849126,0.06252503796030386,0.08161069461957673,0.06141560919576026,0.025407007855393716,-0.04167123372947621,0.08513410917268831,-0.029656385077953804,-0.046161556520556625,0.07616630784131714,0.041584733910524516,0.05054959355272388,-0.03550861057244368,0.07944712887283324,0.010779885436677654,-0.012625786718237298,0.08442627493174333,-0.05922800503950746,0.05592547713777195,-0.006895365058370263,0.0376986164271467,0.06601085405653835,0.04592631420581553,0.010976546589544738,0.07644412191904768,0.07883277592533779,-0.0434224273405011,0.03163823965226167,-0.007547041207770712,-0.06069357790290429,-0.03207602959231879,-0.06416141567475868,0.049625394040734586,0.029808773631946166,-0.06584796372654718,-0.0851079771627963,0.014046201944751325,0.07124054169258898,-0.048570402345533156,-0.017767003942490034,0.017213632721451745,-0.030155307182938147,0.0479621144055954,0.0330476440549316,-0.001516665753676549,-0.06514518655341779,0.012807491704381025,0.0004842247725127749,0.023052646616714002,0.06896946141833629,0.0662206195354149,0.031903058082224205,0.03528994211289596,-0.08558357995306451,-0.03884478083108218,-0.05219609996279768,-0.047952087631240196,0.004450339798815589,-0.07863040666498912,-0.08649961596348653,0.08515192634127816,-0.06029821083082152,0.03544145440116176,0.006580675387310607,0.040861361100200985,-0.07291312794568772,0.00822564443341123,-0.07462089134026878,0.003045903498139299,0.051900791050923205,0.034529931709056653,-0.08525719971637247,-0.08516152410174035,-0.058668259800811945,0.03753936129111612,0.02143762975958427,-0.07495879363601424,0.015508695745328326,0.025129015389110883,-0.012353549319066388,0.008328816833029641,0.0587323947372082,-0.019170999854382774,-0.05940013909710484,-0.03857282560510813,0.07829234906104147,0.04866936258807332,0.0542298614950067,-0.06657614407683016,0.055493064544568094,0.051021463939095006,-0.05981593148085863,0.04765966907945578,0.018132796102703394,0.06417543219020817,-0.03593828241603596,-0.011615806588141793,0.08081213040161007,-0.058796065088343105,0.08135250037405481,-0.04134275010093041,-0.06792931741468716,0.01988636853236447,0.011742139984475007,0.027255128482325506,0.02644548779433018,-0.007337667570340659,-0.04933616782575846,0.03384614271577687,0.022367078482323388,0.0012911281530597325,-0.0520703609811086,0.0015756555978344669,0.02288867308506293,0.08081972663680716,-0.044306490942058054,-0.0030573750568220807,0.07722898192169468,0.06375659974170594,-0.045389353546344734,0.08744649577609123,-0.06367217670982721,-0.07935537908761389,0.0615327314226686,-0.004855906355299892,0.05119422419105469,0.0655795279520566,-0.017848430840263774,-0.07399155310003822,0.08305141795080336,0.06443003430900804,0.01955780659723398,0.01127743618949996,0.06314091952871231,0.014205162322281056,0.05926376848608945,-0.06716792898350592,-0.011138102228216892,0.07740141257928174,-0.06633008780740292,-0.01915351341024433,0.04814779612897249,-0.009943414821801468,-0.06746012002033056,-0.014525659401128776,0.030592386590697504,-0.05457605826469276,-0.07202993010592094,-0.08268958573958762,0.03480799687446286,-0.06859687880467534,-0.004328283365401485,0.006903219705648572,-0.004811412282410051,0.029422403615016152,-0.08749174355946249,0.07820455807427402,-0.011224749923034105,0.08601108524335271,-0.028494567679155255,0.06463798421252612,0.00437193807333466,0.054611442850464,0.08666731977127262,0.0010419398453816193,-0.0406595885300292,-0.028751000500819197,-0.031678740739957606,-0.016247757096548476,0.05105260346406719,0.023233478376951146,-0.07852121224634769,0.08303170041438965,-0.010314925587516576,-0.07081852812747773,-0.06599904144783394,0.051857457690945526,-0.05190086261654997,0.0720641596364493,0.009207145233756,0.03964652037023653,-0.011726714467771153,-0.07167830528210303,-0.06829852966019956,0.004690306419141378,-0.007371017800119398,-0.05968215513238297,0.037491675816501216,0.03348250316944375,-0.0592379478336489,0.040368886701510724,0.011460628292164824,-0.06217152249933198,-0.025626651358747757,0.031128993482503083,-0.039839196558231135,-0.049710904500396114]},{"id":"chunk-7db5cddc-77","content":"Dependencies are carried via the RunContext argument, which is parameterized with the deps_type from above. If the type annotation here is wrong, static type checkers will catch it. tool let you register functions which the LLM may call while responding to a user. Again, dependencies are carried via RunContext, any other arguments become the tool schema passed to the LLM. Pydantic is used to validate these arguments, and errors are passed back to the LLM so it can retry. The docstring of a tool is also passed to the LLM as the description of the tool. Parameter descriptions are extracted from the docstring and added to the parameter schema sent to the LLM. Run the agent asynchronously, conducting a conversation with the LLM until a final response is reached. Even in this fairly simple case, the agent will exchange multiple messages with the LLM as tools are called to retrieve a result.","metadata":{"url":"https://ai.pydantic.dev","title":"PydanticAI","chunkIndex":77,"totalChunks":208},"embedding":[0.022976237275850263,-0.008849928872578605,-0.08278399202459782,-0.006227862690410164,-0.06974839033601656,-0.006534311033611639,-0.0828930177604781,-0.05175844261773112,-0.014400298236472407,-0.02870979471063437,-0.00811714984330778,0.07985506245042517,-0.07064595952215291,0.023248751085444292,-0.05345646502595245,0.015509265566841877,0.038465567035051454,0.02933186384520658,-0.02238116944957968,0.08392652465192896,0.08062915498355423,-0.020528062631994734,0.012248985282226966,0.08343745974643699,0.045465096806686284,-0.07198249872172109,-0.019458606754745617,0.014436769045262147,-0.025875832652435617,0.030683637108299494,-0.0588009730274261,-0.004110182044042966,-0.07841034470898756,0.018659494300978074,0.08276167739991294,0.03549191406076568,-0.06853133721162932,-0.059253953431327784,0.06189974280914226,-0.026602155931505254,0.016061180082165106,0.06217456975220638,-0.027426808445654302,-0.06012141773549746,0.05126011016508219,0.0720302573963196,-0.047992471675879354,0.06679026294354776,0.07253757113898267,0.022023251377782962,0.029000300514073547,0.007428668658636409,0.08049764251235032,-0.021612523305569602,-0.008227908544832123,-0.05604436057975563,-0.04536533607528701,0.059549547150921124,-0.05808574453205807,0.059994358892563986,0.0540201338001547,-0.06467499937092408,0.0294084141887842,0.08398588415823491,0.047032391542892696,-0.07281406567791458,-0.038956604020522735,0.0680104361488355,-0.08538643173562951,0.022711968116637036,0.08724458411308428,0.07307451209379934,0.0727358456561238,-0.06378589520831063,-0.05121068588626828,-0.06903742310636778,-0.08187028848552838,0.03297058374196289,-0.04203530085559389,0.041543476357370074,0.08138045086724698,-0.017400313073094118,-0.03394115546140605,0.06986797919808965,0.06137067930010969,0.0031687977426654063,0.03508382098489195,0.06820452638420559,-0.048140697925521767,0.024231158021279568,0.003734156873473674,-0.021878956035112168,0.06562111924948023,0.05103934243868925,0.07257894956014535,-0.035965752053824476,-0.028548681376613934,-0.07571311937054973,-0.0036321010228816315,0.04989980670847306,0.004382521038256493,0.013553159031907094,-0.0005531887863048615,-0.06886871239031932,0.05225553832831872,0.010102063797727795,0.0628932785374993,0.02858815379567818,-0.042337768034993506,0.07394967447121131,0.03344734431664501,0.0012576341457883708,-0.05834172776274261,-0.0683676744154634,-0.0032879595415941727,-0.04290540876997793,0.06093453333731166,-0.06049776539648204,-0.017280741631333335,-0.07015257075124741,-0.08516703202848165,-0.016354065309157607,-0.017747981065789207,-0.050485757487954495,-0.009627691371644459,0.023603792986419982,0.06776708082058622,0.001238726383585243,-0.0512635452769823,-0.004808589204796511,-0.026288960563697356,-0.00251782814077994,0.08406711012855299,0.03218533956863316,0.0738101358047644,0.07153950747424834,0.07571124909532811,0.07775399898380178,0.054211291036306716,0.0032597250673358506,0.013630744924686503,-0.020716513478209384,-0.004069247405272811,0.04130813883881815,0.08265330933453206,0.0704618319626653,-0.05005459472415943,-0.022725880884204526,0.023819375535290746,0.07076251957045604,0.0794933824303961,-0.07339150427122144,-0.0037509557383497835,0.06859759323422983,0.04568076179856646,0.04990195711842438,-0.05028946990843027,0.013299019490754523,0.06938964565454087,0.02029375913954583,-0.06771310713583387,0.030918951020616956,0.0390169738465039,-0.0021185876664476366,-0.07856146231422889,0.051432425963443516,-0.024070065172210938,-0.07469022390447938,0.003265326758998639,0.06660641959306705,0.02528098216919644,-0.04964632461240477,0.027772888119380796,0.029332090010682568,-0.04410870950906504,0.07896328801502628,-0.07052962688739177,-0.07086669227268012,-0.012080880952686083,-0.01153054268331087,-0.08205292775463485,-0.0759867543999783,-0.019604865696806112,-0.04083893316489747,0.03536915286479871,-0.037591431538917995,-0.019277290579115747,-0.0869332899505478,0.01809905425576037,0.06438100854875271,-0.02479769752871732,0.019932685139739732,-0.04068741865584615,-0.06547970713148259,0.08079902829610194,-0.03744852682597039,-0.004691491820935041,0.08647108394122845,-0.010567812784964227,0.02962060842323965,-0.06238754702132997,-0.07589573059369169,-0.03656700688776125,-0.08593656064526856,0.031350723489435475,0.025302792264024446,-0.06169116849551671,-0.03501484016032706,-0.05231756953287025,0.06581062960687745,-0.06529092917861318,-0.04074540011184511,-0.061666269722463266,-0.06093973818857867,0.023581624152416183,-0.07561896523529822,-0.05431488253911734,-0.07894748566525595,-0.026402381917887883,-0.038167126879990854,0.023104523482826312,0.07491967785686691,-0.07730686034974528,0.0724640963079035,-0.06580034005119238,-0.06149094967862228,0.033315485803917654,0.01688490636733019,0.040400913233774496,0.04367044298898749,-0.05898954448792568,0.011328696906181645,-0.009353853692640671,0.00499565689583246,0.08131651917670059,0.05601264279903373,0.024852163870772506,-0.054614611048194706,0.06857036378237182,-0.0301311097819187,-0.03718155846814839,-0.04838036213545896,0.031861371307017466,-0.06827280538868526,0.07993730469948847,0.022788000048747238,0.03918276505287345,-0.0081327751971448,0.00031830350461894557,-0.08691750933914422,0.02805979706386722,0.012340541411130626,0.00329450181476027,0.031672588382002625,0.02970572106520036,0.04165501368849258,-0.03489426074589063,-0.004739146409720296,0.07213253219869517,-0.06962882884980344,0.051747847382160705,0.012428317000384877,0.018901967687505287,-0.0023126556137047496,0.02229332622445774,-0.04848784474077399,0.054592702396310915,-0.03526988804519022,-0.060283772631798,-0.05657862868554012,0.0441631157909085,0.010426396009691752,0.032300580194754555,0.04181706611141467,0.04262814180184514,-0.019842779399871273,0.004814615593004513,0.07756723550805177,-0.07686787368066411,0.08225665863201052,0.0353948055835135,-0.07919259265168281,0.04473683015642828,-0.042363675215186566,0.08221630009152442,0.01459989507214184,-0.011077447849489625,-0.07682555240524544,0.024750668138840907,-0.03404283225375837,-0.04531644267790245,0.08032164345945862,0.007936985956845017,0.035839757795450226,-0.04634392346687602,-0.02985024194240839,-0.07756438193274971,-0.046239503000441204,0.08076388533212309,-0.012757653529956762,0.07768610195505479,0.06298685838276732,0.0048767158911772555,-0.024745600203598086,-0.007172358120830561,-0.05676658002689433,0.08397767084187079,0.011615888767020967,-0.06443526737630612,-0.08140331784891,0.03322714448749994,0.00860836672207686,-0.07463784276956989,-0.0633419920761103,0.019811799861397472,-0.05069442997307102,0.014481771080677415,-0.04898282580437268,-0.07525871077838564,-0.009554643625424842,0.0652765009983536,-0.05930848977344474,0.0331548802437836,-0.08031435629172419,-0.01858080767874473,0.02947666099550857,0.01139655765375498,-0.06500950117542527,0.010157566137300162,-0.07644267892711584,0.0276062572383575,-0.004562649414665244,-0.05303058529103079,-0.06299816115495316,0.07015929294841797,0.005874833375553869,0.04727219082577524,0.03295355942198572,0.06288449668600288,0.019872679171018818,0.06593375284357107,0.01222500168108162,0.08313606643732568,-0.03814464397841049,-0.08080184336805336,-0.02982162002158045,0.0069130480002886074,0.0658388127326769,-0.057697944811737685,0.05542117322292666,-0.014457887799831332,0.004439402304169126,-0.05291157792543848,-0.01534374665696763,0.034713121205627716,0.020657835976536056,0.05762386245825363,-0.08370452934386229,-0.03274362084449998,0.01856436118908944,-0.009803903374787256,-0.0591378886112652,-0.07123166704664381,0.037678453268054475,0.0012946003736251334,-0.044785990620474156,0.06595254000713702,-0.08416103209574824,0.028928997109161823,-0.08647259938920629,-0.02918429204199288,0.08668620070561384,-0.07012797402517183,0.0287047225889856,-0.036297153787117134,-0.035484190312036534,0.021682548787631314,-0.056146406889374986,0.043532083546826666,-0.054074515209375486,-0.06429042180171446,0.07052159282748885,0.0014552640360090215,-0.008014149182653415]},{"id":"chunk-7db5cddc-78","content":"The response from the agent will, be guaranteed to be a SupportResult, if validation fails reflection will mean the agent is prompted to try again. The result will be validated with Pydantic to guarantee it is a SupportResult, since the agent is generic, it'll also be typed as a SupportResult to aid with static type checking. In a real use case, you'd add more tools and a longer system prompt to the agent to extend the context it's equipped with and support it can provide. This is a simple sketch of a database connection, used to keep the example short and readable. In reality, you'd be connecting to an external database (e.g. PostgreSQL) to get information about customers. This Pydantic model is used to constrain the structured data returned by the agent. From this simple definition, Pydantic builds the JSON Schema that tells the LLM how to return the data, and performs validation to guarantee the data is correct at the end of the run.","metadata":{"url":"https://ai.pydantic.dev","title":"PydanticAI","chunkIndex":78,"totalChunks":208},"embedding":[0.042551325735224924,0.06426946130926658,0.006399998881213015,-0.009822943813187142,0.06598814554893062,-0.08586839250180764,-0.049218673854659965,-0.08288270051665896,-0.043035419647568095,-0.06882252449487455,0.0629786584846815,-0.08394580658211796,0.030047043241907247,0.07199608700701529,-0.04564140250399759,0.07558150441488423,-0.053930113832236004,-0.06389877088534515,0.012347322876642758,-0.04055880112604134,-0.06798388606265722,0.05248181867403711,-0.025698371069850977,-0.07234160524067389,0.06220325472286875,-0.0642114298208991,-0.009309683846504806,-0.06485792883770473,0.013680313156441635,0.03722859239712707,-0.023708211462331038,0.0028601080392400375,0.04315710630990388,-0.03269241041440943,0.032897652380359216,0.07707127030622127,0.07433920774491146,-0.05519030676660794,-0.020002067348780992,0.02741462606420782,-0.005183054461948865,-0.0757971718572535,0.0631150057193655,-0.039036873862560335,0.06115517011419373,-0.03646061222842847,0.03518628228713536,0.07600714707925228,0.0778686452506614,0.06855752527717977,-0.07607029883518386,0.04963041790821923,0.0467195625718705,-0.025359897219261962,-0.014966424773108876,0.03834909218369464,0.008389639710686783,-0.016411600360693227,-0.008413157001014394,0.08573374155863604,0.05435059125664037,-0.07075132169990737,-0.03476425040868781,0.0642497257931644,0.008622645723532768,0.039567216824910934,0.023919779283917832,-0.08306281309595097,0.04483511621426222,-0.026251739287059647,0.07338333108593717,0.07594431710195397,0.06490843044439583,-0.005685746912387624,-0.027130757489717806,-0.03691006966009323,0.02487175683468765,0.06804263550758166,0.01941900801951602,-0.08163108782244685,0.019181738232899464,0.003982414895592554,-0.04932875281632843,0.022484146627411838,-0.06364637220982902,0.0755782101698465,0.024319360179300014,-0.05526072920282724,-0.05776101770357685,-0.08537280063344478,0.04352426066564388,-0.08437593899877632,0.07198941292540025,-0.025226681929348547,0.018994469882722798,0.003536577480006371,-0.03392274237216011,0.012577594573140739,-0.07300731771104194,0.05704315090744332,0.054951408616605156,0.04472335549449253,0.06664008765570517,-0.040558945159855773,0.005139432381969731,-0.05579308483531499,-0.045337731938128685,0.0005438617833070444,0.011116267731998728,-0.08499465447731074,0.04089235973834696,0.024250518861651738,0.04313860571077597,0.08290700405283512,0.0033797599583939874,-0.04723327402109015,-0.0025366209609411477,-0.04349355791706311,-0.036996532164948664,-0.07486128367402164,-0.01278093260935824,-0.06793270201185288,-0.05818386924187278,-0.04513985514252796,-0.07774577305259175,0.02289955426294527,0.07802492015554778,-0.00073229006733441,0.01827143094346536,0.05233851785390946,0.05660255569856284,0.035416003285356344,0.02617190616588813,-0.07753818961859306,0.0409685158896612,0.03131988627020287,0.044626604894834554,-0.03204330947491951,0.05722162283596836,-0.04642122236503852,0.06873169146141113,0.05237543873458478,0.06003902333350245,-0.03645476553597955,-0.010734313937784836,0.08286705500734254,0.015133383270740142,0.05008780353368604,-0.027683541324294677,-0.026102152042730083,-0.02860303030982271,-0.06227342407780569,-0.05440231551718485,0.03288196249901851,0.029371701118296057,0.07229841986197265,0.047557060018330065,0.08564027840255699,-0.04322001861791061,-0.08035937373582594,-0.009963482589970546,-0.07872077850566903,-0.06242767496708762,0.05397373702003978,-0.06860126239545167,0.08490574344748128,-0.019488583209915252,0.014396759855050744,-0.05210551835105134,-0.0071920800529188,0.015963645700875773,-0.03510000883980498,0.0774791463961083,0.029597556695899405,-0.018499765270521846,0.05121694401007685,-0.03571953848659507,-0.007883662008420911,0.037077043736523235,0.08375240178007841,-0.008098876292765058,0.038660574904590975,0.03228171251274972,0.07466321506201956,0.019232402395051484,-0.07098820991094194,0.03829149031472298,-0.07850986502640052,-0.024447501730441086,-0.07434520997268093,0.01737295704605674,0.021795325353528357,-0.042704161979996366,0.01113077705153374,0.006255383417199987,0.04536254517643944,-0.009404335629085001,0.05806580841414346,-0.006642922817041044,0.0559362646657363,0.04853189961863852,-0.023236336108877795,-0.06245973314539342,-0.01397439694667628,0.04889364533948272,0.05824261748972919,0.059703316214434615,-0.002224295492906378,0.031076906003971547,0.018361060674003737,-0.028760697222426468,-0.07533865969893912,-0.0842496142173695,0.07732243363628322,-0.06454425440578612,-0.07337284898940638,-0.049161312956000375,0.010008230424992938,-0.034982775619609954,-0.01731206271891312,-0.07505886476232068,-0.04349224669083125,0.04140825857742441,0.0780347439458338,0.08207859290525747,0.005114850762611592,-0.06202692223032645,0.024962189204904825,-0.0009271115335743754,-0.005749773532930847,0.03259778047600943,-0.0778562313070449,0.005824815946309628,-0.08221265814262103,0.08145742480846273,0.05551051797805235,-0.03867582700597625,0.048604648388268175,0.05010135397665427,-0.023717266155602535,-0.019831190081663043,-0.0000018049647692584455,-0.06330654867725637,-0.03012237332175058,0.03650562416269728,-0.0764655327159847,-0.05022969994357672,-0.010894707280527932,0.007873040327395319,0.019948426403986454,-0.02441857730065656,-0.0782664101480805,-0.05680931498890868,0.08579888495104103,-0.07805997424208293,0.030063544166888105,-0.010022541245920146,-0.07676618503363006,0.007637308818174773,0.06410332400829755,-0.007941506145612207,-0.003939531250668172,0.0007332314568981953,-0.007299985921819988,0.07668533314770166,-0.006708475764984985,0.0635179979356912,0.01913628608654802,-0.03362441555481378,0.030125590472194763,-0.05947745355408733,-0.020294211009806582,0.017492689462626672,0.08284494824630044,0.041339814593818934,-0.04329532775063043,0.07218981640567151,0.05953715327483514,0.043275253043601,-0.012490666743620487,-0.014519889790846953,0.07891034149846066,-0.07844885411436603,0.07267651329011189,-0.07920015714266469,0.04039128736905354,0.03536903073892439,-0.019005306253253716,0.0019248076261082407,-0.07894421636313374,-0.002268111054197107,-0.06161807045892733,0.0452798117211446,-0.02431633716631005,0.020543307485478796,-0.008849426186236055,0.01403899387944407,-0.048544181829405654,0.012757134809744797,-0.01435115072965734,-0.009953628613950664,0.03890135328456504,0.05921503767545359,0.040193276959254516,0.03789812592025092,-0.009919552944601805,0.08210361359237116,0.07185482829206427,0.071304283213918,-0.06433509973607937,-0.05934223127084475,0.08417984023485435,-0.01494775564670546,-0.06811700242323836,0.0339898199574434,-0.05801406229445348,0.08377325053223339,0.02943484544673312,0.06273300317804657,0.016306760866922163,-0.0054474020823626675,0.006748243154189163,0.08339847053066232,-0.001410873464743481,0.030674002282318317,-0.07776576772883005,-0.04382867298828345,-0.012297656373225415,-0.008606427442470643,0.01632887629350512,-0.0516809262598523,0.08372245050748248,-0.0647569078124705,-0.035423209973825164,0.08583763018408287,0.015673367866259804,-0.005311018063262032,-0.07772353302695978,0.012988903576855742,0.026848720893007005,0.0731907116413866,-0.03117326664065771,0.0791387552626321,-0.036810020978637,0.07994056173098976,0.07126799176114182,-0.08293592229301476,0.034762625141161775,-0.07493830088993812,-0.005770142576486647,0.03016267110313864,0.038487602002952384,0.07764272201513013,-0.03843977337513478,0.02696679087547041,-0.0667548911319583,-0.038677661880130436,0.045458183001363964,0.04026933488247459,-0.08494581683134442,0.0349362544169532,0.013138841837135758,-0.07747195339067242,-0.0802766522787523,-0.06248509974552219,-0.06767013628706664,0.037885039150200465,-0.07512904314651034,-0.07465113657850225,-0.08444441552580806,-0.027310956022929288,0.06387854994209356,0.026378548433313984,-0.06284028440148351,0.023516096493966406,-0.07223833675758277,-0.0007770609844266334,0.04949423437474337,0.046350767178571985,0.05821382162282222,0.03413868220854328,0.028694616867055135,-0.056420634653441916,0.022067412514977878]},{"id":"chunk-7db5cddc-79","content":"Complete bank_support.py example The code included here is incomplete for the sake of brevity (the definition of DatabaseConn is missing); you can find the complete bank_support.py example here. Instrumentation with Pydantic Logfire To understand the flow of the above runs, we can watch the agent in action using Pydantic Logfire. To do this, we need to set up logfire, and add the following to our code: bank_support_with_logfire.py... from bank_database import DatabaseConn import logfire logfire.configure() # (1)! logfire.instrument_asyncpg() # (2)! ... Configure logfire, this will fail if project is not set up. In our demo, DatabaseConn uses asyncpg to connect to a PostgreSQL database, so logfire.instrument_asyncpg() is used to log the database queries. That's enough to get the following view of your agent in action: See Monitoring and Performance to learn more. Next Steps To try PydanticAI yourself, follow the instructions in the examples.","metadata":{"url":"https://ai.pydantic.dev","title":"PydanticAI","chunkIndex":79,"totalChunks":208},"embedding":[0.017255923036449933,0.04838185340109174,-0.058105046929758784,0.03664247861686904,0.016527275113191034,0.01597951444348863,-0.024223035481289016,-0.02586534633342551,0.02685048383010961,-0.05781431426220649,0.0768754848114378,-0.07917473366430822,-0.017056875045847034,-0.07625459293002726,-0.0029552490997870533,-0.08103568765928669,0.05672210276140816,0.06032924612376686,-0.04781117075488919,0.038093824600971216,-0.0280716957495695,0.05187818996625666,-0.062054480098785864,-0.024987638094127386,0.058490484909134395,0.07758677011691413,0.042928062187281575,-0.004544247881817122,-0.08472685119560865,0.029987223509324427,0.01947432792428543,-0.06873963941806803,-0.07526992415340936,-0.06564600973979139,0.07892643332471318,-0.04180171491174488,0.08096078266702893,0.04381505868303034,-0.018140467672171416,-0.04239918041507216,-0.07201394425245089,-0.01040275884044226,0.018398130517462395,0.004933845891735261,0.013769102758513873,-0.036088851243562904,0.007426975622048366,-0.08248652691791118,-0.06448294802290912,0.08372191808762033,0.06682881128861046,-0.07493025943524965,0.03087585770988679,-0.005269058668485586,-0.052875327861193436,-0.07156122767187773,0.040772824786166915,-0.06755101636901975,-0.03962029483582416,0.003929211996928742,0.04451033620837329,0.070193764153135,-0.010566409777117853,0.0780566220921378,-0.04914018478666803,-0.013899883107883078,-0.04629112839880407,-0.03800151038352364,0.03432667358795876,-0.020886829320107256,0.048230531314088325,-0.0815426175350265,0.07679124896162612,-0.012492112891672973,-0.004131475744974581,-0.06483795144555778,-0.03786748342259169,-0.028695700224946004,0.0026139439271365937,0.05788393464516486,0.052431679894315894,-0.06100113856710169,0.037814043660879905,0.028794814095300967,-0.05147064433321036,-0.06897802376243634,-0.05237276269046228,-0.023856276802483187,-0.012345695167270895,0.07424599949047048,-0.011879294765574692,0.0585563557806867,0.005746625163469558,-0.001031557943192078,0.0008401369496690512,0.0596048314783168,0.07236671163046289,-0.06796123016468242,0.0012335428020679882,0.02128928504319632,-0.03496546578201224,0.07137122880376873,0.052949120809900524,-0.04672162484911513,-0.05661864954088866,-0.08121317412142907,0.08637331382803731,-0.01599233394128602,-0.059975916450399985,-0.06571845749726862,-0.011737232209579156,-0.07254693873817103,-0.07371059062361734,-0.029475886626177093,0.0755490780211575,-0.009893415467533286,0.045009867735430156,-0.06664807350813809,-0.06179705089360193,0.05898363746143806,-0.009744902490788174,-0.07987734132099573,0.055086960943871825,0.02507788522796071,0.06991998190067918,-0.025414826637266578,0.012606516660091374,-0.08630196387718966,0.07760806814426043,0.0030957218775591504,0.04061067452389035,-0.06209613823798255,-0.05343922871801261,0.032796075317398254,0.04845388480799214,-0.06739551430452861,0.053672245755517725,-0.05763347410982194,-0.04030108579076318,0.033851607253985234,-0.028443765767966863,-0.08232075178298964,0.06300799666611034,0.03227480281946646,-0.061784607766697516,-0.000830532057904741,-0.07578777387186764,-0.0696386623811974,-0.07939768279064907,-0.04457877206125359,0.07948138240363742,-0.06443233704356285,-0.06274317106536235,0.06031428757719425,0.03400951367962269,0.045125410569357746,-0.08420788483039801,0.06016784267560328,-0.0475085691052748,0.029705833532850102,-0.016077069602297045,0.0385652259204458,0.026303674617039852,-0.033789735834314376,0.012286327693903825,-0.052156181571385074,0.05386563632553206,0.028272311037790633,-0.03473653378944306,-0.012770820382177443,0.08475224603978279,-0.04537885194976091,-0.04004471533250475,0.02625885017652853,-0.04625589591631616,0.07220192209695744,0.07095968367036097,0.011578732869514422,0.006973849180927557,0.05012866895071761,0.07884535948125367,-0.0782624585494284,-0.04769449215594575,0.022532100520053774,0.06733652102945845,-0.05766413053792918,-0.0435858929616707,-0.03264700786076204,-0.030138421866714223,0.06605293847535768,-0.08481664755554777,-0.07440668534344344,-0.029347198928452455,0.010790717871580435,-0.021810653395134133,-0.060690986886754325,-0.05977133318203592,0.009257549564875246,0.08345629063708616,-0.029842951347475274,0.011400401059032417,0.08338199743783219,0.025272564015845433,0.0293848940437115,0.0575877379763447,-0.044416394112847174,-0.07866321980973243,0.011989075911445268,0.03125404940303825,0.04844379063631599,-0.010587421831748718,0.06318505078595964,-0.08370216924091968,-0.013481115667330276,-0.08614925391744628,-0.025059353280408824,-0.06802444862596216,-0.005998925957042999,0.03529045066550074,0.04230299031462176,0.022439281388699946,0.009516783267113022,0.028002714424405946,0.0570578398546027,0.08098711801599502,-0.05500002889075646,-0.012504485252559226,0.027275615655724374,0.006781350420826905,-0.0032659085273094553,0.024355982557778946,0.005539320599469229,0.06950094919663091,-0.06962360994453065,0.020879674323495034,-0.07061616606729106,-0.08477351041614965,-0.08425425233296989,-0.03511603028557954,0.0016793803211429112,-0.05355416158733629,-0.05510547330438258,-0.043708124959397736,0.0495607577626014,0.04882938001767428,0.04834227985665881,-0.05176482189234618,-0.018822342863743326,0.08427648790082931,0.0287127647905111,-0.023714441746580897,0.03264691228241968,0.050024489255057765,0.042841734885754504,0.025135839567086368,-0.04723905034912093,-0.07192173264023287,-0.01795352335112243,0.023989076600189,-0.02919746064794287,-0.01580594611610539,0.07286348740860525,-0.05802588821261269,0.030300496826514502,-0.0187436941521225,0.025364458957323595,-0.07006244303549747,-0.05473895828496271,0.05998846636620474,0.02016692622940392,0.07403699500671639,0.04954384746346752,-0.04437219426885687,0.07164424354954553,-0.08180271408991194,-0.019871739342000146,0.0737144255462484,-0.05795619939633813,0.06324840036669145,-0.0678602589832761,-0.07799023277427128,0.020069178210465874,0.04905300415187382,-0.04392595801816659,-0.04674900780384632,0.030958395257360244,-0.008908530135113637,-0.06118480684857097,0.03679221857589546,-0.03686573591827184,0.06725467388871206,0.04995026608420245,0.05525592025367794,0.08364935841541643,0.025468874329171904,0.03738992270761917,0.07130135998852305,-0.0752468537978296,-0.02138498654221899,0.038875670466751416,0.005803506761502502,-0.01659467531098045,0.07448388614461,-0.061802077944971306,-0.0658147841904571,0.08366367822873108,0.022385184780610853,0.04541082624422794,-0.04536881403391661,0.057707804116760075,0.04988127923397013,0.05254997494130271,0.01591017704785272,-0.01758199326990099,0.047702094875947364,-0.08229520616884219,0.07950164017471606,-0.015041210457157566,-0.018832859239219246,0.07039385743292172,-0.008015730503855597,-0.06797229861091185,0.037019638512471136,-0.07573179429236668,-0.01409353049612404,-0.018004357685136002,0.06728221817615905,-0.018389203953237652,-0.04217598332182055,0.08528393181734176,0.007765209266872033,-0.014730499564555364,-0.015928223001752718,0.00867649160427327,0.03633411037048937,0.054626754264247186,-0.03813557464472486,-0.05374168051551026,0.07624141380765835,0.035375052145820866,-0.07530061610166942,0.03361745377494609,0.013306725185535592,-0.028142465263004346,-0.01811143981092832,0.00018696916098723246,0.07035919734504191,0.04588986541239963,-0.05464743632264507,0.020274577052270423,-0.06642642565392046,-0.0760295708766789,-0.05032859532168403,-0.06796051150783679,0.033165946383589405,0.025127740898951215,-0.05101716895989438,0.012873648848242393,-0.08288442042044497,-0.021265132600145766,0.02514267670962206,0.07339772237331327,0.03788154861642274,-0.06304040711993336,0.006691113974258505,0.07699610174789329,-0.06321758173802527,0.0691053575284351,-0.07096051999811756,-0.02131033085630405,0.029103673712857738,0.08435113269466803,-0.042817075824409134,-0.07433833271443771,-0.0007370791967593696,0.01766344131478325,0.07244348615445778,0.019941078614869785,0.028083655381370413,-0.01303151286673588,-0.03155961257011642,-0.038649875519192196,-0.03685988142187741,0.03570717145740616]},{"id":"chunk-7db5cddc-80","content":"Read the docs to learn more about building applications with PydanticAI. Read the API Reference to understand PydanticAI's interface. Version Notice This documentation is ahead of the last release by 2 commits. You may see documentation for features not yet supported in the latest release v0.0.27 2025-02-26. Installation PydanticAI is available on PyPI as pydantic-ai so installation is as simple as: pipuv pip install pydantic-ai uv add pydantic-ai (Requires Python 3.9+) This installs the pydantic_ai package, core dependencies, and libraries required to use all the models included in PydanticAI. If you want to use a specific model, you can install the \"slim\" version of PydanticAI. Use with Pydantic Logfire PydanticAI has an excellent (but completely optional) integration with Pydantic Logfire to help you view and understand agent runs.","metadata":{"url":"https://ai.pydantic.dev","title":"PydanticAI","chunkIndex":80,"totalChunks":208},"embedding":[0.05004204843235343,-0.015456412290501534,0.07643010802513638,-0.008624894756928686,0.010101470639738175,0.054348309928335704,-0.08067350897712272,0.0601350764297007,0.0013540465718739048,0.007360231052514141,-0.083840630170404,-0.010363298413697902,-0.021727183576223184,-0.04305358102720381,-0.020786197534942367,0.06434487363519517,0.07923409548984285,-0.06736392510679254,-0.02695232565670892,0.048032481223923305,-0.011781369265280133,0.007392090926076155,0.0841133390827188,0.022327699188882943,-0.04088927072057108,0.024018099551866786,0.041221339945935416,0.0022946314447838943,0.06482384280040439,-0.07850517917456823,-0.02760229840859836,0.06421680932125365,0.020364420231587594,0.07128823398450153,-0.014284920279159032,0.020860961214100596,0.013187374078811957,0.03949558230168372,0.06631068279778737,-0.04103587334812728,0.08227100763978809,-0.05084975995168423,-0.07755239691292543,0.08079126858976557,0.07041181097541994,-0.08006607017009094,0.022013432212671144,0.02946405429024842,-0.048740979238050895,0.07873905832903172,0.042037794540405356,0.05754660653560993,-0.0657013088240341,-0.03851766351105516,0.08064494312696403,-0.029712776184990335,-0.06360953255619581,-0.03712088418669901,0.08072487108902096,-0.011612813896783274,0.003389921775353222,0.04921293969527101,0.05839460389132114,0.005358560171059204,-0.06734163499754608,0.0004978136952486908,0.005287738175221647,0.016019209911479117,-0.01861009350552019,0.022119368467687823,0.012090523976096288,0.04774400943645305,-0.06762157316914917,0.0029425183955634013,-0.06669184659532525,-0.08346519611525971,-0.046043308930519,0.05778596059816627,0.08115563181267393,-0.08148054424142935,0.08633332098066437,0.02632565279466463,0.05832192803262535,0.04201929089823527,-0.04987358411620273,-0.08520069658385065,-0.07238674549346491,-0.07688205017935874,0.03575838310383594,-0.003898226550460493,0.029485543376056862,-0.006347189540830359,0.06910705642704204,-0.034226769143915835,0.012807404137249019,0.07000239761398745,0.07731850775155517,-0.045608560366984165,0.049051032874951384,0.01870251589714133,-0.03728013630992349,-0.01128417064544539,0.0042322060261603895,-0.08477265242971178,-0.07856295077321701,-0.05866265386074849,0.0665239515314327,-0.055522658516110136,-0.0234826283485972,-0.02601546245816408,-0.020980574863131166,0.04424678694388093,-0.05344495189784791,-0.0760331191988016,-0.02206192938225976,0.05272037879061649,-0.051644870483474735,0.07019532927809428,0.03493472820804311,0.08036539737220673,0.08345478992873986,-0.027614450310396155,-0.06908538292214533,-0.031054664379152115,-0.005124287436350256,0.01491199882299474,0.05761648715407204,-0.00011179851605995291,0.06365212940145847,0.07001242415010854,0.00929389587298767,-0.03695967364760082,-0.04902301616471886,0.035558925927545226,-0.0838844769107999,0.05110549428449213,0.020348191685412503,0.07112039351459384,0.011822335975553894,-0.0774150557889432,0.07516867715815573,-0.02177948278014137,-0.005055624370423701,-0.030006124951552415,0.06582751797067332,0.03542533466383101,-0.08460690176236946,0.008947755460852372,0.0042444631213238776,-0.03803626786795085,0.006876264182323728,0.04216670868398825,-0.05893064206588305,-0.08174533522215029,0.0004865434279828233,-0.06177943340280699,0.037345647540364874,0.08186077950883809,-0.06437301551212854,0.007887626799830048,-0.0673746411696561,-0.04809956098203273,-0.06015364534439676,0.04399567064785757,0.062030087152129085,-0.02006697611860266,0.04599517735736967,-0.0019224732912107743,-0.08043622749522542,0.014321397137273853,0.06641967821851984,-0.0009142884231043534,0.06706986541254104,0.06491375709439388,-0.00006886263137926382,0.036974852729222775,-0.0060073295852623955,0.03384282810674796,0.01868687499282237,0.022765929046677773,-0.01862338348452728,0.057782474256233785,0.045975272342049726,-0.04025941735836746,-0.08110478547712703,0.025201397514453147,-0.08111536593773717,0.005711188031662559,0.08102467049390571,-0.06936988730164034,-0.020239833470646437,-0.08584377175781775,0.07649271641656509,-0.05536174563366237,0.062035999218853624,-0.04448451219333596,-0.0061960454963953734,-0.0031033053449376264,0.0650150890259054,0.048832122207946346,-0.08301472283167666,-0.01791800843850368,0.05503695596597793,0.07704792037903868,0.05153288224845152,-0.0035974551914138304,0.0033813723191217643,-0.011679604225890953,0.06221498993714154,0.07201406591420453,0.07159541445528286,0.005201380941610743,0.04125020602471779,0.03356296207246136,-0.0863859134965971,0.032828240396019094,-0.04901027099988278,0.06931706024219036,0.07845754384631119,-0.018672675324216684,-0.0037719725515466557,-0.013658988158722378,-0.018738062760127815,0.076067247076261,-0.04443067526075396,-0.06484752318825344,-0.05113759839919051,0.006218442998150279,-0.05416222473517596,-0.08550974623888044,-0.005221896499600328,-0.03886745663623835,0.016718510745954457,0.02131386363490737,0.01642986495655998,-0.03177257538392672,-0.03697151689762501,0.06938138623648923,0.06819775342821269,0.0341609552617577,-0.044279266133973594,0.02715740532570107,-0.005096565788783783,0.03441445535844625,-0.05858282639617868,-0.023340183721218342,-0.013642369357909695,0.07761382106723672,-0.04798873666818229,0.03268158582108827,0.061406129367804395,-0.07904508744182902,0.08319538046603946,0.06695665554942144,-0.0006503756527988796,-0.010228040754497276,0.021357971544001427,0.08158532224744716,-0.05255331705728198,-0.07896410093002272,0.05241315574088745,0.0800189848444068,0.07758706726161238,-0.021156242039367407,-0.03786745161859349,0.06146948642665364,-0.032576527367942636,0.03222592591072542,-0.05353800330525291,0.059011537086380905,0.07348905946540366,0.05977886293978704,-0.026252224821347737,-0.015122229294750792,0.05034666046819213,0.017969345512698912,0.054409542823968794,-0.03841727724920475,0.01757572709815289,-0.01093292929320435,0.008396000458388772,-0.0031989316259893696,0.034694149022387495,-0.06512771883604239,-0.005961200787846363,-0.0005243222255883026,-0.041045431581581325,0.07297911383353166,-0.05293735416043298,0.0711315600067836,0.07232827926165236,0.00014205700513680652,-0.026175447930903633,0.06305983113143523,-0.050157028550034136,0.02258662396414113,-0.049189128962714476,-0.043812386293787524,-0.005846022116830504,-0.04858579767287431,0.04093948933851744,-0.005903124744126183,-0.0035334149177752992,0.0030424177543697173,0.01567419681859085,-0.07919992071587076,0.0033440234597539296,0.039076566722642536,0.06918124110297855,0.08114340770205307,-0.03243008858533504,0.058951309153117255,-0.04225210878577759,-0.08071261792420006,0.08002905780453004,-0.05515979236489382,-0.006501002813476849,0.0557298689883908,-0.08651863706055793,0.011655876487131598,0.029158154083127785,-0.07509629699371506,-0.02472612222701551,-0.03217748154662992,0.03777599038103982,0.08032911368088576,-0.02918403200680949,0.006965078333588128,-0.07050911235209761,0.0774854921074708,-0.04705335393445471,-0.003670028278832909,-0.05647416882761433,-0.07545919917858446,-0.0371765972286438,0.008336482293391833,-0.06266923672916028,-0.08315272996637914,0.02419821302392623,-0.04573512139142817,0.010262876115201847,0.07741223011170742,0.04781523390990936,0.06309998917490126,-0.06521053131880404,-0.0469061739542742,0.06223228001886004,-0.07464124111876433,0.004681024009709939,-0.0648664936001089,0.03506120426013084,-0.0016184300902853015,-0.02483448284591516,0.04030943899395805,-0.02790469879385596,-0.022260443930282144,-0.00672331177873965,0.04499771632035743,-0.02511571524465264,0.00518738720801785,-0.004086489628369941,-0.0534791350238374,-0.0682270614620024,-0.04912257987858342,-0.05088714340732812,0.08457378125200371,0.05468245720827545,0.06888551987647652,0.04969393792032058,-0.019196538482946904,0.05898618150462374,0.08006188739441455,-0.07096695734913692,0.07848809526069209,-0.027188749428119205,-0.01723056763457496,-0.059586255531001726,0.06167428380293122,0.0002694419886799869,-0.0804797771966406,0.009368607421004052,-0.05695140346673817,-0.052679317601310824,0.06963723746257483]},{"id":"chunk-7db5cddc-81","content":"To use Logfire with PydanticAI, install pydantic-ai or pydantic-ai-slim with the logfire optional group: pipuv pip install 'pydantic-ai[logfire]' uv add 'pydantic-ai[logfire]' From there, follow the Logfire setup docs to configure Logfire. Running Examples We distribute the pydantic_ai_examples directory as a separate PyPI package (pydantic-ai-examples) to make examples extremely easy to customize and run. To install examples, use the examples optional group: pipuv pip install 'pydantic-ai[examples]' uv add 'pydantic-ai[examples]' To run the examples, follow instructions in the examples docs. Slim Install If you know which model you're going to use and want to avoid installing superfluous packages, you can use the pydantic-ai-slim package.","metadata":{"url":"https://ai.pydantic.dev","title":"PydanticAI","chunkIndex":81,"totalChunks":208},"embedding":[-0.015231316386552892,0.02957746374240511,-0.08202811771842942,-0.04893493129376963,0.0788416794766548,-0.0740814193724546,-0.05571610737348361,0.021655750607957956,0.07681702756980809,-0.06613479683206058,-0.024255490214304468,-0.000667201822480072,-0.02677314395036648,-0.04882436311723841,0.08712457776811917,-0.04685141821132442,0.05397704007286698,0.07124138172624868,-0.012723845119001993,0.05317737512311874,-0.0758825214540301,0.05667229550446215,0.014893875333078028,-0.08642819967699585,0.06338819583370812,-0.06781557645181274,0.0679305308809588,-0.04991474856966877,0.04162740287830212,-0.0482127944218003,-0.05162400900875829,-0.08440201055575196,0.028328335383079977,-0.06551815999897342,-0.054127561248725815,0.011223689963669263,0.018596687956069953,0.04833134833905625,0.03383754555309588,-0.07733341086176289,0.04878882599783363,0.003826148490115692,0.05940140797872326,-0.08062670123282392,0.0827270198836182,0.005805597524425948,0.06055849313018649,0.07053792123634402,-0.07793238788014159,0.08458920969122763,-0.07110629304417701,-0.05856007084172425,-0.07407832952284518,0.08408562015356899,-0.08075258697735517,0.06888762948945283,-0.045919807424113696,0.08338375942671863,-0.07149230152298636,-0.06388634619538547,-0.014115094249673197,0.038133253579149255,-0.05160958230875898,0.02038637669627949,-0.002554017022545835,0.05283310893485497,0.07451122647385293,0.03667048718107864,0.06028312504339751,0.03968141800198459,-0.04896069247719177,-0.028990111095602532,-0.03026633368694885,-0.052187441391737574,-0.05168974064158257,0.0658872062411815,0.005497930790872957,-0.00873940717127237,-0.023012884628730166,-0.0588130543357601,0.07100789479622376,-0.08326757170243085,0.061672865521521,0.04675493123484986,0.022368874464945235,0.050639576746404485,0.08068322944211546,0.025578344818734146,0.039116362688241056,-0.04094170416556479,-0.0737136129472823,-0.08618859707115276,-0.03828197551787379,0.05773118915606857,0.08576854824945314,0.029026998037646957,0.07862666861841952,-0.013177192894358628,0.022311399726242416,0.05993518658975327,0.08413747193107188,-0.0855391264942326,-0.016579526217839414,0.04319858009000673,-0.0001920588833770277,-0.002164888576734873,0.03774802519442654,-0.04220653020691127,0.057595465501114225,0.022098714495846,-0.07147969315052975,0.006938940801987305,-0.021327262690931444,0.06790703563438837,-0.011587276908959564,0.005724971942039748,0.0813179846031888,-0.04725757388117784,-0.007583191038275247,-0.06783599533559963,-0.0031134049207241165,-0.04618339342703318,0.03933359925005796,-0.0008778245946311992,0.08320599717520426,0.007307416946876626,0.004506961088171508,0.004085052071812303,0.04801884691844237,-0.04481825294665036,-0.06138804604509349,-0.021429993946956646,0.02159958189230572,0.06541767247433405,0.05033272012764283,0.016234770627641414,0.023088559640814757,0.01322222415507753,0.05458117223217935,-0.06895588793632688,0.014989993208842277,0.002770476115468986,-0.06266398756584957,-0.03324394158584205,0.002529640864749409,-0.03366514240256299,0.08084019180663214,-0.06703596979729222,-0.07388818739207317,-0.05294169481161449,0.07028503615267974,0.03400283531662918,-0.0690444285899304,-0.02644273945511772,-0.06407556162171199,-0.0006464837249484258,-0.014373423494951685,0.008269106117078324,0.003696494828818889,0.06197762664182492,0.03438940413971691,-0.03127890559799714,0.07385917469581506,0.031613399256376275,-0.000969315860524586,0.0035111256354397598,-0.032941147615355444,0.014170784064162747,0.050565382084621226,-0.04080036589633066,0.03204273869814848,-0.026401104039769096,-0.04032287984685885,0.07550478280318916,-0.017714161345232158,-0.055198251787705946,0.02236914043280707,-0.02557887103887831,-0.08547487326746092,0.035214707158265246,-0.06869700997737191,-0.05673676349081832,0.001780086630036087,-0.003424288165605838,-0.08251847674375651,-0.034129955487889024,0.018848725457226212,-0.04093556267139449,0.050688045738073784,0.05879539277113596,0.04989588367240349,-0.03372715470746473,-0.05383087457991143,0.05792467688098787,0.03647256679155709,0.06659567550936778,-0.02919865825929224,-0.0836425028228864,-0.07109296624612342,0.013146292351379946,0.0725591385103316,0.027830287535722684,-0.0037194013816385847,-0.02795399995835325,0.0136134204427343,-0.002275676694213772,0.010106876244071172,0.0035960140024423565,0.008628247241322641,-0.029301393712320642,-0.05455845220591992,-0.009105175310309438,-0.031690575748050905,-0.06174234439176622,-0.03702291967559663,-0.041172619200582274,-0.05753766163882121,0.06724907534324323,0.03391807217572441,-0.08490440567214567,0.03372181325199861,0.0380670461099399,0.05420630808141803,-0.020781453181615252,0.038029815829289305,0.015525353193861722,-0.08169667833976423,0.04815826403569125,-0.03130820477056199,0.061169014362066926,-0.0810742927518294,0.03086541058150051,0.04334157117645713,0.01178450491574925,0.07101139456466907,-0.022718912740279065,0.06564078923006558,-0.0243214468504765,-0.07325249519704181,0.048849176090276315,0.0038589125003577556,0.035278181351079435,-0.08488174531224242,0.04737758428415275,0.05523256175693353,-0.05740608339766451,-0.03427281203500552,-0.08054638351072604,0.028020039762686168,0.041558727065899574,-0.0303455847840421,0.014229235327352575,0.022540061803684664,0.03701394807734824,-0.015827788853953025,-0.06629670335476626,0.0070842552410268845,-0.06525072817739665,-0.03270827184335183,-0.03653843626759679,0.005953604908885151,-0.06292520919551757,-0.08444571479706686,0.05578954530929116,0.048061101353239134,0.08180861116325785,-0.048635937198534894,0.032199349674806144,-0.007523804455753344,0.04643556586750692,-0.029274185733744313,0.08406994286861431,0.00018525928709747541,-0.05304335782960682,-0.008231011434050365,0.00045683900440504415,-0.029191231740340943,-0.0034574851526123097,-0.026385225407963373,-0.02427592119654294,-0.061098028020801415,0.0476937822446333,0.08266005062878756,-0.025833659116223498,0.032593883125876945,-0.011563897005525285,0.07767261448124924,-0.07463603387750745,-0.07509611275424628,-0.08020426254790682,0.08734300339668255,-0.0877499306990308,0.08657322141659979,-0.0737110640415401,-0.05469332335676583,0.0541010863527424,0.03779061717448481,0.03308150516491576,-0.08264981608623295,0.02242303609234301,-0.013756509337934177,-0.06106319027825974,0.03953822002063007,-0.008648515568488222,-0.015812519589015035,0.042659782920907996,-0.024209886465247663,0.006451385065331434,0.05789961241414831,-0.06872968701662503,-0.03407644690770548,0.026876458616033785,-0.029606258990831417,0.027896054717284596,-0.025454588828851897,-0.07281337472922199,0.019214859306005472,-0.016233112213289814,0.06469959901779228,0.037148094562262514,-0.0009991114796368762,0.008892579315113608,-0.06157419948716687,-0.028658919644891572,-0.07752599679762677,-0.08110326179149371,-0.03212918113259156,0.01165033138899894,0.059638271623330456,-0.03928318422644279,0.07285752567708345,-0.003032292329319072,0.023900070623900416,-0.04881030238670415,0.009890366936332544,-0.041419229656363556,0.022595796454179633,0.0045261720638675885,-0.07024654401136525,-0.06172682355222746,0.051569047104899735,-0.03477003903581986,-0.06980259098526584,0.0855805661278892,0.07613890905195239,-0.05891981548814887,-0.0011604031666040777,0.0465049585650537,0.06237178804445474,0.039263912492684266,0.03633836375724035,-0.06668477578987805,0.05586140720464946,-0.061035616436349534,-0.06883362444779158,-0.0285502825426764,-0.028210627516082956,-0.048285546007663875,-0.07909751609597039,-0.07272853402052522,0.033147487748942085,0.0053695666287280645,-0.03512652309831528,-0.04102706570186301,-0.05729190501426589,0.04481427213586574,-0.029262453960100313,-0.02612776203758027,0.021589055923899588,-0.06365427033504899,-0.07612342432961937,-0.02061032246708932,-0.08778258244704222,-0.038517370269326924,0.08356460412306636,0.08516354321766852,-0.00781288764630647,0.028622804361557265,0.08459311658455196,0.06668439740401574,0.020483496641267706,-0.07357811565999915,-0.08442824996200743,0.008572725148875707]},{"id":"chunk-7db5cddc-82","content":"For example, if you're using just OpenAIModel, you would run: pipuv pip install 'pydantic-ai-slim[openai]' uv add 'pydantic-ai-slim[openai]' pydantic-ai-slim has the following optional groups: logfire — installs logfire PyPI ↗ openai — installs openai PyPI ↗ vertexai — installs google-auth PyPI ↗ and requests PyPI ↗ anthropic — installs anthropic PyPI ↗ groq — installs groq PyPI ↗ mistral — installs mistralai PyPI ↗ cohere - installs cohere PyPI ↗ See the models documentation for information on which optional dependencies are required for each model. You can also install dependencies for multiple models and use cases, for example: pipuv pip install 'pydantic-ai-slim[openai,vertexai,logfire]' uv add 'pydantic-ai-slim[openai,vertexai,logfire]' Version Notice This documentation is ahead of the last release by 2 commits. You may see documentation for features not yet supported in the latest release v0.0.27 2025-02-26.","metadata":{"url":"https://ai.pydantic.dev","title":"PydanticAI","chunkIndex":82,"totalChunks":208},"embedding":[0.039111726370487016,0.05047011157962773,-0.032480231275169816,-0.049727853558567604,-0.05067150386885587,-0.005846513607390892,0.05677273470069569,0.08338463166679765,-0.01777218831126066,0.015707397155140752,-0.0588440031441005,-0.021348782197981087,0.0509039241131081,0.008253939353963168,-0.0530344747163842,0.05548306855120295,-0.03612099976102053,-0.05567178746303612,-0.014385496505851868,0.07946415077551795,0.06959277748550678,0.05804252618238823,-0.017500485698341738,-0.06403545483649341,0.016703656429702524,-0.04756920123517819,-0.0655597501959507,-0.03429686604484002,0.06025364704229193,0.06636647156673428,0.08032814724800653,0.07383121315614964,-0.070903627041879,-0.06585073117241871,-0.026770353647833835,0.08817289733401043,0.025621878171659323,0.031146248961125386,-0.050521577175615576,-0.06674549741478072,-0.05448287785964651,0.05369477664097471,-0.03125653828274576,0.06017036532938543,-0.06569489728447804,-0.0630140816499771,0.08950700390114188,0.007033328524879665,-0.04301274266255059,-0.00150432111577353,-0.01996909532351238,0.015244676515637979,-0.0793303952377688,0.02096918409637647,-0.039876169104790485,-0.08125830711539168,0.01911577936800603,0.06751609691122702,0.04780374973616614,0.026855322221618606,0.05206766169521668,-0.03285053287870343,-0.0023143962544452086,-0.08606203249789823,0.03212962629447904,-0.07057935355728905,0.030802081727445158,-0.030773701409125855,0.07447724111681808,-0.010656603267174634,0.014470782488710776,-0.06670185455362154,0.004408160708706919,0.033867992893369586,0.01407075546375564,0.06023620596491013,0.02893922139719606,-0.07916611664429937,-0.026694272209530655,0.06786744830924579,0.013165751596634271,-0.049902405712998595,0.03056213584921089,-0.0069193445410473215,0.0051353764156178965,0.01866913319294099,-0.07225446841641488,-0.027892924595636928,-0.059741874971046174,-0.016334091305163986,0.03471677512141874,0.05962860996851741,-0.029304003975552086,0.05726111259890137,-0.014804426032726643,-0.033383214640186,-0.06463095145330167,0.04540356906385684,-0.0764479879305826,0.004161902641470217,0.04825870963995633,0.04729092045533103,-0.027329951882305432,0.039211394417259876,-0.01565574455424512,0.005026341514066545,0.044858620211910866,-0.03334027665955285,-0.02911444932727012,0.05553043607776962,-0.02716797816071903,0.023662224220937507,-0.056473993143197745,0.025663650516516937,0.08721377788683483,0.03068987840925499,0.05238944045598532,-0.016231525002718312,0.04948557116402146,0.022457134930019544,0.0009764514316561324,-0.05475221956631938,-0.0825608733670665,-0.05061920407150928,-0.005723046497980377,0.003998675475494382,0.08310679661458027,0.03877020034427888,0.0342968921467149,-0.049704830067718295,-0.08968553684496988,-0.013421728248426664,0.04801676003755249,0.008676556001655957,-0.008215734685637036,-0.06323876179235789,-0.007113234452648578,-0.01722343323619541,0.06240640772828937,-0.06627997503839153,0.032100783993068406,-0.08176744176626478,0.017293708800468523,0.04955330401373213,-0.05244748357133282,-0.05864777360925589,0.08641560692664212,-0.07850621999762149,-0.05121857543876563,0.05607720921255988,-0.06297238445316644,0.04865492784915411,0.067132048473346,0.08345984359325906,-0.0016979594342482083,-0.08058056001186736,-0.022443247582067175,0.05191807667424583,-0.030475621962535962,0.08401787383002293,0.03324213540292723,-0.08023352799925085,-0.00007344153739652648,-0.04952285483554589,0.021029839361454788,0.01202937088520599,-0.003581583883886793,-0.08033169419823258,-0.03438149475428542,0.0022881724071193987,-0.08089882190461686,0.07229189405075773,0.0423413133426677,0.037495623141354836,-0.08411087386488121,-0.08594514189806793,0.06790935822336275,0.011160133027619737,-0.03134477072142756,0.009473221173683415,0.025818983272664856,-0.05116133761283874,0.021038121677297197,-0.08706148991481927,0.03598469171343512,0.011066101115980935,0.06544987152074168,0.0501989511145355,0.06859812652822926,-0.07558695846082293,0.03086293550577628,0.04508282879886028,-0.04747061573849088,-0.06255269335896263,0.026419001518363686,-0.028946764626256668,-0.040079192230400025,0.021982306227449774,-0.06475602554045135,0.018865245947481714,-0.01222917733326762,0.05869300551026821,0.020827813892598506,-0.0804511999128685,-0.04322569697849356,0.026193947661678933,0.040202394342867376,0.015089130462239392,0.08427706121714816,-0.05482526460420635,0.03944850898643946,-0.015254826031934841,-0.07631348804295628,-0.06483543591355408,0.07385469848596747,-0.08501074625362956,0.038671561033769064,-0.07330927663180209,-0.05626879724024031,-0.0734802563771582,-0.008852504241099018,-0.009564050007721644,-0.026617465674023545,-0.07445084720764443,0.07157872251385505,-0.05168103542258348,0.03210065358687744,0.08162156735931626,-0.04691790149412463,-0.027694261930989315,0.0727647892168974,0.001225942735080719,0.039787510023324896,-0.009470551021324354,-0.009601990971569694,0.05820046505401925,0.0026127118660586686,0.008505500199169796,-0.057998739010021304,0.08748806656961326,0.011676718168888245,0.06075496980248424,-0.026797853925160754,-0.03900633172461642,-0.0339372616704294,0.03663753115530966,0.05832590201529203,0.0868703615013686,0.013554335460717213,-0.055180954604905845,-0.016617776887518663,0.025501776934746548,0.005253203991623815,-0.06956678608021448,0.05654461455157833,-0.030315458161522327,0.045610291302337756,-0.026410799730782985,-0.001990664690513942,-0.0692239916642973,0.03275088655932091,-0.012611102434865283,-0.007074580823227856,0.015073513624856092,-0.010171271353030153,-0.05399943210778399,0.014123636650043243,0.055905518259107466,-0.048720971910059425,-0.026034752822720605,0.08584513890239276,0.07488869353536148,-0.029606122159112087,-0.007265318469892874,0.043825571949012154,0.07840598013165778,0.031900032173044414,-0.04689754923581289,-0.03122697840801274,-0.02929870574575197,-0.07487088529213462,0.0860508006254678,0.035880149839640336,0.02850588945069899,0.04260439676538138,0.02791882063049023,-0.05996549947498019,-0.07298151134726025,0.08502273611029271,-0.0235335580210335,0.08019379389763705,0.05089873787553029,0.032510805884132,0.04043824829393165,0.0039937008294545365,-0.028260213466609972,-0.03975068003966266,-0.027091237773936353,0.057730069382210966,0.06101274807199454,-0.03404259931053272,-0.07310770769248404,0.0463311446027983,-0.0586588114547241,0.034099905947645656,0.04659107518365288,0.06237983227381433,-0.010062781515409264,0.0553412582024612,0.05832698697756798,-0.08166100578241164,0.04819552816858681,0.028255439930767175,0.01840376548446822,-0.00823303413189816,0.07042476837675463,-0.0865385858039164,0.0823185643270414,-0.016939286672820922,-0.08503918031399517,0.03490947058203886,-0.012723122349301091,-0.030095758949669493,-0.02672951584217275,0.08844339163481202,-0.01328979215635615,-0.06309057395367894,-0.032838103909167825,0.05388399643358946,-0.06750702401899755,0.025106015355906675,-0.08282300852971436,-0.025256781634296958,0.04976216111934856,0.0847815171324159,-0.0001334003111221679,0.023326512120808655,-0.045516868836450494,-0.08517116217429309,0.024647003135568526,-0.055083252708217414,0.07785738311076561,0.053033196171795735,0.08351141091759458,0.04232805383071567,-0.0340278707065986,0.03132015631221098,-0.050655529975600536,0.0522936163198981,-0.06881466408350016,-0.029972858828573826,0.022852279909247902,-0.0016333701578927842,-0.03433137389684572,0.055985601206165685,-0.08839959644579068,-0.05752776635057757,0.07414156705725806,-0.0789940907982639,0.06528490776029179,-0.030439261102361864,0.07020231662089499,0.0755377334043511,0.04795614192131816,0.038786187949857984,0.08754606890836585,-0.002129218275804739,0.07582260524099911,-0.04320693320777746,0.06933660971463414,-0.0029139124373160005,0.07662533729458271,0.046871805283648024,-0.03562814235434988,0.056089893306644455,-0.06847107982753926,-0.011585427897603187,0.06658054269468008,0.07061449248628282,-0.05867437500100561,-0.004363588460452461,0.0514116567215643,0.07094116068486453,-0.0065075597861158725]},{"id":"chunk-7db5cddc-83","content":"Getting Help If you need help getting started with PydanticAI or with advanced usage, the following sources may be useful. Slack Join the #pydantic-ai channel in the Pydantic Slack to ask questions, get help, and chat about PydanticAI. There's also channels for Pydantic, Logfire, and FastUI. If you're on a Logfire Pro plan, you can also get a dedicated private slack collab channel with us. GitHub Issues The PydanticAI GitHub Issues are a great place to ask questions and give us feedback. Version Notice This documentation is ahead of the last release by 2 commits. You may see documentation for features not yet supported in the latest release v0.0.27 2025-02-26. Contributing We'd love you to contribute to PydanticAI!","metadata":{"url":"https://ai.pydantic.dev","title":"PydanticAI","chunkIndex":83,"totalChunks":208},"embedding":[-0.039506078124226456,0.028624252614147756,-0.012749621635046404,-0.08024904955594978,-0.05337093528148326,0.0008669348342067811,-0.021385940750006105,0.023068936007406744,-0.014625641038953642,-0.014478233880282958,-0.04350510490396509,0.060199264797308874,0.06462250635283187,0.021673309658279755,0.015909026725592943,0.034013498210685736,0.00428374545171638,-0.05151911301269068,-0.044875247174225995,-0.08941423752719867,-0.016909970413594738,-0.025217443392249485,0.0780328916211217,-0.06695978134963042,0.005453159681276722,-0.032340099667595296,0.005302595836302091,-0.004248493523780035,-0.04999605869619195,-0.04097008841708713,-0.04368275038528748,-0.031082160510281807,0.054852437890397655,-0.07821096484089576,0.05033166602890971,0.08922432507062357,0.07071048928183932,0.0036368619723266666,-0.03341521462052946,0.04596376140481781,-0.007377266889738202,0.05076474774687258,0.013319717566832381,-0.039006027596807706,-0.019418544672262537,-0.03570498238276786,-0.0673861447391312,0.03084260191984615,0.0032438139030572344,-0.08673697991332889,0.07345771787364673,-0.07882194746802468,0.0011195878020858667,-0.0749438029889267,0.06567532558690654,0.029759300724027143,0.006104186902023593,0.03701507598170734,0.07874626333314395,-0.05238151361737916,-0.005240847619022541,-0.08803445725581648,-0.08979371375400103,0.06885153187822753,0.03237865662272584,0.05323375871786086,0.044947729043876075,-0.08126318548653343,0.017178879704974507,0.08363973615710686,0.027633506096795563,-0.08746938267918866,-0.047824888198739306,-0.023974288746143095,-0.0388411874136616,-0.029221425017256785,0.04203384184279208,0.08590051526779424,-0.052405432284613064,-0.03923384552266357,0.07595692259631169,-0.06930357355248269,-0.06934445082599845,-0.0021115244044860875,-0.022945176116170942,-0.08827224824912797,0.05982734769791911,-0.018636945695809204,0.02465601537250191,0.057399430920130126,-0.03401088859105037,0.05054417936732691,0.08242988837989117,-0.01496660201596808,-0.02807273249571058,-0.011458052197732965,-0.022542859906286353,-0.015756068672735546,-0.0169932153445215,-0.08924484976880741,0.08732551100729366,-0.08316140760671897,0.006617130011682984,0.002111362147693801,0.07763657044131027,0.04375199027616533,-0.016184138833842916,0.00662017804194505,0.07089241323506934,-0.06360939047736845,-0.008121260044504003,-0.07308177286150772,-0.06349811639240596,-0.0739309654130583,0.027044439957348763,0.03449929294896861,-0.024875771460318944,0.005093150539922606,0.0018606391696960295,0.02838079737229862,0.03905830985150083,-0.018963851251177638,0.070658524090107,-0.02980024805715204,0.03347114198260357,0.07243267224000588,-0.020369321108055116,-0.03643170283951446,0.02813012051616466,-0.0033032964338746574,-0.06426974709308866,0.012049215871562068,0.0847378846132847,-0.05185530331142949,-0.0840982502355833,-0.01239364521378483,0.004563142249734741,0.027855896226621702,0.0252307857620792,0.04282838327254886,-0.07848710029263142,-0.007437088875066361,0.07245948554480212,0.057677122221627394,-0.06223679169674443,0.016990433940962574,-0.015319852274996711,0.027197521975933257,0.07854480460995794,-0.020314863707111306,-0.014120640312640579,0.07746028575032002,-0.07939821859376339,-0.005777415163818598,-0.07324803532962933,-0.04326554411116119,-0.06514510380034068,0.027072168615537833,0.0029706242066669278,0.009200143561559355,0.0281659036107727,0.04820047256183711,0.07123500986489166,-0.04828809903176691,0.04259352328790963,-0.026115097854349578,0.06893016290117976,-0.05812246450725857,-0.061705167022636474,0.05830336465468347,-0.07260151865204897,-0.05331379275288373,-0.02461439685702854,-0.047960602944939805,-0.00075094028409559,0.04360804508223039,-0.027321958928706123,-0.001976454566420696,-0.02848541573237367,0.030969986103256773,-0.04960277641211646,0.033581702447624116,0.043808980348693655,0.08215598572366682,0.02081313836388118,-0.040272196201897086,-0.023272408809692363,-0.07651070548712803,0.08829623489663518,-0.027635007213019126,0.01797031569721538,0.032868857624791484,0.0032461399751289614,0.07655440033974788,0.0868431488945239,-0.08604089408574386,-0.05551875809252599,0.05592557267903893,0.03766151037173688,0.007159232807616607,0.0033121001411457835,0.01747556735611123,-0.04497586730853619,0.025110265523415668,-0.059728456893698476,-0.07313524649326336,-0.018305051600483336,-0.088644082210582,0.049474610513205335,0.0707200482819307,-0.04764671666838514,0.06054882729001538,-0.03440601419606385,0.05859045797733804,-0.05145346899032453,-0.0489107904462561,0.008945346696595599,-0.0351733994428597,0.06760076831222415,0.0665383606521,0.041269743978174664,0.027872981885538984,-0.03848426365441357,0.008931562963586824,-0.07976841403694108,-0.006039361821038752,0.018447216793913927,-0.07545972261162366,-0.07782687499969146,0.07568695766997867,0.05944643397562183,0.04268153513305404,-0.011841184616515324,-0.04115313745359108,-0.06860246646782932,0.029123345121854282,0.0376345359361931,-0.03012334312097118,-0.08370923696182768,0.05022022238899461,-0.03515516245408258,-0.049249256255358136,-0.028242017470249462,0.07699034423023204,-0.047408066862051144,0.06902865494201346,0.06327128761842152,-0.08974772697276012,0.08117556766482073,0.003260459235071429,0.0863656313837747,0.07794199579720665,0.05670513869363355,-0.08260279967316568,-0.08887153994636512,-0.030027946482816162,-0.0701713420310482,0.06329410891181923,0.037531613855640536,-0.01921287525857774,-0.04159168383432789,0.04172080900100364,-0.0421686230094029,0.07128518954306672,-0.07768999208473075,0.0389830547211804,0.07522494423622762,-0.07002764094669266,-0.08581132567191331,0.0809210240455611,-0.059998873567654105,-0.07099667011514765,-0.006364225688285833,-0.010489747678236067,-0.037026687578014805,0.04822141274155082,-0.01200636698277398,-0.027796904044655492,-0.08942318516373719,0.025961911572039625,0.006902026839015241,0.016115704282942473,0.005164231935498915,-0.06118441655051557,-0.015545519983103443,0.04883340454202098,-0.0830902513773104,-0.015427272193483,-0.04610825107751875,-0.006979875647778882,-0.03287639326137608,0.03357809570651528,-0.08084570218843047,-0.08172202048944212,0.017145758433556615,0.08131558325929188,0.06145805283204518,0.06129326107566839,-0.0448446260230465,0.03485435088138624,0.0058637424147115,0.06241309008918568,0.0086814645267675,0.03995133382914595,0.013954390475846247,0.008974155995096305,0.027648560186048943,0.04824276132540786,-0.031179762452609568,0.032819172555405875,-0.038795669418566485,-0.017244225784534325,-0.0677861133545731,-0.07453682273983928,-0.02032324817863226,-0.08608943391829443,0.0625283419116148,0.07132704057901176,0.05060481651149177,-0.06650281519945665,0.07791397779987189,0.0083618111328089,-0.03900522473243993,0.03338530104002429,-0.08363115281782892,0.03074258869024511,-0.017005617047086443,-0.06616235402775741,0.0062418046354327855,-0.0007509631637376147,0.06086872002851208,0.08890802319998499,-0.001941176448629038,-0.0386103005860988,0.0272787720973348,0.04302538892593956,0.004073176663142745,0.03374141302807959,-0.05334912469308089,-0.08807216412230161,0.06107656171633869,-0.03174570520297053,-0.08597029014010676,0.0789093071477,0.007861544741903865,0.04594792427942795,0.03702829621214337,-0.04736380877899321,0.0052321402613551985,0.05325820681498662,-0.08651839748205446,-0.012242481539602017,-0.006892369735016901,0.011021644706212953,-0.010803496464444826,-0.004707132810266587,-0.025924409001176305,0.05988029602838817,-0.051798449684322144,0.058357584109750206,-0.04370811960431059,-0.029895089913053362,-0.035642269466139014,0.05231986958129108,0.06778412453796409,0.06341346763919413,0.08828519285975131,0.0613909404900261,-0.04851823565398051,0.009346055330434443,0.020122185924236754,0.028960442428217173,0.03330725161391435,-0.008048762121245858,0.050436170409429146,0.02771410062525171,0.07587050344219763,-0.03410109154390733,0.06377962706485496,-0.052821449144579695,-0.015666138091701275,-0.009810068287708827,0.0473839357647816,-0.07916139076873124]},{"id":"chunk-7db5cddc-84","content":"Installation and Setup Clone your fork and cd into the repo directory git clone git@github.com:<your username>/pydantic-ai.git cd pydantic-ai Install uv (version 0.4.30 or later) and pre-commit We use pipx here, for other options see: uv install docs pre-commit install docs To get pipx itself, see these docs pipx install uv pre-commit Install pydantic-ai, all dependencies and pre-commit hooks make install Running Tests etc. We use make to manage most commands you'll need to run. For details on available commands, run: make help To run code formatting, linting, static type checks, and tests with coverage report generation, run: make Documentation Changes To run the documentation page locally, run: uv run mkdocs serve Rules for adding new models to PydanticAI To avoid an excessive workload for the maintainers of PydanticAI, we can't accept all model contributions, so we're setting the following rules for when we'll accept new models and when we won't.","metadata":{"url":"https://ai.pydantic.dev","title":"PydanticAI","chunkIndex":84,"totalChunks":208},"embedding":[-0.04611999519234594,-0.07825674131250798,0.04942784039692214,-0.043803672615220335,0.008536385892514804,0.05462109531304143,-0.050779383768500504,-0.07974002087522901,0.07724489324926888,-0.02778936433222784,0.08658968312352767,0.03973864624991824,-0.06296260619002088,0.03755066413353096,-0.002604591991688488,-0.03700982601173309,0.040896587800192084,0.01599506146352372,-0.005693960757083165,-0.07872819574111438,0.06817839232030792,-0.03690118313169485,0.02733582043477549,0.0504038615705413,-0.06295683128029803,0.08581858724506657,0.01054193883560438,0.059479686355663676,0.06378192665092092,0.013785718709538639,-0.050374907618652674,-0.07515551216047366,-0.07724823840806033,0.05293259205537827,0.07095864410062176,-0.08482830186093532,0.07724643408622593,0.0011066451872684582,-0.0095386074666644,-0.03166696077390075,-0.026214147536593086,0.08516048128177897,0.02204525999050429,-0.07838349508387604,-0.057487485819038904,0.0008600897147354298,-0.02507393119225692,-0.08519680588819924,-0.07195058863585807,-0.08616580312692527,0.06000654556068797,-0.0632227850601839,-0.04801504933797649,0.04041324094997979,-0.009358601766074968,0.0843836800553639,0.056872789104448526,0.04889422086039566,-0.011877520190905164,0.07934103423979959,0.04792878376677428,0.06399475783270196,0.006372539116144224,0.02579384163172812,0.06632931486489091,0.07931214402804387,-0.038739023200142796,-0.07433284981191747,0.039690221471583784,0.04162159949072889,-0.001265880565595304,0.024498603857541674,0.03114880582700001,0.053355477016249986,0.043170307601974704,-0.04375270347614599,-0.003575078471545366,0.07457503027259048,0.03085913835986906,0.07115777800091476,-0.016532622398178237,-0.028175107436861198,0.01894453848596073,0.061605766235695324,0.0646938595172483,-0.07769881912713433,0.01950423705126429,0.03479018343312569,0.08506040904423119,-0.006983289381488874,0.018296501745166324,0.04523416866707912,0.03447872754009816,-0.04934006501294598,0.01418129634247919,0.014713596628270416,0.06387578226923575,0.08515986515494056,-0.05872624153055809,-0.0013133172301129374,0.017618906108572426,0.07534633434855388,0.006811067374921861,0.020835191876418347,-0.014497356631583743,0.007660886109367217,-0.010676176117191342,0.0699030561095133,0.070822427589928,0.08699798866731552,-0.08097721648871262,0.06850027088994766,0.027710840908295974,0.00008568803287244839,-0.028856050604677035,-0.016028252453096692,-0.020034319850615916,0.03591643824049825,0.07949177527233506,0.011162223521876995,0.019444777225045756,0.0463087227495095,-0.02668846732089139,0.03989505086669377,0.042212124054537926,-0.05697753895821525,-0.062068811802032144,0.07858610343726388,0.006862749171662851,-0.0017460619239574402,0.015497198090087412,0.08336132603705328,0.02598016642052977,0.06436841105348105,-0.002713770408116251,-0.0014395898710290913,-0.01443100926896207,-0.0032696908435822115,-0.013769242174029852,-0.030563518192066336,0.05308639735419817,-0.06941231061457447,-0.05334434059239546,-0.03266218047455428,-0.0034858899390462147,-0.06622205441991352,0.04408989386227433,-0.03952493905871533,0.03576686653775165,0.03244567942537704,-0.052758051378900876,0.048352007476855016,0.07190526732011361,-0.019134765681395535,0.0804498042610864,-0.03882668946818538,0.08329300852716533,-0.04153066583491913,-0.08158534516321876,-0.06947033687742697,0.08741956256812092,-0.029656328722323443,0.06678662819310442,-0.08622164592809947,-0.016404400662888067,-0.040727076144077085,0.0727502991842272,0.004569174024591829,0.08703397864728125,-0.08259217855675373,-0.0832051774754514,0.009627855789176135,-0.027917271530018457,-0.033248661571204444,0.019776453955165123,0.07254832852171741,-0.06304779660454124,0.02945825155981982,0.0813601106894206,-0.046600123332384676,-0.03350534606103974,0.059357945732788735,-0.025323759858044883,-0.032170929592127105,0.08726045788283776,-0.07161234465980552,0.015049020480536619,-0.0008385723915227402,-0.00516789890246381,-0.031671505745458746,-0.08515675809825068,0.0714289087000635,0.02941269937118362,-0.027811461020038925,0.059845246621913824,-0.04425143981129596,0.05982643960073844,-0.06843767991916513,-0.07764768107919595,-0.035051812029186495,0.03690594104569603,-0.08613422772933232,0.0069359547103772,0.03271083047901701,0.00348699864758848,0.04137612538051375,0.013157181843253781,0.015493254513117772,0.05636363101660282,-0.019525898615998086,-0.02360004010437976,-0.02731644587563,-0.04856448093026301,0.07331687884023286,-0.05101372887744998,0.020905465288757172,-0.04349165260999528,0.009050939651431493,0.04209171871320165,0.007422924523339559,-0.010498949967406293,0.05439491334625352,-0.08726577217475483,-0.08725838101705016,-0.013317794398167458,-0.030053604478358156,-0.022131356929330902,0.000912080947255167,-0.017449694276443252,0.07883590600663636,-0.02098750954117583,-0.07288674893394652,0.013675220467354813,-0.0043539793831125296,-0.038611303551867024,-0.0003494377117262814,-0.026946982024245836,0.01228783668277516,-0.020687722013892774,-0.037648721453890116,0.024838674615974693,-0.06590855768819436,-0.02354193623890021,-0.08627402074284458,0.07047294920135673,0.03899760612368416,0.051465891728176866,-0.06821088412318381,0.0814895140601687,0.08223271075600563,-0.07339160474346886,-0.03564290583237529,0.05355857520750196,-0.07459242580326417,0.03483139666002103,-0.048149298887500025,-0.0037532016768894636,0.06153735438578203,0.027829470220782027,-0.07296409063568367,-0.04354659068544205,-0.04503496749406849,-0.08360665111541388,0.06870230149967542,0.0034092765108715826,-0.04631908808345498,0.012727473093460853,0.05553225433342894,0.05560092086711565,0.08716269977906724,-0.006011027157364314,0.05964026986039518,0.08258801348080869,0.030793699120018347,0.02277994608836782,-0.06434118510174595,0.05397410507941461,0.008064355575415896,-0.0012821824551424465,-0.081357588515946,0.04922025610951152,-0.01347691627467807,0.06083658704299437,0.062483750566147286,-0.04279811818519035,-0.0163961737741183,0.07147381556514593,-0.006987593677101628,0.014194695347293411,-0.02095705017126944,0.04251490940090597,-0.027668053294741583,-0.028256571840314566,-0.07380311508677123,-0.009160932222733592,-0.06437130347128445,-0.0333026578884008,-0.0387649364101575,0.07140623209901398,-0.050210157397332165,0.05486021599743675,0.06007027322557105,-0.029270150591068106,0.0700502328662754,-0.03160787377705214,-0.013966294535302085,0.004004111315219467,0.0853664416757414,-0.02590000443432341,0.06918416493145207,0.02382639396253743,0.033500156974566875,0.006966188712658462,0.0663792339649599,0.02104891217910287,-0.040888439254069875,0.027931939949259018,-0.039324206573563975,-0.0209169744069944,0.03338959134087202,-0.05930630951697887,-0.0021881822262655145,0.017673849554903778,0.0020750106468867035,-0.0868105281133761,0.08022675199276233,-0.04372407072981584,0.0745363668721305,0.022979907659841654,0.07540124541728878,0.036258802748808557,0.03673997191148315,0.04972213641332223,0.08219237905998697,-0.02944487947246255,-0.028353426185652498,0.02790890037090297,-0.06600507584325778,0.037858245622631126,-0.07139911461028238,-0.0369932923575443,0.0794062822871912,0.08545191581046738,-0.025675495195422983,-0.039391244375649545,0.07095445127114927,-0.05344242096826695,-0.08695310011736121,-0.011039776390692478,-0.067651777597604,-0.036939805327233566,0.062037742173649255,0.07263829680225377,0.03958510051844159,-0.05975701199656844,0.02591665128870832,0.026117648079418736,-0.08556624109230751,0.056891443395875166,0.04174472026594132,-0.013374870895566868,0.045069137932335225,0.032323278472767954,0.05302030744676952,0.026007794615026544,-0.04298635089897884,0.009160885356099756,0.07220033333086143,-0.07646786518933732,-0.04868724208588111,0.020500834618915702,-0.007444445956755876,0.036662468677754155,0.02914378882712338,0.05141065795669496,0.05464602767163496,0.006979866852700783,-0.006699647413718855,0.0018169984434056774,-0.07704294495429297,0.07643334301341026,-0.06096917261413197,0.07536389275361079,-0.05760558816400865]},{"id":"chunk-7db5cddc-85","content":"This should hopefully reduce the chances of disappointment and wasted work. To add a new model with an extra dependency, that dependency needs > 500k monthly downloads from PyPI consistently over 3 months or more To add a new model which uses another models logic internally and has no extra dependencies, that model's GitHub org needs > 20k stars in total For any other model that's just a custom URL and API key, we're happy to add a one-paragraph description with a link and instructions on the URL to use For any other model that requires more logic, we recommend you release your own Python package pydantic-ai-xxx, which depends on pydantic-ai-slim and implements a model that inherits from our Model ABC If you're unsure about adding a model, please create an issue. Version Notice This documentation is ahead of the last release by 2 commits. You may see documentation for features not yet supported in the latest release v0.0.27 2025-02-26.","metadata":{"url":"https://ai.pydantic.dev","title":"PydanticAI","chunkIndex":85,"totalChunks":208},"embedding":[0.011604279690887896,-0.0665363061463798,0.00807070296759389,0.04934021765964182,0.026805185599025477,0.08438491330715793,-0.08356378430179971,-0.05122288030349551,0.04393000994370751,0.02117972122172777,-0.08140875494003413,0.008369647877561478,0.024105612470721512,-0.006233491182164628,0.015796089454080776,0.06054615384345361,-0.024409236814893747,-0.06694695895178411,-0.04151305222058417,0.08244260126325252,0.056364166538465287,0.05810521581567547,-0.06980617976192778,0.04746949002177405,0.04585465619651698,-0.05716033382894227,0.05510473515374978,0.02385980125099664,0.06258498136835684,-0.04306834354298744,-0.01806108210489293,0.08076945196681026,-0.05182572352249561,-0.08706295423187174,-0.04032987680059705,-0.07380276134479169,0.01233851442444822,0.009740612302959455,0.032515365178525886,0.03409961898513861,-0.004295457320527927,-0.05364869526657978,0.025854754228073214,0.018274171668603695,0.004819988955899792,-0.04405154017903456,0.006497838443574953,0.020300621100102584,0.0728920837855496,-0.049891284494055096,-0.0016196414983884239,0.0842362178932937,0.06997331499895057,-0.045544594664631,0.0803368970839455,-0.07046250173402255,-0.0798618835081249,0.06747295672625277,0.002615346686836275,0.05290027267659527,0.05993227430183322,-0.02552106488464166,-0.07667476291092543,0.08729892920069283,0.07206272596021278,0.0234387721277961,0.00764091868756938,0.05507498436662248,0.009280387067665152,0.06162031359257418,-0.05927297888767141,-0.005400422362335705,0.07562598618422871,-0.07340291148583962,-0.025491482580148044,0.04836267372374082,-0.0030794837586868924,-0.06022677854953845,-0.013748573300360924,0.02427543113030116,-0.0618093439587997,-0.07359280192727218,-0.07692994536842328,0.04240598447595004,-0.06546207229618507,-0.008917572786059235,-0.0009843316459486138,-0.008685339322961432,0.032973405853456816,-0.07933121889002964,0.08273977509985049,-0.01382102308620959,0.07803175989678535,-0.034040403151525414,0.06596744011538977,0.011694667206793057,0.06078025494297515,0.08589466849694526,-0.005824201957790345,-0.04746904328961609,-0.029301949694204226,-0.025315201883719256,-0.008781351655926792,0.05262356493703923,0.01763913286490992,-0.0859470705925148,0.07990958046815737,-0.005616258640285261,-0.06270359421209337,-0.06192944417319274,0.047950556502991064,-0.0595624308239205,0.06704011530587306,0.011876291687714657,0.04718636841282356,-0.006084006778259853,-0.07305051343250141,-0.07541474797805037,-0.0016519841245918785,-0.006815947781494464,-0.05256976497990143,0.044279682501860124,0.03394684002521853,-0.06531442823242962,0.03283905700118697,0.009731309039411568,-0.056386608433782744,-0.01783810649514167,0.033772548512664764,-0.04441223817461926,-0.05738471232235343,0.012636866062682403,-0.07467073440098222,0.012470478949255254,0.06763816781833334,-0.05619800132032444,0.032780456983017764,-0.05026715768337345,-0.05413028343649199,-0.0846487882985391,0.0242587634083584,0.06467108206840005,0.002027002907430617,0.06872411418289688,-0.00028180400979801155,0.07340775113515977,-0.009222768777703082,0.06196686150804923,0.01714539443708658,-0.08258494414639293,0.0743314820888025,-0.015446501601590022,0.012115238769484463,-0.01802367670716782,0.046608613006046205,0.0442226108260225,0.03801391636963138,-0.02796490074804778,0.03360038874759784,0.02878107952654061,-0.035028119756854756,-0.05816109541464039,0.04559978588832926,-0.08420015853124119,-0.016654008983295096,0.05986934755412424,-0.07160817487937213,0.00006144064335927244,-0.06320478118944044,0.08237284697171661,-0.07422696736839945,0.03805630211792964,-0.053455404811619665,0.009287365190679082,0.022127693968837958,0.07751303268278462,0.03682375479217586,0.06586837740830503,-0.03292835750256095,0.06500733258475883,-0.07234468644366024,0.06968965012059768,-0.009552844179801546,-0.020533049253820667,-0.031784454113331945,0.06530557689061539,-0.07979389375644792,-0.08077442137312771,0.006475808543607698,0.021060069751770643,0.010404002722670285,0.08301328993142816,0.05158918884582289,-0.024932781642014547,0.078362159806007,0.06363027806151401,-0.04413366301597045,-0.015364541975105233,-0.0010506681943670876,0.006389785565440544,-0.08360811054833342,-0.054487213822621144,0.08464341631750034,-0.06912709878853411,0.012422161954077105,-0.03076012986102792,-0.06666437864396993,-0.007879022935947163,-0.06195269819486806,-0.004953758046523576,0.02056938754535082,0.03741425567690915,-0.00867746086890533,-0.03284025003020945,0.05164452391493355,0.04439570231101103,0.02652124366876873,-0.02888251865841037,0.05269320422718089,0.006193410808176606,0.0218518340668223,-0.08461066435690169,-0.03804604620881271,-0.004047533829977758,-0.07168963051757632,-0.03130587288412742,0.026708601928642325,0.038016422718897734,0.07552666736895036,0.08697451113567858,-0.08470691984476317,0.021092391799383065,-0.009580191745672853,0.0006813494378056302,0.05915068502448605,-0.057495412533419936,-0.06118512942420851,0.07754920346573722,-0.08641155940435408,0.062399950641191186,-0.04659790694793753,-0.04945138496920465,0.07532981709208846,-0.007592643586433385,0.04684901232637455,-0.06411408295366462,0.03467835965676473,0.057265545563203867,0.06703471743514704,-0.0023881035737263086,0.0042513042895357496,0.04788374254107065,-0.0046598993864328244,0.033402832746193635,-0.0394013620137525,0.038827258455802004,0.012227919246667449,0.01260772130612727,-0.02207603908735201,0.010620253690153,-0.07348465804362637,0.01022452427225873,0.02464050868937209,-0.030573207235234136,0.060476991219468625,-0.07891168950329948,0.0578861178141591,0.08332706294219559,0.025193480815401403,-0.009573344498234531,0.057003227745247693,-0.07496919343125896,0.0034430018430503147,-0.046490071577943506,-0.021384135175927244,0.015602339870196156,-0.04882904659874312,0.02023792541712255,-0.029168055695455292,-0.007467362460630808,0.02206734350290917,0.04026861090375473,-0.07272105341082653,-0.013043620186933941,0.014385010286053181,0.05923631040165032,-0.07956059363962097,-0.007436922038394912,0.0735087138143204,-0.053109549700000015,0.06844584973903049,0.0642157751646367,-0.0487960348358324,0.017723530677324382,0.07563079752161617,0.08416858679684426,-0.011238105582365474,0.00809828779315205,-0.07605411463886375,-0.003714838915480522,-0.00944327269866206,0.04188259826920192,0.06211702052493143,-0.053872209038207004,-0.00013130681853714982,-0.05472516992620544,-0.071683332476083,-0.03705720296346246,-0.017435462004069247,-0.08249289085722096,0.08515465687989537,-0.027030164784808446,0.033549313274727086,-0.04682525715293316,0.08384676462137132,0.0001141397538949593,-0.06537394369798195,0.014092006111743048,-0.0737469138159341,0.0696408513722288,0.06369499322621243,-0.087379623845258,-0.0704583234727734,0.05950071787478871,-0.056216952607088214,0.029022907826454503,-0.058653145265719124,0.01869951292478111,-0.026715325370920567,-0.03545457761946447,0.054685499239772936,-0.0028597258511565546,-0.009017188297187872,-0.017579432548434748,0.020369105152432634,-0.04180083655906812,0.012677255186592197,0.020291012587029495,-0.03513228906581599,-0.07294628275483793,-0.07290186341298628,-0.0726250330172784,0.08590544253373994,0.07684969216399827,-0.08257742960007104,0.0534930092401318,-0.0388475556553238,0.035443912940469155,0.07423987790540414,-0.05485127592526568,-0.0707368299779607,-0.01737375934508931,-0.03152783233740483,-0.08563651887180856,0.04907595682334309,0.011254012746406526,-0.056231586574804426,0.025700242076029497,-0.06525232010784625,-0.07777082193074474,0.05162652160749122,-0.08296181820433733,-0.07544410012230854,-0.00016157623828369876,-0.022389403611510143,0.03633313286519465,-0.05586889057867404,-0.03035789111245526,0.04697649274895555,0.03448326457682079,-0.046957053569107746,-0.011185672790495874,0.014893835203839342,0.02085911624842242,-0.052708215977359904,-0.0035791166991210746,-0.030799832814485964,0.046527452718403105,0.075243061305417,-0.07926496880012,0.07351747874902607,-0.004018816314421022,0.014986733321233537,-0.07169315579881189]},{"id":"chunk-7db5cddc-86","content":"Troubleshooting Below are suggestions on how to fix some common errors you might encounter while using PydanticAI. If the issue you're experiencing is not listed below or addressed in the documentation, please feel free to ask in the Pydantic Slack or create an issue on GitHub. Jupyter Notebook Errors RuntimeError: This event loop is already running This error is caused by conflicts between the event loops in Jupyter notebook and PydanticAI's. One way to manage these conflicts is by using nest-asyncio. Namely, before you execute any agent runs, do the following: import nest_asyncio nest_asyncio.apply() Note: This fix also applies to Google Colab. API Key Configuration UserError: API key must be provided or set in the [MODEL]_API_KEY environment variable If you're running into issues with setting the API key for your model, visit the Models page to learn more about how to set an environment variable and/or pass in an api_key argument.","metadata":{"url":"https://ai.pydantic.dev","title":"PydanticAI","chunkIndex":86,"totalChunks":208},"embedding":[-0.010233242041248406,0.0062358439294848906,-0.007720184055995503,-0.08063819114847846,-0.029922217076318418,-0.07354815716428428,-0.0024139866457451777,0.0038690775167816117,0.02247029077110041,0.009327646012262752,0.01272908867526413,0.02372955602227204,-0.060759258177390335,0.07084364891783781,0.06119155275105284,0.040526294426115904,0.0045320532306799095,0.061234735739487615,-0.05258464808229228,0.038148962937265225,-0.03100927701473205,-0.025089067131131536,0.05690570172531856,-0.05375673951529586,-0.08128555675247535,0.01529325380606177,-0.07839745310615787,0.047546196104277454,-0.07969955152928049,0.039822064685098774,0.07529027262801188,0.0647957752463545,-0.08766120249461495,0.03762403554440284,-0.06135455693827745,0.08757632425519526,0.009800627587866274,0.034241591401453296,-0.07499725155633122,0.0015954029542318414,-0.08096846447153011,0.08614118437632921,0.07926586535747246,-0.017744849308514627,0.02531648498297882,0.03843503858848257,-0.012081415063568522,-0.06974858089570377,0.06061192941949326,-0.038013824671299636,-0.08792120745338773,0.049994592790117885,0.04193141690309213,-0.05454611559646174,0.024355070347359984,0.025310782393347397,0.08354093662116155,0.07322674365618174,-0.008383792020800604,0.008055374728525366,0.006103131239786778,0.025959660503917858,0.07907925205066654,-0.07470382493911017,-0.024433547252275947,0.036249606723658484,-0.05789659131913968,0.04042934897649587,-0.06898029490265638,0.06562390502820975,0.08273038807092616,0.04371751835310009,-0.03257185340109946,0.08510906035535627,-0.01489160493462104,-0.03916414423039882,-0.002047227515528449,-0.03465800728920194,-0.00682202681604125,-0.016148637775048675,-0.06437598682908593,0.012715348345033683,0.023263979903084642,0.03415564006681174,0.057073969226191484,-0.07276871300082725,0.04637935556502103,-0.02920350978191826,0.041308942289406785,-0.004524372461963453,-0.034812312177410605,-0.0035507108444634604,0.006971114248421124,-0.06342255893424502,0.0839123626772652,-0.08748681111683942,0.021407378496363406,0.036408822146075104,0.020963834727940223,-0.00843297670347458,0.01123488487181192,-0.0798410849706801,0.028385858557096907,0.08136101591755943,-0.013228013337805126,-0.00194762559704253,0.031725986681705204,-0.0014689333041362066,0.033064042901705504,-0.004613135010921827,0.02398231075527972,0.033589349533226946,-0.03334297492248331,0.06317218554064843,0.02775790976628155,-0.08312805702856688,-0.06686771758123669,-0.042454778284169964,-0.060272007370242964,0.06370951786568718,-0.08134184870426367,-0.07621251121742924,0.08123216483361778,0.035783844845982876,-0.061589843722163404,0.06885929286654545,-0.03609803815927516,0.055458201002438236,0.011392045873235468,-0.06091194519591781,-0.03401366126171466,0.06641792375124227,0.041497961777787,0.05066984307163912,-0.08583583144401281,-0.06607960535349916,-0.007318492691304805,0.03912876833842618,-0.017803352705248795,-0.053743597748411906,-0.04874496136600153,-0.08305949544016947,0.004407815328085798,-0.06829039491538161,0.08846633132223121,-0.03077441092798045,-0.016115834805493057,0.07259102037878713,-0.05440905890661086,-0.014680178864066204,-0.006239358158923263,0.08116578908711505,-0.04440017515204629,0.021594928518903406,-0.059172267375164136,-0.06849607345887995,0.03554531458487178,0.012875852356436242,-0.06887684815526543,0.015161518174816353,-0.009670341791517791,0.01846682595080929,-0.05118714444967902,0.022523220637967255,0.030558584978667154,0.0827378806971205,0.015736628473624108,0.06489733055614373,0.026797913980445797,0.03244267879680932,-0.07320198228985748,0.057642109723841956,-0.04834778841923414,-0.059557501941880045,0.024033760651073124,-0.07919111825126617,0.029474021438516077,0.019144577022793628,0.003955125769876616,-0.08317536722940812,0.022404064681716185,-0.07850427767172939,-0.028991171706845512,-0.03117365855492062,0.0008118991672904253,-0.06199622483621542,-0.023288122291512843,0.034035328085444114,-0.034808696934096245,0.040773077290850335,0.028450429868724033,-0.027003798012369472,0.060808658203587315,-0.004323606808722477,-0.025491928857767007,-0.003658758697581169,-0.08479350522624896,-0.07386127504191556,0.04717367493553248,-0.08088301479560084,-0.03142812352391325,-0.08048065026965762,-0.03289109602533006,-0.029360912184612998,-0.04596566624249057,-0.08670926230124094,0.02206580772797034,0.023323827440958705,-0.026499149983782652,0.07484412584161845,-0.03223342693716625,0.0719120235668056,0.030490333312010558,-0.08782724918241,-0.08736299902421633,0.03274017736151563,0.04758142011018262,-0.07078158703193285,0.048551112148787,0.08072812914594338,0.00866312016027534,0.07392796770068347,0.045637254897539156,-0.059545219066101066,-0.07806693203155497,-0.04836847890752823,0.05624313687853104,-0.023318501647378368,-0.018664429367901927,-0.08638582104459562,-0.05992731508119002,-0.05016119326095452,0.007345109069241061,-0.045027660340036905,-0.025702436467182833,-0.04706687204576618,-0.026214367210728184,0.03714145161356406,-0.01676883820568145,-0.07493123080403223,0.08379292720245235,0.05738487421261325,-0.018365592319399222,0.0024914389454896357,-0.04534713529793461,-0.03324650194219052,-0.04819818595900707,-0.047590286802486836,-0.002555751338880822,0.003682831075544,-0.009795522222884987,0.07301165111041358,-0.07577617233379964,0.06976082816870498,-0.0705172685958378,0.05772335990140459,-0.04170570623456005,0.07471320402390665,-0.07807173124757213,-0.027318501009469576,-0.06809351925845232,0.082533032327883,0.046711784370016725,0.018767656172219552,-0.01767429591877507,0.02986652496330259,0.02932351610823266,0.00025916017982640434,0.05427936824985467,-0.03956438815192985,0.06463019467970293,-0.033883330210525815,0.06209157175029918,0.0159560858864053,0.07587919736432196,0.04655786137695796,0.04369154883570179,0.06888280257538523,-0.008400413758007498,0.003824457642471538,0.04214269573064314,-0.061184375387361954,0.02912793177409874,0.04818716520133344,-0.08293834917393561,0.04765640283516998,-0.07994616422278314,0.008807309393540175,0.0036666186126727567,-0.01996952175473421,0.059178674307867433,-0.049450972424572595,-0.06414170581858368,-0.06461265195717683,0.042021811832898166,-0.0006617084761179081,0.059295654413946845,0.05806442047689993,0.07217619335908507,0.023401726780131943,-0.0018822526303366393,-0.008466835678462846,-0.04499447781717486,0.04831517117645777,-0.046494731119449385,0.04061286913980911,0.025809632468992975,-0.07643846491894168,-0.04644435517888687,0.059711805019767285,-0.054854955526768494,-0.08717812665563186,0.06652051122498541,-0.04216468493817065,0.001777587754252825,-0.06673588135714441,0.054271633642326726,0.05930008035657955,0.028627177742037838,-0.024398932239483983,0.08190522576989209,0.023304349061192588,0.07143083492041188,-0.061838369440275674,0.08661282826814663,0.06696301537227121,-0.05769254093537032,0.009298533945302728,-0.05527700190268246,0.06638408117007416,0.03844292998760559,-0.05559784044623579,-0.05354943274372532,-0.036334005382394646,-0.07399793906153146,-0.04487246546072165,-0.05723715371946828,0.07039521783783143,0.008298258205884082,-0.012031922089489128,0.018050925930483106,0.03027730585467694,0.030186075279449876,-0.029807872818426697,-0.02009663105257539,0.029116397042748376,0.012026701860143459,0.07234928818110897,-0.07573871977514247,-0.019078611316933336,-0.00674331015161734,-0.01630184540684164,-0.07472073008494615,-0.02196237782011608,-0.037724569041526185,0.031948935327638546,-0.03607373771708038,-0.04623847486167462,0.05216810926657709,0.05311597421587315,-0.051939668286650656,0.037068628240724155,-0.01995447480150155,-0.07450688685369959,-0.04947323443330045,-0.00407400058143327,0.02576876050804487,-0.07342890906202333,-0.07189519617346998,0.07186030767406514,-0.08914941482836154,-0.011105093538153657,-0.019714473006608727,-0.07499651248188792,-0.024082894512945298,-0.005230892273649595,-0.02813829535669889,-0.07818326581171203,0.08399146812486893,-0.043786280252355515,0.012769935352321559,0.054773313474178006,0.07788344876412659,0.04541242222075443]},{"id":"chunk-7db5cddc-87","content":"Monitoring HTTPX Requests You can use custom httpx clients in your models in order to access specific requests, responses, and headers at runtime. It's particularly helpful to use logfire's HTTPX integration to monitor the above. Version Notice This documentation is ahead of the last release by 2 commits. You may see documentation for features not yet supported in the latest release v0.0.27 2025-02-26. Agents Introduction Agents are PydanticAI's primary interface for interacting with LLMs. In some use cases a single Agent will control an entire application or component, but multiple agents can also interact to embody more complex workflows. The Agent class has full API documentation, but conceptually you can think of an agent as a container for: Component Description System prompt(s) A set of instructions for the LLM written by the developer. Function tool(s) Functions that the LLM may call to get information while generating a response.","metadata":{"url":"https://ai.pydantic.dev","title":"PydanticAI","chunkIndex":87,"totalChunks":208},"embedding":[0.008372163973560094,0.033034166664633755,-0.04229511575344,0.03731664647035178,-0.007988212465459145,-0.08394434793256664,-0.010965514271635397,-0.01833928241564461,-0.06859962043543093,-0.04064638858172266,-0.08304460366823113,-0.03211202129951964,0.06969768502759545,0.04852384425571816,-0.04146197532637187,-0.03543887030063475,-0.035212314747830833,-0.016230094148847858,-0.07352128990649799,0.013450845629287497,0.07194223777795339,0.024413950976815375,-0.0641452312370139,0.01111037424818625,-0.006448675688789429,-0.026951463291828705,0.06207827881011824,0.033403490308883885,0.08915726748527338,-0.02541464275806374,-0.05056894739713096,0.05425185936783967,0.029569313725895535,0.03232756759027877,-0.042558973490004724,-0.016710723213030607,-0.07199407326267356,0.057560810217388104,-0.0030637789355294808,-0.0706707284893495,0.04896737585547998,0.023499344881472532,-0.004307838103895791,-0.004942289086711904,0.07564640875572537,-0.01545136018203256,-0.036312889969907225,0.05669076617222792,0.004262874359795785,-0.08602896963276445,-0.027272725682028164,-0.033876308570364805,-0.06727831837779409,-0.027732474409833754,-0.06770862002690888,0.007122027092175648,-0.028891959463381488,-0.08824029944776553,-0.013648732260645297,-0.028491606367890814,-0.07623342124767767,-0.02066983620800012,-0.08503740292177184,0.06669257176371822,-0.04410142503445802,0.05789244316258944,-0.04252460466013813,-0.018820900301474545,-0.007274178138363008,0.0520748275922184,-0.013375515620128637,0.06199094620380245,0.00410588926299094,0.018468911552004974,0.06568849905649744,-0.038741596996332596,0.01773187124129557,-0.08742432064785681,-0.03447581922068736,0.0883582994378651,-0.05796195025854584,-0.05126218902787877,-0.08515296756237253,-0.06856634343702996,0.002281034525517273,0.07407705692073291,0.07451443046597757,-0.0036726778000607386,-0.03558178446420027,-0.08827607851910783,-0.04250719050137906,0.05842360652715512,-0.03360645083868563,0.03974526138597047,-0.019672580916384082,0.0705850543341631,0.054217670294701856,-0.03377808907306301,-0.0574796158956535,0.0309745183619342,0.054204376086986306,0.01553028223776376,-0.07197645744509579,0.0024149084646430358,-0.04845677300009224,-0.01795934862990735,0.02116445235652277,-0.08876519581019064,-0.08816146697636318,0.020277957899033704,-0.019744306673711454,-0.019639741648448623,0.00778844740761203,-0.030809221916677027,-0.04324442594931862,-0.04141909518982714,0.07399959629833552,-0.053438887686327055,0.0662541113557531,0.06665078292721653,0.007207069012521895,-0.01774283587303166,-0.03061434097914916,-0.043801704028035925,0.047108142779852674,-0.0032692638136489886,-0.06000165471242147,-0.07857084203729274,0.014058428121346412,-0.02208300824670668,0.08627413691813243,0.0718665967942897,0.029331185462464826,-0.016209046604919074,-0.06827196065522433,0.044083448476221726,0.06628159878418637,-0.05594701884303316,0.011664449987534279,-0.07097064812431923,-0.07063671204877447,-0.06001398539615428,-0.044740794661706204,0.048906950880997745,-0.03598426999982794,-0.004386706935415472,-0.0474428699569943,0.053348928671566806,0.05365583864371656,0.0018177279188565504,0.07147257898645341,0.07912342105975478,-0.07008525971806215,0.08404010947252118,0.0072141128813297956,0.01823513900359035,0.046074335648542825,0.08031978360991716,-0.03665188853911427,0.07254775097182029,-0.05848167158776057,-0.05386591026698683,-0.03996360870276505,0.013994285136495314,-0.009677826303239318,0.05314808912138658,-0.03349707314450967,-0.048903511181823095,0.07419927668000721,0.026601424318096225,0.06677933482927,0.06819085411319736,0.07919718786416324,-0.0817912684172213,0.04082877528930145,0.04913800600873942,0.0884942054744646,0.01235696689391536,0.05790620008344462,0.015411698244888854,-0.04449375760905907,-0.007373251116941987,0.0663923699785534,0.06929589844088646,0.08565643850610466,0.071292651285347,-0.021764087389443743,0.07032664883651395,0.06055793508106414,0.024024565806600198,0.050195221332355475,-0.05824863118374987,0.056998263092305226,0.04857240439785617,0.07091385979045652,0.029512028414830867,0.00026035264444518503,0.06420652693009303,0.04153588309839731,-0.07436021798437574,-0.06398986726032432,0.026055772728384566,-0.002788795566251105,0.038209227980887626,-0.03532588722157625,0.025760480113593696,-0.06534560220927908,-0.01695293653675211,-0.040705613761726336,-0.06291982804786762,-0.045476348294629466,0.07989006700898316,0.03305208201855945,0.04203845665772557,-0.06814303540130288,0.004233269272151344,0.013957158810941605,0.07829852353179782,-0.051946233304819345,-0.06574411975913264,-0.04015012383798899,-0.01222405173070628,-0.02870629153212376,-0.025677658384676384,0.000869325091825102,0.014730428095810223,-0.03479938849860838,-0.053599221320885425,-0.022059904136449062,0.0016819264829678144,0.019287425336650666,-0.07420533778056672,-0.011480360619820202,-0.08492557469931056,0.03242497537243852,0.021593592664892247,-0.03260348660207709,-0.04658191446637721,0.024363030095484753,-0.06344511699549102,-0.065797006232328,-0.04526775244970802,0.0865720138067837,0.06981857062396733,0.04226834266418326,-0.016812156646888995,0.04908938524406082,0.026353040654758,-0.03471313543741875,0.015310739339414457,-0.0011433241201532242,-0.025396771776794707,0.08502243278292142,-0.01768882433672552,-0.06873356002208439,-0.008035956477491115,-0.06662745534393981,0.046566849469034714,0.06570185332665106,0.07723754172685057,-0.007670592827736758,-0.07346875615235643,-0.003371483535934094,-0.08801550715184382,-0.0024570082628441953,0.07915166166594981,0.02243630326834725,-0.07709865588396693,0.0328683640068654,0.018313270658157726,0.06497080757832996,0.08800937078896146,-0.044914270463423334,0.0880255762697347,0.08635705745585409,-0.017820555688256676,-0.07121434079140268,0.01931561054948695,0.06834802192964812,-0.0681455199009565,-0.030393059514609144,0.08382407420898937,-0.06345884992226646,-0.02574826289659859,0.07942445997176625,-0.07149838876734534,-0.03295090649430935,-0.07589201360008897,0.014241040595710068,-0.050455718139477704,-0.06912364079808346,0.02908275517134385,-0.05585919626921189,-0.07647126705585472,-0.017481484901435623,-0.010718250723903438,0.0019324297222158423,0.0007929181032470363,0.07351067259206634,0.05198398462006703,-0.03638188403114278,0.0435469493116233,-0.07409054821412643,-0.08025868996416739,0.009670268187632124,0.0041404403371602195,0.01766585894300366,-0.011842116191256644,0.01918670451873279,-0.08081592336550104,0.025637185718200343,0.042195149238245196,0.06085024566401907,0.011218273687252884,0.007252946696612334,-0.051030749438173394,0.008471969778438754,-0.0277860266523168,0.008702876215913157,0.06991902879555274,0.06206886663353831,-0.0279785870251822,-0.030473110190902968,0.02683472139199345,0.06973605929603718,-0.0867007435636646,-0.009196722818442159,-0.041128964413031315,0.06843975819586548,-0.020248192877240733,0.04422479526951317,0.034614239321231255,0.03756175193941445,-0.07721760441406694,-0.009225467836632984,0.03860942559552857,0.0809842092886486,-0.06197100406520592,0.07300668994569634,0.027526262050820326,0.05950445280732981,-0.016669218775921264,0.021840527131213882,0.08836972538016735,-0.045372772788643156,0.036173379964251184,0.04267175775063669,0.05824417780048079,0.06149195329264722,-0.04143386370071368,0.02107641014601675,-0.010321968565729488,0.021020260065836276,0.034485630111559556,-0.02588420806980273,-0.022946636642306176,-0.08457000699270763,0.0011797216941957743,-0.030210290576431684,0.056782767476555356,-0.04922353870865444,0.011469508914069629,-0.026737363928325382,0.019385593872265676,0.03254213085956853,-0.05528801995786305,0.08393379007087516,-0.054155370998885836,-0.08355051681050213,-0.011930322598847085,0.01276957948621429,0.06410807247413375,0.07012427402201937,-0.07592532042309545,-0.03563733973996652,0.053529544697368266,-0.05984245217356014,0.07917839890128725,0.04056303725566841,0.047254034799770736,0.01937251102694782,0.06771566322918747,-0.07876898779385368,-0.08918422340080608]},{"id":"chunk-7db5cddc-88","content":"Structured result type The structured datatype the LLM must return at the end of a run, if specified. Dependency type constraint System prompt functions, tools, and result validators may all use dependencies when they're run. LLM model Optional default LLM model associated with the agent. Can also be specified when running the agent. Model Settings Optional default model settings to help fine tune requests. Can also be specified when running the agent. In typing terms, agents are generic in their dependency and result types, e.g., an agent which required dependencies of type Foobar and returned results of type list[str] would have type Agent[Foobar, list[str]]. In practice, you shouldn't need to care about this, it should just mean your IDE can tell you when you have the right type, and if you choose to use static type checking it should work well with PydanticAI.","metadata":{"url":"https://ai.pydantic.dev","title":"PydanticAI","chunkIndex":88,"totalChunks":208},"embedding":[0.05433369078373785,-0.05545020763090285,-0.004067469892241971,-0.08560770273756667,-0.07979366066851712,0.060703049111779206,0.061881641204977855,-0.06913642660544653,-0.028166694983651656,-0.026064540091564052,0.066954059029974,-0.012640760318269917,-0.03820366963998747,-0.0008349559116483729,-0.016123098481591776,-0.05155546370412805,-0.04372811376840681,-0.07693582736577835,0.07057553085499381,-0.0014224040236228887,-0.017621911499278504,-0.0043615409996892035,-0.01627099722604509,-0.0453524227937321,-0.02756549611608961,-0.010064152002693113,-0.005554993394754724,0.021254456826221367,0.04404518224672599,0.053396341200495634,0.009184698597498688,-0.014675553786772365,0.03213332008567786,0.04816747990948607,-0.08477692248151121,-0.033365315748205775,0.03459901384440936,-0.06797474042036854,0.08206239066507168,-0.03712696545935245,-0.010661143194189258,0.02232579166726254,0.061441699033835305,-0.036299903614983975,0.08641543391855927,-0.07372913196708376,-0.08441120025764799,0.0103374659629593,-0.04270821242531842,0.021938405188786095,-0.06929145683050378,-0.07562285056493954,0.07625924730775188,-0.008932087556383774,0.08104973013583756,0.007828608170868143,0.08035109667396405,0.026536192743799033,0.044030892271129995,-0.014799500566353433,-0.07381081047013399,0.04153230047881135,-0.040202037028979815,0.07620905499386947,0.014752812801400391,-0.08692229984772126,0.0827686181968352,0.06484163281169895,-0.0070911228514141545,0.08564728293479795,0.050200506077409876,-0.017277189988625815,0.012886560965848746,-0.03823734862661835,-0.05297452848001188,-0.0761836609386593,-0.05814564662097602,0.017821658754327684,0.05034844229356917,0.02106257539623443,-0.04478118248933596,-0.04720820726974139,0.019396948570174717,0.0629970954664141,0.08080945246998748,0.05350577895162808,-0.03624923479083128,0.0269658742040099,0.031841782536007036,0.07159129505029399,-0.04737482842100368,0.06952476307525508,-0.01666208607500013,-0.03410537921584931,-0.0479996893591638,-0.06017335975351234,-0.0801011744676691,-0.07930120841332412,0.07320778578063825,0.04998579169300798,0.04207409896496096,0.06495173132303844,-0.033207702637297234,0.07868630003108879,0.08076564583025143,0.07253687748947932,0.06417606985094085,-0.06263393484158888,0.0024592394391694515,0.04083049162531079,-0.08269389040744003,0.01313080470972299,0.07485829716225875,0.04739102567089502,-0.05817727729374171,-0.043060500420061716,-0.00046032888888765833,0.02268957014972663,-0.02423161631968563,-0.04596159995191627,0.04796666594624795,-0.03809451431562437,-0.010476999127256588,0.06344889275276246,0.016669377282802204,-0.07845902487605146,-0.05214006296247942,0.07352629907735672,-0.04769054765477016,-0.04938466006478277,-0.08691860706570416,0.05887250551799674,0.07049315041585437,0.028815329306199018,-0.07654405960765558,0.08516891049414493,0.00046480164937786456,0.07578136490455784,-0.040688721336730065,-0.023556781400411356,0.01663374468771206,-0.07147484333876361,0.042830409073504355,-0.052512272764798446,0.03011486803395738,-0.05776926361785213,-0.08061169985656547,0.04535311299009444,0.0684663215442161,0.021961790768331903,0.04506926403818297,-0.06516625129424554,-0.05924640395538038,0.02098556888562803,0.004063695292396755,-0.022842776956008486,0.0536189131710972,0.0560246436295277,0.015375072029800622,-0.06520065153474197,-0.003631160893161945,0.06289771137082052,-0.07016143850746157,0.0843849999879622,0.0027158697516253393,0.046711765140323665,0.0720285368829255,-0.08220845962714711,0.05178302790994271,0.021802128491746717,0.04477227698282601,-0.011490828099648291,-0.0575129967276991,0.05747878404239277,-0.08574834352155042,0.06906895246913503,0.03384475713328045,-0.03151185132848486,-0.007271583462227867,0.05060741658802387,0.010959040355541598,0.012465190165177366,-0.03977555803603501,0.033287712660191406,0.00959929834047433,0.006195283535770989,-0.010509443455514775,0.05649151207692878,0.053426697601657226,0.008424757709202504,0.06892759351214867,0.04995869438145141,0.060317977306795265,0.06995905302312712,0.08622134314777793,0.07297853136832838,-0.0011226969211327576,0.01802360900610812,-0.010764261909504833,-0.039411621762963,-0.06130736884632491,-0.05598496933742001,-0.07977886155721117,0.08127488664202677,-0.004155656819253771,0.08341131213567052,-0.007994058792521781,-0.025102276297023704,-0.019423012831457948,-0.08396562626046472,-0.059322619278228905,-0.06934324981553623,0.06764291762246896,-0.0853368964504258,-0.035107298032886335,-0.024006109028877946,0.04174079271010033,0.021539292480978498,-0.027772904330677126,0.06721098079584215,-0.0726348721541354,0.06099672005921903,-0.023207777849353427,-0.040697335891466915,0.017273009413400108,-0.040732814582195354,-0.037784340572448845,-0.06488251883548844,0.06425441621490245,-0.028688718090253102,0.08706551111689755,0.036717997098813585,-0.05323616149956908,-0.08311667499276353,0.06000232390767255,0.08317006217836229,0.05337636496813095,0.04854665900551329,0.023090382410674494,0.007746774013667451,-0.0023417505400976416,0.022286579085203647,0.04155783417392665,-0.032750609191199764,-0.08625586391207192,0.06610343435654495,0.002092770946754616,0.038885545406240424,-0.009455226951399312,0.08542449267719804,-0.0031511142050263197,-0.017936718817534277,-0.018279332654537805,0.08423810147952183,-0.06511744164099521,-0.07362089994448856,0.07144736925089683,-0.042298717577598295,0.05935074405597032,0.029763352550479318,0.06635647676699119,0.01279419667114816,-0.08201425936351463,0.06295813388286176,-0.06948562044557616,-0.04582928394064237,0.04023595017950502,-0.021022621887190725,0.022024109423941875,-0.07457358008940347,-0.027348688708451144,0.028920437611960025,-0.002282713100364318,-0.010168057306632084,-0.012796714205473793,0.07038321759874842,0.06721239001610171,0.017320794517624846,0.05949084405394921,-0.038433578949045165,0.04486056941496497,-0.0359930847967742,0.03937940544887997,-0.0826694519709656,-0.06808737095728097,0.024114182053267885,-0.018358591021333272,0.0011218126478815824,-0.01166893327446178,0.08036949304275402,0.08415694355101871,-0.027498940325274505,-0.02684064434500565,0.07030088214611405,-0.046848287741399965,-0.060123002404704924,0.006146551873195628,0.02079355930880612,0.045860051092935,0.07772908962647067,0.07050762439396827,-0.013953273141204483,-0.017421516466525178,-0.030662879542239854,0.0067765209885045094,0.027262597838873116,-0.06908323259432485,0.06597070562740937,0.0484757135137827,-0.007782327753522109,-0.0006435210132286767,-0.07078362247364413,0.027993941969389754,-0.0797695329301308,-0.0012140093499264067,-0.03501848296148597,-0.024698223974681136,0.05367504235703819,0.038256584365043124,-0.008471235388247707,0.07525360206323427,-0.03725145777257764,0.06002630999006007,0.024175749453463916,0.03215388006093767,-0.003115528927163503,-0.029500291256804395,-0.02023389402544938,-0.029553434869108292,0.013846884042576163,-0.021490959352450014,0.06634237926463435,-0.0020989796066499373,-0.006970238203419986,-0.010583141279196564,0.04694411362536813,-0.06350975375570773,0.03957319127254767,0.04390193878338067,0.030507361611613888,0.053683274895759345,0.06574733726093993,-0.08336845169038257,0.035246471698067584,0.07224555220406358,0.008912951800446557,0.08537705627577315,-0.03762632744591006,0.0276031955233378,0.061120033708182704,0.016418593400767803,0.08590671307016802,-0.06197962823682685,-0.003209674725846344,0.018695647910675937,-0.02199777967796531,0.03812743790719762,-0.04698750606527309,0.04776022998958301,-0.08418293611380302,-0.011880067277215984,-0.019280124239398892,0.06634884047074792,-0.017447100414477553,-0.02043835144005617,-0.07159150268006761,0.05413240885522785,-0.08645623909841822,0.012804610879778187,-0.02041594756627862,0.00010154706817379923,0.024665820207756834,-0.06634247747611112,-0.01817105848176695,0.027195804241812546,-0.006931705737757453,-0.04794461123993787,-0.0156976548689101,0.06311310214815322,0.07872642022950545,0.04758820318556208,-0.005057267959321043,-0.07024616656938702,-0.08637358837767226]},{"id":"chunk-7db5cddc-89","content":"Here's a toy example of an agent that simulates a roulette wheel: roulette_wheel.pyfrom pydantic_ai import Agent, RunContext roulette_agent = Agent( # (1)! 'openai:gpt-4o', deps_type=int, result_type=bool, system_prompt=( 'Use the `roulette_wheel` function to see if the ' 'customer has won based on the number they provide.' ), ) @roulette_agent.tool async def roulette_wheel(ctx: RunContext[int], square: int) -> str: # (2)! \"\"\"check if the square is a winner\"\"\" return 'winner' if square == ctx.deps else 'loser' # Run the agent success_number = 18 # (3)! result = roulette_agent.run_sync('Put my money on square eighteen', deps=success_number) print(result.data) # (4)! #> True result = roulette_agent.run_sync('I bet five is the winner', deps=success_number) print(result.data) #> False Create an agent, which expects an integer dependency and returns a boolean result. This agent will have type Agent[int, bool]. Define a tool that checks if the square is a winner.","metadata":{"url":"https://ai.pydantic.dev","title":"PydanticAI","chunkIndex":89,"totalChunks":208},"embedding":[-0.01434378406660229,-0.013011369523907645,-0.06548536319492362,0.06753936337500654,-0.07572445967867945,-0.035702791932998725,0.0655492025738871,-0.08979686291076767,-0.06279166205443797,-0.08900615952712974,0.02704018654979489,-0.000714784718533846,0.024287874920659536,-0.028927337764818938,-0.08850468878362965,0.07276579557478287,-0.05883793003723308,0.0006197764793143704,-0.03345051123326182,0.05600163046746973,0.011718885396910116,0.03958786135204108,0.07788185854427794,-0.045576836011222845,0.0029491510434848022,0.039783038024699284,0.017053480765055796,-0.00958695131473091,-0.040767488528129246,-0.0214948827181878,-0.006081143895735374,-0.020539562792834858,-0.0450695878379569,0.008677204064334422,-0.05284512056224569,-0.026771783342389787,-0.006984094657776078,-0.04453625802894915,-0.008561205800372493,-0.07294478636602524,-0.04435470040199596,0.0029438689307601956,-0.015719600534949016,-0.029877576608688505,-0.025985392310130327,-0.03713422830400289,-0.027457214226566048,0.08121229308705806,-0.0013706429235900404,-0.02421951835453468,-0.011902021820660937,0.000668251955367926,-0.039925980675247184,-0.0430150292250943,0.005521716754681994,-0.07224068806689049,-0.08758624124884463,-0.02994210436402808,-0.031091438204125833,-0.015610486863798982,-0.00604413152433497,-0.077910521220846,-0.007813704963596487,0.03543665428402005,0.05919017846454281,-0.04910321006450714,0.04084394745452709,0.08017267049499695,-0.043064367322524846,-0.0695497713366218,0.028393434312955233,-0.04307976001778832,-0.08738943466869886,-0.028349799645972538,0.018992797801792867,-0.08374131817759027,-0.0900886219550841,0.010917203840948247,0.036100037517018665,0.018751748974117955,0.02122378542372967,-0.07462926559204174,-0.07931989301258814,0.09004606468385817,0.010050255339270363,0.010945993850956631,0.03886657246188326,0.01517700162342286,0.057515960027354145,-0.08363442781076856,0.028538439364824662,-0.07359216627864598,0.08322872375913538,0.0295210100115638,-0.02474382159113479,-0.07698134884288978,0.06963096491008328,0.03990350340457552,-0.06278409599116747,-0.006386319072311232,0.024972331536461476,0.05959006032843265,0.037026077743664704,-0.045675099281122865,0.08446146608926323,0.036269553243653,0.03646770123108773,0.0379834496852566,0.08379996841887759,-0.048318775970260616,-0.0869153147908598,0.04760435119639236,0.07002658109112382,-0.015118847282026072,0.02840117649752272,0.06578848880622286,-0.012630539372397635,-0.046401077067500435,-0.04562555550017635,-0.007802327447137417,0.09034497578586856,0.05925843091977529,0.08670128535892864,-0.023260552246175178,0.0369713355524013,0.01313625559308879,-0.010259780574348409,0.06140093346060337,0.05051991108859944,-0.0001491514796673842,-0.06513587071876932,-0.033659559607719367,0.04625941237215397,0.02784380135455119,-0.07053678479532956,-0.02530443099606275,-0.0008753937007488842,-0.06267033094160841,0.017210597016475686,0.035918170889402655,-0.09024104579674005,-0.011311236249135275,0.007989810011581513,0.010925281807642866,-0.010216968296732779,0.05260375568433935,-0.06167733493381695,-0.007601389303564414,0.03866496664465865,-0.0211899841353601,0.08995982866538295,0.055639891840409794,0.08633500094978658,0.050793449485706146,0.06554096305971135,0.03843153743144867,-0.02802933419569416,0.012616589805103287,0.015033812966316496,-0.037967269555567396,0.012224091847122495,-0.07223823814836974,-0.024965721292030674,0.01618723178175323,-0.05171531725383069,-0.02245618319521922,-0.07209192396938655,0.03418507472395797,0.03662181285047018,0.02783666267316868,0.01053870051018868,0.02447758478368656,0.08651833301220037,-0.022393510322602873,0.03355552654782071,-0.004202326433027829,-0.0684905453515185,-0.06540301516422845,0.045620798486192674,0.0543447130416263,-0.07064833258403581,0.05412955024610925,-0.07689130544587007,-0.026117711510371136,0.029873488144138326,-0.0055768187220092864,0.04139560126395859,-0.025305046402733768,-0.022108423653473843,-0.056743769697815395,0.03867562659750189,-0.07260621894404329,0.04458276373432101,-0.07157559243321457,-0.0379097428373216,0.08051261481161176,0.06775918058615127,0.07608952390848119,-0.036332682509013746,0.05311107978494242,0.01672811716828195,0.004341340455991973,-0.013577118112030127,0.015106911918693677,-0.003072846375433877,0.07846030092621911,0.07472365621757539,-0.021767630041830573,0.022415235369574783,-0.04807163972736046,-0.06808453975922509,0.015779913195361015,0.01637327798934667,-0.04040662884702305,-0.02379735439468297,-0.01827228929698624,-0.05351117253114775,-0.04794902596442054,-0.02826942590242605,-0.08650546392720618,0.06677757284921947,-0.0015850683876724911,0.023102033105898354,-0.006442095180102093,0.05676983769028276,0.010405871751878416,0.045377293309911006,-0.08516847894191894,0.07413477265887758,0.06709243055648603,0.04190582180610137,0.0608489814548314,-0.02074252659310749,0.08800812103865881,-0.0201887597123256,-0.049716331158703816,-0.07205626543637741,0.06365381143329092,0.005466632208336596,-0.07625942281336329,0.029213268627488288,0.03658429261829863,-0.021777713344284643,-0.08915679508129538,0.014920939260062294,-0.049191762673912,-0.05912506050459589,0.05134934941640161,-0.048812823596232006,0.04661058270179685,0.06597676432003584,0.04943641785432497,-0.05381393244333737,-0.012359187425222249,-0.07231250723244496,-0.07285231617539195,-0.02774021334583422,-0.020424049327442732,0.06106883029474967,-0.06422492980422344,0.002166588963376668,-0.06909009802840455,-0.07076087914205226,0.07253511664425262,0.08135151056826333,0.038028493236976255,0.05133469276543563,-0.017373884447575608,0.020827033386155182,-0.020239359894926073,0.012173270744085257,0.03685569120593377,0.04899809479166022,0.03558230192564271,0.013833083587259374,0.08300398737713055,-0.01616392379992356,-0.061927117683587475,-0.05314410191622112,0.07099182539751898,0.05758164657136484,0.01963092397964187,0.029406209731825055,-0.0601868670836383,-0.027985474350618527,-0.05863034445740242,-0.06336554904285746,-0.026112939851795944,-0.04184885727757113,0.02391995110987041,0.05795099879395305,0.07829603591074671,0.06574439196545424,0.016195593237532144,-0.057729560623727444,0.03876742870053447,0.07752285938929657,0.0900609468506969,-0.0747302827813952,-0.04515721776629114,0.0812315404129856,0.07784741439729821,0.07744909921011103,0.07049357493579597,0.08210225068568584,-0.07820600354427207,0.08575471598057115,-0.07944666899506787,-0.03322860210738668,0.0534252555042111,-0.04231367548192498,0.03068903774190448,0.004032101318148637,-0.045400638733207155,-0.005061049214290183,-0.025021860256047065,-0.03894601629560746,-0.09016660524541557,-0.03867128503227591,0.03570531656591248,-0.018418268764617517,0.031286513481655426,-0.05598079453208432,-0.06268992151161623,0.07788070921377117,-0.025445647665426497,0.024254497833164076,-0.059901013599557074,0.07873520670742283,-0.01930937401709151,0.02839430701216445,0.06108723360837857,0.01900337654880994,0.033495142177625656,-0.025848626806898093,-0.0774795365143333,-0.011947926315666279,-0.010051280034128742,0.05910511907753366,-0.06370197866652469,0.050197599309283025,0.08363896418782983,-0.06529289008125502,-0.07688816094737756,-0.023159451468050308,0.06336733309742602,0.01886916129244559,0.026690781339576,0.014895590817499386,-0.06780328201609764,0.07753832521430291,-0.008416229008371677,0.07683240257772096,0.0447706343288511,-0.06822276615272387,-0.03426777904253515,0.007638738682223146,-0.07278767137333336,-0.015910508279864788,0.08870896514888633,-0.001894946669988998,0.06191691024338499,0.06946036777758613,-0.08665016119018348,-0.037549073650241384,0.00024126315811137138,-0.02432842974786137,-0.07863113767337628,-0.004753028116408638,-0.07462611517252096,-0.019690625678127214,-0.08283580867321452,-0.011113538701569682,-0.017294265920913453,0.08073599955292485,-0.00888949773129346,0.00781086599979753,-0.029491962843075127,0.05046845311537983,-0.04605314274297854,0.08982588066894359,-0.029568196889881215,0.047533480674988075,-0.08679150873387033]},{"id":"chunk-7db5cddc-90","content":"Here RunContext is parameterized with the dependency type int; if you got the dependency type wrong you'd get a typing error. In reality, you might want to use a random number here e.g. random.randint(0, 36). result.data will be a boolean indicating if the square is a winner. Pydantic performs the result validation, it'll be typed as a bool since its type is derived from the result_type generic parameter of the agent. Agents are designed for reuse, like FastAPI Apps Agents are intended to be instantiated once (frequently as module globals) and reused throughout your application, similar to a small FastAPI app or an APIRouter. Running Agents There are four ways to run an agent: agent.run() — a coroutine which returns a RunResult containing a completed response. agent.run_sync() — a plain, synchronous function which returns a RunResult containing a completed response (internally, this just calls loop.run_until_complete(self.run())).","metadata":{"url":"https://ai.pydantic.dev","title":"PydanticAI","chunkIndex":90,"totalChunks":208},"embedding":[0.005788746876062129,-0.07066584530112435,-0.08245405251339086,0.03531580445530782,0.02642864915503597,0.08182072788910301,-0.02292261697118926,-0.021042442081857373,-0.0554848606738497,-0.07388657975806877,0.033765518757671066,0.014548216980908454,-0.028087076080042607,0.014710362470401394,0.03595738831196488,-0.01081586398674332,-0.009888094857709907,0.0540134861613035,0.019246113386928814,0.08224399095702187,-0.03011259033539257,-0.060569830647813946,-0.01707382332200737,0.046194261654046526,-0.035708269777400305,0.03891305693208321,0.08105859354806774,-0.047689613441518806,-0.04768238605659052,-0.08159352991551971,-0.06574982070611074,0.05373899294239094,-0.0031170292789392093,0.06425178518315654,0.07999315423371882,0.0785682659419519,0.015098965029203009,-0.04416939017824617,-0.07808110220291085,0.06171532591123004,0.04446673795557414,0.03966446645533098,-0.07151821352522947,-0.0551726589642073,-0.00896431897701713,0.06694480758379596,-0.0566275138740753,-0.057940177694349324,0.08160352518612317,0.05076486320150273,0.04631198979306464,0.0692461893002017,-0.023260189903073682,0.05371706372450392,-0.06657665157353272,0.0710831474644396,-0.06097538391719965,0.020445311235093255,0.056863361454315246,0.039796991502433945,-0.007261218097595864,0.05211742432224163,-0.05813723928951613,-0.00727198931100718,-0.06764016553839526,-0.044067146509722946,0.07117941641993979,0.07399140283165481,0.016006811044616907,0.022854444879193817,0.002034152694507549,0.0807582115785601,0.026024089348797998,0.057006580232525625,-0.021275975705630553,-0.07575334468221549,0.004636377815703226,-0.07659697984095432,-0.029758970663406,0.030707874016532178,-0.08050543279366776,0.024592328692123442,-0.07652937970014703,-0.05124777297537291,0.021252784319541772,-0.008785583212878994,-0.06863074435665105,0.01500911263661447,0.0033955382215321455,0.047336871356438236,-0.014439173871571467,0.06525101487453874,0.010674596524439228,-0.0032200264513494296,0.003507334269950684,0.04754438625882942,0.027684994977604252,0.01145274458125796,0.015984326309596612,-0.048020333487393,0.02119257869709259,-0.05903475823061355,0.056296547585971995,0.0221513108841598,-0.015374095638136593,-0.06494343869920445,0.0667087338635753,0.00969160099732524,-0.03436615815228759,-0.02983688455288891,-0.044094477983167506,0.08364514741467405,0.05212664698408689,-0.03346101171686216,0.053071818254085336,0.06022209048265496,0.035890891818865546,-0.04033199528539493,0.0038990196766864943,-0.03170937013609648,0.005846916903412974,-0.04056717598510838,0.08586620142661741,0.06336197558167413,0.015303708035470463,-0.007533266037233396,-0.05947330539516087,-0.046569484202419596,-0.03446097261487184,0.003369398994542977,0.03224660505016667,-0.08289168800969096,0.0520718992556839,0.049388063774298246,0.042536248326783516,0.05249210634593956,-0.02243317955018605,-0.07990164409415272,0.02862529888913775,-0.07757973322051592,-0.07335244065197608,-0.03622511528908941,-0.07125915916913254,-0.0015659413865007534,0.05303452381325973,-0.042518040551224705,0.037972412852971524,-0.06913185210107714,-0.04375470775972048,0.04154968245236594,0.05436282587755597,-0.029211785522793868,0.07572961756855061,-0.020844966156051803,-0.028484862069426554,0.06815265114275162,0.07430910630368748,0.050578940758317294,0.07019902176333634,0.06220329963211563,-0.026269474420158603,-0.03850425073136488,0.008744225571109671,0.021469781729403822,0.00956012848806331,0.0028811658587244732,0.0767352457145691,-0.00466656028966603,-0.044747054932422654,0.03672012337409562,-0.017387701650777194,0.0805947546350404,0.044853255254738184,0.06664892596150863,0.05334138849268678,-0.002193255336321477,-0.02550710055780219,0.0800437162112993,-0.05926004401098666,0.06677446358333473,-0.0255169179932027,-0.007061136442850604,-0.04192164869965449,0.046002488618595655,0.018210346059445933,0.07503191299992563,0.006310131251506083,0.03635237653358141,0.041109533571355994,0.0793592766521934,0.0054504539549767575,-0.0677519920190457,0.06989322607855193,0.023189257169728954,0.08100824065965463,0.05732462999569248,-0.07510023529379893,-0.020217205375316606,-0.0630758357965662,0.020626639674567508,0.08437795928184173,-0.05980346730791585,0.06116404145184543,-0.08560129396266121,0.003088286668756114,0.05403561361714422,-0.007603392602597657,-0.08051219722040902,0.024766924018085303,0.055942064936682225,-0.06377188193212127,-0.01090749379969459,0.079497006228559,-0.008879425428985413,0.05924476534860858,-0.00869238708622364,0.08293743254704597,-0.00026142023989506584,-0.011168238968889296,-0.08332601169744816,-0.04823794112792977,-0.025685402886586613,0.021901257440965428,-0.07260868410348437,-0.006275453252932688,0.04405305265554643,-0.02800139782900936,0.08307013221168731,-0.04048348619272949,-0.005985121662692279,0.06791174908999346,0.06362279164485284,-0.007901904565449503,-0.027707830958629324,-0.03786691733886211,0.020636758789491404,-0.027578405902667042,0.047168299101251865,-0.020658321332460462,-0.06483156727480646,0.034352823196585815,-0.031238329367402496,0.014646206640544989,-0.06570243305935285,0.08432230667504276,-0.012053439867907126,0.03361566480373834,-0.040209534265921665,-0.05620887236408231,0.05709475013193131,-0.04583869367930318,0.013604582245892786,0.06040076829070146,-0.051172915460863264,0.001240229618134214,0.035325987180705766,0.04107660662308653,0.03320783160450416,0.00811269376533259,0.033755850140478015,0.07520281964527048,-0.035053284516476546,0.004848303453534033,0.02070966222575456,-0.006798355330823358,0.08254640906246957,-0.059687201315325955,-0.030969913023877096,0.027693073412564204,0.07417873155376982,0.07878147186805803,0.0419575191713688,-0.07700534214092965,0.056685187750073425,-0.06717590538192472,0.0782983464710084,0.08461791790314183,-0.010788692966010635,0.08308246881713223,0.018427402117117603,-0.0020337619679541524,-0.06280773080567735,-0.07415644083841891,-0.04252959921244162,0.06607237373258577,-0.05735094901357208,0.023523855562824547,-0.025666354134466572,0.07629595636844609,0.03098822488685909,-0.004899208441510658,0.025738773050131003,-0.040778087044695405,-0.037619893078224595,0.0653297662768361,-0.03209154737030334,-0.04648302940593784,0.027036333053500967,-0.07872289649388574,-0.047059814296000486,0.008644854898924236,-0.0029801252469400263,0.010526694724865945,0.04052352491815304,0.016913501466092874,-0.04724628641563663,-0.0759779232053195,-0.030200900841931076,-0.06365025044726541,0.06769232116937833,0.037374486692605034,0.0108677435827119,0.06889359506040728,0.0842218203240088,-0.05673484978574755,-0.06908421807066807,0.08090489088522859,0.08345164658378587,-0.06415906508466568,0.07859756483036902,-0.018049837480225005,-0.032445221888502455,0.02774788659313161,-0.08030229338441505,-0.034775434585561246,0.03257002491250147,-0.07467716873434345,-0.03806384141615763,0.02554064158928665,0.06966342919920909,-0.04581465956395714,-0.037610795522559665,0.06261674840881377,0.07835395830887247,-0.04693793135579338,-0.06056415403727358,0.040868334630860405,-0.06649897326750863,-0.01809173810186596,-0.03796086606852245,0.05656154104985959,-0.05136748511832839,0.03299979837601444,0.07633543967276274,-0.0208033920160833,0.06036272244294216,0.0759626896758996,0.015862252502650897,0.07500578087632861,-0.04636712757737716,0.08457590825196243,-0.06056239339159956,-0.03758891238021671,-0.0637816402193437,-0.0329490840052954,0.043845254652428604,-0.06188144137553645,0.07525606685803186,-0.0823646035365484,-0.07007181276375031,-0.08193293267394088,0.06644453157177217,0.06818462849590488,0.06290501011988688,0.034762641054986894,-0.08346317679544384,-0.029127796745919587,0.062029972986568274,0.03654806822740301,-0.014510188615963936,-0.017266623810735817,-0.041905170661307174,-0.0818990399406194,0.002413894117681004,-0.03095253317830309,0.06387836864943815,0.04576582863389645,-0.03268922784022119,-0.08516444222011585,0.043359964099617725,0.00832557980626579,-0.03766399915872837,0.04734337552469521,0.003913645377380022]},{"id":"chunk-7db5cddc-91","content":"agent.run_stream() — a coroutine which returns a StreamedRunResult, which contains methods to stream a response as an async iterable. agent.iter() — a context manager which returns an AgentRun, an async-iterable over the nodes of the agent's underlying Graph. Here's a simple example demonstrating the first three: run_agent.pyfrom pydantic_ai import Agent agent = Agent('openai:gpt-4o') result_sync = agent.run_sync('What is the capital of Italy?') print(result_sync.data) #> Rome async def main(): result = await agent.run('What is the capital of France?') print(result.data) #> Paris async with agent.run_stream('What is the capital of the UK?') as response: print(await response.get_data()) #> London (This example is complete, it can be run \"as is\" — you'll need to add asyncio.run(main()) to run main) You can also pass messages from previous runs to continue a conversation or provide context, as described in Messages and Chat History.","metadata":{"url":"https://ai.pydantic.dev","title":"PydanticAI","chunkIndex":91,"totalChunks":208},"embedding":[-0.05365152067684094,-0.05321934805387884,0.06687532584030983,0.05128092225708532,0.018558945335592946,0.08553182860791173,0.0789488546223454,0.07186921939143764,0.014012413382209852,0.052209243651839134,-0.028794012799590728,0.0246097556799024,-0.020997150993833893,0.07494589732035702,-0.07152558270937148,0.03552485706883766,-0.019360308197092026,0.07700591576505256,0.05388132104075512,-0.008363383925926272,0.02546729136346681,0.013728009593453687,0.060393852647393935,-0.06282002006408435,0.05979945773282927,-0.013148812467626947,0.05926840240339201,0.003130511344232752,-0.07725405625401831,0.033205254113481936,0.07494954177007156,-0.04486423081786624,0.08553705649549652,0.018357731631066607,-0.00560181509115358,-0.07579279129511957,-0.060804513583140714,-0.014817386806169685,0.055227081966025736,-0.08140348300332624,-0.0121929639304901,0.0639706929002442,0.0070187159996440585,-0.026307050030418746,-0.028124840205077647,-0.08427754874913133,0.02847228020711459,-0.06787901145902397,-0.03483072586455383,0.06161091969502386,-0.04976179513197131,-0.07762600408628699,0.012867399512657593,-0.02093126593358418,-0.01865600679381554,-0.044025970758755015,-0.07272966485461993,-0.05404788680610213,-0.017896538355959755,0.0855811077514197,0.04404148237534878,-0.03438227257564643,0.0690634681309526,-0.08171637012751368,0.06350502043018735,-0.0764875882129895,-0.043002394155037316,-0.030636729976677594,0.0166326952518374,0.01674132102963608,0.08367767396256608,0.07092001702385277,-0.04689840006280325,0.06071872109259567,0.07080520048277805,-0.030197667490155292,0.0034163397042669017,0.05359770513726447,0.08202580492394394,-0.03526998821735453,-0.04302111313672065,-0.07397404043456865,0.0712340604329921,-0.07801511076164341,-0.04874897822229872,0.06157164450118088,-0.06333344390311824,-0.05591369184152345,-0.021894627285571407,0.05901848769354266,-0.019220856177587998,-0.007867244910864614,-0.031886841996124904,-0.05243769017926718,0.017281593102710026,0.018199789813985637,0.024723970589181892,0.02413678211708644,-0.040353174487129155,-0.048276939317058086,-0.023052538725297902,-0.005357252834704377,0.06999006783807261,-0.019113030302503213,-0.05178372277940193,0.0679979029049867,-0.04974831280585029,-0.003497023128456194,-0.006492962369523715,0.0751157458970307,0.04820772276231179,-0.0018101377967077606,-0.02185799310753842,0.040956289745307024,0.05502371231494886,0.05887461306814685,-0.035664632244346316,0.014918445615706218,0.04881412921632743,0.038497379573547146,-0.04472876826738824,0.029268844634427877,0.0713074593735261,0.0008030947834328963,-0.06418558649152425,0.018056625097976294,0.07256807599168351,0.06555572344439767,0.052680085377718455,0.08218229560856305,-0.029811743265875122,0.017801389529832352,-0.036058044242919425,0.03470080060913385,-0.06698937408826819,0.059021636308510456,0.02081841507782758,0.0833186557277355,-0.07314570687785932,0.015367378496320656,0.0592710184364337,0.017642468045996996,0.07653520577862945,0.0022203352103005998,-0.052799756592411866,0.04932912692522507,0.02678549754773847,0.07801935834991217,0.04092177284873706,0.025708395118554186,0.038968182000267505,0.05191346675928447,-0.001441124583256277,-0.0470225829077495,-0.014443933245937454,0.016093774523701247,-0.06486030805064799,0.057133803877165205,-0.020058483088575635,-0.02347359971516526,-0.03988732015748512,0.06497321147199563,-0.0007093878768591431,-0.018414302628341903,-0.05450234004131192,-0.044983378658515774,-0.031729838439213,0.02929380485885783,0.04102989511501111,0.07949642453720651,0.06103580689211599,0.008819506175904383,-0.04947728995117452,-0.049381897933957385,-0.07554504399933985,0.011477694285487032,-0.07154158090771492,0.025128720611350772,0.06906670001027938,-0.03967339004409332,-0.058152253028998235,-0.0648561553094383,0.024850453024320582,-0.08048201951078415,-0.048549677104712974,-0.03559324945392031,-0.02194309918235691,-0.07692782030477138,0.006809111123261418,-0.06151501731621274,0.03666209651684306,0.034477174990464154,-0.029212942202431175,0.004466976507231603,-0.022125602694672057,0.0850453397882626,0.08709206673353499,-0.08484165913458122,-0.05537631964083524,0.015402927023744255,0.05323422525770249,0.06307837390553284,0.039930159177999025,0.00811475185260611,-0.056060468857314374,0.030432239788387917,0.08729756272877903,-0.03093904077202385,-0.0213561917322607,0.015242152776509975,-0.046454424349597664,0.0469075838627754,-0.08630644838908046,-0.07131371973458543,0.0386122449383511,-0.0644304996984692,0.0020669026801615207,0.01574317024836213,-0.03426688949443301,-0.08342543292895757,0.045639236908658204,0.038026477103314096,0.048569728663451245,0.0476395064849456,0.07386084231474305,0.01777598968826615,-0.04163579049272671,0.0859114875862516,0.06041352244333637,0.043840955956703676,0.00906813238329891,0.05409079269341045,-0.02478922952983039,0.014965443584488189,-0.06564966609818802,0.03185912793922385,0.08523321465637099,-0.004809938268544624,-0.06604651014742306,-0.07813990175400629,-0.0818584984604909,-0.029841754342176247,-0.07391948299068432,-0.011658453969517328,-0.02612688586704653,0.05676199862042265,0.06713066079687718,-0.011636667160139051,-0.08083861981436559,0.08018698341200844,-0.046310448159338866,-0.003672791331240306,0.05940869172879238,0.04487917158781846,0.032888167961147886,0.05018900080854498,0.0685369655599167,0.08304839534442171,0.007440076560076871,0.029658904320130106,0.04027773871111332,-0.07270955819509749,0.085467147297901,0.0741138746494825,-0.0345799205390503,0.08122077881826724,0.0553016179870019,-0.026575661026890154,0.06043650586046209,-0.027709612123995954,0.07361077092095027,-0.003755354737394927,0.046339075005681025,0.08572531080714707,-0.009944982081543052,0.03611726590120908,0.02146003360836266,-0.06717402826641021,0.07883584029316622,0.07690157843016104,0.03255395585034996,-0.011264444511479309,0.07429275569112719,-0.08728970866104283,0.024522766653444057,-0.048346989627154946,-0.06957476774047679,-0.07296739904855569,0.0375257497974555,0.03632480066271606,0.06854384085592498,-0.07330286200220033,0.06370210185825007,0.03351295502128021,-0.061704155208697695,0.05894030089503038,0.017900682825276647,0.053610997515210694,0.03717340361634853,0.03552283474146975,-0.028181957320387162,0.011688372019484862,-0.030170988669164962,-0.04922200710034843,0.07275495221654557,0.03378194975815186,-0.0744578561455488,-0.048497351730140595,0.03686800445454189,-0.01210164011673625,-0.0764990218128523,-0.08580329783521279,0.06925484199525479,-0.03597751016255865,0.018007430950793116,0.006049210276973097,-0.08113076175439121,-0.08031247238197874,-0.0839049286712958,0.034204625622862056,-0.034728404273478286,0.04524126369249768,-0.044563580629514536,0.0014764295530293851,-0.014903670414465029,-0.024094282512522533,0.041866024859012765,0.058639235847789274,0.06542944023914167,0.042712030526508286,-0.04201497248453934,-0.001759726019084753,0.06050622288470785,0.00007560937690102081,0.051288120731109346,0.007239538130110696,0.031102984911059416,0.059031607282169656,0.03148341872731967,-0.022130705680314895,0.03385599559998939,0.05112750162443844,-0.028124010885565157,-0.0008647923143236082,-0.03653599111151191,0.05753731634824815,-0.07174494185414593,0.05763125133644497,-0.06774944807908825,-0.01539089073442972,0.0014665423794657097,0.06467572059729088,0.08500157818780595,-0.059176500738750054,0.011560315722984913,0.04630321248917207,-0.0816005387124597,-0.016389157915073026,-0.036645450782687605,-0.053229955290871815,0.03710704784743108,0.07416144085879255,-0.043141254395536476,0.03866086377780668,-0.024018222433320108,0.006584083177751557,-0.0768009292740413,-0.013190942261814479,-0.05969853496532833,-0.05254995513759867,0.003976033305648916,0.011380689169392754,0.049610381920271125,0.07683560323649144,0.00891554749689588,0.019152456041012803,0.03393613165576147,-0.05350750920389764,0.022597293298499792,0.06458933596451763,-0.0010382077796782189,-0.02424775442597141,0.04889998261346888,-0.07628220118251894]},{"id":"chunk-7db5cddc-92","content":"Iterating Over an Agent's Graph Under the hood, each Agent in PydanticAI uses pydantic-graph to manage its execution flow. pydantic-graph is a generic, type-centric library for building and running finite state machines in Python. It doesn't actually depend on PydanticAI — you can use it standalone for workflows that have nothing to do with GenAI — but PydanticAI makes use of it to orchestrate the handling of model requests and model responses in an agent's run. In many scenarios, you don't need to worry about pydantic-graph at all; calling agent.run(...) simply traverses the underlying graph from start to finish. However, if you need deeper insight or control — for example to capture each tool invocation, or to inject your own logic at specific stages — PydanticAI exposes the lower-level iteration process via Agent.iter. This method returns an AgentRun, which you can async-iterate over, or manually drive node-by-node via the next method.","metadata":{"url":"https://ai.pydantic.dev","title":"PydanticAI","chunkIndex":92,"totalChunks":208},"embedding":[0.024246104784173134,-0.05187408300207663,-0.013113986727645868,-0.05060007622839697,0.005575822201779335,-0.0888059736843339,-0.0883327301374307,-0.0542362101437657,-0.03535583193070229,0.07566909059067027,-0.00620547680507452,-0.013231799360305678,0.05192848246989736,-0.0726868756672148,-0.03770951155133603,0.07714488923409336,-0.005870420111381021,-0.020170435568272083,-0.06561108139285865,-0.05061219368612038,0.06093774827570526,-0.04841620529217078,-0.07470604938039647,-0.05893665255914873,0.027938630570644222,0.01955743160253164,-0.010766597597862084,-0.04183233762914278,0.03241667103281759,-0.0887430841032752,0.029421052676589038,-0.07673606453662604,0.05146695975313711,0.03397382784680807,-0.07252593812178819,-0.01663948158054596,-0.04361753184834128,0.08621781249878242,-0.04122191407357535,0.024512020019804927,-0.044523770882911234,0.019013792193096384,-0.030825980496945547,-0.053865392040586574,0.08429315340257582,0.044741051270598006,0.055981755955862356,0.05024127118512437,-0.0553005799904083,0.056712918163305225,-0.01593809887099315,-0.03786675552937814,-0.06802053613551903,-0.05785518949574225,-0.020225370666165525,-0.029342669794108052,0.04403870412766623,0.041944408088740476,-0.05932140671122545,-0.013161423396435354,-0.036415153801694355,-0.042932430201957056,0.08561266511182933,-0.03355504786043189,0.0342943422510766,0.060011773274265094,-0.05278282873001061,-0.0829547767961224,-0.05907161533578408,0.019715193245347568,0.012995592546658052,0.04306020275392148,0.0387723963909003,0.07791166419212943,-0.026235313707793483,-0.028721529660252827,-0.08837022132035954,-0.001878425638119011,0.033069323808028496,-0.00251244085458069,-0.009360076635054358,0.0614306511585473,0.059654232498558814,0.07419911943591485,-0.05842182177535231,-0.08392119011491418,-0.07013943793526807,0.030872891136602576,-0.020060282702736843,-0.006134045514539272,-0.019676561005193556,-0.05080366865443702,-0.0398062550891753,-0.077826286715072,0.07775586000545678,-0.03236779134581296,0.07361624164661874,-0.020943789477535085,-0.08194475577597946,0.060904126042918845,0.020217285605137702,0.07618091511262443,0.069863781298544,-0.0530755496768427,-0.027919918992025564,0.06148318152219997,-0.03629117893036427,-0.02412341895256075,-0.041406380774740244,-0.041115112530415845,-0.04407942563132297,0.04511787413477822,0.002702153764797886,0.042951770286058094,-0.043908464572720234,0.04649140452745758,0.023373973036609107,0.0807797081886064,-0.07295738108804502,0.028565335923107664,-0.005381568589035308,0.029614795495113498,-0.025780315411883307,-0.08365487280412497,0.05760785260321585,-0.011301664517240833,-0.05937287254427216,-0.008225503456166645,0.019215740353520566,0.0009906620634089903,-0.05557194393574112,-0.028404553361115494,0.06638339584645347,-0.0351548092195563,-0.06956148561591868,0.003923825560546565,0.060671496896041524,0.05203319417562923,0.015053398787443405,-0.04557518236742325,0.023097629223167358,0.005591681014884787,-0.005899721367263272,0.08865530898526411,-0.015946986051349716,0.02419226830818121,-0.01716649913689595,-0.047453340567702375,0.024257148801274962,-0.0541751614575079,-0.06817345634524882,-0.025677751884003664,0.0027402580295660395,-0.001748424597487626,-0.046584074053333716,-0.022593214223884852,0.04268087890162358,0.08864434109522444,-0.011572733911126312,-0.040269279538747045,-0.014557187580349702,-0.07224975126121701,0.07712026200467852,-0.08127276860595796,-0.06365533248874426,-0.05979885483999913,-0.07402006089953513,-0.07560402657916104,-0.011391853644250684,0.051361817666252106,-0.04589893902641177,-0.05407889528521647,0.003871304865210251,-0.07993128784846884,0.022552696861897682,-0.04612266372143071,-0.015596784774117642,-0.05160119872512767,0.07695827348947926,0.036572343081254344,0.07626894383106315,-0.08070501121348411,-0.024792618720359646,-0.08543084742780253,-0.05028787913761563,0.019672454543115676,0.03637491261114454,0.0635829428530787,-0.06102933021933002,0.05856895368520129,0.02683386478192591,-0.0009970428688900646,-0.05364961670404959,-0.02289914660544168,-0.004148569657925663,-0.04174292322619009,-0.021522052784768018,-0.007401026899136643,-0.05811362109492463,0.08034566328792206,0.06874213108181382,-0.02256654383358822,-0.07729853697297097,-0.047306457849258056,-0.07562473817855839,-0.016059267380278713,0.07611620512922528,0.000880545677305513,0.08684349566159846,0.0773513156770271,0.06356943172907899,0.02768105540578321,-0.02792722094648928,0.07548427070579897,-0.08335826489713039,-0.07325127956628645,0.0682917485678442,0.034043073704757267,-0.004614995834170061,-0.015393034510771533,0.08885401450084067,-0.064813071657122,0.054935184021966045,0.04802698288365996,0.015766627850556835,0.06824744075021698,-0.04126608208364828,0.018581445535713788,0.02281133507579107,0.019391541216409267,0.052028541672401306,-0.00468031270048364,0.06679167012817679,-0.0053609566448603535,0.013440732985572358,0.08174617438343731,-0.07812976726933454,-0.01335569820366862,-0.01703460944148027,-0.07600713656556432,0.054639287551323454,-0.06489804273850755,-0.07631421114686733,0.006179785009680768,0.08865592650020233,0.06547015249422102,-0.07134494859151921,0.016820477435779378,0.018304509622430503,0.07888576687240871,-0.0667920998814067,-0.08027727977694685,0.08178167629035812,0.07433005011120102,0.02668795551969409,0.05381764433925328,0.01785556761599819,0.0655347873240704,0.001786371224905869,-0.07564124118072467,0.028243393607037124,-0.010440248620286613,0.0512319266704429,0.07054564071414207,0.020173427806184648,-0.08418725743626053,0.03521563854443642,0.03934736019834237,0.06658661368661753,-0.028279679849897127,-0.034026079883211865,0.07975345251241756,0.054689468713166565,0.0030143263085967422,0.04833082019867191,0.07201749519703263,0.013486182507998464,0.00471697474576504,-0.06719033237148507,0.01782392882581884,-0.04408343926778738,-0.015643213828870496,0.07732999401405244,0.046240949411773286,0.042901976581786065,-0.0023747158736893764,0.07989969254491558,-0.05710492086696773,-0.06847942454338786,-0.005515754360022462,-0.0026111809298329626,-0.03491996723416379,0.08841557131188119,0.04221972983985717,0.014628785025798485,0.03402540713116852,-0.08616972242867056,-0.078430548978929,-0.009112955706701382,0.009120820815476032,-0.04277091656424455,0.02582526333912839,0.025798420263370637,-0.07115262433087338,0.056760649340668205,-0.030888527678044703,0.02130692368913379,0.039763734433421606,-0.04568533867102688,0.059387103620685285,0.01019550794137119,0.011767274447020977,0.05910456370448675,-0.004738967864255191,-0.0029070065494137542,-0.08872156141059827,0.036271310846943544,-0.03102088614343367,0.03266938325808028,-0.053902257156868784,-0.03945754798304239,0.08242036010532017,-0.0463209818344089,-0.018434850989283297,0.05373876420269006,-0.019856383438233257,-0.07272386467023806,-0.03613343682097037,-0.06652298429110509,-0.004959460092093089,0.05609765257725982,0.07853002203188045,-0.03799285378480974,-0.058283298230738315,-0.05863379462132497,-0.03234358423356857,-0.04393119895241285,0.06079763484096237,-0.027704867364073217,-0.011859776127471045,-0.06733302781471037,-0.033328021127539076,-0.046675948394238616,0.07860149579691857,-0.021433281232923374,-0.03949095361009049,-0.016645667327076338,-0.06969142884660814,-0.03009911988101326,-0.023210410123193324,-0.0845879499319311,0.07732375506919827,0.06706216248539462,-0.0007153423448212022,-0.02761575948411518,-0.033305677410684194,0.0023320853679134287,-0.03136175176379429,0.05208138573836764,0.040500626177347454,-0.04144662930938513,-0.08410238393055339,0.01254753144719056,-0.015819748553117397,0.0892807359219542,0.04267198663178412,0.06624956763526893,-0.031103747394862116,0.0421724121528133,-0.016089293522284324,0.07379605350703786,0.02982209011899061,0.07367349399123792,-0.07908665303563077,0.03370271002329925,0.06548752012495994,0.008986803136926763,0.08423490326738509,-0.06989873792542706,0.01626701232140411,-0.0215149356388328,-0.03555433318341757,-0.006264769756617773,-0.03806969630396589]},{"id":"chunk-7db5cddc-93","content":"Once the agent's graph returns an End, you have the final result along with a detailed history of all steps.","metadata":{"url":"https://ai.pydantic.dev","title":"PydanticAI","chunkIndex":93,"totalChunks":208},"embedding":[0.08738560202789475,0.030078870397499537,0.029717324187128986,-0.029311795691006025,-0.00917306864301448,0.07399111856067289,0.04278018226786251,-0.029224095940364625,0.0075834600645954915,-0.0037928123952706686,0.08452140420772193,0.003284659646547591,0.00019597218066086906,-0.03460262497523678,0.05562126701285969,-0.030456416215740873,0.06962770296157927,0.05108814531588578,0.046511064401247554,-0.05704763390102341,0.00035700781448700546,0.016725009242092317,-0.020817284748404035,0.07947594106498103,-0.047504130948533556,-0.01908065368856123,-0.03925511367718906,-0.06580682566346453,-0.060053205320990795,0.06524432974416758,0.06522981473976824,-0.07748640656294571,0.028314553610607838,-0.00933986353664756,0.024573902760609886,-0.007569125782953536,0.0545631672711262,-0.0014030891673622765,0.03319481999759122,-0.045533172525488504,-0.07956461163450387,-0.04754319525457289,-0.014760221963390259,-0.06915273784977687,0.05041730772478905,0.03996377373169597,0.02392628034196377,-0.01357140445573213,0.05584097560817339,-0.07402068539225444,-0.03308571988248863,-0.08893300586637184,-0.014305603186696379,-0.07641216860034973,0.04455427722924351,0.0803186869229945,-0.0009831271290587013,0.022705908251404026,-0.06404359611828438,-0.009159991885435653,0.08836423473319663,-0.04605907185965014,-0.026456923867515476,0.08788612022342358,-0.07946683013209656,0.08281209479537031,0.0010897451638813662,-0.032990436641724456,0.04077693042341527,-0.050119426268896206,-0.03938200029610493,-0.010658046006821284,0.05759627596173745,-0.07921965174211473,0.01735398905666354,-0.06873127791532808,0.05466449987101059,-0.03722445153885461,-0.071427383060408,-0.012021721547119443,-0.028032749530626174,0.062438152314224546,-0.07657849403331032,0.046380379512855265,-0.0851240403823602,-0.06508142413909468,-0.07530230975350163,-0.057757880482363876,0.04558459931698208,0.07902870824875961,0.03190181769709114,0.030975459215915397,-0.011321740141837492,-0.037112243360723614,-0.012708322154099026,0.08388605427707255,-0.073816027751608,-0.022545504081185223,0.02935130311554521,0.05762695126676135,0.014848087126278784,-0.023267412211679578,0.04423191462266992,0.019544261326713094,-0.06972440082688931,0.04360550729291791,0.05788090392620893,-0.019765662426156884,-0.05470527777360922,-0.005966039228509063,-0.013177554964899214,-0.0009415609824617387,-0.06390154541062967,0.07190970260831989,-0.08081127681464341,0.03944013744095115,0.07592195465408065,0.07370501117510271,0.0048637900840793535,-0.005679659902593439,0.061191583743565765,0.03745256200127796,-0.00803708522193782,0.08194354317805186,0.014609311351942506,-0.05819477035116243,-0.004837297665541781,-0.044662971189680926,-0.070234245050536,-0.012733719370728511,-0.06640446859390724,-0.06995203096331683,0.08099006622659796,-0.02185474064885445,0.05542926029101615,-0.08117109553151228,-0.04197095179548104,0.003297419757224841,-0.06817126535572535,-0.035768477909530916,0.011763292430722454,-0.025516720548798093,0.029028347846800192,-0.07042625383760251,0.05148377851564777,0.015491878222395696,0.0306165400794912,0.0531890907836686,-0.05747306914256716,-0.044157870474213275,-0.05594202742981225,-0.014584332595339327,0.08312606635893259,-0.07102345646484458,-0.07177165842704995,-0.01177296855855972,-0.006681173135586445,-0.0022701415359336675,0.024302488882288444,0.08754484630318131,-0.01133929421321355,-0.02064306711692894,0.02340531241405876,-0.06149008685983382,0.0577826581220142,0.04197595540865814,0.032591169151870235,0.0862971639604403,-0.0024512491818227747,-0.004192391345458242,0.07955910173987078,0.04552109121534918,-0.03607315097205282,-0.07767850092340202,0.0034942212571330462,0.07232392163482075,-0.01344334052904019,-0.07532533427718964,-0.0821573174043949,-0.0007931607301096387,-0.04565073589518451,0.0442345577095123,-0.01486514943802239,-0.08152441051829963,0.06842872099830168,0.08775801869157851,0.03369661426267601,0.04722565736389241,-0.06539956813096252,-0.029529974954585154,0.07998591340955065,0.0891380871086585,-0.06260631950092672,0.03963758361244067,-0.0101033843445726,-0.06591116427496232,-0.014137234707558576,0.06605073734150443,-0.0046641188045315725,-0.07453212112865024,0.032632871929496675,-0.08698217293427918,-0.07107749740914254,-0.04173254894476402,-0.03230634751838742,-0.015509813606214153,0.06878253428109461,-0.052614570006814985,0.0543276896736236,-0.01823634908531658,0.04642204514192493,-0.008739382953697087,-0.0857458140777024,0.04888720313212593,0.007803300382446706,-0.03211085012854543,0.016007668781858903,0.08766713196489131,-0.05223146552617382,0.012467855646889287,-0.0511385763504888,-0.07237132922500264,-0.022860526234223806,0.08637466599697351,-0.03185775125289499,0.08289286738964828,-0.02460458708892482,-0.043590245027043374,-0.07798192574433835,-0.04462192036663964,0.03346574104028518,0.0486806791340689,0.024870683457366163,0.02973706415302679,0.02052665563125822,-0.05369225702925524,0.08365841219836394,-0.06902256648328171,0.018556307262623507,0.01354368154964347,0.0183615178877037,0.048656050666812056,0.0015207132750758837,-0.019915570290217295,0.05268740186825794,0.0035654337488277422,-0.0009218678976278179,0.01088773498934643,0.006490636020208769,0.07932600363006366,-0.041320134899621094,0.026363449007611853,0.06071665949469545,0.04036501677188907,0.02926099721842583,-0.03469057621963261,-0.06339450330385739,-0.07434617548710494,-0.032305635296649676,0.08639783979459456,0.0844834169607156,-0.06057992608343853,-0.06355398143803945,-0.0711109646853108,-0.023703405855838362,-0.004054534056894545,0.05630728188404951,-0.0055160797725267875,-0.010038262861884023,-0.061644399137850345,0.08748484019657408,0.08779929005722939,-0.06695436662879432,-0.07158859604592484,0.018446902162351474,-0.07125750636030732,-0.029989340559753535,0.02482868374562805,0.03684941917049012,-0.021716598271802317,0.01521994228272259,-0.020921505371980693,0.031648280927531754,0.05458326329900658,0.010546186076000195,0.05485322419666098,-0.06165539223682158,-0.035102447034361536,0.052302872808589224,-0.07955911330630303,0.06591056694485163,0.06968043658463823,-0.07988773771758095,0.07583460734370144,0.045778480225339674,0.00272740064805527,0.0868364637615101,0.04462291327758582,-0.02324441626361114,-0.001381312068806025,0.05833829660654858,-0.01427942110589098,-0.03120145437554405,0.05177138975070845,-0.010622217441270551,0.0033004901606198665,-0.038626722615413465,0.00017176762745441397,0.07734573455805852,-0.03979187780885212,-0.021840080646876984,0.07241094521537976,0.010414818399472562,-0.03528853825523592,-0.028429321952185234,-0.034177355911703816,-0.07297170012510795,0.0012236248301017074,-0.021244094095721457,0.038922099386831104,-0.04726999147554493,-0.03442054908871152,-0.043128166129612684,0.0036475843311442654,0.07904770207029077,-0.0015602377336103807,0.03095625728567511,0.06635731497726338,-0.0294797060176899,0.08424922946792862,-0.024441900413355696,0.04936339715949728,0.030473754573711088,0.027937759097520536,-0.039493831403794255,-0.041249248457129656,0.0583270587578209,-0.03570419824415847,-0.030193836218624866,0.060462146659916206,-0.035710952073214945,-0.0004916099936990351,0.06267559833840375,0.08134494206490231,-0.08323287171484486,0.05403030494638033,0.02072504807195399,0.049450712227541674,0.08537854248061892,-0.08643176826203092,0.014497293717667198,0.04851777172983041,0.08230231069254162,0.007478115128579452,-0.078105444656202,-0.04419207290489856,0.020164879343261867,-0.01861722562930448,-0.00893713635746359,-0.0432590022803049,0.08587824326618529,-0.010241399928901065,0.08279505979024972,0.01776678818797887,-0.022384556284111335,0.04011972964285117,-0.03506836516619445,0.01909604262733531,0.08723337066631334,-0.018040255307985666,0.01843588508651782,0.05808061138137085,0.08456448842049893,-0.04200260796304706,-0.07373314101661849,0.04646108549530178,-0.01363115420245297,-0.022657574537627855,0.04872983787782684,0.03686988796122439,0.057662230152717694,-0.08669798130162527,0.08376861215292462,0.027137122193809662]},{"id":"chunk-7db5cddc-94","content":"async for iteration Here's an example of using async for with iter to record each node the agent executes: agent_iter_async_for.pyfrom pydantic_ai import Agent agent = Agent('openai:gpt-4o') async def main(): nodes = [] # Begin an AgentRun, which is an async-iterable over the nodes of the agent's graph with agent.iter('What is the capital of France?') as agent_run: async for node in agent_run: # Each node represents a step in the agent's execution nodes.append(node) print(nodes) \"\"\" [ ModelRequestNode( request=ModelRequest( parts=[ UserPromptPart( content='What is the capital of France?', timestamp=datetime.datetime(...), part_kind='user-prompt', ) ], kind='request', ) ), HandleResponseNode( model_response=ModelResponse( parts=[TextPart(content='Paris', part_kind='text')], model_name='gpt-4o', timestamp=datetime.datetime(...), kind='response', ) ), End(data=FinalResult(data='Paris', tool_name=None)), ] \"\"\" print(agent_run.result.data) #> Paris The AgentRun is an async iterator that yields each node (BaseNode or End) in the flow.","metadata":{"url":"https://ai.pydantic.dev","title":"PydanticAI","chunkIndex":94,"totalChunks":208},"embedding":[-0.08284831170991476,-0.08051071270461826,0.07966944864660921,-0.016085832934880827,0.08266624507999587,0.047292977913566944,-0.02911635530792275,-0.06535760595147196,0.009518386285016101,0.07185046242646724,0.04142521682270134,-0.08386611295797607,-0.004669588898395916,0.021381102101883147,0.040703558595590085,0.04623441911930694,0.0042308842177437925,-0.03200363315151771,0.03678177487237502,-0.06847833645003523,0.054068294281621535,0.041993094524440014,-0.05450025523853965,-0.03897245739363029,0.056563754057526124,0.07638847757171355,-0.04566798743642214,0.014322801039269457,0.07508906492462948,0.08708160813105219,0.04194858920075383,-0.04017472555621937,-0.05822118778134394,-0.03416646017154701,0.029448967793788035,0.060536687949704,0.08548724122530584,-0.05645499794126435,-0.0019521971007355325,-0.026178229999154486,0.039355494745468976,-0.03554772534405059,0.012496680392655866,-0.06977359749533646,-0.030127210718574087,-0.08404548024941451,-0.02868969866946698,-0.08269415461107371,0.06457200340115418,-0.08370025327769931,-0.009518228245736384,0.0194905335115135,-0.06632170630004959,0.08531371303719107,-0.059076434470568484,-0.06951784627767059,0.030283044156029747,-0.0052473195821880585,0.027910376110722557,-0.0016373133645305202,0.037932108415662746,0.004009320974670389,-0.06474565791319498,-0.07690412312694882,0.016276370725679598,0.06538848137434439,-0.015341665446928526,-0.07718679013434032,0.013755979930202776,0.035567187435716636,0.035850162436468075,-0.016211467614700274,0.007525748620804985,-0.07807651639147414,0.06479757044804206,-0.03059043040011744,-0.041483300400866466,0.04210125836425568,0.00034703032217865785,-0.011301547309568845,-0.028146755823804312,-0.046734401767239295,0.06372042475191957,-0.07831637098251208,0.038257090553741165,0.05393841531985368,0.036329592710345124,-0.0276533507565761,0.015469706524251758,-0.005586628969497925,-0.01297605889042362,0.06443769030875197,-0.07915137691081439,-0.06503563879905112,-0.06840920439540646,-0.0876159785289131,-0.03857481605742463,0.051001946808682114,0.0085293468770838,-0.05826185705491264,0.05544687478368192,-0.011015368142556707,-0.08586642733057648,0.02468625507532228,0.048613697354780716,0.07426608893873823,0.04123776685591962,-0.07116965383333923,0.004627228438585998,-0.04461357688210164,0.029357368551484457,-0.01853552927609081,0.02756228769011184,-0.040942258322752174,0.06470832594021589,-0.02544332370288423,0.015641903945586486,-0.04944322864078082,-0.011145987391191813,0.03011301884294142,-0.01820047941857397,-0.05899193053663891,-0.022777814705877367,0.07233407781521353,-0.036443916205146386,0.06882700465087872,-0.02323188189919751,0.007135557309712601,0.0009707989071059104,-0.04744327172025919,0.037584936772966634,-0.023241741255074194,0.05706902507760871,-0.027053202815589913,-0.05872581457443916,0.06924421191346646,0.008111556489271468,-0.06279890628612517,-0.0243722995682526,-0.03872434503161748,0.08316242941052755,-0.037741553642394794,0.07081278911252831,-0.04084435886712089,0.07841823917053789,0.0030318059129567057,0.04231365732937599,-0.05901190967887654,0.03594168525766035,0.01095658019795577,0.012069497725479663,-0.04956853083542103,0.011961120434349983,0.054209906110290446,0.07655217062556731,-0.032698632390658955,-0.06815663084765364,0.027015275460212256,0.0358830810871911,-0.023123115504153306,-0.08190843828041934,0.0009414894027356222,-0.0004372328612594283,-0.027304154049822383,0.009140341092262371,0.00493947677148335,-0.04746743940027856,-0.03909172210490655,0.06935974659507814,-0.0530975684189311,-0.08672833561842247,0.04627260930539749,-0.08147349387704622,0.010352132745274875,0.023480819861820885,-0.04711752848205769,-0.07819984624904615,0.021167999687784003,0.0002103529874175337,-0.0725190315953868,-0.02020819834011886,-0.06723751530932182,-0.0477992312115272,-0.013540221746194722,-0.062402292152621726,-0.01161312176760171,-0.045488902412127295,-0.007958393143136898,-0.06914916538552122,0.035677533152448586,0.05198283463988474,-0.08519302007729254,-0.00024526586212273945,-0.001966095668556679,0.032518490880678125,-0.010564637907678854,0.031002144655271593,0.0007942011065829338,-0.05247052816053312,0.06244320753174429,-0.08789462391292344,0.0677732046756872,-0.05579622630302382,-0.019004811514488865,0.06117143248625719,0.07702926826293441,-0.06926960648620968,-0.020543777815464757,0.03788564617588559,0.048729908526497015,-0.08115301937858317,0.007389581900063884,-0.05356357171937971,-0.05259331648133139,0.04913918519362881,0.030927267447503768,-0.042143526835131166,0.05004071725989073,0.001350368765101752,0.0859274096445889,-0.03587312389613051,-0.043108104747009074,-0.021662180896943897,-0.013274103765613622,0.016966143946641407,-0.0685968335024735,0.04244035575183893,-0.01609402422324858,0.042577857948543414,-0.05284602042123706,0.014027008819194943,0.04975325419604393,-0.02821414730727576,0.08553400650302384,-0.06573351799663638,-0.06205922715247877,-0.05993581563989694,0.04371246682293846,-0.06438318944611886,0.0472073782697673,0.054360524112385664,-0.03837835245610214,-0.008759207555274129,-0.07835900715517345,-0.022002470694533982,0.08534127977599153,-0.03981274236039343,-0.022842943721995433,-0.08784236957897773,0.007095872894859054,-0.03214538227401628,0.05672888070690365,0.06521617155869355,0.06299812159229701,0.04468041488626659,0.037418086126307176,-0.044637516959708856,0.07849485512158555,0.03260675924563037,-0.047161118098089115,-0.0657012345354218,0.07034267375865734,-0.021360568297655907,0.03355265941247311,0.010847754638501041,-0.05053041417169474,0.04185352283170214,0.06721499205019552,-0.05081008654899547,-0.05712319349589198,0.07566474945948527,-0.05057278460343196,0.03676070578269909,0.00812404323793861,0.07642921380628794,-0.0341379995015815,0.03265094896991529,-0.024790403685090143,0.03188593082964469,0.0022820697415235017,0.03288717093716923,-0.0195346051926532,0.08182245008501642,-0.0508914396136061,0.07453492271621345,-0.07260789549066296,0.029304573519941503,0.07894036900284639,-0.03669090523912764,0.08357120933631798,0.07837332116004915,-0.044389550705307514,-0.006528371029201,-0.02876072541734974,-0.05521117584134439,0.034883131380578705,-0.08768533269160694,0.03831702152675115,-0.028836207955455544,0.052637471920039786,-0.07071620768674522,-0.0034402244554124,0.03923717207139931,-0.020510620847257334,0.014932499124427288,0.07014957878611355,-0.03709575507474132,-0.019134932131591547,0.06442778547910528,-0.007708969601898472,0.00531650739251768,-0.010657095877714183,-0.04217222421115433,-0.0230669495470608,0.05687791629913968,0.05451428037720221,0.08628305587173708,-0.010671597116255583,-0.031049191788021183,-0.07435012128635103,-0.055242672847392225,0.05464181817444408,-0.015837449392129256,-0.0760123562017925,-0.07308591354095012,-0.007478706409251734,-0.047648382071044396,0.04782774567282495,0.08391479606411206,0.06469210494577199,0.05933945501182524,0.013515254705281967,0.053465727612534646,0.0661554529963992,-0.058506721836495294,0.08244199833780812,-0.051482466189061875,-0.02612104514309648,0.04707149940784775,-0.08001284326233965,-0.07230068758840856,-0.03478338312992922,0.042878096069112186,0.054861370723807354,0.05307855018149783,0.06122820197402594,0.06858752134493823,-0.07339348043082834,0.015248104866165891,0.04852474085791932,-0.03819093527741272,-0.06291664281145366,-0.04866861381646662,0.07862023630564087,0.03498341049826679,-0.07466964580441633,0.04855263904512226,0.043314467089071246,-0.00906518709922432,-0.0569953492032242,0.005598130592284752,0.06059983520254114,0.046487691013213914,-0.0613927832849484,0.06679685973351004,-0.029733964298953582,-0.04214758780785326,0.04681343039216313,-0.025659691712481572,-0.08747086375453343,0.08334032470946066,-0.007450593519846087,0.07478277645339071,0.01266527396808279,0.07913190216153647,0.08383006896872905,0.08219398668688778,0.03662606430754721,0.0713035628822967,-0.0037524214329680973,-0.05165141347405638,0.01958764035644466,-0.0672424084670814,0.0696392301687855]},{"id":"chunk-7db5cddc-95","content":"The run ends when an End node is returned. Using .next(...) manually You can also drive the iteration manually by passing the node you want to run next to the AgentRun.next(...) method. This allows you to inspect or modify the node before it executes or skip nodes based on your own logic, and to catch errors in next() more easily: agent_iter_next.pyfrom pydantic_ai import Agent from pydantic_graph import End agent = Agent('openai:gpt-4o') async def main(): with agent.iter('What is the capital of France?') as agent_run: node = agent_run.next_node # (1)! all_nodes = [node] # Drive the iteration manually: while not isinstance(node, End): # (2)! node = await agent_run.next(node) # (3)! all_nodes.append(node) # (4)!","metadata":{"url":"https://ai.pydantic.dev","title":"PydanticAI","chunkIndex":95,"totalChunks":208},"embedding":[0.08319973417127358,0.04574767582951714,0.08250784586712007,-0.05300493033366012,-0.050001268768226276,-0.025150620794443135,-0.08684464223694016,0.007131366759459193,0.033651336534857176,-0.006233336861777951,0.018203666334505632,-0.02626459962810375,-0.0476060615397313,0.03777316598175841,0.055574831689207245,0.024623971139170014,-0.07057010440916343,-0.05290551048393817,-0.0632702575752677,0.007462788921807007,-0.06432600277327459,0.03574432765167046,-0.02104297151759977,-0.07908033810291915,0.021856178654909977,0.048653990484904416,0.03263433377102737,-0.009296559457914681,-0.03049764729108383,-0.07722656043825746,0.03643500856244868,-0.01842702009936736,-0.03169728676745442,0.013641150493663417,-0.07272925568821849,0.009519855281016863,-0.043940805653265365,0.012322194924943469,0.08238873801550585,0.017601491756811506,-0.02408951400866907,-0.03584398189645205,-0.06460745927292724,0.061637694870695564,0.06201418020309012,0.06915015265496519,-0.08513140651518081,0.04336054024875207,0.024128862596224345,-0.01559269201209536,0.04432445368606046,-0.06767867826705205,-0.030124905960988452,-0.012802193263847243,0.08512211026699029,0.08377708859175884,0.05379621015603132,0.07558727740887619,-0.03879699707850624,-0.06753678318590291,-0.04284453620080189,0.07722924343540642,-0.06655550626024158,0.0033124601844085706,-0.033476581084571876,0.03851043878258333,-0.03020486773616494,-0.015625600934152033,-0.06823241430228616,-0.04538161336714009,0.05627215683345646,-0.07801340818374154,0.04432687961422689,0.07412864002376955,-0.05155656891951251,-0.07568214710795304,-0.0015717789752062515,0.08653421001864084,-0.07349534704856708,0.05999647233330793,0.016712966028850355,-0.03448828977460853,-0.04754711233659819,-0.05552168027012865,-0.01946456051136094,-0.08725754385282038,0.005638373342803598,0.01846804913463849,-0.07357942370768614,-0.08183526580344183,0.083615873820121,-0.04351859068774769,0.07977941182431042,-0.062215329274856616,-0.05770264777833097,0.057877180505575436,0.030856257317380877,-0.0706789028775452,-0.042404976933172536,0.0065186472307621444,-0.04372017158495235,-0.062483828934117004,-0.0673340596306082,-0.06090390084242985,0.011558502626452456,-0.08205788741823196,-0.07006911513443474,-0.06510710726621981,-0.029114567273893374,-0.057064937007396135,0.07181918039763678,0.04686262149830228,0.04015911684057981,0.04753858983887404,-0.07902239255276677,0.08171590626626485,-0.005222778188275368,0.02511591537985104,-0.08345953251982345,-0.07717115750921623,0.046970860278757895,-0.01042552039830577,-0.056766232114210835,-0.06845769903837393,0.014751029350732062,0.0014799456095845715,-0.025416187651668774,-0.0186102688653006,-0.019513258624987585,-0.07703388051895162,-0.07229271841253623,0.07849562157393838,0.03627466407139098,-0.056541372298048384,0.04917076684054711,0.03240811534696783,-0.058349315681067555,0.020634705893672257,-0.03125312891142098,0.030315239630405076,0.03160166827059386,-0.01203959947880945,-0.012277815924761437,-0.07387238970662989,0.022679212532036225,-0.02029420717814177,-0.03650706882317403,0.03482874655888589,-0.08808769564533026,0.004766190126086306,-0.06400742676511692,-0.015846416342334843,-0.05539495388398812,-0.08397684449668191,-0.07476066695651395,-0.06547758468346387,0.00302271392341982,-0.018693113229031177,-0.02131324588096279,-0.06924165667235492,-0.010605402264636351,-0.047416433075079666,-0.05095663327514549,-0.014032516805495549,-0.061532981128762786,0.06870479346985973,-0.03190665643533,-0.02501636746697235,-0.0432909632987804,-0.04681475597128442,-0.02401550271933425,-0.053825423701800344,-0.03403814941684377,-0.010326691512066884,0.059277051367567876,0.07472659703388003,0.04441117161222629,-0.034633500434464545,-0.021204021030273038,0.08713968671327785,-0.03521898947658824,0.06523648440918325,-0.04491635063778052,0.026144788053073093,-0.036251539500304936,-0.02243052401063118,-0.0023910414024118955,0.026883256833825465,0.08561087881751457,0.027968299984548223,0.04708389547149817,0.03327256855010613,0.007815735599182909,-0.010231922090956613,-0.038569784452124965,-0.020547968675258054,0.060092902524148804,-0.0519640246133277,0.05400993122745046,0.0038239528166516975,0.0065624593423284265,-0.0601341708523806,0.05099788336912021,-0.009754849456504924,0.02009496977731656,0.03355341161953108,0.054359957441871325,-0.0542025035674041,0.02744730825105849,-0.03713129222231094,-0.008228531834146931,0.011147881416354729,0.025973156544191106,0.007001329718992729,-0.03957954264593312,0.009972520155554063,-0.07283723736585836,-0.06886341059374851,0.05129262851404243,0.016909331315858186,-0.04302508509203316,-0.019219889514250493,0.03971009469743852,-0.06320744269021264,-0.025786822839083068,0.08065862341008491,0.08606448982092436,0.04497946100154839,-0.004433319915756095,0.06612345355002325,-0.013744621845893836,-0.03699229192743541,-0.02236295136944773,0.08466997990862447,-0.000010723489787510704,-0.07520835849545787,-0.057860805024059846,0.05532358505115676,0.01603839641584473,-0.074281321877373,-0.04056208029235932,0.029216315724377325,-0.07811251663202678,0.08123547499065031,0.06030289175976692,-0.06968274182598998,-0.04066143931268454,0.07435291300723594,0.07889375589128518,-0.0849458464300281,0.06426383484983507,-0.012251428164865472,-0.03861902441722974,0.017790311752246747,0.005011981787988741,0.03775306571991375,0.052611450419283584,-0.004174429250209867,-0.06850362110926565,-0.009662921111231024,0.03102125836867842,-0.08077710248907063,0.08501999069477569,-0.08519088199479039,-0.0433033060148014,-0.013572888673088725,0.04564619842957369,-0.07223065455590173,-0.028117413050342425,0.07603426610286193,0.016178950003582777,0.08625953927300008,-0.05820460028401709,0.06823286254125592,-0.0471657243517917,-0.0810034059081251,0.06142927342674037,-0.02471384797116176,-0.007921316459414867,0.05322790657459772,0.06480319364181032,0.03050506517243662,-0.067119619298208,0.0044553653386077505,-0.008536063020367394,-0.02693061685854642,0.053098708162890494,-0.006611173675113913,-0.0029139787204667806,-0.0403577428473987,0.05513274498700165,-0.0028048816438244876,-0.018813846383678758,-0.04882351677770157,-0.012663945258568732,-0.05627507437437855,-0.08226913511686328,0.04892139964805957,-0.0013826228295349822,0.05268634422132388,0.04353827961736131,-0.0707575009574656,0.0693771682007721,0.05812612664942948,-0.08568674073592174,-0.05077147595783848,-0.011566167563440553,-0.04507269359667934,0.04944705349636402,-0.02112793138191034,-0.01297859973788676,0.053150169563299474,-0.04010552612559169,0.06055821959391858,-0.07002007490625911,-0.027470053565413086,-0.029465892580765065,-0.02468711758618729,0.07341372279158656,0.07945008315278751,-0.00728970432756999,0.05528919202792441,0.016376504659800253,0.05557110968649711,0.01900203395892689,-0.07875386489583396,0.07517375975600309,0.04356730068168393,-0.025324084245199167,-0.053467605006908066,-0.08832374244822845,-0.07947723988133455,0.003234866813210016,0.03469896373311582,-0.017253825677079632,-0.07373061487195827,0.07263832317868354,-0.033982372630593796,0.008962444329431574,-0.001008689918272717,0.07378665028941558,0.04833263611409818,-0.03654831796652368,0.05400467849278889,0.005789960133058241,-0.006479193256112698,0.023898159868198085,0.030615020505646164,-0.0792828603275723,0.016602768473575176,-0.05689519396999255,-0.029668297713798027,0.06423444298997905,-0.04548245884201868,0.030939839093052358,-0.047305183175195074,-0.059476756555811465,0.04348407339525994,0.011914659290744055,0.056329191325239246,0.07307887413527243,-0.04441396693357534,-0.005931477734724528,-0.07781829995669293,-0.04269357652277632,-0.026907351154354043,0.06578627105731663,-0.07770513143655586,-0.021739889678110864,0.08706199360222967,-0.07749003699518706,0.04752814275556233,0.08087232631362759,-0.06018888881609472,0.02212667306270327,0.04303748003786616,-0.08833826548112154,-0.014501757514964356,-0.08345770038925486,0.02901599716605844,-0.007865422397712183,-0.039430194811025304,-0.038835647409713674,-0.014718376383010039]},{"id":"chunk-7db5cddc-96","content":"print(all_nodes) \"\"\" [ UserPromptNode( user_prompt='What is the capital of France?', system_prompts=(), system_prompt_functions=[], system_prompt_dynamic_functions={}, ), ModelRequestNode( request=ModelRequest( parts=[ UserPromptPart( content='What is the capital of France?', timestamp=datetime.datetime(...), part_kind='user-prompt', ) ], kind='request', ) ), HandleResponseNode( model_response=ModelResponse( parts=[TextPart(content='Paris', part_kind='text')], model_name='gpt-4o', timestamp=datetime.datetime(...), kind='response', ) ), End(data=FinalResult(data='Paris', tool_name=None)), ] \"\"\" We start by grabbing the first node that will be run in the agent's graph. The agent run is finished once an End node has been produced; instances of End cannot be passed to next. When you call await agent_run.next(node), it executes that node in the agent's graph, updates the run's history, and returns the next node to run. You could also inspect or mutate the new node here as needed.","metadata":{"url":"https://ai.pydantic.dev","title":"PydanticAI","chunkIndex":96,"totalChunks":208},"embedding":[-0.05997430217708251,0.04588391517704443,0.056093904802953946,0.017406380480578874,0.07755793214071348,-0.07267984075943279,-0.023295000257454068,0.04121832259263238,-0.03900891132431846,0.047844327971695556,0.021387769223282223,-0.08305377587129041,-0.005720540000628432,0.03713759559402091,0.04151749332900067,0.04150881698582167,-0.0640926166307771,0.011902096331298347,-0.07375188231565354,-0.08125565207761304,0.07530137693772498,0.0692688650365132,0.06810009559109172,-0.07759056697405707,0.05927409742661757,0.07029754379553241,-0.0809837675333464,-0.01315745730018636,-0.018244828535530878,-0.0025903523911015,-0.0317553419163122,-0.005647429349284796,0.05275273105319833,0.025392411849887855,0.08920217152634645,0.028142982321453822,-0.0776572354165259,0.008666580484236734,-0.05109454113570993,-0.07426243656139639,-0.024140576324970842,-0.00624706088792537,-0.0445905417532611,0.018940409181900347,0.0911632445047278,-0.020400966521421916,0.07042877874976193,0.022621873263004546,0.019673435649278138,0.04746907398311003,0.08368964018953634,0.04131989828941674,-0.03684435991646733,-0.08030016157642618,-0.034806476125510834,-0.008675139530900641,0.07424108464857977,0.01529684300451387,-0.03049184556768229,0.04492676388948103,0.03944748574227331,-0.0893558962151034,0.03436906092765368,0.05564190037597274,0.06036413678453252,-0.033658224762365456,-0.04813935383231597,0.06444169498011329,-0.07746235720270418,0.07096652355406473,-0.0785430585527208,-0.029747205205015056,0.01242542279428552,0.027651711452678807,0.06026655258558808,0.02457527661632045,-0.07620649593324692,0.03306201936645492,0.0691561645431019,0.017832879315005396,-0.08545817251052681,-0.019148454116130302,-0.0863402684923696,-0.07386000058253307,0.04401973408345007,-0.06569828648090235,0.061958459074317386,-0.025939188660934618,-0.014234246050549867,-0.055076579443522816,-0.037495614681959034,0.018622916464510766,0.07409102982418879,-0.040526308322578114,-0.0871586793129527,-0.02096639777206343,-0.03816303586354553,-0.010159728061487587,-0.08714945718554115,0.08547983306448863,0.032060802320431306,0.05559221156096789,0.057089892571604274,-0.08493153088877617,0.008734041538504734,0.01148691671358954,-0.027782446890119893,0.035188721355537196,0.045665421601480606,-0.023519945414844902,-0.08698148240947441,-0.007159666728845558,0.08955367546108398,0.07574070099710468,-0.0070104285969020555,-0.020324215865317487,-0.04242987653160562,-0.060538266407662834,-0.0298252555476728,0.03582793537192657,-0.028703436280997575,0.021640364962521398,-0.008321191905334906,-0.05029424736513401,-0.0686096935509444,0.08203292113204247,0.008006407980373003,0.09209292212388959,-0.08211271427738225,0.03711111461871157,-0.014472668898114951,-0.0030094535021045533,-0.01788527719703973,-0.062461536605699676,-0.0780150162024273,0.015628335508714602,0.06218896525575091,0.02755587431191461,0.006666205397898512,0.03182912179857093,-0.04013593247626723,0.08385297880133083,0.05631472294806468,0.013792045493762261,0.04266203807278009,-0.03479431607896657,-0.06417305157346788,0.028926447427196595,0.03727478205163562,-0.05250849367889275,-0.08371810936281536,0.031781889450103254,0.028323517875508325,-0.07782736842201686,-0.0383119982628767,0.08025012620737386,0.002173378716425255,0.07440100776028492,-0.05609645880351335,0.01938031107355037,0.011512739974265652,-0.07628995677591714,0.06346173338358557,0.01829353308601381,0.003365256249470763,-0.007368085697763758,0.05029248847612925,0.016530615218260998,-0.027174804956244542,-0.06483054809419984,0.03847554183124976,0.053808304939533674,-0.026354743801189618,-0.05644590155239689,-0.08688495007558701,0.0809684404596181,0.07010917580901001,-0.04670982425430652,-0.04551726725066327,0.023856641065227904,-0.010602746863164475,0.0631606499948537,-0.013375540918531962,0.008904946213704228,-0.03976065885318383,0.027375554536046166,0.03481040312811806,-0.04112821927894271,-0.08751436296630355,-0.080173764696905,-0.0257189107821574,0.026773390903422595,-0.04990716977671987,0.08835622110792345,0.04293296918356837,0.03566671125581398,0.005630719613489177,-0.005547603604724387,-0.07624819049981903,-0.03766605748055006,0.023117535479945658,0.05673029146057072,-0.04695016499482571,-0.09040529091162194,0.0001920570928152367,-0.013075340515273714,-0.03136952689389503,-0.03789364910239653,0.012427373914503456,-0.05228017636283517,0.0701840834800113,0.04256814926817535,0.03860260270905331,0.08414521945181028,-0.004120912517868206,-0.005709952370477393,0.0349805319206641,0.03176633152367992,0.03154615251005603,0.034894578435952346,0.05547298763928749,-0.011809500077526455,0.06576008761364052,0.05352282674511173,0.04519596359165404,0.061774201860983466,0.02676667301047806,0.08800705943937993,-0.03386238077919784,0.014501068389013697,0.040052910369248115,-0.0810532684914539,0.0005135778917372917,-0.08895996707965102,-0.011417533895524305,-0.08261561342798261,-0.05945956558945735,0.0667831317253859,-0.024185730577252203,0.03714393468768898,-0.02494582310964788,0.01607743545327945,-0.006529621185215611,0.011404716398880946,-0.03765494021334546,0.012516517575105014,0.01523021083371317,0.02332208114752472,-0.06622853164681065,-0.04871075431597274,0.05082859020177023,0.04155921302095503,-0.008966628374600263,0.07296956869368325,0.06081448848689469,0.03618052259616554,-0.05590632519294112,-0.03247334403753748,0.055313779602062865,-0.08748227295517783,-0.07430629574164524,-0.05699010841000132,-0.025142553059769188,0.03594493513708993,-0.07183364800754985,0.0384185565835761,0.07752383849473587,-0.06936898846051207,0.050501103219242255,0.01872112626444068,-0.06728373487269207,0.07861433863979411,-0.01909481566242066,0.0551624952376482,0.07942958054103692,0.07627086854707439,-0.07115716756785759,-0.06946277091095841,-0.02075386514766128,0.0780341664714785,0.017683632454272936,0.06790677751284586,0.07527344237127344,0.026572788556890048,-0.06576331040039946,-0.005858681364501493,-0.0033379022423083585,0.04699512934158289,-0.0019243922201780822,-0.06844403028378436,-0.05880117044608422,-0.0030902347312093035,0.006635791001259559,0.007253576549255315,-0.06178384492281673,0.06249412370797063,-0.06814129849089248,0.002011735931980177,0.03171149522495632,0.005624611705319853,0.057101351155532706,-0.05518897109525226,0.023551518138590355,-0.008144770375503832,0.022309030073096717,0.05530348795344822,-0.07047781569392557,0.07696110820584974,0.046593084254883586,-0.08388231422825723,-0.004168429507164694,0.03378786615899851,0.010275479597767735,-0.07083410202980366,0.06269344970156984,-0.025446997118361306,0.00805871879687555,-0.024870397232140014,-0.024002556696056804,0.060308426173084566,0.05632159188937492,-0.029885434609837194,-0.05303226193282494,-0.03493476544909821,0.006299410540016558,-0.0917269068619816,-0.035268415411313585,-0.005625996178080633,0.06520160252038393,-0.0641332800682338,-0.05668736726782123,0.07267306452460615,-0.06002517228838833,-0.012139396341298637,-0.08972369604241348,0.0194769386959354,0.04477560647912985,-0.023285044479828945,-0.00439999175277873,0.01491785568673958,0.011910264652995883,-0.0787336782557487,-0.007533194075205006,-0.04095058577279784,0.0084314612273019,0.0070001390746124974,0.07585882170281291,0.04743854564500781,-0.0353572061947227,0.009786198880980094,0.08183687853627289,-0.0335474384624511,0.03237881858268901,-0.0137867830171031,0.011089765359879019,0.004770322531079927,-0.07067701032923593,-0.027681458117694718,0.03808933559048241,-0.04600145210826484,0.0512842025419526,-0.03138170510420944,-0.07890658434347875,0.052959507229925165,0.004919012050880718,0.021677943430480132,0.07682744355004503,-0.0440733760737751,-0.08471879861883348,-0.04314004467539735,0.004319049571486817,-0.06896718443414981,-0.002463136693645428,0.03280731033617776,0.027571799133117393,0.09183633233344456,-0.034027093521372925,-0.012951227677965563,-0.08226123990111119,-0.0881077041807164,0.05839653464804369,0.04983292809424759,0.035005794458425846,0.07300508186646207]},{"id":"chunk-7db5cddc-97","content":"Accessing usage and the final result You can retrieve usage statistics (tokens, requests, etc.) at any time from the AgentRun object via agent_run.usage(). This method returns a Usage object containing the usage data. Once the run finishes, agent_run.final_result becomes a AgentRunResult object containing the final output (and related metadata). Additional Configuration Usage Limits PydanticAI offers a UsageLimits structure to help you limit your usage (tokens and/or requests) on model runs. You can apply these settings by passing the usage_limits argument to the run{_sync,_stream} functions. Consider the following example, where we limit the number of response tokens: from pydantic_ai import Agent from pydantic_ai.exceptions import UsageLimitExceeded from pydantic_ai.usage import UsageLimits agent = Agent('anthropic:claude-3-5-sonnet-latest') result_sync = agent.run_sync( 'What is the capital of Italy?","metadata":{"url":"https://ai.pydantic.dev","title":"PydanticAI","chunkIndex":97,"totalChunks":208},"embedding":[0.08477526817349082,0.033714207994325215,0.08222464544953739,0.0006076609473105273,0.04925979167750624,0.040715619554083676,0.03426206867960538,-0.01802252762784029,0.08495950870747704,0.042473327301306284,-0.08382776678282294,0.06923292763958343,-0.021606281887435186,-0.01613526837214336,0.049035279261888706,0.029197337176193026,0.01446475018862579,-0.07897994422162997,0.057482811935593715,0.06072399675032049,-0.028416726105259502,-0.005411791577519406,0.047698229884814564,-0.01099759923709636,-0.014520808221536313,-0.052113274973295674,-0.02783219776053991,0.02280756764405234,0.054504452146131935,0.03457016842727156,0.030922274160975156,0.04392705361778511,0.07716131776581779,-0.028758106713737595,0.06130037126022479,0.0027033797066786025,-0.034277850521904324,0.016459726654679034,-0.0051573812869174325,-0.07227732448293438,-0.0683175264801087,-0.011132579252148726,-0.07122477852965242,0.04562378917915697,-0.06695295750999658,0.026228956246157453,0.03095831203505293,-0.0271743335061034,-0.03530371871483484,0.013099968580853414,0.005882647865847315,-0.003080148737588995,0.08236647553979663,0.04186222609809327,0.042756904718809156,-0.0615259861500783,-0.0843015851582674,0.07857617911792217,0.0624363449548267,0.07276404851421973,0.08497923924802137,0.014906136492173419,-0.03794537375401956,0.057341102518203506,0.03765590654651983,0.014538667718456083,-0.025946689004979654,-0.07926052377045584,0.03761918310667223,0.06606868115428409,-0.03022450770229117,0.022411761134895725,-0.04419839474948304,-0.07597873091501764,0.08470014137019051,0.03910187832756378,0.06357841805717543,0.03207083477417182,-0.07828045445164457,-0.05688983539846053,0.03619277197728773,0.042114622608635036,-0.08474237046685411,0.08122779919594977,-0.07773202673496245,-0.028312236782845786,-0.04096700687878548,-0.00602240387551452,0.0598797789115544,-0.00010616245509344686,-0.02023921394359921,-0.06344752061827429,0.05465711941706126,0.03992166810260156,0.05928061505183046,0.03208619564409842,-0.02127295511679326,0.0544816143168333,-0.055437240973344654,-0.053459446784647306,-0.08490937565306242,-0.06850684519386804,0.07888011249619117,-0.019832073131618645,0.0053128411898687765,-0.04626906044119917,0.07413929371979253,-0.0769243817960028,0.08119779154202063,-0.07015930387776875,-0.033791072610056684,0.04193705109403524,-0.0840162007823558,0.01819185716928322,-0.03828532603621193,-0.02923487272300044,-0.049968955601727094,-0.03485374603090484,0.0667995632713273,0.016330951400079022,-0.06777936960805077,-0.04383797241723169,0.06486089529460266,-0.041771970996485594,-0.06791023067414259,0.029305272403851786,-0.01761066966039992,0.05049463841689431,0.04981584378723578,-0.08078899617225647,0.011662667474316095,0.04292680602845053,-0.05336996695845926,-0.046348779108113344,-0.06405058287655425,0.07081396362714201,-0.01860978973437694,-0.05528406243835196,0.01510497442054902,0.08384147949674249,-0.05053581332672056,-0.08030046089549205,-0.03346081108252189,-0.08084129514137783,-0.03280924183127581,0.04687601559202786,-0.06871516747656502,-0.069387630515987,-0.04757345502835424,0.07593036444369522,0.044892592042352485,-0.009689190119539627,-0.06749272828677838,-0.08131737403539036,0.03258802072180869,0.013447591335660024,-0.04667459248163198,-0.0346210972186236,-0.05430377717527547,0.04439352053113373,0.04646776851710107,-0.00855812476646093,-0.028209858647856897,-0.033811664279021575,0.018454784735417635,-0.0821361326196607,-0.010070578247482673,0.05391459706674908,-0.009523155338310258,-0.031130911867662515,0.01933395453079216,0.007352604254191838,-0.017042486030623853,0.009189023752492859,-0.08383967357151248,0.014240995405551685,-0.07496504539795816,0.056670667833342896,0.07700689983234867,0.04439932677803863,-0.08283535216623494,0.0610795689443181,0.034157450604187116,-0.021355710574444332,0.00007637382621680695,-0.01293983966897552,-0.056691874460070756,0.02202799678702325,0.0626027100956239,0.07881068648000084,-0.037090035075638995,-0.06672049164738825,-0.0668947125499476,0.03953197064499869,0.03559121516079359,0.08134346553561646,-0.06776726554874873,-0.010724739443969192,0.011475906806677464,0.006140509319108843,-0.027889953275462766,0.0688073087968033,-0.08040660915245358,0.07982127635870023,0.08429367525518927,0.006310720987928468,-0.03583316963311052,0.049317743273748056,-0.02245158684162566,-0.07838822537861333,0.04645052864861949,0.0658345844265748,0.038076977292787056,0.02166618439789334,0.019364855293023998,-0.04626619217989765,0.07062962137126214,0.07915362453290556,0.01203851095156338,0.06972962441388394,-0.013212583844494943,-0.03189507329189974,0.07033466282254994,0.036224754954506985,0.03408681012822162,0.04224547272226007,-0.06284889473297842,0.053292200475019195,-0.03386414088862566,-0.0741467010963081,0.04946792726110616,0.08057840758828015,0.021855729457528745,0.0216379746583507,0.00698876794994467,-0.0026115960260791535,-0.045983101618752256,0.012583056531501099,0.0373912410197034,0.018569503841995984,0.08106709037155004,-0.020150698937211293,0.08120087386270575,0.020657625339460108,-0.03523594612733969,-0.020471022773506837,0.05150354414842466,0.08375236132066113,0.07271680696263726,0.012999077699660317,0.038229540093497834,-0.0838087987587867,-0.02490130637763181,-0.028012124155414448,0.07377850509055905,-0.00041985359547227764,0.07151771565710202,0.008399047884513535,-0.024126457667561253,0.06179459734272576,-0.01841732035327313,-0.03346370882679615,-0.04160108686736435,0.0310003376319388,-0.046400312299633185,0.027517658873062036,-0.07644413256125669,0.055086352673409396,-0.00608349565779642,0.051512259254628386,0.05501858475268406,-0.03550468099754601,0.023470123617984468,-0.0844610137911163,-0.05071339865950629,-0.07990607797478064,0.005590583808368429,0.03989427170981191,0.06697155096711621,-0.03786891502143805,0.02171001084000079,-0.007092994710121333,0.04139197437792372,-0.0353915194285054,0.039747556166971294,0.06883596186134314,0.07988730657085506,0.057474037769482705,-0.0763846335098885,0.02890048617610827,-0.0004955067507049804,0.06300720088727703,0.020907393766469946,0.01459591286454347,0.018084921642058535,0.06760056990218223,0.00678956375190548,0.07371956771486642,0.08133786009222523,0.0306691255227179,-0.08278990837703737,-0.08020135425032089,0.052432824144903994,-0.0063293835944428865,0.06486686827992645,0.018849057955215163,-0.07563988159496664,0.05970586007401368,-0.012610771384755567,0.06445611473169283,-0.015486981235494803,-0.060342613698905805,-0.03156719521026678,0.08200207288743934,0.038487500925601256,0.04936584567051232,0.007915784525402739,-0.03449976649555155,-0.012872072880315971,0.04595827495165209,0.004379297234484819,-0.04186992890290775,-0.023597549380352602,0.0068528622181687265,-0.027449062293714358,-0.021834961678343916,0.03863873613195692,0.0821837780710643,-0.020639258280030878,-0.07544100894027872,0.01563633474813828,-0.05316309711032798,0.010956998171599178,0.03815833783426472,-0.06797851511452843,0.024520542033558926,-0.06200502022091572,0.014031906977448782,0.0678314090433667,-0.01601129840494527,0.06845414469523785,0.061616964255068976,0.07855929781152132,-0.005639872403080945,0.08165508249003456,-0.08337266962104348,0.07261562747407652,-0.07815747589911175,-0.010659335580377877,0.0733157648683629,0.07887468705507363,-0.022697652914703062,0.08009802587326176,0.07869554161692474,-0.07910088151064099,0.038729831999397946,-0.04081077062285042,-0.04333725264235582,0.04851079768723023,-0.03506955156271156,-0.0745000392789631,-0.08495990855402549,-0.002977372220309173,-0.0569542574551168,0.008789176203074891,-0.058844058057871726,0.0791625861591656,-0.029194865890771377,-0.01709512871320004,-0.034143051823754766,0.020125669557601894,0.023941690914503853,0.07115911486429051,0.06572059397402219,0.06652329459236087,0.02900962342887621,0.0488662591014932,-0.0013340292018783476,0.01764450079060053,-0.02466071998877988,0.0031266333406545417,0.014078535109225895,0.011316802699006104,-0.003875837529257189]},{"id":"chunk-7db5cddc-98","content":"Answer with just the city.', usage_limits=UsageLimits(response_tokens_limit=10), ) print(result_sync.data) #> Rome print(result_sync.usage()) \"\"\" Usage(requests=1, request_tokens=62, response_tokens=1, total_tokens=63, details=None) \"\"\" try: result_sync = agent.run_sync( 'What is the capital of Italy? Answer with a paragraph.', usage_limits=UsageLimits(response_tokens_limit=10), ) except UsageLimitExceeded as e: print(e) #> Exceeded the response_tokens_limit of 10 (response_tokens=32) Restricting the number of requests can be useful in preventing infinite loops or excessive tool calling: from typing_extensions import TypedDict from pydantic_ai import Agent, ModelRetry from pydantic_ai.exceptions import UsageLimitExceeded from pydantic_ai.usage import UsageLimits class NeverResultType(TypedDict): \"\"\" Never ever coerce data to this type.","metadata":{"url":"https://ai.pydantic.dev","title":"PydanticAI","chunkIndex":98,"totalChunks":208},"embedding":[0.01718758119767514,0.01927754808188955,0.03615326014677128,0.057983609228560225,0.027967889900159536,-0.04522283303608415,-0.045020990681375085,-0.0859670951683214,-0.06008397068327801,0.031327525040527604,0.06923060234748062,-0.0307349875063095,0.06495031822348121,-0.009957180056550826,-0.020083276681531537,-0.028910661991571267,-0.04119811729123887,-0.07834389456385919,-0.07327847994122402,-0.06119179062336799,0.07168081770217237,0.03288984761226498,-0.06840249481975402,0.06748996583343407,-0.0023980312280028923,0.033522221071095246,-0.06165733002434754,-0.042365545327559755,0.023942173218531572,-0.053941210754727444,-0.053626273485677056,-0.04575579774319513,0.023570306907886012,-0.06104896805891993,-0.015435734953245751,0.00458788255023981,-0.01883689526690722,0.08261909199734849,-0.08295944950160784,-0.08338708721649433,-0.00524838737885502,0.013107756519978076,0.062121437675024566,-0.05069764139943473,0.048734959894831086,0.0828252458545245,-0.07029597330442344,-0.03817428666745034,0.05222303345138889,-0.003499549763095972,0.0719670330716082,0.04215114258578673,-0.057240104991657166,-0.0024366319465838407,0.054716915504883216,0.03431833930041269,0.018599795629690285,-0.013876034945465665,-0.010760484690751138,-0.0056136348625395955,0.06505041547005408,-0.02493391335088638,-0.05179783319257831,-0.01738973506841841,0.058979531066101036,0.030307136556724203,0.040766004062012105,0.0564372575495815,0.005881923561201631,-0.043076776591764614,0.001492000193591081,0.007200651403176412,-0.06762276239098629,-0.05577980240604352,0.04038541180859348,-0.06196818942651667,0.04896091597185118,-0.06437209388168517,-0.07499355689277902,0.03660803956241454,-0.06780203705050859,-0.025796672078572905,-0.07980796998126419,0.05236009749572141,0.06827505943221027,0.07290721648864383,-0.08414618478743238,0.028335199830567252,-0.023128815285095364,0.04355975161755114,0.019842086320341925,0.03335651159131507,0.07527578898372911,0.030973095495868082,-0.03613390548159315,-0.07989188118279157,-0.07127323223787115,0.06234521164456575,0.016011850931383537,-0.025315648811230485,0.009260596602135926,-0.07156924543276925,0.07935925807717913,0.011209672127303607,-0.04987143892695845,0.00022859628967889477,-0.04394769596780041,-0.0026085858458658965,0.01436889991669692,0.05062340463037503,0.07321068536390422,-0.032063083334940304,-0.006984301843545324,0.06829910305138193,0.07045775246404208,0.06517404313579242,0.06253701108691731,0.011833791937426017,-0.026456988320461058,0.0020222907278439925,-0.07250016480395081,0.0594272059867007,0.0021117571027200518,-0.05837304753200557,-0.024654534036272085,0.049786970267064815,-0.02665744339286199,0.0439573478126805,-0.021430438260933504,-0.018727515073932725,-0.026548799857355306,0.08472633130671452,-0.014029338295499658,0.08606577317573255,-0.04435779132677361,-0.08694357745694543,0.0879123267435859,0.05592399528573973,-0.010729963784311083,0.08523073434970665,0.07732154560856791,0.044057337810081094,-0.056630361031578064,-0.038552557475487775,0.041456256533712016,0.0026011293151266567,0.08033972039737691,0.0183013537926973,-0.04363086562911475,-0.009865681605128235,-0.047801000282336255,-0.007756628441099252,-0.05425359509715253,-0.08263609966807811,0.02043145792439443,-0.03072154302841492,-0.04181961599658443,0.023554016434041807,-0.02149217146458869,-0.04217545403393703,0.05576560886405749,-0.0365760893130667,-0.0817437155458325,-0.023932917540830635,0.020762080158115523,-0.03672779148917157,0.03536321454209341,0.06175066953361554,-0.07122384189469749,-0.03912495776494496,0.08601285546911243,0.07427068910182258,0.07545762685655781,0.08091498452015013,0.051150080369911914,-0.056797457488354644,0.08457559217881958,0.043013081187468424,-0.08624171425923444,-0.05503104292594012,0.08097721061372212,0.06925041422304291,-0.02085502226811778,0.01930848065700848,0.04013663006874062,-0.06313823596624493,0.002972236268949829,-0.010074235243961595,-0.05605440836567257,0.04245265374536453,-0.001975691371241366,0.012241166549683845,0.07423279801448217,-0.06210475538411327,-0.061261622374416125,-0.023680773501576113,0.036823883825045194,-0.018367244354118597,0.049761770529637726,0.05191640511978737,0.07664243639875294,0.006447447963637222,0.08660157258766929,0.039004640818326705,0.08103594288305836,-0.03461456600290219,0.047096755234001766,0.04199025366979189,-0.013357858753109854,0.0036029670194170456,0.0200092688501049,0.035404594288239624,-0.03736685985881004,0.06280273982538474,-0.08407405327637513,-0.025790426963569875,0.004924664171608167,0.010817830997183472,-0.03470909691454901,-0.04358582222112739,-0.07052379525397617,-0.07709490881824325,0.07067182795460751,-0.05471647709729928,0.04537626726818968,0.06901864795658813,-0.05950447744708413,0.08367845091378917,-0.0036466016991177136,0.08661716380792159,0.00918110363070189,0.055589784620747845,0.07338959757117329,0.057730738235894793,0.01403423549264731,-0.010552399738890782,-0.05768894808414546,0.01266392379832908,-0.08206503959348514,-0.04116942525705461,-0.05654327508948393,0.06661066884725125,-0.023379971110662243,0.03147297862356374,-0.003910485599442228,0.024923388364878812,0.051967274589099104,-0.041270896030548544,-0.04463355698016115,0.008235494872917592,0.005047491346169363,0.029918285295703017,0.01077057184022929,0.008955230829024045,-0.048851782577305505,0.028756174976323694,0.07128260575429725,0.007397606710702639,0.00042378731719811534,-0.0736068977378316,-0.05946069458116107,-0.06234165220362898,0.06007177411043035,-0.05056766545773023,0.05712768954201426,0.08599328973097689,0.07494051432126422,0.08192335325007195,-0.027920563870378407,0.053464629157442885,0.05636256296221413,-0.06403145702059972,-0.0509271838573812,-0.040538897723777785,-0.04770847448060709,-0.021853387373176953,0.08293029985047044,0.058188494055647064,-0.041984540491887025,-0.05382099937908695,0.07874887064922566,0.03188430888313643,0.06813805093397178,-0.05095536827372795,0.025061094010776292,-0.004693539769991205,-0.03181932507185141,0.07549201028355756,0.06805026765186387,0.08702493616763572,0.05951896725007795,0.07051115559074153,0.023408725951863694,0.0825335419324538,-0.03499335425803064,-0.05397054965521393,-0.07307451070861867,-0.016372586213902487,-0.00035317126709382394,0.03204959594108934,0.07331560708215647,-0.025601976312986188,-0.002706644496188992,-0.06260334288853574,0.055702867659811126,0.02805968866500006,-0.023868786066117146,-0.07658308236091403,-0.051440530387738354,0.012854959636583401,-0.07321647539700539,-0.005037443005799022,0.028040690230003842,0.02099448034746345,-0.017847316422995762,-0.06256877788285893,0.07714864831726301,0.07689995232932526,-0.0014643486412373675,-0.07070735265866508,-0.02230825965832234,0.053583676908261456,0.011305305616097454,0.054451832718552785,-0.05384028706268109,-0.010954889570304329,0.040112606104716064,-0.043718671640286436,-0.06272516943278593,-0.05760840930030539,0.015625653591309498,-0.0002267917648430024,-0.05944229584350592,0.024974686141138326,-0.057731848446114876,0.024025205592805653,-0.07396979092534564,0.0029672069164051623,-0.0758799609057968,-0.02744812226701072,-0.07930209939549993,-0.0682378437771976,-0.015609347976505794,0.0355259259249777,-0.03661604223730677,-0.032216352836152005,-0.08381672728457322,0.013666925991427959,-0.004101131307793713,-0.07915752277324771,0.05788724461030869,0.05561627581836098,-0.03553954984538725,0.063561479870656,-0.021918529368653298,0.028048291446160386,0.028449572107316842,-0.0298149866089673,0.07705552919373994,-0.07847906750762305,0.03151817414334706,0.08072285068710454,-0.03766574236577562,0.08088071609027257,-0.06113871950686711,0.05367562902018445,0.003262402585567944,-0.041626460556276564,0.06263363313598941,0.05368183714180044,0.012540968293167172,-0.010089609672171544,0.03929183398013271,0.0823663701403197,-0.06585282372963681,-0.027956884253023607,-0.034514040127390275,0.02292345144826039,0.06090645367379653,-0.0034739821647622932,0.0076531256658167604,-0.06389347800563379,0.05561623624023402,-0.05998969847597723]},{"id":"chunk-7db5cddc-99","content":"\"\"\" never_use_this: str agent = Agent( 'anthropic:claude-3-5-sonnet-latest', retries=3, result_type=NeverResultType, system_prompt='Any time you get a response, call the `infinite_retry_tool` to produce another response.', ) @agent.tool_plain(retries=5) # (1)! def infinite_retry_tool() -> int: raise ModelRetry('Please try again.') try: result_sync = agent.run_sync( 'Begin infinite retry loop!', usage_limits=UsageLimits(request_limit=3) # (2)! ) except UsageLimitExceeded as e: print(e) #> The next request would exceed the request_limit of 3 This tool has the ability to retry 5 times before erroring, simulating a tool that might get stuck in a loop. This run will error after 3 requests, preventing the infinite tool calling. Note This is especially relevant if you've registered many tools. The request_limit can be used to prevent the model from calling them in a loop too many times.","metadata":{"url":"https://ai.pydantic.dev","title":"PydanticAI","chunkIndex":99,"totalChunks":208},"embedding":[-0.08299652195199547,-0.08335791656748824,0.05433031907979434,-0.048659788937515734,0.08450374725804229,-0.03793299936999146,0.003652754380889555,-0.0002837874001408641,0.08715531406806974,0.040627965166925205,-0.03828566192181901,0.04876370982088465,0.07260514608142449,0.06325008651187175,-0.043773923099205636,0.07924198088836241,0.019237001251949784,-0.04906160408117308,0.03998756227923333,-0.026108239304128894,0.07299605187428082,0.0654004598432089,-0.013696599755156979,-0.04158432899670718,-0.056331948376791424,0.06027358091607241,0.057601588661018235,0.06693978985492655,-0.07411095135480888,-0.050827592317025466,-0.08654300029590853,0.013360746077784475,0.036223468381659005,0.05136028637453415,0.007090550507333337,-0.011706748549633165,0.05919436800196136,0.07809557677508268,0.021539050782728726,0.05226773950422228,-0.06534206875879771,-0.032399331998878435,-0.045759347172461086,-0.04610833375106635,-0.027237745128961086,-0.07863221204412431,-0.054786027876726984,0.06520648954726549,0.06155694096613286,0.03510985193520128,0.010752824624249112,0.0021091892734467132,-0.06395869944656749,0.06051099301575461,0.07806551738778451,0.017757242370235897,-0.0303025102495923,0.013615014934044456,-0.08751114286170406,0.048837799658883047,0.06776388020082416,-0.023351674050462956,-0.004671009372694419,-0.044269949316328036,-0.032182503256951774,-0.0686283400698496,0.029912060571531226,-0.08453639224254797,-0.07371797482281844,0.023763799093834404,0.08646808281755511,0.08459382665631222,0.010876766095133262,-0.03023432575867857,0.011494909240322846,-0.08686280773522272,0.047788592947062426,-0.07906943094132104,-0.0023649534898661922,-0.06953954093538603,-0.04831942081025742,0.06669772784455595,0.06491907056538489,-0.036499614325947234,-0.004901352765764652,0.08004670304370548,-0.016135402703298676,-0.07383587631479842,0.00574274158302513,0.004664306598010457,-0.08456538718208535,0.024577325887870524,0.024844418873707756,-0.07554023611871058,0.00894835928870798,-0.03977429275790584,0.06929956267529176,0.06613345673035814,-0.06284768049180804,-0.04446997424857016,-0.08551226095891604,0.004225339492702956,-0.002145651361688919,-0.07230462183574425,-0.06834618318743065,-0.049732462052083405,-0.08263865158441493,-0.07468016310062461,0.016023478727225315,-0.05300588458015214,-0.07980652223884661,-0.0344768917714678,0.0010754238028405215,-0.034493321149624216,-0.04286305210548344,-0.06112652894233269,-0.06996490873265013,0.03122790023182129,-0.0037876884314272273,0.0012483883963538905,-0.0321593210979082,0.0024189618018282586,-0.05713874717775546,0.005914705669956188,0.06186095563157516,-0.032747670462765964,-0.05705576332411197,-0.06841873674037986,-0.0835063374051358,0.027909011141284745,0.03137488113417653,-0.07930817388797283,0.016540722754422043,-0.0007828673540481294,-0.026402541664382537,0.006066064158294193,-0.03339167139787253,-0.027392220558450784,-0.003909047346940604,0.05674070450733806,-0.031011500803775873,0.06096500935769067,0.06066566876046403,0.028177723753684297,0.07808362474392792,0.039712556122276615,0.04621963647643275,0.0733518459557309,-0.040808475508096194,0.03810086935592314,-0.0250045746698827,0.06053860297055685,0.050916607965246864,-0.05574179625603345,0.008124084052340712,-0.07579148441030165,-0.016345160501712367,0.060633339257997014,0.029076443549886484,-0.009425437363640649,0.0370864981706777,-0.04917708981282949,0.033910566149900595,-0.07735286150077042,-0.02192523988305542,-0.04610542133943314,0.02324407401096938,0.034119503977376925,0.028344675280348924,-0.050221061186283486,0.010727459191385165,-0.03394700896252241,0.05735860924274645,-0.015115853828901396,0.08760971234425946,-0.07029286899473043,0.005924240046905607,-0.08637614201493683,-0.04760412157827297,0.010284625553133827,0.0548165452706233,-0.005382177442693243,-0.029799031724922733,-0.05303650524537717,-0.0037245680122697344,0.04831338015207126,-0.0848165952751039,0.050150462456884086,-0.07157202908774511,-0.05096978344105245,0.06732258698702026,-0.03594030957244629,-0.028987329491774058,0.054758992816234815,-0.014393550769029302,0.011944776466176353,0.08168795447435112,-0.0691209620883453,-0.058808575942845887,-0.04128902350677378,0.041369236423616826,-0.043040319236215575,-0.04145968395425498,0.07294351439812431,-0.017732369417360186,0.07318123999920911,-0.06072884108130567,0.025765439189459848,0.08449372842715434,-0.03910026627478541,0.06744748317690001,0.010217054413660536,0.017218404414385914,0.008607543467695919,-0.07977415554094422,0.07649248386567914,0.0727684950529703,-0.051328685305441255,-0.03247972305159128,-0.05445194067165871,-0.025166648477689943,-0.06760852123590008,0.036096282677675014,0.037672502653693936,-0.0701516090455085,-0.01855370378121514,-0.07053184062570941,-0.010360113956289533,-0.015199862187918136,0.031323337989696956,0.02212237445919951,0.011743434631674805,-0.01140801275107488,-0.08706001238291414,0.07090961004940083,-0.04292318166623472,-0.03657827201554496,-0.009351029740237618,-0.057476226123456674,-0.042247849602767416,-0.058244204241824436,-0.08553513730786313,0.07002791069160452,0.06031358997694932,-0.010004135681522345,0.0057908521882155395,-0.0706303790293256,0.019162026746173833,-0.056866989575780645,0.039498037076336916,0.05450460624845712,-0.04411799751798634,-0.058422733602951936,0.03313015305456465,0.07981067197995972,-0.07079941856090405,0.018732606635510334,-0.03761966098978588,0.026873050349527975,-0.0791504206249331,-0.0306692900619057,-0.08319771697679611,0.013490372396112194,-0.03933930333591807,-0.07562016295505827,0.06427530384874865,0.05721873234168039,-0.08733256433133223,-0.06469856782127707,-0.07588426946202097,0.04808142216744491,0.016145657485743477,-0.056011374948447615,0.012975705853199059,0.02361928857325335,0.07909994105783306,0.07848479276434495,-0.06347745267031508,0.06673260473162247,0.05786049874670225,-0.06743605201952795,0.011977259166097484,0.015032969388300205,0.07634157782115127,-0.007920537049198909,0.07834385635723347,0.041777658415558125,0.04439413919100583,-0.0029403669627733773,0.03111705917433329,-0.050326531681157596,0.014002635694185231,-0.07876224706679595,0.018339602171896834,0.01854911350213667,0.06175670393596769,0.08308422600160204,0.004431936202793633,0.06451750477669985,-0.03825491138200707,0.023133784239891975,-0.018458980653079087,-0.017055385134489294,0.03624832916570855,-0.07064623082758745,0.06247133675331975,0.04036419784758666,-0.032398439519358224,0.0316760359032064,-0.03355297497580536,0.024021881883881695,-0.012977927080535247,0.06301888982582723,-0.010453217833885075,-0.027087434233107794,0.03380104547103972,0.059050179761435936,-0.003913573307679381,-0.08666303201514816,0.06672686780917486,0.018171495459056972,0.025005178788749357,0.0645459032139561,-0.0799343471563199,0.05025575353664265,-0.0667348299436472,0.02089031480268554,0.01877261408561124,0.06618130984846245,0.07824503648756977,0.03090116075813921,0.07791540508557833,0.054348156862182175,0.03293036492650998,0.02765566727013223,0.06633835207139056,-0.08203373464863811,0.0023289213066536485,-0.002122175853880879,-0.011001997285923859,-0.012070383070777336,0.06028608225686217,0.025595207469768802,-0.07327858425318658,0.020667534795556303,0.06084890639439896,-0.031638974431461665,0.08069211854895358,-0.04081308918708126,0.031219362359243632,0.03876602111297151,-0.0409600672093545,-0.05348229944720224,-0.0005329339836406536,-0.05532879514785008,0.08482882508768823,-0.04690780467130149,-0.006926532030584085,0.054321075040856266,0.05003926359926205,-0.012342318031351631,-0.016694319043121082,0.03646632988256158,-0.03501472713445509,-0.020467148950120945,0.00793094596816287,0.07410321394986821,0.07634749105677813,-0.03933074693294723,-0.07933136538047701,-0.046187633620030165,-0.03624221871122997,-0.002368659596965788,-0.07855812493342842,0.03585897510066197,-0.023888799150289134,-0.022085671876694777,0.01139550666394678,-0.004217030775824046,0.009139880873695157,-0.06546818692464976,-0.016022836366754688,-0.016814992367029696,0.08669728638819232]},{"id":"chunk-7db5cddc-100","content":"Model (Run) Settings PydanticAI offers a settings.ModelSettings structure to help you fine tune your requests. This structure allows you to configure common parameters that influence the model's behavior, such as temperature, max_tokens, timeout, and more. There are two ways to apply these settings: 1. Passing to run{_sync,_stream} functions via the model_settings argument. This allows for fine-tuning on a per-request basis. 2. Setting during Agent initialization via the model_settings argument. These settings will be applied by default to all subsequent run calls using said agent. However, model_settings provided during a specific run call will override the agent's default settings.","metadata":{"url":"https://ai.pydantic.dev","title":"PydanticAI","chunkIndex":100,"totalChunks":208},"embedding":[-0.06909635958430477,-0.059170352945449374,0.025974317142299023,0.08059288069965345,0.004722705795534991,0.06857738590566737,0.01906818589650304,-0.023018008508254445,-0.007609936590810623,0.002266691980265834,-0.04312780960980436,0.013180532183131201,-0.07725452102983271,0.053083789622417166,0.048430267900673965,0.06829984420581346,0.020043143234733846,-0.04564123267416851,-0.009063567148843862,-0.05267437729677568,0.04361599507218495,-0.004661683640664014,-0.07126184186961022,-0.03900276591593669,-0.08553889171044628,-0.07366008313562859,0.05049026295008519,0.028337950916913747,0.013590476721170587,-0.020841398612564534,-0.08155314268883655,-0.023325092344269372,0.07127194802943032,0.02690198496186794,0.07556820693216976,-0.021650402573786923,0.004533287614051968,-0.06937513623436575,-0.0163165196243396,0.027511743531311996,0.07092749578948841,-0.036811420629862306,0.007816700549202749,-0.022915663933975934,0.07111286976037,0.04592082549515104,0.006158009003018377,0.0224139415680462,-0.00006627968555291758,0.033211833775924654,0.004775351134258626,-0.053203714691351794,-0.007716437020223905,-0.015950442428398232,0.02839614261321582,-0.04937807574373605,-0.0018265434377032137,0.03589723339358848,0.08607535587706597,-0.015503700803379554,-0.028446039698345103,0.04680495192613497,-0.03103933445375916,-0.015354901636302706,0.04761256537911339,-0.06864002432360944,0.06969911736305504,0.03745326054886632,0.030129967654238837,0.07281565429936694,0.025687227401865298,-0.07114726827773821,-0.07366833425023897,0.06361129943749902,-0.08751912915700265,-0.06593690714885893,-0.07448825896908345,0.05549280420756766,0.03767073501611117,0.08463627847632997,0.040216398376171504,0.004567073680508844,-0.06638843823681252,0.004686607465786063,0.07127849920008013,0.028298927143556658,-0.030134260589934948,-0.08348171938061069,0.010365045470696955,-0.029307511485536574,-0.02213204407815039,-0.030867544313235164,0.05264078622156731,0.08423272393466358,0.011759354285655615,-0.00967211693388881,0.006829387361056426,0.08879048191935066,0.06644821968646084,-0.046492516265522095,-0.0030494145206878985,0.022125844870406048,-0.020510350311755066,-0.07773688191315793,-0.06108398944156221,-0.002302208742460846,-0.01183414246623727,-0.001977136366173049,-0.059173442145178064,-0.06212352481249183,0.05051241660188723,-0.07133505862390638,-0.031341304237480404,0.03227530167882246,-0.053219523525262914,-0.07123451901932293,0.0005864732645388885,0.07150979434720076,0.06769052267359515,-0.0532460723280318,-0.0037099160501322856,0.023624742049224504,0.07958655298496795,0.005097861441971224,0.03443154872511881,0.05325861811017606,0.049410213673132475,-0.05279614709538737,0.034573044018337905,-0.06366508231953967,0.0383847494872216,-0.03818676999183717,-0.07161225725898447,0.08461636438147271,-0.049365954008183915,-0.07674127832215362,-0.024815337242637438,0.03092101538643406,0.036164259491573064,-0.06755490218141094,0.04605405539843376,-0.040070124328809485,0.06653934927079644,0.011861901830925928,-0.08721342661849704,0.014947613927492984,-0.0807604148766149,0.06977258173158282,-0.07967400591744032,-0.02139966387893194,0.04032844107476857,-0.01214856457659724,-0.08725231124503399,0.023840067685446876,0.05304617111295822,-0.011527157835027951,0.08222952003685047,-0.0168633717907438,0.0014941342092842716,0.03793728503165453,0.05928671060029129,-0.002929009926360328,0.012368782411814277,0.009699560026299892,-0.07350869680884713,-0.058717810111275595,0.026694535026528594,-0.08268575444396221,-0.02256716195806499,0.06943012560132399,-0.028713965460516043,0.04521781835159377,-0.031016490489892724,0.04849930200417356,0.023839333986565903,-0.07678462555374757,0.005085207975521265,0.03390695085505273,-0.06607083642428176,0.06797269137681855,-0.058539132335413274,0.04427434903636407,0.07429868974106714,-0.040154644492087936,-0.060865640919643985,-0.0358773631214061,0.024022337074584305,-0.06514950615620838,-0.07962754131272987,0.01770848251664253,-0.08490824299848858,0.07254858971279082,-0.08619380968604058,-0.019832432892095155,-0.06351412727472165,-0.04529927118988532,-0.027887638548872818,0.01727944293087997,0.07814967815374703,0.02808204182007002,-0.0002848134972126538,-0.07685187701270824,0.015996482711391286,0.08535299738255397,-0.0748009546328304,0.01520956833524,-0.0826560973867878,-0.06283558583869124,0.08252509684017291,-0.0006926501057491524,0.06591723407345035,-0.0013021043046847224,0.04027573542707055,0.04593576142394451,0.0629877120999236,-0.053578520969719795,0.06341997414095199,0.002449543586961726,-0.08255022550241824,-0.02726214667709027,0.05885466679467065,0.007412990475280906,-0.06283377933123871,0.04375526542213054,-0.05560412470970794,-0.06635783899741181,-0.05820500924780486,0.07852738116980698,0.05776219556113124,-0.07465735733848047,-0.06590667679929126,0.07415030242953294,0.013698552309047507,0.03392129610619568,-0.023148148575969335,-0.06232563381504459,-0.08279492216233857,-0.007008683898914519,0.03030714991363928,0.0801598713737938,-0.05309907140724773,-0.0730190663975458,-0.05434684918069516,0.03943259659785661,0.0734178626200806,0.031073686450900733,-0.0025762559448092473,0.08080214501277173,-0.036550150641210845,-0.06098613267465511,-0.046543421889365576,0.08609469596626429,-0.07325288269881076,0.02687112230525706,0.022351004525935164,0.06481093126733972,0.03229416782543828,-0.02424453304902568,-0.034930567119589535,0.021937458846799103,-0.03584028456029555,-0.021808024732664247,0.07203577533853482,-0.07920444972382658,0.08911254125055419,0.013246989648669164,-0.030304792946004994,0.03343957241959631,-0.023208673758738193,0.05093872112395031,-0.003021692410865038,-0.06705267389746948,0.05024748031531008,0.029091204667740338,-0.027364719469576616,0.05805928306672284,0.006056320985222809,0.06726470281643464,-0.06648042009203431,0.03379024011303762,-0.07180199136611436,0.0076032146327950955,-0.04779862784132296,0.003468997319263715,0.026860906139024147,-0.0575142381879267,0.01773547912188514,0.014360073019796962,-0.06766386609178306,-0.056674690117212156,-0.04696414901905259,0.03403386757181294,-0.003527837833055462,-0.056884244420516324,-0.07012090562035198,0.0902259271700149,0.00671936375168224,0.03399594636735065,0.08263211301225287,-0.06894976103212405,-0.0563704224743292,0.032839152559169485,0.041626124264653556,-0.08042087098950183,0.04073866561694539,-0.02528591060323297,-0.06387470907038996,-0.06042419512726096,-0.08538935315497498,0.05962466926521645,0.040800260177793056,0.038842373220743395,0.03132628322593732,0.024752244080931324,0.055815679661213764,0.07191079419443892,-0.0734330271730058,-0.08181435574836868,-0.04630641001040759,0.05739339408149743,0.07256620455456216,-0.05925999233975838,-0.02418842603148824,0.006039507671754178,-0.05571206341652893,0.014477661107421288,0.05605616243525067,0.08741290841254538,0.04013621078570847,0.07240332704889973,-0.06696987564573945,-0.05540189353541264,-0.07109613265878302,0.01985762263700449,0.07105616469259758,-0.04524613783319291,0.027372636576588026,0.0211665993170524,0.01748642862773427,-0.05486366160708837,-0.03405331833275563,0.030710666539095887,0.07156695082701162,-0.044825369746805,-0.05476598833838064,0.029582878685109528,-0.06644324452798386,0.010583575199515638,-0.06078699257279895,-0.009173151925235509,0.04321925161178533,0.02051514602489817,0.07764628449158995,-0.02597960290261917,-0.021145237272595513,0.061605484513860435,-0.08028246762670486,0.026241888458570166,-0.06555698048205096,-0.04069104827950248,0.05836115004607588,-0.04134816761654419,0.05284561449494595,0.0621217668967828,0.026811437255902563,0.02003793985722667,-0.06720968115846111,0.041960243231509466,-0.03719380000362541,0.004034805959847987,-0.02749583305557165,-0.028415214469288318,-0.0042096772616398515,-0.03643348479276627,0.053360963084128424,0.002622984637550763,0.05394115256969009,0.07827448354858754,-0.0026988100745638914,0.0334633346999177,0.05908857206168936,-0.014160748005956871,0.025491401547857707,0.008248254854854118]},{"id":"chunk-7db5cddc-101","content":"For example, if you'd like to set the temperature setting to 0.0 to ensure less random behavior, you can do the following: from pydantic_ai import Agent agent = Agent('openai:gpt-4o') result_sync = agent.run_sync( 'What is the capital of Italy?', model_settings={'temperature': 0.0} ) print(result_sync.data) #> Rome Model specific settings If you wish to further customize model behavior, you can use a subclass of ModelSettings, like GeminiModelSettings, associated with your model of choice.","metadata":{"url":"https://ai.pydantic.dev","title":"PydanticAI","chunkIndex":101,"totalChunks":208},"embedding":[0.05594644695358512,0.07294026434709026,-0.024019488059602606,-0.07848271515460452,0.0727785307044429,-0.07124449162684829,-0.03678336669506351,-0.02710102544288543,-0.053764989840021385,0.06563324377654205,0.02912848248306764,-0.01059840929884875,-0.017372733593634865,-0.018042166951347884,0.0005898143564691516,0.05052505176153937,0.05454579406561783,0.006956253546391302,-0.05940115114476928,-0.064049704124251,-0.08032062696886069,-0.05821572884287297,0.08017915625511585,0.06501880666990646,-0.04475476820457716,0.018229178569070664,-0.04413124610950244,-0.059441694342501,0.07017900539664806,-0.053427349644778924,-0.07257751432950614,0.032933263543387346,0.014435947426473746,0.051845443200133824,0.03743578460459767,0.07935791190658718,0.007071065662108174,0.03999225453110686,0.06313113435313439,0.014019345834478619,-0.005543946056361976,-0.02202364284857234,0.08147466225734686,-0.07170040878716546,-0.06419297812300388,0.06650274290310337,0.07095308380902335,0.07631743310187593,-0.07299813553704883,0.060220643096290036,0.012644386119691745,0.03966832847144559,-0.005635539044383971,-0.06303902483484705,0.052418885289784875,-0.05578452661552795,0.026961470004827202,0.06785101331028594,-0.055525691754028425,-0.03333468763151431,-0.035006700581853345,0.011832938069136923,-0.03826076019986922,-0.05624643260508499,0.030197006431442696,-0.016465933513776707,0.06305248386581436,0.0361005019144219,-0.054217779353206534,-0.03591485363247547,-0.0567608380817833,0.06871013592928808,-0.044645077943458795,0.06741550139028724,-0.047793049318569016,0.02568270507980957,-0.06053191216509218,0.022547064571394042,-0.008607516224790286,0.07965323714406741,-0.02363479517800223,-0.06970694900198421,0.03034430958239606,0.08405203938131456,0.022037976924528014,-0.03853586741109659,0.08093907290853807,-0.012995882868731967,-0.07559868278226481,-0.03586549181142776,-0.005818632197915335,0.027548803924057,-0.07179084499885849,0.009087614694565118,0.0269006147798726,0.06936317360500543,0.06470428654535006,0.07813174527377874,0.008861959789573624,0.04774579659165385,0.07652790897002416,-0.016420005091022094,0.0625786703459022,-0.06789628511001425,-0.05029023533146862,0.03411599334840281,0.05488276445093801,-0.028695217209949955,-0.07806406744866175,-0.008558597686360797,-0.06744378094240003,-0.06793217983481248,-0.058581876076348856,-0.050087202105994426,-0.04484662660691386,0.04239887267408809,0.039507561271653766,0.05339073157607177,-0.0450441622313548,-0.07927987616945223,-0.06448783138114116,0.013132114089624404,-0.06352402956736028,0.07757843567735478,-0.06157948125494808,-0.05739564467506751,-0.07212646898601095,-0.02967570886710823,-0.02506505554331547,-0.07945524655397902,-0.03940133759033863,0.08166771238095488,0.031005366151888206,-0.0602217797968532,0.07891699621288822,-0.06571974776893318,0.06960373313145725,-0.0548263582212609,0.014621097353679835,0.0696134457533181,-0.011251640129884888,-0.023252597394683997,0.05826250959572024,-0.037166105116079255,-0.029481107666745842,0.07420007152210277,0.020900733474439173,-0.05957640953452266,-0.0004671105629427212,0.07032126420086363,0.057311436228610874,0.027920451237437763,-0.06420310644937442,-0.038763637819424164,0.01563669945057825,0.08338866229722756,-0.05478999408331635,-0.015221704357600526,-0.0016487389748263122,0.02795678373095645,-0.02226028026160742,0.06503147161125813,-0.06385755469481601,0.06236971589925371,0.010840884243107689,0.024446493040806115,0.033442927741171836,0.06433585871397571,0.05920413000807946,0.08340249365494538,-0.06701939043293696,0.012474130207122286,0.015797830400388,0.014021192697043093,0.052085499550527055,0.048518225515886054,-0.07131968153343356,-0.0008685702987033928,-0.014205552321258592,-0.044458105977055386,0.00827246507171096,0.03845800156144108,-0.015497387821686982,0.047952939280710476,-0.06594375167459475,-0.039095781040026305,0.024270990308800033,0.024946697404106394,0.05257404660513006,0.012250557785705803,-0.010376455843836617,-0.01491053692844057,-0.06278263833117972,-0.05099700706233748,-0.025443641330627768,-0.04520731918276508,0.07630640620555727,0.05661821291081977,-0.033235155364721346,-0.019914820486803573,-0.0396295717503663,0.07778511891863517,0.0794575249124472,0.023439071270940463,-0.07055956734517876,-0.07326240768058241,0.06452017498384485,-0.04554001732173063,0.00553410551410662,0.05717155322026031,-0.06139612161038044,0.03118404167456987,0.0004982777873121808,0.0230509942567928,0.05477835032155625,0.04563948913257382,-0.029086012830903285,0.06447640481787581,0.014714836627757775,0.060159513948366855,-0.03703871451417619,-0.02035520731938992,0.047754372010216456,0.08221266071888281,0.07387960343596423,-0.045264432680028,-0.05469978755971373,0.011816946160866435,0.06802280232025543,0.022388388994925724,0.06684726118475989,0.06536991759835352,-0.006029055682840317,-0.025440909445874196,-0.02934645657360171,0.059449097628226345,-0.0782164027783441,0.003216034271304741,-0.019604007926390447,-0.07066785986737814,0.011615343379385062,-0.06320438267828159,-0.05525388024579515,-0.04711153370377567,-0.009733556882284288,0.06995591816899249,0.03686432367301243,0.026739774060424625,0.05394182998231458,-0.03264548573624258,0.0046611606477783545,-0.058525902867026365,-0.07229310304297294,-0.056291409387057956,-0.019367428326935675,-0.03055955638369978,-0.0714073025990012,-0.06362501496143927,-0.033887596076294636,0.07291835554337671,0.0026701710413953384,0.06262211919220606,0.012293554897731018,-0.04689113388613367,-0.0249526254009711,0.05486620450460768,-0.07487772119414954,-0.03109213525701797,-0.07625349738421591,0.03242322324684835,0.07393977529217141,-0.031460074115632244,0.05353250265331797,-0.015206102912272043,0.009801969709932773,0.08366941212721446,-0.029570199311745198,-0.030222272594995582,-0.034264737814918976,-0.011379708106034796,-0.05582528835463661,0.06182509373942568,0.08062379316639011,-0.0391807330978178,0.0821893177424049,-0.06670488692249109,-0.059737718155739,-0.003566765739185688,0.03841853811148079,-0.029539763095127992,0.04507511352144468,0.03559242743518911,0.0061760105385604966,0.011483765333558849,-0.07435222647064707,0.03174026798818577,-0.046493026305956114,0.020639854698458044,-0.016238697918976624,0.038599460990174424,0.009939314008190397,-0.0016867875941357884,0.012250179045833701,-0.0708627842767524,-0.06290683381151976,-0.0008135419044595084,0.0406603435621027,0.06837201369518443,-0.02574005851448974,0.061977926224501025,-0.04946804089407388,-0.05732617494343797,0.05589127468341459,-0.062363163092690466,0.04305406957081643,-0.07464679303454014,0.057651494629964724,0.007870993903084525,0.013260253069461493,0.07957602412022484,-0.010350080823492815,0.0064955280335947906,-0.023549225509305494,-0.06616112450282331,-0.004625348747746096,-0.04614844747988763,-0.055068893268050895,0.058516652430539225,-0.04411498780606395,0.04127083006245072,-0.0560104071879487,-0.06262521365886002,-0.05961575984156455,-0.043388361873747366,-0.05775852486877937,0.04757077357060695,-0.05463043174490576,0.0519464343657279,-0.003273559215921764,0.06554442261097464,-0.07723369417474135,-0.04807861134952744,-0.05975552137287817,0.061989250883721925,0.07492217828398139,0.04768531730911354,0.03407096080761487,-0.04668869609957857,-0.06368720835827572,0.033032135140589454,-0.0723129961501998,0.07463458558059599,-0.03007562383613854,0.00614080281411329,-0.047880437028434704,-0.00570101144640081,-0.04023744838693932,0.009112866295542792,0.029671734970944635,0.057498013568911946,0.07916674565094818,0.0831829394548581,0.06931836372556052,0.052985667523476714,0.05942257145082119,-0.07487943020953755,0.004219201766219312,0.05623028024112248,0.066411018592051,0.01282024314370598,0.08371235937511982,0.06355084607313609,-0.02712875862150687,-0.08049399100843484,-0.05339825866788282,-0.061263466006157424,0.03621813572061215,0.03763423614499117,0.07073761370117697,0.06008952182749809,0.030700499343633565,0.08167012808975109,0.05107670541721223,0.05135815981246912]},{"id":"chunk-7db5cddc-102","content":"For example: from pydantic_ai import Agent, UnexpectedModelBehavior from pydantic_ai.models.gemini import GeminiModelSettings agent = Agent('google-gla:gemini-1.5-flash') try: result = agent.run_sync( 'Write a list of 5 very rude things that I might say to the universe after stubbing my toe in the dark:', model_settings=GeminiModelSettings( temperature=0.0, # general model settings can also be specified gemini_safety_settings=[ { 'category': 'HARM_CATEGORY_HARASSMENT', 'threshold': 'BLOCK_LOW_AND_ABOVE', }, { 'category': 'HARM_CATEGORY_HATE_SPEECH', 'threshold': 'BLOCK_LOW_AND_ABOVE', }, ], ), ) except UnexpectedModelBehavior as e: print(e) # (1)! \"\"\" Safety settings triggered, body: <safety settings details> \"\"\" This error is raised because the safety thresholds were exceeded. Generally, result would contain a normal ModelResponse. Runs vs. Conversations An agent run might represent an entire conversation — there's no limit to how many messages can be exchanged in a single run.","metadata":{"url":"https://ai.pydantic.dev","title":"PydanticAI","chunkIndex":102,"totalChunks":208},"embedding":[0.0011657442003356843,0.010254617521238787,0.031249168541433274,-0.03769849930207625,0.08690082312352829,0.018084541247036977,-0.012325002741357085,0.05403329108823194,-0.04021349127533321,-0.07710498236963374,0.04960701261588814,0.0850659708344477,0.01839507394751018,0.08024346532311695,0.039011350786285606,0.05596255649025727,-0.05562221330845578,0.06139169295767864,-0.07220696846434242,-0.0530698746975125,-0.07879383133372944,-0.01825632813827647,-0.029489190705359238,-0.015668837051788023,0.08383325102122083,0.0007761866362168327,0.05225967777743945,0.00604672060242929,0.057556938866329836,0.0747883773305232,-0.03868117441345507,0.04912887991275656,0.03609930866677921,0.005095058893939046,0.002146219736104894,0.00966845669658379,0.03981274139207288,0.05749007574938325,-0.0783249054835857,0.07068934160835613,-0.08549743365160087,-0.06597405593888242,0.025394249829787448,0.08753531693553704,-0.017322199826153104,0.07705230363412784,-0.06330020706738444,-0.04835059255015094,-0.054083067074034936,0.013539900221861327,-0.03192185937930407,-0.009786322948306673,0.06696968114496903,-0.0804757969403527,0.05388175263947512,-0.03527042535654318,0.027408269938704644,0.05553007412765291,-0.015231331499105358,-0.039238531589904924,0.07611249578032253,0.05772511872330991,-0.06766624040334063,-0.04714286617944784,-0.07296306189026482,-0.019648579460936663,-0.03682443334884793,-0.020437083602483058,0.08204915968601502,0.006262833262141632,-0.08026488941711034,-0.07649995484686091,-0.06537378849606382,-0.07516725307124536,-0.04515732578021742,-0.0032724938300816055,0.03181224527543677,0.006116159884054547,0.06751042617866357,0.07310732558733408,0.06152495103291459,0.06470132213115481,0.06342517775676906,0.07950278123530351,0.006298891332158533,0.041166119193760474,0.045407347430319975,-0.010324398721882426,0.017879424114993006,0.021999105239191,0.035160125748998995,-0.05050938342415893,-0.0005268598461435254,0.007425145957839012,0.06005749287684432,0.00619858641863067,-0.02626038612826213,0.02637686864096685,0.0557529701616574,0.0817207744534419,0.06376097536726444,-0.04422890198775482,-0.0028339615507982537,0.04084108350371893,0.008691525665397156,0.041941200050543435,-0.08036162873143392,0.08501487101867224,0.058285761012415095,0.002367552741286588,0.07312700029135884,-0.08283557197516554,0.06166526856337326,0.00694533655569065,-0.052530439922302365,0.01893414554336262,0.04706105193453935,0.04041941075746906,-0.028276387667588682,0.011836594730670103,0.03478485358452961,-0.05252836671013217,-0.07159880250910179,0.03170402605143463,0.013455283513910805,0.07312454818010446,0.058857286422810386,-0.0710076369098822,-0.06049171567807891,0.017633356166855525,-0.06404899892127228,0.04354592715133465,-0.06008479999611011,0.02896487642819605,-0.02223225724469935,-0.05158099954416717,0.06320627290309273,-0.0028913356503271898,-0.08009000888667796,-0.06348974424725766,0.034169287578748625,0.0630234358277863,0.04550893555940171,0.08075210851377378,-0.043462612492417965,-0.034326620675043766,0.08245421012317407,-0.05682501867478643,0.08290238664492909,0.006802674846736741,0.06632123793885172,0.0021566174884683773,-0.027116775434570063,0.04762057334587547,-0.05804746270134273,-0.036549015281628926,0.021480930861816544,0.010285151995855658,-0.030347610572590927,-0.055250554128584796,0.038203795894624866,0.061817264734686725,0.008115784616351035,-0.0751910997835354,0.054727345245879494,0.009301623981517468,-0.06926902508897409,0.05088942199324907,0.06449320046551654,0.08571983586282157,-0.08264519606678153,-0.023513933745021028,0.062654053513852,0.02956616637438384,0.03914265941480996,0.07432957177914867,-0.0678316250915604,-0.06840316324784125,-0.05928789912454716,-0.0590816396633996,-0.04719516478654186,-0.019875246312108238,0.07943101630530182,-0.03420876143403562,0.07695129772237135,0.023965898628981613,0.013441715920138823,-0.04316885426009488,0.060198928870204636,-0.08018407396431883,0.07167719304076674,0.014869650303756587,-0.06080846325427402,-0.05481192315039282,0.023943744989821346,0.06339970341909704,0.028959882405452095,-0.059307057283079466,0.08652140792600818,-0.0653347898682873,-0.039533699444322605,0.02385263273720311,-0.0045059968103231115,0.053476732275535455,0.07649269479570593,-0.020526944425134416,0.06033181692886807,-0.08371275076479555,-0.07372955298294519,0.021450458115038942,0.07010981105407889,-0.054072943784685835,0.03351336691159574,-0.06946361148622374,-0.0015076397085500967,0.053972453050465316,0.023793586591652996,0.0679629148709506,-0.0030989407859182264,0.08245580982762671,0.0030357545837557446,-0.08638649460532417,-0.0750624786230089,-0.08063521822269584,0.009234402365909666,-0.045825602631659766,0.020096498400282915,-0.07149526055352498,-0.06938082541576851,0.07863954658840873,-0.050149782659946754,0.05526205025479932,0.02906372777345281,0.002943553903408222,-0.029181326933211342,0.0776462732210074,-0.08173933623716823,0.025168134198458196,-0.03054124303773538,-0.07237063674087565,0.0593245853428855,0.031217851618083905,-0.026828571723267892,-0.002723546842641048,0.05283682194662208,0.05532465719386245,0.03414879410640758,-0.0028169282950348466,-0.019906838823484777,-0.041059792212710465,-0.05023019497710531,-0.008019705221077833,0.00925902672072345,-0.011312397760875021,-0.00815325435375939,0.05728701254438633,-0.08539995192230487,-0.0389917806672297,-0.038412122909659535,-0.006679043822173642,-0.003961919192386461,-0.05131535867135832,-0.023532120785301938,0.06852561204894568,-0.014074927941962186,-0.01642050829751546,-0.06878293923588558,0.051103190679911425,0.04829549764281516,-0.08287401563596306,-0.07619751459052952,0.009228292516698692,-0.051231246840437915,0.046192231434172615,0.020117391905360858,0.021202098510737743,0.04282438641331609,0.049667188556833955,-0.03919986277066465,-0.046935768027805407,0.010624644717708933,0.06478546371194897,0.07998752832448833,-0.045910760637732695,0.07175867826357113,-0.03163978513494555,-0.0564725197551913,-0.03231318277709261,-0.052243168532541816,-0.06259194359004501,-0.08036189255068446,-0.04700971456633173,-0.08280344539498288,-0.009266526341025825,0.023211087388112693,-0.01733927276784078,-0.03677011326538356,-0.0843679981964949,0.04139623006345921,0.02512978104371836,0.052123130107649136,0.005508120751230994,-0.00878123126482562,-0.023571963634393595,-0.022743509163366076,0.012754568090999988,-0.02988647262085251,0.03331145694912062,0.0644748300314521,-0.02509718881484544,-0.03984773148832422,-0.021846891805880887,0.060923119347778824,0.042090144059238124,-0.02743366175887909,0.04235411593725203,-0.040387908187126,-0.07929132172465529,0.039490774272683875,0.025182318213353667,-0.06882430060459964,0.06968333083281747,0.047330707619025456,-0.012255336967268287,0.03168868515764436,0.05727922844727548,0.007596561470301668,-0.023140636108332915,0.07393939476554938,-0.07366394567414672,-0.011014985166808012,0.012530498784188564,-0.0051410591369941945,0.028133842936398798,0.01114405794870382,-0.07722235994213814,0.05587400498034951,0.06540607259403927,-0.07269786737877397,0.06938594254707171,-0.02707210337867028,-0.018175199515565985,0.03884043052800604,0.014828462843896245,-0.08477923685563094,0.06764325151956087,-0.07815186984120867,0.00999254390393456,-0.03484963656390816,0.07591595886825299,-0.029786269960304767,-0.022242911294572974,0.07225494965582066,0.07105472782480074,0.01217299855361844,0.042730272960085545,0.03811541479345309,-0.02287630571278915,-0.0016237788263425827,0.037308645784298815,-0.03372689026386551,0.04628650617382857,-0.0016919848408580142,0.06281224475817038,0.04918399335530647,0.0726968512343752,0.06090535224770461,0.002926561863799841,-0.02810036359138371,-0.0039869103963093315,-0.07025808641295679,0.005149957356761766,0.07343745124508257,0.07919026736937804,-0.07421308450294839,-0.051620235036904535,0.018725031025347668,-0.014664427248901492,-0.03251246902145855,0.08332959221704589,0.03885610668273253,-0.0015215152551815946,0.009148878491259997,0.08319949989606806]},{"id":"chunk-7db5cddc-103","content":"However, a conversation might also be composed of multiple runs, especially if you need to maintain state between separate interactions or API calls. Here's an example of a conversation comprised of multiple runs: conversation_example.pyfrom pydantic_ai import Agent agent = Agent('openai:gpt-4o') # First run result1 = agent.run_sync('Who was Albert Einstein?') print(result1.data) #> Albert Einstein was a German-born theoretical physicist. # Second run, passing previous messages result2 = agent.run_sync( 'What was his most famous equation?', message_history=result1.new_messages(), # (1)! ) print(result2.data) #> Albert Einstein's most famous equation is (E = mc^2). Continue the conversation; without message_history the model would not know who \"his\" was referring to. (This example is complete, it can be run \"as is\") Type safe by design PydanticAI is designed to work well with static type checkers, like mypy and pyright.","metadata":{"url":"https://ai.pydantic.dev","title":"PydanticAI","chunkIndex":103,"totalChunks":208},"embedding":[-0.019160496025936325,0.05647182588422472,-0.04515538160001716,-0.019486500447598636,-0.02647379849063383,-0.0066594534072313095,0.06291548125354157,-0.08157542007581209,-0.05644549496543594,0.02810184770790613,-0.0018273529017317082,0.02219284222547944,0.05806863471771828,-0.002835125446464065,-0.00014047007551603913,0.060938952615275994,-0.0397212943393189,0.04106168974121483,-0.013087444251359073,0.08330765132151838,0.08281518201317564,0.012432826674463857,0.001536124780488105,-0.0678853806324385,0.04432601541568814,0.01601251967731019,0.01567804397165665,-0.07936022197861656,0.04818176864911149,0.010008239437995272,0.015796726625711886,-0.011827525173373394,-0.07110705216879534,0.054111894415630794,-0.05920719089813192,-0.08344384480747792,-0.061784474431388826,-0.07830290471988723,0.07195145229560762,-0.00504831418151797,-0.08341313819524089,-0.019414028174504126,0.056933822352345856,-0.05735509610412365,-0.038547543139751735,-0.019006091934418552,-0.08109840690513724,0.05912517425084395,-0.06342002176997799,0.03046004070373087,-0.0729566766329744,-0.07139145780832368,-0.017566166986997808,-0.07692202062583565,-0.051445704885268784,-0.08161478920000251,-0.05258217186773377,-0.0011094568024931548,0.0660265156708043,0.04457840706998404,0.0858658261230377,0.03791857705356431,0.050310943034744135,-0.07983296365665361,0.06829656657299925,0.06281811218040943,-0.044489335422357446,0.029623393164780132,-0.01808275491037354,-0.031321104602199716,-0.0027956791076718507,-0.020073868607345606,0.010482537028850797,-0.08258134816492362,0.061440889383826476,0.0653761762723309,0.02351351876886571,0.060789669145383786,-0.07053493715987984,0.08171202261789581,-0.013210897358982754,0.04076227782552223,-0.08537576378586693,0.03467129672691309,-0.06155537860931079,0.03968996374296168,0.06134478376995353,-0.028617454694469392,0.07510353361502742,0.03702707079960209,0.07960287157950312,0.07312351820912001,0.00830988302054306,0.04806652461976441,-0.03340550933136684,-0.06768481584970151,0.02646136112440831,0.04564818486327234,-0.019861361554188592,0.007899451846745684,0.08208318772026961,0.016418845490651875,0.07753336296644703,-0.004676814028191384,-0.07461835513147874,-0.03989756188848789,-0.05605327954176256,-0.03257019084063749,0.07576153713383664,-0.04546178850328267,-0.054407810241788396,-0.008353211180293488,0.07016330418994084,-0.009915950583672194,0.04795220095513156,0.059266208647736365,-0.03279419543762196,0.00031053332512492356,-0.07285325727307958,-0.08174676662227758,0.04167267411721348,0.0495812195809355,0.0172447514925265,0.05267344490524464,-0.08602122067213754,0.021291636848419122,0.0481550913873905,-0.02149221964472639,-0.04503422617266413,0.05730464750418039,0.04025013320033169,-0.013934624256525491,-0.016481055904205292,0.058916065960913984,-0.08411277818723238,0.014235822844201513,0.0065191051801687366,0.04512094055508138,0.01548372537625863,-0.061317984396116854,0.07801675346102335,0.04208717251581757,0.08345072658185083,-0.06009633388657124,-0.05316789601923557,0.05937253144961473,0.03927218258611404,0.08241660569226432,-0.010012901448008567,-0.02482076267629806,0.01805870237433044,0.06085778832564905,-0.06135468050888279,0.032991219351305355,-0.03713727538623962,-0.0161112073019828,-0.037687545091420395,-0.08503563659881065,0.002920854593717016,-0.013965339580346028,0.08438359970534622,0.07599400355446741,-0.04222343473820337,0.07417065798329742,-0.0071702243661826304,0.0240802505925503,0.024976258434315078,-0.006599091916960919,0.062125311004758675,0.041277048174857646,-0.03860847213322391,0.005987623342017798,-0.037009875836405054,0.024068244156442844,-0.013306315915797845,-0.01146171311412902,0.04280773116341607,0.05448718083201774,-0.05199913231584886,0.04768305601395077,-0.07733210010402818,0.02075386194792646,0.08131126595053638,-0.043208684154807823,-0.03426550447323709,0.07928487422471871,0.07546789870831698,0.058042624668412805,0.06804872495420713,-0.03621324570829881,-0.04401250881599959,-0.045788427180411685,-0.07707116313585811,0.07726938969581296,-0.07127178326311062,0.03625272187473325,0.011004144894311662,-0.05091059779399758,-0.0016586239832581564,-0.001426914040067409,0.006101722219382714,-0.07469987706228276,0.044189931935015206,-0.065404378917169,0.007204383614872541,-0.03816416198517727,-0.022380348081462505,0.01914030819022455,0.05999041443125518,-0.012278244481868678,-0.053054508881232885,0.06786437297957383,0.07939928070908686,-0.06829804450021212,0.011093839929947181,-0.0506569516111344,-0.04080305036161284,-0.06941948625543302,0.067417845459067,-0.019186812651987024,-0.08517806541597361,0.031466156557285255,0.0017013541648270524,-0.008556405294341332,-0.07812373554909134,-0.025734234077699963,-0.0017987925366237782,-0.004332712573275189,0.03882171606940215,-0.023149602747020593,-0.05321799916361276,0.011801838889671842,-0.06922335999062458,0.08642457302380047,0.005854353365877432,-0.04677060696712248,0.06175888946858345,-0.08653002553381654,0.026515120944853914,0.07661260520184762,-0.04754431381103936,0.04789683399629008,0.042987147877536484,0.0280251104474338,0.028699310350445897,0.029573998136101808,0.0065983833451566075,0.07914320505549402,0.07507285070841874,-0.003998807945744515,-0.01528850251175704,-0.06638693796638515,0.07896457027215387,-0.05621906030389472,-0.04911832822370002,-0.08069260004468078,-0.03871966377031823,0.044438085016621394,0.03329506589154266,-0.012171291378055825,-0.059893959661822774,-0.059014669892555285,-0.07145275106862832,-0.03493162781431673,-0.04420920156567098,-0.002524232971408233,0.07615589964803361,0.01057438630558223,-0.004232668521187826,0.07870688143225385,-0.052462025845056395,0.06427322813177314,-0.047999857153623586,0.07501230338324882,0.035181963079234935,-0.02843398559806175,0.061672614801805074,-0.08386308861351056,0.01973805478961562,0.07468345101571505,0.04970064535048781,-0.0010860624621247706,-0.03218029523807292,0.017810213816381537,-0.0567656634903016,-0.020006978661676892,-0.08587785448816158,0.06467447375748503,0.031022884118638794,0.0627683853085634,0.07206033688647272,0.07296242745960242,-0.06702467258075966,-0.0040213540689512115,-0.022745216659598357,-0.0018418515451798037,0.05910255579976786,0.06895182299558211,0.030799912982443983,0.05888718788430982,0.05055860670938137,0.0371865661473927,0.03761649135476013,-0.046598606557924846,0.07565841875767745,0.04581438003295316,0.0842278847789615,-0.05635215974470772,0.001260526258316168,-0.03996656996015878,-0.003217600921573456,-0.07710489623443008,-0.03753000587063785,-0.013441160531266764,-0.06277501322496476,-0.0020709068917423197,0.05414254454492672,0.019563378412645577,-0.015821037391993496,-0.06569846338338906,-0.05395081037415688,-0.016764529264431283,0.0019315959757548063,-0.03351928950301128,0.050709269195391884,-0.019024440954872632,-0.0700610227160728,0.042908656817352155,-0.010129391902606649,-0.08346898537492614,-0.05024705742443398,-0.07252230725004088,0.014159652428337825,0.03352198162748994,0.07524397073515363,-0.08367279048817379,-0.07988073497519024,-0.047098480422523355,-0.04638005932624757,0.04630169903526283,0.009712457387824572,0.019027748126331564,0.007003093217916481,-0.04369834127264688,-0.004141701691066159,-0.08504581807857241,0.03368500514300766,0.02503680920262431,0.014898964381646259,0.06199013046341292,0.007253249889440454,-0.08093944035439762,0.06040993688445147,-0.0734511485409969,-0.06401137511656739,0.06688898553108558,-0.012639608754375047,0.044792188068267104,-0.024738185287961834,-0.020952407335773228,-0.00036483759051354574,-0.023079756673337847,-0.04193325015714113,0.07071667926064933,-0.06275129883440775,-0.04988618807486573,-0.0434252819675207,-0.029298966044604014,0.055156201834613325,0.027909197838578353,-0.08325301372038249,-0.012160110760756725,-0.07481091425044471,0.028499281704282575,-0.03290432418536679,-0.043760951715998024,-0.020633972443705868,-0.049452551017352346,0.024307815232106646,-0.04349970731844794,0.028457958063513426,0.03155065126413969,0.08592529011592889,0.08526340794433854]},{"id":"chunk-7db5cddc-104","content":"Typing is (somewhat) optional PydanticAI is designed to make type checking as useful as possible for you if you choose to use it, but you don't have to use types everywhere all the time. That said, because PydanticAI uses Pydantic, and Pydantic uses type hints as the definition for schema and validation, some types (specifically type hints on parameters to tools, and the result_type arguments to Agent) are used at runtime. We (the library developers) have messed up if type hints are confusing you more than helping you, if you find this, please create an issue explaining what's annoying you! In particular, agents are generic in both the type of their dependencies and the type of results they return, so you can use the type hints to ensure you're using the right types. Consider the following script with type mistakes: type_mistakes.pyfrom dataclasses import dataclass from pydantic_ai import Agent, RunContext @dataclass class User: name: str agent = Agent( 'test', deps_type=User, # (1)!","metadata":{"url":"https://ai.pydantic.dev","title":"PydanticAI","chunkIndex":104,"totalChunks":208},"embedding":[-0.038910609482386865,-0.06412867239463191,-0.01672152152994495,0.02861698028509198,0.07833876037251516,0.023470804439566145,0.053919721671671875,-0.03409728607305942,-0.028060984436229324,-0.015451605976563667,-0.04967244622615025,0.08201603962563044,0.06535779793278762,-0.060933965685977684,0.034935406460373776,0.023739746516376187,-0.00020249992153462134,0.021170044485191178,0.016641862066586334,0.04977325732175905,-0.020105259065131588,-0.08527484987177074,0.013007402152562835,-0.027750419150869322,0.0809016421209909,0.06338581917262058,-0.042651546850308884,-0.07915876745538754,-0.07471006214735199,-0.07698405778842583,-0.04016385960211072,-0.028108590283354162,0.01643044807909517,0.08745761817119256,0.07369574262788106,-0.07650768290847938,0.03667849982021747,0.026555685634750872,0.08093859282371377,0.0710711803585619,0.037361835906009534,-0.011730594908812796,0.04407438179902317,-0.05408677282335013,-0.07248774958749353,-0.011797598655741577,-0.008864202441813825,-0.055233482994335906,-0.02102512548446211,0.0044460565620954825,-0.017421708163843176,0.01797262433210278,0.051893223270023076,0.016628438122946163,0.02821562453871171,-0.0110983345385529,0.012723955695605662,0.004523617420604203,-0.010278696372651809,0.06001936549856855,0.0666837775373028,-0.06780312839062741,-0.05243238304765983,0.08433384712983705,-0.0017976181758252822,-0.024081206352406685,0.03789891410778497,0.0031397763462190234,-0.021195507465206365,-0.05220643066451054,-0.0645665460665349,0.022639619457711514,0.04327197972537266,0.031427199211079185,-0.007727438186228982,0.05047843103013801,-0.08303180742560415,0.04659176339839047,0.031895013204688384,-0.08126057385094052,0.06345564707720315,0.07373216437478837,-0.08456787939716953,-0.029981181757745477,0.0284847031927392,0.088270628774434,0.07065693741595279,-0.037249827359700956,-0.08672014060800155,0.05488376121114966,0.0095408013666407,0.07958928719959332,-0.05872124061525119,-0.0025295982386527686,-0.002097650942154759,-0.06998107619643236,0.0867265301706134,0.004661287422490731,-0.03168595796307103,-0.016206902694042836,-0.028646396291459906,-0.04900957127923618,-0.016868968680690617,-0.07114085254071184,-0.02844824186128959,0.04282601139918074,0.034577205426197834,0.030415240923304224,-0.0711009890222869,0.05968966673174209,0.0394855439495154,0.015040276061236679,0.04357572133292233,-0.026032039225935322,0.035156714923321813,-0.06435506750583798,0.07161618638200892,-0.08201377781446435,0.06746701721297806,-0.0029727253125451376,-0.03976546239838034,-0.07932677327915519,-0.022916994208114272,0.028135515417522006,0.048124689220511954,-0.06751344654417642,-0.08340832732661085,0.03024842583961594,0.041609034886077687,-0.08454818559085181,0.002053080186472853,-0.04330646652245099,-0.07366137721477466,-0.03329054139037647,0.040557102158608506,0.06911329576158247,-0.04441352177922908,-0.0008656545731813053,-0.07259778304787808,0.06885130823998208,0.08112607216658092,-0.05615921821892603,-0.060788590902603086,0.060819371025645184,-0.0552167542324229,-0.03337170779679617,0.022101874516787204,-0.01499837681716777,0.0620296747760315,-0.011745887253010196,-0.07845629703223211,0.07522858722436308,-0.04091126014532744,-0.011842559403131584,0.009768920119827385,-0.001280965957404535,-0.0837010864450621,-0.029465499380251232,0.0876934371006838,0.0201228516490774,0.0042733225928711805,-0.07023231017259293,0.002340450736474173,-0.005110171469694556,-0.022353906472355373,0.07244077060605124,0.08411079764336757,0.06350125444127779,-0.01618885980411434,-0.03796112045651652,-0.08471223696856212,0.08110191745153318,0.07583585098801385,-0.003561799149897994,0.008140511478753339,-0.07275815498587981,-0.025261748272032907,-0.0886511892660897,0.0860765724611509,0.08465218676138858,0.012273726353272847,0.006193473019904324,-0.044334431578619604,0.08738714172095155,0.03962386882827086,0.007677580823799252,-0.0689826208525929,0.03578227287638248,-0.06328746482066745,0.0611639864929616,-0.06502431579061489,0.04761087501649363,-0.028189596774493307,-0.060806582485068525,-0.03360807634134916,0.04912735696474024,-0.08115002378052176,-0.059794665912488394,-0.05935137742306112,-0.054991222264034634,-0.04789311266961276,-0.055290869480619766,-0.07582232029943657,-0.07770372818725058,0.013525649772240276,0.05692437238517005,-0.029091765825647674,0.049100389601847545,-0.020903129293494534,-0.027856281401309687,-0.007741002793677833,0.01509388094836732,0.04223702017008253,-0.01362853168331859,-0.07908309558611497,-0.04818771269076198,-0.048377526768149416,-0.034570998924401554,0.08041608654100325,0.05253805929626507,0.0666292405224772,0.07640492235515882,-0.03065054535844005,-0.05953900181424052,-0.0767104502519442,0.015569466818394976,0.08894761562881418,-0.004535846919850328,-0.033404596860814074,0.012592825263099303,-0.06616494678026641,0.08156602748032706,-0.04899688464570142,0.0658861966473188,0.0853739330726155,-0.06431882884133437,0.04840877842780624,0.06646629883150616,-0.008186971686842615,-0.038987528787970106,-0.004890064387671298,-0.08392790867138888,0.0023940188707210824,0.023279178391734275,-0.02910282302815115,0.0822959652814156,-0.08889275668337167,0.0020986923607676593,-0.0854190277428753,-0.06730978238517574,-0.031126329879697906,-0.01362591351625564,-0.02551411867580188,-0.017766842120539226,0.05452401176052938,0.051610254063610174,0.03831507738358796,0.008105366346969567,-0.05707063394976253,0.006909088439784255,0.024660051631812195,-0.00804544020930074,0.031998479241953745,-0.02450754281207786,0.03179101486966521,-0.06446536672894958,0.048861012207986915,-0.013915070277499409,0.03603653790635359,0.024351070608550643,-0.023300147817848428,-0.018631944611929147,0.044727547836677276,-0.046672369221915644,-0.062235918530440595,0.014261857914678844,-0.008322590364514115,-0.009418948740553655,-0.0555587591778826,0.003445653162536011,-0.07458983261503942,0.005599764875242836,-0.0008586490158976751,-0.0016704882242290636,0.01776480061130133,-0.08417879554783357,0.008238941227222107,0.04603181010036471,-0.028790265041752285,0.03380780409962821,0.05799418649382235,0.08388819580169553,0.05792110651023733,0.08266851333857214,-0.007901363972992093,-0.00948685278256467,-0.026285962780450162,-0.07039416859974043,0.08833420002990701,-0.015217975808317713,-0.034441245268870116,0.030030222165193857,-0.009173787887689803,0.07540026852982332,-0.0634111273914437,0.0670019645681811,0.03303871088296124,0.05306777853551712,0.057037239492374964,0.033138653008900835,-0.030954037694495427,0.03554587446248003,-0.01591127051997752,0.029795002020564832,-0.017616164150325707,0.05489087456997213,-0.07885994647417024,0.0029447360567863646,-0.06709623422710619,0.007046880525715414,0.06291736073936133,0.023529055655031276,0.05400559374870659,0.06956139851920615,-0.049772180866398216,-0.0723563947150539,-0.01011531673645317,-0.008341984435425163,-0.0049150081359506,-0.060659106299566216,-0.05020782072454489,0.004310871996376127,-0.04824190805801454,-0.014720419325303276,0.017361844814320508,-0.008145545649476955,0.08001882176133032,-0.038327312938755166,0.0366048810186867,0.06699733542612024,-0.01331895289035503,-0.002051056023390714,-0.08904094958474111,-0.01674410595600377,-0.0039157774623807635,0.05510341203121578,0.07415632424438323,-0.013822280682720853,0.04275318468925619,0.0030178703388577363,0.07531486437388611,-0.07147516574726076,-0.027663987018591678,0.021196469654677436,0.08804242569129753,0.08122196220368863,-0.06352033174807764,0.029326812227261665,-0.06581593842619912,0.04732788075476589,-0.043330640333592775,-0.022577695511135067,0.08782545997751212,0.05477787077657427,-0.009406177336622239,-0.0039058754006183966,0.06341405979230055,-0.04748178616837788,-0.06517923298000353,0.0037648236747210295,-0.0342761982346262,-0.04988346853154503,-0.06475672126091825,-0.01365585754771414,-0.002959890292042784,0.06770599484925431,-0.08857024009066425,-0.05561119789926323,-0.0229116465912394,0.08542578928789386,-0.02584430997042219,-0.08310835658322518,-0.07989402493334051,0.04298223305150737]},{"id":"chunk-7db5cddc-105","content":"result_type=bool, ) @agent.system_prompt def add_user_name(ctx: RunContext[str]) -> str: # (2)! return f\"The user's name is {ctx.deps}.\" def foobar(x: bytes) -> None: pass result = agent.run_sync('Does their name start with \"A\"?', deps=User('Anne')) foobar(result.data) # (3)! The agent is defined as expecting an instance of User as deps. But here add_user_name is defined as taking a str as the dependency, not a User. Since the agent is defined as returning a bool, this will raise a type error since foobar expects bytes. Running mypy on this will give the following output: ➤ uv run mypy type_mistakes.py type_mistakes.py:18: error: Argument 1 to \"system_prompt\" of \"Agent\" has incompatible type \"Callable[[RunContext[str]], str]\"; expected \"Callable[[RunContext[User]], str]\" [arg-type] type_mistakes.py:28: error: Argument 1 to \"foobar\" has incompatible type \"bool\"; expected \"bytes\" [arg-type] Found 2 errors in 1 file (checked 1 source file) Running pyright would identify the same issues.","metadata":{"url":"https://ai.pydantic.dev","title":"PydanticAI","chunkIndex":105,"totalChunks":208},"embedding":[-0.05548044621904358,0.038603471145743744,-0.03485153855320656,0.0487808112359154,0.007473524087091964,-0.02995285566573774,-0.0074702652758256655,0.012409013880957115,-0.053364801991539326,-0.014635341274541478,-0.006902481097221061,0.079256287694389,0.018864695310916092,0.002114594913762401,0.0013367355767251795,0.06603695932489646,0.07989655169841958,0.016736087173859555,0.018026469284560278,0.06027857987922405,0.0015402848524710701,-0.06281406068744852,-0.0404441526105035,0.079028007494969,-0.0116866525449353,-0.004521201809723248,-0.06050514714662751,0.07274088994976398,-0.06370095378738058,0.00963973885668074,-0.02947119465733906,0.05959985694036564,0.016148384724436464,0.08316934089286838,-0.023032504920125665,-0.0803443612183877,0.060474328822655764,-0.0818904184196311,-0.0275307049102905,-0.08082233592315695,-0.03442190896392244,-0.033909063877993015,0.0016094927353955133,0.018107271200670075,-0.07449760823715021,0.06148003390357847,0.016279552988037394,0.0020256946623222506,0.014084033071271698,0.08046778392985018,-0.08563854944519385,0.07970186384663173,-0.06465799986573478,-0.048040672006916356,0.026122165042979602,0.08486658298209927,-0.04027487990801427,-0.058272921908957206,0.0839208981932431,0.005659990260423759,0.01468219031386237,-0.07944837440095648,-0.04461263888120915,-0.029926965189468878,0.06409779129377004,-0.0341416587342658,0.05494511145755497,0.05864788351437452,0.02220920464281439,-0.0409969595153211,-0.041640201230186503,-0.08562136883738365,-0.0628140593114103,0.06547926950175076,-0.008281258962765742,-0.019432732407857367,0.05216813600534249,-0.06670967598940751,-0.002306263689342406,0.06888869044188013,0.08448327307729757,-0.009087542225834057,-0.04156839695027627,-0.05487679410362895,0.04548231291314127,-0.04133634687295093,-0.02501422415678827,-0.060630593302314885,-0.07339312225669856,0.07749582421689508,0.06770233598154836,-0.05146700723568885,-0.02861849786182311,-0.05610395971877344,-0.008337883459559726,0.07196983810924928,0.07447820495817276,-0.030394930057589944,-0.07785724963324141,0.03616641226927883,-0.02109853433638199,0.048105694242497596,-0.04900538265384102,-0.08130767222674194,-0.06419782376426975,-0.03293504414741758,0.032786675785991065,0.07502437276446308,0.05271647608271177,-0.08008270125267777,-0.04288294433333112,0.04887750372459308,0.06034524997614876,-0.06958693364949638,0.0232466533270493,-0.0016958542632774351,-0.046573858429694914,0.02649614622155781,0.0398773998227233,0.025499858713478308,0.05038868328040333,0.005570712021822751,-0.06285779872178895,0.052921023972393136,-0.01657378607230349,-0.07884579637277955,-0.04285161779480093,-0.003461847277434552,-0.01854696741985214,-0.07106685362324199,0.026453912022573047,-0.06050593927617683,-0.05124772723513354,0.07912668203820399,-0.06224804108224827,0.05866244699612118,0.05859379574883677,-0.08503703523373454,0.05536279916869642,-0.016356377805011972,0.009249673826386013,0.033536035235929455,0.03080341475572693,-0.057308323719639134,0.08228402728476508,-0.027150273976358042,-0.06152890864165259,-0.029147926597567833,0.017735391856655167,-0.0074278479588082685,0.08537482293209811,0.029382956111937728,-0.0409306531396792,-0.03650068537942403,0.010466721847764994,0.05729316550832593,-0.060871628063340386,0.08449656538773168,-0.04513349465817538,-0.030097119288081755,-0.01844749106110888,0.07094336616980923,-0.048050525339194315,0.026474825715200927,0.00632073742988954,-0.054762682270573765,-0.037895396047868936,0.047618264147775445,-0.060745969895839864,0.06090248897392887,-0.03332736872256317,0.06448079300047034,-0.06161025500733982,0.050118721251135145,-0.008232522764198,0.026919942360085422,-0.007311039604384034,0.05874476623024933,-0.03733474524095564,-0.014905944646886772,-0.06277449633794584,0.0030359798255464223,-0.06376345669023903,-0.018368176743417747,0.07533201160018979,-0.03348079525306972,0.011438244845141877,-0.013392744265612105,-0.06960137447686356,0.0578587927519663,0.036995889571228076,-0.01725388465870613,-0.08271814362045533,0.006044914189844071,-0.051798201485141734,0.005074807491775557,-0.05263804870823458,-0.08440887099037447,0.04171330824511997,-0.08104129228352627,0.012752053637759109,0.07803094614867948,-0.08096017957399552,-0.007559670341290789,0.01825646157420369,0.03198016765128476,0.0827130564161054,-0.011964195631648243,-0.08467402180256084,-0.0846507364767412,0.06689319491058605,0.05639002874253488,-0.03866108027990268,0.07164543970234277,-0.015108321504787034,-0.032664807277710615,0.08129356380656479,-0.022236078462801546,0.05199103817681084,0.03738935903277942,0.05899821157087754,0.008620944999823233,-0.03910613131092047,0.07113336631999795,-0.040639530594204686,0.04483089179419934,-0.01725784426433732,0.06009286150265645,-0.08204602655578734,-0.0632993179591065,0.041374482691633345,0.004859173300686274,0.04670944145516294,-0.04558569330550967,0.06456483228174524,-0.05228290214251065,-0.0181332713781518,0.01651280824665483,-0.02594037199573965,0.0012420320267207204,0.009105115587802836,-0.059507855135200356,0.050360171864568995,-0.013117102050802526,-0.05511107514960061,0.08547239760617864,0.08146867342110004,0.056605168954555925,0.06038901380724176,-0.084484934147509,-0.07614294574426646,-0.08542350151180296,-0.0547665438186264,0.07895613075019171,0.07334254378361404,0.08280380843789366,0.059086411607607914,-0.04002077703651055,0.009527843669327104,0.04127380986114281,0.05742476215939187,0.0580409259883516,0.043037710627240884,-0.02082450566501918,-0.024522945987119255,-0.07907278192628725,-0.07643314863072777,-0.030207505436959728,-0.04064499657391535,0.04963886364537059,0.025333502717488996,0.04043680084726041,0.0454349907016098,-0.06023775142392943,-0.04714369307919453,0.0070164426165865885,-0.08114717696026977,0.004100153725333383,0.011756830005583366,0.031845507593130394,0.04123498011400029,0.03306043637284673,-0.002209693980795104,0.01685803459436033,-0.03688239513592821,0.02997218865070937,0.036080035692401626,-0.0762876441488069,-0.08300738895316097,-0.06411942996072933,-0.08272087890860062,-0.019487824207649544,-0.06765318606196952,0.07281894963501517,0.0027426405577776988,-0.017045748556658566,-0.08150375260958415,0.08125611207401913,-0.02395882448283816,-0.04203109959014945,0.0693174693668879,0.0776059800468821,0.038139151979499866,-0.06804430612523853,0.03199481664458347,-0.05316933433337799,-0.02648866783108604,0.033079815353877884,-0.0850170116144347,-0.03964588172159711,0.014493438940258528,0.02471025921788731,-0.05570450790374496,0.026708554880046816,0.06691834199068426,-0.08344288179153295,-0.06957627662788836,-0.028462334623332173,-0.07649689635678895,0.002653121103827251,0.07001494845102192,0.03049919698232323,0.04173683588377372,0.05610687609080109,-0.0747044991952596,0.06482458998529596,0.026743253133426004,0.050727841542819334,-0.02662634707149659,0.003274089539851765,-0.0012849087424576322,0.08264867210886,-0.0621648301691525,-0.024007207656416295,-0.06282711087567651,-0.07245002141611731,-0.02346712556966316,-0.007781450548030111,-0.016364163963426017,0.024643871402604746,0.0026527925201768644,0.08528870166796122,-0.057666733763031656,0.030995034896637214,0.0014954311552286418,0.08564210756871429,0.06812009924566567,-0.024551071686410218,-0.0022910662514811424,-0.009357936809616028,0.024703765889140715,0.03458466189622331,0.05020401544284424,-0.05373165034489709,0.05232096731980234,0.061848043562174285,-0.07861877145374628,-0.01475677684273485,-0.06237248532504077,0.027447565606992956,0.08128042032502564,0.028013978662181267,-0.041536947113069864,0.0013453096245303882,-0.012449228845506926,0.02965426208547323,-0.027586038113067445,0.014218633687714817,-0.01803484660744014,-0.05162356197573541,0.06815806427280773,-0.07112647324516236,0.03116082487049053,0.024961076305420733,-0.06172295191208147,-0.046088625521841536,0.016119290347537694,0.034533909106491525,-0.03871987354181196,0.0611540514889966,0.017667767286165315,0.02524398748466138,0.04862412124826702,0.04358119493591649]},{"id":"chunk-7db5cddc-106","content":"System Prompts System prompts might seem simple at first glance since they're just strings (or sequences of strings that are concatenated), but crafting the right system prompt is key to getting the model to behave as you want. Generally, system prompts fall into two categories: Static system prompts: These are known when writing the code and can be defined via the system_prompt parameter of the Agent constructor. Dynamic system prompts: These depend in some way on context that isn't known until runtime, and should be defined via functions decorated with @agent.system_prompt. You can add both to a single agent; they're appended in the order they're defined at runtime. Here's an example using both types of system prompts: system_prompts.pyfrom datetime import date from pydantic_ai import Agent, RunContext agent = Agent( 'openai:gpt-4o', deps_type=str, # (1)! system_prompt=\"Use the customer's name while replying to them.\", # (2)! ) @agent.system_prompt # (3)!","metadata":{"url":"https://ai.pydantic.dev","title":"PydanticAI","chunkIndex":106,"totalChunks":208},"embedding":[0.03671732550549664,-0.05235118738896494,-0.04027843324251986,-0.016170170381955444,0.08503574091725034,0.08655381500277062,0.023566913667015136,-0.019782381340355117,-0.08825829971144304,0.07503151320804649,0.006040950813146558,0.05269008733324436,-0.01780744244994025,-0.059468482650231115,-0.0163775471179732,-0.07183926194144696,0.03299756140620152,-0.052238539945127345,-0.033479086446146784,0.040646449921611885,-0.012277404973334812,0.0350987321295605,0.05039959174393117,-0.0494230761316757,0.08494279816497165,0.0041375916380248364,-0.07382113440810574,0.033039465508704305,0.06338638196022581,-0.054471278301788426,0.024612974437387247,-0.06730106878454536,0.06550858809497988,0.08622700172930362,-0.04139051239541129,-0.07949053174640758,0.04066747628037316,-0.0690899328162146,0.020477883620334737,-0.03447421102972802,-0.06417736526795666,0.010318401000177634,0.08442036940038991,0.005851562516822667,0.08828431563210896,0.03993262794365148,0.06054898228969415,-0.04722324637089279,0.006025874533409392,0.034480681792375185,-0.0846999005071725,-0.00186430980711429,0.011007273926539489,-0.0188541987742855,-0.000642766350181803,0.0006918001767778797,0.015075902566469873,0.07893842695901326,0.04852884398552748,-0.07843258510445435,0.06586123306913255,0.024532804262312555,-0.0680192075692086,-0.019872823233806708,-0.07509851835942925,-0.014587496326813942,0.08383803547366864,0.08006562638250049,-0.03997168921463695,-0.03388040760877208,-0.059769184378248096,0.06958338420883463,0.04110012813928443,0.00960659238535577,-0.019817915666646427,0.0038433128873078797,-0.021623230450951398,0.04518265289184054,-0.08100062324575706,0.061012729752998277,-0.07358061889434239,-0.022859100902145574,0.06538192501839198,0.08307019739328542,0.07376060969069473,-0.011745880776530522,-0.01658360983306589,-0.010095873168443828,-0.03098311916737849,0.04765396376860244,0.033289242349995564,0.061011095538513846,0.05570067775527216,0.010990309648682577,0.06669536620394804,0.03170713616576765,0.0030365215272038304,-0.06554331012473413,0.0009935948211132436,-0.04629297529929726,0.05946325885577523,0.017220137461263104,0.03559212273979565,0.016575198878852372,-0.05669497928034568,0.06811150449557495,0.04580536269473217,0.08431118578765397,0.012798983630479585,0.06940087012896134,-0.06772279597164062,-0.0664054728788656,-0.041734429280692154,-0.034726811820016926,0.006809461597689634,0.08249690045889169,-0.05924794349325524,0.05618030248889277,0.038117332683128356,0.024379132908481878,0.0628381229733873,0.003815332087030255,0.05050071023761039,0.04368915778678958,0.06432743115549204,-0.08251047271402583,0.0867666448462401,0.0591322813617591,0.06792498817032527,-0.01887731797112519,0.08554190542806214,0.014202937326370482,0.03316385206685195,-0.023028400159067475,0.06653885238357447,-0.044424267231119884,0.05032956933019661,0.006176129962344481,-0.06414196280549257,0.0846741664651063,0.07630788189177827,-0.058243869846685725,0.008541052628574578,0.08107069670795845,-0.07111883215754304,-0.06486576988713728,-0.04633393380925352,0.0429939410588056,0.02316348384801644,0.0703623228000942,-0.05863091079549763,-0.006030597584897192,0.0799389294831335,-0.060788700506837184,-0.043694719238309115,0.04112643689534176,0.06979721119780388,-0.0028262171981874376,-0.04773911230455267,0.08168989747187576,-0.05329525160983955,0.08142651511174283,0.009924622676654664,-0.012421352824278736,-0.036073416725933685,-0.02845216493675449,0.0033416955578554,0.04615400670660839,0.08803859846472362,-0.0778089684851416,0.08434528698082495,0.08062717818593637,-0.0725526236229699,-0.009393348580966429,0.026023406171122244,0.06916251451534688,-0.079779549121803,0.012910951621726861,-0.008584731813947463,-0.0017233663533461998,-0.015238770737409186,0.010125721328361478,0.05341815477633133,-0.017789098082435124,0.06187025778709417,0.009707132170603745,0.019420740225454557,0.015872983615027786,-0.026842855146666074,0.01261270174438733,-0.00958787411367713,0.009273008828419577,-0.0518244472552142,0.02305095085586885,-0.032964989875690354,0.06496590903929042,-0.045036325445972115,-0.03813346825419243,-0.01984672990751369,0.0388383377968187,-0.07267371520894533,0.05755455042504845,-0.03945875386029639,0.07707655823423312,0.06444540695325016,0.08136054431260742,0.06454092467781695,0.0655741451338074,0.04176574719133171,-0.04214388325397578,-0.03617137283308909,0.06711825326962399,-0.011416292346506315,-0.017157697251405066,0.058006588424466106,-0.02289227793941988,0.018849640245679724,0.01821534970177864,-0.023839862293284036,-0.03348626226999338,-0.015230408190322115,-0.016828033183528813,-0.003526016000971928,0.014571190748335591,0.03242521314771468,0.012923915927449287,0.056501743749251813,0.08584232492311163,-0.03046991800847131,-0.03388836645602004,0.03088471378852487,-0.0726574929639518,0.006041809834944801,0.07230150102033221,-0.023893501671139683,-0.07623140549388803,0.07582481439665888,-0.0821534095326181,-0.06495271694897117,-0.06158190309432152,0.0028219212829282453,-0.03184872264921402,0.006614243695195367,-0.07976631803867382,0.05722965084095886,-0.03642227079581381,0.037024988835697444,0.07857225857235037,-0.05814590592897185,0.05183760383690653,0.013417171072427011,0.07316988679925603,-0.05827230966166232,-0.02773367836205973,-0.060576661933033314,-0.07361099940495523,-0.064349796821514,-0.08759532346228947,0.007814814174321158,-0.06431797751277298,-0.0063391955641822735,0.06528438649465264,-0.07159374577845641,0.05422700863291048,0.04537247933157647,0.07304728446142485,-0.08721472074761098,0.008487082760906182,0.009143482653606498,0.004655906768159685,-0.06015718724718328,0.042332700858382845,-0.012151755871058805,-0.0039014170120430743,0.04001681367567218,-0.015340810234899947,0.020131417916469344,-0.06297981570531593,-0.08017256682646176,-0.026528859817891094,0.04849915685789747,-0.07494539217620795,0.015184231207766286,-0.029462539826676147,0.05238611119329497,-0.03247059037250094,0.03831242166650225,0.03614442747449591,-0.08646942809199563,0.06875608270009535,0.008503183107772259,-0.08263958368766228,-0.05841768198606712,-0.011445893978032721,0.025441507512394802,0.004034259596734802,0.02427242791289468,0.024351798488852532,-0.0625290950648703,-0.020209889270530256,-0.07987510393900443,0.060126710929502315,-0.06599026291773304,-0.03517929186593138,0.039524540032192745,-0.045754803363852126,0.05383327058194467,-0.034595079609621035,-0.0792404126860145,-0.06823003934686916,-0.07114867855589381,-0.016109031254859754,0.08805228696106948,-0.024589645184108232,0.0557850045355852,0.034794558965676806,-0.0520531207476255,-0.07279823912435228,0.0437335783004151,-0.0005028384469307311,0.008140136080967574,-0.03404843940804503,0.009452388262487593,-0.012187381546942981,0.04460112162358418,0.036159086582728914,0.019840974626571587,-0.01848031752804071,-0.0673598269948272,-0.030589044595601664,0.07770235014174226,0.02235285431455413,0.022662303120435514,0.01184383217319531,0.05937191207769459,-0.039190441295560485,0.06867114535222463,0.06577905399912316,-0.08797779693554224,0.030701762575776975,-0.06489337369113868,-0.05499994335831428,-0.034802653696875636,0.04678245621321476,-0.0671731366645127,0.060436455088289966,0.01573660624692094,0.07308431581968686,-0.013453846498610719,0.043544850329436745,-0.012787711748787369,0.048125563429001254,-0.033978414543320845,-0.07637832423588395,0.054412973126655655,-0.055512723609412964,0.08468374162964024,-0.08471750496485111,0.04190293816372276,0.06776714482787456,0.03842645447360645,-0.05572200960425589,0.03878521043627211,-0.0377821031271503,-0.037097673578803184,-0.017739109463303496,0.07546503238421315,-0.025145894812929424,0.06362783213022581,0.06382549661030744,-0.05977765803215094,-0.029534852307078942,0.008867235807417195,-0.01685085392117668,-0.05166191145345603,0.05070398680934267,0.017440670947216616,-0.03205185231721406,0.016710324894431826,0.04008995609161371,-0.029450378830208766,-0.07856473442466513,0.020740958357264597,-0.03161518260975138]},{"id":"chunk-7db5cddc-107","content":"def add_the_users_name(ctx: RunContext[str]) -> str: return f\"The user's name is {ctx.deps}.\" @agent.system_prompt def add_the_date() -> str: # (4)! return f'The date is {date.today()}.' result = agent.run_sync('What is the date?', deps='Frank') print(result.data) #> Hello Frank, the date today is 2032-01-02. The agent expects a string dependency. Static system prompt defined at agent creation time. Dynamic system prompt defined via a decorator with RunContext, this is called just after run_sync, not when the agent is created, so can benefit from runtime information like the dependencies used on that run. Another dynamic system prompt, system prompts don't have to have the RunContext parameter. (This example is complete, it can be run \"as is\") Reflection and self-correction Validation errors from both function tool parameter validation and structured result validation can be passed back to the model with a request to retry.","metadata":{"url":"https://ai.pydantic.dev","title":"PydanticAI","chunkIndex":107,"totalChunks":208},"embedding":[-0.07107681601559014,-0.0016634328907081338,0.06609758601920757,-0.05571295013002753,-0.06562910944925049,-0.05926308767704711,0.08314707749990732,-0.003967764094768442,0.07643437298465906,-0.06842607516437466,-0.06564780491222842,-0.026283681783314757,0.07579678547513227,-0.05543879092303199,0.020116893001366223,-0.0010530699634888328,0.04701310271784591,0.045834589923046495,0.07949836014437264,-0.020595273557766365,-0.07633494623650158,-0.06716446752848747,-0.08241811476229514,0.03708037211617876,-0.057451738969649564,-0.06993857065006269,-0.04926057213233258,0.04937317244422467,0.07464207822777442,-0.018163467109486596,-0.011729847955752971,-0.001124626733814959,-0.04720968456400926,-0.005022216965063406,0.0783368179358615,0.05330527006402935,0.07786973032114261,-0.03354363655654467,0.009594887666206774,0.009006077517546245,-0.07473446624993535,-0.05905441385516931,-0.006060711855738915,0.042164298302062544,0.01923423412654728,-0.05630621183029561,-0.05203524600695421,0.07042959322149775,-0.03776568300110713,0.04849593405746264,0.06455542258195512,-0.07527739080617057,0.04117704549919082,-0.06052984516262219,-0.07586546441789806,-0.07391468528264863,0.06534332340203301,0.03237190927613055,-0.04837630961390244,-0.05865777738005237,0.004314570337711245,-0.04185713002355217,0.023215203276109375,0.0796923412692661,-0.08256278165853614,0.03805353245983812,-0.07388079070858564,0.06049433921954869,-0.07191327922864134,0.05388557856846746,-0.009430591665967046,-0.06769467109363252,0.001979248074645638,-0.049656958391136784,0.0036924411965039167,-0.08165771332350932,-0.06864486416347014,-0.07296470147379734,-0.004446125021625014,-0.03318555377146452,0.06001561699472303,-0.05706419093466131,0.07798024873793699,0.051574224118755146,0.07460918354302302,-0.04066070228472593,0.00835037450030772,-0.0053841063143952915,0.07833361224143427,-0.050799319633185576,-0.07395839398117099,0.0323732634861153,0.024466281264264617,0.009074580814730506,0.06056526811954436,0.05687757335039282,0.0436749297040013,-0.07479553186157524,-0.020784309093602196,-0.055825416408473494,0.07411059829698505,-0.05176994180121697,0.05361892419559628,0.04540874928415187,0.07933065619016239,-0.03701482880808618,-0.05078988181479057,-0.058706758343444944,0.06002916244675303,0.02674747536289062,-0.03206739827766747,0.02837680612636708,-0.012150420002537552,0.0054361750011674105,-0.008468853687812746,-0.04098824154190766,0.08304203579958128,0.05469226238372986,-0.014822471183027397,0.027313762460606066,0.008132443517341449,-0.04327289621334164,0.06056672682648953,0.05589852361109317,0.0435869896645508,-0.07360927433176313,0.02547555401255371,-0.0029616849083931225,0.07240373573149311,0.05157662943593764,0.04609248471196373,0.06594354396513126,-0.06545230172355353,0.005616551082163185,-0.005491835981555619,0.0005777212014962167,-0.03743179181119682,-0.003234987613519367,0.06949805240288995,0.04888304398679128,0.0763155939765077,0.05665685733896114,-0.0598980616248308,0.03627252849188562,-0.0644673060866238,0.019881466539111457,-0.017712014939784852,-0.026106982216864475,-0.05657399076899565,0.06949395467012222,0.028478972427402702,0.061368093327287175,0.007141107234152697,0.06175698981763066,0.04726098345402302,-0.05002319523029699,-0.03991559872555988,-0.05080819460716968,-0.05540464992428572,-0.04474321992580651,-0.015426288000781822,-0.03150310074282431,-0.059709628142865755,-0.009680428338452137,0.007558512859974998,0.07580231553119501,-0.06250103264286233,-0.007137363160697732,0.03735551646336268,-0.08102144248107694,0.013148542653239646,0.003789525524006148,0.08274582609528526,0.055580002155593375,-0.05106281103302753,-0.0742717464275843,-0.08141933438438967,-0.06382330936729068,-0.019834457338057866,-0.021849915797887576,-0.046903451036572605,0.01823784086960594,-0.07799438156399469,0.05958805809605621,-0.035925914342172016,-0.0006525631810824789,-0.017602305369586416,0.0430838028304763,-0.014595917869231426,0.07244643873427613,0.0639028333198612,0.05973380085849974,-0.06188387625994366,-0.048246305148081356,-0.07065957731810943,-0.06810431181846327,-0.08299377100688186,-0.02895145379094884,0.0009809381805508954,0.002065934278962117,0.017924820694736093,0.04947601690670776,0.008203307098605297,0.08193537320983404,0.04351104976074856,0.03546162193282079,0.044007266685528075,-0.02575055886794017,-0.0785030664028428,-0.05892909862110984,-0.03932962779791583,-0.04736372434947603,0.050037175782242746,-0.07730359560319222,0.034441311500805476,0.0627442552392335,-0.06513048551999967,-0.02308746094916377,0.06117002705078438,0.08094765967629874,0.02597551701345579,0.06662752542861608,0.04496192198570883,-0.0316479830276569,0.0051357563065238185,0.08004810328247951,-0.048896957124729266,0.08027523535671678,0.034547538998660574,-0.07851534688064656,-0.0532292739011938,-0.02725713780136365,0.056831000604920946,-0.069053727678456,-0.04523976527504548,-0.03400171732330479,0.07001692410448822,-0.046153594024997226,-0.01000868881084488,0.049771423821676056,-0.05213062347676668,-0.08225087284116891,0.0011295275050750603,0.026411268734130345,-0.0006434673658018373,-0.03206587411727703,0.005745536211755894,-0.002465065129154117,-0.07308078180674724,-0.07068416163257976,-0.03131874361223726,-0.021679004974649356,0.07674922369555381,0.0469626829113625,-0.037959324526228244,-0.0572612931409858,-0.07721853823748227,-0.0606196042616695,0.08268043327891275,-0.0026530245609250537,-0.039312378883622844,-0.011223677761117198,0.05703116197419287,0.033385942762781354,-0.08288451865906522,0.052673081438342206,0.01596203747940422,-0.02540129150266345,-0.039704562446705394,0.021125144258278352,-0.012879115303976934,-0.06533648999086518,-0.05459894135403842,-0.008559123761260517,0.008981839113889625,0.000811415168800529,-0.017244550526937595,-0.07717021168049418,-0.0187510126045747,0.025947164055751044,0.010842691503335557,-0.0827076405168921,0.04594922747041378,0.0742203737344051,-0.07702615207698987,0.06513147433637603,0.0523786824194139,0.03229663971202607,0.07724782038869296,0.03609070558104722,-0.07191117095579695,0.030693756995598273,-0.027944365244186534,-0.006124541358801153,0.05659626289441139,0.0015880630492078453,-0.03749903782759922,0.05044924159605421,-0.05875801116564834,-0.029215318980223556,-0.0007990765475748115,-0.029294884776326566,-0.01642901514121083,-0.033902746762983514,-0.010255679287569371,-0.07051358084244032,-0.054239142360395454,-0.04528689281841809,-0.07772616622292035,0.05253433383094934,0.055381133161004445,0.00045780200155560763,-0.004768313450629238,0.015294787886593931,0.02773811481558342,-0.0510568675528126,0.024434517788196757,0.04273600263216465,0.009850041363924521,-0.032248289791823724,-0.06902882354808511,0.04043538733603146,-0.03270381602273672,0.07047877108575576,-0.06505572993054548,0.01858757005787922,-0.06742425064732786,-0.0006444665009923467,0.0005965412379662818,0.07409122652145128,-0.007966260799664657,0.02901166382270605,-0.07819243898123139,0.0827942388779461,-0.06642088778788172,0.00764658365922434,0.013812821378837634,0.07048369575930291,-0.020099695189670252,0.04294097698062301,0.07291308089415872,-0.05639712880142505,0.0655789167841931,0.044482046097672735,-0.0471879706629463,0.018183075993794394,0.0652309264300579,-0.039971614449005224,0.019248318519596623,-0.027498690018367807,0.07159658310222691,0.01645142457760485,0.036567003707456885,0.056919865104003625,-0.009445632027858404,0.049648276911390336,-0.048388035468929134,0.06875316862249047,0.07047478039392646,-0.05326994333166389,-0.07047968496641392,0.07656132228090859,-0.04222587845456246,0.04895629020515996,0.06910746116752686,-0.05900654942000778,0.0719102110732569,-0.06934625624590125,0.016782733266572647,-0.0683393364059304,-0.012400267112058591,-0.013328397400496336,0.004018595063535893,-0.059311483855332574,-0.007443879814291692,0.02584883150433752,0.04064809249275217,-0.06325755072699736,0.01302819243192154,-0.07774117574491528,0.054749904444727694,0.0005324810284467191,0.08066775686427587,-0.06640114465657442]},{"id":"chunk-7db5cddc-108","content":"You can also raise ModelRetry from within a tool or result validator function to tell the model it should retry generating a response. The default retry count is 1 but can be altered for the entire agent, a specific tool, or a result validator. You can access the current retry count from within a tool or result validator via ctx.retry.","metadata":{"url":"https://ai.pydantic.dev","title":"PydanticAI","chunkIndex":108,"totalChunks":208},"embedding":[0.018348536727628244,-0.020987984414939608,0.08000815915304378,0.05583165609420654,-0.03847074402592112,-0.027423628029400616,-0.009282503390362741,-0.05863536675061717,0.05552168360084605,0.015029852651973876,-0.06261896121059805,-0.03592535155485807,-0.01754130904481339,0.08862448969577606,-0.0027671172783370816,-0.056217960796021635,-0.0042808343568541485,-0.048381870832003356,-0.0811003586710345,-0.0008751433500256408,-0.06877427525148676,-0.007085938810039039,-0.018293941175718528,-0.01371109496192591,0.04654176537895631,0.04587402369408606,-0.07481264220890632,0.01572524035452785,-0.03639876489163796,-0.0838728652436898,0.02943870862176923,0.03877418136778967,-0.03439934140333732,0.016770555612208773,0.02913281459089089,0.0073292108014899925,0.028310138105155903,-0.04951364713266454,-0.012895836673674095,-0.0809698316977528,0.08339981103559813,0.018752339981842916,0.05707429868014593,-0.011127885473653482,-0.05077074822072401,0.03569823723055605,0.06314958172655633,-0.08972578577971141,-0.0002148685980914595,-0.06981580282875585,0.03291816730797507,0.0726645884371802,-0.035789411952005,-0.04947030558015409,0.0848037255839932,0.08987287094844927,-0.08053753963953729,-0.03823929918147311,0.05624648778801214,0.013621237603233638,-0.05209894975771765,0.08218294014313812,0.05355962969072329,0.06102510391397766,-0.07910716028811943,0.07620296438216247,0.008652172318888844,-0.043724027697718486,-0.04657096239076303,0.07509634846784069,0.08133195053266941,0.008000227688296056,0.020191907968684066,-0.08747492287979965,-0.0356051937178161,0.016759937276766747,-0.08978122107493056,0.07694645607734903,-0.009088694012805387,0.005223440917515703,-0.06885082773413165,-0.017018665065850293,0.017271506875009703,0.04358001839058151,0.03192724677357096,-0.056575769932017156,-0.044877286369442826,-0.006769450880114828,-0.037101194186266256,0.0365401455030286,0.0841242984025155,-0.001348833584129674,0.013683199420311017,-0.010528019403702323,0.057558392901289494,-0.05389856117593792,0.0029210600305465983,0.059666283792162544,0.05052241668981736,0.026651925791158992,0.058643503874511366,-0.09037206555747167,0.00842434198241301,0.05966312838517013,-0.06255730168873516,0.06677476441527827,0.022294443325655236,-0.03302158406220117,-0.048271340960250084,-0.016596452383348212,-0.04405818487732759,-0.012899461421543705,0.0057140625290907935,0.04880457202854487,0.07585050384214478,0.07669006398533623,-0.08471315990061615,-0.009243031737983506,-0.04627780421951768,0.0008392844765060091,0.03177863296711006,-0.03970269260091029,-0.06798122427521051,-0.06712274385632962,-0.054861968200554966,0.039444825807636266,0.005950013248433418,-0.052465753408090135,-0.035465370997001144,0.027727951756713852,-0.0021704315453775474,-0.005724270634966936,0.053057864746574465,-0.028443864427170597,-0.04252228060052169,-0.03583988745121926,0.013257157769871075,-0.024818684539633647,0.060774024368291,-0.08627427040119948,-0.01613224706558117,-0.01697804464971351,0.025043254604472834,-0.036831052454428255,0.03694516212276146,-0.07677470611479956,0.026128938557273364,0.08160972199397329,-0.027372636635332008,-0.08535748651100043,0.007783000799838575,0.07152048306098241,0.014025739153115583,0.07336123487784928,0.010911023854419801,0.08873428497076431,0.026836248107946475,-0.03821058538895308,0.07967443801138026,0.03519096307584337,0.014767557611547246,-0.02024483517057497,0.004172969329576484,-0.011591547352396458,-0.04122102901745655,0.021025610148332697,0.034632390820038834,-0.01970168163094666,0.07883586971096992,-0.06088177619110661,-0.055193457806716986,-0.016385619547073012,0.06056618028403401,-0.0828124198499873,0.013911504072985135,-0.004986927549777146,0.03230194401867258,0.011752986970899092,0.04081820819280961,-0.006946151505695946,0.008545193119409603,0.07384222800849873,0.03853749029044229,-0.03437702207652998,0.08133235795571143,0.08522171115386463,0.017958579893754545,0.08806772857212185,0.0340376108583574,-0.0065254283851330286,-0.08011985116496699,0.0793407164171607,0.06183741951504985,-0.003099967188355657,0.011561078195983579,0.0051970265533516115,-0.08284426643321341,-0.018779996729591325,-0.0009032845990461312,0.09015894655482226,0.02104238737170961,-0.010341754732227336,0.08276450153078757,0.058982605738778074,-0.039192638317963255,0.07041549907859992,-0.05860111585431099,-0.023307558672903617,0.04353711311313956,0.0705451473978713,-0.06179771325391182,-0.024365330483883348,-0.021227899194010552,0.043968480872064654,0.0063778981292201015,-0.038289301091186466,-0.04336150944060619,-0.01868401409230817,0.013004548687174187,-0.0017220444590884912,0.07502669272559381,-0.03377428178227879,-0.031955852020655845,-0.09020006838784654,0.009586835271898884,-0.0710673438818014,-0.013340940975895976,-0.08911546438339443,-0.07317307888109158,0.0071903326566983925,0.03891168077390969,0.046973046513260855,0.04844724497501832,-0.06974466145249143,0.04319666811776122,0.05291353488638768,0.03258397892554259,-0.039283308493189964,0.03498858348289021,-0.05865955554139163,0.013443442975442515,0.06616534350317985,-0.07286208456587442,0.001298705691741386,-0.00758242812423512,-0.054066505243398615,0.07508167287317356,-0.03824116305409771,-0.06135566948781296,-0.08924461069309253,-0.047147445025542176,-0.037254110455123356,-0.08555008169038275,-0.07961336081721954,0.006225422789273846,-0.0719248582242875,0.01525028286428192,-0.008086196901422557,0.0011702052950943783,0.05372387549571856,0.013415260493285008,0.046838171042061824,0.004693342358232566,0.006734827221002489,-0.00644106942244393,0.0060317236027557525,-0.08388046314858626,0.08191775569336934,0.026419810949433215,0.08861879806493661,0.08175590734590185,-0.07948602857460606,0.05683794194579115,-0.06707422607176218,-0.08337398458410988,0.028294828964578713,0.07852489596545449,0.08627883496064614,0.025824363780713833,0.002563307882579221,0.07440750164635554,-0.003911181346386309,0.0792491303445938,0.053168937414877805,-0.06860446250802982,-0.03631692354804251,-0.01722632214532254,0.013017081960608351,-0.05511608849265121,0.0059254048422285,0.04659030654942924,-0.08069963855351091,-0.047291041540047714,0.05365276602460027,0.044882154882211735,-0.05654600115044481,-0.07626114075316262,-0.07489663968366482,0.059470803125352176,0.027846477986036223,0.015571204647102809,-0.036402013808346956,-0.07943515334544514,0.06969679719450185,0.04883341044225784,-0.05940787489188497,-0.0014918666534628913,0.022876372500157127,-0.037970228112682955,-0.05967714370424777,0.062171975539588836,-0.027765244177607413,0.06907689814331407,0.015108150994471993,-0.04261753877730778,-0.015473073338889086,-0.0778169278556414,0.046594945076997296,0.022773197510699707,0.039354798605444656,-0.05852140691229025,0.09031657162833223,0.040513171775926185,-0.07129720055099072,0.015004086454128382,-0.0690019043914728,-0.035618088399457966,-0.029114329736139356,0.023445597150590594,0.03330220651561562,-0.008062304184261676,-0.04578943597032839,0.0631670610211948,-0.017137221359697023,-0.01273872189375947,-0.07342689766681343,0.007590523256812086,-0.033802366147949875,0.04272942584637847,-0.08446649056754804,0.06164653260013455,0.07743467557615498,-0.08111780048245436,-0.07766059259781752,-0.012098682697955535,-0.04148050564401662,-0.06317883517732156,0.000720648507324563,0.061974446334840234,0.032429645986783426,0.003921791497547326,0.04902273165099628,-0.026526498911621798,-0.05978045268545592,0.04059060388192959,-0.051437830968392856,-0.03338497364103885,0.07529322151464136,-0.0291939012173625,-0.08804575587530347,0.05962615123606996,-0.010370557278000228,0.005195655551278378,0.0873519343512974,-0.0027548423353291962,-0.0669902239844115,0.07914864933050403,0.012890033494633867,0.044093778374603536,-0.04472022597029859,0.05315240626817782,0.048455525245115386,-0.0817849556001656,-0.08914636947335318,-0.03834059410223341,0.015676540996372883,-0.011075980246522626,0.05176582194029092,0.06804288273621362,-0.021302465710763652,-0.07293210785015757,0.020334252017137434,-0.04753675588007647,0.056501484700207494]},{"id":"chunk-7db5cddc-109","content":"Here's an example: tool_retry.pyfrom pydantic import BaseModel from pydantic_ai import Agent, RunContext, ModelRetry from fake_database import DatabaseConn class ChatResult(BaseModel): user_id: int message: str agent = Agent( 'openai:gpt-4o', deps_type=DatabaseConn, result_type=ChatResult, ) @agent.tool(retries=2) def get_user_by_name(ctx: RunContext[DatabaseConn], name: str) -> int: \"\"\"Get a user's ID from their full name.\"\"\" print(name) #> John #> John Doe user_id = ctx.deps.users.get(name=name) if user_id is None: raise ModelRetry( f'No user found with name {name!r}, remember to provide their full name' ) return user_id result = agent.run_sync( 'Send a message to John Doe asking for coffee next week', deps=DatabaseConn() ) print(result.data) \"\"\" user_id=123 message='Hello John, would you be free for coffee sometime next week?","metadata":{"url":"https://ai.pydantic.dev","title":"PydanticAI","chunkIndex":109,"totalChunks":208},"embedding":[-0.05722277215250644,0.03472000949137704,0.012881475459992325,-0.07779175412444081,0.0069460658248105085,0.0073030467719853555,-0.022664687781848922,-0.051391157794967744,0.06893388590083559,0.0015131748693098974,-0.057331453176525236,0.07614717907082674,0.01893384642302312,0.0424635563656118,-0.035710650385780744,-0.03230755598019255,-0.054764851000108083,0.054118800528589334,0.028331489559531405,-0.09068827158501179,-0.03645902467742458,-0.06582431105246618,0.026999122354556447,0.00879226827105031,-0.008473327149108105,0.06606823845164794,-0.02677151008447935,-0.07609401286604674,-0.014895638269595383,0.07638825167791602,0.01945770111446141,0.03739756905568124,0.034806281526922736,0.039251529852315184,-0.051272954565357194,-0.07004280208225504,0.035498687571569404,0.08668305039787608,0.04090015434316621,0.06708335013590286,0.016187244042686528,0.011181248436587044,0.08788090307010646,0.010795352721136093,-0.037567980884167865,0.04077075430086648,-0.036420981928711745,-0.00931328727463851,-0.06077042974871525,-0.0161681469448095,0.00044705169065736497,0.01812516336842647,0.07330323160023067,-0.014723027525855093,0.04031352788195336,0.007796297895084495,0.010043179897041987,0.05219135882154884,0.0038479998936941573,-0.053338691901490584,0.013961841399054426,-0.06450566924378531,0.017395326225904985,0.028942572301281666,-0.06344703374526525,-0.016269389043481765,0.08875754452450563,-0.0005943148083937624,-0.058847259281131645,0.0897295654131765,0.0729902471160095,0.08638036627627724,0.06549638998357606,-0.04960151390170919,0.01775693722295881,-0.06886537019925432,0.013292756862428536,-0.03668452633022332,-0.0779161526170233,0.01145982102093098,-0.08111525514292582,-0.06678254360364012,0.0718399588940354,-0.06300572368940126,0.05172535169056092,-0.029665799106848818,-0.03577207412062828,0.08338582565142867,0.001449192403062395,0.05156896950680672,-0.07063877520437432,0.05605981292167641,-0.009046356679276966,0.048558693704552375,-0.0005745747976433083,0.017340185202813548,0.06981339658638723,0.030849402484896912,-0.013223246590092611,0.04866471009897846,0.0738424192790571,0.06056582317678308,0.013229682463563866,0.09088886154143908,0.0656131738973366,-0.047103366877645096,-0.0406474955173315,-0.009040120544313648,0.02684378426200965,-0.031422970791599975,-0.05134562182332772,-0.010865597468354013,0.06236747893016912,-0.06401743529945704,0.04994516025848634,-0.026179743107306495,-0.013849820528282918,0.07936869171081377,0.02895898157065988,-0.052432910809674375,-0.04107772257428361,-0.044989728545353165,0.001379816796060214,-0.0860216863841626,0.019172453719910842,-0.018052257712062977,-0.06282590185631101,0.02995769601695057,-0.051668125814337176,0.08721489794612182,-0.09054222127846151,0.0433667500597794,0.06107031380252735,0.05936054830083307,0.08246367383823834,-0.06617077622684152,-0.01297230979076473,0.029580373161749444,-0.021739904451525068,-0.05938791659175339,0.04837813670639782,-0.0488832206194334,-0.0316804543195493,0.026913687551934816,0.03489524194261897,0.0645068321283869,-0.017313936885650753,0.02920859099807974,-0.07997358974111363,-0.06624654454870572,0.04439811074638391,-0.023053132173452954,0.04392328391867851,0.06151445360503042,-0.03075073782087672,-0.014210647423017092,0.0010517780670782806,-0.028904459486380586,0.07911784605946363,-0.05999988746459742,-0.07498548822724335,-0.07655430062335497,0.06314766143747678,-0.08998032487251395,0.04906589174267453,0.004308178715908256,-0.0015921217938239037,0.004390243970472154,-0.01757976526133305,0.058411148149220965,-0.0011663896981084557,-0.02705752890187791,0.06143112007965958,-0.0015268902786661855,-0.06774980180724174,0.08161145134156342,-0.03949674721709716,0.05627834488428025,0.049608418073852495,-0.014761800817211526,-0.06565119505913654,-0.06318079511635331,-0.05922393361471244,-0.03599187100681095,-0.0010831684068672179,-0.0771687969570613,-0.010493062410165252,-0.047419606154007414,0.08133908813205548,0.060764685915543494,0.08428059680148355,-0.06385569469812909,-0.05721658990266423,0.06927352464757669,-0.08294340423834554,-0.013547996022950435,-0.02093345038439058,0.07170996566453039,-0.03228936577748625,-0.0027067217294967434,-0.05140144699966513,0.015594826759421747,-0.028309959878412214,-0.024985834126740696,0.060203433422833644,0.03406021841486786,-0.051456667385493565,0.005375595795831405,-0.08463342472105874,-0.08069286873048276,0.08881325445249215,-0.07768281126456833,0.00029825805946565265,-0.011977758241569058,0.07300522376108076,-0.06158071348393052,0.01912545317706987,0.06836209759107277,0.04137459534111876,0.025199202019484102,0.0643469202078723,0.03434463989540256,0.00314458993014657,0.026134736228849643,0.021799608958801793,-0.037980098138543285,0.0724887514153131,0.08159396669798863,-0.08864235624271412,-0.05895664530664491,0.055062509929146845,0.01757473882233882,0.03745812105547731,0.04592112071710886,-0.055533474955877855,-0.013656370287551603,-0.04592756418554199,0.005162276422720302,-0.05082693160430107,0.018845412462009433,0.005316629799296489,-0.009730164725846027,-0.05675889204153775,0.031678250360835394,-0.08551531722917066,0.07168911188581226,0.08428411807593855,0.0689920687368787,0.02442862504067505,0.05350605296150407,0.058924793063601794,0.056649892805660636,-0.08326543893482573,0.05365896491626959,0.0846703416169666,0.03497383109008744,0.08266029638940951,-0.040216824208657166,-0.02429922599075919,-0.08306147986707232,-0.004808267271433185,-0.06611169827617398,0.0638310396096917,0.06483749299879032,0.009597115436311678,-0.014526359511511253,-0.06637369073969616,0.0543973661078609,0.07467724556224366,-0.06682232587161031,0.01317775617416506,-0.07642079315762948,-0.04250305719810546,0.0009603157953211898,-0.011989356778527393,0.050107424309424095,-0.09074989379787435,0.016390379877736744,-0.08291616707577878,-0.009132270770891236,-0.043887416621543156,-0.06724348888510304,-0.03308312809328791,0.07331907321997085,-0.0680815047424047,-0.009757692170826124,0.07707772288875658,-0.0847731175841373,0.08998057644794538,-0.040443789034594724,0.04597144239265826,0.03024571744060813,-0.0038618708385478265,-0.012067905191780436,0.04063225320146314,0.06855671823181142,0.048211237409236864,0.03357869316789023,-0.01994658532777576,-0.01768327976852089,0.057540636995063586,-0.01928735520071635,0.06832667535610647,0.08084573980793316,-0.01834122612365457,-0.040338741233126564,0.008560019162253013,0.02743418824748508,-0.02135982053315158,0.08333028215746462,0.013528179268012556,0.068079551091848,-0.08159632609775805,0.04196021297598131,-0.0519766090963694,0.029313205145327648,-0.05456634560393581,-0.08390919779962534,-0.02475620816349197,0.06025559293316235,0.06628079962206135,-0.03157966237848244,-0.007775264275816666,-0.057237668230066006,-0.0487031809756979,0.04345261902960104,-0.02179585964470477,-0.032969193080911854,-0.06825310066281895,0.06290782876784923,0.005067066919714538,0.019894851737079094,-0.061134116472468934,0.04476749975037722,0.031268498905286005,0.030841137534320325,-0.02790765317966374,0.025484128573129223,0.08555806066625127,0.04565158940746491,-0.05902929816363686,0.03084153890216085,-0.04896151549663528,-0.0499630033292835,-0.06513648207711978,0.0576999535470718,-0.015309231494189106,0.0568596123878144,-0.02933388643631629,-0.03510055438066006,0.06643963908986444,-0.07833641810514437,-0.028172242677957024,-0.04409227574293152,0.05167942293445916,0.06541029453910176,-0.07590780826645334,-0.06557672315018384,0.06203682522866409,0.028724333043128072,0.046997479642765676,0.04567168817755554,0.021952102110071935,0.058103402239848445,-0.03131176149533672,0.07994994277923052,-0.02190694826965277,0.017059907519716096,-0.057808770662314574,-0.016865212894361468,-0.009160950049534199,0.06252965542263328,-0.004259611030475133,0.01778177612688263,0.09065928964979693,-0.009685559021794958,0.015989243035665446,-0.03470654298082748,0.032714125472466854,0.06103274827112312,-0.050778679340556306,-0.00926594295067255,0.021862215809898215,-0.0076700386964686845]},{"id":"chunk-7db5cddc-110","content":"Let me know what works for you!' \"\"\" Model errors If models behave unexpectedly (e.g., the retry limit is exceeded, or their API returns 503), agent runs will raise UnexpectedModelBehavior. In these cases, capture_run_messages can be used to access the messages exchanged during the run to help diagnose the issue. agent_model_errors.pyfrom pydantic_ai import Agent, ModelRetry, UnexpectedModelBehavior, capture_run_messages agent = Agent('openai:gpt-4o') @agent.tool_plain def calc_volume(size: int) -> int: # (1)! if size == 42: return size**3 else: raise ModelRetry('Please try again.') with capture_run_messages() as messages: # (2)!","metadata":{"url":"https://ai.pydantic.dev","title":"PydanticAI","chunkIndex":110,"totalChunks":208},"embedding":[0.0645792936117598,-0.044234375525331486,0.012249018689649019,-0.004465717364694295,0.04417646028871964,0.07354668118046392,-0.037957558782456345,-0.06209364596598823,-0.013787602218075748,-0.0017938310649778244,0.04488795226897361,0.03361683649757612,0.018955968483585148,-0.06138680967717473,0.006149190950757429,0.05929872757111551,0.016630586242653553,0.023046034520292306,-0.05908600374749144,-0.06617882891117743,-0.08486619976890031,0.04315520934693558,-0.04816857389784128,0.07842000470442338,-0.07141287286313024,0.07603010680780588,0.06366644870239913,-0.04916938339579668,0.050478030430360664,0.0740796595693712,-0.04264137887469546,-0.04475561970594938,-0.05577403187111819,-0.07091217755499593,-0.03180475478544483,-0.08175156911555408,0.08170049659553254,-0.029865749309253717,-0.06372124910307382,0.056916881532374224,0.01708208770625432,0.07514144708769509,-0.029547241892895554,0.042729986204465574,-0.007867100688750003,-0.05293508193259972,0.05693930636306004,0.06864731376130373,-0.07059644349090964,0.08101300801436719,0.07458382091376498,0.006385497142384186,0.06139119797860241,-0.04186237604999948,-0.03956208338764658,-0.05115187766588643,-0.007001885367986409,-0.012728168975661919,0.009473062165862179,0.061692057935558764,-0.01634114364629122,0.01994403557717006,-0.048272734273927705,0.04978989522915499,0.006356379016808086,-0.041392812762907426,-0.07405220157038678,-0.031104344854388098,0.03221496990616883,-0.07406991093061825,-0.024417516287108483,0.007539612088375106,0.018072142365099794,-0.0006337784872402239,-0.04127670663048169,0.08426044954602065,0.06257651349464899,-0.024131063300672956,-0.08079698629393763,-0.00999824585365468,0.07704803068740544,0.023635919979434615,0.04530634710283813,-0.07710557123052182,-0.0258948365846817,0.04721410370163511,-0.02212199824465452,-0.04623360697483051,-0.061732343501879755,-0.005165009030849246,-0.019344744845383757,-0.05976274014475673,0.04466976044270495,-0.03762483862913834,0.027213745097829742,0.08547526633304985,-0.01888419872248799,-0.08278342003040641,-0.012459768167350917,-0.05750473970305304,-0.059775558655154375,-0.028482046874838067,0.012988919839557434,-0.04903728081582987,-0.022656843214018774,-0.06195394579920007,0.028479852044037447,-0.011022612208326147,0.07565918491690674,0.04148066626190467,0.059919758196963734,-0.014874370280109421,0.08322417338859701,-0.022645144288767446,0.008796874671514505,0.00812626325123316,-0.03286239379929161,-0.08222764648367666,-0.05747216506122,0.037765618603108904,0.0661368102761688,-0.06064393834790042,0.07273581098212246,-0.048894260433605036,0.07713389512552105,0.01516453956504095,-0.05213476784423475,0.040526791499135274,0.039724128899836425,0.019743181623467818,0.011962584092149028,0.056570354814510636,0.079294856502644,-0.08764971331567653,-0.04713609901007488,-0.034170339253857616,0.04280887213443752,0.08206785417739978,-0.0009734567674976368,-0.010055770193131608,-0.08631523649176376,0.050469137978027816,-0.04503917239836676,0.02430799888469451,0.04240464214047729,0.06369609999273411,0.0068365015971459065,0.07733907046269606,0.0018630771794580416,-0.035131837407019126,-0.00018927760160550593,-0.07375112101636272,-0.06419139979964554,-0.07108821735265715,-0.00022033621021366184,-0.041614168451982556,-0.08790007911284087,0.05243423898735667,-0.022798657225104994,-0.05632184929321937,0.07415189925030877,0.014585973593768316,-0.08180913000157233,-0.003864923499104272,-0.051667030972469656,-0.012444468645004196,0.06936112113184496,-0.015226030079781686,-0.08592542560228417,-0.0500969988619214,-0.004817772598619534,0.04454404981296552,0.02988150479179882,-0.004310532211836315,0.08222077533162458,0.0029769505701349977,0.05812536428071962,0.04604261287557036,-0.03461416320370872,-0.03210334706310342,-0.06776760295495445,-0.08426213515396228,-0.008799220385880447,0.06767652199622633,0.0274483167723008,-0.00013832565700384606,0.04708103809348537,0.026265807852031264,-0.05207949977890164,0.08052028967939301,-0.01884142506558468,0.08022737530677086,0.06155564824063531,-0.0675372349069682,0.04971007524565534,0.036303095037234744,-0.06724690324466928,-0.030875780974488946,-0.07503994459389049,0.07550662954574933,0.06020050074881136,-0.02687644621296539,0.05008181492272393,-0.01689841351924815,-0.017462141223414652,-0.058021753155618735,0.07282052181844657,-0.03816726569601203,0.05794732764731134,-0.06698246439102647,0.08303495079028306,-0.08112090631811797,-0.04679007409263515,0.01062753819733628,0.005099439044885335,-0.0748585143218209,-0.061602487806348964,-0.021820217348109145,0.020468561807779312,-0.022068885388479474,0.05072601604672626,0.031305434385172734,0.010140424958183805,-0.05317250102672602,0.07692691003059866,0.005410396949622617,0.004741533199445256,-0.044524318546425135,-0.04241663464352808,-0.05924246556355724,-0.08481772431262795,-0.04193987019514223,0.015963220781530486,0.01630369961882276,-0.07389597369627315,-0.04533070244731145,-0.016828666576866557,0.028386125255027723,0.006546785755812814,-0.039554735385399824,0.056912978918632146,-0.022767064086876374,0.015065177966968237,-0.009843235357816359,0.0023282667629823247,-0.08331100937220653,0.04115047723155101,-0.06010356434246758,0.046862568347902166,0.0631997302382012,0.060240881117888063,-0.06284689786893198,0.03266465695303576,-0.05619024130123243,-0.06761023004212918,-0.063078338036287,0.02664419670847249,0.024478201100112233,-0.026953761510399233,0.027982655566405553,-0.0630279906856017,-0.02949399969745414,0.014048597970646243,-0.011485217170126889,0.05514957910402935,0.03669527585923005,0.07914832964809423,0.08092846545409638,-0.047747152995772785,0.004317181452314929,0.04048008263253824,0.0010082607511003058,0.05029495622247709,0.04868983075875563,-0.07835754541584142,0.007091343069652863,0.07233372545616837,0.042960448776734876,0.009573597452209186,0.05134345519489806,-0.05089943162914953,0.0847246937531866,0.054037087243614196,0.05078666878734173,-0.056816614413299896,-0.053782993309076876,-0.08335754978476703,0.06703902524790546,-0.07584638670257522,0.06022246662979443,-0.058223599550812695,-0.016870542497434065,0.08863910140581835,0.030636745761383217,0.06744498368056391,-0.07577942990811952,0.04327284525108282,0.01029246385103773,-0.030551106175707186,0.04480037658211299,-0.033529114833126816,-0.00381472558144503,0.07204069469284444,-0.012253426598756998,0.019701086837168338,-0.02387598315769506,0.07259925040314871,0.041687322502081944,0.06927801124381235,0.052964003842227346,-0.013208631756419493,0.015452049726576728,-0.07763169482106355,-0.07890771087223376,-0.07866900343363725,0.018607732555438475,-0.05912200607779066,-0.03386581214061614,0.07347793576294372,0.005237787620021631,-0.05733051066570948,-0.02322052329804644,0.04399502219686448,0.010111031699110958,-0.03585564312572675,-0.06642267354915286,0.02027210247334444,-0.051695494960607505,-0.06260680016333486,0.04692181784122744,-0.012619628117125114,-0.040053834702504634,0.011241894203037561,0.04741388193530353,-0.07901175526159675,-0.07353357234187569,-0.07044529798321827,0.03000745777287585,-0.07412133440402247,-0.07501125745710667,0.08269448115897655,-0.054878485838694216,0.013171672676090504,0.0708102415055443,-0.03974504317929473,-0.06967485461881777,-0.058279541909338824,-0.02767066292133893,0.0030789181018497074,-0.0013473326296423354,0.02805157732323876,-0.03345929782471153,-0.08691952466643897,0.07080437415172192,0.08078557606043323,-0.07094735630949699,-0.003972219023688925,-0.05797322437768133,0.0032625243794344298,0.0002475695104327466,-0.024338676722097375,0.04670792553539749,0.022341328175138103,-0.03791930246681976,-0.014328570805220315,-0.010602989397352292,0.01955405436497122,0.004215778520984406,0.03325541549007378,-0.05971985224882327,0.0886866121332867,0.004784189214631433,0.02985218006314894,-0.0829093662477965,0.05190928906090382,0.03369919002467703,-0.08417697619484586,0.055007273205103395,-0.030008307847244335,-0.0608545727275423,-0.07530108895803209,0.06938877693860447,0.00015092959468702134,-0.05876017413952974]},{"id":"chunk-7db5cddc-111","content":"try: result = agent.run_sync('Please get me the volume of a box with size 6.') except UnexpectedModelBehavior as e: print('An error occurred:', e) #> An error occurred: Tool exceeded max retries count of 1 print('cause:', repr(e.__cause__)) #> cause: ModelRetry('Please try again.') print('messages:', messages) \"\"\" messages: [ ModelRequest( parts=[ UserPromptPart( content='Please get me the volume of a box with size 6.', timestamp=datetime.datetime(...), part_kind='user-prompt', ) ], kind='request', ), ModelResponse( parts=[ ToolCallPart( tool_name='calc_volume', args={'size': 6}, tool_call_id=None, part_kind='tool-call', ) ], model_name='gpt-4o', timestamp=datetime.datetime(...), kind='response', ), ModelRequest( parts=[ RetryPromptPart( content='Please try again.', tool_name='calc_volume', tool_call_id=None, timestamp=datetime.datetime(...), part_kind='retry-prompt', ) ], kind='request', ), ModelResponse( parts=[ ToolCallPart( tool_name='calc_volume', args={'size': 6}, tool_call_id=None, part_kind='tool-call', ) ], model_name='gpt-4o', timestamp=datetime.datetime(...), kind='response', ), ] \"\"\" else: print(result.data) Define a tool that will raise ModelRetry repeatedly in this case.","metadata":{"url":"https://ai.pydantic.dev","title":"PydanticAI","chunkIndex":111,"totalChunks":208},"embedding":[-0.037657205860684065,-0.02249447476739387,-0.014097797335872252,0.05539138579681654,-0.01725329548354143,-0.06532467884377578,-0.01214327319254391,-0.012007216829039536,0.06635583380644727,0.06304855265582357,0.07402939407548313,-0.05156041072341538,0.04946535624858874,-0.06817154977314466,0.08067054055424656,-0.07568512527108318,-0.07278016960282094,0.03886932620531273,-0.05206881551137403,-0.06557404816829347,0.053239554603095714,0.04789437365773095,0.0484402062323549,0.05970744871544985,0.02700282495757205,0.0874662041421549,-0.07037144092530778,0.0358845150298,0.05902401049044914,-0.06776738143479687,-0.024385216040017046,-0.07189358822754666,0.040121612994921396,-0.03416983266012055,0.006330106613226894,0.042709708510129465,-0.06618139036012931,-0.06852559954414317,0.07974647230312308,-0.07067203827785748,-0.07277203074073152,-0.014751322159884518,-0.07191459321857825,0.03859741032908357,0.04672804930679397,0.062032480220809275,0.011615721487959241,0.006689959240484573,-0.020570516086800876,-0.06754723263984665,0.02092430010253475,-0.008883539207196913,0.055422277570147734,-0.052814286665669646,-0.01701773593778223,0.03290038296969618,0.07547814115237184,0.04115680293124754,-0.022799114519543365,0.07383595277310287,0.014972424765928121,-0.017614246558097988,-0.01955063672692056,0.00907861482499947,0.05182340896650101,-0.08098207586308848,-0.06975813629553468,0.013073127272505015,0.07604934805380581,0.016061225961563366,-0.06573075005350502,-0.017646605553385684,-0.049905120655903364,0.06588608331911071,0.018631271759542708,-0.043848517548677336,0.03277034551180963,0.05443801728627223,0.059863446623420656,-0.005019971069308143,0.010015540127885383,0.05975448163506024,-0.035120638060309656,0.04758116854382956,-0.02571755202919809,0.08352236878343555,0.008213090622064118,0.07960355709338605,0.019842619092529736,0.06833973036136345,0.06407535190715317,0.022238979285061244,-0.024075749164242252,0.04306682700835043,0.027402243395173484,0.07283210513955785,-0.02128503416652384,0.0076551182908871414,-0.08619754098678901,-0.04963154534013822,-0.057958274648437835,0.025047748537565286,-0.07378698962829044,0.02234521713997855,-0.018261646367035245,-0.01811516427109014,0.03144950551905289,-0.08669867969047819,0.06791935877977785,-0.034795326698321284,-0.07345611413820173,0.04952422667782084,-0.07691223179021323,0.055022033380481956,-0.06581981387339775,-0.009364279276776664,0.04711039604315904,-0.05147125665581761,-0.04666945716121914,-0.01625972346857381,-0.0011757572575597174,-0.0482361750908407,-0.08099904508504621,0.07717676675414377,0.037846113928598143,0.03442405717717083,-0.03316174563808012,-0.07189267326372545,0.00220243319665716,0.0013946022866249941,0.07553243833870346,-0.05311963024225803,0.05248467228108323,-0.013297646836133103,-0.038025870955634124,-0.06986736403716526,-0.017933830947212608,-0.08281944818056178,0.0031215497924862823,0.046100934842653166,0.00715880007886126,0.07003669419474476,0.05324703332728903,0.06278400200812208,0.0022227085488886983,0.05179589261053735,-0.08049994030710372,-0.0527398492909723,0.013152212808218091,0.046256280589252526,-0.07509672563537201,-0.005851580345760997,-0.0851574551030548,0.006538614359486059,0.04390347511291753,0.00148204250324677,-0.0733643463147955,0.021601339855698277,-0.0804726697631134,0.055561847068595564,-0.00026220058134890405,-0.05549922330839182,-0.036698466419904985,0.007919484543545281,-0.0712067643351866,0.005086341708848328,-0.060077098915507686,-0.05625006182210181,0.025468883983713254,0.032559053626525156,0.0772330223612977,-0.08336521882519582,0.009812421787580855,-0.07626253907481659,-0.03787828621764413,-0.0024499180524115375,-0.03925785099112428,-0.01528678634549751,0.05603532567706847,-0.0868095696014339,0.007687379082576882,-0.08553022137003377,-0.0562438274459932,0.07844304858183501,-0.042768046071404116,-0.03992355245242356,0.05624809993823089,0.022809661050494784,0.07704521314658536,-0.06495360406376222,-0.05104757770439093,0.026172309486561154,-0.05964099644385469,0.00702367878677313,0.016480148065104054,0.06669267193128228,-0.06216819443476474,0.04056216756868238,-0.06557387879237114,0.05591924374639046,-0.08682027557548383,0.0874883172656074,0.057771436131292556,-0.005179172615293939,-0.010328622004855799,0.06358195125482402,0.05470824493727079,0.02557018645274725,-0.009566768857933484,0.029931430013084077,-0.05288958852642925,-0.041621959137748,-0.01905611571651008,0.05377113760753983,-0.06699645727337848,0.004388695994295754,-0.003890045531340822,0.03553274563962515,0.03187538067642212,0.056695654168067273,-0.08484425530135419,0.05270554897871375,-0.012017929329703367,-0.022915239541086582,0.06261391697022266,0.03988016943890783,0.022114607990486253,-0.017220421891991432,0.00012873478515885317,0.03555619475279351,-0.06763901480176077,0.014859826681295117,-0.012637905925575276,0.020248951172573568,0.0065602728290149945,0.08226677379414088,-0.05082760209081438,0.05021242380330999,-0.04748451162558496,-0.054101681199966056,-0.04968875922405258,0.06498672320910284,-0.04049513087155657,0.045195929754929025,0.0636258043822067,0.06964944241629681,-0.015489779483481734,-0.01916732875068511,0.021470181069542245,-0.03901144004071836,0.056287810744163946,0.03340882907075888,-0.0031215817605027858,0.019235223056633048,-0.057494177177905066,-0.04706638758044253,-0.08776989600870536,-0.07979216248146757,0.05745394396793753,0.005384031663744272,-0.03973407000765684,-0.010001116244717827,-0.06053040657515858,-0.050769288335358514,0.0861405708600889,0.0037559977973006067,-0.06842990228815254,-0.04966085688151577,-0.020627592213650143,-0.056374338475333144,0.056270618387521405,-0.07340333539929657,-0.04739941457836351,-0.054739031475331976,0.04576123440442511,0.04593751129387885,0.08572620229089353,-0.05637094606924274,0.08441608188138564,-0.06109754630393862,0.04820138599112817,0.0071860656218728745,0.08833207107572412,-0.021505806602801256,-0.05694596899910172,0.07769335879318925,-0.05121340619949411,-0.021072712444563057,0.02684655250298733,-0.03779902153225263,0.044513031284417595,0.008879188582111931,-0.07744341001858251,0.001111713780948227,-0.02607093677247973,0.02798825506626453,-0.06148504937883031,-0.033943888516536735,-0.07177815361747798,-0.0633587322709496,0.004473220426260966,-0.01428637150088696,0.08735301900894599,0.08829895136441522,0.07891509215691012,-0.02767015190393892,0.04868111378489035,0.03176953534670458,-0.06517259913069424,0.00555830071887091,0.06071817138441944,0.016197074108967993,-0.05494232922979625,-0.015071671887155044,0.041435366424513835,0.07736807671573565,-0.013881140014760096,0.047299780735691535,0.051500241713317504,-0.05436784984002467,0.01535942985718761,0.05051270156420781,-0.002573133128627321,-0.04851743285382029,0.06884757810972236,0.06380450754890624,0.06991803581745928,-0.020765182251001994,0.08418532871699322,0.07673350309995701,0.0866209620813773,0.043980578620723375,-0.01657825627724875,-0.06358918120651394,0.050692331801975056,0.07439569543570494,0.05237575003090594,0.01648267691499914,-0.009329312451094222,0.005698783245802563,-0.017016040636416395,0.040867145918526755,0.08383113302470062,-0.08121541909026112,0.08813245572493833,0.07208879992077061,0.01396852652570914,0.06731661109532666,-0.003004673542872041,-0.00946822867816331,0.014062611370096168,-0.04840516591786897,-0.014032864894435795,0.0485556260983857,0.017638462151295494,0.0034592535016199737,-0.030541034834858153,-0.009014666567077726,-0.027331311276770364,0.07068760531860313,-0.082284261235354,-0.009217300906149426,-0.04075640516419618,0.07527835422628845,-0.0488150110138578,-0.02299252417696052,-0.08481268112943373,-0.056286981000813946,0.019882935267480095,0.05126041186047614,0.0749582982678332,-0.05993619542338991,0.010024221816676122,0.060329546822835534,0.025607084497784826,0.07260145601762909,-0.06352367068379318,-0.013880080106141616,-0.006732320015085259,-0.0043177827026418154,0.06136245562718042,0.016930697656635893,-0.06517126123797051,-0.03723066023754583]},{"id":"chunk-7db5cddc-112","content":"capture_run_messages is used to capture the messages exchanged during the run. (This example is complete, it can be run \"as is\") Note If you call run, run_sync, or run_stream more than once within a single capture_run_messages context, messages will represent the messages exchanged during the first call only. Version Notice This documentation is ahead of the last release by 2 commits. You may see documentation for features not yet supported in the latest release v0.0.27 2025-02-26. Models PydanticAI is Model-agnostic and has built in support for the following model providers: OpenAI Anthropic Gemini via two different APIs: Generative Language API and VertexAI API Ollama Deepseek Groq Mistral Cohere See OpenAI-compatible models for more examples on how to use models such as OpenRouter, and Grok (xAI) that support the OpenAI SDK. You can also add support for other models. PydanticAI also comes with TestModel and FunctionModel for testing and development.","metadata":{"url":"https://ai.pydantic.dev","title":"PydanticAI","chunkIndex":112,"totalChunks":208},"embedding":[0.04127600695524031,0.06667447646414709,-0.08201395774847042,-0.0650327354483012,-0.027889569495494367,-0.02801870968124397,-0.0318045065329533,0.04280196189617728,-0.06973130430132046,0.04656312455023368,0.05092822964845282,-0.028523015123045937,-0.002174246255940604,-0.01686684597772824,-0.08805198910191357,0.020572169658202216,0.04299240589948408,0.07928810030630325,-0.0030283015639208507,0.05873805928370511,-0.0037195516737765035,0.01790304218965251,-0.033778745093811124,0.036265014986810465,0.04681127252906105,-0.006022596457862189,-0.014143651894776326,0.05592424773053361,0.028165677654911434,0.07111161170369311,-0.015125676225535171,0.024345957958344103,-0.014765448661185674,0.013492905511531757,0.013338455943869912,-0.03141266404959154,0.03697502516748474,-0.04156328111327876,0.06667774214364494,-0.010164451908582367,-0.08189167823863445,0.06824480353271226,-0.006165909533075566,-0.027071425311822973,-0.06795183254007903,-0.006712096786876514,0.03100659996492517,-0.023894119353883952,0.08471105701263165,0.04797643246567973,0.0893693747878459,-0.01349438768444176,-0.02334663323736827,-0.0395355747670771,-0.03264736812495105,-0.06633910216644227,-0.07207027344640596,-0.06956372148744573,-0.08508725652885897,-0.07563424516002347,-0.04622574268810133,0.025049996527944936,-0.05278999947621015,0.0533008829712096,-0.05109637542981596,0.07567155777883358,0.08465024914722694,0.02610151531279082,0.029095003343008113,-0.026355311382607646,-0.004775576788134411,0.07639333990132545,0.04046341068184241,-0.03414607438556465,0.005492271182437534,-0.0015886254141189134,0.09006369205038163,0.006048720337672168,-0.0014573246556505073,-0.03950368036185584,0.05301442414395415,-0.029763447735349096,0.07474122994716066,0.05531393856816899,0.04664118013607783,-0.061757670938222965,-0.0036567260657837677,0.016645336834119763,-0.01731792138360491,0.08465628039847636,-0.0471194770778251,-0.022603537818088666,-0.04418172640994536,-0.06807967137322918,-0.057896035045893475,0.07056322801138182,0.0680942023248707,-0.08062952669043925,0.024024020713220916,-0.012138202054467006,0.02654053678216883,-0.003128706597964596,0.05836534021726947,-0.0024899029327338064,0.029210461176298625,-0.04967222362421883,-0.08002143710924556,-0.043976687331704685,-0.010926769402817138,-0.06969653165133625,0.04722308090052705,0.036125926740970336,0.02331962102682607,-0.010383142094546773,0.060942448688596086,-0.07334047328732472,-0.036310231631515984,0.08574882540893593,-0.016567752227948793,-0.07494415743831274,0.04965669424802788,0.08387268013349215,-0.002725465370391373,0.01842600192764701,-0.06792158277246899,-0.008150918944132501,-0.08654727738721783,-0.04296330139080563,-0.027219093185203148,0.08474938444539944,-0.08432704991453292,0.08354848469213914,0.004879998892806374,-0.029090410504091214,0.04206261109085875,-0.054043599990311386,-0.04429070866693719,-0.012240762047522984,0.06112514126752893,-0.07551431330211134,0.019613608562077597,-0.07184767534422154,0.05066321258580431,-0.040266035753620553,-0.07045207898454325,-0.007615698238198537,-0.025207941249444664,0.06198166030039181,-0.08180918246349242,0.04331374936329434,-0.08556143718379576,-0.061672933996160015,-0.07218308105868179,-0.05825660223908062,0.04228984337210433,0.07565603020563574,0.03146410084454908,0.034714620269857874,-0.006986757262707314,-0.036099231334885344,-0.015769990935015032,0.08023708293321949,-0.07666661724027267,-0.020408576956786263,0.034287644530039955,0.06086164959252084,0.01320630973959214,-0.028072666402129662,0.041617200055126286,0.020951424274906028,-0.06610716571491827,0.04764642800577067,0.05797495819562875,-0.024135148019751033,-0.05924833182741728,-0.0061347654994062095,-0.009499651350654247,0.0032830171831788766,-0.06385973097955958,0.06928655449657008,-0.08615973154334243,0.03849187552648444,0.07971768387070978,0.07910065313792036,0.006911284328794747,-0.008165123750345166,0.05726066690863396,0.0353084676981666,-0.006282121498177136,0.08740760479804709,0.017847718794944095,-0.06007090228446845,-0.009295515837966268,-0.04868951654788036,-0.07042509145930893,-0.008707800663769768,-0.06322891945236248,-0.07066790355464789,0.0780431961872979,-0.026316361792944217,0.05533358450118904,-0.07862365518303573,-0.037998030865150835,0.004681698998868387,-0.07191209689384641,-0.04073725728895818,0.009937486181773375,-0.02334334539667093,0.03396255161292382,-0.06868269435178845,0.05017435777293199,0.011104454310472219,0.027911325325363577,0.05504888244042031,-0.053695465763598224,-0.04114492173146268,-0.057194018130707645,-0.01893119362130841,0.08015811566491075,-0.07183362494438832,-0.06869996985373276,-0.007701754767765234,-0.0060840498191481185,-0.005771939248065072,0.02014442245503038,0.08720931675484389,-0.00845116297015655,-0.01630684739081652,0.025584956082273694,-0.06466493996628246,0.05381312383150096,0.039950437022460324,0.03487222778385486,-0.08843837535410727,0.0005362338054292197,-0.00554680893201544,0.07601538926875492,0.04254997340313181,-0.03580344262116867,-0.07434009689185053,0.007402853069500723,0.07310772355532297,-0.017484202045685765,-0.08034761035395857,-0.0837014169817871,0.0027012747170986405,-0.04174151876706206,0.04599554441670111,-0.018075304529894073,-0.08699022576957595,0.06730695018032899,-0.08900115386584996,0.03868270969732208,0.05020815465468235,-0.0680823166798068,-0.03442931798845946,0.07789119142911667,-0.08878451204925651,-0.058862951312367164,0.043528238229702525,-0.010926677699447735,-0.07086214439276894,-0.018141801582727178,0.06684570754314989,-0.0008027577895889081,-0.07119273501455187,0.03358607540184279,0.08878164158273456,-0.07627215835429256,-0.043426434167598,-0.029589937709772418,-0.011128770222766692,0.07139198890210824,-0.05575908525207569,0.05032047143265328,-0.020862009924900934,0.04893076020217107,-0.004260154579013931,-0.08374635244465446,0.0480446535311028,0.003439941078585255,-0.03589062725963252,0.016936888972899588,-0.0873839838881196,-0.04898720508089381,0.012504759453123883,-0.05564159831975873,-0.07732582236256166,-0.02366460862445949,-0.08936976706848855,-0.027819422429666833,0.08500483593086539,-0.0279838258773695,-0.04862150082808519,-0.08065614278909114,-0.04252427705098389,0.03844783188945699,0.05160988374096444,0.02311761085865027,0.025486344419944428,0.01783379502646129,-0.05286423383410394,0.08904885385556083,-0.06639431842622592,0.017971000092676048,0.009443466005556343,0.01476376971791092,0.04933930941458861,0.005493400218283814,-0.01600475581606541,0.05378244221894353,0.000023411933557558264,-0.00531191167151356,0.009857565653626346,0.009698602831794901,0.08474743512187115,-0.04000951536235414,0.024029222020938427,0.05678261192679522,0.03846051710066206,0.031652287141618836,-0.030490402519178426,-0.06120979629689725,-0.0766360381334071,-0.037135510490394964,0.08399046416415408,0.08625413356529611,-0.05698682501876441,-0.060481775763468595,-0.07208459164141702,-0.02794346893808816,-0.008213474577452928,0.05646424374787857,-0.001970163908228249,-0.0057829889642050224,-0.06121793334409845,0.08529154743045313,0.08424272024078493,-0.06943063008794285,-0.0697235744318542,0.023259184118114853,-0.06973155718465089,-0.0324251391441902,0.0205147508203867,0.03440160807974973,-0.02045576438895839,0.01986975928868628,-0.017814418956958348,0.031128181940785246,0.050908181296058556,0.006908380620309622,0.05568693653923666,-0.05834352520491975,-0.03139732333074717,0.05331242222469517,-0.08407588179444174,0.06228957753443601,0.06938294669962206,-0.07758044734057266,0.08120215491549439,0.04798148671664319,0.00006379004052729216,0.08319632786876116,0.04283631639748599,-0.02136403085482742,0.0031970151143328423,0.061811910529710745,-0.015978864611143916,-0.03603838474894315,0.049035463660496305,-0.009828376257294139,0.007633912238349015,-0.03532486085225004,-0.00009113727268387206,0.07418805269111484,-0.04431047725644355,-0.0224703935063325,0.07687327312797713,0.014870482064033574,-0.0346485466263702,-0.03196980289145795,-0.039073835955537574,-0.07543891117721828,0.0039641748785278355]},{"id":"chunk-7db5cddc-113","content":"To use each model provider, you need to configure your local environment and make sure you have the right packages installed. OpenAI Install To use OpenAI models, you need to either install pydantic-ai, or install pydantic-ai-slim with the openai optional group: pipuv pip install 'pydantic-ai-slim[openai]' uv add 'pydantic-ai-slim[openai]' Configuration To use OpenAIModel through their main API, go to platform.openai.com and follow your nose until you find the place to generate an API key. Environment variable Once you have the API key, you can set it as an environment variable: export OPENAI_API_KEY='your-api-key' You can then use OpenAIModel by name: openai_model_by_name.pyfrom pydantic_ai import Agent agent = Agent('openai:gpt-4o') ... Or initialise the model directly with just the model name: openai_model_init.pyfrom pydantic_ai import Agent from pydantic_ai.models.openai import OpenAIModel model = OpenAIModel('gpt-4o') agent = Agent(model) ...","metadata":{"url":"https://ai.pydantic.dev","title":"PydanticAI","chunkIndex":113,"totalChunks":208},"embedding":[0.023313463613801808,-0.014490503181520068,0.05301966264612562,0.009595387544640954,0.05847098029907402,0.05349396760579787,-0.045608899921029004,-0.03890531078092418,-0.07523124192268398,-0.08666944363287368,-0.07783451356519651,-0.03655483780488358,-0.024972380265530548,0.055998456922231474,0.06050569620649808,0.029647019366570007,0.021020630530350352,0.0027896964730543985,0.04063571031907276,-0.04062833157439685,0.040695679015079304,-0.04576640087214021,-0.037109324094688194,-0.029925396380875054,0.007372815793061729,0.08618257234651663,-0.01760808278523571,-0.015903001332377834,-0.08419247347674522,0.06996180050122049,-0.04877060162580751,0.031001858940715048,-0.052883932547388046,-0.08310444196660675,-0.04848005606306645,-0.013469489383207179,0.058456291185563954,-0.052563536346803795,0.06837120398214581,-0.011940503482276337,-0.03949550463721149,-0.07585802069740247,0.06137342289887098,-0.011676283583508062,-0.07772002623574825,0.03276911499177806,0.030282603901326054,-0.03443734039163254,0.02376575080564976,0.04523083932991428,0.04696313813608105,0.021868796986140603,-0.06133589472423131,0.03344591022502566,0.07124435852791709,0.07256894254441978,-0.08437570022907588,0.07052062836350666,-0.04148049754718434,-0.055182194033273936,-0.06459500096020337,0.06010845716752302,-0.026996407722880804,0.08270787067183757,-0.024241616421482756,-0.0267776539617409,-0.03593208603078216,0.005708577930260513,0.012872635156564559,0.014349289650707767,-0.07652518156401357,0.0357489734397824,-0.02191021786102148,-0.0591878015828616,0.050201373100182516,0.07253539242798196,0.023479762736195897,0.06771430226024576,0.06637578736667998,-0.050034798878147754,0.06682426705687695,-0.061201240658281336,-0.031372862900062054,0.030575798131745397,-0.020229949564189467,0.01900562939253067,0.0258192245975636,-0.015847964317647806,0.02325984170198895,-0.08526761956060838,0.040249565288828164,-0.027119178999935576,-0.00249926877428218,-0.04829998185293881,0.010262748535357974,0.0425639939415301,0.08155975761088939,0.005775787234113872,-0.05402896456746802,0.018666174602688893,-0.07428562047919021,-0.047135809332009206,0.04319869557942522,0.04459310124273293,0.0405855980234605,-0.08201647152921415,0.004295319462166885,-0.05023763168112016,-0.06605034777839751,-0.03943130397379883,-0.0633847765299754,0.02770153854613412,-0.01077549256016024,0.0739451929875028,0.03572865128054457,-0.008345718087877133,-0.013248715763331854,0.027443563028290287,0.022630630101729332,0.0888080271725479,0.021111998133720358,0.023776565991827498,-0.0710856831241492,0.042169808567608325,0.06766732174762995,-0.07180052584407304,0.03791965421173083,-0.08389309724888362,0.07369747264557855,0.009925944340450361,-0.03308713200066285,0.015651906804597698,-0.02052997810837633,-0.010768874768866392,0.0757782290196011,0.021954285972737315,-0.023550794861887193,-0.04301258090932489,0.032094958660191124,0.02769156597071486,-0.0074515298997509805,-0.0015661744754860531,0.07457135701134042,-0.016587968432892255,0.01499953920068775,0.06576905281953453,-0.04378007740720694,-0.03632704810505137,-0.027121746034760634,-0.06663810801323256,-0.03466360536024391,-0.07499111469771899,-0.08432698823343693,0.08616637989815017,0.04937124882103377,0.03426179467461915,-0.05636918717130213,-0.08140936947066028,-0.033656858055845326,0.023612856459606816,-0.06802707373282757,-0.030531743792230438,0.05152268950854491,-0.0882903031800847,-0.054353213823557504,-0.04071944449348198,0.06334939507922535,0.0784453090219387,0.06343928910643125,-0.07498787773199622,-0.0720302837507667,-0.0004725483002327532,0.055467749847216835,0.06640511024505599,0.06231529753606144,-0.08702053214677902,-0.022007311001283864,0.07999389244069463,-0.04837041713380775,-0.07474697558700286,-0.04244985283068168,0.06733818020713762,-0.055707815074272214,-0.018393379627731788,0.02248110929139439,0.0015501588003592943,-0.08244810025132279,-0.02933396658771354,0.015235281682275238,0.05993855919348062,0.05099906104297542,0.048611017267748434,0.08061728412347831,-0.07056713146297272,0.04298437873370365,0.016877197229182087,-0.0788427103814656,-0.014121373868480634,-0.0626891564357965,0.023769816732910305,0.06138949271298151,-0.08622970197625152,0.07425037515490363,-0.05266502209599477,-0.018067383431642547,-0.059413091234305694,-0.03592156601287693,0.08504369490381046,-0.019449144063060607,0.048263594823077655,-0.07399735172045929,0.05219888961063954,0.056762917037193696,-0.061336329966230126,0.002295666489845735,-0.07637001446639789,-0.08383739797424013,0.002082050241800724,-0.04406920203900905,0.04032008093050075,0.027863848799695595,0.010576803410344204,0.01637873163716376,0.02922409128150236,-0.06209081773400874,-0.06682242849499098,-0.06538030563684791,0.08648385497134121,-0.011871684943971901,0.005251643316958156,0.0034273269739937265,-0.015552028684650923,-0.06381784968348549,-0.058099793229537185,-0.031125056945243205,-0.06599955611863265,0.00034081303626218247,0.08551342227665858,0.0682175721274598,0.05572762356670441,-0.04954345794446549,0.007380662654735751,-0.052612149449389356,-0.005221256120475252,-0.006016780256020538,0.06896744853016176,0.006306789523887843,-0.0656482105035725,-0.05112305252325275,-0.06331877509726419,-0.05639897823227378,0.08475224184658349,-0.04680946911242917,-0.06932804142511473,0.041032128183554555,-0.04303111934118364,0.05042904558012367,-0.02136841825510226,-0.08760621134799329,0.042942408224262804,0.002744410063398131,-0.013356412386146183,0.003746976200629915,0.0500458151656766,-0.03992949354619254,-0.03968265487820696,0.08455440608801361,-0.031545331514810086,-0.08520050725639333,-0.08302820068820893,0.012841135392268903,-0.009592293048390486,0.062067816204378796,-0.0003350480466411225,-0.029026386875714648,0.028936647925249318,-0.034397329851971636,0.07400359952965327,0.0629272750794979,-0.033706100834952527,0.0806101967314927,0.04716207115150832,0.050063609980270145,0.049802682690915964,0.0034500372872272923,-0.03567762616920944,0.0706751189259588,-0.05398516256270563,-0.07306012918060009,0.03766092053234501,-0.05686776575923316,-0.021914084816523367,0.00103279477083632,-0.04620759325392393,-0.004437184234775836,-0.07929240387569755,0.04673859008365553,-0.041797905770313296,0.042686901449271904,-0.035596085401460795,0.047395732306532136,0.05444084955532964,0.021553043475734147,-0.00008863729806334684,-0.04980376995095547,0.0118956420367302,0.02799481338210343,-0.04942435902372829,-0.03852074090676493,-0.06959745791245942,-0.029427286750852946,-0.08848503345274594,0.06363980675375014,0.02536316195146691,0.01071547806296321,0.05321102471572505,0.06077758684104492,-0.025080331657732526,-0.006953233350229274,-0.06950856613552328,-0.06467312045311428,-0.07142149326123312,-0.025839532722736563,-0.04203338842968324,-0.04180473191826224,-0.0059587835882849455,-0.002380500808521035,0.007247374891843944,0.07984229329121462,0.026216594064637614,-0.05763269825499169,0.0543550139907024,0.04589875901258572,0.007207851426135375,0.06517773909618298,0.07183065477604676,-0.04929816249478898,-0.011877605033753996,-0.05239633136501831,-0.04126817346022872,0.08826410420767651,-0.051537981104621815,-0.07884994268480224,0.06831064134848881,0.05078732531753727,-0.0023161254185726714,-0.018964301298479452,-0.029257330495459623,-0.07263542911136352,0.06974293139220752,0.02905713534156308,-0.07160434222386201,0.04090210822264148,-0.0781542817102179,0.02267092204814524,0.027029770777748405,0.026086664317105393,0.0871451020957114,-0.062051769207602005,-0.07734321904946709,-0.021431014169572337,-0.07884861991211117,0.06467589915862473,0.04955944447149989,0.033157792538369577,0.04568137406193976,0.05532165806995142,0.07740503229522729,-0.018106311598622995,-0.07199192125113225,-0.07995123244468792,-0.06389337012767603,0.0011860364783974813,0.006533224640724749,0.0876235672711646,-0.03708134555100041,0.0026768305849115335,-0.013067797739473858,0.018793337410501584,0.030774951779648497,-0.03382785980965647,0.03603505902607721,-0.01653943569831352,0.030708050164584114]},{"id":"chunk-7db5cddc-114","content":"api_key argument If you don't want to or can't set the environment variable, you can pass it at runtime via the api_key argument: openai_model_api_key.pyfrom pydantic_ai import Agent from pydantic_ai.models.openai import OpenAIModel model = OpenAIModel('gpt-4o', api_key='your-api-key') agent = Agent(model) ... Custom OpenAI Client OpenAIModel also accepts a custom AsyncOpenAI client via the openai_client parameter, so you can customise the organization, project, base_url etc. as defined in the OpenAI API docs. You could also use the AsyncAzureOpenAI client to use the Azure OpenAI API. openai_azure.pyfrom openai import AsyncAzureOpenAI from pydantic_ai import Agent from pydantic_ai.models.openai import OpenAIModel client = AsyncAzureOpenAI( azure_endpoint='...', api_version='2024-07-01-preview', api_key='your-api-key', ) model = OpenAIModel('gpt-4o', openai_client=client) agent = Agent(model) ...","metadata":{"url":"https://ai.pydantic.dev","title":"PydanticAI","chunkIndex":114,"totalChunks":208},"embedding":[-0.08113640676389282,0.011155553985900133,0.02391016197947158,0.012575172354060606,-0.006140086679909918,-0.002700676235210063,-0.03744014769761322,0.05037945687552963,0.056284079010734664,0.04975821086607067,-0.08245909423408064,-0.08235946281054539,0.03143844418230037,0.038000502354015704,0.044088100850726085,-0.04741733088163821,0.08761684991337554,-0.07201512428530614,-0.08656774406090588,-0.008020009065389213,0.024602143637962603,0.07991211128807896,0.010963894725624463,0.05026750727735074,-0.059727233303994015,-0.031748926532414894,0.0007726019624711946,-0.07079117438224498,0.004776535353702367,0.014193328979791428,0.0020435685879786744,-0.04902671037912198,-0.007367552457439043,-0.006344052599901909,-0.0542936190082915,0.0787603764825669,-0.06424121128635,-0.0742926983446152,0.08889749106177783,-0.023023140895173447,0.014736783256419635,-0.01776837232569086,0.0571093937828697,-0.05087009836578852,-0.08221172583686195,-0.00485585523285553,-0.023244229673228606,0.010828626254649741,-0.08594003526670417,-0.07945300265566989,0.0717559085544987,-0.0027293223186418514,-0.03662757142842942,-0.002084090599552885,0.0335636822759299,-0.08933019365310964,-0.0439069165152305,0.03859401197024689,0.06822787590453659,-0.0555820756237324,0.0496499733898782,-0.026653241162527087,-0.03869198172375362,0.08476443550473947,-0.01305879328482089,-0.07858454696646691,-0.06625570229687519,0.03208884235990596,0.04332935498903299,0.05004263286637926,0.08206089976243727,-0.08702877656994074,-0.011289118971653944,-0.0856193180843568,0.04623454782361811,-0.07746162915125576,0.004580040004028562,0.009531940185762696,0.08325530434900522,-0.02951857057496323,-0.05729260014449022,0.07515173733327127,0.038786137788399344,0.04170604041546427,-0.02119993418546827,-0.012638397516245455,0.02264042677255352,-0.05367853399258948,0.07338161128021445,0.04966159938062902,0.0005909378437441814,0.029818093679039263,0.009888450323272133,0.027396785655722816,-0.005932506637404251,0.07115769090709526,-0.029633072967216262,-0.07296313924195365,0.0727688100902349,0.06393687874137614,-0.06438501620412623,0.07513070113919068,0.0326810585378527,0.016363257559367673,0.006492609097377415,-0.023350603988970372,-0.016521914423928027,-0.017826895752681152,-0.08469359970842874,0.08757988271975113,0.060777974555269614,-0.06092741612316143,0.07092014984057249,-0.06998099542858086,-0.008373896201421156,0.07898167404820552,-0.019795322204387292,0.04525018576840409,-0.014406224588264389,-0.08875864411379704,-0.08433187949768875,0.05072517523868772,-0.012080060593188658,0.004544062505388905,0.004360002886463861,-0.03918288571725012,-0.0045215780347859615,-0.027195103549773857,-0.02779097033196107,0.00638858126909393,0.017502642049243015,-0.024135330416428034,0.024945767459609827,0.0027969407829029316,-0.07620278962400719,0.0705560909848001,-0.08759463943086143,-0.052735638736302354,0.088187676661401,-0.08218144214813372,0.08711056661332538,0.021428521916831145,0.02937268813931198,0.006333646899594571,-0.035025192524677395,-0.02836864163471486,-0.052582864281334886,-0.005930775255686623,-0.04512344625025871,-0.07184026889116617,-0.027306924211942023,0.04720706662643796,-0.0004495930256009769,0.04490505391296405,0.030470733965131343,-0.05691480778749498,0.014153206409339411,-0.03164235488577886,-0.08208774968640485,0.07559211871907953,-0.018419566400037824,0.03875615406037167,-0.00915406454554324,-0.0865920136632826,-0.08769668661986532,-0.05331319246670963,0.02575448372034039,-0.004252947919039704,-0.06981193476992506,-0.06232639347809784,-0.037673774942282585,-0.03942209472006222,0.002151593150399525,0.037326248166121276,0.032361699196152165,0.029659096925775143,-0.046387398654283055,0.04382927386312525,-0.06422376489820925,-0.046672290145260004,-0.025235020072911223,0.0318274517514926,-0.009221445411566755,0.08591345261200682,-0.0376897829638957,-0.07641919968287747,0.07799872110898738,0.08896496296298197,0.03929734309328719,-0.08662445092664636,0.0029720394026974636,0.06414789945425,0.07191737481909512,-0.0013447781957048443,-0.07817290255074309,-0.0791622707151206,0.06848849367047918,-0.018010219736526993,0.022703959985575683,0.03535527455783637,0.044770462134546773,-0.016239884415490183,0.04947129853292328,-0.08780384830147192,-0.005012185003165059,0.06837879663563046,0.0522007793602467,-0.0744704709146122,0.0004843140431737267,0.06850951711828797,0.021005645141234326,-0.060716274067678204,0.07130163137364162,-0.000269174107366955,-0.05715200947797777,0.014817501287755953,0.07569106255989794,0.07801481015184147,0.05782040961371366,-0.08084096878789815,0.04069089176316331,0.0010215921366149385,0.045294393329329455,0.03989381335079162,0.008362325873937825,-0.08937812301386415,0.06087886631667845,0.040922956451129096,-0.033161261277226024,-0.001979020149741927,0.03202658348259205,-0.05925514451736358,-0.026687831267903212,0.08579840470163642,0.028792423865784705,0.051967515152315666,-0.007087970925189704,-0.0022256911323668854,0.004430847322583996,-0.03358689758768424,-0.04900269458506048,0.08732605538999337,0.03663136381518214,0.026476333712430532,-0.026502096217382472,-0.024344226067525516,0.03330802973942715,-0.04077392353867827,0.022402973482873373,-0.05362788705276571,-0.02064380606195575,-0.0557361241265479,0.005800009072837208,0.06506832657854725,-0.021685403631112907,0.010743469591010546,0.0565964025425025,-0.03940943614996772,-0.059272378814753515,-0.035198993610542406,0.01921305413558166,-0.0544291906202229,0.08442168143658993,-0.0024205822884409097,-0.07398649332125529,0.06382147366091794,0.08048005326431008,-0.03036522219685742,0.0050391309560231445,-0.06454860079788677,-0.06450227549468401,-0.029345532545881292,-0.07012413085629894,0.06745659580270873,0.06579757963377104,-0.08719342563846705,-0.05699227546689016,-0.04771436596922246,0.03488512617451663,-0.03669679617824428,0.07519604271708198,-0.0843279158120154,0.033081210608155005,0.005801044252365003,0.01766450447371631,0.007643970747691785,0.07123011351861464,0.0880621368077257,-0.02774824084429352,-0.05634891070955046,0.05818269387342937,0.045395659127333454,0.06562792620561624,0.02652046942144017,-0.056846149209440276,-0.03356340934075593,-0.06547071885325889,-0.05367733846604855,0.08271552048747269,0.02446068766110709,0.0566129228792165,-0.004898782560140107,-0.040186675225065395,0.000940143570009505,0.020075913804013395,-0.0014086877977954131,-0.0778993812848179,0.07659314832600919,-0.02820683813915441,0.06065483493254035,0.04992257910165832,-0.07659360672313889,-0.043464465057898465,-0.08346541472312743,-0.025977876616375524,0.06303646842794106,0.0416594959485731,-0.045572992750307,-0.007586868233424539,-0.004799472236471149,-0.05601985103784662,0.05968058933385601,0.031263165709874974,-0.015664813864192793,-0.04626222441347344,-0.07697662400284914,0.0010360081064428703,0.04159196114424436,-0.08307025393109069,-0.06878555168860179,-0.05524970994334728,0.03054605801133192,0.03248860952067012,0.06808062980660207,-0.0481458856797886,-0.0006501813938955981,-0.05426087326550218,-0.05971515895312467,-0.06607034451312559,-0.01095809556872299,-0.026360958653921882,0.08331322952756644,-0.022569252055475178,-0.0248309997929103,0.06133625847809186,-0.0828438816740003,0.004116407956803293,-0.04742551136578842,0.08495599031231305,0.05384950704624247,-0.07760903902449882,-0.03201390795033784,-0.0012339788294327715,0.0005757112398150907,-0.037881225238647225,0.08188717449112293,0.035043537827147864,0.025262021964417063,-0.00563857542823973,-0.03553637863620142,-0.049271701312051344,0.02295502215299348,-0.014059772793233396,-0.002551735350055969,-0.028014476589257976,0.0522231301091832,0.02794260626012995,-0.060005586202163834,-0.014453431214178955,0.009924114835536017,0.08223610910231853,0.07654713122759067,0.019488604327327765,0.0461942277218945,0.016918721075115405,0.025387361937508554,-0.03479193303466544,-0.01219632759785545,0.08383140633025801,0.010763473810779406,0.025290413115515806,0.04121205814717975,-0.057932359370519465,0.009243657163096164]},{"id":"chunk-7db5cddc-115","content":"Anthropic Install To use AnthropicModel models, you need to either install pydantic-ai, or install pydantic-ai-slim with the anthropic optional group: pipuv pip install 'pydantic-ai-slim[anthropic]' uv add 'pydantic-ai-slim[anthropic]' Configuration To use Anthropic through their API, go to console.anthropic.com/settings/keys to generate an API key. AnthropicModelName contains a list of available Anthropic models. Environment variable Once you have the API key, you can set it as an environment variable: export ANTHROPIC_API_KEY='your-api-key' You can then use AnthropicModel by name: anthropic_model_by_name.pyfrom pydantic_ai import Agent agent = Agent('anthropic:claude-3-5-sonnet-latest') ... Or initialise the model directly with just the model name: anthropic_model_init.pyfrom pydantic_ai import Agent from pydantic_ai.models.anthropic import AnthropicModel model = AnthropicModel('claude-3-5-sonnet-latest') agent = Agent(model) ...","metadata":{"url":"https://ai.pydantic.dev","title":"PydanticAI","chunkIndex":115,"totalChunks":208},"embedding":[-0.07988557955609883,0.020760822616218845,0.08858755448024304,-0.016990662513146505,-0.029638367238455924,-0.03128555458149046,-0.04437875182428115,-0.035410576360099984,-0.06845371426715577,0.07296468726128995,-0.041931503128317754,-0.032813787647048356,-0.05466432591961913,0.08984576235253465,0.06265824869084444,0.044466921659222954,0.06957333162774612,-0.04957600404864585,-0.06806185492906164,-0.07229571038354493,0.05206025988125981,0.031249910665340223,-0.07893636898128417,-0.06013901654674393,0.004068734770428186,-0.0069871475269055626,0.06774251707675226,-0.08066718871468749,0.0633105205738155,0.04611695910690479,0.06381636327611985,0.0648104591789388,0.07283869966463351,-0.08019130119869813,0.0010937689403930193,-0.028372666144556438,0.057340419548183065,0.017374498147013816,-0.04191196361980448,0.011722235747819372,-0.072709980966359,-0.000645764070126831,0.021697382994378206,0.06281415747761761,-0.07118777735060071,-0.019043823077667693,0.0841034712168969,-0.030170399882928908,0.022362185538449285,0.03172962164457883,-0.009209456250456459,-0.011829539631335461,0.08216128549523684,0.0709061904361251,0.03591855025948285,0.0706266389293823,-0.024820972364866602,0.0059410046824396314,-0.07238472479765039,-0.019374935880101335,-0.026039326178895764,-0.06271517296456489,-0.00798904173979499,-0.062356735279203844,-0.020885852298102334,0.045113789188723594,-0.0100842440443637,0.03581913064994757,0.006214375429867883,-0.052487843522053816,-0.05986169185803055,-0.0009469704120295199,0.06316928237293361,-0.0678162399640702,-0.010113780946417416,0.05980275437124269,0.0764206413374632,0.06265113208616638,-0.05339506173716398,-0.02256666020244965,-0.018585869951695887,-0.03959574740696367,-0.046164531102515165,0.023226932907957555,-0.04921553843231432,0.08135289450591005,-0.055328150274805324,0.004300469792568417,-0.03831704653239263,0.010506522236992827,0.08679652692356156,0.07533489373065225,0.04421632234660104,-0.012921333687951278,-0.045706511148399326,0.012911136131314404,0.08181611894820619,0.08484417519658435,-0.04949059961539348,0.039778943363318615,0.05223272406217855,0.07827657968627902,0.03635334799259589,-0.019621458778253217,0.07838887852662649,-0.07450546677865048,0.0628483858131808,-0.05666609520112762,0.0275017677114439,-0.029539834768601527,0.03659785167416766,0.05964862753813366,-0.003817251306743831,-0.039018700514978716,0.025123563556082543,0.011117184552117307,-0.042386501711124305,-0.004125192052447192,0.06209133233637097,0.035085235778369354,0.06378967865558936,-0.016195988128399744,0.029339003097805447,0.007175599771454913,0.018010199600207867,0.015621684970758908,-0.07077243918257396,0.037236994187397454,-0.03172195097814251,-0.01139098338347368,-0.07676903931643973,0.02937347264339662,0.01476145148231507,-0.0652884721069809,-0.07361834812420712,-0.055822275854205544,0.03156684814929832,0.005116296029683042,0.020041619067237663,0.04185458985787112,-0.0598279470102399,-0.058108860344449974,0.060741617912915616,0.04572799061610651,-0.012060465077702302,-0.05345643637611597,0.03685734203430518,0.052710612898331434,0.023442932797007522,0.08760095532119612,-0.04534780873229728,-0.05776798368879259,0.023703344056213868,-0.0025725407889780937,0.0649936511075916,0.005692205939429615,-0.03602314845528525,0.02827474210982418,-0.03343375229658792,-0.0345348557698134,-0.0667681013261354,0.05377838041306881,-0.08982082848101981,-0.016679091110265405,0.03670120807624875,0.053069967218781745,0.07723437212077323,0.06050580504251046,-0.021754909540577464,-0.006201566102920873,0.06348293427351219,0.06154475366344117,-0.0107430360753857,0.08414982581598567,-0.04945482344282927,-0.05208971667837838,0.08424571652455484,-0.06041438231668038,-0.02657848888589924,-0.05800373882617704,-0.02010211326778593,0.0758932093663707,0.0015151770795115457,0.07821213741335623,0.027503380192088533,0.009892372410895186,0.004203976794262833,0.07920624366024033,-0.04558822950742661,-0.028252529583112487,-0.06222870596320663,0.02624092368116283,-0.009615105664425265,0.05518782235460918,0.01853336176723884,-0.0680349716088053,-0.025387176383309017,-0.04444649973616747,0.07882312378408166,0.04843185294580832,0.07989100252275005,-0.03588480114476122,-0.05065457769914686,0.05233923645360942,-0.0038095932365097796,-0.07768492531443945,0.06527630607286612,0.07757862372568093,-0.0029153491973698993,-0.080819282964571,-0.0818726241566053,-0.043385611713755504,0.03371494418848731,0.06635552425384281,-0.004856699153024159,-0.07623205822014115,0.023149798558164132,0.009693054397995912,0.019656683019532262,-0.0696098492379814,-0.013786271366672195,0.03100305659506207,0.057617137392814204,0.07370651481830698,0.06482066842183928,0.009159204790032802,0.07290255681642492,-0.05492210729445729,-0.007011857878332683,-0.06456693545005227,-0.04083536068407939,-0.04940333223414014,-0.05641927681484908,-0.02578249287798222,-0.07188867896829952,0.09007582989933131,-0.019983904980379066,0.0005834459576914783,0.06480883682891543,-0.08966726363066078,0.06753571556263101,0.03490993822304075,0.08164131005452732,0.001637511722009037,-0.026623517655885304,-0.056051679633264254,-0.02178768358507951,-0.07885636190460157,-0.027769793615191597,-0.04140804213018703,-0.02323664305914208,-0.04980215402695961,-0.05295715186367644,-0.04793086435693388,-0.07939716070936545,0.055368178263807466,-0.004639185687159406,0.044228654721911606,0.0840643479842403,-0.007515300950017334,0.07932460020189597,-0.05236316549362268,-0.05680280133463364,-0.032955589266053326,0.07776207811674585,0.0346961099187688,0.008657919491472474,-0.01649920531707025,-0.07906249551759531,-0.024780578649106984,0.047964723738773626,0.006565199011304391,0.026695682515918237,0.08611104790384436,-0.07656570213887838,0.011073145281076396,-0.052516431337846455,-0.04525612826714417,0.01669413895189178,0.07266814493590168,-0.00703873770173226,-0.08427427641189623,0.08414194381590866,0.05559236379992897,-0.05095059903509926,0.06496168636927958,0.07683720700461126,0.03950643486665553,-0.004964730893834027,-0.03690890775761532,0.05807321003151056,-0.05756814261982928,0.04751897121482918,-0.021302583375355715,-0.004593845147978217,-0.045218512920909004,0.06913577500426425,-0.019124289429968327,-0.08771466523002698,-0.004679987861212025,0.034608906205838286,-0.0812759331766999,-0.030859017714352142,-0.08475954159852274,-0.013198437174137148,0.08020591815367119,0.0745276850722695,0.048143919693287456,-0.004983553984586762,-0.04317809722011204,0.016787221653737056,0.03655245306788162,0.08411828059382412,-0.03591565156413525,-0.07910980150679611,0.08609928303199364,-0.04183828176543986,-0.07202476044216327,0.07493560604350553,0.07089718469051073,-0.041734138752632426,-0.0857068669785293,0.03213429962615602,-0.017332481289225946,0.029668323413741995,-0.02726658990787372,0.06726095136831073,0.0053217076487955565,-0.013008499026172524,0.05541698373712876,0.0676327063987507,-0.024472398075705174,-0.04536744595177551,0.017017675127494702,0.013703523989036511,-0.05408700281920158,0.047511530969757326,-0.02116021603923679,-0.06891616778707134,0.08449185209447795,0.0052423367398986955,0.015083079049918693,0.08125856595302466,-0.044300381591944805,-0.03776413700029465,0.041805641916638554,0.010582477760077504,0.060820382504414926,-0.06489677123405896,0.04859795157503084,0.0457499979446432,-0.016282268793546936,-0.08487675233770847,-0.016039509397958684,-0.08833822747471087,0.057023834316610275,0.00837392077528162,-0.03424267117000329,0.04658125065070895,0.00726920993355665,-0.022477248100309356,0.008651576611321158,0.05056642874237392,-0.059725999062341495,-0.031816004627649934,0.034292300157256574,-0.016589852947337322,0.008917727027967354,-0.08987610749162712,-0.016944440896497562,0.00496197500243409,-0.061874045736436456,0.008466991228249177,0.015939980200049508,0.057081584999579695,-0.016378839205791067,0.022521722454018546,-0.07892354948619394,0.030599351893710266,-0.058413886677511954,-0.022198809596187363,-0.04493584503522712,-0.04578623169702046,-0.027947217511531862]},{"id":"chunk-7db5cddc-116","content":"api_key argument If you don't want to or can't set the environment variable, you can pass it at runtime via the api_key argument: anthropic_model_api_key.pyfrom pydantic_ai import Agent from pydantic_ai.models.anthropic import AnthropicModel model = AnthropicModel('claude-3-5-sonnet-latest', api_key='your-api-key') agent = Agent(model) ... Gemini For prototyping only Google themselves refer to this API as the \"hobby\" API, I've received 503 responses from it a number of times. The API is easy to use and useful for prototyping and simple demos, but I would not rely on it in production. If you want to run Gemini models in production, you should use the VertexAI API described below. Install To use GeminiModel models, you just need to install pydantic-ai or pydantic-ai-slim, no extra dependencies are required. Configuration GeminiModel let's you use the Google's Gemini models through their Generative Language API, generativelanguage.googleapis.com.","metadata":{"url":"https://ai.pydantic.dev","title":"PydanticAI","chunkIndex":116,"totalChunks":208},"embedding":[0.05923479900400282,0.008841408430674751,-0.02411727829800646,0.0377429156212605,0.0016632202929562573,-0.05763074387642799,0.021015567341458586,-0.03212513166785657,0.02166091892755765,-0.01129743704971289,0.03583414886070935,0.06458033760424017,0.0839485224832279,-0.011600373927852023,-0.08512520575747147,-0.0043144923602729795,-0.05797443211963742,0.07665701588854906,-0.0682408499416305,-0.06461873024816389,-0.07352355490744328,0.005114373467934439,-0.0654624995802606,-0.060925645070683696,0.03191779758219996,-0.05149164634824648,-0.04029671395369364,-0.008794604523428333,0.05334547881296017,0.023475470989975777,0.08503491313153129,0.008307278282481186,0.023484846732424566,0.016757236796668136,0.0633585878204924,0.03633903220886767,0.06083263641016006,0.00038612596282642706,0.01498500372233556,0.030634045622099735,0.0004991290910053369,0.035671919590142626,0.043064600091611845,0.04057015543849636,-0.06713496266538702,0.06883391100404064,0.06518619680169115,0.05137071801057568,-0.040961923602117534,-0.04046637791538588,0.03858035466325925,-0.07607708106046437,-0.06757805987957367,0.01868818450635644,-0.009610354371529151,-0.056823003107358536,-0.08167085740784613,0.023226812667790107,-0.07443507287723693,0.06351025878615511,-0.04070478335703465,0.07067124951405077,-0.009082094331861825,0.045013588708405265,-0.05177781494286898,0.004899030374801258,-0.00540614298621567,-0.032941603584685064,0.07636336975301859,-0.03619837254202945,0.07123756201736775,0.033399587752656085,0.044830799712128694,0.01784845082553257,-0.0735735189837676,-0.0685184979335105,-0.07665078831954007,0.0553183804017907,-0.030141199270482442,0.003386823963779181,-0.045340189822687144,-0.014902819798711714,-0.03525355766101439,-0.03772624388982404,-0.07839718771295219,-0.007126734610426774,-0.07194485187757346,0.030760458988367056,-0.058576819737672155,-0.046385877357543605,0.056896922801292604,0.004794031112910726,-0.05105156716734437,0.030612163472704727,0.040421222699661336,-0.01952861454076934,-0.004859689445114615,-0.03139451146458712,0.0630935705679671,-0.011934615500824614,-0.06960156000413648,0.05614125804268363,-0.04446238620146309,0.024126962237531458,0.04047094892945574,0.04191259133479509,-0.07988623971328561,0.023164180783261837,-0.014516717374292956,0.02297377567127464,-0.08487450412718071,-0.0026127728896146625,0.05001319309717383,0.044021613374907585,-0.01908417072009728,0.019210899115286274,0.04728692270912784,0.0804594109158414,-0.039456871565945996,-0.06058707874385098,0.051073266875255874,-0.07364719283633689,0.03695140776367402,-0.03131364780339956,0.001185053220677583,0.08129830174446735,0.026060206564343828,-0.08321653468379551,-0.03127814744636535,0.07719349699134957,-0.03183069268749406,0.006194732262281554,-0.07731400834294282,0.008876942976555892,-0.05505237151478517,0.05997942714095286,-0.032738653861730124,-0.010827769685126092,0.03604526535755001,-0.02858553468289153,0.034630348547101654,0.00047586162694613054,0.07617876129104507,0.030350137895969104,-0.042175353078968136,-0.07696795467550879,0.003601716954062581,0.04035938639045648,0.0060640464981617315,-0.009771093145555569,0.07007696595038894,0.049947760225535445,0.03975209913495569,0.05224247868287594,0.029783806196170323,0.027258128461236167,-0.041000890111160634,0.027191195961832403,0.035606929239508374,-0.056405495445287744,0.051205407294400936,0.0346723805721115,0.01983575989097536,0.04149928977635107,0.07014357094122481,-0.029919272329485883,0.08413150665780858,-0.07500312188962929,0.03027703000280629,-0.045204298907017854,0.03555849883002236,0.06563707579847225,-0.03751436426438186,-0.06285389250865378,-0.009408031466809567,-0.02597514424941192,0.057196935686521774,0.06593862092856369,0.06595424299937988,0.03610344141801993,0.009996118950402168,0.01173572735707482,0.03496152478935684,0.07331763063726265,0.046958435841587085,-0.06651685437068539,0.023410101231843644,0.0727037884856052,0.009730829691856586,-0.026103067279081706,0.06839928277466326,-0.06785170708447223,0.019487590426381953,-0.08436360715446702,-0.0653999181775579,-0.037401777173517,-0.05905141200144948,0.08549806943397298,-0.013356951583641011,0.05402967238646923,-0.019013410705270094,-0.07728411092487134,0.0678090343779154,-0.027230386488458408,0.047077354679562866,0.046804652537714125,-0.06309146286242279,0.07575663964029083,-0.01326855218493669,0.012343008948523011,-0.0691532802718504,0.03659384224808884,0.043376946266485104,-0.04291089562435771,0.0011882593651883037,0.06592236168885472,0.06624469905063034,0.07834455808433766,-0.005919355136570601,-0.05848747573975751,0.011233658103647954,-0.044046305273912366,0.07078225134910117,-0.07622668322943454,0.073325547478118,-0.06784621332736065,0.046678011423729515,-0.05161364383699417,0.028038319305904308,-0.07039968921438974,0.07008647362396728,-0.05344593799161469,-0.0761198323471964,0.044404515384109354,-0.022999964529277227,0.03358380372110152,0.07284117283241855,-0.010274496691730504,0.03600070525357632,-0.05891033751992535,0.033043603334835026,-0.05598113381407708,-0.051955272434768364,0.07522254905106095,-0.049045027357838215,0.08278681937613205,0.08127214891016978,-0.06999669779321381,0.025396387721810094,-0.059495346457408574,0.05873541557547584,0.05162819033580191,-0.02171487827705251,0.05022576139973246,0.08212378434438496,-0.04635262506817691,0.04209216635184745,-0.07447248651017671,-0.06919725527057542,-0.08262934468775586,-0.07095639965673649,-0.021960266854212145,-0.022440070073349416,-0.08397302877363134,-0.034759276046996,0.02413198259634448,-0.0470157379907413,0.05643587808908757,-0.017828810149072553,-0.07277115567508975,0.08069872431947941,-0.055693935854710996,-0.026367608508931353,-0.020625381239720467,0.038824882244034964,-0.002293285342596371,0.05229680386074959,-0.02989019852285697,0.07052557911739027,-0.006933383037559759,-0.013086627274322669,0.04144309854308136,0.03965369207623625,-0.006084107030373701,-0.025782980477699256,-0.036805407800855706,0.07638264080760476,-0.08288558719273947,0.046819196518561076,0.002536269798109216,0.07959100256435242,-0.018764092837808805,-0.023338369941900253,0.05378314935302978,0.046817322696157716,-0.021424541549550705,0.050715961565698325,0.08065532093182,0.014512122912856813,0.012066012817456544,0.028195709476850614,0.04033611762344537,0.0035649977717285898,-0.03764306861731554,0.056870918410132594,-0.029412144832648788,-0.05987816509273198,0.0764485903555616,-0.07179693911479026,-0.07010368594431154,0.04880202742622492,0.08194488096840745,0.07582824115436143,0.0024951560932288943,-0.024885258256752932,0.06580501085117423,0.050758949657937466,0.07333651599721436,-0.07621988237963132,0.05790900864412493,0.06142144088216828,-0.0707361071983651,0.0043084101143633325,-0.026847721893992777,-0.07459800478667804,0.07131012769234828,-0.046169891737014905,-0.041912213847584555,-0.06330106235772813,-0.03590688449639692,0.019887908587928348,-0.07963566774666384,-0.06760190220521894,0.03409405972823158,0.06620392405540947,-0.050540986110738186,0.06278661454900421,0.03917323211415208,0.07702232375972826,0.0374812236291895,0.03839662839663325,-0.07100671884092656,0.061551977639870935,0.03365734504461448,0.0036256941042075146,-0.03241612571508909,0.0557276235859904,0.02887028874939912,-0.07280340947474682,0.0476116173750717,0.05243200413053243,-0.08386306190907322,0.08045500550285888,0.01812927786046908,0.008732916774719076,-0.009000476857927259,0.00812511825697833,-0.007782936864553722,0.08222496910476236,-0.0253471951889911,0.08347577768716515,0.030596670280715277,0.06205251985389053,-0.04093348285894488,-0.03945597260025662,-0.07140595345867254,-0.052265984050473106,-0.03506977064458702,0.052104625026753885,0.08001553445137517,-0.04171129311663247,0.013348427380671542,-0.07885429693609071,-0.06091346838602192,-0.058932632194603776,0.08298380971337334,-0.04274614708700424,0.015337176653668436,0.044391763570739214,0.0003409367455114169,-0.06852146610183722,0.06357329639740446,-0.01744543172613808,0.06642876559367726]},{"id":"chunk-7db5cddc-117","content":"GeminiModelName contains a list of available Gemini models that can be used through this interface. To use GeminiModel, go to aistudio.google.com and follow your nose until you find the place to generate an API key. Environment variable Once you have the API key, you can set it as an environment variable: export GEMINI_API_KEY=your-api-key You can then use GeminiModel by name: gemini_model_by_name.pyfrom pydantic_ai import Agent agent = Agent('google-gla:gemini-1.5-flash') ... Note The google-gla provider prefix represents the Google Generative Language API for GeminiModels. google-vertex is used with Vertex AI for VertexAIModels. Or initialise the model directly with just the model name: gemini_model_init.pyfrom pydantic_ai import Agent from pydantic_ai.models.gemini import GeminiModel model = GeminiModel('gemini-1.5-flash') agent = Agent(model) ...","metadata":{"url":"https://ai.pydantic.dev","title":"PydanticAI","chunkIndex":117,"totalChunks":208},"embedding":[0.06582761999495472,-0.08832377576604905,-0.01283831692091535,0.026604808260050555,0.0641204359723697,0.03966485640707352,-0.07846256427335993,-0.0172731971201885,-0.05566798347705328,0.08750436286800133,0.07582180212615827,-0.0889565997989165,0.07288433392940737,0.04102341267687231,-0.015181775010168326,-0.0737778505984528,-0.005164784974999542,-0.011610432433190009,-0.035936193922353345,-0.012555430194871818,0.011959163891271751,0.07649331525678008,0.030016408055561453,0.07811648027487526,0.006058814768777965,-0.06456768942745779,0.039433553836531805,-0.05318341668980322,-0.04194510076258714,-0.038726984984594925,-0.0428818621043299,0.07116788221026829,-0.06479602035706997,0.08044420901214691,0.06847625086295256,0.028677637568121275,-0.005076413251431464,-0.02993205866925173,-0.044004752533984504,0.010569504609195108,-0.024642012548522513,-0.0168554038060577,0.07429045573581348,0.06856282402792806,-0.08654125399767693,0.02320896321268608,0.04550097220987228,0.059802204897035985,-0.041383497547105456,0.04103056750839218,0.033008076243126454,-0.01937189148320593,-0.030713147594693173,0.06898878267836231,-0.0001129597454331999,-0.05823678490932428,0.03703885478435592,-0.05221873546806713,-0.00783007960068696,0.051644108233686106,0.05209492981168345,0.04244196080842973,0.004265605901848248,0.08500934788397271,-0.05208270282582558,0.028667815494768874,-0.07432543795252912,-0.03842830805909097,0.03518385004719676,-0.012601908393541751,-0.05741913846491651,-0.0019926566455892797,-0.07245992630872383,0.01265968923966515,-0.08116847061254713,0.025989107556195608,-0.05872112344804031,0.023564632708960063,-0.03228033980195197,0.029193168523595547,0.05269959898962019,0.007749900926808733,-0.01886777653135561,0.03191856493870345,-0.08012456870467863,-0.013777291269012174,-0.07965567736815404,-0.012893380782780801,-0.08210739029003114,-0.03148237025365753,-0.06875462368171677,-0.07675028267851441,0.07792141819303337,-0.06514186174622964,-0.01834276695903251,0.05958903625436974,0.023373325517508068,0.0008933619266998762,0.06252768474847889,0.02234096579382684,-0.08350531535463826,0.040816088365303184,0.04986558982317188,0.0308278015772886,-0.055925401505666605,-0.05661044044420644,0.07302815282688613,-0.01857180441100326,-0.03438383275020918,0.06339763929838473,0.02135844256523448,0.0073467505968496105,0.05404995803676982,0.02978853345420772,-0.01925615522306594,-0.016611243723098256,0.061646064503902184,-0.019914979957016046,0.02467191351556755,0.027959169291709843,-0.010720065197434684,-0.07824784869469245,-0.04532422033116555,0.019957235719044123,0.05531509639412537,0.009939841568618654,-0.005649573060702421,0.032790491649262066,0.01801431459148941,0.01195163887688507,0.03673015194652153,-0.003072013859552398,0.07829017985088932,-0.06636907103135899,0.010087755298769534,-0.024444840779317235,0.0587419806740264,0.06785134858940735,-0.0578793636923545,0.04725475755785853,-0.06173491694748908,0.06623549597667516,0.0808955780296216,-0.035270505430539896,0.06164573110911119,-0.03288201335033826,-0.010645621744291116,0.04900951973187197,0.025129041633388086,0.03838065473937342,-0.015793353524996404,0.03373499598826414,0.07370585923882571,0.011189801419937867,-0.03856728897159922,0.029359902531125158,0.05338132415278125,0.060468325862961324,-0.017302683907245795,-0.08737379494380863,0.007461788724469573,0.035833456524238215,0.08658421566655673,0.07233081332649885,0.08393874839891906,-0.03693942286036028,0.03526803218767926,-0.0024895191205192894,-0.006891542455791212,-0.03034327113100309,-0.0022322586571596045,0.02245491376688139,-0.07871359414486537,0.05959736742709247,0.05836868683974543,-0.08882536063638649,0.037599768073373147,-0.07351053079387171,-0.06511384830804196,0.04057474606443113,0.07224158546543123,0.07397640986767652,-0.0889957337428693,-0.05039568425212926,0.08020427847627747,-0.08670165023838336,0.050182484427942826,-0.062743741101985,-0.06794187110994805,0.08661530243071408,-0.0014903734226460422,-0.06508550577378588,-0.06333216233155158,-0.038271576373872476,0.08634224121025909,0.06455742285942832,-0.07546733498342763,0.05885402769503701,-0.07533184908029471,0.01961873097928456,0.02396409844553649,0.07747335684955348,-0.044467303034801994,-0.02645959961947731,-0.05350747298380006,-0.0043370686151034555,-0.08347287247191146,-0.023682549942904516,0.05194624201982301,-0.020832438176056636,0.03708523520594669,-0.041769842580555695,0.03457610832082281,0.05823810027851695,-0.006327350071720178,0.010240815340538622,-0.006128683082012985,-0.04994209746856057,-0.023514171041145122,0.07766081554086393,-0.02647488306696845,-0.04486315052308152,0.07120950097735379,-0.058006819426698164,-0.06692545037418923,-0.05637355638098486,0.06327256865229544,-0.049051247728519556,-0.07555012443615539,0.08117800176130333,-0.034571978950281815,-0.06995430448894464,0.05660140951092855,0.04662490200178235,0.0870451102426209,0.05172260932038579,0.03270462095920604,0.06046245175124351,0.015309473310646363,0.07489098711354293,0.06149137793339733,0.03672575110312647,-0.0885328168901443,-0.029970915135882008,-0.04335071693852148,0.07901132821818041,0.08465579549927024,-0.002476364170919102,0.06007815798615723,0.031581060209744063,0.03925049698633592,-0.08632467842467828,0.07653186813938435,-0.02004776938687701,-0.03423305949371077,0.07652484169530233,-0.008205167018819631,-0.08743209013939865,-0.01547648144360664,0.005533611899715433,0.06525902927631257,0.038637868162638575,-0.0395781878568716,-0.046678647557756386,0.0639448255553616,0.02771713876412274,0.07178614658416221,0.03790379194259012,-0.009643767213720766,0.023624492181058176,0.03947516296805758,0.05754203770060114,0.015403900228356481,0.03965269355166801,-0.00028521177382700346,-0.06678410883085098,0.07332095567438202,0.029206045759540288,0.086511995150814,0.0497112416498717,-0.045690781970058256,-0.031216942158489958,-0.05832628234980732,0.06590514887005462,-0.041106804779654005,-0.04675583323517231,-0.07794268430679904,0.05059119130755357,0.02054917532822344,0.06346231723714256,0.021010242444875527,-0.005882488332823256,-0.0051885556542651074,-0.04092722374854448,0.08855622542996529,0.05831774036067419,-0.015312274914159872,-0.024701489489138976,0.005001666864065978,-0.007938684629333972,0.033199127048438595,0.06062724458580946,-0.027052174708767238,0.017772209227686638,-0.035171785962011565,-0.032306188268783724,0.0012468250134601597,0.06434368324439374,-0.047668279495595,-0.025721252139316964,-0.05433756106506163,-0.026547030475193967,0.05850386032009066,-0.05193493975703346,0.014909258038838203,-0.08061446410200507,0.006479027277895624,-0.02888277674812032,-0.030410756638117716,-0.06311832051751458,-0.02320522235906509,0.03838487297631505,0.006682935706843365,-0.06458537263820881,0.05515705208399997,0.033612851115720245,0.03611285040303042,0.03894295097021863,-0.017907733168546654,-0.005050412756942578,-0.043508927310662186,0.07482149544495326,0.02845948582875568,0.02937928429279266,-0.04976335045965187,-0.02718363127289951,-0.06830144526026624,-0.050123384734465135,0.05465637396056017,0.04973570279738873,-0.04005876427506378,-0.024907967182149066,-0.01805554981445101,0.05712083367400106,-0.029190048149853483,-0.03863294287070809,-0.03825866300626019,0.05644604537158141,0.056424586753012373,-0.08601037057828997,-0.0882361905789865,0.046041131428389656,-0.004892068709187274,-0.018647425687403785,0.058199900477036506,-0.07180528612473411,-0.0481804331673289,0.06386570530601583,-0.013153744059411436,0.07758103359705168,0.08564411689612907,0.05780732514426136,0.04783765310470309,-0.06884226124891177,-0.06005836356138003,0.07834671602423918,0.03554901223997523,0.07162181439643044,-0.02401861476306783,0.06724466567875294,-0.06516112350580051,-0.004479401910217919,-0.038065722234353,-0.008099901019381945,0.014645977585621209,0.034335986202063074,-0.028557109955590066,-0.02451147363132793,0.05808954789726988,-0.05693568695408869,0.051577454488112094,-0.0025939894342116103,-0.07221092113034576,0.06216063657609383]},{"id":"chunk-7db5cddc-118","content":"api_key argument If you don't want to or can't set the environment variable, you can pass it at runtime via the api_key argument: gemini_model_api_key.pyfrom pydantic_ai import Agent from pydantic_ai.models.gemini import GeminiModel model = GeminiModel('gemini-1.5-flash', api_key='your-api-key') agent = Agent(model) ... Gemini via VertexAI To run Google's Gemini models in production, you should use VertexAIModel which uses the *-aiplatform.googleapis.com API. GeminiModelName contains a list of available Gemini models that can be used through this interface. Install To use VertexAIModel, you need to either install pydantic-ai, or install pydantic-ai-slim with the vertexai optional group: pipuv pip install 'pydantic-ai-slim[vertexai]' uv add 'pydantic-ai-slim[vertexai]' Configuration This interface has a number of advantages over generativelanguage.googleapis.com documented above: The VertexAI API is more reliably and marginally lower latency in our experience.","metadata":{"url":"https://ai.pydantic.dev","title":"PydanticAI","chunkIndex":118,"totalChunks":208},"embedding":[-0.03368801488000977,-0.07214642366616324,0.035651662850056325,0.013834329696255941,-0.07454988668925461,-0.07053028082998933,-0.01960486081172608,0.034136093835575115,-0.08699132902741374,-0.06446366498564024,0.01189124775742338,-0.08568094476977522,-0.018206736805983486,0.05208192703500351,0.057613641704815526,-0.05850812692752419,-0.02202929473067269,0.0027838995116043776,0.06910035562324826,-0.01418361835020485,0.06708051759928924,-0.02995412125623936,-0.056021670033150665,-0.054109620124663534,-0.04543795302808806,-0.07580480426221531,0.03364189108679364,0.03157068758217991,0.015774206328171954,0.026627137675447183,0.08656464284177745,0.011594447388553121,0.02374963190905195,-0.0036651718300951385,0.06059181448796123,0.07514949812359198,-0.054856768437655766,-0.06002784924146199,-0.024828280180485805,0.039174503949940494,0.011664945523362447,-0.07241996409875368,-0.06905610917633223,-0.043001835581315186,-0.029633265897488385,0.06484920500192497,-0.06881253717041994,-0.05531676214484184,-0.06328181307576045,-0.0362557894486912,0.025513158925196316,-0.0032697796734141877,-0.046765022453235314,-0.014370697024437471,0.01567958869447736,0.05520406923107666,-0.030256412878820093,-0.08599161879423052,-0.08349499991781988,-0.08434994803763338,-0.06275363390010776,0.05057638623009349,0.009761129452172718,-0.03683105776300965,-0.054155829033081575,0.0019603917244136113,-0.057284168289391584,0.04057134679232382,-0.04256277208690345,0.029182599442511364,-0.011886062566662017,0.08494083095832833,0.07148235915006916,0.07127015148059034,-0.032595897114086204,0.07168432949550117,0.04338583728493513,-0.0689180321359526,-0.07177128865443844,-0.01846222495607365,0.008447386340127813,-0.033007525514036955,-0.06552828979256958,0.07678977079983541,0.04200384587944482,-0.006015833082279024,-0.04610953697465434,-0.022168736721320092,-0.03358401158717135,0.08636095378093003,0.030941006271132398,-0.019164929687683324,0.018061673691218805,-0.003417503748914951,0.041218151016957943,-0.05695184882244246,-0.02285672429809629,-0.00784920456604081,-0.0253690513147251,0.04477863135509141,0.06988371086692229,0.06254955432477503,-0.06929061026372921,0.0638872477502534,0.06167901111606892,-0.07181452816518347,0.006797324972885103,0.025193565613512662,0.020231755168254994,-0.07026462723408097,-0.04569959387724677,0.07870066863464766,-0.07143027629180124,0.024060929268011427,0.043989530881974714,-0.03336473310577973,-0.013295717320413004,-0.03879497751946184,0.0383395986113826,-0.0036774377283942165,-0.070726982974156,0.01725327396277957,0.03695847839527454,-0.04518640304465302,-0.08299088749214516,-0.009230537789840653,0.07315226935676686,-0.06580262645514676,0.01923360655162146,-0.01951070620921507,-0.04232160544253162,-0.07449897617625094,-0.05522240140909377,-0.012651091932091423,-0.009999278300925667,-0.04266660612692091,0.0010633486655894952,0.025020031488817256,0.01815005666101604,0.04051369144795068,-0.013632674881462524,-0.03598376143789759,0.07131940167332501,0.05734624971965523,-0.07522628276897309,-0.034706380677715476,-0.07544559181494176,0.04455919927853808,0.01132779962666101,-0.012795752716414881,0.053644862478286336,-0.012222230994324108,-0.06264777904297657,-0.06656192064676286,-0.011588189646606928,0.06524486112058324,0.038220399982843975,0.07377689409280835,0.02060474512782239,0.02884759851588121,-0.05460453498389183,0.052671193307151754,-0.05149462644492768,-0.048865632521612835,0.022607071066460625,0.08063091771165425,0.045969861487730204,0.003629266626881496,0.020989382489542373,0.0037459028453452753,0.03288606769242928,-0.041817605637746336,-0.05001891974410923,0.07119269090965874,-0.05402803856731064,-0.030982628802445858,0.07034874116535113,-0.0625058768718663,-0.012670105581215627,0.05838803569423509,0.06632024628416557,0.045929525388688906,-0.05309374053514246,-0.06705394459678182,-0.017290387519597213,0.08478041053046093,-0.03550020018482603,-0.08210846437067829,0.04975533587879942,-0.03722530737410999,0.07168572440736233,0.03985021480281408,-0.03008140267000442,0.055338187105361085,-0.030959147547214703,0.01598779852133058,0.04276835263714709,0.018702316761903866,0.05472274203378699,0.005022480643287837,-0.06722405260690109,-0.00588754834456897,0.08657747547941463,-0.07436144056751813,-0.043021302837239074,0.003495109816942371,0.04516235203345846,-0.0728929803898713,-0.03361211765530176,-0.052831661290431174,-0.03631486913160949,-0.038015077444524606,-0.027916620838696077,-0.001741446798034445,-0.020876796580237292,-0.028024802396634328,0.015570886247698545,-0.07356237023274143,-0.07772382988112786,-0.07189678890136467,-0.01568618081295217,-0.06794740858191646,0.027470158975441264,-0.055496851419447275,0.04514664083811234,0.056021921021520336,-0.007381684949016883,-0.03742144848789339,-0.031859213395256596,0.01433949507086615,0.011121777906062124,-0.025050743097841704,0.08721673950165952,0.04645905255787113,0.022198454764367475,0.05747565503935113,-0.05345402373756998,-0.03987421591961847,-0.07925295921655777,-0.07422352330007477,-0.01609237242134983,0.016726672519865617,-0.011677974966585807,0.07727639720483535,-0.043233237983015135,-0.05001703715423991,0.06151417338540699,0.009525272205979266,0.03091490307326323,-0.00489548353560078,-0.02289153350979385,-0.08483354668625251,-0.0725617414371952,-0.033288571355297475,-0.026816341202974988,0.012947201006412262,-0.05446328734243346,-0.0334594604853648,0.07737271276900887,-0.026452750115351382,0.04830194576752535,0.07940066859078335,0.06450944211391085,-0.0285086509528006,0.026163972930831905,-0.033569487739122175,-0.05945992411581383,-0.025509332789238143,-0.05670644978252254,0.05184742613559485,-0.028766438873336964,-0.05195573165373911,-0.0552009591241357,-0.06362905475685308,0.044310827439531235,0.05316183198892058,0.028611677277601503,0.033321596642967515,-0.049919901749433615,-0.06932048469655795,-0.04975585229672487,0.05265923625344167,0.07640437756020564,0.05685508624479489,-0.06792022955471665,-0.06657972657896652,-0.02656706967351423,-0.06262280074217175,-0.06914808861008942,-0.0682811304730061,-0.060266980792720894,-0.06511007150491774,0.0021263917751156505,0.03423117644134552,-0.08330421775301824,0.08075389003023403,0.07268501224838307,-0.03444438546752065,0.08305168806917473,-0.009648557446700746,-0.05814992211784517,0.0752975744322307,-0.030515938230407724,-0.03896202719310308,0.05516667721320512,0.01577707638718871,0.026707433848753404,-0.08136881110064129,0.011683625144367576,0.03618573146506726,0.08052879307972438,-0.016549201416253243,-0.05905306635852924,0.029796594264865327,0.047813219948148175,0.05724711836515632,-0.08501055682753537,0.03460928154204502,0.07166101573438254,-0.022999075438696056,0.039888370132390855,-0.08500394392015473,0.02948937126387704,0.016527107500726244,-0.010015868990483259,-0.014432643392823416,0.07981384074624862,0.050679846283356735,0.05875642713440201,-0.05059906629365258,0.01968880304885678,-0.061161741297670595,0.02468954338091733,-0.07035749220531787,0.06483948579071531,0.05456894678569151,0.054715230419358454,-0.04709123794132322,0.0361098447942305,0.06553356803461892,0.04544000822293326,-0.05525928173341772,-0.04719414174996702,0.07709418875211042,-0.03864711941161323,-0.03258470921099264,-0.0043335514674802495,-0.06724467397131556,0.0432750218516644,-0.08048428819338525,-0.01353526295987841,-0.06201426217594336,-0.06875136543285182,-0.037544649567952525,-0.07129573524942615,-0.01893587769532745,0.04357836692562074,-0.01389854413698424,0.03824024744537173,-0.06550498679727608,0.055756996486446095,-0.03087812788056163,-0.07391495988717092,-0.08008469137221402,-0.062229135120045964,0.03235140057138605,0.08560877170781284,-0.026113902066054667,0.07467094225321891,-0.06496850271269995,-0.07619243908478147,0.0724713378861429,0.01185078797333129,0.07084569499552731,-0.0378699564255425,0.08587166479585868,0.058643294719511616,-0.06592885921070658,0.08228537734080722,0.02326155247204089,0.02366512633344135,-0.06780786695475291,-0.016350920740804277,0.03483831977808551]},{"id":"chunk-7db5cddc-119","content":"You can purchase provisioned throughput with VertexAI to guarantee capacity. If you're running PydanticAI inside GCP, you don't need to set up authentication, it should \"just work\". You can decide which region to use, which might be important from a regulatory perspective, and might improve latency. The big disadvantage is that for local development you may need to create and configure a \"service account\", which I've found extremely painful to get right in the past. Whichever way you authenticate, you'll need to have VertexAI enabled in your GCP account. Application default credentials Luckily if you're running PydanticAI inside GCP, or you have the gcloud CLI installed and configured, you should be able to use VertexAIModel without any additional setup. To use VertexAIModel, with application default credentials configured (e.g.","metadata":{"url":"https://ai.pydantic.dev","title":"PydanticAI","chunkIndex":119,"totalChunks":208},"embedding":[0.07647369265125531,-0.03536803920688852,-0.059031237322242684,-0.007397823547809837,0.014893649520022563,0.08147405680299347,-0.06751080691176574,-0.023409294924032802,-0.04822580015530677,0.05512511551138379,0.026325273960066686,-0.009746227803402788,-0.084368498161501,-0.013184613937147684,0.06047075361497976,0.08288967425501195,0.0826239807329642,-0.07840275195452127,-0.03968323037427474,-0.012864400740618894,0.06530566403882697,-0.06259322146012429,0.015843188494561396,-0.08416765992617253,-0.03427143110988241,0.037219215182800164,-0.0337879042999528,-0.030020702461566157,-0.03317920686001226,-0.04712010086240165,0.0803934682476069,0.050164810764230225,0.04759179318024654,0.06423188076649919,0.061210370848203285,0.0016127243667734903,-0.07502571439049667,-0.08448192753242846,-0.014671148075208675,-0.03201591051989926,0.03870546866440784,-0.06962199058592991,0.04565098408763243,0.05945839728037507,0.042433643565166275,-0.03516436251528599,-0.08416466542382431,-0.029632768774702195,-0.034417008437604424,0.016670255373350807,0.07883905686666125,0.02008074064630127,0.020339288308515977,-0.08390367665431005,-0.007460371748299638,-0.08070027258958688,0.0449384018129984,0.04794897697003918,0.04764199561181854,0.01643823969397716,-0.0729189229536559,0.02121991637069351,0.020554921853362718,-0.01663049996509202,-0.044296258983393885,0.06414898924710881,-0.0828386423952268,0.053336208017133464,0.07541477500305736,-0.014231264745154189,0.020975672800087216,-0.04159653251142862,-0.07054166203196115,-0.06608871598572558,-0.08433406998858313,0.04708559459609591,0.023977319490859603,0.05930959394498617,-0.0653427212118103,0.03300424378717286,0.021359295432517914,-0.04761033461732818,0.01167838930762939,-0.05836217605223567,0.030885995323442817,-0.06881542682112725,-0.0699943668366165,0.03153349381195383,-0.06309233823143062,0.0304110815292316,0.06017487483797189,-0.07639071519559822,0.07323371303204715,-0.06464686534362953,0.009364168679553668,0.016493380596712723,-0.05805793449048038,0.05928979503335803,0.07142595887347715,-0.0002077115806164411,0.000904713969965892,-0.07371917030860876,0.03796342648358459,0.007581148112315205,0.02760120688609022,-0.02665588052104668,-0.022742468769738844,-0.012125121430044825,-0.0414244421420443,-0.007755648221957817,0.05493061353390856,-0.04719797175833944,0.017012895763681268,-0.036626459538294055,-0.07770940561024595,-0.03739546155000585,-0.0660183735347647,-0.041899303157889665,0.06760442455626758,-0.06458689484220591,0.06156894211470793,0.07316266412917777,-0.022163661262286773,0.07307624621628189,-0.05628067796979437,-0.06518691912190254,-0.043760551472477156,0.06466223772617412,-0.04564936734641328,-0.08098473832034637,0.03868488830978344,0.0346681573114249,-0.06113780356867386,-0.0022326082172953476,0.03191685326655407,0.012883263024855672,-0.008412800735364835,0.008667144906109715,0.07195911682791921,-0.026355838578382217,0.055655477500425994,-0.03220475604282831,-0.08475379405753634,0.060959378242617365,-0.0395955945628543,-0.0299591554043436,0.03388340561755197,0.04999522237378341,0.03564214170337409,-0.05610578049312673,0.005331441254824041,0.010059513249909901,0.07881086716735437,0.056829991748526536,0.08054389523411656,-0.05248467598464445,-0.036957658866697614,-0.02086911623972002,0.01635950618828225,-0.019013584136194937,-0.028275719441127497,0.017679304066990958,0.0275887704085843,0.06247040280959624,-0.0008233034223300292,-0.06278057204296439,0.01382069212678001,-0.0567450905005372,0.028947544190900107,0.038803446608124396,-0.0020903769252142066,0.0014257517407744104,-0.026615213078520227,0.054095205668664215,0.027609342493288228,0.07306098753820126,0.05765266606204321,0.04244598426489312,-0.0022762861322621407,0.05944044688234001,0.05301934691836761,0.06865989993623388,-0.06393860983032253,0.06888511246158581,0.021863918073507734,-0.02723101016619451,0.024488512189791548,-0.06780554603097243,-0.06921385281682904,0.018515557545758444,0.03768906011073613,-0.03239560808305876,-0.05804835088325367,-0.0706822253578444,-0.05944040809035913,0.059325642087036626,-0.01810469146184176,0.08400242036668176,-0.01536285508011783,0.0316302327088653,-0.08344989722009584,0.04217922102850136,-0.029250540693789073,0.01178908334979092,0.03395635253435748,-0.0646570070850951,-0.034312710686972864,-0.07248732504149487,0.01479664787293939,-0.008365949249679705,0.03520992394197528,-0.026088824702491218,-0.0644232918781305,-0.06839425113194826,-0.02370494066474382,-0.07496595702635589,0.08250708863086625,-0.012234972385410511,0.061734958479288296,-0.018571494641088742,-0.03660998071208348,0.0005967102084230571,-0.04553022458420186,0.054122852203562596,0.08112916989302521,-0.05245733398682125,-0.05030728869102247,-0.02941969346180902,0.009676891641113464,0.06602294682955785,0.051564782496355654,-0.04805166518925047,-0.0804984815345784,0.08056737502632538,0.05150556802463116,-0.0765267651353227,0.07657039240180921,-0.07378284021055491,-0.041878647246054224,-0.024563491171822462,0.011691965396190235,0.06934090308680058,-0.0725382647913844,0.029801845181259633,0.05037081399224283,-0.007935160161204297,-0.03819667779651579,0.05308915426587086,-0.05774344654377671,0.042776805740439065,0.05213463945610806,0.047660264350725685,-0.052913760733596604,0.06750320225397322,0.034501874493845404,-0.013419509281079057,0.0008238779949720277,-0.04089365451853604,0.07022959155746869,0.008437433224666158,-0.06315939710266985,0.049897338742146635,-0.03309800321497477,-0.0661046873534076,0.004720842205285349,0.04749807416750771,0.06850322577454206,-0.012264407793557124,0.06926295065753729,-0.013418693143418313,-0.04795726061408221,0.025517022139039006,0.018407146933370526,0.06965769695875285,-0.01177315478717034,-0.05005358835635767,-0.06589732836770965,-0.004629217968751342,0.07729549239063654,0.08054802088588948,-0.07857873176513012,-0.06864936867015926,0.0636992618247662,-0.06259505870374456,0.003026371035063442,0.008278337596195923,0.06925690098531273,-0.06355098863780975,0.028603715987035767,0.0076305057894228085,-0.0038843524234412068,-0.06683003292982237,0.027037037621571555,-0.006756237549797502,-0.05155989604620701,-0.07766999842158502,-0.026116275429465617,-0.004242649066227038,0.004094990464078535,-0.02751239366715165,0.053177524730069856,-0.04158266222300033,-0.05038067927932628,-0.08446167344177957,0.039528141135343225,0.06148612944011665,0.07798897203037372,-0.0648988382723516,0.021410865348555755,0.019033434460673928,-0.0028748790541730704,0.0206802664119706,0.01088581801490074,0.01831261099291307,-0.048011664436551284,0.07148983306092599,0.04720139976364271,-0.024673903795647826,-0.004061470401216732,-0.07428912156950648,-0.017760034589082246,-0.058698895087482245,-0.05277234121607731,-0.07686322365488367,-0.023752133375595275,-0.05836665697543906,-0.07615326256443491,-0.04540111104729185,-0.039792858254961413,0.06573319246014642,0.06136116028428635,-0.08424391071176718,0.02439464922483472,-0.07150945403218797,0.08016111313354081,-0.010955731340160483,-0.05986737611541497,-0.05099924490261206,-0.0051990987902265536,0.06879869010825918,-0.06631643359640352,-0.05357839703720243,-0.06370929289826836,-0.07708118121415725,-0.07871036234376057,-0.06360351285464509,-0.0371467065251105,-0.011396230302030895,0.045428988668104006,0.013171736956011747,0.0515004745836371,-0.010169991242992935,0.02286404864623504,-0.07941920259987274,0.07600401421016038,-0.025933669355879076,0.06921430241221868,0.04506564213655416,-0.041539726220751326,-0.053810196301347556,-0.0745899069589525,-0.05576410963125169,0.06661721033285667,0.04856088195928099,0.07165956741599365,-0.07295975127590347,0.0021986210162413685,-0.04678351061777507,0.062312263779306834,-0.04586168724579386,0.05339980778790464,0.03636899453766856,0.05702462656630481,0.06721946161246965,0.06399830459464304,-0.03758636295597174,0.04141292219034624,-0.0664500186463274,0.05066198514849547,0.048671874577715345,0.01184764521711963,0.0724093364634965,0.022688339769621573,-0.013365610243499953]},{"id":"chunk-7db5cddc-120","content":"with gcloud), you can simply use: vertexai_application_default_credentials.pyfrom pydantic_ai import Agent from pydantic_ai.models.vertexai import VertexAIModel model = VertexAIModel('gemini-1.5-flash') agent = Agent(model) ... Internally this uses google.auth.default() from the google-auth package to obtain credentials. Won't fail until agent.run() Because google.auth.default() requires network requests and can be slow, it's not run until you call agent.run(). Meaning any configuration or permissions error will only be raised when you try to use the model. To initialize the model for this check to be run, call await model.ainit(). You may also need to pass the project_id argument to VertexAIModel if application default credentials don't set a project, if you pass project_id and it conflicts with the project set by application default credentials, an error is raised.","metadata":{"url":"https://ai.pydantic.dev","title":"PydanticAI","chunkIndex":120,"totalChunks":208},"embedding":[0.05930297252136133,0.05998058207071264,0.0797005127676595,0.017122262914692106,-0.07963317244444318,-0.07921376665784531,0.03221880402425332,-0.032022526244793174,-0.006335695349355494,-0.04438256916702875,-0.014929489723589276,-0.08131143516167959,0.047010033803235755,-0.015303147162887507,-0.05921638828731992,0.0055791692510391904,0.01593133489694168,0.006428861316732249,0.02472230140609584,-0.08737441703196795,-0.026842515572551313,-0.011141693786316829,0.04732089859621854,-0.03619805010496279,-0.010743355889292039,-0.0066218236570601335,-0.06905448518454946,-0.05791556508372805,0.07925917365261578,-0.08354111730360632,-0.06864438835901128,0.07273361401823436,0.037869118042146245,-0.0752268430386808,0.06994054277150275,-0.0408941582609414,0.040262138736424515,-0.041045652647459074,-0.01894241512162457,0.03683753924078091,0.0621807140786503,-0.0680167832274598,-0.029462384114768193,-0.08707751071054347,-0.08079220850381817,0.05536244653930427,0.07641878682565796,0.08451095971752183,0.0030991460176387833,0.07853188411980512,0.08767402987374423,0.0616002216966662,0.0676744351184921,-0.045652079903469714,0.07504199105943081,-0.027915707762042108,-0.04848419993740557,-0.03438641856772752,0.04925876890161887,-0.08095260050320911,-0.029097599976009865,0.036342839274308855,0.027800292245754296,-0.06709438083923029,-0.039837657654137194,-0.010979382860874265,0.04191969468631183,0.05772227711033279,0.07315861502424664,-0.0761941036280976,-0.07339013852439676,0.01846657375414251,-0.0054139229526919495,-0.07766734578113463,0.00822784127736456,-0.037973812250356995,0.027061666017873885,0.04060319799926654,0.06531611872335533,0.06597193634263067,-0.034612337219696206,0.008160436570030245,-0.04784846400527737,-0.049793334160720126,0.05760107665193824,-0.033202610203425784,0.058717552676983364,-0.0469409033917264,0.06849598929761484,0.048331967119915276,-0.08577279086654521,-0.017406718243128238,-0.07129225014333554,-0.058661518116141516,0.023984744170332535,-0.043783360958085514,0.017485735403736644,0.0037268197243824955,0.0070421160074782205,0.0362439915911269,0.053920703019264805,-0.05420371698061938,-0.08340267826873848,0.08510201355583498,0.07475880575715599,0.0028528022261863285,0.0314471378530086,0.017204377444315758,-0.026667002866554733,0.0865194037472293,-0.07413774484352932,-0.02282523519316298,-0.03974615586889969,0.019851957929949652,0.08008002719510511,0.04316370064045851,0.03315719094569036,-0.0483068002030027,0.02968005146194007,-0.028234366348676942,-0.001991095846040596,-0.026173873780833048,0.04298741640364493,-0.0005872728186597175,-0.047069759988341626,-0.024513015193119988,-0.05212638396733331,-0.07037567158286606,0.05732138818902347,-0.0597904284780831,-0.056834051469265005,0.0665614104878586,-0.0257787262084749,0.041641665606642744,-0.04647813212934237,0.06976619904899961,0.04683496979616883,0.02691176362603894,0.008499548414747388,0.0029089345821662503,0.02683447479606106,-0.06292991070060482,-0.04206306028501725,-0.07174788909236432,-0.006152609396777734,-0.0774441441950897,0.0757953581710725,-0.013201680970486922,-0.019565713000757042,0.07615821905669279,0.02592556765407809,-0.015199750552993387,0.016790799180474953,-0.06004395045043775,0.0565048601254956,0.0703735072749926,-0.007779192254918183,-0.07682376256450649,0.041798912074864907,0.02507910806941822,0.027576779076057698,0.004421305600844198,-0.01254543624784421,-0.08237671155421115,-0.05054520945586354,0.08293791192163444,0.012257509986687938,-0.062441036090433215,-0.003596977438859082,0.02684270808455458,-0.03568028674223269,-0.019512398492040218,0.07107786405486725,0.03286827833847324,-0.029267291868544088,0.06824315459361033,-0.01880835388271297,0.03820897630212499,0.02817194655918628,0.0022140507179990473,0.004854425013085609,-0.024735303385788627,0.033137358822260064,0.02635790954488121,-0.07150090607504611,-0.06133077738019007,-0.07110301530806187,-0.008344196490241946,-0.06245679629393121,0.06889388155754007,0.006829977763762501,-0.01521258540362812,0.042803026440623254,0.07526589466042954,0.001501184298113467,0.00616739560386365,-0.08071196517713894,0.08557637503819422,-0.08655148668435822,-0.016730229807056105,-0.015881193214775373,-0.02234761985051869,-0.01104670440730851,-0.026815498042732432,-0.01412247955053146,0.08022541569756711,0.04872823415137653,-0.03360530192542088,0.055839005481563245,0.024446057196934313,-0.017622899932343086,0.05837490246217859,-0.08633296944189342,-0.022884187893673878,-0.0022557594988599898,-0.06718840275970919,-0.0669222707762355,0.07422546069699111,-0.03846090249687886,-0.051577319448152546,0.0832992146693432,0.04111533174283992,-0.02790944468500482,-0.03742157996718751,-0.023456340696803815,-0.04708298704333144,-0.0856100612051172,0.026941260026015407,0.08192056123090723,0.017214725206234155,-0.07907853375941697,0.043319728841452215,0.05130930841156191,0.03140504947892451,0.06742774739075834,-0.08688355265903104,-0.08551827772775979,-0.005434541193684739,-0.051554485750991384,0.07640355277809942,0.03630495284144198,0.006497097938296431,0.02930751567901182,0.06374966423053725,-0.07351071558052165,0.0006979069686270847,-0.0766250510982243,0.07204178176432921,-0.08400659964458537,0.003117131720753588,0.02954129404655001,-0.06609601356770468,-0.034801075345743004,-0.01846063031294625,-0.03745838534706585,0.013083765408502661,0.0490315917637695,-0.007724636480705392,0.044561308961004735,-0.03219849560970339,0.004094535294486522,0.06910871864378497,0.08660206701947147,0.04845059371047262,-0.07647789079535791,0.05360519703224058,-0.029719043365330718,-0.04214246273359475,-0.04001367822379456,-0.04920033522898055,-0.004577232343869992,0.005208866926354815,-0.03099699047186606,0.005793390846977106,-0.06516202067971322,0.07552680434377225,-0.025070188640242293,-0.016574555231374306,-0.08665871660271932,-0.04315142836497483,-0.04997482703822043,0.0038311243315061233,0.03256364822025126,0.015231570543056303,0.021376233946339303,0.06347330507100048,0.05893706370714619,-0.04256159729502263,-0.014641209787234013,-0.014625206957277922,0.022589244187937292,-0.020298158438811734,0.0012818156891655213,-0.05201486668306361,-0.07862623125429985,-0.01289506667346132,0.027842047296864805,-0.03801280604442842,-0.03811167252793918,-0.020685419984750326,0.044584311828977805,0.06280050935189922,-0.07417873974014048,-0.08424755861817684,-0.05720702885544272,0.022195197235561254,-0.009787294477245953,0.0075652423082503825,0.022598494477629193,0.07908505308184831,0.03225981984562502,-0.0050713217290843,-0.04690264089289805,-0.040217742034156366,-0.08259463063003991,-0.03811737637174158,-0.05064300382894587,-0.08706521366192936,-0.0286977608094421,0.08045603215528668,0.05034677433149052,-0.07706513233217852,0.07806844532418404,-0.05003840688229354,-0.022746963245736867,-0.0783502858897117,0.06862351199974337,-0.006425324346675896,0.05476169616869013,-0.08482591460534125,0.008103540995220615,0.011898077365400108,-0.02433181844993225,-0.07513294966725394,-0.06228383914149295,0.056373860118668774,0.0739473451867024,-0.08597839766782107,0.0666727391892721,-0.05801470637486055,0.06767408672605651,-0.026338431591849107,-0.010506505485961356,-0.04099684804405243,0.06886536700221259,0.003683460684509782,-0.010689893402617046,-0.041854000712156746,-0.0656020393322294,-0.06198987919722697,0.018609842499258834,-0.008432096908723596,0.023782482021829046,-0.05440226262093919,-0.007945761253967263,0.08054600925849123,-0.04637633104513918,-0.029324086450732582,0.023710484660671122,0.07338080146740723,0.03162467817030206,-0.07739142153514827,0.030797875925723563,0.05018495007803234,-0.08253366533280432,0.023606649954170878,0.04207965732360761,0.07744335760763074,-0.0006528495579949974,-0.08247912676484823,0.046932683705686144,0.006984138931654091,-0.034178147574217686,-0.07762378193683536,0.057958119460013904,0.04795660928723552,0.0633739783985457,-0.011992544677015266,0.02214174766261832,-0.03977430327296884,-0.033911489365481426,0.0757716593655904,-0.06981710419551992,-0.03433217606256586]},{"id":"chunk-7db5cddc-121","content":"Service account If instead of application default credentials, you want to authenticate with a service account, you'll need to create a service account, add it to your GCP project (note: AFAIK this step is necessary even if you created the service account within the project), give that service account the \"Vertex AI Service Agent\" role, and download the service account JSON file. Once you have the JSON file, you can use it thus: vertexai_service_account.pyfrom pydantic_ai import Agent from pydantic_ai.models.vertexai import VertexAIModel model = VertexAIModel( 'gemini-1.5-flash', service_account_file='path/to/service-account.json', ) agent = Agent(model) ... Customising region Whichever way you authenticate, you can specify which region requests will be sent to via the region argument. Using a region close to your application can improve latency and might be important from a regulatory perspective.","metadata":{"url":"https://ai.pydantic.dev","title":"PydanticAI","chunkIndex":121,"totalChunks":208},"embedding":[-0.060696610963697974,-0.022309484800365896,-0.008445810882647047,0.007318063790022221,0.032060125759356094,0.025001564582980515,-0.07592528463501942,-0.043352587941519666,-0.012037562246466503,0.060413072656321495,0.02546317605234109,0.03586529930579862,-0.07729066001713839,0.0513557232314676,-0.05749376114521228,0.009541332766467344,0.01812009689822095,0.03100487678191731,0.017394393859934562,-0.025677348910659398,-0.002067617627262077,-0.04219047327956979,0.08178729038539981,0.030472777936510227,-0.011720389192876591,0.05879140903784731,0.06524663359671772,0.08378621475371129,0.056258594887958986,0.07605437987648146,-0.06455546646861238,-0.003929896411959488,-0.04487329544886412,0.052050617780214574,0.03378836370710431,-0.0489806386293411,-0.0815505181786972,0.009783441393783373,0.038283171027339996,0.027289238530899856,-0.03668429130295564,0.0022486136311375368,-0.026331300418591906,-0.05718752860013712,0.03354666485865536,0.03342641191442602,-0.02666699394798009,-0.0860904338744495,-0.07609804773431521,0.022148818625511577,-0.07919997881103964,-0.007192072278610723,-0.05478520287685334,-0.0035148439306278982,-0.04912112025972072,0.03674197167799707,-0.048258898341107914,-0.004565470873515678,0.06316276699687245,0.040124221263880266,-0.050624708056995024,0.052906734900504834,-0.026617703690161598,-0.01837595683764593,-0.06553158588812374,0.0802031356472721,0.06300983126689788,0.005786414801322441,-0.049449740734045816,0.07472695447865428,-0.00043451663461434753,0.004334312178506034,-0.029712373018765312,0.011722251640767104,0.022958474697627816,-0.03760189947933587,0.08169795424280575,0.044841990678705645,-0.05407269083014583,-0.06433568204681639,-0.060289968478892786,0.015649849101818065,0.01853516279603327,0.07553251937000313,-0.002526422953627315,0.07426277303598716,-0.06952452944603553,-0.025858542196892882,-0.023197739365063093,0.025001083103280947,0.06484056099680095,-0.02483829984101241,-0.008859712659852356,0.012058755768364002,-0.07750866945645503,0.08368300784421238,-0.015300062191260275,-0.04733318933221365,-0.052172460732781235,0.052696953593131396,-0.07446640167448842,0.08100038523912949,0.07173168720511565,-0.0037191363908042683,0.05836497896905532,-0.0631448035252985,-0.049144963660300765,0.004023217477721685,0.08209150566800962,0.06730820657594822,0.021207313246496422,0.049396643586248665,-0.018426395340504435,-0.0634488265785085,-0.07110762257511148,-0.07247282313323883,0.05227577844054115,0.07009480678774364,0.03299758199917289,0.08463114445670267,-0.04014888436268202,0.01772693911812974,0.08497336885571198,-0.044881578300169,0.07785983678277651,-0.07516501184889295,-0.006319161499311266,0.0829039183875558,0.006608404553752004,-0.042111376269492774,0.028950439089215463,-0.029420319695477905,-0.057093284332474015,-0.05587814091339115,0.08327921754956905,0.015872153740138662,0.06713912493406668,0.0039030386247511876,-0.06845061264120834,0.04854904173995283,-0.07723666419637448,-0.07473929138883471,0.021822126089314938,-0.08076128776540689,0.023152942725811233,-0.04457730760211502,-0.041394781698651725,0.04611344328827156,-0.00012666231628342107,0.04051125990782753,-0.04314022775067097,0.03976677346145517,0.08356735992382142,0.0853616944145317,-0.04322514263290803,-0.004506520995543361,-0.08418352174754476,-0.00647246122473712,0.0198098238135264,0.018366581320515357,-0.048387175615338444,0.08366562712096659,-0.02494534363592569,0.018095008944354462,-0.06770438453589782,-0.038945709748157094,-0.07635818888686917,0.013796103087520424,-0.0057771319906237,-0.08253786813204074,-0.039437328612906566,0.040014327320190446,-0.01626819571543675,0.0032559969001788557,-0.07022488389954208,-0.060013030128577026,-0.0686205174386988,-0.0434441697984812,0.020075015281802295,0.03515497838761055,-0.014631137575131773,0.006798149209145598,-0.049791096271639065,0.054850590624626445,-0.07592534300672053,0.08487430500750794,0.004368986990118069,-0.005693426994195173,0.07522488752311327,-0.03749646532174076,0.062451548001725525,0.009566104521213946,-0.04871520853054791,0.024991407712609007,-0.0016744279123300017,0.08693340541825721,-0.07010926296550848,-0.04759240188288684,0.04442460276364748,0.026644475259518165,-0.06404070210835142,0.07231060821861303,-0.08364349263139441,-0.08052769977627507,0.014439740590442791,0.05919768638512623,0.03273543174145876,-0.059605063994377795,-0.006690223711352442,0.03932833710909472,-0.02032616993498054,-0.05788297920932656,0.04672283747925581,-0.0006269475545273937,-0.08413799877869113,-0.06256418557828643,-0.07802543005146749,0.038223725258925235,-0.009722235171510211,0.06426868271643994,-0.058430719145577965,0.05384006660049522,0.04088035666871654,0.03229466389160647,-0.07230368022231849,0.02980253198942803,-0.019462140409617204,-0.07838232434708732,-0.020807882170252225,0.07983613474909204,0.07540468177694501,-0.06075572489971537,0.08637193895969117,-0.07654433465802268,0.025340630763700994,0.05501161638826402,-0.08400181956032898,0.07388807918068864,0.08206124220343436,-0.030711698402824106,-0.03971172348579426,0.009030423319205024,-0.06339928283745636,-0.022792725203329398,0.05045478442229553,-0.0006156176384325732,-0.040946885716028496,-0.02989162033988002,0.0646259564611403,0.003575027831181519,0.041317001540260634,0.028975943020902277,-0.03711118737477295,0.06877325109457369,0.0743759873364435,-0.08105676007286033,0.07085675980871052,0.0021261902328396113,0.03024627733708035,-0.060149217950533816,-0.011264968374449423,0.06496382684976765,0.045407147907083376,0.0027884565718398133,-0.027345698881628595,0.053284270385444074,-0.03686194020849129,0.006746362545341659,0.07608991396515509,0.08191375512757995,0.02443685465891689,-0.009801068449811403,0.07871164725997584,0.08107408967004585,0.06670935653877405,-0.062179627047413005,0.06106570520697744,0.007634976438991436,0.011770629308151351,0.0026683699814864415,0.07171810237044281,0.022535694915438897,0.040606990446931716,0.03286861087061102,-0.008509676890072822,0.07348037964352996,-0.017497412693206402,0.02991175548841353,-0.08062089028460784,-0.050645486677417396,-0.03411865362256629,-0.012837454807300286,-0.0737914139991355,-0.07619939312421836,0.010183474639213664,-0.06131682016664502,0.00918527602207354,0.039774708854846075,0.029206449225261596,-0.05086085491901723,0.07627674207873943,-0.06871272792845397,-0.04821466332605346,0.037762526383765586,0.003242561324547066,0.08581462133571341,-0.06983171373296791,-0.06275697036849053,0.023642462499964455,-0.0537341407471273,-0.047331193662223645,-0.0418639401130228,-0.0839676045234086,-0.002080512238996601,0.08363851280715592,0.079386564455645,0.03912363076229543,0.08553161496167305,-0.015656504459791123,-0.0003595913842131395,0.003625495041805309,0.03595718786334552,0.012086126004006003,0.021186956586335248,0.07386898541876222,0.05459249791251594,0.054670939872400647,-0.07303927175935014,0.014318598078169624,-0.035885627358110725,0.009061113470251337,0.019272528514551492,0.07345269535229441,-0.07749044836241255,-0.07112879978418045,-0.038266176180439995,-0.054168393759647465,0.0011402995330215496,-0.051323168466536034,0.02078436674281984,-0.048073878776031614,-0.05726329779529365,0.014068770287028158,0.03771611892299015,0.07264075599542841,-0.0335724329087359,0.024975965038357636,0.04749821353084789,-0.04100174192777605,-0.07086620582437268,0.0020582004083776065,0.04922126523761704,-0.08077447941531324,0.07237887169672387,0.0012351415658160814,0.06040689494821833,-0.022019603738003716,-0.039166690610494395,-0.014439263941408024,0.007857174009177296,0.025254453786300785,-0.08383133295214985,0.008646021969337461,-0.03985609844950498,-0.08178303575213298,0.0033380039694442774,0.016627351745250152,-0.06893292223281965,-0.07367506148931213,0.005452760506801086,-0.04345773979772147,-0.0027293221114562433,0.019542872462291014,0.02183696229925486,0.01752318405670217,-0.04597516667783443,-0.001570616147592969,-0.08103294112978278,0.014103464774973214,0.05913533338532973,-0.052130844390080304,0.06868206212245677,0.04024019975517129,-0.07020076219291077]},{"id":"chunk-7db5cddc-122","content":"vertexai_region.pyfrom pydantic_ai import Agent from pydantic_ai.models.vertexai import VertexAIModel model = VertexAIModel('gemini-1.5-flash', region='asia-east1') agent = Agent(model) ... VertexAiRegion contains a list of available regions. Groq Install To use GroqModel, you need to either install pydantic-ai, or install pydantic-ai-slim with the groq optional group: pipuv pip install 'pydantic-ai-slim[groq]' uv add 'pydantic-ai-slim[groq]' Configuration To use Groq through their API, go to console.groq.com/keys and follow your nose until you find the place to generate an API key. GroqModelName contains a list of available Groq models. Environment variable Once you have the API key, you can set it as an environment variable: export GROQ_API_KEY='your-api-key' You can then use GroqModel by name: groq_model_by_name.pyfrom pydantic_ai import Agent agent = Agent('groq:llama-3.3-70b-versatile') ...","metadata":{"url":"https://ai.pydantic.dev","title":"PydanticAI","chunkIndex":122,"totalChunks":208},"embedding":[-0.04991443282768515,0.05524283282244731,0.04213261905901979,-0.08307695720729326,-0.044515055856896926,0.06344380412433213,-0.04755487450616808,-0.05023857944084644,-0.020569964333748473,0.008304716194109045,-0.00667813223527227,0.059016521652534716,0.012148047212521568,0.02266818412264936,0.011816883907827577,-0.026465283167405346,0.05632852945001168,-0.02159018141052946,0.005574818176100162,0.05581581986593895,0.061744637990252746,0.022289708421074035,0.058233658129714656,-0.047455917772805715,-0.056659633774217864,0.06180890909679486,-0.02376201035506942,0.04046695992243266,0.0216198671516606,-0.001935366416424099,0.04374452539255666,0.08530867953710272,-0.02922033138701297,-0.07487988753817666,0.01857165032412465,-0.001526864530445231,0.04544876701965134,-0.0014781153201370346,-0.0024313622610900643,0.0368746759051531,-0.07929297913005828,-0.025356548541264356,-0.06855273823925705,0.0528925665506947,-0.02468676392318316,-0.05971675454773654,-0.07807617866668247,0.08765240898472981,0.027985090842954276,0.024235111574006037,0.060471321527262895,-0.06800098103586155,-0.07910668806452519,-0.06998176046734002,0.019106277397705453,-0.05373831382221593,0.03069533395963114,0.02119947735133518,0.02314406333998161,-0.06549077538602908,0.0861361942599463,0.015524947898027969,-0.08737261453216089,0.03347650298203121,-0.00858965550393132,-0.0814498324513252,-0.050447962268793896,-0.08641702475742444,0.009035875850321317,-0.013907073263424129,0.032562859224944146,-0.08041052302934208,-0.02219806679579672,0.08355551528288972,-0.05048074453469476,-0.05502855246765604,0.03743299062103476,-0.023815928459225234,0.016844712203063734,-0.08193257458608265,-0.04281246087832996,0.05046659243719519,0.04447549900286283,0.0413782291535966,-0.03226681847335927,-0.08007856628657738,-0.007209833713938205,0.06223586614782791,-0.009018768209103842,-0.041050444359195935,-0.08686880090252608,0.06923118487174118,0.01731393279226217,-0.04907955310075144,0.03889222574252611,-0.04414813331454493,-0.00560874849767717,-0.06138630666019836,0.03510121104091636,-0.045491848014221736,0.013865135086399838,0.008061748419967606,0.014698870381970507,0.04752807728418233,-0.037646913585945865,-0.03273329399865943,0.08529756514064477,-0.010845136254307003,-0.05899296753509987,0.005891812749746221,0.027422646757327595,-0.08650994580322802,-0.041459530407423596,-0.07812615530417583,-0.0009595364593889715,0.013608603541099697,0.06594791973163922,-0.050810744727821246,0.07023634634886125,0.06665745150195251,-0.060354401941989856,0.08693380496347394,0.0539535995783747,0.02422381151550125,0.060050519776841095,-0.05354262058798784,0.06939659101886202,-0.040384005109471106,-0.07065418267240395,0.06344865298499854,0.030292756422702845,0.051849673423548584,-0.005010324779331723,-0.05779426666857461,0.02529512990225622,0.04100477649006634,-0.08236904678877578,0.009686166300844743,0.05895001155553166,0.025998603555773405,0.03373744073071978,0.03993224488609918,0.037883548817733204,0.07421571268142445,-0.045228620558738705,-0.01464591651942049,-0.00436434163853484,-0.031458626489599566,0.03608921831286754,0.0009713428857305317,-0.012723469648500551,-0.07779677737072567,-0.08162093415169183,-0.058404072191069335,-0.057982131447854156,-0.05468112799861439,-0.0417461244534582,0.04173033734956877,0.05750182543414265,-0.019590030789779278,-0.06118186416061331,-0.057945363211235494,0.04431190140407173,-0.08316961966046874,0.03276442551064039,-0.08491569306705009,-0.03919862795520119,-0.037084125184494145,-0.0069892848493110305,0.030596454236042292,0.07315106540149956,-0.02386447909679116,-0.010031378400974811,0.05394351711963377,0.03605958031884557,0.012640667244009078,-0.014592266535394652,0.07298015852244233,-0.08392496599763258,0.006234744557093911,0.07480118939859796,0.014889313430425617,-0.05980385521069177,-0.028652771809037088,0.04867769435498585,0.06375421629718939,0.02386891916146517,-0.056033819714534916,0.022573027870377644,-0.04465603997111389,-0.024832761126504118,0.05708009409828913,-0.045403661493932046,-0.06794875958031833,-0.03805208678529663,0.008067910049526821,-0.06852763418893051,0.08656715877247627,0.047026834298457595,0.0020027163198296544,-0.0013063078056730084,-0.009360661381467248,0.038071482314482034,0.00562851804419111,-0.0472940655066046,0.05724725774206683,0.03791742555650714,0.01762329601866474,-0.03138899929788592,-0.0020083683877181687,-0.07999042990767231,0.08363525693216343,-0.0772513081164091,-0.05659364779705782,0.0567300993072568,-0.0762792349023878,-0.017903922775570447,0.06771644600975023,0.0020948700360528603,-0.06442031018957116,-0.03952577509609482,0.00655579642862209,-0.05322444874042121,-0.031980691840835546,-0.04505357447811515,-0.043174756674283055,0.030100431371747723,-0.027201838089994622,0.04896547550750731,0.015640349298508927,-0.010687177908058789,0.08191706653358241,0.03471161508073423,-0.07953346368540336,-0.03743800535613562,-0.031118513690009494,0.0686404217868635,-0.07231626863106805,0.0009397752201792286,0.07052483787844642,-0.011668079381046768,-0.07796305801986302,-0.00771736193202704,0.07635682415399585,0.07041988582848847,-0.058493806655014496,-0.05306983116653811,-0.07696216443050446,-0.06401436274793317,-0.06212893233155973,0.04129677757483821,0.011703614586090932,-0.07306902330604181,-0.006565370702769698,-0.061848461970676526,0.03202019053498028,0.01589089563983425,0.02920453418010276,0.021296584817495256,-0.012924529440600262,-0.08594460338023462,-0.0709378792901901,-0.07969495271597542,-0.012373897956823393,-0.08140182887471864,-0.07390288087585989,-0.04910710457140244,-0.07070762617842255,0.07958389235331685,0.0017306636784540793,-0.02739829278061426,0.03547811102540905,0.04435883915214823,0.07693006257460931,-0.0696881973198422,-0.049332190262199566,-0.01532209305094285,0.059245414008650715,-0.03285902502053116,0.06325889474884075,0.025129800308269754,-0.020950737734493064,-0.07995124334317384,-0.06647735413445763,-0.07882226132482788,-0.015302531304153629,-0.044787507836872874,-0.014840892380053186,-0.011883776906422266,0.0674010251041507,-0.03368712004971086,-0.08176678629768873,0.06871881703677836,-0.06943089393185027,0.044690753279101485,0.06964703290470604,0.0876283560637638,0.0869841374984103,0.02167188981302197,-0.01869303071947223,0.08716951242010612,-0.07126646141987406,-0.0318152354915702,-0.0008656898499860238,-0.029996087870072193,-0.010132955308553017,-0.041577214388522576,-0.01603398523852612,0.03428082131027947,0.014883258322663772,-0.06220199399034026,0.0687441418753249,-0.08543008455016347,-0.03597790751804534,-0.060440159263020425,-0.011261539775495209,0.04461737407854499,0.07697517648847266,0.018726200124216674,0.0683211041665564,0.0420139404044929,0.022605719548030825,-0.0017250252883795468,-0.004272786121013728,-0.0014337645033821185,0.07725568310840689,0.0629287752057613,-0.051052680267286224,-0.08583312548925028,-0.06843789647787153,-0.06284884794804066,0.07283854502990257,-0.08164220746818528,0.013795052377632682,-0.07325768500780544,0.0008640417505210743,0.003045371699188017,0.02999597718484274,0.03834014390652814,0.010331574933294467,-0.07292186034565838,-0.06352919780110444,0.0009629636159097601,-0.07135531388941696,-0.048731550868188825,-0.013464488673318118,0.07482133912410872,-0.031175311466447534,-0.017838082337933554,0.07408037541390593,-0.06775500075769056,-0.08422034719535207,-0.04557000588630814,-0.07145887777785549,-0.08318791424446838,0.03713413559496326,-0.01883977611776996,0.009984989130177487,-0.07292909753797164,0.013918197536823294,0.05949914441578924,0.02090283791336914,0.07441684304842991,0.07334914408505,0.024550445241051506,-0.01059760855011956,0.06538159755114953,-0.05054873721037762,-0.012640740229390244,0.0374195082050813,0.06964291165638557,-0.058906977093712745,-0.024373729493524027,-0.052665184628585514,-0.06073797611890675,-0.019973176284031623,0.027770881990186996,-0.045909414970596835,0.010712961355332958,0.004630782461625338,-0.08128856935096336,0.05474105096222763,0.01248879447876474,0.004625324664967277]},{"id":"chunk-7db5cddc-123","content":"Or initialise the model directly with just the model name: groq_model_init.pyfrom pydantic_ai import Agent from pydantic_ai.models.groq import GroqModel model = GroqModel('llama-3.3-70b-versatile') agent = Agent(model) ... api_key argument If you don't want to or can't set the environment variable, you can pass it at runtime via the api_key argument: groq_model_api_key.pyfrom pydantic_ai import Agent from pydantic_ai.models.groq import GroqModel model = GroqModel('llama-3.3-70b-versatile', api_key='your-api-key') agent = Agent(model) ... Mistral Install To use MistralModel, you need to either install pydantic-ai, or install pydantic-ai-slim with the mistral optional group: pipuv pip install 'pydantic-ai-slim[mistral]' uv add 'pydantic-ai-slim[mistral]' Configuration To use Mistral through their API, go to console.mistral.ai/api-keys/ and follow your nose until you find the place to generate an API key. MistralModelName contains a list of the most popular Mistral models.","metadata":{"url":"https://ai.pydantic.dev","title":"PydanticAI","chunkIndex":123,"totalChunks":208},"embedding":[0.06027272942269288,0.030036429206776606,0.01447153205341521,0.05189888454674836,-0.031184122542452692,0.0074232483819869615,-0.08058711978355836,0.014415045372770054,0.06144295040025009,0.04907005222045367,-0.052531912030056874,0.036342123549468246,0.04556591370973115,0.04745784660486924,0.05279652812070494,0.023189944588692044,0.08125303008649175,-0.011624167331933074,0.07402110372421272,-0.021710320420929834,-0.0016564491930990176,0.06221244134695918,0.06384988398075261,-0.07687179844016356,-0.08043937414973655,-0.008915150988340365,0.00481462088394317,-0.009291989974080673,-0.03210626512876544,-0.07080317352810579,-0.07102648017323744,0.0587399424869312,0.04548530050605837,-0.08476743011454196,0.08143749720996325,-0.046257228222344,-0.07843784136844534,-0.08516409917603446,0.034039886806903695,-0.06894431725910027,-0.03709199858061561,-0.014436594563611647,-0.013423765297455719,0.058137657892048056,0.07910472442265191,0.083589339151776,0.022620122001231237,0.058925979113655304,0.05919068916577781,-0.05508640141768774,0.035576884233611016,-0.08338582901964978,-0.00987384398279368,-0.03982807692127273,0.002339753490133894,0.036614249987411335,-0.008143231390812968,-0.0012835870023862434,0.040347685536820076,-0.03418770804305838,0.0778182715620713,0.030296348331641618,-0.010374753967580792,-0.014306705977910669,-0.017157039547906837,0.023702588400114993,0.02816750692546074,-0.049944947205918876,-0.012614779787555267,-0.028247032814504733,0.011811653082464464,0.011945271415300447,0.0691200304317636,-0.07010022660657284,0.009492824327931177,0.06803863589684393,0.08203724560047083,-0.06544498481754428,0.07881901569104821,-0.07797825944273919,0.062188156518906426,-0.009378794065839765,-0.07081111581256655,-0.045722940789404004,0.06718461006318283,-0.06549886997671281,-0.07890367569434346,0.03887626982185811,-0.0393799059010009,-0.024315851389582813,0.04930096693919466,-0.08408006353603803,-0.04501525351904945,-0.032952134718062,0.06450497301651929,0.013185123929418415,0.07120873004950795,0.02822706500745064,0.04657248031284825,-0.00060974044385694,0.05314372523005872,-0.060983224551202427,-0.057172746243195814,0.04194972855688664,-0.055629153344683574,-0.05691487227771951,0.04057734481950326,0.08184463262248695,-0.04426038754874483,-0.07432698388436833,-0.04630739627568766,-0.033261758114935765,0.04116699392639051,-0.06643198866483821,0.04032278602068327,-0.05566979711595919,0.08066198660420189,0.08133937874068252,-0.05854407850888251,-0.07513221262209789,-0.04248953196008817,-0.012027410490596156,-0.043472668002949154,0.07232544345950885,-0.054662789916693856,-0.06233171861866208,-0.04337829937607708,-0.06841210822418474,0.0313322524213122,-0.03543297061534784,0.04164686175595656,0.08382406919049169,0.05700703790083712,0.04968298397462331,0.08552056586605969,-0.039321233802557684,0.0023736385859598583,0.08226297819537813,0.01457781986549553,-0.04069210860151667,-0.04846009804878988,0.0715634997016131,0.07820382215715056,-0.06849813660378581,0.06605196975598651,0.04434492230492144,-0.07286032087057547,0.0693323424095672,0.021845155615550574,0.07686373053777887,0.06372233442493198,-0.07304234262266783,0.08629748894693506,-0.06854407453769595,0.006456361095453674,-0.024662365490786427,-0.08279127891501177,0.05683941527819141,-0.08319246407261077,-0.047894361070836354,-0.005819625176613078,0.03754176050854246,0.0780636209228162,-0.016411573486744095,0.019223599503270843,0.06859437958925299,0.050676016432841836,0.05602811442428456,-0.07766903075437047,-0.061760226480665134,-0.051951457020698415,0.03095172291118717,0.018501262156658056,0.07017656459449768,0.0063231962115159555,0.029665489938564226,0.02945373624536508,-0.04209584328279808,-0.050491337509578085,0.012945101705486843,0.029543040866337182,-0.046364325520081726,0.06681219391759427,-0.0718479849769733,-0.031252014200360466,0.08129076128132914,-0.07728197482294431,0.012618275699671095,0.03988736073719501,-0.027632045622783506,-0.012664130356341115,0.03842513911658082,-0.03955254579088134,-0.08169722183375776,0.06863350211757024,0.04470668527044865,0.025463993098814017,0.031631345710620776,0.007173196079532676,-0.021821988291299405,-0.02997220757475567,0.00361297186697853,-0.014284531931725982,0.02671702195776315,-0.025859548575251363,-0.029138608656677382,0.08173642754349168,0.08033939759857053,-0.07654990204293374,-0.0033069465429606646,0.006540510681012812,0.04282336795401724,-0.0008152206632096152,0.0018619164132174712,0.08046779704797569,0.07474631377285028,0.019115119771308586,0.0731642660382874,-0.008463304209662594,0.058555301556127315,0.0571837442240118,0.04337997542249951,-0.02240036381315238,0.06528711701416734,0.03756698585153005,-0.06480233806176952,0.05669944398161151,-0.0800021047465442,-0.057794642519383786,0.048583043747915146,-0.07607485451600568,0.07708511984648433,-0.01608612586709143,0.07147058209263202,-0.05538494072837886,-0.060288608699883096,-0.07130531102841733,-0.009463534521999068,0.0648898493307014,-0.0776913654432008,-0.057811086591124085,0.04403008648841798,-0.050598270320265426,-0.022251658656011152,0.036035538429663234,-0.046013680728431365,0.07316867492882498,-0.01318491686251836,0.012375267100726743,0.0538222969915734,-0.0395700895573239,0.05119349953382527,0.017174820215639902,-0.062134027463336725,-0.012401491714986793,0.029846592770435783,0.009325434655037497,-0.034678453517744005,0.012566493358893482,0.057924096575031156,0.02359309238460042,-0.03177528263353575,0.0011350359991518697,0.007237097626922088,-0.02614423992534636,-0.041899609210613975,-0.012082476660704049,-0.062338421533964745,0.02768788796851674,0.0356150943252231,-0.007638158655669771,-0.06504365785516562,0.03662912622691834,-0.03531803316145083,0.08036336640502317,-0.0406385084011328,0.08007033880380854,-0.0010029068534295501,-0.03451437032448402,-0.06358474035704648,-0.07746274039344113,-0.04675502362733478,0.062073089768678154,0.08315700401560223,0.005266689141836688,-0.04082402356855146,-0.00045319452113509935,-0.023299001906717257,-0.048306716174456754,-0.08477192580791514,0.005121055184261186,-0.0035825372403401994,-0.07191177371972057,-0.05904079838474141,0.06763220973952995,0.07759400775001271,-0.04366357171794567,0.057598146314185285,-0.015345703735169868,0.01439548819512743,-0.04097147039486393,0.010822039321995965,-0.07896315396318891,-0.024705882250148227,0.022353236169066693,-0.07708578187912048,0.03912063259890298,0.05791888486406288,-0.041559819027972636,0.044770910566851944,-0.028742558575255532,-0.03170530554369221,0.0013161541910878594,-0.08181414447445515,0.05455003439034415,-0.027031459369215513,0.07120508782152798,-0.006381040586353296,0.04529945659015599,0.012176625395494897,-0.007911007271947863,-0.0697120491798278,0.04360814072194908,0.01906549128243318,-0.06192007327393314,-0.015590011271340446,0.0697646466635468,0.014184568575682422,0.03789836308872444,-0.059711167148342265,-0.021297447400368562,-0.022149067753239084,0.07166838641737655,0.06721483132496518,-0.04720199328620478,0.04675252130903151,0.058734172958929694,-0.02214499342346556,0.06604368223650245,-0.0045266142772592095,-0.08513557183586845,0.0031055835599733787,-0.011438724442677404,-0.006069088995315044,0.02741649203470834,-0.02489821698405676,-0.01758390812244326,-0.005756696637374349,0.005815399165874369,-0.06778687548976621,-0.06307025134360553,0.04739155497054715,0.017058228159819496,-0.04494365302943468,-0.08163116499863886,-0.022633456089106652,-0.03997025795815157,-0.06284534654809887,0.07848161583660647,0.033806068956144956,0.037749177283203296,-0.04594093379531696,-0.009672631173506276,0.07020977783327213,0.07453007944339897,0.04052005667024471,-0.00020268284867978452,0.005498387937394932,-0.02841696745097834,-0.08328516794255325,-0.07517698853964919,0.06577780895371434,0.03585177594153379,-0.022151838507519835,0.05353287901221619,-0.015825212452751446,0.05979387452897802,0.07155036584787712,-0.08546202111672425,-0.0437379116568163,0.0509844222433643,-0.00789672520889057,-0.03610781742867504,-0.013870871797372954]},{"id":"chunk-7db5cddc-124","content":"Environment variable Once you have the API key, you can set it as an environment variable: export MISTRAL_API_KEY='your-api-key' You can then use MistralModel by name: mistral_model_by_name.pyfrom pydantic_ai import Agent agent = Agent('mistral:mistral-large-latest') ... Or initialise the model directly with just the model name: mistral_model_init.pyfrom pydantic_ai import Agent from pydantic_ai.models.mistral import MistralModel model = MistralModel('mistral-small-latest') agent = Agent(model) ... api_key argument If you don't want to or can't set the environment variable, you can pass it at runtime via the api_key argument: mistral_model_api_key.pyfrom pydantic_ai import Agent from pydantic_ai.models.mistral import MistralModel model = MistralModel('mistral-small-latest', api_key='your-api-key') agent = Agent(model) ...","metadata":{"url":"https://ai.pydantic.dev","title":"PydanticAI","chunkIndex":124,"totalChunks":208},"embedding":[0.01566751149330976,0.06316180421960534,0.053745549036012266,0.08458497203240148,0.05963437161730343,0.04282526727603632,0.03625373395856387,0.052177712036420694,-0.007486651960995448,0.01833629067419695,-0.003312469503511617,-0.0269988237407037,0.046314172013813645,0.01612647746372827,0.037191996088334296,0.07125400029568502,0.046347784885152746,-0.06026053750069221,-0.08657283406165002,-0.07741909266663745,-0.042021983936647196,0.04070464968809713,-0.0007374224052882774,-0.0478380537259918,0.0305632700394056,-0.031353805178973126,-0.030268042394893713,0.08512309550995775,0.07529473826797306,-0.002550379468513629,-0.06679485813776798,0.030393472592046465,-0.08241947321202055,-0.08386405916583636,0.0863081272529969,0.06561165447951282,0.07768327335594902,0.014029864812817164,-0.08056035654561192,0.08745254852814378,0.04493964417475761,0.010985784725456289,-0.06683585037367772,-0.08571460048398329,0.060957296311905614,-0.023798669750997446,-0.07534258172361602,0.06300272857730828,0.03894537203486684,-0.08130986664190386,-0.08250468576589619,-0.06608985374971148,0.016192415382317703,-0.01952898190122154,-0.00777851366156583,-0.04082935442247094,0.0818166415717151,0.04798347071744908,0.054686814265031684,-0.05576981542185768,0.07596420393618494,-0.02459383178503931,-0.04272002699015424,-0.06304504226476895,-0.07431923330198384,-0.006799344691625038,-0.019773208442991557,-0.02267483015881341,0.08076765895717242,-0.004919145110544677,-0.08683463517405783,-0.05460846526576441,-0.013826816815380415,-0.020583707145603262,-0.015732674015358602,-0.051589027014989755,-0.07837390571867092,0.049359874674796377,-0.02358563370236057,-0.004643436516744846,-0.08244494361737195,0.05361877118142295,-0.03372864163437721,0.04629942958825786,0.08009293768288041,0.05917520275421998,-0.06008697979363168,0.061298408937226524,0.05168848372348839,0.010623191241161971,-0.04700310556727489,0.03356054533694876,-0.00043049438744933755,-0.028097995850929466,0.037363053950811874,0.08583628353782755,0.06492058345245952,0.008097321445369073,-0.008969111728148628,0.05891952981746795,-0.08598765134745276,-0.02130704451784345,0.0048050528058125,-0.0072193380719809686,-0.04497406683966816,0.02387154610082673,0.018283546823147243,-0.0004905142441103557,-0.05755455238057791,-0.07776456999762538,0.019862337436245433,0.061052834745044325,-0.025797156624201744,0.02567167982380124,0.04615644890259558,-0.02195659254245947,0.012709210292399005,0.047065224915189795,0.012260572932195088,-0.026204705413118156,-0.08247254616202299,0.06641631865200534,0.07189944394605165,0.031076150937176153,0.0034791337317709756,-0.08379616359314793,-0.016562727825302787,-0.011289727664374203,-0.07667765663354573,0.06364104806688428,0.07718923357466172,0.05616903298343312,-0.020387303367768627,-0.017916295944681162,-0.03804162882827619,0.0036938025848792253,-0.04918444379409652,0.029553085447433514,0.03832033145983516,-0.028257560066140552,-0.04075455371713612,-0.06893414815318635,0.0028526219112271585,-0.07367568473046562,0.06531280831387362,-0.025873329057766584,0.05682289833020349,0.04427414167000739,0.04398538258878685,-0.08314999277882527,-0.0806529980443814,-0.0742180251273633,0.00018054892028839065,0.0035277673725090204,-0.04906844422784668,0.03658854072454653,0.06312045569877103,0.052927920841065755,0.008359039751035307,0.005006559375901369,-0.01409100815317282,0.034470183427967926,0.021026708270736702,-0.07443889227731791,0.07108090609104808,-0.037760858588404826,0.02596104596948461,0.006909198204933055,-0.009418513491923344,-0.05013428864992776,-0.03847445584949735,0.0830285334856016,-0.07266470438673711,0.03334831401339421,0.0019729685019396924,0.07415536507725493,0.01192275216384884,0.05737698247725061,-0.04956113078248176,-0.019051969264769934,0.07747176674603928,-0.08143083375679093,-0.08623417865825264,-0.06689906755201278,0.04646758839835607,-0.06956686715376288,0.03741949503136406,-0.0825596185666299,0.004785353006593259,0.024604544135844945,0.029086572135177596,-0.07375656352148195,0.001213086260642024,0.012534249990866112,0.009804127346320069,0.05783718598206772,-0.08463979032760265,0.061905722929970694,-0.042651124157004026,-0.08736869539058072,-0.0025252643405516257,0.06924985706763086,-0.03392492447741613,0.023907173260566402,-0.08756303945650362,-0.04879339767302214,0.014248557373394574,-0.026355814767353995,0.021493768704431534,0.0829732785943847,0.018545780976037273,-0.06745521725200285,0.06044862527545148,-0.024073168806423552,0.06661309996594801,-0.028879495843830615,-0.08158570986684267,-0.022672104773129143,0.0732720843580439,-0.06071982843887567,-0.035339311202945846,0.05231156060616838,-0.08249314668565959,-0.0270234542966149,0.03767682357855354,-0.0076965652847164915,0.008035563148979179,-0.03964761620573434,-0.028078936934570642,0.011865242883027545,-0.07107434121802196,0.03711126435781763,0.07900130766552424,-0.05510227647766445,-0.08439116512159972,-0.007020911860219066,0.011715446741383721,-0.03312767497418675,-0.06330677262403145,0.03554927646724595,0.0311528379762061,-0.07763044120557168,0.04758360253339135,0.048864362889224223,-0.04635708763873812,0.0669311771622532,0.08566290892262325,0.03253898417711917,-0.025386279001815785,-0.017651418008965525,-0.004551208710881034,-0.06322295868107083,-0.06542340238058336,0.07278710193834337,0.05422168203269032,-0.0067807582637673626,0.043468049072003336,-0.008921483880280846,-0.06185752016069815,-0.0029017734689264934,0.07407395893443769,0.08020528618836174,-0.05213259818548011,0.00198867482789757,0.004846521829802361,-0.04169230719464323,0.03793405284543394,-0.012461949511186857,0.01610614494621297,0.07734658838974472,-0.03678410261437851,0.04397177551836702,0.08322675091172285,0.005636039642173659,0.03814967459483426,-0.06103286123687525,-0.06774636088723948,0.07635773272260397,0.061602391566125306,0.07233918396658597,0.08500565109348024,-0.03771386117364969,0.04900994640174643,0.025325341160968188,-0.01129711583264794,-0.06331383688793556,0.05465726220114204,-0.0727682305432311,-0.0677011755185339,0.03816139433934536,0.0069455958495753915,0.02886397089326591,0.0038193360942153282,-0.038128687308556806,-0.03201117720277998,-0.01538315613850528,-0.023848352635717943,-0.07293691418226035,-0.037823224873921354,0.023118544653497664,-0.05457902343674405,-0.008149520494781291,-0.08235448524140378,-0.021399028656712737,0.04540280539358745,0.00007161656906022897,-0.015437525757992482,0.08595957479317312,-0.051645204026715234,-0.05759995755378137,-0.03993041482666826,0.03249420373261834,0.02184290068612496,0.00012075514911811458,-0.0521336867896967,-0.00106009571818899,0.026041209109024466,-0.08231160186907878,0.02373076867063648,-0.021387480589740056,0.08634216962676583,0.05819881310344587,-0.06523897588864169,-0.007657119375819182,0.05510068960894514,0.00554317968423467,-0.006544312885662102,0.017982157018152086,-0.044146016310123194,-0.06980034266210632,-0.012796020318849641,0.08278253535501677,-0.0660557622046454,-0.024971705958106473,0.07193445237223721,0.011012994557158233,0.0070857470828878145,0.07477421011745829,-0.06493224700183248,-0.06437885942597092,-0.03900714361064717,-0.007600745704607968,-0.07718781379264952,0.03196983407699863,-0.05251946569099648,-0.025388084553506912,-0.004442858747988326,0.08445502148976002,0.010251702144876196,-0.07833004538374541,0.015460461132141503,0.014699882468527234,-0.03795660669406623,-0.00382271270591979,0.03456084069717461,-0.05972437268283878,0.06390669441187818,-0.06205806162809847,-0.045104481414435335,-0.008659058789741362,-0.027221599767703504,-0.07036765171675372,0.07088649229322891,-0.015095862952274906,0.009728263928632587,0.0562216715463135,0.05610819686901514,-0.06776765120959166,-0.06841857914859405,-0.0722456031308723,-0.056840988038762356,0.004280589671013664,-0.07497474841790101,0.07948876528205726,0.029467772500068566,-0.002710364994290906,-0.04109131207054833,0.04505194218309012,-0.07942033814509522,-0.022713615545642267,-0.008436958795279174,-0.020579695153961464,0.07525289746447415,-0.040824142508591885]},{"id":"chunk-7db5cddc-125","content":"Cohere Install To use CohereModel, you need to either install pydantic-ai, or install pydantic-ai-slim with the cohere optional group: pipuv pip install 'pydantic-ai-slim[cohere]' uv add 'pydantic-ai-slim[cohere]' Configuration To use Cohere through their API, go to dashboard.cohere.com/api-keys and follow your nose until you find the place to generate an API key. CohereModelName contains a list of the most popular Cohere models. Environment variable Once you have the API key, you can set it as an environment variable: export CO_API_KEY='your-api-key' You can then use CohereModel by name: cohere_model_by_name.pyfrom pydantic_ai import Agent agent = Agent('cohere:command') ... Or initialise the model directly with just the model name: cohere_model_init.pyfrom pydantic_ai import Agent from pydantic_ai.models.cohere import CohereModel model = CohereModel('command', api_key='your-api-key') agent = Agent(model) ...","metadata":{"url":"https://ai.pydantic.dev","title":"PydanticAI","chunkIndex":125,"totalChunks":208},"embedding":[-0.020182221365914733,0.029886792531569947,0.007846152035186047,0.03456733104260788,-0.06360769717861148,0.033049194586521786,-0.0114843213049664,-0.08002363642069318,0.02734937371477355,0.03651121058940399,-0.046364027303380705,-0.06959278638544951,0.05960461117643299,-0.06684083667329263,-0.06724376124998874,-0.05654860888485504,0.012143454832785755,-0.013344582460639702,-0.06928248293315149,-0.06180855816138436,-0.04920094062498083,0.07108979863962833,-0.03606185042743168,0.06931937945517881,-0.04624287174868898,0.010779856746755523,0.07816754977516939,-0.0012318593580049665,0.047542782859920314,-0.033933746908711995,0.0806707221323577,-0.010303319711412871,-0.06668430809074519,0.036187298096725294,0.01954071855501342,-0.002906966623040108,-0.019698254441285326,0.0863162937569041,-0.004926280361351823,-0.07049321822653137,0.03553394127311194,-0.029039711181625637,0.05498460312078707,0.060232827715712166,0.05195693299974861,-0.07376888654476607,0.0531841544813301,-0.010675684416956162,-0.02619825196694453,-0.01818636517930175,0.0374670566572415,-0.08207884654378643,-0.00758651881392188,0.0473284800030845,0.0529170350961038,-0.028853476960229787,-0.000043603657993542874,0.031121002367438155,-0.022842519323866294,-0.026229759290670212,0.036048627933564385,-0.08233348730599926,0.06657338798374889,0.08202347730938593,0.018196541204604847,-0.06836121643991931,-0.027733797001131898,-0.015665147925265202,-0.02749572847833591,-0.03448404789632671,0.0811521507345637,0.0240029337387097,-0.06989918964465666,0.0802686569116592,-0.07119631852130096,0.027311172591039993,-0.08698453159422115,0.0464045216365807,0.05527195901334079,-0.017512452087175504,0.021810266238500804,0.05143434032029451,0.06856802408966564,-0.051848564266895374,-0.06388348566321807,0.0770057341944844,0.004844812406558404,-0.04558613337541029,-0.03638729176801,0.02390332982165659,-0.03199412156853339,-0.04988525720433777,-0.06807538535898673,-0.015016366685392118,0.05029699509998502,0.03875001402225642,-0.0197283217475532,-0.04010692293592819,-0.00485075482085942,0.08654723415578953,-0.010203662403234129,-0.038217874006499536,0.021648500896726118,0.011329141205647245,0.039605183271800175,-0.04847604576175284,-0.04256618955498991,0.07458857801087766,0.04909575261771893,-0.06790302422041312,-0.034002325670823834,0.04994210623740796,-0.047744452562402215,-0.08423869697065965,-0.013795307582712876,-0.009973655831011024,0.02080571923356965,0.07404414904927181,-0.06682984271426262,-0.00825983152435934,0.04791868185819663,-0.02279456737572503,0.03822228013823482,-0.03781940170483032,0.06781497000000392,0.013071211279426634,-0.012312072373753181,0.03382343474284648,0.07754478241890246,-0.014238735084152798,-0.004818790966134283,0.06154110303209406,0.06490293919182206,-0.03256722732752598,-0.08285270691413148,-0.08610619164085899,-0.008967465582392012,0.05216619983488715,0.03131415659231643,-0.07088593441129228,-0.018734824171713103,-0.05708236585012694,-0.041738195296157264,-0.062271235926924656,0.035678530192765595,0.07110550264993863,0.0570440809239562,0.04863736526620041,0.02390382482842466,-0.07730182602002877,-0.04002595251950359,-0.08383797145179339,0.0355167349623696,0.06356591057290116,-0.05650319980546097,-0.07512583733576277,0.07655126543464227,0.03867832712173687,-0.03861492977828791,0.06143993170134318,-0.03297224781552093,-0.04758295453898803,-0.07076753999029223,0.06259823235558938,-0.01418154860972599,-0.0067427801223540725,-0.03809929533382079,-0.0613102689770362,-0.046671608818836176,-0.021336704924143777,-0.07454330844393108,0.0036170579704181767,-0.07101096058217048,0.045434942277765004,0.03402168770924058,0.0420814556861181,0.008981189596841343,-0.07616994820609019,0.06548820337481306,0.05197845942705448,-0.016868565616759933,0.018749368434295786,-0.015326599503866454,-0.06768605042813639,-0.014268931548002283,-0.008942439796827517,-0.05385777061113468,0.05683331710836739,-0.03016859042656095,0.008093268137458044,0.07410726169592476,0.07831344596551124,-0.009794935536235824,0.01413166905650349,0.08238194210579734,-0.044754101446348706,-0.030615713559068582,-0.031182581996353986,0.07749559222782186,-0.03522595155695763,0.006289691373033963,-0.011330598038029074,0.0004231055587262929,0.054468989008065224,-0.061111641965244226,0.06895483970021869,-0.07334558222653578,0.07095956319677536,0.07114693101853643,0.08500144078209548,-0.0058570727427830465,-0.08530273683994043,0.03601010515954979,-0.04446344119739601,0.054727960174489804,0.02295154757333388,0.004903946898731375,0.08180915029864855,-0.044710790629874354,0.0790290774670949,-0.028571327181487225,0.0599925625606162,0.05535842455874097,0.01325263666106211,-0.08544366183762196,0.06849593891435334,-0.08562551909634081,0.04310793417170339,-0.015994637526565308,-0.07508728436354879,-0.03716595408734976,-0.06916517470289739,-0.027247517000707485,-0.0558200526044805,0.06355223828111964,-0.0811114252689794,-0.06006117310597026,0.0604406007181075,-0.01564464860652056,0.017574433609255955,0.016729408019096136,-0.012510118105834874,0.01829863563503519,0.00280011953053407,-0.07508237400353246,-0.057430520729158496,-0.07727948918326093,-0.040437711600335026,-0.0675341915755989,0.08057309113975658,-0.06490056739249256,0.021953087860722094,-0.0486147698328874,0.0686570167407999,-0.04548343722828527,0.06724835702949916,-0.023228581095516263,-0.04909574762961466,0.025589436501515243,0.08297711424820448,-0.05115698242240736,-0.07916265256949483,-0.05860399822148512,0.006908022700943433,-0.04654184243459608,0.020110028258048425,0.05173417971852879,-0.03063838223373504,-0.034030619302379946,0.03674481854007698,-0.0015402915319522666,0.08191247232001377,-0.03357399541763163,-0.08637421184810588,0.012535524744187551,-0.08227598278568156,0.05060960983113106,0.05063657496546378,0.01604726988765503,0.08580345601531285,0.048902916860579196,0.0705087776819474,0.022293101119804815,-0.07128917796207876,-0.004904882736740137,-0.06330142209193129,-0.06102301247108176,0.046419416242092226,0.01583076095678438,0.07704851297364781,0.07014855594494743,-0.05860492498508592,-0.05600465790876892,-0.007272748457818731,-0.03577254789312232,-0.07943806149444331,-0.029343972602741013,-0.06537893337577236,0.01111876086178356,0.05095446711536681,-0.04083513936850742,-0.02813535199813801,0.010556848585670072,0.0005777106028504961,-0.07294754011013316,0.08543967993525117,0.0006442397615669905,0.008565174661134784,-0.043887496897097915,-0.029139685290352563,0.045445328858254815,-0.08208284336769313,-0.030238963058723978,-0.06699522110153718,0.06641600010106137,0.043201719697384774,-0.07666409027113483,-0.0477128685718434,-0.07460055080527843,0.027113004749958942,0.03523906863046364,-0.024025133306599646,-0.07778239572941599,0.04942139705117128,-0.029533143065245192,0.053285956818599475,0.029900071413481322,0.0366440153066346,0.07033469740489676,-0.017967028055374423,0.01277178453465038,-0.07099250735562923,-0.06022594914320931,0.04601393897245683,-0.08654120849679488,-0.009525779190646039,-0.03012965531698411,-0.01478795986783275,0.023691942170662127,-0.05417919375899826,-0.0496674968125426,0.021670831429068994,-0.016217542971304934,0.04318588870192356,-0.007414412588019438,0.025398815754664735,0.007778815854542566,-0.05902942852269497,-0.06832199089946044,0.05351372771397956,-0.032776556545971405,-0.08162812568514502,-0.019735667559506682,0.07881504139668082,0.02737715795053877,0.03089606233023491,-0.06735519729956377,-0.0590485239861188,-0.05242844553685912,-0.07868964884602656,0.019284902769179386,0.03613521900066996,0.054327412798628655,-0.07976772916089853,-0.06745850360199984,0.06534059519963978,-0.053152669101088505,-0.022980333126967734,0.05496374063893137,0.017785038452033452,0.014980380973040707,-0.007603550817965431,0.059818651587752576,-0.059236242939272765,0.06469671237603479,0.006641703978460749,0.054231255036055546,0.025803444409831528,-0.031526798700044836,-0.07685880046284811,0.006643479007343839,0.06376185940426998,-0.05106205350959846,-0.07178232016745222]},{"id":"chunk-7db5cddc-126","content":"api_key argument If you don't want to or can't set the environment variable, you can pass it at runtime via the api_key argument: cohere_model_api_key.pyfrom pydantic_ai import Agent from pydantic_ai.models.cohere import CohereModel model = CohereModel('command', api_key='your-api-key') agent = Agent(model) ... OpenAI-compatible Models Many of the models are compatible with OpenAI API, and thus can be used with OpenAIModel in PydanticAI. Before getting started, check the OpenAI section for installation and configuration instructions. To use another OpenAI-compatible API, you can make use of the base_url and api_key arguments: openai_model_base_url.pyfrom pydantic_ai.models.openai import OpenAIModel model = OpenAIModel( 'model_name', base_url='https://<openai-compatible-api-endpoint>.com', api_key='your-api-key', ) ... Ollama To use Ollama, you must first download the Ollama client, and then download a model using the Ollama model library.","metadata":{"url":"https://ai.pydantic.dev","title":"PydanticAI","chunkIndex":126,"totalChunks":208},"embedding":[-0.0640944700163264,-0.06481878398374528,-0.06199381779576447,-0.0577216016096299,0.017697135065270504,0.050764050127091676,0.017766675922355635,0.07398168404989748,-0.010838284721342982,0.06960974937778064,0.05038744852948798,-0.05475507167475655,-0.07939404232609039,-0.028403074123490704,-0.075585421080735,-0.06439358271095691,-0.022031969566333055,0.04421680608500454,0.0038820689440914433,0.07988863497857572,0.02290616350156756,0.0806442492145592,0.040869243563590923,0.04424648875986273,0.0011684819226959835,0.05871819157406971,-0.029468692010034287,0.06508593530061844,0.06753620048274829,-0.08368099428201546,0.08103296786954649,0.05955385833647866,0.024074326572134243,0.021722813570807572,0.07466910116698863,0.018644823516218434,0.054097939593768796,-0.02189623523768409,0.007012652979791129,0.014411909579910636,-0.06692903324069278,0.08085435210695514,-0.07027407957557304,0.0766462407060061,0.04901875344819963,-0.08323170666597683,-0.07136403996024954,0.026357854579076776,0.08362533944090504,-0.05311012741608102,-0.05709502562211357,0.06901597454616752,0.06289390075490915,0.03992882868237402,0.07541672072782821,-0.04291201386422849,0.04725425573056429,0.0038831288421952224,0.032087029938999076,-0.016317535572721757,-0.023133071448025514,0.017813222205864298,-0.0769009912224493,-0.0246139276612079,0.041152158258882014,-0.029284697648329965,-0.036464659165736706,0.014714902105774159,-0.06350028876773098,-0.030324860853484473,-0.013172202740738263,0.08112980127613531,-0.04828601712418138,-0.028841990447851778,0.08378110821866491,-0.032541041909721395,-0.013831108425082105,-0.05035536938179232,0.050354131297502484,-0.03802006466805172,-0.01415465410681992,0.01055306823212611,0.06925934854708822,0.026364353375203386,-0.07645692115571473,-0.07942866311446235,0.06540555333002784,-0.05469411217934276,-0.07954462695403136,-0.007825602406487917,0.06712793818913271,-0.04589558889957989,-0.012695189438847183,0.019217542037929913,0.07969840092122893,-0.0379835938509643,-0.017190395148195012,-0.08103180381208813,-0.03957047995632621,-0.07754230479455669,-0.03184594133653746,0.08260435614625873,0.05949206716553986,0.0395842833391174,0.023841648203911086,0.021985435238905657,0.02247615096264638,0.06208842985176877,-0.08224203601342409,0.007265723632035746,-0.03616654041170904,0.06359160137032173,0.06057356537853936,0.03327872318266328,-0.007118293203366906,-0.08009053388286154,-0.03632312942970942,-0.03549557907165741,0.07394125522679383,-0.03609783602617274,0.08362490726947888,-0.07824883637165415,0.06587266642675972,0.03162334824120195,0.000699194079696345,0.033598046529159986,0.07888540240398983,0.004408400014761046,0.07099239592581312,0.07772637255344285,0.010291035278570818,0.003390222684837001,0.04638120113080307,-0.014938878750233133,0.016507404019726384,0.0691095340871439,0.07370420199951341,-0.0663622716032479,-0.08266610420886192,0.08004423371171741,0.08175630054714525,0.04843815015744622,0.05092713649024201,0.013992178250228287,0.015098957795503784,0.030367588085984644,0.0009844854164219477,-0.06158915139021136,-0.040106028195434476,0.06336964919554519,-0.03610788980186322,-0.004917253224773079,-0.018576988123554763,0.022819297557834427,0.04992869913172371,0.0309822356540518,0.03789485267727989,0.07398441478501756,-0.020053518610666416,0.08371170118555829,-0.05809095772979878,0.07357063880946986,0.05478256962633931,0.04330065237002189,-0.02905342238723978,-0.0664265324047144,-0.04239937553048431,0.06878045533393225,-0.06385813771235581,0.04396540066266857,0.026774389250102535,-0.05803390273317664,0.041233367423800626,0.05677683058018185,-0.06007576515913971,0.08209931487478266,0.08239777163103752,0.05536240593090213,-0.05574501764052643,0.0426764213372059,0.015347285339488627,0.028267493117396392,-0.04653713341283592,0.07780792899219302,0.020348449527897577,-0.07030330301790635,0.02001152262908323,0.06799085243771526,0.015446971226061994,0.005961976630001639,0.019148265545099036,0.01970643236233123,-0.03774574670691866,-0.019611856017712516,0.08145190956093942,-0.06631040997171155,0.05665543243191568,0.01816132985011049,0.061967723580830546,-0.07499046176328972,0.03709437205432114,-0.08385049646578419,-0.060665804645766916,0.06640338361329899,0.061204414991809904,-0.02875791797266136,0.029419096521962115,0.031843340403152384,-0.024961098904868285,-0.019211812735584862,0.06634879003645702,0.08276373552809667,-0.03428361088352461,0.038227768603066356,0.07187345763293526,0.0006744431279851944,0.004532049657830409,0.03462351805666328,0.02974644306357068,0.012468734536047474,0.02022324751936966,0.026899479842175795,0.01801611308467443,0.050495989153689795,-0.011011445492198095,-0.03132555496037114,0.013234217096370713,-0.05375253718910661,-0.03635316130763284,0.07281373796833542,0.04506071671053149,-0.07939313797827946,-0.0354904110935988,0.00007104676212349495,-0.05949241344853513,-0.04921878199003091,0.04008784032236204,-0.05246205205365596,0.036712393643051434,0.03717508899856209,-0.03193491153207425,-0.005758503834879288,0.008269988833450455,-0.07818921894620941,0.05854112500583267,0.056423082940108636,0.030515180364309325,0.03440112550070679,-0.007819980572961042,0.0027526802813556276,0.0008087895031928478,-0.07631351297246117,-0.08146775457843668,0.059218911999661096,0.0606830312830202,0.08289293001827593,-0.073362853819237,0.012804799355216629,0.03690548177843309,0.006096694702722059,-0.036782194650469946,0.02012339279526777,-0.04919464367878457,-0.03843636538605248,0.019598111015509546,0.059771011211446824,0.06940738223660549,-0.06784003339603563,0.0032228919085952957,-0.07544547534094517,-0.07831591533234561,0.012537144307239203,0.07686881607340187,-0.02059360394008436,-0.03275859178146497,0.08023336717496952,0.025553241936328804,0.0033725212851660885,-0.0720838680328549,0.0714854436183514,0.034492201997867566,-0.028901883358010447,-0.0046387302714550665,-0.03953701259068211,0.044656576228079344,-0.04782645551644546,0.06532513539521899,0.02934144462053017,-0.06565780004011706,-0.017220606622346646,0.07683001332332981,-0.013812725418543956,0.07795220181550393,0.00900370484920026,-0.02824741632643002,0.049052429537215725,-0.039730220667632134,-0.0032594205846141963,-0.05449576060036829,0.07849212162984484,-0.007824205626638244,-0.036035725019511175,0.08075955924002702,-0.0479849294575006,-0.08022052118113017,0.022183692895128962,0.04643114322391905,-0.07181164135688599,0.07209397198100419,-0.022032005930071444,-0.06978957782647414,0.03164301194338033,0.06657978011766588,0.06544078747237073,0.008028707742575247,-0.06849298359535767,0.021098477696471968,-0.008296878577112312,-0.03610634445256075,0.0465332065378997,0.025510100807874442,0.006541242261410276,-0.023731982552884622,0.04943301459062142,-0.045312142117000784,0.05722467026591787,-0.04516975793180749,0.03081576319668035,-0.056846857911904324,0.0613318512625239,0.07349964269660501,-0.08072418025858252,0.0007303290750523872,0.023586203114120366,0.06978291525539478,-0.07959270499005647,-0.010640786911051196,-0.0010514305589444447,-0.055106482115667085,0.06565002382956864,-0.07707724816249227,-0.04242854672435724,0.062046792754888044,0.07888681281275012,-0.0007279585383987138,0.0559201853903035,0.02610627573948002,0.0004326991921069283,0.044961521207208505,0.049759145366906385,-0.012541033245956424,0.07908062580629323,0.0011162092310749744,-0.05823615150495827,-0.06333733482153643,0.020621937960292155,0.019423723708400488,0.05641223836819106,-0.07101172376714258,0.030420910234204252,-0.03813104827381753,-0.05223344115908187,0.044237273812034086,-0.00859328993947234,-0.04072965124980731,0.00025209335579218575,0.08059629604408956,0.05667864666714432,-0.021984511552166915,0.043851759283935234,0.08048962710187757,0.07115909116258474,-0.007225856317557508,-0.013036599629102722,0.041324892359203,-0.06441402712848968,-0.07861446022930732,0.0028320194018932915,0.0009475085538454857,0.003967097031864165,0.06973424659607956,-0.018506880826862703,-0.07728409354724787,-0.032742013702034035]},{"id":"chunk-7db5cddc-127","content":"You must also ensure the Ollama server is running when trying to make requests to it. For more information, please see the Ollama documentation.","metadata":{"url":"https://ai.pydantic.dev","title":"PydanticAI","chunkIndex":127,"totalChunks":208},"embedding":[-0.05738609153044779,0.08249253352250668,0.013254341075024878,0.0023723212482699213,-0.05383319636324392,0.05188045939797825,-0.03360804584785529,-0.031138411516871942,-0.07076336086435016,-0.04649520422679289,0.008621334569555704,0.07787945999941856,-0.06706887535770356,-0.05894257421770705,-0.004786727103370963,0.05822399499943812,0.00277143004795589,-0.07357320646275681,0.06922961142577988,0.03653511810559209,0.0472481394422385,0.08411663381650773,-0.018280706413815108,-0.06315954475447146,-0.008354100880374112,0.03701954474165098,-0.03317270242352301,0.0844688969562711,-0.041335447415836016,0.03578232701187263,0.06167392900319836,0.07981184827633755,-0.0825554830733779,0.07606379898909364,-0.03798941006694651,-0.03389867256120505,-0.07692411558043913,0.0718599593568605,0.017078863501760144,0.07093170570562764,-0.011570430451145272,0.044487002376745195,0.01566037270382528,-0.02461577236830718,0.017495951787576475,0.0032442390203568246,0.049952669479754214,0.014417733457505199,-0.014525842762408838,0.0601563556543477,0.009438456164749216,-0.07804181231215847,0.027509124260345567,0.011036614137574962,0.024213369566585555,0.020255493339246762,0.0005914378839104797,0.08134983852873962,-0.07896748404279172,-0.04059607327968961,0.016215146274979213,-0.013655429034929579,-0.054095158128077935,-0.016340327576440244,0.04740582639460558,-0.007925030429313883,0.058902587481533625,-0.07493641481023344,0.03552999015914746,0.016721003897056476,0.024375182936310368,0.03055371014161896,-0.044199188973470326,-0.014609332644136611,-0.023364170513528616,-0.05247979878512563,-0.005811692071504538,-0.022783855513730175,0.0056425497969697725,-0.0838125478458135,-0.04417355754730782,0.021631131078889514,0.0703584484563963,0.07360969471687182,-0.0458823252753037,0.05077980238350345,-0.06355409888337091,0.014678716395096252,-0.03762939855505459,-0.06695043699822364,-0.07676680564782994,0.041076217408006876,0.0037335447244071914,-0.01062743435704715,-0.025800032384325943,0.06977607369134267,-0.0750812858838102,0.043406524380048744,0.02712219860635128,-0.06761418132402183,0.020449915345442615,0.04167843799936764,-0.07175801922825409,-0.016155621298780322,0.06756383229413278,-0.07773997197811461,-0.03221310256219001,0.025341684723045394,0.032337303580473854,0.0031797523035308533,-0.082138046921779,0.07779178628421565,0.07488950331392935,-0.014417250740921423,-0.06991974052763839,0.05145431019183243,0.027071525524321145,0.08494719793062504,-0.07610480056922724,0.017290432540768057,0.08452829493324411,0.07761147332991038,-0.08002876894476962,0.04467087088165286,0.08259910517671927,0.025358975624392988,-0.0845335739699363,0.025437924481159217,-0.05772434396731047,-0.0402519187667672,0.046701501170460354,-0.04447348520564633,-0.04369610380198528,0.04211596566760711,-0.031033187356026774,0.07482723073130512,0.0018580007347910837,0.020491593349406537,0.0414116751343006,0.06784465923546637,-0.04142823205355766,0.04174108130888282,0.015563441004202318,-0.00632899661822823,0.0017959908923410794,-0.002408473747402906,0.010894510992450058,-0.05042947569265953,-0.019977497336359784,0.08391387418971913,-0.028020531750791777,-0.005374698715523112,-0.0015736895205016072,-0.06443157641489616,0.06941415535606775,0.05244449060848837,-0.053663749088798784,-0.048927317439525,0.027855896087264177,-0.03383021886809301,-0.00821573790937037,-0.01081421202418355,0.08376035418622492,-0.046946685862988384,0.017710259364064777,0.025335916128721478,0.04063848880327606,0.0036282062718226865,-0.03550353405983728,-0.07990117218351676,0.0740328056723974,-0.07848655997842542,-0.05665865520428138,-0.061582797490691926,0.0052110280840949414,-0.02019476151061408,0.005783079458089821,-0.01687935567204994,0.005604380957457253,-0.06419923475756692,-0.019070996600045676,-0.01035856713961142,0.04681195035656271,-0.08356522781590713,-0.051888092400434994,-0.0027684496576443566,-0.012080616478045954,0.03871634147554167,-0.04612287700759313,-0.04797867664163673,-0.00954411349539901,0.019536601306704135,-0.07814154893711812,-0.04108440637030317,-0.031952879812099,0.06932588759240545,-0.058099642078718344,-0.04774028691017313,-0.010231549230401456,0.023971021591696482,0.0039006627667165813,-0.07944832683520722,-0.028374147654233944,-0.06146494111192543,0.014244689038381065,0.04283093374199529,-0.053186213026844585,-0.06396047903254751,-0.032276280470023136,-0.014272689116226176,0.013508275522778702,-0.037336706913196294,-0.04742676899558197,0.06025212944394451,0.0328033268092504,-0.0707560430797722,-0.05225147271560375,-0.01850251186480993,-0.011720022760756987,-0.07549026250516484,-0.05528543369828517,-0.07405671761097606,0.024000894098840785,-0.03839900072027157,-0.057803864571034064,0.07793420720806374,-0.0014942213065059905,-0.03944142934938767,0.05799915446507799,0.07359200019044054,-0.057260512668047575,0.07469563747759146,0.05835122889937395,0.08019371284852393,0.03317272497877933,0.011807560639373974,0.06149189839516685,0.06975053990523536,-0.03444303465529389,0.08220701988456047,0.03128724249394506,0.0437905993320636,0.01753725460485585,-0.004971516271292,0.0842969351438861,0.07372658347492271,-0.06748803101155151,-0.0401423637618304,-0.08606219776348518,0.07341049159078761,0.038462999735517284,-0.025044447673169462,-0.06406454669020757,-0.048443895222105855,0.0018568573989293374,-0.08091325689919639,0.053102301042137694,-0.062079202403713146,-0.03180850793151831,0.04343877879795463,-0.0540700573969925,0.08384120824367211,-0.00008705110204315752,-0.02842953663410224,-0.048212053659207915,0.04030085998549802,0.014963018787122234,-0.02742340563119668,0.05953202468982388,-0.05081320540655313,0.07696221936757092,0.027692850304068515,-0.06476422581967975,-0.08275928649396536,0.051196174767517005,-0.06356170609104904,-0.020537527987478543,0.0398060447593475,-0.03974690113679101,-0.08307196627109528,0.050131260789983347,0.07676967771177211,-0.02592433614794366,0.03834484616892945,-0.08240505134284384,0.028219275213626653,-0.025904542678931438,-0.03156373793140923,0.0242861537146513,0.07282666771827358,0.08146858929123983,0.02137561907039734,0.027807111756054003,0.08107701197339857,0.02192932912256875,0.07843633555172504,-0.07645559799948821,-0.08451704802910133,-0.0034456378291368925,0.04282745226217455,-0.07242719468109315,0.07991291153508351,0.056455998148167486,-0.08614490818813608,-0.07167971909642425,0.06798886221097644,0.044267725406623055,-0.041970828849918346,0.033108033481999526,-0.021617484401166048,-0.03074802531423878,-0.03835572096576898,-0.010389428657980258,-0.042894581431408965,-0.054809434659084215,-0.05485493782914383,-0.08344386377952039,0.036945561662994314,-0.03273609734500805,-0.023751642909922408,0.07122571815392781,0.005758311395047051,-0.06231015012580399,0.07038062780880606,0.056506358881524874,-0.014624740784776862,0.0031664258581111018,-0.05732883673195891,-0.05849974699057263,0.06849411745306654,0.02585901894008543,-0.05282486133270428,0.0055840696476831,-0.07512200469179277,0.07191703291761295,-0.05819485996729331,0.0030698133987332424,0.06615235944490308,0.07788805547831608,0.08258718780611692,-0.06841870540577843,0.04251634579973291,-0.011477027546284423,-0.01338793627383791,-0.07257991082647619,-0.021724232420460413,-0.04366645262272452,0.05238696090169707,0.05781451316598257,-0.07091858877006582,-0.04680136395798366,0.06585727187414216,0.022192952784033562,0.08203778017206814,0.05004176185382532,-0.07816426360180453,0.07909377650337973,-0.06190443358235467,-0.04407481342169782,0.05741938350755432,-0.0063027168584729384,0.07927337748474801,0.03490683694041075,0.029170207119269657,-0.0022189749503953955,-0.019668947500238596,-0.04110338230378433,-0.05459844472954468,0.07704825660751745,-0.026436201097377127,0.06238601458216771,-0.027572796540892352,-0.07383727412840418,-0.017364662808570495,-0.005534467028496781,-0.06561364153880743,0.03749220102156678,-0.018298751005497396,0.07447811171159822,0.0571644539520033,0.0044065809308761715,0.029127611799568697,0.0421891659659082,-0.004108202322374241]},{"id":"chunk-7db5cddc-128","content":"Example local usage With ollama installed, you can run the server with the model you want to use: terminal-run-ollamaollama run llama3.2 (this will pull the llama3.2 model if you don't already have it downloaded) Then run your code, here's a minimal example: ollama_example.pyfrom pydantic import BaseModel from pydantic_ai import Agent from pydantic_ai.models.openai import OpenAIModel class CityLocation(BaseModel): city: str country: str ollama_model = OpenAIModel(model_name='llama3.2', base_url='http://localhost:11434/v1') agent = Agent(ollama_model, result_type=CityLocation) result = agent.run_sync('Where were the olympics held in 2012?') print(result.data) #> city='London' country='United Kingdom' print(result.usage()) \"\"\" Usage(requests=1, request_tokens=57, response_tokens=8, total_tokens=65, details=None) \"\"\" Example using a remote server ollama_example_with_remote_server.pyfrom pydantic import BaseModel from pydantic_ai import Agent from pydantic_ai.models.openai import OpenAIModel ollama_model = OpenAIModel( model_name='qwen2.5-coder:7b', # (1)!","metadata":{"url":"https://ai.pydantic.dev","title":"PydanticAI","chunkIndex":128,"totalChunks":208},"embedding":[0.0725691627210555,-0.011662037807683073,0.07928653920464453,0.04969655333036786,0.04390265471319331,0.0005673143326576903,0.045855089955924175,0.052531441262879154,-0.06799761224503793,-0.025863855912558114,0.08102290483695451,-0.0661117519722808,-0.06372376496632919,0.06259661808429211,0.03470259372132736,-0.005802782292621118,-0.047971624592951415,-0.0405507530304646,-0.051861409799491776,-0.04609068942561211,-0.08469677907641357,0.006240458742406432,0.050289137291905234,-0.059623294010596926,0.04799803334501223,0.05151470579674801,-0.023351551614896156,-0.0635783876503219,-0.06015713759971742,-0.06289039647702764,0.08277397469224203,0.02496077088196043,-0.0332415369302271,0.05165771672513776,-0.033387329961219236,-0.036819567129247395,0.05482188470450594,0.013664060340653475,0.027882155004652985,-0.05039074698265924,-0.06564999311159288,-0.04267927901301873,-0.051038622981772246,-0.05247854216303742,-0.06392521921593945,-0.047609301569272386,0.0511683395457414,0.07125172989225158,-0.009279985585014465,0.06114094329956123,0.029646058624223988,-0.06748034257821002,-0.019396607903101205,0.015711529402684964,-0.06354917210789253,0.04165073317407863,-0.07844848975102126,0.07722662046059246,-0.035463950124524295,0.016118985652788784,0.08175647238960583,0.015041396603508075,-0.02902782783392206,0.056108262589848835,-0.011786857394584878,-0.02667778552100982,-0.030962945300807922,-0.008618842885589761,-0.03303313626169134,-0.07538415131872454,0.05280640953161449,0.006018901601391844,0.04607904881849248,-0.003426590492887954,0.05030074111050799,0.0751915161871252,0.036655956741800194,-0.043190838852870006,0.0561364206400854,-0.011196145428952928,0.07985702912560032,-0.08344992073126575,0.06127657373286567,-0.02610309068577622,-0.00753466346750338,0.006638261584837385,-0.06882885420740885,0.060069151141426705,0.06208553208741094,0.055536981341796236,0.0686030752904658,-0.03855315605288858,0.06554203066413589,0.0343999477587331,0.004154362689575784,-0.06871716418138958,-0.00474751695520936,0.045745889633187535,-0.05654849854917516,-0.046083061893221755,-0.07134221920595145,0.009268105291852033,-0.01746285367952571,0.01665946129172443,0.05872097809979105,0.0846907379572101,0.0040066709574440385,0.02518105861081019,-0.05144336273966518,-0.04810967396136232,-0.028727619701782572,0.07962490282091922,0.014272589352894974,-0.07318004357729219,-0.0037857966738969384,-0.011523457799829308,-0.008342272166997133,-0.05809119787267477,0.055157325121332944,-0.03561643339205172,-0.0494738863259347,0.053639609371930685,-0.04742455429596431,-0.07039409110925182,0.020904779065757294,0.012744468330213407,0.07204242190110144,-0.02033217366978165,0.03936955357185625,0.020866533571325802,0.030596933031102745,-0.008796416721039774,-0.06983410450774341,-0.05488595398789716,-0.04456862386924517,0.06799979170693995,-0.06530393235857425,-0.07394753917125846,-0.033945826956599895,0.03951893706226855,-0.030776336957296424,0.06627312019222638,-0.06063459011716276,0.021462803832548005,-0.043106206618996584,0.02193740388452644,0.08036569741146375,-0.004826779803592584,0.062147979520390764,0.0057181223912836365,0.04922127054227354,0.0259455625991687,-0.04137294448803397,-0.061328536706790296,0.06274793778353643,0.04301445110183924,0.022833820801136915,0.05350201042338653,-0.031044597269343173,0.04973739986963429,-0.04843310688589582,-0.04598131073415506,-0.06757350966498,0.033587497168291285,0.042582825905686836,-0.008575959087144334,-0.00011830309100856548,-0.03442318694072401,0.057847732249408666,-0.04035813423586186,0.052487036317480425,-0.04195206139570894,0.07316596513706485,0.006830027344866054,0.08492665745119612,-0.0842978105203061,0.04924619546517509,-0.04519431502692951,0.05039239391540021,0.05244235179639448,-0.04914642913898427,0.0848375758285391,0.08344564804828956,0.07630826489111887,0.06749457474691009,0.07949140962592655,-0.0668263668376458,0.08021178829404271,0.005390359263775653,-0.0647948909715979,0.07818069351885577,-0.0488169455049104,-0.07180388664606226,-0.04144986579129351,-0.06315332585800836,0.05151881442592879,0.00917258573000389,-0.06944896394192712,0.07776654831794677,0.06260836574194314,-0.002996653262198062,-0.04327625955719102,-0.0384789618247251,0.012714258630167077,-0.07063198878181855,0.042255474137185264,0.03181972013995631,-0.06264347202597594,-0.039349254908494946,-0.06570890134090326,0.027424881920440465,-0.06638219735734177,0.02731796334748171,-0.07078133826249212,-0.005180286568055645,0.07180888568439533,-0.07946005007023113,-0.02853036649505881,-0.06819140115790648,0.008183170764632269,0.07020757642943977,0.07514512028039941,0.0060417405155737715,-0.08038118746710562,-0.04805636110255744,0.0014401503355351212,0.009522625310254844,0.03228309192235906,-0.05958482865980615,-0.0838207992109292,-0.06608831759666958,-0.03401743628458344,0.0731106266253156,0.08371547159518103,-0.032190411265067456,0.055963472369051935,0.007870889568431171,-0.04803373051219675,0.011697935540242293,-0.07668081312995362,-0.08060084661140902,-0.07542582985037982,0.022345885807694456,-0.02371910285048045,-0.05901658018015399,-0.02526478037594103,-0.03560407254538174,0.04362494541639964,-0.07122174456436194,0.04441812440714285,0.016591717030006167,0.01641403834967456,0.03883490525603007,0.04647537520110918,0.03632556552082594,0.01387187242178909,-0.06255550074301476,-0.07830052462669185,0.06273750075745153,-0.030962626235306528,-0.07690709942418651,-0.07815953230239765,-0.07640144511827231,-0.07164550697602819,-0.013032682282414509,-0.04648202976171563,-0.010163721969815579,0.01768445380971269,-0.05251655785114349,0.02432260247860648,0.0836572118722895,0.06963059533563382,-0.07520680204919195,-0.07797214949976021,-0.04933333171386196,0.029236746786996268,-0.012732944438331645,-0.05587772827426685,0.0843342119597031,-0.03379260496072839,-0.03406121480038753,-0.005320465309356686,-0.06790950713472131,-0.02259802144075488,0.023306707347674975,-0.08205336660845518,0.07421659106690626,-0.034947581691700695,0.0304077897444843,-0.06910704437146241,-0.03193834237850199,-0.03433938826056118,-0.046330659106188485,-0.03008406816339471,0.06462183989786593,-0.07501246706626594,-0.0751432370366182,-0.0224303340463932,0.027871468492149245,0.043387694147344114,-0.03214922839540506,-0.06285956569114885,0.07667761845170767,-0.015778633632816973,0.0794259644130566,0.03669300961355329,0.0694402116827409,0.022096435798008043,-0.03510261015844774,-0.07633469016037983,-0.0021979878451978334,0.008603884061148074,-0.05300810962960688,-0.012943548245304715,-0.04126582622459858,0.007345751621241145,0.014396084739615098,-0.07185926134302305,-0.0074255466851555945,-0.0660068370855774,-0.08192815469789536,0.02250836217243428,0.07659320085892245,0.025109650407753002,-0.017991792119218204,-0.0762496337932976,0.04250650371630392,0.03496154285949883,-0.03139135709525972,0.07961906123022769,0.06807029551394567,0.03833641752746297,-0.07399296587775601,-0.008421773850479396,-0.03700043210715152,-0.05467922893319665,0.008066311227548265,-0.0002344364277754732,0.010495381225542727,0.0034762578890766608,-0.0472761475890365,0.06361068785610023,0.0035170640677467608,0.030866961263842134,-0.04509795272723306,-0.024570842893711583,0.028570009781472377,-0.06283064554299142,0.045140481869317274,-0.0198625428662578,0.03526227831889041,-0.05120605771057999,-0.002340298869486751,-0.02381347510621414,0.0261186875121054,0.06923288185004192,-0.04001335038749931,0.06623745332732416,-0.026181026940321712,0.007567688969674661,0.031536250028321736,-0.06263417393721168,0.06881678879530631,0.030492393999877743,0.035570664004846764,-0.0330284650024551,-0.06331539304682225,0.061283514593610595,0.06419358112800463,-0.08066602860977676,0.0009276333186864299,-0.08291639893303482,-0.08218189053546698,0.06395438198054396,0.010307704550161273,0.03393654841701181,-0.025309213210244652,-0.02013469065038545,-0.060306267366548164,-0.02233515784081087,-0.07543707274960271,-0.028161943941967135,0.031835033737838844,0.077368618526403]},{"id":"chunk-7db5cddc-129","content":"base_url='http://192.168.1.74:11434/v1', # (2)! ) class CityLocation(BaseModel): city: str country: str agent = Agent(model=ollama_model, result_type=CityLocation) result = agent.run_sync('Where were the olympics held in 2012?') print(result.data) #> city='London' country='United Kingdom' print(result.usage()) \"\"\" Usage(requests=1, request_tokens=57, response_tokens=8, total_tokens=65, details=None) \"\"\" The name of the model running on the remote server The url of the remote server OpenRouter To use OpenRouter, first create an API key at openrouter.ai/keys. Once you have the API key, you can pass it to OpenAIModel as the api_key argument: openrouter_model_init.pyfrom pydantic_ai import Agent from pydantic_ai.models.openai import OpenAIModel model = OpenAIModel( 'anthropic/claude-3.5-sonnet', base_url='https://openrouter.ai/api/v1', api_key='your-openrouter-api-key', ) agent = Agent(model) ... Grok (xAI) Go to xAI API Console and create an API key.","metadata":{"url":"https://ai.pydantic.dev","title":"PydanticAI","chunkIndex":129,"totalChunks":208},"embedding":[0.048183527635014795,0.01014158131557502,-0.0077561804360103855,0.05184029873570775,0.07852935299151913,-0.07830058391512866,-0.03478563861753674,-0.03363693396805451,0.012428788954768852,0.05606052308402469,-0.06257024685275359,-0.05033986590227088,-0.060856666771099334,0.02979314798272651,0.0092439592608613,0.06696616415210074,-0.07348377220319396,-0.029807454881521814,-0.0850632342158256,-0.006474167627537296,0.06062298263529617,0.035514901583909186,-0.007833575140304291,-0.050619846186026884,-0.020853975466189716,-0.05728462457234903,-0.05352732456217307,0.04936966956032969,-0.04148955880358797,-0.03668294924911717,0.06971514825203523,-0.03704197775612265,0.017805304913636927,0.06116813276336858,0.05638402935572705,-0.03317717225173732,-0.03707908381066213,-0.02681049825014463,0.0742241739299482,-0.045018636268286435,-0.05474431205997928,0.08802528816109598,-0.07962835930544077,-0.07348184329296371,-0.07876366994942044,-0.04637285240925992,-0.0528403331377419,0.08964923772839084,-0.020620979985181732,-0.08591430380397827,-0.06983064333601649,-0.015685641497658786,0.08369951058081174,0.005070894417723626,-0.04205460407070866,0.061472389776001404,-0.019211088745749512,-0.061571494442194265,-0.07382873325103041,-0.0651387392399757,0.007809993637711537,0.08054395307014614,0.08386112237925226,-0.05479519550372479,-0.04227670559765583,0.024940026055457414,0.03224866548869776,-0.07995589669915391,0.047429567691061936,0.030378720331820337,-0.03708381201145233,0.0081262298854428,0.008914563056076604,0.01082005065928822,0.06836795103064845,0.038605472815639,-0.04598850620684882,0.043919962792781445,-0.0494427831485557,0.07480977375126785,-0.037851514823051026,0.027173537099316962,0.006910192677047903,-0.07669498782399901,-0.001195759909398477,0.08843072088058164,-0.055886034324262375,-0.07142432170351376,-0.03434000792930364,0.06824558882078109,0.03796283032807028,0.059508468263077846,0.046548888389699214,0.002711996806715499,0.042447350517422176,0.05067111080125094,0.01629710272822333,0.0878019744985894,0.06654002415232056,-0.016693569991241285,-0.03218517927709979,-0.007427755811659216,0.011297976378123792,-0.03866377216629169,0.06316163400459031,0.0333871728174315,-0.013807671987745386,-0.009491602281256747,0.012942164524706964,0.033394447414421435,0.08621155830021338,0.08177161125739801,-0.02368037073165215,0.0005474890066987269,-0.008211998807931668,0.05415015141044253,-0.08300632405148034,0.012351986906459271,0.02278558615753506,-0.024460372336557137,-0.020348018149755513,0.03782998340315727,0.08477825784105608,0.04084862950767683,-0.02732241174442678,-0.08210640791755527,-0.03848334284282294,0.04947511304947106,-0.03774870167525201,-0.00038589277254417266,-0.009351107518784367,0.0881423309341992,-0.00849235023935094,-0.009270848288015953,-0.08938470017116462,-0.028784500159300078,-0.07749950680368933,0.0010688842886131787,-0.06902649665733737,-0.019937563726894383,-0.004463798661170959,-0.046839640142865645,0.08869256812421979,0.07276074410393185,0.07097799083604737,0.0045941684030758245,0.08620646301360045,-0.024766143597789652,-0.07995299122176683,0.00854239047770664,-0.02578338614019466,-0.05988816520499436,0.0450424202647225,0.06890964956976967,-0.01711071991737311,0.07558011993257438,-0.06074945777259294,0.023983893389719613,0.02962778447249292,0.012939973020105635,0.05381623990866542,-0.02733503464734682,-0.07188340439230557,-0.055693199738388384,0.08877800137089843,0.04646454254537112,-0.07277304967106374,0.05250668720906546,-0.007701631973354252,-0.002982825835134666,-0.06991976205559278,-0.02678105161457011,0.024975475988988863,0.010857282270566216,0.06058420031503427,0.0360521213112371,-0.010564233761044787,0.08014716052983996,-0.0666322827070324,0.015070414702318206,-0.028307310601733665,0.0835873331752959,-0.053149773904636766,-0.051644617832728626,0.02634563367500253,-0.027772101534595757,0.030280239644187266,-0.03489557373517151,-0.08062382636608766,-0.03246863296268056,-0.02734796105187304,-0.01400161533034296,-0.05254277972422879,0.005112137510415657,0.0390549234635908,-0.03414123784100404,0.05350479631994186,-0.040919134392313664,-0.08786600422971527,0.08393616262207916,-0.07100811234239852,-0.08959182383463575,0.07314213206016769,0.07121658256611031,0.06827190013145254,0.07689520120450766,-0.04010390370756988,-0.06509759908336683,-0.0854974975687188,0.07355510896696288,0.029363513827057205,-0.06385806853212575,0.018628382706517434,0.07452996665278727,0.08528731575285206,0.05660410291653858,0.015355577003992598,-0.04972770883393768,-0.026190327357016242,-0.05534156774252732,-0.049833867470230477,-0.026420770214993526,-0.0670293606188537,0.020250027726375623,0.016794102793478836,0.06347693191280347,0.08011474416772979,-0.04896638739978721,-0.06673312629105663,-0.025527934842634756,0.07757669018817108,0.017605737143776317,0.04477843954270039,0.055090395289747844,0.03418501605043536,0.0031316111039890364,-0.027349428878259113,0.022022499220423406,-0.008793377476110718,0.059141193749746364,0.03798717030389476,0.07322823706207288,0.06373108596048598,-0.07194987603708745,-0.06180831208642676,0.011206298999364287,-0.061335332163628006,0.05475757117303914,-0.029686074419640728,-0.031602130070221904,-0.06757543295517214,-0.0626850007168403,-0.007211537101404412,-0.05754382441641695,0.03997530671489917,0.059605513572990876,0.04911335274026818,-0.039638420757556095,0.058312733913702244,-0.06028926283717991,-0.057609417671964536,0.006962386468880726,-0.08888025603195951,-0.013786193173588182,0.04502970244327009,0.030443258403145167,-0.08316403853472344,-0.0035723771911148343,0.06084583319917103,-0.0656493769070534,-0.04025778044983801,-0.0162602488526818,0.08261615839085806,-0.030093465828563135,0.05562743261979489,0.0457468082019983,0.07621899285062742,0.08002663474332335,-0.0876365585593406,0.036189916737234484,0.0033138291106765065,0.058023451302777515,0.0021750884695390183,0.030902208604211983,-0.0016753300401701973,0.05860774142296185,0.08577346811044213,-0.029419672645742852,-0.040621289400979615,-0.044353509690826305,-0.015679266202708826,-0.029981965124996235,-0.04958483744557034,0.01253220752255403,0.02093317423457579,-0.05847053822685742,-0.04295861038985288,0.01830774772487314,-0.031039775846542283,0.06845313935246324,0.08102796126984126,0.0060113161401946094,0.022067788493980944,-0.015041358722226655,-0.004303170168779086,0.008855635844146366,0.053131565884341314,-0.02820930877180174,0.08434669707044043,0.06870946042385329,0.0730345948663568,-0.04677100582756071,-0.0738213530777127,0.050767632295634926,-0.06310556970612642,0.0422767463684399,-0.06184457072244516,-0.03145288621248596,-0.030129127752177864,0.04538859701632958,0.0037867599187754696,0.03576917593937788,-0.028920311806312243,-0.08575965688968963,0.04701889105414378,-0.06885167567029407,0.06284776091654652,0.05326140137557832,-0.06547027517015151,-0.07634585729182754,-0.012636642425504494,0.0323869774173677,-0.015035190078197147,-0.08533123986449255,0.0267827530717457,0.0041285517004966,0.01848306769499731,0.032873679291722566,0.03942172675284431,-0.06246990987451404,-0.017561536055972393,-0.055752419376679116,0.006782669005259056,-0.03081144741794795,-0.06906421904932179,0.021305615564423928,-0.030961089708886686,0.013320325010123629,0.003882388467053489,-0.03567495021641987,0.038662201438248216,0.07344777205701382,0.05905225049303676,0.08706454058834352,0.04813039808785946,0.08077035705937549,-0.02342421417703745,0.044989948665622795,0.0016773157875151095,-0.05793174015813142,0.04704084481005418,-0.019591392454131315,0.006136602524197822,0.012231257134825728,-0.0019124321105509798,-0.08411804966486879,0.032773083818882935,0.008021290304838103,-0.06932051737115356,0.0008779595543729382,-0.01650100261219624,-0.06264618757083672,0.027332989608410452,0.03797834815370025,-0.04193151212147392,-0.06584549734405316,0.007247304685743663,0.05926512715226396,0.06343481220917417,-0.01672966516186346,0.003856603160587493,0.03337639885704033,-0.017716831396463906,-0.08469623984736772]},{"id":"chunk-7db5cddc-130","content":"Once you have the API key, follow the xAI API Documentation, and set the base_url and api_key arguments appropriately: grok_model_init.pyfrom pydantic_ai import Agent from pydantic_ai.models.openai import OpenAIModel model = OpenAIModel( 'grok-2-1212', base_url='https://api.x.ai/v1', api_key='your-xai-api-key', ) agent = Agent(model) ... DeepSeek Go to DeepSeek API Platform and create an API key. Once you have the API key, follow the DeepSeek API Documentation, and set the base_url and api_key arguments appropriately: deepseek_model_init.pyfrom pydantic_ai import Agent from pydantic_ai.models.openai import OpenAIModel model = OpenAIModel( 'deepseek-chat', base_url='https://api.deepseek.com', api_key='your-deepseek-api-key', ) agent = Agent(model) ... Perplexity Follow the Perplexity getting started guide to create an API key.","metadata":{"url":"https://ai.pydantic.dev","title":"PydanticAI","chunkIndex":130,"totalChunks":208},"embedding":[-0.027209903119879576,-0.06430366370644457,-0.0346290201519326,-0.008313313709559934,-0.018342854257073236,0.011806090240161835,0.08246970634655575,-0.08606904226060497,-0.010849187295608138,0.002183089348656475,-0.04646343624495313,-0.09138339510499598,0.0069588069905199244,0.043113958217351485,0.0827591644681697,-0.03742066731122941,0.08499682261966231,-0.08009778099373104,0.030429227562264644,-0.042103466811398024,0.08308457036546346,0.07258942718808978,0.0751590985617078,-0.06954925627463009,0.037848909122176276,0.03942621792523121,0.08384290188672948,0.04494931540331859,-0.0012019771309182109,0.0464726038645645,0.05304791510365457,0.018357684030900618,-0.08021921784428941,-0.06374089022642869,-0.0188084930352618,0.016539164332983625,0.05035484477564807,-0.025710985251957676,-0.014318131259218688,0.0741324212999239,-0.054905330888771454,-0.058275214647465476,0.0818427552122779,0.06469185143565176,-0.02061938753781191,-0.0092570971818302,0.008106426443201059,-0.0028623896093025085,0.04317851447583484,0.023879820231625163,0.04646322567671436,0.0042670901394488295,-0.02639095998869519,0.009585747454859869,-0.00768307093776901,-0.04672220014572094,-0.012195204977088894,-0.02547737486775765,-0.08581270215393688,-0.05446610145245369,0.05780961804791952,0.0003929833695883759,0.0392975568474936,0.06155733642873343,0.06985552901257513,0.02437070040498216,0.04782884495781948,-0.06472015943712392,0.08055511850852293,0.08120658598868125,0.002696537340217975,-0.03556256773338317,-0.03430339259262752,-0.06488199469499592,-0.06835827481967373,-0.08645649181136345,-0.057758339761955275,0.05518700258609114,0.08632278214324131,-0.015107779298551538,0.02463150409408521,-0.08882695536933144,-0.0332450937182531,0.038750187673081214,0.016306685161657987,0.03327723306407425,0.013039967120211889,0.027174869382046482,0.025652909226872442,-0.0764465252340746,0.06241451968024021,-0.0903481469980952,-0.036857186125205,-0.009298682196093718,-0.035894239874716564,-0.04923991623390209,0.04710220839621908,0.02936498087136568,-0.08889838646339819,0.03923774069082734,-0.02051251206724373,-0.07932233645048167,-0.051164761279657946,0.08900742996764288,-0.058253091713872975,-0.007109599360344286,0.07151199072691262,-0.04391209540296438,0.03497141799083103,-0.03623987478012899,-0.015571951621000685,0.06730938192473426,-0.06990115673098711,0.029510677261381464,0.058036685744673105,-0.07323173406688045,-0.018587000476969776,-0.027318278883271055,0.09090444420793588,-0.022118556603948417,0.07972000401447278,-0.05409201907655728,-0.0015999533374700529,-0.05671947876286896,-0.016927302357864375,0.053809776364983346,0.032214136882405514,0.0869248769037041,0.06386788825929282,-0.028619343743005263,-0.029364832333505998,0.003067800863227087,-0.07899025140968785,0.09089553261052385,-0.05851236235214768,-0.08125210691993395,-0.06496930710108109,-0.08295012249019082,0.01376760303804767,-0.0733999023862938,0.020288593709374476,0.06519181290006193,0.08654247332212946,-0.009749101057406073,-0.02028877138648985,0.05534390427458677,-0.004695000883088456,0.02718785570004493,-0.07084849926848087,0.08958834416663153,-0.05570620762856712,-0.00006604442696900288,-0.03103716800132379,0.07210892256707681,0.07561677177444542,-0.03024843243272421,-0.04345386940287931,0.061435131302973164,0.05639043729997769,-0.07275781912591545,0.050998453905540295,-0.01402141134310968,-0.013267974470355432,0.024273441611652204,-0.044453674518885086,-0.03192445508110917,0.086492988753755,0.08465556417029198,-0.06632208473549765,0.03454879005492068,-0.0103248451895385,0.026507326296691128,0.08730372082425865,-0.052328591482478724,-0.03593547342960488,-0.005725731906525307,0.024758438345865424,-0.06713806452743108,0.008717609077827468,0.030743105002791822,-0.031036678729052854,-0.009111685064827187,0.0069763474412589755,-0.07837511345637752,0.07065923396060275,-0.06243859971108719,-0.02139019028568169,-0.0033719190658818574,-0.013994686428822165,0.0021974801089611907,0.04565300677300148,-0.055528025162625914,0.029105483813878164,-0.0674390457850796,0.0247139838735022,0.0014073359035506282,0.045770783481686464,-0.01908443105615714,-0.03785061967086409,0.01914846191025778,-0.020236945865108612,-0.012750945252184195,-0.012354051958295949,-0.038680042051346786,-0.0036834939011586615,-0.014825742622381781,-0.008410811434498112,0.04879791625368302,-0.07360895018994121,-0.06855525046363563,-0.013526866399273071,0.05199679417767154,0.06767739656999552,0.03559019724084705,0.013358900494362417,0.032126275245535046,0.08631955552134338,-0.029454417920985836,0.0026955271548626254,0.00252072451875383,-0.03728930584255471,-0.010350703308027911,0.07763750210599948,0.06875177881226462,0.07504242496228206,0.03333189713983781,-0.06155188469782987,-0.07433380675949933,0.009166934150478758,0.017164659491634936,-0.03597869179787826,0.06520462239720459,-0.004275232799245873,-0.06511191023162921,-0.09129382005384451,0.025435504784168287,0.06742738082702854,0.08050555083227688,-0.053709225271727216,-0.04793853489861408,0.07272002726407206,0.05522881622333118,0.01827466064237183,0.0419664544565958,0.002787537380091326,-0.016231147765533374,0.025055608717891104,0.024624216917986295,0.006070962649076424,-0.019561204197120107,-0.07223805028260945,0.047367763874123746,-0.017791589519739328,0.012590403877081274,0.06775870000282029,0.03836781697654361,0.026156830133149286,0.05561216999008023,-0.08927830985423603,-0.08818173294116322,0.06080078759029319,0.04849958391626583,-0.08751917654371029,0.02935591377704639,-0.08941255849366123,0.06812899247808198,-0.0380477749530843,0.039369511117417016,0.08000391320242008,0.048676567301797785,-0.01391078659899577,-0.0714470652317461,0.013600882941140868,-0.05851543926185134,0.052836443849734856,0.019338246395418732,0.006051170674515635,0.027012413806543394,-0.05656278970113685,0.08814628044003398,0.053355693368559755,-0.008035362587364318,0.07573515598196355,0.02669398265765354,0.04055160690078404,-0.07309745340418054,0.06833099982068624,0.047966014771172155,0.02848519436582673,0.04433064993786186,-0.02479041477658648,-0.0704024190443008,0.0857745993352974,-0.01805649559510719,-0.01592810531105901,0.015731644984625197,-0.07041719526828327,0.021536363142802255,-0.03343191399981615,0.053540523981737566,0.00011416155862546177,-0.09022864486590094,0.03917413545235065,0.023746386818524402,0.010812870762358642,0.006784265834910985,0.06932815619846797,0.07615038434807475,0.043991582529621306,-0.02477694237186121,0.02556907331603196,-0.050672069137125415,-0.006098865573190377,0.041054391159897945,-0.03903178468955768,-0.07988560998843974,0.07855877133221294,0.08154047969375541,0.07179653611552267,0.04893658522207385,0.013993545188039157,0.08543075444021259,-0.04109226346061759,-0.04914977342691011,-0.003797201129782656,0.042098494471804936,0.046205234255074515,0.033319804222079225,-0.05991745100867225,-0.03865811170962764,-0.06322639994782309,0.046855426434714104,0.05954843162916507,-0.021207616086259855,0.0114118024441807,0.03887682643209674,0.057747433559283745,-0.00014227190555820882,-0.017498367481425615,-0.05052468364526485,-0.05823842806672359,-0.048212770865050075,0.05266461682819608,-0.07600797003547964,-0.0029156345190969398,-0.03692382647495285,0.022681599462645915,-0.007199518545974568,-0.06339870325358395,0.037431853094244336,-0.06764819528525838,-0.03924714723629407,-0.011619200155183572,0.0679368580850398,0.08253935665088494,-0.011164202962417687,0.010101725731491255,0.014432262093549414,0.0406905417845491,0.07352659428842052,0.015448485655587062,0.07514118131089546,0.031008003104742554,-0.022917705915987102,0.01638928927880436,-0.08304347983218881,-0.052356446249411416,-0.01799951833358664,0.08869523954292205,0.05593686580639153,0.04070873145747476,-0.036796548329480344,-0.05444805175220725,-0.02589883388544033,-0.0017983434268845062,0.04828774463509833,-0.08484760282800989,-0.03643444740568759,-0.05968973874284007,-0.01810829898823327,-0.07219863584303737,0.04434566932414193,-0.07177725158565415,0.027366221642988724]},{"id":"chunk-7db5cddc-131","content":"Then, you can query the Perplexity API with the following: perplexity_model_init.pyfrom pydantic_ai import Agent from pydantic_ai.models.openai import OpenAIModel model = OpenAIModel( 'sonar-pro', base_url='https://api.perplexity.ai', api_key='your-perplexity-api-key', ) agent = Agent(model) ... Implementing Custom Models To implement support for models not already supported, you will need to subclass the Model abstract base class. For streaming, you'll also need to implement the following abstract base class: StreamedResponse The best place to start is to review the source code for existing implementations, e.g. OpenAIModel. For details on when we'll accept contributions adding new models to PydanticAI, see the contributing guidelines. Fallback You can use FallbackModel to attempt multiple models in sequence until one returns a successful result. Under the hood, PydanticAI automatically switches from one model to the next if the current model returns a 4xx or 5xx status code.","metadata":{"url":"https://ai.pydantic.dev","title":"PydanticAI","chunkIndex":131,"totalChunks":208},"embedding":[-0.06537943180821373,0.01448895289246521,0.06577844561694401,0.010091355823479847,-0.039675759344580716,0.061389030912240274,0.08805007159734561,-0.07877796466482256,0.029816917113714255,0.06497979179652774,-0.047057579852853006,-0.03394593814777782,-0.08718196003896855,-0.0674819088144691,0.08127524478916315,0.015105699774990216,-0.04394371387730632,0.04461071306924908,0.000332390160808583,0.0813940551312125,0.07509150778494378,0.013807878595184855,-0.07157766234080083,-0.003958264649389302,0.07633691026285894,0.03561558333070861,-0.044603788554557676,-0.07816894764218331,0.004318251207676223,0.002036544989102683,-0.08599967545475501,-0.03250395944023725,-0.04122236638859718,-0.05659267495565006,0.06117970297664031,-0.023412645466915846,0.019840927982491978,0.010833272795071925,-0.08647560355682568,-0.02348048397851009,0.0026959660625427225,0.006525731786480674,0.01110901168909461,0.07053374632224237,0.07029584316405892,-0.08176849998163332,0.014975034776013176,0.0554482270077208,0.04325113818663157,0.05631151129349565,-0.05280607766873967,-0.029908250293097103,-0.014743487849813565,-0.05071129231648122,0.06937569940402345,-0.02932567235241475,0.024936906891813646,-0.0113895522618276,0.03599128558170682,0.06785571195045055,-0.0034376266752493773,0.04096581999538335,0.0798907685979008,-0.05476735201982241,0.02217507212862441,-0.07966025482687752,0.06922478891105487,0.06521603241633904,0.012064356586292376,0.06943586451957696,0.04465981392794674,0.005356607512924915,0.05775520944239944,-0.014856510876989798,-0.0816892390821615,0.007716164485992553,-0.036736660413793164,-0.05996664250057497,0.005934220973370946,-0.0050713279810960035,-0.07353841057437749,-0.07552266768796975,-0.03885544435642378,0.08055530517800544,-0.07072812374469935,0.06314731368928432,0.00038471723792346947,0.012547954272649134,0.005917926212336492,0.054651172135959526,0.020098570372899867,-0.05721478030833497,-0.04361659916793599,0.06843999542229061,-0.019497035300661797,-0.04337576591216851,0.023615585884142715,-0.014461975355668073,-0.057369570469234084,-0.029645119247314958,0.02200521759420374,0.07331930935796314,-0.08243159532595153,0.012954962971971665,0.036546464020374925,0.010628992474449612,-0.031095568189793355,-0.03147142394364327,-0.07766686653117087,-0.04462473963530462,0.05714547968907904,0.07401688097771318,0.0638783970050875,0.08418302812924851,-0.04544066725521379,0.07635690853003234,-0.06164749483569387,0.0273392865195301,0.01131159312112423,0.07046435564975605,0.03718120684966581,-0.05350695434518732,0.06832848590423408,-0.017442567155261535,0.07781259336794252,-0.05737725954790651,0.010737635368293917,0.039554701975466434,0.05003910051572694,-0.040465195824613845,0.03209996062653836,-0.001566670321925106,-0.08193680320729135,0.07916353422346062,-0.08645096711901278,0.026245359644352675,0.04511935995247615,-0.08801978773963821,0.008922280518159431,0.06379413394648734,-0.021886871594970957,0.001196713524380256,-0.07983664603834792,-0.04469139441309095,0.07532706996931454,0.014430230530403244,-0.08783404604661378,0.03311460774783729,0.07306539268125421,-0.05584570812270449,0.01300044952651398,-0.02356752059137739,-0.0389996143037473,-0.04941380430435743,0.06841262994667145,0.014091977411986683,0.04652527375343847,0.07869125757096627,0.04553435340301362,-0.03229105372120859,0.0015270613360416263,-0.0544150062401961,0.0069067311022733575,-0.024540019938595885,0.009591956687454287,-0.027428419154264562,0.07698447032133837,-0.0648354963608697,-0.06516696022670146,0.05907077032145584,0.0653293192182536,0.03943161548246226,0.01931220894986247,0.046897757537428426,-0.07921389731130862,0.020121225248723718,-0.016518723400791135,0.00016574512252739455,0.05698765274286833,-0.04598283706535124,-0.051035437345170645,-0.06947243301603369,0.030009983493524878,-0.054632669483348356,0.03483034459637529,0.000019927427295138875,-0.003603281903738919,-0.08424699829710651,0.0034635889970831765,-0.0072244140953156046,0.02951754714016384,-0.04197954049605883,-0.07343441983480115,0.008497424077277405,0.02858633279250052,-0.02928867878462584,-0.02921252272066308,-0.08600817245936235,-0.07380997079591654,0.05344558007400479,-0.048726185616009374,0.051966963800983264,-0.027648857598371913,0.041572263847285906,0.07319115078969439,0.08605146979439335,0.07192183911323416,0.07191927423310696,0.06258994001372316,0.02804800620005618,0.03682071693627983,0.024731455732601066,0.017117363838351846,-0.08513345534804716,-0.04833600519194349,-0.08674878957996894,0.020624205855523336,-0.029507168436215724,0.010245580664145076,0.06964236381194593,0.026203705250000816,0.002588311492719763,-0.07023075417507721,0.07989921373667166,0.013099070688331287,-0.061603633000222424,0.04149236994527475,-0.03898184376944673,0.026925176419334323,-0.014397789610398738,-0.010834368207289573,0.018358863975395042,-0.021983050370867955,0.01289635199108912,-0.0735176050803443,-0.02988647360902238,-0.05333353420843584,0.01768186985711422,0.008634731767111294,-0.046697780474663976,-0.03918498324402746,0.029956424022060082,-0.017194768433083218,0.007104311102734307,-0.054081832032694795,0.0031890966921856033,-0.08078045083878578,-0.04573324964495293,-0.02091149912773836,-0.08744343418737305,0.02032489234708168,0.0034371952002362712,0.0255189090636945,-0.05375346246705951,-0.04739481729044338,0.07019512054596316,-0.03798337065155015,0.03342023770063879,0.02598621216201031,0.023454999259974747,0.06094185056637495,0.0811892841368941,-0.06156454518817042,-0.03731627877639025,0.04688063432204334,-0.08144441477467633,0.06984124934634138,0.051734963803264346,0.05326057533592783,-0.07359482428493101,0.04126463134315143,-0.05879203264532876,-0.03603386310904959,-0.03862362908271219,0.06905670525796724,0.07691650229355346,-0.00570494892855791,0.07948629862114039,-0.034284063542787846,0.07525128906415811,-0.04651215447373531,-0.03786128470390465,-0.053759976550443095,-0.07368815980233365,-0.059734900030380414,-0.04659569465072272,0.06107604523644596,0.04290228696491065,0.02188928726647326,-0.06829059766229785,0.07045372927982617,0.06783467052785648,0.07413045091190625,-0.05253096981073898,0.019011639242731058,-0.05689217665371846,0.08075266119648727,-0.08662965478193747,0.005399359178933908,0.06678588021800744,-0.06379349724663305,0.0560527873398589,-0.061079668811721326,0.02673854767401948,-0.02933652580909231,0.023904690706570662,0.04903519257722708,0.04437344996802502,0.04633500908118407,-0.06683446414651027,-0.04360635079924983,0.04653180388409614,0.061529305119204514,0.06187968984114592,0.027391513920771125,0.06941105207691833,0.03192931147805721,-0.06938759380175614,0.05362742706804111,0.08167564502041437,0.04775860172812302,0.02094490347778994,-0.019452522193170625,-0.07373974947280024,-0.05656659358713508,0.008709650502597885,0.011066090305703354,0.06846135123266073,-0.08162156744049724,0.044936696218541905,-0.01635239309113777,-0.024298640940308223,-0.005742385871997803,0.013498240725122667,0.08113283510176453,0.03847288074202993,0.007276017492929314,0.0072545469404433115,0.05847175068072367,0.06418856914986933,0.057910723016248514,-0.060838347228542373,0.02321998235587204,0.009583547798686467,-0.07009214318933708,-0.02288298947685953,0.04703433612943761,-0.0672778426669095,-0.06704632159517526,-0.02727506737142914,-0.02011536078023089,-0.04583598968564492,0.025562310587354854,0.055150195487401216,-0.049241932458711106,0.06467842958712441,0.029884893196188377,-0.017126860671610414,-0.0018920748521483177,-0.00011564477001241217,0.06385852784507061,0.07286209186792202,-0.06325511294073441,0.022902880037120044,-0.04242307278253111,0.01871267729472729,-0.019240413290279007,0.05805344595216145,-0.08725376092535705,-0.028686864249521417,0.020011601977326043,0.02930325156283561,0.0808970486059567,-0.04073560654510012,-0.07411610423781487,-0.026823704101379606,0.031072581770308614,0.07180789110486087,-0.040673409451665046,0.05164928263215594,-0.043349383722255164,0.08470602981268822,-0.04720819964419456,0.010764328743677724]},{"id":"chunk-7db5cddc-132","content":"In the following example, the agent first makes a request to the OpenAI model (which fails due to an invalid API key), and then falls back to the Anthropic model.","metadata":{"url":"https://ai.pydantic.dev","title":"PydanticAI","chunkIndex":132,"totalChunks":208},"embedding":[0.07658016450830565,0.038926581085017974,0.03901026494222274,-0.08628819693607438,-0.021520873274567007,-0.04028892270595354,-0.06269969378624421,0.01696936479049367,0.026966325238830965,0.002003954086328887,-0.08061615700306451,-0.01311175155202718,-0.025524956990592918,-0.07440099724954478,0.013327468523652847,-0.04411551019421165,-0.05278364746441657,-0.0320065572604562,0.08273638484091149,-0.08320595231453475,0.038861864162506546,0.054514111924022335,0.08263950621685208,0.06878413510299096,-0.06737171476942892,0.08251115223690819,0.005909912969348511,-0.04907949017576353,0.02952140386073217,-0.02745727070040836,-0.02704105422456733,-0.03368076693361692,0.0262965490871896,-0.08185635014808312,0.027634848667525577,-0.044031940835346166,0.05648095786349569,0.019234638261737002,0.0455179357715851,0.06525710444589847,-0.014552120051021654,0.0004518563444926926,-0.03865705582845465,0.023200133769381057,-0.04401802757619754,0.07146378287891468,-0.03625328636438282,0.05278579375266335,-0.0782886139607205,-0.07412604325843003,0.0640287058368958,-0.032311945579928274,0.06485836087723659,-0.011663050984626359,0.08108620004202807,-0.036883777648145724,0.06238313296693461,-0.04637678986951878,-0.08199540385209318,0.07428962550982703,-0.02239782744835958,0.024015858329761833,0.06291292854087394,0.08571787332570854,-0.07440187625735145,-0.052246132057096495,-0.017220751163403623,0.06324882831226794,-0.07651248834588446,0.027318109025433846,0.06368954953377029,0.061976721180751246,-0.042831563517969476,-0.010664697042228407,0.03364655561397662,-0.0410059845530135,-0.06860718964242768,0.021062804890743542,-0.06960108457804134,-0.0012764087046870996,0.06358201877508787,-0.06319258807801376,-0.017774756928616818,-0.06230253888898452,-0.05315323803559337,-0.00006202703340819992,-0.04708130498025055,0.03214437796309177,-0.07414879126729011,0.048374181360090474,0.057918311596485125,0.026397901044116157,0.03881332487595611,0.08537651819140053,0.07983258776912563,-0.018673370439572616,0.07957588746050479,0.018658178487940144,-0.06262815763182925,-0.04452564707312438,-0.00688147745462889,0.011794249927025392,-0.0015967584670306414,-0.051747679127413765,0.07619656076890974,0.05011807224919872,-0.015367037599091004,-0.08459164258185808,0.05437346040108905,0.03759441802234164,-0.028749748231624635,-0.057464094042651445,-0.08232745082555844,-0.04105403322737701,-0.056104599129405075,-0.019703008418905803,0.00009649785778433394,-0.05268808399451763,-0.05644768406757469,0.07769571919399318,-0.03655038534914909,-0.06694135833678923,-0.006062453511527973,0.01598307569682444,0.07041992505883281,-0.07832416652138602,0.01997166997878322,0.01203208742190823,-0.030737551793070358,-0.0045845386016910425,0.053180467216667936,0.016565276076726667,-0.02334708322046124,-0.03677063956464822,-0.02395569596654924,0.01780812470759215,-0.010903528258918483,-0.08513479407387615,-0.024019308415564142,0.0496999025903688,0.07100521392251825,-0.0730045926496696,0.01917035781140599,-0.034562400561900436,-0.06651625756699214,-0.08321237734116053,0.07768213084907902,-0.0679012965433319,0.0785329902652654,0.05038236127918565,0.016774340459551722,-0.0816854423109487,0.07184259814660116,-0.0200801497655871,0.0576005271162301,0.06107890587916907,0.08654735603335637,0.04217901781252045,-0.012728678410716877,0.05528499957452307,-0.006961585422687558,0.028646679634831432,0.05077359607817682,-0.03375382480503143,-0.06035849895277926,0.0008098495105509824,0.0515045450256995,0.017012805543198756,0.07971950500983278,-0.032481928222091075,-0.024833579384527318,-0.06381282509485478,0.0579236986455686,-0.0034607831207420004,-0.08073651025566175,-0.027568207008897262,-0.07520779061331855,-0.0162360024242224,0.06894645538982062,0.03629085862834733,-0.04613528195018432,-0.06497540613728177,-0.08229525625390557,-0.009319955857660111,0.03920356558845482,0.06957287060472417,-0.01283217605219688,-0.005688214260212211,0.050169226649010704,0.007430535132263896,-0.02083604055110632,0.032214948078220375,-0.005844872040239878,0.028735481089548362,-0.01999790160177251,0.08478208542281249,-0.02712664335772196,-0.04712673675979238,0.07736738505115193,0.07704357708602945,0.07920836381698919,-0.0803496590222066,0.012569946837163882,-0.05962478629558734,-0.05516821486829957,0.06735137193341889,0.007098580538915795,-0.03548600777133922,0.025284190520004517,0.04906076137418994,-0.06353533555524978,0.01102962070984748,-0.07999337047973873,0.06788410868086647,0.012313704741360244,0.05438332834479729,0.044167563621450426,0.012962365206625859,0.07833105988711596,0.06959279145102075,-0.06527903205100866,-0.07022586496116226,-0.00852835476153187,-0.08286801562648947,-0.0597262306945199,-0.029767846568980263,0.07016764858022566,-0.02969717755229531,-0.015600933761900837,-0.06746782374091462,0.024080605842620652,0.04323319105647648,-0.012348088988196518,-0.07353717709545063,0.04843992311234363,0.08107984317456013,0.006613843792581762,-0.011052564339130119,0.0429083853353352,0.05709069866564252,-0.07348630814128451,-0.03928279199393171,0.04014356952101549,-0.0034666680400635167,0.06669277183041065,-0.06991331083797468,0.012693223405089818,-0.014691037213654971,0.038416210363548725,0.07137661935311394,-0.013751712547032837,0.06420972075679447,0.03769904753057593,0.07676000720556363,0.004394992647559712,0.007198019374174246,-0.05825431957476517,0.04216319269927771,-0.05212254633744187,0.014860230365333422,-0.06649316415552084,0.05433323761249645,0.013192713103523419,-0.04435992694894037,-0.003162857573968164,-0.030742616011840588,-0.07926707175284935,0.017764221065662472,-0.044636529690261405,0.018731589637718413,0.07636256544522918,-0.01933359303505532,0.08102523430425498,0.04630996592716007,-0.035520203101020324,-0.06086637379714761,0.08643954286807161,0.012816372075976742,-0.06487147920747706,0.0853318850017459,-0.04863947457545397,-0.0653697041693241,0.025875898644225293,-0.00036983485826076425,-0.07207587658044365,0.007866919681384177,-0.04446031563505823,-0.0004472341319051875,0.04584121567966596,0.06410401094907212,-0.019339933550015665,0.01789193807506154,-0.06530776795747709,0.0485748374382028,-0.012261603869982589,0.08292301837867935,-0.031680508015093915,0.08302627576414108,-0.08515937463449312,0.01462728602138132,-0.026868606239539516,0.05768960291620942,-0.05357743142122709,-0.011880228021979904,0.07966289046560905,-0.04374222054158987,0.07668292784223792,-0.025848288178259713,-0.0725122395414333,-0.07772345436853459,0.03400486637866736,-0.00047778279964555447,0.0060555989985450216,0.07859882377498792,-0.07271145191906717,0.013968412362905872,-0.01841741289487556,0.07125505889239105,-0.009073207266198396,0.03087840148285185,-0.009203490780149155,0.08337600894828645,-0.01484717924765601,0.0517326295598775,0.011882376243818132,0.04327163501792341,-0.07681666345781071,0.0767995817111082,-0.027586181102314568,-0.07514563374862944,0.00721574920179672,-0.08209791679661725,0.013333325047030085,-0.03578960858749312,0.08364311493119386,0.04013188729952094,-0.009239504279353201,0.006697770012123138,0.010913966514125958,0.012194410024900598,-0.017306316147400313,0.06714859080316787,0.02358882147555281,0.04236863675185181,0.01622643188068096,-0.06639352200168142,-0.0014858148425984305,-0.02921111107804382,-0.033678060034117975,0.07643479980642147,-0.07465147700462103,-0.05354851214985293,0.06511021235134372,-0.042900268257098965,-0.013381189521720373,0.04588157745992351,-0.07488287041029947,-0.026291971291316447,-0.038046634651157964,0.06250834365323292,0.03488043612235249,0.015867787862865645,-0.06216765172410206,-0.02897589661835429,0.041022780746872614,-0.04491395121393535,0.022499159310243922,-0.012835426362119887,0.023561182332650137,-0.029904823629965972,0.07704175873273934,-0.0690933090964675,0.05544206383983967,0.06446508820803488,0.03077447992403227,-0.06868646039158592,-0.0343112357620138,-0.03098358883657127,-0.03316738872045738,0.054203417785459854,0.04167694661589156,-0.04660594008419834,0.054949644428379116,0.017517939011385573]},{"id":"chunk-7db5cddc-133","content":"fallback_model.pyfrom pydantic_ai import Agent from pydantic_ai.models.anthropic import AnthropicModel from pydantic_ai.models.fallback import FallbackModel from pydantic_ai.models.openai import OpenAIModel openai_model = OpenAIModel('gpt-4o', api_key='not-valid') anthropic_model = AnthropicModel('claude-3-5-sonnet-latest') fallback_model = FallbackModel(openai_model, anthropic_model) agent = Agent(fallback_model) response = agent.run_sync('What is the capital of France?') print(response.data) #> Paris print(response.all_messages()) \"\"\" [ ModelRequest( parts=[ UserPromptPart( content='What is the capital of France?', timestamp=datetime.datetime(...), part_kind='user-prompt', ) ], kind='request', ), ModelResponse( parts=[TextPart(content='Paris', part_kind='text')], model_name='claude-3-5-sonnet-latest', timestamp=datetime.datetime(...), kind='response', ), ] \"\"\" The ModelResponse message above indicates in the model_name field that the result was returned by the Anthropic model, which is the second model specified in the FallbackModel.","metadata":{"url":"https://ai.pydantic.dev","title":"PydanticAI","chunkIndex":133,"totalChunks":208},"embedding":[0.02111396223154762,0.0896402948234029,0.07335225735700315,0.00867985988095504,0.03796502776046377,0.018800952215561925,0.03578464879335494,-0.025552833055322553,-0.012481982632195666,0.07444021397178592,0.0006693704357426149,0.02401922817714948,0.049994541899446666,-0.04736501241370218,0.012164832298853045,-0.05858005205934888,-0.0669279982729689,0.023392243183405513,0.04443132542115645,0.07214912005454621,0.08847703639578322,0.07304866781648078,-0.0009792578503473029,0.032825422291591674,-0.06875084994500046,0.08674765156607912,0.03365414348289411,0.006478059164183849,0.0630754366615512,-0.0032343685984029765,0.08449145027549147,0.06134046811655374,0.08225423606620003,-0.003625000540682955,0.03501853608797677,0.01716235759410857,-0.08832634926459798,0.04751584919251185,-0.0795065525870063,0.02731011607075444,-0.07117341694526012,0.023784259248495556,0.010470502303002,-0.009171340524859298,-0.0029534367356426265,-0.08408169137484986,-0.07069842937506725,-0.03709132081208954,-0.009242293901927752,-0.07306934877360476,0.07399159998872062,-0.04832259664316755,0.06376746645227943,-0.08893893019883146,0.07887664260135704,-0.0568201649676124,-0.03076494610876782,-0.031452053073434974,0.027142559343995825,0.040629993200840535,0.06998080418163362,0.052974847819299634,0.03341079070390555,0.056191324112772514,-0.05042040699005164,-0.00044643159220911243,-0.00806823594286045,0.06491864705202836,-0.017408761306909052,0.02214071140994091,0.06888481561971088,0.00018933823757058695,-0.08381581557960963,0.0002496599719035058,-0.07032935440791833,0.007275234454412254,0.05783190087803986,-0.023821359928269836,-0.061776471822952005,-0.089581056338624,-0.009311529703582871,-0.02571036458830247,-0.08673453346559026,-0.08371774625031088,0.06957683883143252,0.051188868871322145,0.03200770428272643,-0.044763355284532576,0.03279546172205822,0.023882240151846,-0.028533746998260605,-0.04067740656640712,-0.030664174090993562,0.030924101130320753,-0.034766422691183844,-0.03457689954721177,-0.064749575484141,0.003730916559825555,0.05175276605095927,0.06466562725615813,0.06061469933897628,-0.017260078823433313,0.03453685095192954,0.08959675182935893,-0.05000506402984813,0.06538415209442093,-0.05751356699928723,0.014831965333453356,0.044142187912204915,-0.03562667060411971,-0.06997835264643479,-0.0005429637882406438,0.027105837110684563,-0.08952489539827685,0.07468102457613297,-0.02002745030456861,-0.07908765390395892,-0.02868258479544873,-0.020608507362188982,0.05482938264162963,-0.046731854566179995,-0.06582288704008278,0.03524286055337006,-0.008852209027736212,0.07847233964221496,-0.05215812630901043,-0.02300283549261614,0.0015706980270989651,-0.06886223569482161,-0.07199544228281138,0.003591751852638216,0.06002351812311236,-0.06263921635592143,0.04530482577787463,0.022117816817605825,0.007679240386485659,-0.019033238015141864,-0.03313369962537014,0.06219573961367949,0.007511706330334528,-0.03552851957637981,-0.0008543259575356828,-0.07178810388512648,0.027392317414116237,-0.045790305703171455,-0.01426643154221246,0.03201970922872288,-0.08572334080534823,-0.05502424104281091,0.06430332183855302,-0.053207279822501716,-0.06195612851836926,0.005189683427347998,-0.027829663038667542,0.004298464472766047,0.02359254873561225,0.061432284021385196,-0.0770221514083652,0.04383701629361334,-0.05218063372917743,0.08661788648707683,-0.08191051571520165,0.05206590932644316,0.01424726535946248,-0.05930465572043919,0.05053798315048181,-0.02796632098037383,0.08779123361200557,-0.0037385556894520273,-0.03885291356964714,-0.07914993019902511,-0.08243540837390344,0.062467815142312325,0.026263861742466012,-0.0698901929433026,-0.0615621664161553,0.06274282556461426,-0.025890107224565737,0.08470054776624272,-0.06322855747035823,0.03279408310045555,-0.08631620016160158,-0.006522268383807523,0.06987523474702499,-0.028903097428304093,0.08710424777438316,0.07909547820420731,0.013114258504733394,0.0040091103505900125,-0.03188821982845491,0.017436414107000132,0.06477420720255563,0.06473808393549485,0.05324957870111067,0.04031556737580756,-0.0031837656751952906,0.008918014789048885,0.02776368071463973,0.04377381063797294,-0.037674904936127976,0.08204293917505205,0.0498317873665621,-0.030728033039322866,0.08690063436139796,0.06071124820344882,0.02958588165811415,-0.03407155143517468,0.0576979303334422,0.011325230173901501,-0.03740970044155766,-0.06232415010849234,0.02872989438872623,-0.07287112991753786,0.007053890297448503,-0.08396619867620504,0.022840624088713072,-0.073363765794274,-0.0060344007759054056,-0.0027017556641094455,-0.052406764446478765,0.03690836279646087,-0.014630997769077468,-0.01818009697498699,-0.06256007974044812,-0.04916994790909408,0.05012957051404905,-0.06936654475817387,-0.03645246776331202,-0.0440245265578865,-0.08552579426353707,-0.02986734839568358,0.022403164208659274,0.02088055965489783,-0.07947936784119854,-0.011193801402099808,0.005287110320372319,-0.042952905166174955,0.035573097914672204,0.03589422172469051,0.00014196474681910922,0.0506746523008965,-0.04487761777429786,0.05847544850113464,0.002521700193481098,0.08524428885808844,-0.08082659327285063,0.02503746327079971,0.03754465037295973,0.0336787055465455,-0.048297507652680115,0.08205232023133888,-0.004743155549754047,-0.024548351820284593,0.031861630701817335,-0.05965161544331518,0.00429026595888046,0.0539734324662396,0.07828723734917852,-0.047206645540069,-0.04787798211549116,0.07288427960953107,0.02210856275294627,0.028725384129792142,0.08243842615751618,0.030830619120438576,0.07329278606594974,0.07926242471723824,0.01955442587457712,-0.07703078956711633,0.011767925588033058,0.04515824777175113,0.04268781791576131,-0.07986703764065683,0.033231086123781194,-0.02800987853568023,0.05565319097061549,-0.0034062131665407993,0.014677577307208405,-0.05567713047033264,-0.07584334251167839,-0.006353147322164102,0.014455958408729494,-0.0727662861357188,-0.061963389103057105,-0.05503994064287332,-0.0596203800806047,0.05843890436592883,-0.03110637829578902,0.06717810337618069,0.06413275079317343,0.023303897833293237,-0.016732004726271725,0.015058348325507195,0.054245422969229226,0.037312856165465126,-0.0010702660965139553,0.005469066122011731,0.07704138730123303,-0.011667862436490132,0.023726005965582827,0.016503299537866282,-0.013554566345116826,0.021417419368327407,0.06432164199248028,-0.03543986123320557,-0.06033791881423786,0.028805843345488504,-0.024241251821336535,0.034471365653560807,0.051232761323523696,0.018957727824568126,0.012010650565267029,-0.044029564487671764,-0.02299315205636856,-0.03452392166060852,-0.062453684803652376,0.04577706528067828,0.09040297701580505,-0.08777264389734152,-0.06792444676783518,-0.07718201305295087,0.06035857244113226,0.06336063482633361,0.00984436813676839,0.0032204165194777215,-0.007088854399402304,0.06991209192882622,-0.01845851285582938,0.049450145871971246,-0.011184661673731644,0.053704323227387774,0.048015603299392265,0.023822646159619605,-0.06822135372355512,-0.042621608443809654,-0.07324629741125382,0.014442354034517631,-0.01711353126513477,0.011424688069842082,0.05963962074149907,-0.08814577193703817,-0.08300329828336696,0.09000721154565736,-0.0847849628977507,-0.002732979166861647,0.08602350221046696,-0.06876383690996367,-0.00549910734234408,-0.029825192222121842,-0.06241606122038469,0.0017938906427575967,-0.015790616558182848,0.03778932790611839,-0.08630637884327637,-0.013985905834953264,-0.07526235587353777,0.05646008375963313,-0.05692224089662316,0.04397937434358475,0.002508767132779776,-0.027724017024333143,-0.08590074866939591,-0.01967979078472495,0.01371950058590892,-0.0278703225241147,0.04841675107700119,-0.01754643034615256,0.08891913302466764,-0.00459214771619649,-0.02621839282241416,-0.08565439137370615,-0.060288987143003465,-0.0020392020771554317,-0.07514540656066425,0.054313322364073324,0.06430308442768178,-0.04900606589697724,0.055184944789006374,0.0017068910773064252,0.05186094008660934,0.04147398182996389,-0.07380246530706965,0.0029211069722467346,-0.012770332563400346]},{"id":"chunk-7db5cddc-134","content":"Note Each model's options should be configured individually. For example, base_url, api_key, and custom clients should be set on each model itself, not on the FallbackModel. In this next example, we demonstrate the exception-handling capabilities of FallbackModel. If all models fail, a FallbackExceptionGroup is raised, which contains all the exceptions encountered during the run execution.","metadata":{"url":"https://ai.pydantic.dev","title":"PydanticAI","chunkIndex":134,"totalChunks":208},"embedding":[-0.014766603063539023,-0.011887906767128321,0.0665798897097785,-0.02441470925254917,-0.017781069576476405,-0.08527878274499887,0.05227239270815848,-0.040720890434981546,0.040166512058559485,-0.025883183922390668,0.012327954449305525,-0.006131962997836859,-0.05870553289132376,-0.08172694906566651,0.020087853009214722,0.05865765620753998,0.021308615127404538,-0.04195568232076894,0.0867454278176434,0.014916156687450305,0.07712549657463416,0.03457126807162145,0.08495383913446532,0.060138309250399986,0.05331483297994591,0.0356565446978008,0.04973035310295286,0.04068569143388929,-0.06803536374594829,0.04069089929101042,-0.01261339246948285,-0.00299386972706243,0.00423646299320783,0.06911266633973583,-0.024679088689898317,0.007464639849202322,-0.03315548905907189,-0.017785267283187692,-0.023192237678737022,0.0012385955272831858,0.030541200146557878,0.01810103623490756,0.054968049773865234,-0.03651697168590442,0.08082233773881538,-0.0029831452435131424,0.038420392813337,0.04835773074587759,-0.03053623753535337,-0.0360829180908208,0.003454524135235653,-0.07347717202368888,0.029942677444031084,-0.07467845517738787,-0.006968569521098243,-0.010596732162561755,0.0516687608487846,0.07222616521165469,-0.06536833314612538,0.024750603415061478,0.0004952090079230017,-0.03492119886005554,-0.01577804936306901,-0.007877404458680752,0.07531979035676499,0.07687330061039625,0.04007088325516364,0.015314543051343244,0.005967413318573604,-0.054763391942124,-0.04091668349131483,0.07125288963831353,-0.03150204330253312,-0.033603931807642415,0.08208084000120383,0.08429246083902836,-0.005330484223355981,0.003896376117920571,-0.0216484305121889,0.017711878061111432,-0.07153437246031964,-0.08001622798324103,0.045595678187285216,-0.03166886328377029,0.043118400631003306,-0.04444209914141065,0.05450480487529473,0.01807916372427883,0.07284369703458546,0.07568574374217353,-0.012663170961483687,-0.015445740505825322,-0.008112743310679694,0.027863927549667957,-0.02256209714038571,-0.0683186806823425,0.02387516354604339,-0.02508462610633063,0.03385836994831723,-0.04848090978648806,-0.06600610967448385,0.06922095120878444,-0.07837193796125459,0.010202075710105899,0.05996066695573897,0.025491159782041257,0.060979073728822046,-0.036143241724625866,0.07618589284175499,-0.0743443081790467,-0.07077625382018977,0.078715909304052,-0.01830640276758243,-0.012582621880971128,0.0026649219870749606,0.08624084985903552,-0.014219827423191276,0.03270348709239289,0.00025668616257222776,0.07013566629195542,-0.07981148787825208,-0.030023217744889346,0.03807570712171375,0.015885723870019047,-0.005800833507036121,0.010357188388378515,0.029350320945620022,0.05265019487093794,0.05151199235357931,0.0769324208366438,0.055088349040430314,-0.08208457019717406,-0.04736271937842797,0.04201480567609059,0.08692526063292913,-0.03399823883765239,0.05836300995541563,-0.06567628030681885,-0.03290650656737013,-0.03456351583230931,0.01902382460713165,-0.04481319767477804,-0.02946759230171252,0.058274983092998264,-0.06905519563851456,0.07346743905453455,-0.024312639554287772,0.01883039725502325,0.035368300466545724,-0.028106603564741282,-0.033218376269078434,-0.07908001521379401,0.07231393222142184,-0.07018510920038394,-0.06503767462489467,0.08469690951966588,-0.019335561217528212,-0.019675735463882967,-0.0022170951417050896,0.08411936916678367,-0.009002461091473481,0.07505639391141679,-0.08137466388780558,-0.05167080543303453,-0.054919636210568556,-0.03677614447375786,-0.014256516176868062,0.01163012653530631,-0.004488666407190173,0.07558594778400159,-0.08145763065241783,0.07394244490911094,0.05833449798538837,0.043743629335498795,0.06407361742771227,0.00942057023492549,0.059174030472174004,0.06169470440078023,-0.010604934693497005,0.00076943843882291,0.0038438662279687524,0.032447244115625516,-0.03482161570627711,0.0185157437577812,0.012611580806808246,0.04625994894683554,-0.013539733426176726,-0.033981262932544914,0.03734663468786718,0.07532092099881262,-0.082290150650792,0.054610076055695976,-0.06373977137464885,-0.015525273696090294,0.046639933347036096,0.02791619555331315,0.05640448622544504,-0.08314081230040148,0.0660564817511862,0.041373540368695526,0.0028802604893985923,-0.08415838084391207,-0.06433286421964275,0.06352705350169327,-0.00855094366443765,-0.07114894885635593,0.013734472456637175,0.060241712720076,0.059802857841279616,-0.020337499791513818,0.0004540710822880384,0.014589796661823744,-0.062422458571731676,-0.06223455101038583,0.05132258471225762,0.025935743292017595,0.0663623796163489,0.03911639295329788,-0.08514851779207397,-0.056555563000709685,0.03594396988784116,-0.047196581400945445,0.04253622033391703,-0.07683371621775686,0.010916553110608117,-0.0241936035010817,-0.035661942426449225,0.08169494583790698,0.002025288554479802,0.08068272567128706,-0.08268109799890047,0.02635244155153824,0.07402878297942464,0.06513743921817816,-0.08355517822481896,-0.05218190690184373,-0.05394561222856156,0.06944219517619431,-0.05000903677831211,-0.07215507131106588,0.021270869635263357,0.06217061389691671,-0.016359173981831853,-0.04323171505405504,0.04817065323170074,-0.04038472067827329,-0.018527630843955978,0.02327174431270605,-0.005455816252620533,-0.04900875657106837,-0.05958997028149489,0.051704300679089446,0.08098764700380205,0.015473799810879863,-0.08625585324212422,0.0344071837143918,-0.0007192124987912092,-0.05960581054402687,0.07041001311197292,0.07634109360719128,0.07853516865929311,0.07236864462520128,-0.03774365608819096,0.06607816584370733,0.04792622009561425,0.05507109725754244,0.07275201865360743,-0.08470408227633733,-0.08561091660510292,-0.06063896045921086,-0.042891306126747124,-0.028051209954121394,-0.01518344059962727,0.06498222769004208,-0.05353762308411993,0.06916400623425992,0.03553151810618062,0.03327680806546239,-0.03306522021470262,0.050442469536126126,0.07433660320315018,0.05901873424440193,0.02151892018783328,-0.04092848975592231,-0.04015861353362964,0.019742136047058014,0.044326740452163144,0.012660063985777866,-0.05765793567250386,-0.07050225627550921,-0.04727642711771489,-0.03766910784336239,0.007800516282923412,-0.02322939713484365,0.04872265844990407,-0.08387273112865685,-0.0008518375762766631,0.06699621385255367,0.07884853281656559,0.08071945424090797,0.01165268178120237,0.0791127569188936,-0.03379022174165833,0.045297175231591845,-0.07589792066775664,-0.020991536454911232,0.039449105250962416,0.027834959451095452,0.08618191971643042,0.012915301579548082,0.08046885000387356,-0.014503392865023465,0.07055036762063954,-0.07595120536465116,-0.06408048870383734,0.027863563798420216,-0.04129747268029919,0.005810222673884594,0.08336148816393726,-0.0758166151278277,-0.0837447782009076,-0.029894364862867104,0.06436945339035233,0.019213667197580754,-0.016994880174820308,-0.04085381317873537,0.08418894666468857,-0.06163727616812845,0.03901401143697924,-0.03470808408094069,0.0832323305211536,0.04302435588304923,0.032587765710496944,-0.00903936679096773,0.014728491796992087,0.05370434247193749,0.038841429447020605,0.015279604063272277,-0.00683273870770624,-0.005497776682252142,-0.021317413405896463,-0.04312573999033527,-0.020121260206054245,-0.010696993569933626,-0.020570687915667882,0.0017051955615889605,0.07681608837046679,-0.07307037763220196,-0.045969102072320744,-0.05771146230472155,-0.020527630787107995,0.0006179030938308255,-0.03214297395008061,-0.007589269094206083,0.06628360197648053,-0.03166134783960569,-0.033652198562030215,-0.06936278664433931,0.06694760332037075,0.06652520799122763,-0.07843343587785413,0.08379353154422556,-0.010251666803385226,-0.05746115141421411,0.058167074115222636,0.039852805533014124,0.030234842685798822,0.03257045585628184,0.029382384605209314,-0.050516553729437925,-0.039194486074467405,0.030152076997580445,0.07810117342093953,0.07470532975469596,-0.06446299037414856,0.05558813951597398,-0.029479242972855174,-0.03831254409903511,-0.014829535836798512,-0.05099525851248436,-0.07845877524471033,0.07555025002909978,-0.05037043916889716,-0.06771062245216447]},{"id":"chunk-7db5cddc-135","content":"Python >=3.11Python <3.11 fallback_model_failure.pyfrom pydantic_ai import Agent from pydantic_ai.exceptions import ModelHTTPError from pydantic_ai.models.anthropic import AnthropicModel from pydantic_ai.models.fallback import FallbackModel from pydantic_ai.models.openai import OpenAIModel openai_model = OpenAIModel('gpt-4o', api_key='not-valid') anthropic_model = AnthropicModel('claude-3-5-sonnet-latest', api_key='not-valid') fallback_model = FallbackModel(openai_model, anthropic_model) agent = Agent(fallback_model) try: response = agent.run_sync('What is the capital of France?') except* ModelHTTPError as exc_group: for exc in exc_group.exceptions: print(exc) Since except* is only supported in Python 3.11+, we use the exceptiongroup backport package for earlier Python versions: fallback_model_failure.pyfrom exceptiongroup import catch from pydantic_ai import Agent from pydantic_ai.exceptions import ModelHTTPError from pydantic_ai.models.anthropic import AnthropicModel from pydantic_ai.models.fallback import FallbackModel from pydantic_ai.models.openai import OpenAIModel def model_status_error_handler(exc_group: BaseExceptionGroup) -> None: for exc in exc_group.exceptions: print(exc) openai_model = OpenAIModel('gpt-4o', api_key='not-valid') anthropic_model = AnthropicModel('claude-3-5-sonnet-latest', api_key='not-valid') fallback_model = FallbackModel(openai_model, anthropic_model) agent = Agent(fallback_model) with catch({ModelHTTPError: model_status_error_handler}): response = agent.run_sync('What is the capital of France?') By default, the FallbackModel only moves on to the next model if the current model raises a ModelHTTPError.","metadata":{"url":"https://ai.pydantic.dev","title":"PydanticAI","chunkIndex":135,"totalChunks":208},"embedding":[-0.07370889187135679,-0.06210266979676882,0.008057007673462265,0.07060571348523134,0.018649055427214584,0.010525291059313203,-0.05431617080676329,0.08115008738586289,-0.06255512131125496,-0.05446245712591258,0.010718148784527192,-0.07271612794509506,-0.08502131545113077,0.052315443062754624,-0.014418621863452956,-0.06550050203979524,0.06298716496356523,0.046086291416099386,0.04685888278337825,0.02477937763778331,-0.03604734526268332,-0.07563758197639502,0.012094626216503031,0.02396342534461081,0.06986193108646686,0.0352342115022655,0.020923789166359372,0.0802276981283266,-0.04770526552322082,0.04869797905217618,-0.060287771105037774,-0.03334524334787458,-0.08798984866317011,-0.08304798724653373,-0.018064065152476765,0.06295046271840475,0.042305068776048324,0.06374783689432059,-0.0865262053031435,-0.0555017501702795,-0.02546730356081891,0.08712020554474453,-0.06150518903077083,-0.03555847351077855,0.005873140267124873,-0.058774263642346024,0.008319279537166721,0.08629021593021904,0.0005576413325075136,0.007393368671773925,-0.08687516619486929,-0.05300990470728356,0.024340741003548605,0.015311526527673315,0.03266317300688144,0.024351529209213726,0.036269008470878064,-0.041209715600641454,-0.014276631853614824,0.038435631100780125,-0.028607495531274788,-0.008348423147549838,0.06357728561315767,-0.06145649513602898,0.07119211709806414,-0.07148847224734343,0.01947415190871524,-0.009664865139316085,-0.06437236499639568,-0.08065292218121145,-0.08377122906249049,0.07941521002042261,-0.07363776039507147,-0.06768763853989766,-0.005401735612614671,-0.06766286515492605,-0.0221186165076404,0.07060649143847761,0.029492579153117968,0.05967375479340004,-0.06854113015646845,-0.06301390835874357,-0.07164010036501624,-0.0325964990951238,0.014720237161491984,0.07509452078649287,0.00793039000722737,0.043917721101290406,-0.08781553729493555,0.0035147726600263584,-0.07992921557955524,-0.05263105476034592,0.05238831388517843,0.014604959361258026,-0.0011634258861476815,-0.04117296415678034,0.002251795217597735,0.01260293735271601,0.05673145956756332,-0.023624223085155757,-0.0012985070977085795,0.05846641057285711,0.02800279150469292,0.008972655854809263,0.033271596077988186,0.002371753980886506,-0.031307930514729305,0.04912104718232435,0.0002025024751700729,-0.05991197638107642,0.02182497623924912,0.07805617982828883,0.07176345127408307,-0.03999447267837286,-0.08412036280153613,0.06335032601509273,-0.04338237469177176,0.026106782109873543,-0.013670723074652192,-0.026374985439680074,0.04012826110195349,0.010528214892558601,0.055265094728199314,0.04103765442511799,-0.03998987119446037,-0.052319268596758735,-0.03334717811472559,-0.07904930336106665,-0.014911130597489337,0.04271198523127236,0.08238235573508725,-0.056380620603601654,0.0017818975529422076,-0.058872016324446656,0.08766244329169631,0.004033432397551246,0.002656617784336856,0.04197663378588023,0.030880188121311828,-0.0646853171848204,0.038437181009695856,-0.06880042120569932,0.08596651495307195,-0.030126786716294308,-0.013484944204652361,-0.00438277259864979,-0.07365137581372323,0.015036231378207912,0.07192231525943435,0.08667545344293047,-0.0519866239268718,0.0035556750698959535,-0.07963372728855363,-0.05023129032164824,0.016705523243725987,-0.06021977087875169,-0.04311212254033177,-0.016046549931557925,0.01427366179552094,0.022219249923211004,0.038058784319303283,-0.019541411813427285,-0.07532878510697431,-0.08035254575965342,-0.08139082003083646,0.0812256968833099,0.052089308000462214,0.008823157668154896,-0.03996800262760888,-0.07314349492376321,0.027952245771483968,-0.02631749483024152,0.05389862165587308,-0.011015778144524702,-0.007477365111188021,0.026873176414507222,-0.07700841666167957,-0.07566728681886427,-0.029601923579452277,0.07558908643762156,0.03405202168067913,-0.07769692962940787,0.01418278604665519,0.04898261580766087,-0.05389337293234564,-0.05795956247316738,-0.053438927080262814,0.014387338655163262,0.006814139460588655,-0.05460809791867232,0.025670724460032518,0.048636256247805584,0.0878318121208442,0.07606361890340438,0.010257043977859185,-0.020235179750352716,0.000957714786228324,-0.051713542280063175,0.001842978871890905,-0.06365045357002565,-0.04533500143036311,-0.005210873540563577,0.028650652526274623,-0.053783959133302944,-0.011181584917359997,-0.023053503747677475,-0.0035776677012764246,-0.04657190516713805,-0.03593504627279015,-0.08089582932923763,0.012921064534154522,-0.03501806333008486,-0.05932238409669782,0.05946824060822428,-0.06533134949160765,-0.05997611054869142,0.03545847108659105,-0.08690403628128868,-0.07683873091199654,-0.05111403251635645,0.03203283156528487,-0.05374450428981228,-0.08730682853265773,-0.01849692938319849,-0.024626157570037967,0.019416278590117905,-0.04647966815907362,-0.05884024598257819,0.06950138636754387,0.039186438929526134,-0.004081613286298202,-0.05751443517108922,0.06658205856889148,0.08276922485272392,-0.03724632953804736,-0.07513062757913178,0.08166078433577907,-0.020862013054541714,-0.012958122663793986,-0.021522904583624835,0.05711421797898192,-0.07356688857599229,-0.024865996751751482,0.07469940930424428,0.0746924473840664,-0.0040514748112934025,-0.04687409977330843,0.0025612607024868925,-0.018787734564713273,0.020286864591127322,0.03436339981752955,0.08083655373334592,-0.003973601495990553,0.045608755784582795,-0.06916156345417714,-0.08836427194900091,0.08817724497001586,-0.0006795150838815952,0.040085787711977044,-0.011652912714355956,-0.07882421449837583,-0.00857911613300896,0.05921282336114863,0.07286648848181251,-0.023107154310242246,-0.00010021501144578546,0.08198445039477982,0.07245212790120241,0.009591720453913915,-0.010926493332752665,0.030531720895445372,-0.038915168806173024,0.04478828327620719,0.03982230828945187,0.06055772584073555,-0.059197064843236724,-0.004336762708502723,0.05151152405594179,0.08238423368062028,-0.0100162652235128,0.05424327008858464,-0.018401608565571787,0.06393366318968426,0.0002476403159657286,0.08088545622863363,0.052077946450755655,-0.06535461017785159,0.007855935758677355,-0.02750160327911851,-0.009295773531638766,-0.04130797706230341,0.004458320375105545,0.010693882215464197,-0.0616677848170642,0.04830135802100639,-0.046428989064272556,0.010877712870582595,-0.0799438515271591,-0.023940533471688407,0.028091242399922108,0.05777307998728443,-0.0688415052158501,-0.010748105260466873,-0.06708797764947469,0.05657459054241558,0.04647507325718904,0.05464718750441001,0.05389788444693084,-0.06356489051610313,0.07814814653184135,-0.06231385192012479,-0.008785388704131864,-0.03421854380911291,0.01806319494003494,0.07267060793807521,-0.07320112338171691,0.039171806218439506,-0.06171046284969213,-0.032840008457530594,0.018992386733407023,-0.02219221727323391,0.026258804088508014,0.021229680692112774,0.05928800370123051,0.00658638670492536,-0.08480668121347334,0.07238019434934788,0.04545794777256042,0.06422030521740675,-0.03789176091470893,0.05563024561417018,-0.0799882552951898,0.011632010180747693,-0.017835603537835205,0.03918970457152397,-0.05785673164765092,0.07287161045789421,-0.08688356863911424,0.04805066964005596,-0.06875013997040547,0.004842036557316732,0.06382453457907575,-0.0351024257547217,-0.0372228513744913,0.035809791577007144,0.03961909127975642,-0.04191099592310727,-0.058068664047569135,0.07920478920275377,0.0779639107611834,-0.082435059249229,0.0780438741966481,-0.08766348971395362,-0.003251086285702322,0.0013487458012544468,-0.08821949542503943,0.027185398812304747,-0.06087595884364592,0.08425072968934878,0.010224636336109727,0.042834884655073825,0.08310373100321317,0.07361328162046869,0.0097217253323642,0.01962265118265626,0.0044671922200443135,-0.053050291002913565,-0.051799526223627615,-0.06012998496292244,-0.034220540889778,0.02075534035816171,-0.06269983027647591,-0.0010306345463803048,0.0015411331277705089,-0.017533754105808597,-0.004523016445027725,0.024551438483390996,-0.02672818676315013,0.011309625135458351,-0.01711214952100751,-0.013505604754733632,-0.05019353807386871,0.043430243882013574,0.019316510786504426]},{"id":"chunk-7db5cddc-136","content":"You can customize this behavior by passing a custom fallback_on argument to the FallbackModel constructor. Version Notice This documentation is ahead of the last release by 2 commits. You may see documentation for features not yet supported in the latest release v0.0.27 2025-02-26. Dependencies PydanticAI uses a dependency injection system to provide data and services to your agent's system prompts, tools and result validators. Matching PydanticAI's design philosophy, our dependency system tries to use existing best practice in Python development rather than inventing esoteric \"magic\", this should make dependencies type-safe, understandable easier to test and ultimately easier to deploy in production. Defining Dependencies Dependencies can be any python type. While in simple cases you might be able to pass a single object as a dependency (e.g. an HTTP connection), dataclasses are generally a convenient container when your dependencies included multiple objects.","metadata":{"url":"https://ai.pydantic.dev","title":"PydanticAI","chunkIndex":136,"totalChunks":208},"embedding":[-0.023652951818203094,0.05129880702589056,0.01918360070952627,0.01111810330815109,-0.06525160830752084,0.011980376062023613,-0.008403969728135,0.06755036147883699,-0.0742162836437053,0.04844664451466275,0.048748557401273325,0.026010589917599705,0.02887326917027184,-0.08140062381754752,0.044182185942049326,0.02212333219543897,-0.02396251946678341,0.0483647951311389,-0.013481113928965926,0.07280824985901997,0.07166865812964525,0.07636173589894198,-0.057064130894159855,-0.023190679266063916,0.02632587832953426,0.058912017934582096,0.017260636357837884,0.003580483764519357,0.01841040873163181,-0.05747612246494186,0.07284900780043987,0.00064047548888113,0.02542711395971204,0.021677742712804277,0.045955963183661935,0.06022175552615811,0.019806181889137693,-0.009058062210399478,0.03428306563275518,-0.062404303459965775,0.016288637923536766,0.05655984810066333,-0.05775689143262611,0.022662790979166313,0.029329358019455264,-0.06897034313690482,-0.03259935512805735,-0.03686441367140118,0.07662017406683724,-0.0616302980095063,0.0724777908171538,0.0205935865733396,-0.02302107673298892,0.015073734803252187,0.0859118647304066,0.051926806646565134,0.0030942650748499146,-0.026471052787088226,-0.015764365035986345,0.04256091498045937,-0.07668584237829243,-0.00479251728577958,-0.060424509071940684,0.04334701760295313,-0.03809364515380805,-0.0828567681135762,-0.0703935812451632,0.04795630332716281,-0.00025189202953190343,-0.07823717442952009,-0.039232587491473236,-0.016439368869068664,-0.08507680038503954,0.044309853064699686,-0.07481652650166411,0.08200991512541345,-0.02735128330448279,-0.06910874213798483,0.002877172213426013,-0.018619372389465365,-0.05555287372551838,0.05527606063527345,-0.028358460738826547,-0.025984247722284675,-0.03218771152499682,-0.014726453124825555,0.03855690714097105,-0.0741788396622775,0.0008533360192283718,0.08514139680978217,0.07212749076920699,-0.06927324062656705,0.050063607759489,0.05257736180103671,0.01851941696964962,0.039879855056853375,0.04189856563301338,0.06549161065075695,-0.02155033942759056,0.03046748024842547,-0.06445659862215691,0.07381651955766783,0.015075008987075793,0.07262286337484979,-0.07459181572666658,-0.0227120886751958,0.08296482290675342,0.03474555220572147,0.055375184842407894,-0.08644386142785383,0.002051221853276946,0.027412380858756042,-0.004613519478461064,-0.05656727293459479,0.06805246510881023,-0.04704630273694678,-0.050255131041208656,0.08469433640892035,-0.056118974753421445,0.07665218713475808,0.05955970442338461,0.0634071601673163,0.003915489205039979,0.040437866576529986,-0.04038920020417565,-0.07004581963459099,0.027678154589940853,-0.028312967664536885,0.08668706944824484,0.07608132822508458,-0.0643928227644445,0.029655070653015377,0.06059037969785449,-0.030049647522830063,-0.02404409664336654,-0.0782186050363851,0.042688189372245125,0.00009810705645179729,0.0010768060502239713,-0.06258923790426885,-0.06126696000972331,0.02728369201926219,-0.08544436601832783,-0.03361054108187754,-0.00018381284792179587,0.03127065256793659,-0.04755750259720207,-0.06255991077447083,-0.00801319790786403,0.0015971719609836805,0.05792531954780458,0.037729837999407344,-0.012482685581346882,0.06632806952242687,-0.00935901436909306,-0.07615401917083187,0.013912968472145315,-0.06234503152599447,-0.026787580566822865,0.0880260361670296,-0.04841859964267079,0.07333256960510517,-0.0459797475051713,-0.021410596332796447,-0.0803516345301736,0.05789663979683616,0.0538765957853885,0.06894193493784169,0.07116024968543884,-0.031912066642416664,0.01438298986239159,-0.07631932501873408,0.018462153613180664,-0.018361596446930077,-0.002101160101843968,-0.02329931709119184,0.021479432291420627,-0.06652044061447132,0.03495022534833125,-0.055706319818395036,0.06371705764908779,-0.03877122004926842,0.013058181352012721,0.060199447925353866,0.020810574508388635,0.08482186629673726,0.0824098204992711,0.04261975842173955,0.012706126584443565,0.01433770935150283,-0.031129724289699505,-0.0027195541337030576,-0.045571534885665635,0.07500135423146044,0.04049805490977932,0.042966344740075074,-0.07114526027998225,0.01971224726878507,0.08247750586889037,-0.07583575604248452,0.05582472016366686,0.07470855589815176,0.02370509532604691,0.03024222699425321,-0.07241465500450157,0.019840127267640815,-0.04116076166919104,-0.039970459359624726,0.07804050162740132,0.08815929866404223,-0.020605969583368623,0.07677533305833317,-0.07183237609568496,-0.012347424827646374,-0.07796357008513535,0.0015183636845277242,-0.056169495800068185,0.06795589068876746,0.054855759534506075,-0.05570685333602906,0.05302757271136773,-0.03280977493482833,0.0703763193117043,0.0063597114318291155,-0.05601589689512275,-0.062230156860702136,0.047250777593527665,0.04200237643489336,-0.07167297146279976,0.06596674107860927,-0.04312233847238761,0.08528073068744883,-0.030820362036372142,0.013131563354052639,0.058708931673071334,0.07760081592076833,0.0007931881262390716,0.025914931624404457,0.028229603085184577,0.041064952573725444,0.05001834284995048,-0.04689046433276242,-0.0702313988394065,0.03686140848785842,-0.056880559021426885,-0.010201538281112758,0.032081146430195585,-0.043787556671508764,0.06335358016431453,-0.06621009676647487,-0.038589918294304186,0.014719428512604413,-0.010066578945399468,-0.028497746636448086,-0.036098976309216664,0.07382703913237877,0.07118361936243647,-0.015214007784212806,-0.0807877878639729,0.02020106994571636,0.04365474360447975,-0.0121978241794049,-0.06420829523888225,-0.06873094197316507,-0.031985073299326094,0.06263333099622542,0.08199954811135737,-0.0621495057505648,0.04922895001453385,-0.06865072147953345,-0.08200136173776305,0.0515935830557562,0.014942585514088311,-0.02296090507963124,0.08275155115947495,-0.0796624037157331,0.04237763111985368,0.01776115951500233,0.03812923574865305,0.004019315338850243,-0.03747835634839051,0.039272038688210296,0.018497270076432114,0.02258189473808884,-0.013223086138572069,0.04609471352481988,0.07642104148114287,-0.08630831477059524,0.03259314443635663,0.03132941854828959,-0.010715228171663998,0.04271960136763072,0.00962717815230583,0.0030335735979617126,-0.035362065306687514,-0.0420532880831569,0.002168111773031702,0.06036381923377128,0.012655508285090898,0.06998941015017779,-0.029333359077745584,-0.044534550956357305,-0.003868443853881284,-0.026815465967342512,-0.03600703106964497,-0.0710287966229133,0.004881343760949984,-0.06370871273869484,-0.06420469343859807,0.033127817369564765,0.06976038542606681,-0.0746172359743089,0.03182286644140023,-0.05657792294682411,-0.025497234765043075,0.07946981564160392,-0.07881301453435174,0.0028178965123801286,-0.06514579710620327,0.0868949521660486,0.04864374281285864,0.018333613953117302,0.0800972552310209,-0.041037016111723834,0.027729953786203135,-0.05677345238650297,0.008509915702193727,-0.021977282924441573,0.08831076801620015,-0.05655730626810472,-0.003531344544631883,-0.08038659775484987,-0.03243113500349977,0.012637261712423183,0.06465655397322018,-0.06825354602549315,-0.04776413156261922,0.05872522200538599,-0.02873990793688348,-0.038484759439506945,-0.0733633888134274,-0.005956411214215615,-0.04726152878366801,0.07515508180416332,-0.011449807666748541,0.07383331203364851,-0.035333771702596266,0.032381315839868856,0.06436914475854748,0.0793061194105644,-0.08711335525840633,-0.04215060218087073,-0.05267436664271974,0.04873659094513144,0.03377443440234389,-0.02265700169071925,0.07903717856924619,-0.024730217210356394,0.030876674740991046,-0.06214648737747654,0.0010561132844478496,-0.02843510709285205,0.05792913588442138,0.05395084687471464,-0.017500603294595147,0.004957314225202027,0.0010781814194191297,-0.05330688956412563,0.02790876960193111,-0.0775521099040776,-0.004691171706597627,0.0761697164457205,-0.009381617798923284,0.003399318155558545,0.055638600816115956,0.06283962274205293,-0.07383209205194129,-0.07471060517017991,0.07096288503656487,-0.021252739411592555,0.07712229662049319,-0.06803270473251141,-0.01615486653784108,0.018773723628626126]},{"id":"chunk-7db5cddc-137","content":"Here's an example of defining an agent that requires dependencies. (Note: dependencies aren't actually used in this example, see Accessing Dependencies below) unused_dependencies.pyfrom dataclasses import dataclass import httpx from pydantic_ai import Agent @dataclass class MyDeps: # (1)! api_key: str http_client: httpx.AsyncClient agent = Agent( 'openai:gpt-4o', deps_type=MyDeps, # (2)! ) async def main(): async with httpx.AsyncClient() as client: deps = MyDeps('foobar', client) result = await agent.run( 'Tell me a joke.', deps=deps, # (3)! ) print(result.data) #> Did you hear about the toothpaste scandal? They called it Colgate. Define a dataclass to hold dependencies. Pass the dataclass type to the deps_type argument of the Agent constructor. Note: we're passing the type here, NOT an instance, this parameter is not actually used at runtime, it's here so we can get full type checking of the agent. When running the agent, pass an instance of the dataclass to the deps parameter.","metadata":{"url":"https://ai.pydantic.dev","title":"PydanticAI","chunkIndex":137,"totalChunks":208},"embedding":[-0.08071590313368635,-0.05458797732476363,0.014994559310192966,-0.01928039603353734,0.011234040864074729,0.043461889166562157,-0.08010817759678016,0.029229962577971055,-0.060189087200797034,0.01538705820394477,-0.06559845360685584,-0.08485918801042247,-0.07644182281922285,-0.07850805902650439,-0.008040480030408912,0.061727811004082284,0.05501546445612972,-0.05398808646104686,-0.07339561986074766,-0.06361851572205339,-0.05257294660125522,0.08640874749721955,0.004049646922540926,0.0743829838805222,-0.04755730619585513,-0.047655937168283126,-0.008938060921495466,-0.024964373908528847,-0.009353068510315412,0.06591957953110418,-0.05659070294311818,-0.024636933585518724,0.06124620341886456,0.041143156079999785,-0.06518645048010088,0.023640673645053265,-0.03138585376692568,-0.06407559470927324,-0.01591107015630918,0.03881747347699885,-0.0015852049264719768,-0.01861954134440667,-0.057396811343385236,-0.06942763478839842,-0.03512944829617917,-0.048790242782809544,0.04695988848696067,0.033371495929933874,-0.03379633926329832,0.058158648278118855,0.019327648102318868,0.05291237635977352,-0.07160178307056039,-0.07907695576827642,0.08017811638647707,0.08787387813685302,-0.013864162398977902,0.07319499196039628,-0.02889371372836806,-0.08328755856361837,-0.07109679318447007,-0.0873151475038627,0.06983821278122536,-0.018527697599780714,0.045086084778248575,0.03969496260320302,-0.0010731328147498263,-0.022587633047849456,-0.014386757442499013,0.06125118333533185,-0.058583534987095384,0.03387067729508466,0.051176814726982905,-0.034218434787105345,-0.0836406003403292,-0.0568946891660604,-0.007220428875685002,0.050335417511254706,-0.036822617810540165,-0.035932435071898666,0.012250885929399628,0.027598752834075528,0.029777127091393192,0.024409987396622555,0.045637365489629676,-0.00012017647394060754,-0.08684396916822626,0.0015749908437682494,-0.0719719087982274,-0.035625257320081816,-0.04897513047063225,-0.05955356906407345,-0.06573062653022284,-0.07647600757091005,-0.02736291755800867,0.053852394110466724,-0.003970501390550736,0.08206226879382506,0.07154980112958154,0.07061238206072815,0.04031625890447925,0.040082605227964724,0.0821669062218464,0.056552352415382895,-0.03547593322907569,-0.026606546146243415,0.005508742451380171,0.07396950033108589,0.007462149964082906,-0.053167043424152835,0.07921907306107182,0.047227715706706384,-0.03384706644569934,-0.039331850862919134,0.055423808862931245,0.07079709255932498,0.08599382144159172,0.06388812408469523,-0.018199177007304324,0.002501961400185229,0.0783093479007716,0.07760666825942361,0.004526600852798483,-0.0853835065238434,-0.07943643746005498,0.005426132239456458,0.08776582862319272,-0.08114889768431748,-0.04627710768901458,-0.026652584982795043,0.01669125039072318,-0.06191826871578389,-0.021397715853496334,-0.01179189660327459,-0.08752191013444184,0.060481501153813,-0.08654196329039608,-0.017977465206060278,-0.052259282073182624,0.03265568374684038,-0.024561347121534034,-0.019947447877171596,0.08507400260812406,0.03137786870477159,0.07693793685076496,-0.004199781864795702,-0.0195744331677265,-0.036561473486573,-0.010446079143878958,-0.05344896795284072,0.0754525873929132,0.033378180513823436,0.014977862682232593,-0.006669296185152896,0.07501199186515292,-0.07112013232663981,0.0603212008016663,-0.00474759776988276,-0.01642537832951792,-0.08083564819989732,-0.0728740074035749,0.007980515209557943,-0.044608976703023294,-0.03078763131837116,-0.03441926584230091,-0.045012686002542796,0.06799277241350854,0.053124666925506374,0.038206830296079235,0.035666827505666895,-0.02110694874750237,0.07958011961945234,0.08396252601468569,0.08220237096232869,0.07271049065101397,0.0819289427221964,-0.06499037907909645,0.026172882917236507,-0.059138233075589665,0.048758081158073924,0.07741123287882529,0.048707944890229074,-0.06312098088177821,-0.009899887045712466,0.051009255600823984,-0.025023716633771263,-0.054431027944368444,-0.03769487904192067,0.08689995730600367,-0.06162144199130963,0.024422123139428733,-0.0015578599367587198,0.0072901751594942376,0.002000022022949064,-0.08161451765635533,0.03092227406710162,0.07242348015478862,0.013140647248368288,-0.007963957954834492,-0.029607830456466703,0.08277492304063779,-0.017566131034742964,0.07966186577255563,-0.06026855483528857,-0.06615277681539838,-0.027021667920050004,0.0042730124329246975,0.010546963047222902,0.005645128126513108,0.04196024007449244,-0.01313802781366638,0.02990979568086173,0.006580763271139992,-0.06694716133069975,0.05150969734844514,-0.014744124416631733,-0.0812844797654684,-0.020639192918740654,0.07634849613453737,0.07180919985864204,-0.03262677679023233,0.08189295874913555,0.04575223078741074,0.0877839929081244,0.07225204833776716,-0.061423760887640906,-0.06760177264299587,-0.07286449458384438,0.05563797627046024,0.07526344086970438,0.005030986473083544,0.031211570513608056,0.06116484831246555,0.04180120531519419,0.04546560189228584,-0.004756199445401356,0.02086725895722321,-0.04212005101281543,0.05195658093530339,0.062195550613332984,0.008955401919848331,0.016007066318399907,0.011664537366441187,-0.007722723451687125,0.023921838628101613,-0.08444902107538586,-0.005487666938803725,-0.0340368457021821,-0.062025991100719775,-0.042154118728960126,-0.056055826418884624,-0.05766398209818003,0.022375976299936717,-0.00502598032638628,-0.05407763928842202,0.022470340405661336,-0.005682629480769335,0.03970821918083994,-0.04900374843611167,-0.006410411648364014,-0.004975607887429676,0.020718723193118266,0.022591164234285022,0.07375865952801682,0.07017419879864581,-0.016631566319089377,0.06097345011491153,0.00837403336480519,0.07128663539411229,-0.006080910666349814,-0.0732472406819093,0.02066681617299716,-0.0019177231413072438,-0.062311049632689935,-0.08785009704165554,0.054249375234494614,-0.009238587724703016,-0.04712873435595748,0.05076587095455987,-0.03673552717389891,0.0332556424373198,-0.016236775097757075,-0.060866707292624424,-0.05283700088456565,0.005445040811879805,0.011679550274414448,-0.036438483899685764,-0.00932779474064194,0.04992355158528695,-0.03614724745678232,0.08225367897242686,0.007161046169438061,-0.05300304349581721,-0.03862401997374631,-0.058607114258141094,-0.06793383013676874,0.015602773019500188,-0.0020752869891563297,-0.04588905721181908,0.0323510825023205,-0.005851054851208146,-0.005332275981363336,0.026031521598732232,-0.06492485171197976,-0.029006318231943638,0.034666335440027424,0.08206058956749401,0.07802622326773374,0.062253371103451347,0.08610834214425898,-0.0038390326247881063,-0.0072182012225488505,0.07187109658212691,0.02962589151010831,-0.0874924283334662,-0.07958011190088886,0.06295766737608899,-0.0779290911092134,0.018576862372685386,0.023258365442090725,0.042571010398837025,0.02169619163027646,0.04764790684064478,0.08766252669802242,0.04726090580464543,0.0733066758741161,-0.07817747947300717,0.03329605230613671,0.06712680943584018,0.00990994282074061,0.02881392593864217,-0.03844392883562835,-0.02465187212787087,-0.05484957016043514,-0.00595416413891436,0.07267708510724696,-0.031705036609525915,-0.01780966543127457,-0.012249139087899354,-0.02846740020602567,-0.014672359110959137,0.05901943291984778,0.020294239788236256,0.060926113021786334,-0.001306185085047853,-0.03563593392137282,-0.07767424084793781,-0.008095484152942891,0.03205470556300804,0.02522066039599995,0.0736662624078367,0.07486006616148429,-0.06162009014516502,0.04264510370840356,0.036758879232420126,0.04734723800525359,0.07119578623129112,0.036320580713514954,0.058123964088419584,-0.020574642111136993,0.08338451901206431,0.036567160893980453,-0.02734352118752958,-0.07001487184809825,0.03197993340127516,0.07120392921040339,0.04354949919366769,0.02619690697076243,0.0655228600614061,0.04425352999274224,-0.00961062324438576,-0.034910440974444595,0.02359647979473642,0.0204492860573862,0.03679606990626284,0.07653482175776999,-0.033692988881216246,0.02895336979245111,0.08434794258459298,-0.003872770965716976,0.009132905158198165,0.018739972034852604,0.07407939627160681,0.05262507706818543]},{"id":"chunk-7db5cddc-138","content":"(This example is complete, it can be run \"as is\" — you'll need to add asyncio.run(main()) to run main) Accessing Dependencies Dependencies are accessed through the RunContext type, this should be the first parameter of system prompt functions etc. system_prompt_dependencies.pyfrom dataclasses import dataclass import httpx from pydantic_ai import Agent, RunContext @dataclass class MyDeps: api_key: str http_client: httpx.AsyncClient agent = Agent( 'openai:gpt-4o', deps_type=MyDeps, ) @agent.system_prompt # (1)! async def get_system_prompt(ctx: RunContext[MyDeps]) -> str: # (2)! response = await ctx.deps.http_client.get( # (3)! 'https://example.com', headers={'Authorization': f'Bearer {ctx.deps.api_key}'}, # (4)! ) response.raise_for_status() return f'Prompt: {response.text}' async def main(): async with httpx.AsyncClient() as client: deps = MyDeps('foobar', client) result = await agent.run('Tell me a joke.', deps=deps) print(result.data) #> Did you hear about the toothpaste scandal?","metadata":{"url":"https://ai.pydantic.dev","title":"PydanticAI","chunkIndex":138,"totalChunks":208},"embedding":[-0.051958521385823804,0.022501439054939502,0.04357805774049463,0.03042661126119024,0.04179250828624851,0.028242117122078834,-0.05825985793309454,0.07399390135195145,-0.07882264373613923,0.020886283843155815,0.02447077402897628,0.028249699925611615,0.0491941244633873,-0.008388057612915684,-0.030662160773455432,0.052377772584095504,0.012628035067120232,0.010063077962261299,0.013979989157790787,-0.0012669045727232262,0.06938289480938703,-0.04652687016639274,0.03344838417788316,0.07341199638841135,0.04701930283463302,0.02460993212634505,-0.046848558306743567,-0.07181966481073083,-0.07203879347225331,-0.021669957650643487,-0.08511332651567736,0.08394979546410555,-0.07241246020627196,-0.07421588797176254,-0.07196003031987998,-0.01415076909428943,0.006204751898288246,0.058521894318382096,-0.014678841013755661,-0.021192479442169045,-0.06557184163449777,-0.08451380488435575,-0.08076023267143348,-0.06383617573656,-0.07959028684946429,0.007213296669444423,-0.07839220555397065,-0.025260216800130315,0.03681550182103884,0.04470559570747882,-0.025889900660634776,0.004244945451425962,-0.029695778048574567,0.03442103769351873,0.06634389223690675,0.02017288940146495,0.05530049268045577,-0.07283129857093813,-0.04603599243643309,0.052190177673458266,-0.07189932894523968,0.07806017305062327,0.07365622386367976,-0.08938491570962845,0.06586508791808059,0.042365574693991125,0.009544625265304679,-0.08155776054308372,0.051178309950465004,-0.0290448015325606,-0.012945910249493578,0.05231560002618177,-0.010672123053881983,-0.02049689426423499,0.06104266552100672,-0.013108420342724015,-0.007431981932785769,-0.04871058191353265,0.0008400825606183819,0.0888613024352759,-0.030284931982453644,-0.021268604788295464,0.06455672257257108,-0.0002951338261349359,-0.03853122396282246,-0.02085298512122964,-0.023461067017488645,-0.07015504491897127,-0.005603809382537395,-0.033197670367469505,0.033994359163315925,-0.04267736915610969,-0.023506560933526353,-0.03690672447550081,-0.00025197565242586343,0.06920119510301519,-0.009835269311714068,0.033917299998785906,0.07840923679482643,-0.020710537880665368,0.08503303444657527,-0.03503329878081352,0.040081049244901794,0.030163466536429862,0.037701823212999995,-0.02935442880684831,-0.039515909449845364,0.05122824457383979,-0.04768606831831002,-0.0348142410526778,0.06850783930105726,-0.02481289563402791,0.0050539946591369464,0.05827643589632761,0.07128727042013715,0.08986229942713936,0.05908808591532154,0.032430759129610846,0.05853522145573811,0.08445936221070222,0.08267215397689585,0.0055136122825304975,0.05028091950609134,-0.08755318292938621,0.017757945170075347,-0.07877449219517406,-0.05431680436579377,0.009705530697587287,-0.021352665800026482,-0.0008565431468915229,-0.032753151125627336,-0.09013365727515167,-0.01744424728716049,0.07277167266290581,0.012629475626196105,-0.017153733532629476,0.05242076619352963,-0.028862804217827352,0.015288887628560935,0.07749434474184705,-0.026473415405376143,0.021366666321306127,0.07005123293236733,-0.08625132430220694,-0.04374800566271185,-0.08532968492215719,0.03722439879956734,-0.014548931335951901,-0.013703117664394646,0.06042094990807599,0.039840997107016614,0.05040711836492178,0.08198763190946903,0.08143929445360927,0.034732405772934696,0.07213833763578767,-0.08644594155670489,-0.0812991839319889,0.014249044200409417,0.034720557365916234,-0.040870692348219786,-0.03462164758068733,-0.08546569720218541,0.011451320027359144,0.0069220485852042254,0.08036015445151966,0.07702976525446015,0.010107752620453296,-0.02236700569148688,0.06832338586874362,-0.01621880504051118,-0.000638724426106153,-0.01620368296810313,-0.017418468000443544,0.08277127460240805,0.06132339334653229,0.06042235426522081,-0.04804888103871212,0.03424494608031296,0.056139040105085004,-0.08847823728969606,0.0748660469749747,0.017200129305203003,0.019278403378562157,-0.08671727972214437,-0.0010647978270465028,0.05071760442283028,0.013155174065825101,0.03132406614326403,-0.05101936173666255,-0.06342427264718259,-0.08261578249210046,-0.03645703935803098,-0.00631963145611658,-0.049315602528087775,0.082544242830912,0.08193614614652787,0.024552945044996055,-0.0856829811420424,0.037775085806105606,-0.037008816380358564,-0.08955515445257205,-0.012552243494534706,0.0624947967715097,0.056190366487734185,-0.0302282537110041,-0.0007935708747899881,-0.0528241406734177,-0.06259910651435484,-0.013721617377928333,0.0819317104794701,0.027623613256048365,0.039676571338134056,0.05748190077164223,-0.010859119725767268,-0.040712863785899625,-0.025077326769628393,-0.06330749552164439,-0.03020351225112238,0.02445962500522343,0.04026512990865563,-0.04256954221965089,-0.08739311298925329,0.0006235708680216055,-0.07302241823242925,-0.08295817396523517,0.001782766127453581,0.06623278016291487,-0.01598500837616292,-0.031037235794280603,0.029916412830659687,-0.0776793553749258,-0.053807559064451296,0.05895389797390798,-0.0890342938623613,0.007033615622251088,-0.02235946750288672,-0.038662493915957975,0.05804278416090841,-0.041214880966990886,-0.05762700331190867,-0.027194103280203014,0.07662423175559929,0.06368366000548893,-0.023602822291275527,0.028447170033924888,-0.01917917854424956,-0.014188760322891066,-0.009069885213979948,0.055509854204756265,-0.043656262623139076,0.07076795502554403,0.04613303000635925,0.07851183893498534,0.06600938695650861,-0.026021171430912052,0.031013204974768522,0.07066419314829854,-0.04648966995379924,0.061725818640599714,-0.04979155939818956,0.05039208105712076,0.0012103993978560218,-0.015965653951672022,-0.08422530585132246,0.07919388527045729,0.006324471202456305,0.002999551704621196,-0.0727070908416508,0.0480881810222582,-0.03482744932971845,0.0268810145656104,-0.002688009598037383,-0.06603773305597868,0.017213077849149876,0.012191520606300327,0.06286874421399133,0.054004256172515294,-0.0482461685473412,0.07252522177626149,0.03689232008556148,-0.02732309191795979,0.0005234466122764684,0.03483777524056099,0.016678337492006576,-0.07691503599135108,-0.016651687628472935,-0.02169142790572556,-0.04179409933708404,0.0859316160598799,-0.01570066912153519,-0.019434449055513097,-0.051143563279766935,0.05096154026585527,-0.025707996281100477,0.016505544478944558,-0.039597428703708894,-0.01382945001993062,0.030462647085833742,0.039798482447343714,-0.03976275861282257,-0.073467730784378,0.050098127493959976,-0.065695202417749,0.08957277133992377,-0.03196771582546237,0.005171305032544226,-0.05692416928035102,0.04362657417566945,-0.05587685674066575,-0.05207884665497311,0.06855777248285429,-0.07746136899589419,-0.07108739862375286,0.08490263788257155,0.07283970580981827,-0.053544440397075815,0.07818035083786379,0.022227379663427194,-0.0726451151693557,0.016941739681976545,-0.07497045120870081,0.050392588004699895,-0.06783673996707705,-0.031860764078456276,0.03691253260516704,-0.03875788210783001,-0.05995509829329618,-0.06796672597031331,0.0540084767114216,0.004127799966194519,-0.026804778791820538,-0.08730958018581383,0.07753173631398014,-0.012188790270664603,0.04124024714111655,-0.06592081070593017,-0.033914581665188064,0.059702695215046675,-0.03682092463218294,0.03368659751918559,0.0647251053411211,-0.023331812118462303,0.052661106008907214,0.01741015087784209,-0.011745791453468248,0.08889161155281068,-0.06903059593607401,0.028426624453383096,0.06032929834610688,-0.008649339227142307,0.08600328126878534,0.0541144970013714,0.08693084054247269,-0.0852337766916773,0.02117846195023312,-0.0772127778470196,-0.07191932331796719,-0.006340974754516925,0.012575807176894473,0.006422898793176839,0.041350718533739526,0.05463044427763239,0.03852769801273854,-0.011492078091178075,0.025975593753881202,0.016868671993775345,-0.05088537147601623,-0.03855788362784638,-0.018376592821019902,-0.05842333463125148,0.029877856298899375,0.04191454632080663,-0.00031862001608395837,-0.03594818121328421,0.05830239828269863,0.025523126326773327,-0.0022689641667438328,-0.018715627493332828,-0.019093574372515423,-0.04912963005954995,-0.007573268819960061,0.037530885371390925,0.08940800740629222]},{"id":"chunk-7db5cddc-139","content":"They called it Colgate. RunContext may optionally be passed to a system_prompt function as the only argument. RunContext is parameterized with the type of the dependencies, if this type is incorrect, static type checkers will raise an error. Access dependencies through the .deps attribute. Access dependencies through the .deps attribute. (This example is complete, it can be run \"as is\" — you'll need to add asyncio.run(main()) to run main) Asynchronous vs. Synchronous dependencies System prompt functions, function tools and result validators are all run in the async context of an agent run. If these functions are not coroutines (e.g. async def) they are called with run_in_executor in a thread pool, it's therefore marginally preferable to use async methods where dependencies perform IO, although synchronous dependencies should work fine too. run vs. run_sync and Asynchronous vs.","metadata":{"url":"https://ai.pydantic.dev","title":"PydanticAI","chunkIndex":139,"totalChunks":208},"embedding":[0.08093356416332159,0.08352579371238972,0.031218188439618964,0.0012224962256103865,-0.010908438711689242,0.07174269122379848,-0.03685665089560909,-0.00814670444703271,0.08823287471413056,0.06048055947826723,0.07262866562499581,0.04241994229195572,0.05805714885693012,0.04136702532070347,0.07475101951533009,-0.04991826434343224,-0.054321099945461304,-0.026237964710691973,-0.07914723292228831,-0.04636283161677576,-0.02279865081804735,-0.07611365014468938,-0.03680719850491548,-0.05718503706167974,0.0044266782526047,0.04786028778559995,-0.07836017761214359,0.010887060330962848,-0.08657232289092416,0.08332401995240271,-0.04828599647613568,0.07403024236566069,-0.08558646552289086,-0.07526976184049632,0.08142136008579079,0.07334500188697858,-0.0070105145853710474,0.025060175550461364,-0.006076310881371114,0.06098897956387364,-0.0038263417464232,-0.06319886140841918,-0.06752699505967819,0.047115246430902806,0.03189027757060014,-0.034343853925313625,0.02894802366696921,0.042827926681903876,0.07097479893639812,0.03401241666509195,0.07271898441166644,-0.07703523989234749,0.04058070123390717,-0.07649512456990604,0.03032050021839441,-0.0832474976502926,0.012276727797486751,0.04780663207780487,-0.06783473898237827,-0.06507156014326826,0.017881974152623936,-0.06897723162449815,-0.014359983062772882,0.03668393774224633,-0.06670409106082147,0.06837610161845428,-0.06629517396643614,0.01129021933569738,0.04625405401908094,0.0839931972888615,0.03407188252985244,-0.026618121893583317,0.07865355414393928,-0.011615042060388332,-0.06632145700491854,-0.05349206023292984,-0.08473679834248234,0.07702205253136304,0.018759089234729603,-0.04809914047137574,-0.030124595832970103,-0.009436248132435009,0.019366983013053903,0.05141995778676144,-0.0441129256598967,-0.05306005355671745,0.06697629962616095,0.086011988711842,-0.03852643396326885,-0.051221601915107474,-0.050291527403146206,-0.07092850448941655,-0.0591219095793058,-0.034217235962216735,-0.010428182481042155,0.004858165931054953,-0.05196150052859035,-0.04101614170095164,0.06938957136556739,-0.08595786365302686,0.003585295421071067,-0.07183757061306509,-0.055216520073200784,0.020499719411973292,0.07252802330403957,-0.009536396365674068,-0.0002710305509281596,-0.06603772080835267,0.06788625817452273,0.026699306970537667,-0.07490287592460076,-0.02564261415073388,-0.01789979994437794,-0.08206297676590128,0.005195204450105111,-0.02903485066892337,0.08016344606409478,-0.08227617049052871,-0.044274185540406505,0.0022911446511573075,0.01650388995567924,-0.06738551983689908,-0.0787621926688272,-0.045979048399793554,-0.03472368457169148,0.031182091975489705,0.06425937683695243,-0.05545230842725566,-0.030323332248057673,-0.037051134779308596,0.018280341717787408,-0.050123825337006184,0.0493849755458315,0.041744668629131856,-0.019293146402324678,0.01766803142762009,-0.05198948891635407,0.03656394201551582,0.06927936619451554,0.06611527420398541,-0.0011183841172761433,-0.008629637137771377,0.0049368457436557035,0.024434997300160435,0.027562160626138314,0.04485446890079293,-0.056159201060496364,0.03375239772505051,-0.07287918587150956,-0.03634840977344544,-0.04360390177954477,0.005311281873691585,0.03304974295422272,-0.014788376132880792,-0.06374745873394876,0.0017968262363395736,-0.017854041133299057,0.08542268498691868,0.021865368106050522,0.012764424022738355,-0.08036334251522707,0.0426993608867622,0.008274175283346346,0.05966716357442687,0.045759423367101364,0.03736631545320726,-0.02812888255086065,0.07455329514788962,-0.03071702848502225,-0.037312411846453626,-0.04616532833111822,-0.07118000404893206,0.0442012356341969,-0.017752781272419364,-0.044390744598170516,-0.01157729448424793,-0.060514430632210285,0.07481302663353535,-0.04828327807586584,-0.04852948367738472,0.08413891457963733,0.05859135700750941,-0.04709436499250601,-0.06456370164775892,0.023997238584773945,0.023621847177363986,0.009270978052418522,0.05942617429350708,0.07994437241136597,0.045766261233203806,-0.06075179756599385,-0.01983040425136439,-0.06498232810319973,0.019468038731222555,0.027719468982148283,0.07472461877893993,0.01693164058463443,-0.04851494611605185,-0.03412024794871773,0.08464112657282195,0.03799242716509791,0.050326867053531524,-0.08630755881122615,-0.0708342088551645,-0.04407747399651425,-0.0014618592335510993,0.08178841691148371,-0.06290921828699249,0.009459781907504591,0.04375620349313744,-0.003829015471787395,-0.04914641018176945,-0.028016572148036267,-0.041657964195257274,0.04950216325752319,0.01404050348204938,0.007316944725582614,0.002085322138247544,0.048135551835568835,0.015464882063575307,-0.009503165832508206,0.05698791651736151,0.049761670866187976,0.08784291921191832,-0.016409487000968115,0.022843298532416612,-0.0036254900847046915,-0.022347570366363836,0.032896237583335416,0.058527833836348374,0.07589546926271945,0.009205997924815523,-0.022043556120422598,-0.06372719042926393,-0.0590821813910258,0.04375901366895051,-0.0865989419417478,-0.030574858463933895,0.02856597009948808,-0.033635452720779745,0.029055743007391988,-0.06702281878846551,0.012513664358634076,0.035177905487359475,-0.03733641205869928,-0.008611827619668444,0.0463964434371824,0.08649748780114824,0.011681890557997395,-0.04363337961076476,-0.01188885889267452,-0.010800000810880714,-0.08583252536387895,-0.03841915442503031,-0.00183873989445379,-0.06518344929197263,-0.03653385079539654,0.012883493010093852,-0.00185591572833291,0.03136559196766273,0.044090121454972785,0.01954534369842824,-0.07103172978988061,0.02360320748205533,0.02529896457066566,-0.002654275574677337,-0.07424534526556627,0.06928729429741406,-0.004714841208400619,-0.07962784546407461,0.01976891954833517,0.021693818958872842,0.03503857230033524,-0.07996257615336445,0.019510702509669284,0.042663114486641916,0.07499808604167985,0.07923892524004685,-0.041240186806074206,0.05103642288014941,0.03663792915642056,-0.017644503215504218,-0.047391826713335264,0.04057585683611038,0.07899298413918625,-0.06297116442184555,0.07451587873002655,0.022967483171276434,-0.0733762512882153,0.0875206536362446,0.07110343798612598,-0.04234581195399195,0.08807312158041494,0.08719864227077942,0.07515218035501621,0.03478720726022997,-0.05475290499122632,-0.020719682855844777,-0.018295190620821005,0.02084794424864225,-0.06617688421766227,-0.05747207047187813,-0.017184436371739012,-0.00935547160971983,-0.017891199770809173,0.03154221912524926,-0.05414274664250215,0.005556094272740496,0.045616824573597885,0.08370354577548289,-0.05480331497379411,0.07414511296261654,-0.06796329900637212,-0.0790211726523954,0.02201767323663054,0.07527364234997685,0.03983032698677337,-0.03205507693349226,0.01203085598237199,-0.028627284012259658,0.009944160135260564,-0.05568378617285287,0.0026792837747089482,0.00703887613703758,-0.05707697381852277,0.04840035596137543,-0.027673683487611678,-0.05681635515166108,-0.0023131714244688153,-0.029138208239582308,-0.028596410162469995,0.038830900910511404,-0.07823472224350533,-0.01820109855175187,-0.003627451182915428,0.0874819420304325,0.007408534123893517,0.02592300422626356,-0.02380972939072779,0.07148643077881882,-0.06915161237583052,-0.07207982925822776,-0.04949769934717845,0.02453795327531495,0.051824540170989565,-0.07901433527005809,0.008056805052069616,0.08041638232234669,0.006167209487934897,0.03482461841241439,0.08916648256902823,-0.045837853813319944,0.05334779507231969,-0.03207012849747258,-0.0625270095947046,-0.07676069241537853,-0.03608628681164352,0.015872289748183194,0.0022241847720295524,-0.03245754009481468,0.056620763018104946,0.025859402496162462,0.04657118479853364,-0.035713955643313845,-0.042152853678158034,0.07332903064420541,0.08257315570717086,-0.0833484829008668,-0.015018443594768189,-0.020987286545384815,0.08166702040892951,0.03486521919695832,-0.026534905817200295,0.041576506404037435,0.05853660180264285,0.07352440954150102,-0.059917243161117344,0.03215919697471342,0.009521666548447967,-0.05128393471008992,-0.05083108469332558,-0.05666443469983717,0.03924888565288471,-0.08156915421375727]},{"id":"chunk-7db5cddc-140","content":"Synchronous dependencies Whether you use synchronous or asynchronous dependencies, is completely independent of whether you use run or run_sync — run_sync is just a wrapper around run and agents are always run in an async context. Here's the same example as above, but with a synchronous dependency: sync_dependencies.pyfrom dataclasses import dataclass import httpx from pydantic_ai import Agent, RunContext @dataclass class MyDeps: api_key: str http_client: httpx.Client # (1)! agent = Agent( 'openai:gpt-4o', deps_type=MyDeps, ) @agent.system_prompt def get_system_prompt(ctx: RunContext[MyDeps]) -> str: # (2)! response = ctx.deps.http_client.get( 'https://example.com', headers={'Authorization': f'Bearer {ctx.deps.api_key}'} ) response.raise_for_status() return f'Prompt: {response.text}' async def main(): deps = MyDeps('foobar', httpx.Client()) result = await agent.run( 'Tell me a joke.', deps=deps, ) print(result.data) #> Did you hear about the toothpaste scandal? They called it Colgate.","metadata":{"url":"https://ai.pydantic.dev","title":"PydanticAI","chunkIndex":140,"totalChunks":208},"embedding":[0.05152095990381912,0.05768204351436335,0.04985209582981688,-0.06256037314228326,0.08317958104304446,0.03153768889582395,0.0003643352316848551,0.06999360807387534,-0.04317591981953098,-0.08736143263206848,-0.026726184360867756,-0.07572834697995363,0.03374226729219518,0.05894692884101511,0.0420650172567253,-0.009423393044322862,-0.05034476604400358,0.0769570991857472,0.029438734925621247,-0.06561785980732333,-0.033778128395081576,-0.034500194945233896,0.037310481062915506,0.08344838312854491,-0.037501339812101214,-0.0762856291625038,-0.07212733273943774,0.014831589156567232,0.05550386507662622,-0.08209505476783735,0.030423352454712952,0.06311706998161923,-0.07963618643670928,0.005388911442878485,0.02492804464801907,0.08275710571066572,-0.05866407821643462,0.005526164310664605,-0.021777107959531593,0.06492112398287953,0.03184677724419172,-0.052952152727527055,0.03639139043943843,-0.05117371004723174,0.05199913435815071,0.06820338856175596,-0.026421299385456322,0.05643323887926846,-0.044684717504350234,-0.01678700433382075,0.02822303181743104,0.010817123853662451,-0.057553401713499944,0.015567860611034125,-0.06659827887892548,-0.07263472931582092,0.020323220182759488,0.011263718479834374,0.036254311317192055,0.08595979770380424,0.0519025081813383,0.011538517843635417,-0.019170062133719596,0.0189496943754571,0.08762931587738244,0.07495315461972893,0.030640553794969713,0.013689980808832505,-0.03320655884300802,-0.05232704543800927,-0.08327632927046114,-0.026043170782749477,-0.07706790807839863,-0.03271402104288738,-0.05088371860725545,0.02808161901255431,-0.06052576043886549,-0.07387517346017108,0.005115661672694103,0.009205185731884918,0.02502490761828006,0.08721667274018051,-0.0388730657028629,0.04528091143306123,-0.06829360755555257,-0.009228814596016299,0.012552237358830728,-0.03614817531663507,0.06729616729677891,0.022805396759734184,0.0401894337470615,0.06275631383789995,-0.0717187350511339,-0.06161317396598325,-0.08344362122022811,-0.02697552946144269,-0.05663509888034869,-0.019536482938366302,-0.06695479228527614,0.08287618475457673,0.07545730622391554,0.03257907473271085,0.05060917129921689,0.0009569239673252877,-0.01846620733282838,-0.060023633586197826,0.05572277102061992,0.024987569694441283,0.014834126583516207,-0.06594005001174869,0.0042817382382642315,-0.002651861559167774,0.006023702085070785,-0.0865091702652773,-0.016533832790970794,-0.07194434679694452,-0.07483306251821786,-0.008288008126779456,0.029027202993042612,-0.0400741146849788,-0.0769276963866873,0.04557735260449186,-0.08744139506583631,0.03795366592958334,-0.08762038966255585,0.0017840804058633995,-0.0543872635294363,0.03297749573354701,0.056042104356497785,-0.06742201971785397,0.005413682434893293,0.05636505669711151,-0.06850351500103,-0.07354347908268717,0.06966062044703979,-0.05328139371970768,-0.0040242115016558095,0.07580994793313833,0.026120581177842665,-0.03627145123668624,-0.04218280162961188,-0.026037071888154257,-0.035777421190088116,0.0398878549122007,0.031895340554206425,-0.04407035428613186,0.08611594381077818,0.07925127908602572,0.0806314329937941,0.03558014297398735,0.08515540190253533,-0.03792795601327855,-0.07285369379642057,0.0641567806675709,-0.05150101607530016,0.029528798366145553,0.08463595216385034,0.006521063113551058,-0.04151968506099916,0.04960381317411533,0.05273962530062791,-0.015870680826076688,-0.07930551052889519,0.04335301893966294,0.0547439979442384,0.011960498128112477,-0.08553725994866368,-0.015302925517434252,-0.04619228566922781,-0.0674392222237006,-0.05912199823353375,0.030271657677106944,0.04679103840541499,-0.061437610591697694,0.011399910754644055,0.056407786407311714,0.0056390901677842095,-0.04036986913254141,0.05746917472252595,0.04992135107246461,-0.02322152294572523,0.04743393105534732,0.015096245013719261,-0.010076765127732399,-0.01612768245316979,-0.013014616482801646,0.01905234953014681,-0.025381686743085573,0.073782296422975,-0.03441913238108103,-0.03206488480629055,-0.038196428122998935,-0.011281602216402857,-0.05513512577473088,0.0759444291352125,0.015400047699029671,0.003715383448330443,-0.06748427893921961,0.02922055209985546,-0.07016625308519639,0.031575409053539776,0.06082372073715675,0.023318058895780643,-0.01604778072310434,-0.05516608131101528,-0.06239557907195208,-0.02255803770791726,-0.0638335118839875,-0.008988408170313688,0.0002783253634352486,0.002295192425410289,0.016518867015898813,-0.02707346441579534,0.06298416951664614,-0.04393799166054848,0.039256029480677565,0.07272931522079379,-0.0008005856768387291,0.027096135187337184,-0.0301850224484859,-0.051864122862304185,-0.04865926909199064,-0.0010600739315201001,0.011335760827787712,0.04051446035459217,0.03233466986421335,0.06866403893286321,0.0584811891587288,0.019430309172179795,0.01038900789473792,-0.08589837410652093,0.06345771529664208,0.03403828125215327,0.07006199379798993,0.04801741929056468,-0.007912924486926376,0.04799387814183865,0.017130432985324462,0.03502865548771681,0.01882390104590206,0.07222113632946303,0.060195226443198434,0.06107879134927753,0.04497846417292072,0.02724682981822159,0.08612509595680193,0.008084919465806467,0.0789066220470939,-0.05678635505356969,0.020980145693751662,0.025799625181013065,-0.001154140860028339,-0.08474427777037973,0.009708790991327513,-0.008212978705774289,-0.05072225055217761,-0.03082038694995866,0.04963196305306511,0.0002427452010789679,0.06185443898826858,-0.04879624772805963,-0.07065211442301454,0.049249666519213905,-0.02178707138529856,-0.05565277890766814,0.08175885978442343,0.06490117534359917,-0.003115292501930627,0.005839837617813655,0.03409494821971301,0.020731254957896454,0.0004976113320338482,0.06222310487080547,0.03497362562876459,-0.00699509440334871,-0.0439941630023674,-0.07868187808689811,-0.07349066892518934,-0.024474999241751366,-0.013488552473634443,0.07375750693563474,0.07488353223439892,-0.030533086627603023,-0.018189392854257982,-0.03981927109661965,-0.08580710600495965,0.03437545394077897,0.019214927933553297,0.07655074986871307,-0.08349352013605563,-0.08159954023621006,-0.020504016069565867,0.0383011418359521,0.05191559276181104,0.068119342705857,0.06496528689899951,0.010750700140229868,0.03925809449306226,0.04989819175890342,-0.049773299226440026,-0.05781720773044091,0.07614424183251277,0.08243406733496515,-0.07583278398136994,0.026404511063421784,0.0708697988562173,0.07477093279080971,0.087709219722943,0.003962573241887153,0.003939221513965252,0.0747239348099442,-0.0031705910715189,0.04285982367315374,0.05645740735592655,0.05654517515727704,-0.0017496023118179485,-0.06583886261658473,0.05148364404671649,0.07254193825268472,0.004650425567387629,-0.07999134754692007,0.07024222871179182,-0.0735900970026032,-0.06295842006772545,0.05702855678076824,-0.059199426231552776,0.06208994349069526,-0.08621520553450406,0.021909989733956838,0.01529644479690012,-0.0605693556724491,0.02391164038916654,0.008881947221113202,-0.0869825265694405,-0.06460347544203529,0.033206353238674303,0.04483434981748747,0.02385047996749445,-0.06873407827517786,-0.031847104819311384,-0.06630014972899416,0.08776098959394889,-0.007796063668879185,0.011053333548443511,0.06737843652439622,-0.025049491151419943,0.0359287801504988,-0.02091299440065224,-0.060211307521126314,0.06305463993394372,-0.07491964324576114,-0.046763292128009074,-0.03900257568314081,0.07339795345274157,0.023285759458958024,0.0014265715836468734,-0.029485875158595555,-0.07233071775871776,0.010073702264646014,0.05823579304098625,-0.016049533158545935,0.050610953961699935,-0.0303976312245352,0.03498822581610389,0.03891779588279757,-0.017434538916162923,0.07645170249862336,0.011200117294098984,-0.011105336313222695,-0.035309556324582415,-0.031118217245867465,-0.00022014593477349221,0.08459792478870129,0.005890660463039589,-0.0577600565800566,0.05493860811778254,0.005090132547428793,0.08540248091593194,0.06440734211760481,0.0604034266205805,-0.04682199546034435,-0.06964689119068046,-0.030767314952573413,0.0690501400671255]},{"id":"chunk-7db5cddc-141","content":"Here we use a synchronous httpx.Client instead of an asynchronous httpx.AsyncClient. To match the synchronous dependency, the system prompt function is now a plain function, not a coroutine. (This example is complete, it can be run \"as is\" — you'll need to add asyncio.run(main()) to run main) Full Example As well as system prompts, dependencies can be used in tools and result validators. full_example.pyfrom dataclasses import dataclass import httpx from pydantic_ai import Agent, ModelRetry, RunContext @dataclass class MyDeps: api_key: str http_client: httpx.AsyncClient agent = Agent( 'openai:gpt-4o', deps_type=MyDeps, ) @agent.system_prompt async def get_system_prompt(ctx: RunContext[MyDeps]) -> str: response = await ctx.deps.http_client.get('https://example.com') response.raise_for_status() return f'Prompt: {response.text}' @agent.tool # (1)!","metadata":{"url":"https://ai.pydantic.dev","title":"PydanticAI","chunkIndex":141,"totalChunks":208},"embedding":[0.035938225076051225,-0.04595354944130431,0.037761197672720986,0.07362607419360623,-0.028915048708572113,-0.051348393633796896,-0.02512231099596966,0.085019909894727,0.03158834614717156,-0.05950974067545027,0.022871641774607463,0.00489286162409921,0.011235458338572297,-0.04419990175751622,-0.08697131321435025,-0.048521318157541495,-0.06707492230809466,0.08169172478420927,-0.03265768750928995,0.07664302757825707,-0.03553150788200499,0.05994940957291432,0.07998432582485218,-0.004748599604254951,0.0734452714739705,-0.0324893066685755,-0.0212277779282946,0.02471158249153858,-0.036568532662065424,0.03656155261516045,-0.06521865513765283,0.0048380282000035696,-0.04607405884685901,0.024258156188983075,-0.06561885845450983,0.011497285369705288,-0.008458094908604039,-0.0851943813797755,0.08355316483148739,-0.07157661421885857,-0.07928282702314039,0.01987717889188763,-0.04945068962981426,0.042145784331744186,-0.04897948681044238,-0.07596212694619793,0.06107288006429525,0.0031277599138073856,0.016589465085699518,-0.05468146083674997,-0.07198277401205026,0.08530275151577277,-0.031228203891690166,0.02226417666452547,-0.008657216465543193,0.08252923278525726,-0.011606626431597553,-0.06436583727101738,-0.035191334388161966,-0.024027107241322475,-0.03088720924396891,0.022677984491117,-0.08368434631790582,0.010488431637701676,-0.0025686792231654557,-0.06273307299077673,0.050469625884414705,-0.0679399519053582,-0.08563482990836523,0.013227524208748722,0.04225714201772913,-0.03634907199045913,-0.0044278159098579024,0.08476620698313332,0.07907873618266358,-0.023009529031337274,-0.037752968460688596,0.03147084404462299,0.04338871216345043,0.025559700005340903,0.039585354186930016,0.0186498683936212,0.08622515632998415,0.06494448144210126,-0.012091633604106033,0.011626606870395729,0.013603786041889766,0.000917213289968084,-0.08565544182278939,0.07961435196440815,0.001006617114493074,-0.015346522841616247,0.023470209271254,0.0695393899315447,0.08634645106766094,-0.01282380817565692,-0.07786841472974503,-0.001387251000486601,0.007933595424280482,-0.010118393783329302,-0.030897798284676464,-0.0742644822761568,-0.0045979534876242475,-0.0757903719799167,-0.07028236136682331,-0.013022906355097709,0.009159682406904,-0.08736552540375611,0.016122826204116758,-0.03401457853820977,-0.022484129897721493,0.04133080461962553,0.013818041179282823,0.002000328500575001,-0.03610576490890758,-0.04425855891367276,0.005681151438780383,0.056012083782567626,0.027122593337043935,0.04970947351589344,-0.08094390229936106,0.031941398040108,-0.02469224699426319,0.03322068987654819,-0.06990775625661182,0.016121943138590996,-0.018001112384266174,-0.0002614074185231443,-0.08471985623934226,0.03964823033172552,-0.08639938394933867,-0.017104140817316836,-0.08368448238348518,0.06116124134925769,0.04194394288555185,0.028038754643921412,-0.0038069091880029208,-0.04013373705679811,0.08354776073258988,-0.03680667534622156,0.0736434561945118,0.05748054922888264,0.07939682386783345,0.0809598279563229,-0.056014944569850955,-0.08160014385190026,0.005860407077650378,-0.016751342364530082,0.00146041063435759,-0.02506465496755302,0.0595278149369463,-0.047828584176553404,0.01880577628774685,-0.024862627470181788,0.048915529502137664,-0.030281175978876605,0.009135033465100273,-0.07599711458004915,-0.08248503027076354,0.00606802238843317,0.003640791395140091,-0.044106726853466977,-0.04670538275203206,0.03503508601279801,-0.0041162966405159426,0.028182956302057017,-0.08223834432692843,0.04212941251282872,0.018362267073158734,0.07656148264914503,-0.05936317547926528,0.08898514631647293,0.06744772764366529,-0.06518217663867629,0.008629059269986522,-0.01922908401572772,-0.05261771139862463,0.04388750472285876,0.011964044360791952,-0.03511938796623819,-0.06093283121602743,-0.032422349019225055,0.08795556539400637,0.007832437522243288,0.07078708716014917,0.03040389427031835,0.03413719430392431,-0.003272027389295457,0.08183014566954691,0.08425289264789584,-0.0025908127622890358,-0.01621151700100188,0.01453296990238739,-0.013275935298045998,0.05919420051015449,-0.05818008633473231,0.003915508092854334,-0.02790778345339878,-0.0822415327667265,0.07658903605490895,0.07216974769814045,-0.052350977842437314,0.07710834362143629,-0.058354248557680406,-0.0006626666404352864,-0.03192219936788162,0.03181581071889643,-0.07680198124636367,0.007952106202279279,0.022877534623963833,0.058426361113973355,0.059822932844593314,-0.0533550529868335,0.012794296340414901,-0.04622568943227394,-0.023837923144226284,-0.08197217081318604,0.06259846200203946,-0.05627093989043309,-0.012885105572792151,-0.001959499107565336,0.02495016504009219,-0.0825008423262709,-0.01680814626045091,0.034462427324890015,0.08736531229386765,-0.08853622960158285,-0.06250125795893192,-0.08235951896167608,-0.07283484211582504,0.05686670539714013,-0.08736097922091003,0.016717243832371442,0.059376249888469256,-0.028552694768568972,-0.06517908772878904,-0.022747012434673423,0.022339558272471603,-0.00016282416638891428,0.050810358107535786,-0.029939581800098147,-0.03566508620955294,-0.050037184015778106,0.008262242316154526,0.018204614809935387,0.06315744001811564,0.08216483934630213,-0.05392438366458714,0.0026577159481899985,-0.08035145038374515,0.08030948470420485,0.06084182701905645,-0.05116531675148962,0.018875185968089854,0.050370026010075335,-0.08449526212085588,0.06989303385128777,-0.005988337041041417,0.013141311644295408,0.017798838463106884,0.010046411855247479,0.07550383267048605,0.07664377197099631,-0.005614050350816404,0.058835495422555416,0.0016743189741335721,-0.05666744764365342,-0.08547849359721997,-0.07006801851866949,-0.042664065887932354,0.07884361445505918,-0.07481657143114256,-0.0251213126827087,-0.06421029495302584,-0.02427389906394608,0.003978355904593824,-0.08266460672823339,0.014624542719368996,-0.07045328079233783,0.023628242502312057,0.07606133612207379,0.08160311209218385,0.05126099628592301,-0.08620992899445767,-0.08397760119132944,-0.04053639717398492,-0.02326185620812736,-0.05445188504250899,0.018829425761504315,0.0825547797100747,-0.07122668307623574,0.024885457122435457,0.023486488597317053,-0.006021906913279117,-0.0837591921106183,0.08171124054110984,-0.009542055156873638,0.01919310730874172,0.08136478365588341,-0.027081096068165392,0.0300099841587267,0.011115789742984857,-0.06765411564713009,0.0359425135147081,-0.004474287843103544,-0.017589833202446725,0.05206616161685529,-0.005069755324716364,-0.05785383611403711,-0.028446024818058083,-0.0820608957605139,-0.053171748926173816,-0.014255310259494823,-0.07167241781226492,0.04555553440892,-0.0341920654595837,0.06867685767599356,0.06610457217061824,-0.024840629891927847,-0.08879268635360892,-0.0476714741547175,-0.05724880726339067,0.0516710579402474,0.08112304937939141,-0.03735698045976906,-0.014058074094411269,0.02674110297879464,0.0565790864071557,0.018976342810224797,-0.034812780619657556,0.0074589926003388015,0.06908701484649128,0.06728603905028972,-0.003883075171470478,-0.03037776050255476,0.005528233495656724,0.07170271391665722,0.01785058529340999,0.06979465250915429,-0.024030019989345095,-0.05155386335895961,0.027014694096051877,-0.017211866474151186,0.06103306708317981,0.00338434383150711,0.054941786849602416,0.059753230578712534,0.031034222424315982,0.06123457497072678,-0.02966566416584311,0.04917251802706632,-0.019015650999724222,-0.0049356114938523,-0.06774716035890753,0.02635969101538289,-0.08839912234516252,0.027350090227115625,-0.00540328422473929,-0.020056504481302365,0.054444659340544946,0.02536623890588286,-0.028483735857508543,0.06125442672314422,-0.012501983143215004,-0.06613978405907446,0.014848945908435445,-0.01670141921899181,-0.06171642781643729,0.0014584909298078217,-0.0869534062976256,-0.08231584177341168,-0.06423743668444497,-0.07838602231777407,-0.01067691950520658,0.05144281710488412,0.024691862781804953,-0.021529501404157648,-0.02762795077489289,0.022905231768454788,0.07203761726303552,-0.021042251575013684,-0.003882436183246322,0.0016857625813313818,-0.08801528373992723]},{"id":"chunk-7db5cddc-142","content":"async def get_joke_material(ctx: RunContext[MyDeps], subject: str) -> str: response = await ctx.deps.http_client.get( 'https://example.com#jokes', params={'subject': subject}, headers={'Authorization': f'Bearer {ctx.deps.api_key}'}, ) response.raise_for_status() return response.text @agent.result_validator # (2)! async def validate_result(ctx: RunContext[MyDeps], final_response: str) -> str: response = await ctx.deps.http_client.post( 'https://example.com#validate', headers={'Authorization': f'Bearer {ctx.deps.api_key}'}, params={'query': final_response}, ) if response.status_code == 400: raise ModelRetry(f'invalid response: {response.text}') response.raise_for_status() return final_response async def main(): async with httpx.AsyncClient() as client: deps = MyDeps('foobar', client) result = await agent.run('Tell me a joke.', deps=deps) print(result.data) #> Did you hear about the toothpaste scandal? They called it Colgate. To pass RunContext to a tool, use the tool decorator.","metadata":{"url":"https://ai.pydantic.dev","title":"PydanticAI","chunkIndex":142,"totalChunks":208},"embedding":[0.04557354032284337,0.06843651602682344,0.03496917102173014,-0.07002274511587268,-0.08556251227824437,-0.0668856299322893,-0.03197616003679092,0.041089899660940156,-0.010996966815082648,-0.05935583658237073,0.02896871852889384,-0.022374138721718194,-0.018721801762763685,-0.08755797528784161,0.06786529929491904,-0.014695217145124102,-0.07240743641294876,0.037199784844537225,-0.07077423510911686,-0.07782796910004855,0.0818719541855369,0.05397187218210186,0.070217558741115,0.01757090627683663,-0.06939918367238847,-0.07946475392029563,0.043519608509380685,-0.00007556378214522379,-0.0776140099794667,-0.08631837959374881,0.0717130328342128,-0.012845994444443747,-0.0741805056612318,0.05418185010344423,0.02749259548767116,-0.08530353209915222,-0.07504570188960649,-0.0544590038287267,0.021338856883985555,-0.026347491161366105,-0.020078687649565507,-0.04767979988759552,0.08757236999280621,0.06046341635511298,0.06303179661330299,-0.059717888097761046,0.0647395271751323,-0.0339550667116799,-0.04117667241081492,-0.05231728443113078,-0.06462537148268191,-0.006975861824383078,-0.030287838897176796,-0.033919352906682805,0.07975236508956124,0.004393939628082444,-0.07576103581404198,-0.051706203130277156,-0.022066728876847703,-0.03282765414753538,-0.02077676783120445,-0.04519646111532689,-0.06670057629762136,0.056180478742157924,-0.029016506236308717,-0.016822785473959188,0.08589762107070706,0.05765482012627611,-0.022168011120924345,0.05574626497995034,0.07871396729553956,0.04837570267164231,-0.07069712529923676,0.061979112816863,0.06249211134952791,0.021733629191073484,-0.045850087736619485,0.024385864537052198,-0.012105616868877253,-0.03149645344127829,0.04585454935180439,-0.07826960155467655,0.07022253090748848,0.001298826418237307,-0.02127472315443188,0.052977656099272886,-0.08125494229518976,-0.00930294465640933,0.01262163097900756,-0.011021704497567897,-0.057134584610863265,0.015007117433524378,0.02048391817374811,0.0107779648827768,-0.04785952617197593,-0.07867321174358538,0.009521996991112542,0.05051039395137718,-0.02737129507605687,0.03534543903501568,0.05813048378962659,-0.019026424382428738,0.004501389193675554,0.035348263294981745,0.0076189603534073365,-0.01944820857212217,-0.07083411286445675,0.07317569490664501,0.06696717295910427,0.01913072854316503,-0.004193301033672883,-0.08055181700256764,-0.0048218000696816105,-0.002407385805156015,-0.0794088776478451,0.052789354091700894,0.06769830179437242,0.05702914609222555,-0.00999521551169647,-0.007108837047730601,-0.03703887866038222,-0.005834812515099334,-0.06114636679688897,0.02678307847690218,0.04697812361256086,-0.016423245370095253,-0.03642003495157913,-0.07647060238475362,-0.009360083307926374,-0.08039449014939168,0.0713384555870748,-0.01387879759211661,0.06484872370804091,0.04064003148840771,0.03241720542804876,0.08416232847175278,-0.07895789223951111,-0.06340216449442954,0.010171135686872603,0.0029929452512009215,-0.06001971894000646,0.02596583371070853,0.062407683040137815,0.06293516250676101,0.019989437373316495,0.007922348523905942,-0.02265151475313254,0.022701179599255335,0.016649414211056448,-0.06785532780695769,0.08382562486194331,-0.03194518892373324,0.020501936631931065,-0.005233435337291297,-0.017014868520230625,-0.04644033244665843,-0.026840766249679397,-0.08435953647933309,-0.07557973450085456,0.022195522495952687,-0.007938918215356444,0.07536263355616998,0.022658144532512227,0.06863216509649764,-0.04885780108466138,-0.02887980501960725,0.06650067218197413,-0.08479623948839488,-0.07832429944626387,-0.055386723220539,0.051234227375587305,-0.07728419668440524,0.025468726187968915,0.087651491360983,0.010563706860343546,0.036985471469702304,0.03674000968658218,-0.07845242062667583,-0.010715783758682474,0.003885540839404863,0.012368806362845031,0.06969145582384909,-0.07539214409044087,0.061578470446527346,-0.05366276466171705,0.07801553548160867,-0.0034988873030280926,0.07950815043604634,-0.022674375408749392,0.02674912335953596,0.07999384726512489,-0.06112393792310671,0.010024104349612373,-0.019247869428470128,0.03386554425757279,-0.08732955342173612,0.012841394102746135,-0.08015582173629632,0.0535318242129917,-0.01998607849813231,0.07905820533778335,-0.02042574307107577,-0.08477773941981077,-0.03430928128929666,0.06400648481110101,-0.06027583717054088,-0.02484187844301843,0.06342743050246644,-0.08224508832963726,-0.03704016954058662,0.02649124835068274,-0.010314904630434364,0.016784160216461865,-0.02798242612740647,-0.02405648076492431,0.004565329550447562,-0.08379838370594955,0.031575048733075796,0.08550920052056472,-0.04328429995748242,-0.0777351817765976,-0.011435266483727717,-0.00018344480836596737,-0.041954860963126284,-0.06106128542421879,0.04731738848493078,0.04111149153748199,-0.07918731759507835,0.03712371022947397,0.038535852123454645,-0.047432828665044446,0.07730207953262724,-0.07910073190954486,0.03523167739532568,-0.03433689639310811,-0.02970882163162447,-0.008708776584082483,-0.05620990773938842,-0.053699523759633765,0.07902585837985285,0.0485868157462653,-0.019054728769404162,0.036602338027509736,-0.004521829577432126,-0.05030106487601623,0.005586139599494667,0.07180108299225292,0.06924138411392258,-0.06217748662931026,0.003104148705384617,0.015737753049111482,-0.031365068455626095,0.03884041207576215,-0.022500811089568414,0.004842041789063285,0.07555825413080682,-0.02820970811603675,0.05619546201075833,0.08785353197690408,-0.0018808210687422968,0.026237454369820695,-0.067090156383919,-0.062115632680676935,-0.08766378242288458,0.06914316539012369,0.06829938971944244,0.07359651749182224,-0.04641850277340715,0.052282142379268516,0.03709130818177573,-0.0017798101906784406,-0.0649826036214482,0.04414851108907179,-0.08387259348286316,-0.06871547608518143,0.04844969540119305,0.018336713962141864,0.03131725380783161,-0.0050691030114656515,-0.05028412304732614,-0.0361634658447226,-0.007852120382554692,-0.011842963519177255,-0.06794916341903544,-0.04431430896917604,0.011051521244877207,-0.06198017446673455,-0.0035431402342061564,-0.07090623700202787,-0.013202640646395904,0.042711181518778785,-0.01154458969342565,-0.025081354194112445,0.08790061359921683,-0.0410657390784193,-0.04749747364665304,-0.03980613152153075,0.022657067757692304,0.01070216830116275,-0.002015386331674016,-0.043522226421210876,0.010783971069836211,0.030047314026740008,0.08616984541040339,0.011736180361224518,-0.02696333996347729,-0.08352763484411839,0.07086010612843102,-0.05879721630949442,-0.012478317454333839,0.04343558327939022,-0.002688793326608894,-0.0034655577054651257,0.029763272136725808,-0.035003335051701966,-0.0717317124797597,-0.02389149676537035,0.07291879871220713,-0.06684148733260695,-0.015018721996370553,0.08371410131479151,0.0131232049779713,-0.0019261142632776595,0.06349319600326296,-0.06911769162992674,-0.05703554376094243,-0.027136114647404393,-0.002332813714408191,-0.08415055396863508,0.019960721668590926,-0.05972679378661268,-0.0207072496989064,0.007608142330127672,-0.08354598009786175,0.007095213745524822,0.08622406653554329,0.006178575931565239,0.016338644167178836,-0.027182625997672037,0.006557836052338588,0.03500946766188163,-0.07035291718423549,0.05315671467293377,-0.06443205515255393,-0.036296236868885216,0.0030735468614175015,-0.023808876622990745,-0.07877277382050461,0.05926056122107411,-0.020430834002014633,0.016293178008925994,0.06887306211443535,0.0632513517293632,-0.07322433063935238,-0.0810157915962541,-0.08088146289115386,-0.05391846789945047,0.01602702130691947,-0.06619498483327281,0.0784266266196812,0.018585886497365717,-0.01308087980619061,-0.04147900127179046,0.0556335416631899,-0.06882697560663545,-0.02106241752053272,-0.01770586619080184,-0.03249513739225502,0.0722927195502284,-0.033144065889295186,0.06748039782601324,-0.0820802897503595,-0.06586730102056534,0.01747730865252164,0.048902580756019665,-0.059831935769717404,-0.0012299382952429608,-0.03526440016692853,-0.03254229581342357,0.018267872520609473,0.03918341282211768,-0.03591650031529356,0.0485728586584889,-0.0543891001476125]},{"id":"chunk-7db5cddc-143","content":"RunContext may optionally be passed to a result_validator function as the first argument. (This example is complete, it can be run \"as is\" — you'll need to add asyncio.run(main()) to run main) Overriding Dependencies When testing agents, it's useful to be able to customise dependencies. While this can sometimes be done by calling the agent directly within unit tests, we can also override dependencies while calling application code which in turn calls the agent. This is done via the override method on the agent. joke_app.pyfrom dataclasses import dataclass import httpx from pydantic_ai import Agent, RunContext @dataclass class MyDeps: api_key: str http_client: httpx.AsyncClient async def system_prompt_factory(self) -> str: # (1)!","metadata":{"url":"https://ai.pydantic.dev","title":"PydanticAI","chunkIndex":143,"totalChunks":208},"embedding":[0.06490188681640713,-0.08095618035389635,0.009982431301283812,0.011685469548669605,-0.048849675525637175,-0.0740996442587293,-0.05006443262962808,0.041017427439016436,-0.05578969851170755,-0.05905115809802023,-0.018867283961185834,-0.03717258605979086,-0.02295454458881761,-0.08275142747341777,0.03319878982479012,-0.04922415316218147,0.018459603308859433,0.0065972209742081855,-0.020065593599225235,0.02665267573733345,0.06419432110213444,0.03997920883545821,-0.08561862937652046,0.00580955265711813,0.04253993414756422,-0.0047101255976563575,0.040064241300993474,-0.04699110921602335,-0.023443640670727448,0.06906264942948677,-0.0060203739658067495,0.08524330105959024,-0.07818978518925514,-0.02061999266037583,-0.004242013382964068,-0.08043200824082145,-0.046375228243273316,-0.05654271374746234,0.08613813634150833,0.05636990169314338,0.043104718942195204,-0.06693201149072733,0.05906000586824704,0.06550743265754952,0.022057344195031414,-0.06741199471215369,0.016696766089262256,0.06587232289657995,-0.06940813145480491,0.07286777459157033,0.046318432564256426,0.03660951777385414,-0.02715118278355156,-0.07931984792917722,-0.045572681924488725,0.011183433241976763,0.018483454451771294,-0.05366020371350732,-0.05935176197842551,-0.019407791749948007,-0.0788181877227843,0.008066404756610225,-0.04038879949901064,0.007638938298128904,0.034837644803056074,-0.040271303919213255,-0.04851458520065685,-0.08485659108727259,-0.013519891953111702,-0.020971809407202762,-0.038428588637779974,-0.0025397240923038184,-0.017432244851187818,-0.007300534212894391,-0.0208296994282661,0.040100434524054505,0.039255106406123536,0.0662367058564156,-0.018560373449099648,-0.0401776295063814,-0.06713567400692168,-0.07464399698350895,-0.04111913429203507,-0.024195270028867732,0.013112606884454134,-0.02319325073744135,0.004323437891522308,0.058413728351728846,-0.011211842552725903,-0.07463655956985149,-0.0509855933167896,0.04630833898356299,-0.06701303422049086,0.010262850121081066,-0.0643385653398388,0.018045720552346933,-0.024400965452965998,0.03359269469279343,-0.07772624087322605,-0.03715055704549698,0.0032644749573517446,0.01089723734332855,0.07595380534318259,-0.010592695531339957,-0.07614073516372487,-0.008451408610561447,0.037527163057791406,-0.062482816872226205,-0.0009854000749698864,0.0564727959675688,-0.017188044974567468,0.0199972356845097,0.00047720818757572846,0.03232926413276522,0.03519185111360943,0.08021849674822949,0.02486078414961476,-0.06863827651815375,-0.013305566119583149,0.032318119029219335,-0.014640367302812082,0.07758202394269788,0.028611332023856125,-0.03321813531248187,0.03226645302735211,-0.0766025248903115,0.07941038486762304,-0.08490107033795695,0.0649207293551305,0.0749536723582911,-0.04516729963626567,0.0449590610289086,-0.04247436880330135,0.07366860471111909,-0.009113178317289522,-0.03865233344154868,-0.04133560738835954,0.08059213764834727,-0.04050239338268108,-0.01637070290133323,-0.04040015638027028,-0.061407900685905,0.06295549324151721,-0.013057867479484928,-0.07827283950516929,-0.06863590006198028,-0.08163230316296119,-0.013060580037718946,0.03198323885002377,-0.04674060341211259,0.028848879728531816,-0.015028441777688148,-0.040792134590925525,-0.011042558555426688,0.015875374300825112,-0.031265676526403226,0.07579438220076673,-0.02836941854634368,0.08543009113721667,0.03407831683060046,-0.06287837034324016,0.061914071978700774,0.009354994847723737,0.05250727346657069,-0.06757234618108825,0.01961849830353271,-0.02832826733092887,-0.05532677660719686,0.07149454100791118,-0.07213873066643625,-0.0834514927428875,0.05336872013395681,0.032871341845050785,0.05876090602722292,0.08327472123619557,0.015865969536105667,-0.07918971644757576,0.028214782015285746,-0.024164437282043025,-0.005492180409581052,0.0077808656881436355,-0.07474524143339774,-0.06633046420404895,-0.06816675981560195,-0.06789414734747898,-0.004449837002959178,0.02883382843537593,0.07719293840695805,-0.060516348981404726,0.05409672624878268,-0.0011948938866859782,-0.01708962490944843,0.07564941135809372,0.0645092087009969,-0.07603213449165465,-0.03169129797523057,-0.08193386787553264,-0.05826181836279188,0.058079668978226265,-0.06469465750401635,0.02836792652929903,-0.03603429755439348,-0.0630372469002994,0.042435242114750804,0.07872552259862277,0.03529304326561116,0.03984036652771226,-0.08392774124607465,0.05292749147122121,0.07393294154401864,-0.004497409630880605,0.07282025497229216,0.045318785446156216,-0.0709750601551022,-0.009222942346209432,0.044129509818006354,-0.07341430729332715,-0.06539561955787841,0.03641268496856806,-0.03819302763698366,0.046546897150547835,-0.03435804061457226,-0.0872923451483482,-0.021291052879977897,0.08032099275515345,0.06181935763228651,0.024595721376488446,0.03655346593344471,0.07573782784242315,0.03853292148331644,-0.002136691489031688,0.051950008563850035,0.046917177322902015,0.02459690306665815,-0.027937247833251237,-0.012957520546232636,0.06006160922203977,-0.02930642930302609,0.06375628923157864,0.05647061528389992,0.05365598618130058,-0.07583358697293965,-0.058536584888805844,-0.08176210275625324,0.024568187744795696,0.001208696091012631,-0.05960328799688955,-0.06172788428729303,-0.06728774508200214,0.02802288017339497,0.07072663747579877,-0.035775340780479725,-0.006265338604664293,0.07173631706695262,-0.06554507179412696,0.004631697816223072,-0.0516348852204635,-0.08283292499783802,-0.053540321367940395,0.06681091635868212,-0.06903899197886215,0.05923452297879787,-0.013396831292376354,0.04866020408116229,-0.023004031604634136,0.06276025217085572,-0.014327175925782847,-0.07797058787162839,0.000844564116229913,-0.043753177638966224,0.04826248937701373,-0.05390161445412166,0.047469530870838085,0.07680858233278456,-0.02741998711743111,0.07993834790959453,0.059185074771064945,0.014282106643069233,0.018838924717033224,0.00905548508921991,-0.009722535034446743,0.018063458304428792,-0.08719900110934833,0.06802578525008812,0.01845017364026755,-0.054360837746055074,0.02370833696322417,-0.08411029871976099,0.05544420602258214,0.07532940036178452,-0.07924721581785008,0.08042010384853954,0.033563269502857776,0.04120428443298397,-0.08077278509423089,0.012469914921951587,-0.07235102565034074,0.01961985357334344,-0.026643125711647078,-0.08088372607987367,-0.04963041212083566,0.057823057255974177,-0.04613485454687353,-0.04950810919732031,0.05566204243826269,-0.08699469243592108,-0.0692138035866484,-0.08349850029812034,0.05554496807175553,-0.02920872414073663,0.02846256276164716,0.007703259919633899,-0.055755248508153984,-0.04932727480746316,-0.004015121708984308,0.009958270599763624,0.030141655265882195,-0.05566080630927042,-0.044646524822716666,-0.020748989471159066,-0.03327278464313139,0.019475851113686056,-0.030531789177769168,0.05866354046898277,0.046459545168791895,0.026957619707438422,-0.012813605600062674,-0.0030707378907263694,-0.009157052587500549,0.015596141250422333,-0.03863193549760835,-0.07355090809746592,-0.06327347978205071,0.003143225361995854,0.05372920842674719,-0.04846562023023504,0.03941907940339716,0.07576678509734072,-0.07179396085031123,0.0516210713583285,0.02763716470372338,-0.07569973388304278,-0.053500192489295856,-0.004876628288096442,0.0456746961396223,-0.009222745080207291,0.008158074472782441,0.05016292697052852,-0.04013466295841996,0.027652186294289213,0.04099162453811537,0.08162905329188638,-0.07531113495701762,0.0421365984307553,0.050125454285647915,0.06835957680313842,0.0852427939599499,0.03664095287860556,0.03440936080497124,0.05203657760302467,0.031448594986895576,0.0007886100138387592,-0.05161405933289063,-0.0816379615345782,-0.06473099631694848,0.03666155401217055,0.0049305973865575,-0.029680567114425252,0.058115671701371,-0.007185189423065531,-0.07328238787139055,0.012524553365529942,-0.025861770716015132,-0.03173592436889598,-0.0633650852071381,-0.052064402114644394,0.009840847031811775,-0.04792822085185063,-0.010562060479170713,0.0858713342111676,-0.04115444807814804,-0.042784266120934895,-0.0853363018408712,0.07254894512851]},{"id":"chunk-7db5cddc-144","content":"response = await self.http_client.get('https://example.com') response.raise_for_status() return f'Prompt: {response.text}' joke_agent = Agent('openai:gpt-4o', deps_type=MyDeps) @joke_agent.system_prompt async def get_system_prompt(ctx: RunContext[MyDeps]) -> str: return await ctx.deps.system_prompt_factory() # (2)! async def application_code(prompt: str) -> str: # (3)! ... ... # now deep within application code we call our agent async with httpx.AsyncClient() as client: app_deps = MyDeps('foobar', client) result = await joke_agent.run(prompt, deps=app_deps) # (4)! return result.data Define a method on the dependency to make the system prompt easier to customise. Call the system prompt factory from within the system prompt function. Application code that calls the agent, in a real application this might be an API endpoint. Call the agent from within the application code, in a real application this call might be deep within a call stack.","metadata":{"url":"https://ai.pydantic.dev","title":"PydanticAI","chunkIndex":144,"totalChunks":208},"embedding":[-0.020685580806084958,-0.08298492464702238,-0.06468094868868966,-0.07272096446558696,0.06926317711702484,-0.08690106736346027,-0.018077187913311813,-0.07159812639985336,0.03549706552913143,-0.08519312971484609,-0.028983881305672005,-0.08263908889696057,-0.010128024727169813,-0.005814040032861048,-0.04720357691383166,-0.0084026441471152,-0.07717325537751832,-0.08235112311549381,0.015072962744478764,-0.060166690756116845,-0.06659183012866733,-0.044824384441230304,0.0012842178726438533,0.04239157978556003,0.020451466246411778,-0.030671964567708446,0.059579138408026755,-0.005176540267066744,-0.015683871335150222,0.0349526320000904,-0.06373654361300424,-0.027270024412760444,-0.0761630612091055,-0.06214997070006708,0.04358711134430354,-0.0038706553031333164,-0.007702261670542525,-0.078139384956183,0.06886989740335794,-0.02324041685991279,0.08468985941520213,0.08293259820095031,0.034035085378559565,-0.024542313084375766,-0.06959924290023038,0.03704866420175373,-0.03495989439794613,0.031745537403462615,-0.05181787461369686,-0.001565754052448319,-0.005511453611911551,0.04112664214363228,0.001112293239912251,0.0021116347863392388,-0.03686202171075097,-0.037462822890486205,0.0795120736366154,0.06432549925000537,-0.053143293548653055,-0.01117022450985887,0.05359119965709638,0.07928925878774089,0.010662806221975654,-0.03374554856512785,0.041480147860910324,0.054321615371933335,0.052177457577431835,0.01888333129084612,-0.06726471675649247,0.06847568453643472,0.08181683560305757,-0.06623845229528076,0.08276811933515961,0.01792072776246547,-0.022907766883557966,-0.014871795402058106,0.018955010415972258,0.03350834189049019,-0.009217580980727938,-0.0006634055730092289,0.054716506321592084,-0.0736314913110057,0.057883839539476976,-0.08529918154112517,0.04881881571620312,-0.08659821193776907,0.014087356276484815,-0.04567245423331829,0.0500644231382059,-0.03564238289241805,-0.061432740560455674,0.07978085033205186,0.024803186928460827,0.033196005477703065,-0.042809832196640515,-0.03789086277840218,-0.044340251030767774,0.06671077147438616,-0.044152617329541254,0.0732207113323216,-0.08129047472358444,-0.013239271806762648,0.0036385197495195976,-0.01499991479921363,-0.05389045409506438,0.04076422246350702,0.0844214001697956,-0.07144319183411722,-0.026014837751588367,-0.00024322775679782983,-0.06183984284206674,0.013049572352863357,0.07119551208758872,0.045602401852458604,0.0807198763393287,-0.07266170671516603,0.06110953602073861,0.018946141585089754,0.025334283829662827,0.015591091468558702,-0.06225187625114355,0.06683013363007194,0.018830395211447516,-0.022126726491071242,0.05179021017745227,-0.07289846788037728,-0.06621315432003265,0.05483128299217419,-0.06043071012375904,-0.014480803585553849,-0.00605384837192111,0.0822605682954102,-0.01775380910587029,0.04908459741027551,0.03908378423631104,0.0795122778984282,-0.04965136591085704,0.009230960477938553,0.03561810565759216,0.03876167020732188,0.08085319137208224,-0.05650288433892251,-0.04817569553782219,0.06866095329743058,0.021027479156597688,-0.06809639624599147,-0.04595206036433526,-0.010218050483420319,-0.04569402881497568,-0.02763580289131868,0.0523856009604323,-0.0051553183119704745,0.0824850619938512,-0.024835018646189547,0.015235126864390066,0.023416670504059527,0.07823692848729949,0.0670045031176995,0.056397897767620685,-0.0162472868843729,-0.07190936323361888,0.03928542602178229,0.07359718696663742,0.05487379881512995,0.026372402375526103,0.04425327162816319,-0.03709143680920424,-0.06437397673582429,-0.021835608807085793,-0.08561300875421064,0.040234732626063426,0.05256114157174609,-0.05908445223312013,-0.0432617702136701,-0.02927849130455654,0.0011730090326813713,0.06850766610629337,-0.05596590874873759,-0.07328812539337057,0.03897296790046912,0.07337692881095646,-0.08170502921806463,0.0466821000937339,-0.07884107693459282,0.03538626776823301,-0.009556359534976243,-0.046416247769335714,-0.057643624319675145,0.028171630362036897,0.07032290677924316,-0.022112612644534672,0.012846334256997447,0.08320540248603936,0.04422503415058211,0.07932448834707481,-0.015399988875144712,0.021197697192249534,-0.01010146642974612,-0.05821678663483734,0.04834197613395907,-0.05505008490912664,-0.049679993626397176,0.009131755431546441,-0.06308343298681798,0.0411410005706726,0.08002514092033938,-0.05999763691879085,-0.08059348600354625,-0.06635809737922403,-0.02765756595293819,0.006919830160901366,0.05070091623252521,0.0027196645671343817,0.052933264181129765,0.0235222232886354,0.08658505220898059,0.06247498517596552,0.00751054834747561,-0.058639509036875204,0.05044476444002638,-0.046981323205575604,-0.0003132169864655939,-0.04085212740348567,-0.03390060509409332,0.044767920066563535,-0.07356755165501444,-0.018255493389708152,-0.042946820734443975,0.0011913280835802581,0.04233941983852404,-0.036525017675623966,0.03643337974310261,-0.06936878425958168,0.049614861483882305,0.08072335455847802,0.06385847581584567,-0.011068068760121893,0.07757562036626296,-0.01876505550275695,0.0661917288972872,-0.03236600637923297,0.053352042568430014,0.07357592765437071,0.08601433726704164,0.011113253605419808,0.03641542421343658,-0.06062656474528322,-0.030417665634704643,0.06010566070246155,-0.03229534505703564,-0.03430514237301409,-0.05119523809504867,0.006044239520758076,0.03216391081684637,-0.014017929918815248,-0.02208514437502635,-0.05455713207855548,-0.015674600700741143,0.05322250420769316,-0.013003476878263844,-0.034871744087740776,-0.03060012767894937,0.07702500284518522,0.04628430471562287,-0.022425645346347143,0.043561008334767774,-0.028978540567730315,0.04310573106810024,0.03836096448112731,0.025225252551409977,0.006623002949934846,-0.028763368171693147,-0.014070374786297664,-0.06608266996866038,-0.01631923734193705,-0.004612775598369684,0.06768199441076966,0.040665427133056424,-0.08049219911329149,-0.021902005726249014,0.024968432519205042,0.06786982887465198,-0.07714789742612692,0.05937021162620547,-0.07491046129928762,0.0005826427541543781,0.06875838204035097,-0.039922190821554654,-0.08106421043068908,-0.031249770291563502,0.02212276986189922,-0.08416684252152395,-0.006496442180061436,0.051823290313704536,-0.03141542243253786,-0.0403888790992855,0.06710329119370545,0.05615293337334508,0.08393258006067514,0.06943246213771506,-0.02506374050321534,0.047666148684371294,-0.049695558907269816,-0.06720605632209106,0.007277400377755112,0.02258755218924745,0.025585365316394444,-0.020760943931789223,-0.0390406900326067,0.07771959206321476,-0.028599735095056505,-0.0710260418312315,0.05344766289504274,0.03179532831217757,-0.061537302510201744,-0.03695092439061965,-0.0026342279133274287,0.02298176866721632,0.016216688669799893,-0.01327785233250238,0.08112807017411147,0.04014396015091306,0.023214371699862773,-0.06041355886641182,0.021517077213396824,0.01041108584565197,0.06889865234631601,-0.041600305537612625,0.07139726465432304,0.01543760672167207,-0.06589172401174588,0.017139706481765736,0.008074128285392293,-0.0859826975540451,0.0837966694441042,-0.041412377760815314,0.024148012310955962,-0.015797916626728917,-0.05914385955194484,-0.05719449961900328,-0.05948956937898162,0.051242113776351586,-0.038559174227884345,-0.02024985872059536,0.08528875390641479,0.058940986789931725,0.0590183272395594,-0.0712514378225955,0.02420481616309654,-0.0016366822142507638,-0.042117478299605556,0.014198362989558783,0.0708340645345266,-0.06998451413315651,-0.03058983223707264,-0.019910550828035868,-0.08522791763343655,-0.06243891386593625,-0.056753782011313966,-0.06799874377620131,0.043365308370202096,-0.030232187371129888,0.06293055167077273,0.003446088530309314,-0.03843400165321425,0.04488111585596606,0.049067987264645514,-0.04204629706831292,-0.01699467108105269,0.0747307002918129,0.060957291731148076,-0.06793993142222779,0.06141893355351888,-0.06695605448836821,0.025033772108354755,0.08051012795810887,-0.07937937805852997,0.0390147626474552,-0.049017411056826506,-0.06791035059490655,-0.013986493455796502,-0.06037838975254292,0.048971323601574496,0.06380796752114726]},{"id":"chunk-7db5cddc-145","content":"Note app_deps here will NOT be used when deps are overridden. (This example is complete, it can be run \"as is\") test_joke_app.pyfrom joke_app import MyDeps, application_code, joke_agent class TestMyDeps(MyDeps): # (1)! async def system_prompt_factory(self) -> str: return 'test prompt' async def test_application_code(): test_deps = TestMyDeps('test_key', None) # (2)! with joke_agent.override(deps=test_deps): # (3)! joke = await application_code('Tell me a joke.') # (4)! assert joke.startswith('Did you hear about the toothpaste scandal?') Define a subclass of MyDeps in tests to customise the system prompt factory. Create an instance of the test dependency, we don't need to pass an http_client here as it's not used. Override the dependencies of the agent for the duration of the with block, test_deps will be used when the agent is run. Now we can safely call our application code, the agent will use the overridden dependencies.","metadata":{"url":"https://ai.pydantic.dev","title":"PydanticAI","chunkIndex":145,"totalChunks":208},"embedding":[0.0354023321435168,-0.07308461639343512,-0.07879136911898772,0.08243960128513245,0.05637660109329917,0.07155734585628189,0.016645906669971813,-0.07160461331169397,-0.08101950177457727,0.043602801348338216,0.00250197138718036,-0.07466120990653677,-0.08568650266993826,0.06879902967774675,-0.015324671315747133,-0.0740291006829493,0.05592863229283537,0.030004438436214125,-0.08388764547226406,-0.07635645655134998,-0.05685887732918219,0.02001839865313383,-0.02460895425492192,-0.01709869849627006,-0.04581243869535676,0.0857330279236893,0.05721172397086024,0.06072886962526656,-0.05845821030839917,0.0669862688898753,-0.031580837536612776,-0.04130192941594765,-0.05451894527081543,-0.0665161033515658,-0.006895031147539637,-0.027665748824323915,-0.03110655185026399,0.0795350544658746,0.0021991431059725708,-0.07790985444680741,-0.052088126618032575,-0.02002139115014796,-0.029788215133941313,-0.019483353555758608,-0.046428623424293804,-0.06904068432131313,0.054271695063035065,-0.02758607545471791,-0.013889473910961066,0.08708369904857263,0.05638638577238662,-0.024735287068905862,0.05322808465579042,0.07858731110207683,0.05061650861687914,-0.06782283181205001,0.0614678068590775,0.05961942426487605,0.019021413259915944,-0.04585779302697985,0.026384637263564412,-0.009316628660151259,-0.030525441380714127,0.04361522711112742,-0.08048616578548169,0.06858765886242049,0.0028753726144302226,-0.0182866609931226,0.05406052160653674,-0.08189518828909796,-0.012046751740046272,0.010728683599992218,-0.010073090498093781,-0.053976255932435095,0.016986968820157072,0.019854694060016866,0.00809126760893678,-0.04984593907466515,-0.07801379865186744,0.011876933467063241,0.052679155282705926,-0.026848793046670014,0.032890475171585436,0.05500993925743524,-0.019600821178983444,0.006388058266193214,0.03787695315046934,0.008657011080405596,-0.020911686690148038,-0.07314256773310315,0.07118446116474783,0.06773522119372809,0.021804937487272826,-0.0023818999380604408,-0.08084930207048516,-0.007529794579481842,-0.004463112248202077,-0.07832064889205087,0.05501720329576102,0.06952426711436056,0.05650420981805523,-0.012359515220137444,-0.009586329379435531,-0.03706171637313899,-0.0035816017020995736,-0.05801148161738657,0.02727601947545966,0.04469366325266134,-0.019086973513439593,-0.03722263905428048,-0.07427955993966925,-0.006461469783996719,-0.07837162854253735,0.06952861001880538,-0.016594335339974602,0.0626098152812881,0.04125545178779238,0.034927914045657274,0.08559831094305008,-0.07890350196135114,-0.06556127047569411,0.00778562571792428,0.0031005249904780836,-0.05712670253280849,0.028292971969053674,0.06221859406418826,0.060245497522741165,0.017166004792957823,0.007197943688397736,-0.020528156391590526,0.025313965364907817,0.017574493410193646,-0.06900304387167129,0.08037929836276127,-0.03311834102269552,0.021657150000749484,-0.0023746299297552143,-0.015148228714099798,-0.04703668787374938,-0.0293984720601759,-0.08577674851110222,-0.07447047205414402,0.02466762324084701,-0.005584446986852568,0.07465248523099813,0.020028039568389923,0.06561933960824609,-0.04874362074668898,-0.026425738317590295,0.06867830687083036,-0.0835296134276443,-0.07972144701123357,-0.05775370718552061,0.04983213027316264,-0.07504638357067402,0.028108111679830565,-0.08711097272349032,0.00915732897565676,0.033890455620434225,0.03474782027576452,-0.0769119090570479,-0.007875582000589808,0.005878422998000719,0.01170088583383362,0.066533019097085,-0.07711764438081631,0.061304295782912736,-0.0507918598857492,0.07993571085460337,-0.0032521463501496814,0.07666568250890968,-0.025166521604593355,0.025934783719015773,0.08139658243896104,-0.05790329813134235,0.010951277029331932,-0.02079436886128955,0.030790416401096574,0.08745244828721502,0.014097346876162833,-0.0767406560190375,0.054838677645177525,-0.020824571254795927,0.07570881165826368,-0.022279077944445634,-0.08355159760089333,-0.0314027739220665,0.06580096054505434,-0.06003627354259784,-0.02714623313522279,0.060476681303550925,-0.08183483970434254,-0.034495658891872456,0.028946535923122345,-0.009646185090113595,0.014650369701046771,-0.030540970760895236,-0.024856737229301578,0.00624010848863259,-0.08035702964280887,0.032685199165777834,0.08350635838252356,-0.04579136449543279,-0.07884353445255196,-0.0103417165296164,0.002589835683109604,-0.03965953164796119,-0.06123696911285033,0.04430634988592737,0.03855734852227874,-0.07837395147829683,0.03934942602743529,0.04072291497940226,-0.04691227988548111,0.07444592991999534,-0.0811593192692888,0.034403840137235055,-0.03205615085584609,-0.026730592934216466,-0.007690583302003004,-0.05752395744728153,-0.056125393787905396,0.07712262851745083,0.04962315390190273,-0.016086671177982115,0.037993629391466534,-0.005521147098182595,-0.0527072699993554,0.0035768195205293104,0.07192203050276416,0.071401751458381,-0.05948337159354142,0.002826590314788584,0.013110722638088847,-0.03359264187127691,0.03840822341965277,-0.020033880368452845,0.007438824622076573,0.07554491610721034,-0.030046864506876908,0.0530277640978504,0.0862756289360391,-0.00011881395334139228,0.028863483814987687,-0.06529712671242331,-0.06307401788822198,0.08565667664041787,0.0669928272901227,0.06885192534041237,0.07583583107748622,-0.04412632289386538,0.05122224681815656,0.034138963294623174,-0.003987043980194181,-0.06422400417107439,0.0463456337930093,-0.08080817752162293,-0.06808812811896807,0.045776981631017614,0.015578434923436935,0.03056747093592942,-0.0029693990758498127,-0.047165966259880204,-0.034990265412574106,-0.00956204247551061,-0.014572614760335171,-0.06872453578968711,-0.04254981199327056,0.013800037151325528,-0.059903128721869585,-0.0045961907164848775,-0.07316997320726204,-0.015037118525936874,0.043095232701707106,-0.008772515945197984,-0.022691783268752576,0.08694815933636528,-0.0432968800347295,-0.04958087784971173,-0.03960855399718468,0.02482001861293951,0.013236859379376964,-0.0015062408678351905,-0.04528087904553065,0.007963142515705977,0.02894297723914855,0.08732202860093713,0.014463922809642732,-0.02551082731276168,-0.08437139164074707,0.06750699901776143,-0.059963429221645055,-0.011284044423106201,0.04590617159917722,-0.0007555909804520759,-0.004163139902556785,0.026849099990737587,-0.03693422172830114,-0.07087352374596112,-0.021170480207128042,0.07480191305217107,-0.06627805783718814,-0.017252131111390925,0.08049325655040711,0.012556889439359132,0.00018445891903592983,0.06576015186297579,-0.06774923294216886,-0.0584218407756666,-0.029747433014621,-0.003546868168997182,-0.08204947216203408,0.022645045350553037,-0.05770772886960535,-0.021679970481822384,0.0047571713557752505,-0.08482501906770354,0.007790251030164536,-0.08721228339695408,0.008305928514609618,0.015863854922722676,-0.029538090641687227,0.004102033630439291,0.034705723542553,-0.0674762874956107,0.0553587697837984,-0.06351229804491941,-0.03814185782864336,0.00032256486951842234,-0.024468484805278308,-0.07636624622743778,0.061631964490773884,-0.01907161891681659,0.01467094066131901,0.06553356996388404,0.06122718079815512,-0.07153631252118056,-0.07761981997805747,-0.07840918884030536,-0.05429253623252077,0.01319909920119591,-0.06786381470632956,0.07822778934567756,0.021015412847251176,-0.010590294309857102,-0.04115263823843026,0.05285161336359396,-0.0709033663803429,-0.021327250052203,-0.015445607571111906,-0.02953412745324265,0.07257098418399816,-0.03474478216738996,0.06417818618136326,-0.08266121255631399,-0.06385847772873918,0.020180523906230118,0.0500791083824761,-0.06056211016295564,-0.004023422557153003,-0.03686175081328037,-0.03150686519583456,0.020850197950912714,0.04103500499538849,-0.036055817604898864,0.045637830829522046,-0.056368903444610666,0.08560454663986167,0.06214252160957981,-0.03274691941573649,0.06664438864913141,-0.015836995441403715,0.02070348127132819,-0.07691200138305702,0.04153728783697317,0.004529548003298363,-0.041746544536987784,0.053458748933881736,0.07000206555820189,0.07413026643969177,0.06746720216101414,0.06587295437397771,0.08043362417619093,0.0737680047106366]},{"id":"chunk-7db5cddc-146","content":"Examples The following examples demonstrate how to use dependencies in PydanticAI: Weather Agent SQL Generation RAG Version Notice This documentation is ahead of the last release by 2 commits. You may see documentation for features not yet supported in the latest release v0.0.27 2025-02-26. Function Tools Function tools provide a mechanism for models to retrieve extra information to help them generate a response. They're useful when it is impractical or impossible to put all the context an agent might need into the system prompt, or when you want to make agents' behavior more deterministic or reliable by deferring some of the logic required to generate a response to another (not necessarily AI-powered) tool. Function tools vs. RAG Function tools are basically the \"R\" of RAG (Retrieval-Augmented Generation) — they augment what the model can do by letting it request extra information.","metadata":{"url":"https://ai.pydantic.dev","title":"PydanticAI","chunkIndex":146,"totalChunks":208},"embedding":[-0.07879392976683385,0.07624696805987437,-0.06739929777177386,0.05757062746841542,0.04164590455436332,0.022944060187957468,0.07406486736542787,-0.021467249348103564,0.03904106070508616,0.027663307674016265,-0.08777651678638235,0.047184029364598666,0.0507504910082607,0.04242620260966,0.06230294564490263,0.022584375130887093,-0.07707617691134078,-0.053948215425467044,-0.01744026355581985,-0.017847869634050145,0.06356619610975082,-0.055698540204845194,0.07269167391271879,-0.012629113437580742,0.023125632723135288,0.043086619556101824,-0.013921854476153649,0.01972244926460299,0.007197851804175626,-0.06889403382778214,0.026051384686205156,-0.05737961780548139,-0.007212163066451762,-0.004090572904924211,0.05714925813723442,0.0005207051252817256,-0.0440849666190171,0.0077383431828831435,-0.06779313609110971,-0.05675314958398124,-0.01665467078349896,-0.07214280648729297,0.03535993355963927,-0.03392261815526812,0.0286783527418147,-0.012723502810949552,-0.04694077293181819,-0.07978200387313236,-0.052400084578051925,0.0219149273079466,0.041236486028416015,0.02512786334014769,-0.014171275969115191,-0.061378705065975876,0.05476072122506871,0.07237836267729555,0.0027502027509512007,0.012305113602010366,0.07996959352032697,-0.0495408900003176,-0.029649490507130994,-0.05456780128658311,0.08148446130098443,0.06575966971610978,0.08244545003081181,0.07416905101823743,-0.048526092631610694,-0.0002599744560634215,-0.03802190555963214,0.05143829667702554,-0.018585877949876498,0.02891541400496921,-0.04241668545831117,-0.022766370856743295,-0.07553442963639574,-0.0241905435035274,-0.055306192936527616,-0.07552163459125182,-0.05342791117250349,-0.0803103819442644,0.005271664948268605,-0.07419627933606436,0.017058056597312105,0.0367209770289235,-0.00005530675274995145,0.03786452716630273,-0.06562646263095354,-0.06618082784786657,-0.014127946714290985,0.051661170621736564,0.057025921937359364,0.04301663520645821,0.05116641882679171,0.0026167498055724944,-0.004800568639745282,0.06154803982129931,0.06812227320813084,-0.03632937897020895,0.00927552224064878,0.01279013272987149,-0.08213637287421845,0.02710709561500964,-0.03524945410824425,0.013080979525852585,-0.06950771708327144,-0.06593894071736234,-0.0530205527917658,-0.06378523476322567,-0.08555387646678816,0.011101797159002476,-0.015547384067495762,0.03423170313580418,-0.011144141114420934,-0.028845567271845816,-0.045421628059423506,0.06027316722296628,-0.07424937846490617,0.034582274057788756,0.03553941721166451,0.06594500890950636,0.08291447147799642,-0.059249166563953605,0.05354953746734001,-0.02792510278002617,0.009369153303386748,0.05586573167309374,0.010473948747594209,-0.0331440143000428,0.07893727671461925,0.012854395812341329,0.019213665030579214,-0.08588367494965447,-0.039218581740956354,-0.08151132293059053,0.07725868967489466,0.08291436789021754,0.0014208245714881387,-0.04276777101388272,-0.07317747156328089,0.08574338905573566,-0.058770594649161886,-0.06346948205179369,-0.04505294809825473,0.03834713469087844,-0.037830091850242595,0.08219961490451524,0.07297325556407906,0.04437781706629453,-0.015049318887633384,0.08427518655686347,-0.07889115224034028,-0.06172037843937278,-0.08667720762488602,-0.05993075740510144,0.0035815390181766593,-0.08574038364961874,-0.08064833727010283,-0.030475202930128266,0.08077744922883522,-0.05413985571078575,-0.079199743248299,-0.07068686561031545,0.0006879179193548829,0.027718448386912425,0.05254761277257272,0.050671882457721903,0.03619135909227093,-0.013571251002199195,-0.03658696266095813,0.03657871889677061,0.08253100691979931,-0.08699603575756717,0.0540805007104315,0.03541537586652999,-0.0639583865372968,0.07357849699144381,-0.054298847799116194,-0.05976448357984748,0.02240094592259651,0.048383165194487036,-0.025321253984984925,0.053646231236098636,0.0028408752944264356,-0.07997104502933446,-0.03620482083397168,0.04248983505195706,0.07079196521111422,-0.03276806339112829,-0.049845559078135766,-0.0027013847149283243,0.057898816315883214,0.05409145075104678,-0.03642085944318042,0.04083804065421851,-0.005705583697654912,0.0652321249636386,0.08138975611797693,0.04609852187961252,0.01651274639565938,-0.009521973334140139,-0.0794133847945691,0.03812052011492634,0.007977791285020163,0.04525409075393659,-0.04823081428658527,0.01483056340812337,-0.011380952161388845,0.027469766447777433,0.026266568083728105,0.08451831982504969,0.0800037135339689,-0.032845805755757386,0.03826343796422803,0.03400126858349921,0.051837978759776825,0.054677264247851284,-0.0650314910304206,-0.06359740829775598,0.03406766794106271,0.05134666305888864,-0.06696698944853674,-0.057862518672215396,0.07697891042933339,-0.05219186510195652,-0.02872087240609457,-0.067768442401416,0.03844615087396511,-0.08569798193806194,-0.03282943657496111,-0.06061682350285598,0.008250865650153202,-0.030899523938751873,0.047928626902834115,-0.05611754380363503,-0.07545449480419293,0.051970472512986234,0.04769793565090752,-0.02423407315220901,-0.01887731435627547,-0.0411320500404383,0.06952031286739965,-0.01314106472183771,0.03079006211352324,0.0859569907250192,-0.016199614919746082,-0.00720326520823136,0.08753509841873072,0.01491431852672651,0.0276280234681585,-0.05884777500663563,-0.007880723388640602,0.05577796894006667,0.0011044980410475772,0.04850515938405675,0.018865234737269043,-0.0815004895910112,0.053024073339249786,0.03838255244396664,-0.08704982195976568,0.04413480485948048,0.082833339281503,0.07395651899222029,-0.04088157078929453,0.013921084267567236,-0.08471181918975042,-0.07459395649681991,0.07398633956288679,-0.034710928153412306,-0.00861168334276329,-0.0635192969097492,0.024701970911904132,0.0670217413657307,-0.041373093137374174,-0.011782811676418389,-0.05398758201543831,0.03767145275681921,0.07001619926376826,-0.08221926581046193,0.029687209884058027,0.047767183047678526,0.06687573787154351,0.06091664846879722,0.04776051358624601,-0.03567230533705076,0.05616687181412368,-0.05251589039032892,0.05384670039605499,0.023595247279375814,-0.07564605400586862,0.0011077245201394053,-0.03223901134267313,0.03880842396002246,-0.018525954696267992,0.06134200847168352,0.0038600068161740407,-0.07253597158360078,-0.02574050542635025,-0.05102050425132279,0.038240708534029326,0.02036107825003158,0.00245638879998808,0.03996956144191557,0.012175368981978133,0.06120592913399804,-0.020087338755332786,-0.07293248674571212,0.06007104172695258,-0.0480524889491903,0.06089380745061492,0.06722797405928792,0.022294303340181534,-0.0667746759023753,0.03500001133256925,0.058183331770890724,-0.04725748959998261,0.025209653331796505,-0.05445051858828587,0.022538366842393964,0.06259991016912854,-0.00927170301321958,0.006768788101446565,-0.08502023208873434,0.027026741601964287,0.05123453561101382,0.026340466163621234,-0.05942179051726516,0.00874139089716706,0.07527383937239093,0.044143411123772326,-0.06264763764044971,-0.08280124184771673,-0.02227102022745501,0.08494905734745264,0.05489697443788309,0.00035644722393888157,-0.05061116067560419,-0.0020590686633624555,0.02507614807519466,0.016399870623229087,-0.015189465749419576,-0.056904541021587395,-0.031777306719884664,-0.02803866702407717,-0.07493461279288303,0.056981198531612466,0.029010162218522283,-0.007249640931605506,-0.06573174762477119,-0.012511467440513789,0.029419761846770656,-0.017579374830902345,0.03182847081946491,0.010978591554667452,0.017548198031368343,-0.06915577266309936,0.03552993427869008,-0.07386891554742651,-0.06257115027828855,-0.010420539969869736,-0.03652903255938411,-0.06456483221150502,0.05164684049728666,0.008957867074150224,-0.002466286693430153,0.0243689440704841,-0.06837614408094086,-0.07798076101404955,0.07212307961230957,-0.06882652945037812,-0.03790065315095819,0.03018518151576105,-0.06610726736103041,0.03642877413712583,-0.03411205927301806,-0.02034036687219921,-0.05328025776370048,-0.07080236892604205,-0.02970027249105745,0.009782551159431366,-0.06919304246992625,0.08578346534887535,0.009272066722394567,0.022187061790392176,0.042739546870975864]},{"id":"chunk-7db5cddc-147","content":"The main semantic difference between PydanticAI Tools and RAG is RAG is synonymous with vector search, while PydanticAI tools are more general-purpose. (Note: we may add support for vector search functionality in the future, particularly an API for generating embeddings. See #58) There are a number of ways to register tools with an agent: via the @agent.tool decorator — for tools that need access to the agent context via the @agent.tool_plain decorator — for tools that do not need access to the agent context via the tools keyword argument to Agent which can take either plain functions, or instances of Tool @agent.tool is considered the default decorator since in the majority of cases tools will need access to the agent context. Here's an example using both: dice_game.pyimport random from pydantic_ai import Agent, RunContext agent = Agent( 'google-gla:gemini-1.5-flash', # (1)! deps_type=str, # (2)!","metadata":{"url":"https://ai.pydantic.dev","title":"PydanticAI","chunkIndex":147,"totalChunks":208},"embedding":[0.012841246358487601,-0.01506144749852563,0.0006755824531359636,-0.03664588894732559,0.07898521663088248,0.03998251230591016,0.049661871762055165,-0.05382259669425706,0.08487388913020136,-0.018428293389080107,-0.04440929133710991,-0.07142282575319671,-0.08213922021587425,-0.006774270885377832,-0.012735149622339289,-0.01517015609008774,0.08263656852553906,-0.011475613328239345,0.08137311237895611,-0.05741519493117233,-0.00828737383235957,-0.012352956181428777,-0.012446167818858982,-0.056782922319629454,-0.08763071452869968,0.04531989760563666,-0.020142821683481898,0.003771605327890837,-0.07773651363452726,0.05157934305526512,-0.042264754548293565,0.04038650052558895,0.08220531134672462,0.06754728332392843,-0.0535622396833309,0.06170615198800084,0.044908246814820724,0.003038538941601649,-0.04848224364114633,0.04043261822165503,0.007694020477286779,-0.026135395719828255,0.03198696063496028,0.07822619285671881,0.062162045228341054,0.012948307046060726,-0.0005283541162684688,0.06390508741085106,0.08664820963111847,-0.02997332436952095,-0.0005694245219859113,-0.004675219277393136,-0.03715227923012052,0.030388250688685028,0.017014230293587257,-0.008345051446592621,-0.06513420040765497,-0.07825043091243698,0.02734915446833581,0.0692729469347714,-0.025071936037548655,0.019304064826455664,0.03848150968218129,-0.024313077674560347,0.01860801119108189,0.05590206984185269,0.015669453959483874,-0.031286907781318346,0.08540460368129119,0.06266432825370519,0.07636852359407703,0.039842090660906035,0.008872391550381515,-0.0872608778348375,-0.02497748068130188,-0.01763792514430954,-0.07587861656514615,0.07211371656702702,0.08490918207337371,0.05637805012698244,-0.027917709624022118,-0.025700475365915822,-0.039287213031491616,0.010382743835071252,-0.04156149501693241,0.03190730384195727,0.03284219643487377,-0.03690559379265572,-0.04435944108909384,-0.06467729302654236,0.011398728434394337,-0.07005637001531062,0.062056009573548496,-0.034598629685137765,0.052050945726397235,0.047441789903331956,0.052674289819119584,-0.07773423486757101,-0.08299358850301157,-0.08281788315135341,-0.0067744446710453566,0.003950918728800759,-0.04214769522038533,0.04451264691561139,0.06452484104603634,0.04672012977742418,0.00037971821247473873,0.0030479375350252543,-0.008332098417602235,0.04316209943322703,0.0243776110498857,-0.08009448470768153,0.06322779091991194,-0.04235417127543174,0.030136224373879892,0.01546485092620327,-0.004263763353556072,-0.05342790942096972,-0.047129715555494126,0.07766378042315662,-0.07167993327771452,0.04159492723076198,0.008904131955016676,0.07438134239440243,0.004618025852771926,0.05036405373404074,-0.05076389670916948,-0.012481831697381344,0.08622657026060515,-0.08025841380970604,0.0841855084939475,-0.07587871459044017,0.043816408635110965,-0.06519314914039905,0.046280411928709936,-0.0791541096501002,0.0008301184508782696,0.01633624786423937,0.0241749827631788,-0.07154730738211663,0.009537929632524792,0.018737645629569994,0.008159130671313181,0.05041370681795283,0.08487112903392141,0.063024054503654,-0.03559602538908201,-0.08067088714243356,-0.0018834965132067,0.06310201183803278,-0.04224794693757717,0.022271848311630593,-0.0823811489790957,-0.0409081200943475,0.017395520291114238,-0.03168494464376735,0.013187091561669993,0.07963759606741014,0.022785109525389768,-0.05958067648538588,0.06613512614802676,-0.02726569850933292,0.058904385398467735,-0.0351822390692096,-0.08053635657321251,-0.014893981592207409,0.08077876429281905,-0.061902399874861166,-0.043158158659640074,0.04532278684760804,-0.08385256493155145,-0.020436443467298605,0.046008566870519706,-0.005983784901827425,0.0020585599017849737,-0.04834171086127478,-0.031284169270457206,0.017119623049675858,-0.06323552949460388,0.04150061857324921,0.07560556799167574,-0.0641250659264943,0.08692818438128297,-0.004047742179087603,0.020170484176878414,-0.027456806487248075,-0.06578113979109239,0.027865198733351443,0.024665600596029603,-0.07766293440258329,0.05555243401891119,0.05676016973117642,-0.04627469969008223,0.060671556085009494,0.07850838334489844,0.03113176703585822,-0.019518166417579724,-0.00950839523103952,-0.0017212491652174146,-0.0690163166765856,-0.07452913206874291,0.0694893161190203,0.05892577385619326,0.001669438491867677,0.04887471473301829,-0.0121137386523192,-0.0707953469599638,-0.008854632002626771,0.07672227996908505,-0.08817424664340116,-0.045887087536657295,0.0012405015529991432,-0.0026685216380556587,-0.04948406257501214,0.03784846371606314,-0.005650055933086556,0.024182294740148914,0.07970464167130499,-0.04328449549946899,0.036091554527130025,0.08120172913070187,0.010951901457739353,0.04699425077174988,-0.05769236883614261,-0.0726421160305991,0.06855255278165369,0.057236983279947674,0.07619305613223384,-0.08299475946926088,-0.03219430313285367,0.047436179912290974,0.017495690826541697,-0.018087612786903445,-0.06306247194713474,0.06276187093972749,-0.0660817269135901,-0.06796859809500226,0.03154545989725377,-0.0008874227171031857,0.027570618722311722,0.010064253997979094,-0.030211946970500402,-0.029579890106313754,-0.020849096692185667,-0.03255209667892757,-0.07745964350050422,-0.03384686676841082,0.03185470658638797,-0.05020982264029279,-0.01147463771780892,0.08565682052513869,-0.02741493895731597,0.04793032917086594,0.008162293145809804,-0.008943479301842392,0.08584434256222129,-0.0597557323405709,-0.06546401441440773,-0.04059139377893787,0.03981228297070007,0.029915654457126527,0.0016101753891297871,-0.05888068857235769,-0.009323704127969238,0.023625851294283916,-0.0776980504768712,0.03242529996620604,-0.01781198877573443,0.08275346798040435,0.050218498912336935,-0.07066356009644048,-0.004409769971143736,0.06401699036406296,0.011355794616343637,-0.008782481966963266,0.010036328951449314,-0.051148134122362084,-0.06945940250119081,-0.005253085964075838,-0.08632605067308682,-0.066458699020076,-0.032262256552984266,0.06476568375764143,0.009701785670953303,0.013463603819622513,0.08370603860012432,-0.06295142050775279,-0.07041884573548274,-0.04783536924120441,-0.01137877282450565,-0.07344922590537303,0.0407929878221676,-0.04825561937725265,-0.0290130202343011,-0.012899217126433325,0.07953763796159158,0.012597334379010443,-0.07092415530043564,0.022146896945199737,0.013770128811192463,-0.04600569606806911,-0.011106862487481583,0.034745499862403245,-0.05318165895443989,0.07231238831766476,-0.061297405640368785,-0.05188741549011174,-0.0169543520276228,-0.029989875414236148,-0.06552646354154533,0.08000259584144757,-0.011597626820066003,0.005296358834734432,0.04821981258588547,0.051940663185190424,-0.06494240102312068,-0.06062990318654096,-0.06727066408209942,-0.059693842858754696,-0.0038381746066368794,-0.08216758078071092,0.08137180274234931,0.03746990168398817,0.004472822752014414,-0.04141234616536269,0.038330866477334656,-0.08794011745152132,-0.024190301297754027,-0.002103376919564861,-0.012577654997912018,0.07839691867186904,-0.046759832294982685,0.04702265588209787,0.08621192223656113,-0.05481642912854816,0.03830880066141458,0.06028887005594575,-0.06855437895823514,-0.021811622343239755,-0.04897471450983997,-0.026767160581644342,0.038256045912967405,0.05498075440456963,-0.038956891946457094,0.02974934702140443,-0.07198201399462897,0.08644483493295778,0.07784063980552698,-0.016759386738695363,0.0697803526448319,-0.02958019473352662,0.003707812052967743,-0.08262681404417561,0.05373678637828326,0.022314412371354113,-0.034776068823792416,0.044184551580768706,0.05272980059106927,0.06523288807422252,0.0756692575273753,0.0842702192157647,-0.08432887856927752,0.06927715185160138,-0.03350661874763373,0.05848144749943637,0.03632364400082429,0.022632283842380994,0.03750158295408756,0.007329176114252475,0.057972420033393084,0.06349885388959534,-0.07564962521534674,-0.02930296130810483,0.044743042608234945,0.043026246798858254,0.0437910692454733,0.06510736131058263,0.03394912587766601,0.027264712834800378,0.03423024317040452,-0.07350648373957103,0.04308473807644357,0.04920612146228235,-0.06512604097964517]},{"id":"chunk-7db5cddc-148","content":"system_prompt=( \"You're a dice game, you should roll the die and see if the number \" \"you get back matches the user's guess. If so, tell them they're a winner. \" \"Use the player's name in the response.\" ), ) @agent.tool_plain # (3)! def roll_die() -> str: \"\"\"Roll a six-sided die and return the result.\"\"\" return str(random.randint(1, 6)) @agent.tool # (4)! def get_player_name(ctx: RunContext[str]) -> str: \"\"\"Get the player's name.\"\"\" return ctx.deps dice_result = agent.run_sync('My guess is 4', deps='Anne') # (5)! print(dice_result.data) #> Congratulations Anne, you guessed correctly! You're a winner! This is a pretty simple task, so we can use the fast and cheap Gemini flash model. We pass the user's name as the dependency, to keep things simple we use just the name as a string as the dependency. This tool doesn't need any context, it just returns a random number. You could probably use a dynamic system prompt in this case.","metadata":{"url":"https://ai.pydantic.dev","title":"PydanticAI","chunkIndex":148,"totalChunks":208},"embedding":[0.011239471834237862,-0.034820098339560665,0.035901370966197534,0.0647411865184446,-0.04855533894503433,-0.012352881651702912,0.016618839684308016,-0.009571685698028055,-0.04307883053113387,0.03970147487053712,-0.005230059137550424,-0.05897374495197753,0.08193642433528413,0.012180668787612,0.08584159452537003,0.021666521713944856,-0.04107161331019626,-0.04906589516736197,0.059130225918203855,-0.06512436764071054,-0.010442550928983918,-0.03660921572872384,0.04265134365102549,0.04469652069897378,-0.0849750442980776,-0.020446496192015974,-0.00675095958858827,-0.07999531913726463,0.0740240532769264,0.023303407023854403,-0.0502915972242154,0.04791069522162582,-0.016624942993331636,-0.014419948044683134,0.05068912636603547,0.02796319831304715,-0.06878627443116103,-0.060496863687520275,0.008629972765321658,-0.004365311903987614,-0.06145469632836908,0.031815288681066964,-0.029531852157168297,0.012308138755690866,-0.037045498858120904,0.08430434220212986,0.045804547600092074,-0.06484996021240083,-0.07282421403075749,0.06759174515882144,0.03583821968163907,-0.08766806755604452,0.08167524772279022,0.0413594527971959,-0.08044494987770207,-0.03876052239002928,-0.02234746212715502,0.03917643654545328,0.006694786377012677,-0.042208955484202594,-0.069683161115689,-0.08051720782555333,0.0078115445860098935,0.07932864647373913,0.030763637285573707,0.08552520666081374,-0.02917736425400304,0.005297386245563791,0.08255972788481583,0.013513402357371362,-0.07002702485561814,0.04873604383555386,0.010207961213086298,0.023351331040283262,-0.050383173831426514,0.05136584144540226,-0.060547288362293394,0.03915966635486471,0.010626871139887417,-0.03557393652666151,-0.07801267065722833,-0.06999014321452975,0.04633210807046352,-0.05412722480775926,-0.07815872536003608,0.08830242188145562,0.006775311982647831,-0.07701346346671185,-0.021686090116894385,0.044283302996403026,0.05656347654202427,-0.005543634093000631,0.07734737567086722,-0.08933340125222537,-0.032121176700288225,-0.008686832388153813,-0.04428267107937926,0.0303116892235198,0.08132227357729899,0.013768936077551898,-0.014295394712286955,-0.0379858580531924,-0.07528181869337228,0.03825663288843975,0.06051070911970826,0.050874330898909616,-0.08399834501826876,0.0027701912052969136,-0.08312408447155119,-0.03890745884737211,0.009706145014850823,-0.05436368040605943,0.07424625069827176,0.0421181169340935,0.051171954355166825,0.053356548468530295,0.028680842938746773,0.043199381693837136,0.024210433778969233,0.07248512070803464,0.018752070343938304,0.058237407948358515,0.03211986845827773,0.0019076912158193927,-0.08287387352745201,-0.04020708740221688,-0.0711213371548788,-0.08876746942158432,-0.058944679220361375,0.004075811404380072,0.01951379366100755,0.08448830087849445,0.06622304824266367,0.02506904590383507,0.060497475390817096,0.05440812219179912,0.04180877400403792,0.06004630372682536,0.0013316375328697209,0.05239499853616118,-0.06893513978245001,-0.0033572149919791697,-0.061479406636105176,-0.07579371364603837,-0.06286601891257274,-0.0342427861494251,0.01561824322043476,0.07463649690672015,-0.015397693072317663,-0.01077710370168827,-0.028317407978015467,0.07098776884253138,0.005175592228712879,-0.0608042588411506,-0.028383383424102942,0.04348622563297654,0.07663942361518133,0.07477319575450626,0.001635812680489359,-0.07291594373138806,-0.059132780322497816,0.07908674172603622,0.00036285857290807686,-0.057638168756689936,0.04747282621505622,0.03832419694043356,-0.07352038443637386,-0.04458687331912426,-0.08017415004831935,0.03848163775163499,0.02111729616293724,0.0686944753482126,-0.013008936639660386,-0.05014482377353866,0.009127910974257506,-0.031064044339333397,0.056689547142324444,0.027620251337495075,0.049815923031235804,-0.07319089754459716,-0.0029635652889421237,-0.013880018891742238,-0.03288202079516949,-0.07956210298331717,0.0019535745256817746,-0.06955556991660043,0.022664145023992832,0.054756625088587405,0.02063765368947106,0.05651270457542144,-0.08152165206860554,0.057280568253399874,0.05308034816847949,-0.08472792847306924,0.005264357740684759,-0.06560830607109981,-0.06250724242372749,0.01121169902221034,0.026586845668302165,-0.05966203091091563,-0.0812350209804711,-0.05799206571285561,-0.0375594308593697,0.020647221388625108,-0.08413718965719921,-0.051403260938933895,0.06272855014659626,0.028537463332453637,0.030481351176337934,-0.025224943668121183,0.04145824630236981,-0.002276301438036331,-0.06655202039469085,-0.0030728658459196144,-0.02750186421178102,0.058610017554902055,0.050387710769334425,-0.08235603516886693,-0.023762654912012782,-0.057366427940273676,-0.04154155851931479,0.052720662496421246,0.01662070108038667,-0.04002129031309131,-0.05914112314744104,0.05349749426134727,0.05376222121484013,-0.04340449113558576,-0.01634175839565111,0.0006374532185053659,-0.028674624898416552,0.05250444570986788,0.067289371137761,0.06142937605427671,-0.012507576659634352,-0.02350042028499783,0.0800995827750701,0.00993741045150465,0.02603886310301382,-0.04143587155305863,0.07075800759980728,-0.010387106981980681,-0.012905347596223533,-0.006866739758774505,-0.033788252832815495,0.010748224351518045,-0.06432805886648316,-0.030626012151951324,-0.056019255377194634,0.005933752946382168,0.038465167305104436,-0.01673401699544499,-0.027509773718929355,0.041609512244243724,0.009519016467402285,-0.05587686748534065,-0.038481311342449497,0.023656075198363893,-0.031195830406584264,0.05761575034641813,-0.056895983985021645,0.07836975052667744,-0.0783630539604054,0.01433144005276916,-0.04099057040788629,-0.07784010491284786,-0.04709133097964622,-0.034158791708929485,0.05009525464964963,-0.0883632380055364,-0.08670597232054193,-0.014600115888960869,0.04895135299618423,0.018518089910029373,-0.04131190050648036,-0.0776741734756668,0.08699337491038162,-0.013666281002985817,0.04023341603177323,0.00138704629902039,0.05875877535037611,-0.08215105340135612,0.04335807141261918,-0.02747602046300255,0.046451108469388915,0.044426950478103314,0.023341387886223443,0.02253226040846003,0.04821549648268916,-0.06741896926236189,-0.07675636452207285,-0.055073593397528146,0.015573543346228248,0.06901062194278187,-0.06631146089426879,-0.00475665521755222,0.056875709540541254,0.05505626396933066,-0.0004279813896895835,-0.03232482204740447,0.007727738692199725,-0.05040811514644128,0.016873284474824606,0.06335835719905925,0.013396976850913237,0.06661092579081662,0.025115428316245296,0.014042270892298312,0.0669162697775301,-0.005990974714813145,0.029393116914591726,-0.06479559631853096,-0.034719794491481146,-0.07460690779629116,-0.08702206302847987,0.010036205541956998,0.012829238203240426,-0.025782085879406523,-0.019726822658463376,0.026886902639580195,-0.08915659323595967,0.01572812696959436,0.07293020066788598,-0.05663452099095828,-0.017716076771894088,-0.0009169048874232553,0.06663106756833094,-0.01599977807353956,0.0423338856895994,-0.012036375837661617,-0.05202114386022026,0.028189523865411986,-0.005886756640145889,0.07430305764577964,-0.07310325130979572,-0.05997290028603638,-0.05778280283332722,-0.04409349786727845,-0.06652925173863164,0.07432861772317699,-0.06959947093789898,0.010011569956004607,0.0017015086286367778,0.06276857762047909,0.07592732334375914,-0.03667253674904799,-0.05540387652332362,0.07331429407572695,0.07301110757075979,0.05351280956564987,-0.06982071173228499,-0.049323681242591615,-0.06697485123164153,-0.08911215869959364,0.05904947157091593,0.03776252295510114,0.042397035401275256,-0.07671569262389323,0.062396676880678285,0.03352284584310953,0.047789781549636555,0.03670693087297526,0.031758859388508226,0.013728622185425426,0.08521432561386394,-0.023667718709515062,0.08164981712581304,-0.02853477832094405,0.02284932399590839,0.07742927587986746,-0.07349783525005109,0.0006105311342008571,0.05717477670827901,-0.009906648953044732,-0.06861223429439203,0.00993516142998273,-0.009021414437739218,0.08736632112254528,-0.05180077864569206,-0.05271951437627963,0.07198995529983047,0.021324673210333205,0.04420028217955374,0.05154089575616246]},{"id":"chunk-7db5cddc-149","content":"This tool needs the player's name, so it uses RunContext to access dependencies which are just the player's name in this case. Run the agent, passing the player's name as the dependency. (This example is complete, it can be run \"as is\") Let's print the messages from that game to see what happened: dice_game_messages.pyfrom dice_game import dice_result print(dice_result.all_messages()) \"\"\" [ ModelRequest( parts=[ SystemPromptPart( content=\"You're a dice game, you should roll the die and see if the number you get back matches the user's guess. If so, tell them they're a winner.","metadata":{"url":"https://ai.pydantic.dev","title":"PydanticAI","chunkIndex":149,"totalChunks":208},"embedding":[-0.05078531708055189,0.07846913858541958,0.04360967626963724,0.019516784385890506,-0.002974688019309287,-0.07313311112289884,-0.06627590158914055,-0.008130274805330589,-0.08745391925716618,0.06910897696776727,0.02086311434836369,-0.04444534857582899,-0.03170511613705442,0.04099615263461454,-0.0747490313805149,-0.0165955324059952,0.07269246123887063,0.08196562442644587,-0.06055263233673621,0.029402944462304265,0.030077003666925534,0.05797713418002333,-0.03870598754171302,0.08727545129741895,-0.05704581373734459,-0.06999254540419486,-0.05475128257355894,-0.00748233287501984,-0.058319283538691445,-0.014903562220469485,0.05737065289252154,0.010786398436038448,-0.08498229492552967,0.07400180043430524,0.04423156056389763,0.06603695637391647,-0.0641786625591993,0.029792166092116074,0.029297562181141323,-0.03614938219358337,-0.07815464464712234,-0.08184431952016054,-0.0032757640038497964,-0.07447687297949998,-0.019847792005978398,0.05636627360738916,0.003607012726011058,-0.0685212197549362,-0.010499679209145272,-0.03409321005064588,-0.004439815777691469,-0.02795643492696855,-0.07505827331274066,-0.062038297530364384,0.049533562045478055,-0.06150420222723379,0.0738826262076138,-0.08832432959709781,-0.014248714623578676,0.022714883278585337,-0.021223884398317353,0.029193717306531836,-0.043871016017740384,0.006338057917820216,-0.06497333438202889,0.010215511020319439,0.0469496950502549,0.025057132287311188,-0.06083422800895819,0.04067471938263939,0.021018069845962214,0.018964759578682523,0.07502797217333898,-0.04231053218066727,-0.03732868263201513,0.0858579737900787,0.08634636069466135,0.006674160941089578,0.03278059232242515,0.024886418303826673,-0.046445378448331014,0.038459122356952556,0.0824537936362823,-0.06102933168085059,0.0690461370987737,0.01767342592454222,-0.003863594813772299,-0.04259516491068653,-0.041396297922777894,0.025447945631098024,0.04967759830944269,-0.02599044553909845,0.02262422181234745,0.05348111778260461,0.026080655101412664,0.04813425311325932,-0.0772477314029739,-0.0834588299281371,0.03306926448310556,-0.0875137044217868,-0.006471319226993457,-0.05304146293758466,0.06785336485757522,-0.03612183740015331,-0.03576700270005228,-0.04669321618569017,0.0036369935993322416,0.010957175102482473,0.03172755191177371,-0.007571765971079362,0.0019867354066686487,-0.029991567231499688,0.030630275735222846,0.025698786222540036,0.05842604065512715,-0.005576260633361419,0.05646079507403789,0.009773329380021288,0.0626713256795682,0.05605632282873149,-0.05035081952569561,-0.05285898733332502,0.024309325509024513,-0.006467649178286751,-0.04984784987352915,-0.028623034977537962,0.06051985643477057,-0.06256078471095379,0.0030986828802078304,0.08491802909012972,-0.01883985158153663,-0.03710176211550478,0.07247720517820386,-0.011035502434933458,-0.0025742714518641754,-0.04102900181007147,-0.08643017867792303,0.016244082395500112,0.035165527395353544,0.04758182484949823,0.08058182510024489,-0.0048678683201081995,-0.035341166023340996,0.058172048828730165,-0.08511985051714982,-0.023690983197755693,-0.007709441903603861,-0.023624170694522023,0.0205190430869833,0.03217269173161929,-0.08823293041317373,0.05242207599737411,-0.03458896733829136,-0.002586783250461412,-0.004899917261938859,-0.08103817624914034,0.045229901849846654,0.07320912874844003,0.06193077393245629,-0.08612630325477649,0.05438649569886433,-0.042602579758861864,0.004556580904534809,-0.06888725420702586,0.04654702209360982,0.0712536582096326,0.009433693984836677,-0.03572594097861083,-0.07332341712599896,0.01568577681562494,-0.028004628236983665,-0.04040802132073964,0.07244829772773086,-0.06753001035156775,-0.049931914505084884,-0.0507348521112206,-0.025234900123905373,-0.049999603685197326,0.01890103718753552,0.05482518949742183,0.014539447008247004,0.037582899883401306,0.03270153499718047,-0.024026212736244324,0.03799940244156471,-0.014303075511720744,0.01590998137600211,0.02149543002839498,0.025639473151958476,0.007372559080319294,-0.06379572210302291,0.051320106003009736,-0.039111333078977836,0.08725215965441491,0.04528765550460564,-0.03846395242378464,-0.08399071002451876,0.017849489616248573,0.016737554298886164,0.04720721491092661,-0.010726237671800278,0.01473349279873293,0.03583341842819918,-0.049565272948374504,0.05891614316247384,-0.02666223357792164,-0.029452498260704212,0.07737050443424792,0.027076301063661608,0.019820883560142905,-0.02128423471023074,-0.07047806210655254,0.06265556291928205,0.0020203334613716198,0.0035801552935848164,0.0055896362128294436,-0.08772227778129889,0.08614294649868719,0.07959657948736105,-0.07611488182619555,0.03157862069538794,-0.08852673383549908,-0.0705638392030771,0.07347318224185799,-0.035271189335552205,-0.05554809597854053,0.028579031014373098,0.017043367761335276,-0.030713462326502364,0.05675174390836718,0.001978392002055501,-0.016559073912569066,-0.021311736387757185,0.047682329832355916,0.0765622134413685,0.0014566994355777105,-0.04472937202415765,-0.059819019546906264,0.055899890087167184,-0.07438574769657624,0.06328158514731749,0.046299494218804395,0.05739390171523014,-0.0046713962457450185,0.047495899635116606,0.03835911072220767,-0.015723220340190254,-0.07950366731512415,0.06015873701680681,0.05222553198729663,-0.035266500239442826,-0.03025574681761442,0.07601549928963175,-0.031643787231871175,-0.07733330167342002,0.06009092361559827,0.0029170379292447904,-0.06061947500943538,-0.014701636482842869,0.07541777301907389,0.04912936876334039,0.0020757885008514075,0.011781932603406466,0.07254420261475508,0.07410735798792788,0.05442404727948486,0.07910410117980568,0.0051312982072033685,-0.06163415879819131,-0.07946480620196054,0.032688888303272726,-0.002205409824409902,0.04856533666124863,0.020205415492818624,-0.08355700216703829,-0.05312999710150748,-0.038169225036434246,-0.07363422212885402,0.055285526499293906,-0.003959172084969268,-0.004602567266992867,-0.0523567372934521,-0.048018551563712014,-0.04639231837326124,0.05194058003677094,0.07521141410450753,-0.0706772830731588,-0.06104859927446682,0.04818004907843216,-0.0244346599216116,-0.0887559783715925,-0.0031166185263031302,0.04822430691954702,0.010548701546044485,-0.008637229289912,-0.025372299822934277,0.021427767836838675,-0.08608551297542022,0.010040789838491396,-0.00796145490893172,-0.07266474475611517,0.015128535329346639,-0.07463089359248909,-0.009404186686595291,-0.06029386888409206,0.027937272346575517,-0.07629274383134406,0.04626831573947302,-0.06651049462933492,0.02485184259691914,-0.07360831747903387,0.0183341931383797,-0.06845233338443656,-0.028628275180038257,0.05491939984057081,-0.07662616610658142,-0.08507343794899778,0.04452675747073528,-0.06869201024339339,-0.08518871855866564,-0.015373369045594939,0.00730660140230973,0.04899575749624808,0.02596683448765057,0.07309899870810643,-0.0683750382803022,-0.07970715623672626,0.05439142372956205,0.06139836832991111,-0.08136953145040406,-0.020296313321629254,0.053870046065003355,-0.0019692031086854453,0.01438489310611057,-0.0011515085999148698,-0.004306471661744375,0.013227011979783257,0.021526934919959703,0.05484096318608925,-0.07643805021144624,0.047823226980733206,0.03167493330019036,0.05296524455509436,0.07470474041461289,0.015957047221681325,0.06011278105635435,0.01020387169457599,-0.07094970170033665,-0.0679241745054746,-0.023399766845426245,-0.007370369331871782,0.031067285523533224,-0.024317876728292765,0.0034595459325796824,-0.0005965665452029585,-0.0749353042807201,-0.059467090082815,-0.0756464265024313,-0.07313789293481783,-0.022931778932346516,-0.07953150082806969,-0.05841663248020468,0.040422642094107245,0.06875066150434939,0.05667890199954574,-0.05889505002352705,0.05585105736304833,0.0820621133275533,0.0020141419755483883,0.07086915689753699,-0.03060737246298515,0.05847080939308021,-0.08568923996235936,-0.0746343944157313,0.02089910205836682,-0.018824426302655996,0.08217147913124484,-0.013763507490355643,0.07245930276054302,-0.08882780771932433,-0.054711761190409214,0.08023993792324534,-0.018561274850854913,0.004687785574293556]},{"id":"chunk-7db5cddc-150","content":"Use the player's name in the response.\", dynamic_ref=None, part_kind='system-prompt', ), UserPromptPart( content='My guess is 4', timestamp=datetime.datetime(...), part_kind='user-prompt', ), ], kind='request', ), ModelResponse( parts=[ ToolCallPart( tool_name='roll_die', args={}, tool_call_id=None, part_kind='tool-call' ) ], model_name='gemini-1.5-flash', timestamp=datetime.datetime(...), kind='response', ), ModelRequest( parts=[ ToolReturnPart( tool_name='roll_die', content='4', tool_call_id=None, timestamp=datetime.datetime(...), part_kind='tool-return', ) ], kind='request', ), ModelResponse( parts=[ ToolCallPart( tool_name='get_player_name', args={}, tool_call_id=None, part_kind='tool-call', ) ], model_name='gemini-1.5-flash', timestamp=datetime.datetime(...), kind='response', ), ModelRequest( parts=[ ToolReturnPart( tool_name='get_player_name', content='Anne', tool_call_id=None, timestamp=datetime.datetime(...), part_kind='tool-return', ) ], kind='request', ), ModelResponse( parts=[ TextPart( content=\"Congratulations Anne, you guessed correctly!","metadata":{"url":"https://ai.pydantic.dev","title":"PydanticAI","chunkIndex":150,"totalChunks":208},"embedding":[-0.006302200959234146,-0.014476112348602702,-0.07715043807609327,-0.0789296513278005,-0.004518869074569381,-0.00711104347669027,-0.06165154828160068,-0.013186102384043087,0.05167192621607113,0.03957082322139168,-0.06981999401515691,0.02478344359005436,0.00802536287943723,0.05230748495422386,-0.08731181220950057,0.05950549860767772,-0.00210192521906143,0.04352428622917625,-0.05362270944983588,-0.022457784154935503,0.0774322545352233,0.014876374491214981,0.08593925675218504,-0.048326283456953945,-0.08228360426549447,0.025579909118772247,0.06961795592328371,0.02384561697313785,0.03496624327333964,0.010045887472095822,-0.006279654226242725,0.0771514100789984,-0.07308609401873015,-0.029414493200268173,-0.005372232087840361,-0.005031080049566711,-0.068450571675993,-0.08327666720856414,0.08665306054732369,0.052165183754365414,0.041975862451599275,-0.02040412330394645,-0.07276495206132844,0.04938369502725714,0.054855376615979466,0.07698312875788837,-0.015611881899971597,-0.01240087696749029,-0.08212076124636856,0.056426303965065254,0.02980490471664868,-0.07689997017450834,0.02263351164103732,-0.057156193573985103,-0.048952706953984904,-0.009749228050048348,0.044871025756931686,0.03295546922426753,0.07371168205817571,0.05882634544107584,-0.058667746501725834,0.021974242812175238,0.026508883243990682,-0.05928711108113685,0.05429639381444088,-0.006004323337858728,-0.06553307763745475,-0.0726744581077224,0.01901312428382083,0.03961354643559537,0.043153595465984115,-0.057240481479552484,0.04275632237912146,0.03723017412764263,0.073649868336478,0.07578950006646484,0.08595288988301843,-0.08160869653109137,0.04923818013105696,0.03855107473566618,0.07033286608014112,0.013389885599837335,-0.0811507049667575,0.086209283670149,0.024246858442437347,0.08550721298808873,-0.023237801369449432,0.02970093314306771,-0.053508314530487065,0.03658288881586175,0.07295997967542547,0.0680186412376578,0.0461531984670625,-0.022392963812507865,-0.07712111665172683,-0.06544918774478163,0.06944562442157136,0.042528243004418896,-0.03887387662362279,-0.04859619448263335,0.0736995577690443,-0.0331762225416427,-0.011553241146308494,0.04254168325113398,-0.01884604627293913,-0.02699454301082869,-0.01937586506474694,-0.05769048315462226,-0.019198617304545158,0.05573882700030424,-0.04907546876518076,0.030106471706338466,-0.08571192704187276,0.04068271945582324,-0.009197200449122176,0.007989475263115891,0.07321804852161153,-0.014971885826485133,0.07340957310182876,0.05303852108262213,0.0841498095851987,0.050572218394000494,-0.062477139924041226,-0.04993194590774495,-0.07577384563265697,-0.05158845476985496,0.008442513644879005,-0.022935917682099637,-0.040530341879769546,-0.02473829148641735,0.07179976281758714,-0.07558249163670126,0.022766294607429443,0.049262014387078404,0.020107807380796077,-0.015034047038678434,0.020308401641901383,-0.07599438268421448,-0.030964939150361147,0.02963091286301101,0.025258683737468902,-0.01146355393847114,-0.04728507649644802,0.07453974219180695,-0.0831657557577873,0.03616487478107053,0.017369446416076732,0.014175890770174965,-0.06383625967629783,0.06236841188128601,-0.020578456706403753,-0.013104340444407633,0.042116393781634884,0.030557120327408777,-0.04346052803322958,0.07505811039390461,-0.05247323498109994,0.03076668553319524,-0.07834489409293044,0.051910293052870905,-0.04973113312026733,0.02040095490227132,-0.01557869841735417,0.008135761396084285,-0.07074136623840979,0.025333671246973815,0.012542653532385092,0.07361026866586393,0.010111450053793701,0.06928065441339509,0.010297172934344182,0.08537805763741146,0.02780673236533995,-0.004843858969316061,0.027171816832929355,0.07861889249734487,-0.06387166743456095,-0.050938559810327425,0.008189882124720707,0.08731378207639896,0.006692960200623833,0.06329858599318683,-0.006494307694748356,0.041420635798095386,0.0740779153087986,-0.04298666698532566,-0.08199206294508837,-0.000389404961380534,-0.07682905934955159,0.07241747115524472,-0.005484410987874175,-0.022907833285055534,-0.02403994293559275,-0.07057917103726963,0.01828243622657668,0.07918637084389785,0.07248707485840016,-0.07576774063909064,-0.05215430179054673,0.05265332956886642,-0.06356794523926347,0.012013110628463618,0.02032843798221141,0.08226161148456823,0.024058743795021646,-0.04070875589741113,-0.026342170765990387,-0.05950958270394059,-0.01992743870808121,0.027224836430252183,-0.07468262335873073,0.05127416264957564,-0.032432480835455066,0.021778736483862228,-0.069648531076306,0.06991399556811732,0.05833259262406823,-0.035067872213964436,0.008627483453550312,-0.0398114719016178,0.04106049195031347,-0.07900625814592092,0.04397354619148433,0.021894241050035144,-0.003871968264141038,0.036862597582763515,-0.0028370721069365615,-0.021450491165023854,0.04888814328417064,-0.05153631923492472,0.02456580412899825,0.06850298002858858,-0.08463008705824605,0.08260875644755697,-0.07064959871259954,-0.06550852418465955,-0.0809314666300102,-0.08459235795948848,-0.08272758071170154,0.0485785875703639,0.0816369043122875,-0.08212545717231609,-0.07878331831653049,-0.046668879496398474,0.04976693352306627,-0.013262603729136731,-0.054906295176653956,-0.06879078794032031,-0.05730651909913263,-0.03150194546364375,0.032709261384731375,0.0251519114212763,0.06908089311863705,0.06526326450224917,0.028570268364047215,0.051441329494748736,-0.03738222522678361,-0.02174554375044561,-0.049852657006103016,-0.059645250365778266,0.05543676687137885,0.0551182926121963,0.006439578120057176,-0.08550904960981383,-0.009667147413941432,-0.025364254690159314,-0.04136691752702016,-0.038223537419666956,-0.02062117081599026,0.012585632264747366,-0.018949593616139283,0.025193579028758455,-0.04194445921791628,-0.03677989930527987,-0.08655449336525288,-0.07870411342573247,0.06719708998401933,0.0738840650455559,0.0067655020321075315,0.06487967887326052,-0.06518360070976376,0.0106552352504516,0.023015308064012866,0.07555400457945993,0.07929601077779266,0.01698483094191206,0.04833468185237872,-0.057032276432414125,-0.06998403495165605,-0.042578046051679176,0.0561488479907099,-0.04278484141734604,0.05598008078911451,0.039275301122362924,-0.022214331246869886,0.08640562442772645,0.028870938074889652,-0.027067943767355388,-0.027017634992769903,0.06690819997646184,-0.014139295919986063,-0.06424793515291642,0.07589231209169757,0.057300206505899606,0.0233542908268208,0.08515928115180486,0.010875790451375777,-0.06390339893429031,-0.03672134770826739,-0.055874474426068556,-0.06584796760078551,0.07986295184945956,-0.05284248515190034,-0.01700316220889781,-0.053617071918301534,0.014668284255196878,-0.01467499192539592,0.0014429344318963378,-0.07252019024814282,0.07547669184414726,0.026183931089335297,0.05350463663187423,0.060671561472851576,0.020194048055593175,0.016930010407161317,0.03004260778438915,-0.019582452666850908,-0.01019502919433281,0.07519812388321298,0.05145282152813341,-0.025680600381334392,0.011943367793745975,-0.07833572043642355,-0.07328457283517349,0.011870873642290778,-0.007773360392877537,0.011682035434185573,-0.0126655181918748,-0.023875905095885903,-0.05129076140019959,0.04306175481494182,-0.06541854300912682,-0.06453107432591965,-0.08511170033284432,0.0279409478673072,0.06694859238839744,-0.03701060978285022,0.07945545848736724,-0.033835619233136306,0.04982175465387572,0.012201734182528396,0.01971979618532167,-0.03607945710998217,0.014563795881323291,-0.02308324542609977,0.0224859909975586,0.06559424422827,-0.05926299609343421,0.07001420731262208,-0.044169899857882014,-0.036586820756131115,0.06312020360096791,0.05847100232814554,-0.004205509813852436,-0.033563294698731996,0.02884534063971457,-0.0750683715145558,-0.021388834520274992,-0.01646318611346771,-0.036059334701348485,-0.03905355382467204,-0.027894595202014576,0.07907752386818068,0.02649163733878554,0.046006145596491896,-0.02485471445174451,0.018390796355387467,0.07289999458387755,-0.002910133801832229,0.04354617733400755,-0.01620333404874605,-0.02074815872920907,0.019586736179620572,-0.03690283935191275]},{"id":"chunk-7db5cddc-151","content":"You're a winner!\", part_kind='text', ) ], model_name='gemini-1.5-flash', timestamp=datetime.datetime(...), kind='response', ), ] \"\"\" We can represent this with a diagram: sequenceDiagram participant Agent participant LLM Note over Agent: Send prompts Agent ->> LLM: System: \"You're a dice game...\"<br>User: \"My guess is 4\" activate LLM Note over LLM: LLM decides to use<br>a tool LLM ->> Agent: Call tool<br>roll_die() deactivate LLM activate Agent Note over Agent: Rolls a six-sided die Agent -->> LLM: ToolReturn<br>\"4\" deactivate Agent activate LLM Note over LLM: LLM decides to use<br>another tool LLM ->> Agent: Call tool<br>get_player_name() deactivate LLM activate Agent Note over Agent: Retrieves player name Agent -->> LLM: ToolReturn<br>\"Anne\" deactivate Agent activate LLM Note over LLM: LLM constructs final response LLM ->> Agent: ModelResponse<br>\"Congratulations Anne, ...\" deactivate LLM Note over Agent: Game session complete Registering Function Tools via kwarg As well as using the decorators, we can register tools via the tools argument to the Agent constructor.","metadata":{"url":"https://ai.pydantic.dev","title":"PydanticAI","chunkIndex":151,"totalChunks":208},"embedding":[-0.01854332380436382,-0.0038819470851929297,-0.042730648976181514,-0.06143190138965444,0.03155657154057278,0.08129208568648381,0.0032400126203105412,-0.0857525581172261,0.020711121586455692,0.01946964330628327,0.07171254370371098,0.026250117305664986,-0.027748561481677588,-0.024387170749794875,-0.0818572439395222,0.04589161323208492,0.017365968659773648,0.016306515868687584,0.07618232324275324,-0.07798638385032686,0.0301478434104014,0.04165443493320283,-0.06333730240293765,0.08597223082441276,0.05584693847178764,-0.0012350957092635954,-0.06733688725469027,-0.05947775746633902,0.0845447211475891,-0.0542264051478555,0.06175006731904845,-0.05414853294002951,0.015690971641311093,0.025014850447872328,-0.026130022484045966,0.060562943684374815,-0.018950340888016642,-0.0851427963613048,0.07733300662310928,0.06972306938249867,-0.06610804305419661,-0.027776936854238602,-0.051277606698374015,0.057461844438363927,0.02885133465603217,0.0020437189618337614,0.043566008587853415,0.015395471259309313,-0.04783092891965766,-0.0629476130449527,0.0435552749019234,-0.020864784534931347,-0.05753213889350997,0.05024872101215884,-0.043806989308338894,0.02636522676924411,-0.056015120092144266,0.0009430806423061224,0.000024760809797628263,0.08498290988581482,-0.08088901695629609,-0.01785207677710282,-0.07374813952278642,0.029054111680979038,-0.08437629294279389,-0.033858189306357984,-0.052284685243112985,0.08594480629967273,-0.0825233277223662,0.019428079091710092,-0.03217956443294328,-0.06052394011904427,-0.0405417897157447,-0.03743733228158431,-0.03428975511437992,-0.00762085179954176,0.01372175203178748,-0.005708551552673632,-0.07310994393233304,0.012524458684761845,-0.036126903927108746,-0.04560244430293564,-0.00580024868822165,0.0028983978750892884,-0.003572090920363485,0.07337944198146053,0.028304834438235067,0.060676791537221955,-0.039382374234701964,-0.001418914413806534,0.06168863963140275,0.06993472670815176,-0.041136294256648435,0.0817789118460036,0.08039894727465238,0.05662730696253285,0.04097624520970364,-0.07389500175516105,0.07347393754795811,0.08565367881531986,0.06618038953049751,0.07369965982792666,-0.045301361366543634,-0.03281864263621272,0.008172676653286854,-0.026019677647971133,-0.049592171111583566,0.06857452714064,0.047027525050862495,0.036245210316748315,0.07184584594161215,-0.08316831370200939,0.018283356017904945,0.06432762160303332,-0.07834465744296357,-0.000026513847481614527,0.010193590103503413,-0.037860109419706744,0.03656161933007282,0.020811971293950494,-0.043027448126220946,0.08212717548960152,0.07680324038685243,0.08668560997791186,0.06950785562801097,-0.02354641419281501,0.07468349207917048,-0.08528677621880557,0.05991954536181727,0.06526443671872338,0.03084518067462993,-0.08374627453204263,-0.04445011912724619,-0.004636207675177785,0.01691042233487009,-0.07540690813887467,0.04211466556211568,-0.011858617605285901,-0.057231231294701417,-0.017706316596995713,-0.0237624418348618,-0.006968442344969053,0.06749646820481621,0.022330778758994287,-0.008515035011888284,0.028311172424096587,-0.035402236800302765,0.04119911135755066,-0.07002959045372384,-0.01744533308709432,-0.027735756372714804,0.04687533802949559,0.08658154246486688,0.08231248002888283,-0.0434693327265006,-0.08368639923359374,0.005750675105272811,-0.03618072349612895,-0.02263663273862883,-0.04534893120299213,0.06035654622743974,-0.06474620999925568,-0.08027074249080977,0.032555977480629744,0.027880324630704646,-0.05071144257188835,0.07624784183553845,-0.07240031218722934,-0.05810126858293032,-0.020287727081093,-0.02120883819521894,-0.011950278254617195,-0.04664374625146596,-0.05848669126717286,-0.053181076074643244,-0.03242013406722675,0.018928545622793128,0.0020254018293424953,-0.08563901671606369,-0.07740518935023297,0.01871479492133325,-0.002774587881301821,-0.01920193967112954,-0.06093340019420629,-0.07088695792651128,0.07588069869083242,-0.07055376033965065,0.0020193858428229905,0.06734556539644589,0.046612378318617954,0.03842642610880337,-0.03905004459486059,0.02444211265734802,-0.0013289148627229962,-0.010743541661025787,-0.029614952563682746,0.04379707573902061,-0.06546426506950462,-0.05626707494930224,0.0747581576564434,0.04847873862924443,0.06938526187253558,-0.029152169274707682,-0.0166700378221857,-0.06661031996725564,0.04626411869871076,-0.04461911879302305,0.029185701520693826,0.06163615226214771,-0.04892257111699083,-0.07499365037927107,0.04801658550033019,-0.08030697144308348,-0.03697024962215465,0.061268804668512575,0.05842473987476052,0.026535092281590282,0.04294900256528679,-0.05961396119934468,0.03722671040455574,-0.01748147484779334,0.028196380874058662,-0.06731785584930645,0.05969565481699136,0.05275064795897911,-0.07072437565040374,0.023810716826903198,-0.06373437006909538,0.08034957663759242,-0.0006635326955527293,-0.0022438557526021185,0.016780368450175137,-0.05324976381571338,-0.03678778786586856,0.011157109118779965,0.07480774965840678,-0.06321223420432491,0.013181762913160078,-0.0010153853422541187,0.019315525676410542,-0.07184317644127675,-0.056077784703325036,0.027960087519573854,0.035222861549115574,-0.0321011068860668,0.03803148362370926,0.08534626222093063,-0.08161542093520735,-0.026454519868029828,-0.0614846476214802,-0.037172372662159114,0.012443678363455545,0.06715453493581137,-0.07827304932188958,-0.029994501041343692,-0.08134552031515789,-0.005700845461537748,-0.07456833560635567,-0.017659586459444328,-0.03869836685796096,-0.06554146837270214,0.015640055012274036,0.002079250481950315,-0.052076721401246626,0.0255395475088332,0.08350108233436712,0.07671165120944141,-0.015815746017788724,-0.03902392898826497,-0.04801566565186999,0.07494968903498707,-0.01674790009539984,-0.08405195945242377,-0.06477011583155047,-0.08383501227566548,0.05877244631094903,-0.02251315202819921,-0.039879390404447775,0.0649998423616865,0.03634726520822458,0.006730577168887534,0.016993810550854648,-0.000785605717595043,0.02668789355888916,-0.0772307506393332,-0.05965099591578714,0.029923020355543235,-0.03825509806558048,-0.06709532148947632,0.0478876610382709,-0.016859374111296645,-0.060629882737440785,0.003943156703303362,-0.050058903483076816,-0.06484433161971052,-0.015760102933636274,0.05341324315721419,0.04268590818696375,0.0370296215607772,0.05209068511360555,-0.01645333409648552,0.0397708336057382,-0.07669295297879157,0.05305946777063937,0.026592562668760637,0.0265041482387812,-0.051192998397872204,0.043529307579707244,-0.01996499638100539,0.0038973748613195442,0.0038243050512901263,0.038827598798870676,0.08110197867620055,0.05952135598367634,-0.03613870944411313,-0.08423119967750256,-0.03626533152209078,0.05522480857693827,0.022979126704618727,-0.05340270639569364,-0.013458531246462176,0.045773827315592576,0.03477010720667044,0.019945384871586043,0.052917882890516035,0.0010721123377926765,-0.012122280826332895,-0.0006975078703901122,0.0370509110796153,-0.07280866382040628,-0.056147539992282655,0.018372105346005255,-0.06111874156361964,-0.07008084589454726,0.021155792842553603,0.052048648668477755,0.021199068537007947,0.07112290092107831,0.03922837904942165,-0.053348797762319954,0.029450504292544335,-0.025670501463738362,-0.04830711674003741,-0.08112396522887985,0.05266099875744264,-0.04190191566768953,0.06557237137689811,-0.0046112989139194096,-0.04239281142523532,0.06868080499694651,-0.055171528580250345,-0.026565145047997174,0.025499577653128845,-0.027354307704179612,0.06587461629061002,0.04527098659352947,0.05619788393530262,0.07253582881427341,0.041323579326250984,-0.08309089693465706,0.05678536091278313,0.009846500514141397,-0.03818354203737125,0.019931381722919823,-0.02527242086265562,0.05503179901814698,-0.07114175632430479,0.02615146082771598,0.0675529754360988,-0.04355784201258856,-0.036926600347970795,-0.05592060266021373,-0.06693384405754951,0.0813215406563667,-0.06249917831593216,0.021851238382028973,-0.01863577939535035,0.03621228594068819,0.03535504997468148,-0.08527004068009097,0.02177042919173663,-0.0547067886917347,-0.07894095146524255,0.0755779974086826]},{"id":"chunk-7db5cddc-152","content":"This is useful when you want to reuse tools, and can also give more fine-grained control over the tools. dice_game_tool_kwarg.pyimport random from pydantic_ai import Agent, RunContext, Tool def roll_die() -> str: \"\"\"Roll a six-sided die and return the result.\"\"\" return str(random.randint(1, 6)) def get_player_name(ctx: RunContext[str]) -> str: \"\"\"Get the player's name.\"\"\" return ctx.deps agent_a = Agent( 'google-gla:gemini-1.5-flash', deps_type=str, tools=[roll_die, get_player_name], # (1)! ) agent_b = Agent( 'google-gla:gemini-1.5-flash', deps_type=str, tools=[ # (2)! Tool(roll_die, takes_ctx=False), Tool(get_player_name, takes_ctx=True), ], ) dice_result = agent_b.run_sync('My guess is 4', deps='Anne') print(dice_result.data) #> Congratulations Anne, you guessed correctly! You're a winner! The simplest way to register tools via the Agent constructor is to pass a list of functions, the function signature is inspected to determine if the tool takes RunContext.","metadata":{"url":"https://ai.pydantic.dev","title":"PydanticAI","chunkIndex":152,"totalChunks":208},"embedding":[-0.058208111980878455,-0.015840749577739194,-0.08018464136849919,0.016092903968014098,0.0038688278783465674,-0.06910329642802278,-0.022075917207336915,-0.030274288352210244,0.07594736537382715,-0.07477170763843065,-0.06194217345181986,-0.07438394014269958,-0.0531869832678568,0.04444026775837137,-0.059450519845181564,-0.058136395895711714,0.07563505653850898,-0.0436710200675384,-0.036591842616687145,0.04175196819930122,-0.08066885145866608,-0.0748382612409502,0.05468850740564011,-0.08558998359446739,-0.06579977552278467,0.04815949227487868,0.03792133501495341,0.047816132844278665,0.03050289523861126,-0.08007296952151725,0.0007012173604931228,0.0009323841646207089,0.026513182172662075,-0.08034847975963569,0.04812175629075947,0.0035378874374294143,-0.06953902924416727,0.07245783779302582,-0.009651874976236976,-0.01948418101816112,-0.04940897590631008,0.012652178811993873,-0.08671389024614534,0.07763712049359416,0.039867528639153,0.05913368013070212,-0.003417256119747552,-0.0149486231919433,0.06674590719510061,0.020240008285493293,0.025184487359431646,0.024839921701874993,0.041765896669091425,0.01907762142330272,0.019725505110358737,-0.047535369931380654,0.00289422974676426,-0.08140207022502914,-0.053780457385211485,0.04664764416566896,-0.007967116451979141,0.0014750251498571844,-0.0006609741380028678,0.04113262851070586,-0.029143313244776724,0.05555517617441902,-0.05235754407818295,-0.07998761225380716,-0.06055539160083903,0.05918590535656204,0.03143705486095995,0.03942626105322189,0.02835864896658741,0.02070571814140206,-0.02986848994187461,0.015316028304395627,-0.07557017682697754,-0.0634280041886079,0.07378356094324509,0.013910068595986525,0.08042720598466666,0.049201349164394816,-0.021647560624014524,-0.07539796716880912,0.012652648248539308,-0.030102594021288714,0.07905471222374612,0.02330293969827589,-0.016251186103737034,-0.024781249270828802,0.08390851929330144,-0.007663730036927369,0.014477614486466837,-0.05316972734665056,-0.016342031031488645,-0.05536029273631843,-0.03581973571265871,0.06936625163983114,-0.03424692861160422,0.06439417017635116,0.07040023255270603,0.02605598374740642,-0.009553611677513878,-0.012143460925883648,-0.07670161346839618,0.06622930183297386,0.013530354705148828,-0.04467770294844983,-0.06196631848631311,0.033989491904216136,-0.009078264355509472,0.07998313402408087,-0.06688577003326283,0.03530858582024609,-0.02925020638426746,0.021398435048650657,-0.061969817884010577,0.07792099809554102,-0.01932879593884232,0.07559517527234554,-0.037195661219380685,0.045346091104462985,0.08630554507630606,-0.03967940710082333,0.014383007450354144,0.016517639394206876,-0.043974122084059035,0.02698486868696633,-0.07799508234886277,0.008075390994244532,-0.023170606925348263,-0.05343287173215443,-0.044737495535714045,-0.08449545243686529,0.009720312861939355,0.031072198681523572,0.011706749290612576,0.05548964280760006,0.03325752040937584,0.08687731966386066,0.02180559907417311,0.07138725870941513,-0.0594343347386582,0.08163326958268602,-0.021262328157279752,0.028145585631167057,0.0799801622873172,-0.06260992671494969,0.03440681581266204,-0.03112856007357741,0.00679592299914988,-0.03307928268838335,0.0033361741404719014,0.035080225946207494,0.0026490611295702147,0.03719958632668848,-0.08669812193108593,-0.016537333376584567,0.03932419646394605,-0.0030433383716435706,-0.07233667905100392,0.08195441692394681,0.02784402540416957,0.012487898777786761,-0.02278352276577684,0.07754945718241198,0.08213813676679486,0.007358125494438948,0.07376621058400216,-0.023346563504857372,-0.06751497530263648,-0.05285757352481402,0.02587551130741391,-0.05545323090431128,-0.05363167495957568,0.02102609545300414,-0.037727499063619815,0.06301902346236998,-0.05009523060742521,-0.07979847226859674,0.049051850518846064,-0.005051788386218938,0.005904627584885102,-0.061026636589835266,0.044978967410204386,0.020285199287288353,-0.06548389153804897,-0.0013874136937913465,0.07966206408800525,-0.06564249313504024,0.047384416840965095,0.0669817771740603,-0.03191283019699916,0.0499763131915356,-0.01988028711675617,0.08454290599941965,0.0010263118660974442,0.05920887547206743,-0.025088764666874545,-0.043207492320514816,0.05233150930891631,0.08476443986955995,0.07245780538727858,-0.0308366876715085,-0.008793561128168047,0.023204187485261235,-0.0667374322022227,0.004986631389186887,-0.02268320641642492,0.038681393185958875,0.05757334897795408,-0.028546798067774333,0.07794909707020878,-0.06797863599675578,-0.08309860726112007,0.04069945675678752,-0.024931136974366032,-0.05527845340935219,-0.020610306798505083,0.07232046755014639,0.012740676830893997,0.07853529712351302,0.08018038426568752,0.000739752969804381,-0.05688986355725281,-0.06371191435395862,0.08178058364993677,0.03271005600446308,0.03794788446297128,0.08512093001550322,-0.06204877474794737,-0.016033407682266746,0.028833576380644165,-0.07172413728902241,0.07322392714585221,0.026009764899095348,0.06326814261606134,-0.04602667613064291,-0.06534439881454289,-0.03124684417014201,-0.06065836897353849,-0.06747722472901684,0.07376162946931138,0.003959000098937273,0.0005056034189521256,-0.0017440431444666106,0.07946801788895427,-0.05908183626914014,-0.05158764708737853,0.06615149536391703,0.04088283739509626,0.0581667275779169,-0.027239672044072374,-0.06590017446732296,0.008745941578186521,0.017134396900209063,0.02049364168831331,0.0592624823204358,-0.08150145016939447,-0.03308136839502469,-0.05759042167189176,-0.00012807960015293927,0.06770088519464729,-0.07373822448053081,-0.05933891393816483,-0.029114648824837903,0.05390709247775245,-0.08266535207635563,0.03271362119283975,0.0507544271886725,-0.08099191534463684,0.029531950293524612,0.00480568567039466,0.08668328295016962,-0.05878513243921736,0.032408680007744495,0.004258921644179623,0.019448533762102014,-0.010190535920569808,-0.01412269912233118,-0.037425372800876065,0.02165511483566546,0.04579029523444836,-0.023557903552385673,0.0004924755607813738,0.0031882214090458365,-0.0570304964826391,-0.004161311728392088,-0.06951455994232272,0.0793458634568259,0.06962586966600075,-0.08504251127783215,-0.03296984610858817,0.02717360948909903,-0.001437522132947686,0.003184873188828936,-0.026796420166532154,-0.056917073749842284,-0.06836536735933153,-0.03922187742539551,0.0691535298781331,0.012992291220077286,-0.05345077197259401,0.08120460826722484,-0.07351036703001874,-0.07286498680034532,0.02913776121892199,-0.06897761353792832,-0.07175266984632615,-0.07710603302743374,0.0464655872857139,0.010774907509168737,-0.03951105439541374,-0.0124335548542675,0.04615565045876678,-0.061013983048540166,-0.050509756036905155,0.01968057106546318,-0.06534905894556581,-0.035267181083993515,0.010036933169617656,0.04338417380144002,-0.022551013622957364,-0.05623955627084904,0.004836992987961118,0.07173678601794171,-0.033110271539736766,-0.057619133983823234,0.018469551619571253,-0.07705262312908903,-0.07753437216439982,-0.07629363134405408,0.015101645930386248,-0.012699261272910583,0.05215312922654917,0.06791649641135344,0.04061729293482069,0.07080006756173346,-0.02349488921222814,0.019467341838867915,-0.011698518126618717,0.07070088389402171,-0.003873343940674768,-0.03313518568412948,0.043686242813835076,-0.02982034497673993,0.010372417734910152,0.042595369015770934,-0.0742678883945272,0.06576882072383627,0.029757084949746646,0.08681900219282453,-0.01625988817209369,-0.05675061593467848,0.059003717695108066,-0.07451393172856129,0.06536665432568527,-0.08170198868386662,-0.05246064580690938,-0.05534464479191979,0.049846033117213036,0.05274224657772899,0.08266972860578807,-0.04999494037222165,0.05042057752699626,0.009675804951131765,0.0422557914134523,0.07073552608511452,0.0066509172685260175,-0.07695195022939039,0.047741674576401986,0.04953482974050676,0.0012312958284049164,0.03962469202025805,0.003965067092300021,-0.04702525619048727,0.07922798625420613,0.07774915733720009,0.03621940794770733,0.05407533646836563,-0.011458399540247615,0.013462474104112481,-0.028991644476342133,-0.061544875413496125]},{"id":"chunk-7db5cddc-153","content":"agent_a and agent_b are identical — but we can use Tool to reuse tool definitions and give more fine-grained control over how tools are defined, e.g. setting their name or description, or using a custom prepare method. (This example is complete, it can be run \"as is\") Function Tools vs. Structured Results As the name suggests, function tools use the model's \"tools\" or \"functions\" API to let the model know what is available to call. Tools or functions are also used to define the schema(s) for structured responses, thus a model might have access to many tools, some of which call function tools while others end the run and return a result. Function tools and schema Function parameters are extracted from the function signature, and all parameters except RunContext are used to build the schema for that tool call. Even better, PydanticAI extracts the docstring from functions and (thanks to griffe) extracts parameter descriptions from the docstring and adds them to the schema.","metadata":{"url":"https://ai.pydantic.dev","title":"PydanticAI","chunkIndex":153,"totalChunks":208},"embedding":[0.012646063750382778,-0.03102666864475427,0.07877965428074693,-0.03317081685097425,0.062447519632613836,0.015978118017540743,-0.08202029581144908,-0.02163491118353092,-0.06747931451367234,-0.0354943377872625,-0.015379965232486222,0.050555987784879984,-0.018269252903376478,-0.010110145770005859,0.08308401704519053,0.07895795230364394,-0.06781508837350576,0.015479237870126518,-0.02475492394523585,-0.02810099186914875,-0.07977802189337942,0.031044207244852746,0.07456186674131596,-0.02043249720996156,0.06215419378747706,0.00822288101806759,0.07399501675388541,0.04183646938537793,-0.05549914770461693,-0.04783131863759585,0.06101028138803831,-0.07926190458409123,0.08760433010888641,0.039308510959047666,0.07716765685677919,0.0004522253772289015,-0.06962084027979137,0.05445079004254588,-0.010047102668971939,0.0739946817492851,-0.08176007962289829,0.003444139055607899,-0.004154959978240211,0.0004806722402577373,-0.07919373435152433,0.03313229431650804,0.04213147000869554,-0.04920936839182791,0.006130000035035483,-0.006014884765640484,0.0633129945474796,0.07550133559043017,0.04432089084282948,-0.012712161285443748,0.06527327107852599,-0.0631973289969648,0.05116127970135078,-0.046451683177588264,0.0007871285374054991,-0.00003538455904307188,-0.023435658334629732,0.061423488955726996,-0.01904008726554008,-0.05802597848143555,0.04642043657852133,0.016528764969718435,0.00026081140437351027,-0.006988203896615069,-0.03519918205971369,-0.02046582528404422,0.05262463590965096,0.05325027213954017,0.05742395512564167,-0.06163746379040788,-0.06996416839417305,-0.04273698019482119,-0.08746583732133577,0.02037080127819483,-0.012589034139005617,-0.030158453524958873,-0.05366838990198617,-0.0632961876785327,-0.008680160744213484,-0.06681119598012596,-0.02940705159666051,0.013300452430307447,-0.0467506045422797,-0.08091577388224473,-0.014459619568565025,-0.05809517014816374,-0.0840363237060431,0.022046650310046653,-0.0726591428343029,-0.004871863688005102,0.049796654361212035,0.006491360785780614,0.015040542450801291,0.0667291082204294,-0.021445989028496586,-0.08775927135832608,-0.013977653735530818,0.052278146754259486,0.049983191877060414,-0.04336475296239176,-0.07201053135353461,-0.05738652260479297,0.050630093108356776,-0.04608668819358874,0.004867025386671686,0.013841195328032884,-0.056864100019902795,-0.015454608513793263,-0.03869196920599306,0.045538905733338915,0.05404155424396024,0.03755986658827324,-0.03076443036992852,-0.08798270011902369,-0.05634209803475594,-0.05806516883221971,0.08419259167761386,0.0869270432036923,0.027311686992251706,-0.020476409354077643,0.010880684564733808,-0.034108618523237634,0.08854658325885957,-0.04464292848224796,-0.04583846937692072,-0.022145743689467253,0.07951935267180475,0.008180346291829267,0.037000501221104834,0.04984171014001715,0.04693123162704833,-0.005678733995655312,0.003170988701234041,0.027369267862617588,0.06430105801841891,-0.04901565665930918,0.015295976642179899,0.01554866658318859,0.07650594937983039,-0.017108547326327286,-0.026187005442686945,-0.06468744186921507,0.04813380298511558,-0.0608721877439669,-0.04163665158513405,0.01800745241012361,0.016243650686013255,0.01456195359645372,-0.029029469795614306,0.013683541367919794,0.07308833618680736,-0.044938154920445686,0.060418911794092804,0.03711262762229092,0.07874646060984879,-0.013247956414248094,0.0261333007511922,0.04892676209663547,-0.06867925540071088,0.06201424172021971,0.07277491999729349,0.05520840076649704,0.009378681698405198,0.024985127690781057,-0.04871690024690401,-0.025818738135073536,-0.06801955686855744,-0.04086113971518273,0.0369409494194313,0.06800222646028682,0.021652237878606408,-0.07826181235157584,0.08291022039191179,0.000605120727901753,0.0708937036215209,0.036782610485874966,0.05552815848713833,-0.07890648852421797,-0.06172528729384014,0.08845818630343985,0.03790420860562974,0.001864048793483874,0.0006228250994259366,-0.02276536090971954,0.024336982859484078,-0.037555556353447185,-0.009771787476428685,-0.06240781588870398,0.06205263766265611,-0.06398928032586639,0.06517863307537312,-0.04704030831827777,-0.057708409413313885,0.006701371873943735,0.027091634403806915,0.08330704600637218,-0.08440165551665856,-0.03727844126171842,-0.050613000766425595,0.0703919385897436,0.041344541987543774,-0.00797982972160549,0.07794551423203055,-0.028316577549946466,0.05902590679031571,-0.08101150637398245,-0.07618236220677731,-0.07580994324396285,-0.04969675487198261,-0.02857353090696744,0.0602190526178536,-0.059309033652744626,0.031537991662506724,-0.07826738292801937,-0.040149447640096446,0.024496724839486946,-0.04679519542365725,-0.029280116290507367,-0.021009764877726496,-0.03666922144611974,0.08417323296276351,0.03982106580043906,0.036134909482232996,0.06518284616460827,0.07556388568425414,0.016158018455571174,-0.0743996764770609,0.07924276476215839,-0.030300292369510384,-0.03972593135377901,0.04878489617753773,-0.05782676966948558,0.05588935932066264,0.05590408035660311,0.029485253270649648,-0.046625057569413104,-0.08377783329894047,-0.01651328711688496,-0.02473376331025741,0.01516407282840668,0.06878116768328918,0.008419929072731404,0.021472476550863127,-0.07508923479324682,0.005844134371073363,-0.08256501985905228,0.03553448713569154,0.035793929512670256,0.04584529523725216,0.02726405058670552,-0.06146586117558354,0.028295580974345435,0.013175482393073696,-0.0325165200223216,-0.05435710251042895,0.0736888101087533,-0.07178990010173368,0.06555696433200561,0.07448507471989299,-0.029467805949655753,0.010743617685805075,-0.04114098977292,-0.060036381233005566,-0.05668472382198531,-0.08863714845101281,0.0364538525303192,0.01151396812871817,0.0602920365288489,-0.05682112678136636,0.04896025259997734,0.026300904635465555,-0.060014496302133485,-0.0026587558286281336,-0.06707746072381204,0.04081706495354595,-0.05698609821917337,-0.06546997264431591,0.026412983387913033,-0.08108105239257175,0.022266621853862762,0.06766505891621803,-0.06541900401830097,0.08784577457970509,-0.0702749815416289,-0.004096338254500816,0.004811248679169482,-0.06037710233357754,0.0750380067088938,0.08835719479581014,0.001481231861958557,-0.01075903160641296,0.08611281299416361,0.03596560609563274,0.018184689265324253,0.04377932224753644,-0.022097392201770576,-0.03239749486976602,-0.02779085630434791,-0.05112065688181987,-0.00138711819555414,0.07254712777346184,-0.03995359393065452,0.01305791040781689,-0.05299394740590617,0.08523555626757916,-0.03647718139815283,-0.055194307205832564,-0.03149847610609197,0.07024295829139268,-0.08065485826754602,0.05100733586279634,0.07506796303373726,-0.011424611855003066,-0.08682839275635147,-0.05528142125306228,-0.07862137115730683,-0.060681521526032046,0.06203051100048642,-0.03912956453122763,-0.06974167850184718,0.04813602360249563,0.029457161896120715,-0.07906268142242238,-0.01171787850620527,0.03831996861893169,0.028156724733379837,0.0021432954128964214,0.006254440397701785,0.061366461800677376,-0.039918181000444565,0.05899859164688249,-0.020661705854763627,-0.07535288718797058,0.06528457444590871,-0.05334785961698491,-0.045644236395747835,0.0319512813732854,0.0628058668124965,0.05215293455054515,-0.05319206846876216,-0.003210240805824134,-0.004542407182121306,0.07505006702689175,0.06650096176710661,-0.07827651491658039,-0.04570058982565454,-0.04372619074636184,-0.03655280192477306,0.006272841187391723,-0.016960595691782536,-0.01556113367873956,0.030752139655751732,0.028061744677779332,0.052296934077414044,-0.014222718398832315,-0.06705907847197973,0.026432145483441534,-0.04521812130180133,0.0337306524473293,0.03010974314252226,-0.01698313463871918,-0.0039578621121739155,-0.01897506076851085,0.07173357562486728,0.036303012449633416,0.06943449503854537,0.04533966573848785,0.035291432763214586,0.0027566341209767065,0.07698434692827383,0.06630447522178441,0.0688314592055544,-0.08107659672053957,0.059998167419089664,0.023870655067887537,-0.015320236434599135,0.03894795142557521,-0.06985595502856787,-0.08453461264049386,0.0052202754654748435]},{"id":"chunk-7db5cddc-154","content":"Griffe supports extracting parameter descriptions from google, numpy, and sphinx style docstrings. PydanticAI will infer the format to use based on the docstring, but you can explicitly set it using docstring_format. You can also enforce parameter requirements by setting require_parameter_descriptions=True. This will raise a UserError if a parameter description is missing. To demonstrate a tool's schema, here we use FunctionModel to print the schema a model would receive: tool_schema.pyfrom pydantic_ai import Agent from pydantic_ai.messages import ModelMessage, ModelResponse, TextPart from pydantic_ai.models.function import AgentInfo, FunctionModel agent = Agent() @agent.tool_plain(docstring_format='google', require_parameter_descriptions=True) def foobar(a: int, b: str, c: dict[str, list[float]]) -> str: \"\"\"Get me foobar.","metadata":{"url":"https://ai.pydantic.dev","title":"PydanticAI","chunkIndex":154,"totalChunks":208},"embedding":[0.08008546514834698,0.08001243946246192,0.0769080533691473,-0.019874804905419822,0.03865903557487215,0.04036515184301724,0.05211675477728752,0.06438786613697887,-0.04742145018421492,-0.0340195400452889,-0.027664109605246075,-0.04129820472479042,0.008248580126856501,-0.07497131662020391,-0.08341324302966263,-0.017099159885137535,-0.0024011795548502194,0.0631713937800884,-0.06935335412073715,0.07251662712431275,-0.009968943684446408,0.01319560199204253,0.034674817636839925,0.07823777447566159,-0.05099161382160481,-0.011475139158375574,-0.03955415679729158,-0.02184878443008239,-0.003521127753938107,0.07949218541197094,0.033869290610022286,0.08427356843119742,-0.02271411591414315,-0.02735177307127586,0.032119484999403085,-0.049227028093269294,-0.014685804415639742,-0.08514275826938104,0.0577054058328498,0.08432866693365278,-0.012923708357285252,-0.019271013442068,-0.05811775418868438,0.018215737853350022,-0.02802478195063177,-0.04927864739281332,-0.08259680883373675,-0.08623932179151154,0.008653669859026613,-0.07645743628929125,-0.08543501016595431,0.001364804043257939,0.07433432089329746,0.07794254826218922,0.00541100183367461,-0.01510938440399522,0.06368752618947382,0.08269636852999956,0.0671285370107195,0.054281478809877305,-0.03668946893041656,-0.03031877412795221,0.048072250834543556,0.07664486959623579,-0.056122673701615326,0.005786638933257844,0.07502124787003091,0.008811296320204358,-0.0243928875407489,-0.03637748938436941,0.05286427613220192,0.07918874156917681,0.04049499464221097,0.043160098545232665,0.07278130742161976,0.070789204126037,0.0785194093723517,-0.006883785152918702,0.05322007747669446,-0.02447709443893875,-0.07277613164537149,-0.0645417719911824,-0.06149260257409699,-0.0518904625622159,-0.03652699975871995,-0.0694270176092808,0.004906463832293766,-0.08461298776241377,-0.0017389486567224858,0.04195803758240678,0.022236188938941262,0.030748219963923677,0.030676644232669824,0.014516371800133897,-0.03640420674307592,-0.03970234163535048,0.047298352533905956,-0.006901484064838517,-0.05352207765778781,-0.08009986078951359,-0.03375955405103454,0.04809888536774915,0.030493431477831515,-0.05883269745203544,0.06319862810023953,-0.011013775837809017,-0.02128733135028185,-0.0031065536653906703,0.03606352298508473,0.043187162487453246,-0.016746403903811897,0.07267347148505886,-0.08470446519524454,-0.07179289747507575,-0.08596350764502025,-0.031016073995433383,0.07342272086131844,-0.010603089498906806,-0.08461534981448401,0.07929515319397776,-0.08146739658749255,-0.07399073453636548,0.05234617817472072,0.021906546172958247,0.06085096512870563,-0.03289953765103603,0.030710236794976864,0.043355055307004425,-0.04953970233116286,-0.03280736818161849,-0.06558100621063935,-0.055433993402372796,-0.020154502534112426,-0.004922029359458477,0.03658613919919433,-0.014549991089134552,-0.06031439557704211,-0.028843309727453487,0.022674715659421342,-0.06787823830975823,0.03820977271576138,0.0611227141475102,-0.02147308836424633,-0.05327747588289303,0.06558564015724071,-0.012022268480574411,-0.02788883845538272,-0.009492676058518588,-0.04486956788600058,-0.043955113855548934,0.07491691191697003,0.001931943983543408,0.08244060257617318,-0.05370377806205154,-0.06145546529253701,-0.06950820765834015,-0.05166985300779275,0.05334042325675838,0.057978321809661754,-0.010272634660858112,-0.0771113711953441,-0.07270299312305264,-0.08162404647241041,-0.06547260291181917,0.012277554314525041,-0.06263182715421202,0.02889653741333094,-0.07676661350262258,0.046239591612592064,0.011742651136389221,-0.021596704648610347,0.01163817632972233,-0.05523877564021095,-0.07801345109262743,-0.08543792052362614,-0.06421343219559292,0.08647260063451799,-0.02508743999748932,-0.04523858678401036,-0.04412420840965296,-0.0803348321880727,-0.025300988269190822,-0.08489989312808699,0.08220950026440321,0.039415675424284036,-0.06612278638607652,-0.06436246987770465,0.07377069428375048,0.013247260317741682,0.06897303537037934,0.05747294752784042,0.02593104857741012,-0.0049237724133289595,0.054768953469422836,-0.00911036956390518,0.08579823206686091,0.07336965456578344,0.05965165163330721,-0.05427973688369072,-0.059073252082335014,0.08033304429170172,-0.013562754140476464,-0.04830300176475194,-0.03975466153237657,-0.05982650942378711,0.04050784732018744,-0.08514042722438261,-0.015461452719890408,0.002147947498769351,0.018822731627281448,-0.017558967765602673,0.03640039406605272,0.06685827349327718,0.07117537491708913,-0.050955487977498375,0.018058976639478374,-0.056739419341179854,-0.024520086572616454,-0.045033679561938836,0.06792194138678542,-0.03574948158233285,-0.028210935530683105,-0.054294332835321465,-0.054301338716705685,-0.019863382728183304,0.03175898507528855,-0.012508860248830935,0.05239006306537914,0.04336929645018019,-0.038622242852807714,0.0009590615756289413,-0.03962007432442372,-0.015934410365003617,-0.06586131463526551,-0.071353001765268,0.045732172552986936,0.015636633319542386,-0.0544584263990435,0.07865632964955954,0.06790033141611619,-0.0007708550990450352,0.029961024146793663,0.00975477281580617,-0.060841648740263515,-0.032205615910221176,0.07273689849910035,-0.06535230939475106,0.048480787012158424,-0.0467631099670559,-0.010756012485685576,0.08682408975291846,0.053723474457194345,0.05394798548415114,-0.012405639914433006,0.08721657870453701,0.020419091207742438,-0.04288174300785425,-0.027475250243744746,-0.06452051124690805,0.05326448713067593,-0.05699409692753044,-0.040660528692145745,0.06524343141530235,-0.003795487834319625,-0.04287650003938066,-0.023970597799443417,0.00400802704842795,-0.04125031556435833,-0.043845082639791,-0.025669657726239293,0.06281388859030959,0.007926983477637524,0.04263237841386056,-0.02967700386427065,0.008724691240674069,-0.036220098179874594,-0.02178617498470511,-0.0755847346147958,-0.07424824476103652,0.04837333969548542,0.024023488584639208,-0.013315195492898097,-0.007903800213812621,-0.05799012036840547,0.02491370871258804,0.027573440655095573,-0.038727488893215284,-0.06513378275731056,-0.03495466693257951,-0.04066177972793962,-0.0027339508947128604,0.07351225883226148,-0.03530043665138395,-0.042741140804410264,-0.0818347003885315,-0.03369301129865377,-0.01558377586574887,0.009986028356200978,-0.005855896995953079,0.05788348958239981,0.07484960510033528,0.06623502899708159,-0.06956048991971707,-0.06654837548217253,-0.058791610481991136,0.054354713443438105,0.08048745269132615,0.07369492310386988,0.059898802670915886,-0.022046816342182703,-0.05009521562846708,-0.0009832999322897276,0.031793053808127726,-0.01672980281249135,-0.036130542941888076,-0.060462077517914936,0.029877501786474536,-0.03792277373643443,-0.03226389714565588,-0.08237831043823143,-0.0043061996991683215,0.03165791273754859,0.039984008508767814,0.032486623340359906,0.027561815553040964,0.012986248081267108,0.08290743628605539,0.050759860453433704,-0.03365017337857115,0.04849772040023291,-0.01996589096494525,-0.06226924836300175,0.0772817288058822,-0.00883299352278271,-0.044533020056371025,0.029043254247745853,-0.022653199786291246,-0.046141241071278226,-0.06035832782661541,0.06983157295993346,-0.04078857030037975,0.0778974933899538,0.0522990114129783,-0.01751133520805966,0.07982798518278061,0.0045977054504829605,-0.07345617897902644,-0.001646781882160985,-0.06475622671223248,-0.08204298419031199,0.010263299826101465,-0.04468541994430366,-0.08175168046504076,-0.032119254728642244,-0.047231620454259826,0.07064307005422066,0.042155922154417644,0.0648097195123988,0.0367821578339109,0.012389132598722586,-0.00210961882231471,-0.06182581754415073,0.061360720349258616,0.004454073523416451,0.0363359856936138,0.07313464811663849,-0.08637834481868019,-0.0031260449812033297,0.03368752375729479,0.03367925092625422,0.004640171520901467,0.03867193137451281,-0.011518063728582013,-0.08559634854238021,0.07144739895237598,-0.0425698825629817,-0.03943754849815791,-0.010493159804734288,-0.025865016996889884,0.08340419925054675,-0.005872429027828348,-0.011604290815829314,-0.016085701803918714,0.013687394598525988]},{"id":"chunk-7db5cddc-155","content":"Args: a: apple pie b: banana cake c: carrot smoothie \"\"\" return f'{a} {b} {c}' def print_schema(messages: list[ModelMessage], info: AgentInfo) -> ModelResponse: tool = info.function_tools[0] print(tool.description) #> Get me foobar. print(tool.parameters_json_schema) \"\"\" { 'properties': { 'a': {'description': 'apple pie', 'title': 'A', 'type': 'integer'}, 'b': {'description': 'banana cake', 'title': 'B', 'type': 'string'}, 'c': { 'additionalProperties': {'items': {'type': 'number'}, 'type': 'array'}, 'description': 'carrot smoothie', 'title': 'C', 'type': 'object', }, }, 'required': ['a', 'b', 'c'], 'type': 'object', 'additionalProperties': False, } \"\"\" return ModelResponse(parts=[TextPart('foobar')]) agent.run_sync('hello', model=FunctionModel(print_schema)) (This example is complete, it can be run \"as is\") The return type of tool can be anything which Pydantic can serialize to JSON as some models (e.g.","metadata":{"url":"https://ai.pydantic.dev","title":"PydanticAI","chunkIndex":155,"totalChunks":208},"embedding":[-0.03370716690298702,0.014017720192285631,0.04637537415159066,-0.04467308398446322,0.05252950188743237,-0.0805093123709675,0.014213229087821543,-0.017783775309980692,-0.07628251323858888,0.058039709157530775,0.04056918114484808,0.06220619765819722,-0.054328660100211514,-0.055568325630193316,-0.07262677130490315,0.017264528707967006,0.05176916485610973,0.03581237251690258,0.012935200543049766,0.013602811441041049,-0.05701896385109266,0.004349550544044602,0.05210814652083483,-0.02973134056710222,0.0813878353210375,-0.03630079051542095,0.024962945860944732,0.08207748354771481,-0.07007036910702835,0.017035270930350555,-0.050849687997498005,0.01469853885931537,-0.07003701713679963,-0.028112564570554353,0.041785476832350156,0.05731721642175655,0.020894092445793735,0.08233720671427504,0.04958621744258219,-0.06123622741187065,-0.032092452711764786,0.04323581743868362,-0.0853703033926085,-0.008404735138597028,0.03967408269018055,0.03100157548835874,0.02488490895133257,-0.00421206570388279,0.07196965842232166,0.0319103680713766,0.07637282824223116,0.009023417507412342,0.07497349598310112,-0.04414493997607053,0.05487939223908775,0.08241798149717187,-0.06900578730878265,0.003981451604637691,-0.041181812777225775,0.03701467504551397,-0.05123598341712151,-0.03905303385780833,0.010113139023859023,-0.004311845130806036,0.012550893463792095,0.05847042881012739,-0.06094368998277657,-0.01658790285448001,-0.00480879655630312,-0.014339204181243223,0.015252512872947896,-0.08225081737324866,-0.032640858533196204,-0.05916392150661639,0.00475872198515284,0.02998708150418769,0.003718466252975686,-0.04617742207786528,-0.04378495974650673,0.05270406106458542,-0.045353758890874105,-0.015455880173347637,-0.047848983101943174,0.08399242555185518,0.052789582835180836,0.0504579181978633,-0.0831430319046003,0.025751250902256405,0.010909649117180554,-0.014748970645840893,0.037749043417566484,-0.08731182630738193,0.07444454795383275,0.06964470588282795,-0.06161546363283383,-0.04775738992476727,-0.009273086027336822,0.028098128684545264,0.07534544812923483,-0.0796477659812219,-0.06338978112209687,-0.0485835944184638,0.057735288648454154,0.03287328207027824,0.06879062595764704,-0.07243667419014681,0.023499931095577294,-0.00268736240766094,-0.06388369893555981,-0.06472091391433618,-0.06868580033674596,0.06424701243828822,0.0567459440175248,-0.05131796112167167,0.017518419822861633,0.005216288900405053,0.02698282338485635,-0.04685418912197378,-0.06059911058536724,0.04946893890847436,0.06656367510706442,-0.06572343952477794,0.03086401010332764,-0.015214871823166666,0.005095371899990236,-0.08925142042127845,-0.01263038705675415,0.003244932529437333,-0.05925966795021198,0.0418476131395847,0.06990325957760572,0.058801995551529505,0.05355078575303587,0.0467706086806472,0.08062235215035252,0.07106754784339525,0.06993296292573344,0.038263668062337504,-0.043884755448750354,-0.01806183228202315,0.024121466561730684,-0.08243053429978112,-0.0684239265358444,-0.05650196973074069,-0.03872279978638499,-0.04235469341730502,0.035722897267528496,0.004672502403159941,0.06032912477552726,-0.0551942446977945,0.05467007029786992,0.011033360807602309,0.0638866861451606,-0.008347352324018507,0.035311760095338623,0.042757883585599045,-0.08950897239130955,0.027388019331388694,0.021780388583288752,-0.02084438862170957,-0.0670718988348557,0.063827414977756,-0.06039266432827252,0.07043168226117962,-0.07096297503730331,0.08555734928601462,0.08714877870195778,0.0425161565764207,0.0007695602246738265,0.04094346970891361,-0.03302690463593467,0.0472395079662901,-0.009900646254196446,0.024906372043176788,0.023535135078191747,-0.08630076572021925,-0.018813146282103486,0.025760853992734783,-0.030594225137525653,-0.06345105679649629,0.06841588522209255,-0.056810264046366875,-0.05446984649678229,0.0882339798106342,-0.011306969150416143,-0.013106834379101814,-0.007028411307205326,-0.02051010579696935,0.003577882986260246,0.01358874239149844,0.06430040783181284,-0.04757882632007857,-0.06821695597212783,0.021746311326771153,-0.07489004379791471,0.029290871479011566,0.026466742063567004,0.04489736605596886,0.07769968813862074,-0.07118175054039348,-0.07964147521628925,0.036428049265339976,0.018057515495587328,0.014132427450907887,0.04922345021690637,-0.07705736012127842,0.011861896192659465,-0.08992010230584278,-0.05863291179149672,0.04034839434901614,-0.05333936138916986,0.0550995205320928,-0.04998534071926751,0.01520485614556871,0.062423970785251366,0.027027910524437596,0.019641023880543403,0.007251038939885186,-0.03279098457304374,-0.04703486691931722,-0.032899138986135626,-0.08763845516658555,0.05990143110938549,0.054383671641976106,0.07987335830016516,-0.030390418319354302,0.08226094389840412,0.08131655478117558,0.05793856685366423,0.059122360081087455,0.08924065535978792,0.03575893631043165,0.06192032216572243,-0.0698180363766042,-0.044742626931238726,0.05621819153707787,0.05147668038071378,-0.012531415261678744,-0.004129041241165215,0.044411531338631564,-0.005746942773989156,-0.08751038055487102,0.06517412724422021,-0.08781238466628456,-0.08962131069185202,-0.029782496597939568,-0.0036286007875614692,-0.07496471987084462,0.0204034498266111,0.08014256824024338,-0.017400311451089254,-0.07481040752852747,-0.08600465252621646,-0.02880876885705356,-0.029094561643266927,0.03172150030259732,0.04099168461051823,0.013172271975798153,0.08526530801709194,-0.06634822253685171,0.028228449799689886,-0.0033885548743376255,-0.0895853153759456,-0.0007888107377320256,0.004531413113459055,0.0565681655384459,-0.011579748726406604,0.07040261005730807,-0.06563201613480038,-0.057267711664194844,0.0020402394237318444,-0.04873512586008028,0.04566462529684411,-0.04252158459506977,0.050137387982519974,-0.060296226667865355,-0.04537497546129268,0.058031254617192274,0.060222982601737314,-0.04340105153810283,0.0681721786792109,0.030805008301483198,0.0880887800062331,0.04860992167347361,-0.04221640552448825,-0.048183142925815436,0.004561193281004061,0.0026816157715200805,0.06424560104108602,0.0029395692238621198,-0.05325073224371585,0.06664448579772228,0.03090104666019811,0.005617377098304485,0.03794525019406319,-0.0673711034725725,0.017146097011186752,0.05074766358121548,-0.018177198284070148,-0.018363972437272835,-0.07797927357435466,0.0343953002541162,0.026863542715206187,-0.061854567966395525,0.01490045076803694,0.000827986765187378,0.04249906741131342,0.05479094320172905,0.08658820761295724,0.0887547316725864,-0.06882318278625309,-0.009591942358279473,0.0016952985804504744,0.04744124769490482,0.060096628662042434,0.04796687730738868,-0.05427055707177997,0.04509007748733083,0.06528507593071639,0.05834173981668619,0.03957900519045433,0.028023192704416125,0.011275001658452497,0.013928850568598819,-0.009452905152749295,-0.01931944139596543,0.022723252567519822,0.03399128313991726,0.08756740783476163,-0.019301890898078974,0.08272821110226938,0.03016893857660712,0.02574910236786405,-0.05119308454054209,0.03914047956571884,0.0742400854101514,0.08539263539616095,0.06914035915436036,0.0040570889857213695,-0.07098742590433633,0.06117597607763823,-0.08793809072688821,-0.018560949974237732,-0.08583821461892242,-0.039027973207549894,0.07824709090703684,0.058411182989909424,0.031711914516878215,-0.021128140814687384,0.027849167848650123,0.013009769951629816,-0.05802751071556232,0.026340817784214154,-0.0008428845476818941,0.06455039414543257,0.00025854178634000645,-0.06801298024316182,-0.07127427605768516,0.07176247580828723,0.0016423217527679426,-0.06795513275334922,-0.03440119325728099,-0.03548036250107973,0.038913004449421876,-0.04515723488226122,0.010721188756582158,-0.019664061679995595,0.049009518529845066,0.007278300740664886,0.025763489278681197,-0.019615182497125006,-0.007446010154909311,0.014434086648914721,-0.0029617997463805136,-0.05307196771110819,0.00439501076757755,-0.021746080664063246,-0.018282964113002714,0.08367951878966806,-0.05691636754696254,0.008796593225757762,-0.07915557606861587,0.06677928336950788,-0.08921029116916601]},{"id":"chunk-7db5cddc-156","content":"Gemini) support semi-structured return values, some expect text (OpenAI) but seem to be just as good at extracting meaning from the data. If a Python object is returned and the model expects a string, the value will be serialized to JSON. If a tool has a single parameter that can be represented as an object in JSON schema (e.g. dataclass, TypedDict, pydantic model), the schema for the tool is simplified to be just that object. Here's an example where we use TestModel.last_model_request_parameters to inspect the tool schema that would be passed to the model.","metadata":{"url":"https://ai.pydantic.dev","title":"PydanticAI","chunkIndex":156,"totalChunks":208},"embedding":[0.011720156241146557,0.05348454228583414,0.024488963099062473,-0.026777517315189597,-0.00021631298193063253,0.08777556994284297,0.09012506776563853,-0.052548117102736644,-0.010448739732026193,-0.08216122906426271,0.027222466571724384,-0.0640391144326607,0.03786693780458149,0.009325097866182212,-0.038080049918052264,-0.030020680767818882,-0.0044364114588371474,0.011452582671225491,0.0629046286759793,0.09304017072854344,0.08302535485676915,0.025119864552892914,-0.03674135531316039,0.08323457992986844,-0.09000746561726744,-0.010880763814832559,-0.062249572594687316,-0.04542637098080376,0.035562848790990816,0.009657419301582832,-0.052592896851371126,0.06966722031054552,0.007690187909627089,0.011399453468426555,-0.00037740293324878743,0.03192476944281608,-0.04542769194564331,0.047159844913655415,0.05267413325533849,-0.08215767999723955,-0.05212803430604073,-0.0687247144156667,0.03203156215512389,0.060267815646138666,0.011594302004335942,0.08541877827813932,-0.041376887832251935,-0.07986927904960003,-0.004460041294354975,-0.008102144432331591,-0.04415568679514436,-0.016373651493337336,-0.039967188468707074,0.026708342465718835,0.0012231113165391205,-0.010381652810328436,0.0505988223807111,0.07322808529082538,0.012108207761394702,0.052792520306193184,-0.05997354468923656,0.06491054095915871,0.09269126568514836,0.0005198185978948311,-0.043436873339388594,0.010240346931270544,0.06326407815762101,0.0032909324962446056,-0.0036794909641849724,-0.07498785371871987,0.012403808711528082,0.0715142964024793,-0.06512505382401115,0.07315124280479471,-0.08524090270485636,-0.01872826951868407,-0.054240509503625044,0.059767686007128125,-0.0022495275538256714,0.0499520889130544,-0.048139110055371796,-0.08137880523912024,0.026422129741041942,0.0392454887231394,0.0015104773490051968,-0.07601472288571964,-0.04788572825008061,-0.04805696570030574,-0.00006791254217437416,0.02449019175967469,0.03656185754162946,-0.0871208706300077,0.039049959778725135,0.04380609765901993,-0.08159081860716504,0.00686435216530716,0.052305769861138975,0.09280300375362688,-0.035668355887507205,0.028984150731357343,0.043680353300433954,-0.026933592379590685,-0.03494687873437013,0.0374667199063483,0.04790410303807787,-0.041940525922438555,-0.041946655798441694,-0.07917177660618648,0.05368477277452503,0.05191694370661842,-0.014298398615998513,0.0193522566909011,-0.055976149574094296,0.004839957396818106,0.0367767523800578,0.03548329189511067,-0.07841585059847037,-0.03587750477637462,-0.04727291160924043,-0.060711778610505515,0.08088319284450762,-0.0697799577782381,0.011404356232255483,0.04515536470787598,0.050982922992987574,0.08007034562675452,0.024379101857282412,-0.05788231094283769,0.027410671386680036,0.09015324911831332,0.02697945671161167,-0.020557844404149615,-0.019740666875995853,0.051697706621479204,0.060629359921868985,-0.05340234886995862,-0.05191253299473848,0.06655468980027546,-0.016063508785201786,0.01340163464665746,0.068865912153608,-0.07843812632447007,-0.08109226336828414,0.06384932106720603,0.02533208552581896,0.08257166626134319,-0.0011271686214408912,-0.08503350464328538,-0.05600505681323752,0.07396681910361902,0.043299767247486486,0.043305981368688184,-0.007734850636886743,-0.047280009437010745,-0.08554821357829763,-0.049507607988709325,-0.04922963793464415,0.04607155111080173,0.005695777199436578,0.023421246262138363,-0.010351761025910733,0.06106048056142637,0.07151345870230794,-0.049108412961566525,0.03597267955781026,-0.012425487418301186,0.03242028546393839,0.01853404701018608,0.07386265229838049,-0.02146225736132942,0.04701531195877485,-0.0073830847937152635,0.01593717798631658,0.05320918233063441,0.07685658368649587,-0.03446629130130895,-0.044071738399719756,-0.026744235781539054,0.02048639066472518,0.01657949838175344,-0.08477473928845454,0.07052689204392655,-0.028926338958572932,-0.0006969378481308995,-0.0005062320320757726,0.06783606415978471,0.054809571093205285,-0.08325473208320593,0.003660750394012059,0.0260134377455071,-0.08303802532069719,0.050988170034143854,0.0025600764278286285,0.04652739941341188,-0.016608383462672297,-0.004846258148431758,-0.04798812658923299,0.07722315553576796,0.03356933533604711,-0.009431347009816163,0.026889616018843567,0.053331524439243126,-0.08617132803193353,0.024941550472199998,-0.054144119863270626,-0.006654145894588606,-0.09328549050103539,0.02312252270523964,-0.004279871186423565,0.03463133064876823,0.05274939556837743,-0.02872946625780063,0.029826647081743415,-0.0024412217356195682,-0.0927025482751723,-0.005162990164398705,-0.042474957641882596,-0.001276700170598115,-0.07789964432852449,-0.07973977523578217,-0.0698835529696135,-0.030124736991358377,0.09313357191701725,-0.06903710107354433,-0.05412570644931463,0.06611184863833433,0.07295602374679974,-0.03953614048692692,0.021257822131869594,-0.03730637565752704,0.00011413139982233864,-0.027780387975701006,-0.013343284892873114,-0.010562286005637817,0.08459323519697236,0.062044245955205864,0.03608531283271043,0.07169884856092905,-0.024822757789972883,-0.03464999937255471,-0.07481120513043267,0.04076849508170001,-0.03467508161213138,-0.04105913292562376,-0.00463028420583139,0.031079012227262684,-0.05699410514367134,0.02965333902040429,-0.02821234578678314,-0.04751253903288079,0.030555351717496057,-0.02443440983014717,-0.04267957756293585,0.0614549826670421,0.06446044273606547,0.09204952836241202,-0.07171885043934907,-0.04138682223454127,-0.020032534242180686,-0.05991073173226699,0.03000245057259706,-0.07487229805628492,-0.05485250800115258,0.040935089784636475,0.09314554764782891,0.03480644462657154,0.08095542542761502,0.06001143297245794,0.04560172313870233,0.06370133224959078,-0.07939363749786367,0.07993062489802501,-0.06344145771359415,-0.026061262558530876,-0.05496527811324309,0.05291471007683372,-0.01780852130908394,-0.02861161187013217,-0.06963754691902913,-0.060615453363842414,0.044560146172318835,-0.029099738388924237,0.02811036336679851,-0.04462833324888296,0.09125787771292769,0.020707692074195715,0.08144424072121764,0.04974819472347884,0.053813251063882565,-0.01639371026652041,0.08758283696978159,0.027164746245862792,0.06185867214033486,-0.05715789007026065,0.07868940540597319,0.0023062390482281436,-0.08220824668584369,0.05805759284150359,0.05974228943584947,0.007778698747118027,-0.03397114446489676,0.057720883296209016,0.07762414942992622,0.006905161373298237,0.03663451902933051,0.018356314286575744,-0.03340408522639314,-0.03713950060772857,0.07320145166573223,-0.026158990858565094,-0.02631721592455259,0.024877306082637617,0.03280943906862162,0.07368648735969346,0.08149096304229014,-0.021376244421758384,-0.07758948624461737,-0.09244396389875878,0.07996087550905212,-0.018476282223660687,-0.0019847947985214046,-0.029772560867973336,0.006708596224160265,0.048998959245198245,0.028158028869272527,-0.05971163009851981,-0.035752894560934265,-0.03348667195280613,0.06760274906606474,0.007126266258469128,0.004551128768129266,0.08262807896017252,0.02515516183718516,-0.08496257249506908,-0.032878137066224715,0.00708616296266903,0.0233203246741088,-0.03106706356258776,0.06143327248931155,-0.07735022682675231,0.061296288177839095,0.014402053366325163,0.030906352289726997,-0.09249343761343612,-0.03469324242772174,-0.07115931428696595,0.012682359434340082,-0.0009200953598995928,-0.03191456997937643,0.08988613702197544,-0.005518819024915509,0.07056244169157476,0.06025176189684559,-0.03272654116560534,-0.05160398995150124,0.00884076637036726,-0.08662827346932664,-0.08086515447767262,-0.0009991238970258579,0.026576937767755944,-0.03151351601849015,-0.055688657615164276,0.033498206798418695,-0.04457309134636946,0.0417542949590885,-0.015864554833482158,-0.07060026799749525,0.007701775194498037,-0.012763682357470201,-0.011204413340279329,-0.019797753024633335,-0.00011315458862420702,0.03344956906913333,-0.009833590381155088,-0.08059351373770636,0.06467325013237123,-0.08038129015783518,0.01664672730325153,-0.04968750202333219,-0.04096650761628893,0.038221168727330945,0.03544798512409876,-0.010875952954188696,-0.06960181221619384]},{"id":"chunk-7db5cddc-157","content":"single_parameter_tool.pyfrom pydantic import BaseModel from pydantic_ai import Agent from pydantic_ai.models.test import TestModel agent = Agent() class Foobar(BaseModel): \"\"\"This is a Foobar\"\"\" x: int y: str z: float = 3.14 @agent.tool_plain def foobar(f: Foobar) -> str: return str(f) test_model = TestModel() result = agent.run_sync('hello', model=test_model) print(result.data) #> {\"foobar\":\"x=0 y='a' z=3.14\"} print(test_model.last_model_request_parameters.function_tools) \"\"\" [ ToolDefinition( name='foobar', description='This is a Foobar', parameters_json_schema={ 'properties': { 'x': {'title': 'X', 'type': 'integer'}, 'y': {'title': 'Y', 'type': 'string'}, 'z': {'default': 3.14, 'title': 'Z', 'type': 'number'}, }, 'required': ['x', 'y'], 'title': 'Foobar', 'type': 'object', }, outer_typed_dict_key=None, ) ] \"\"\" (This example is complete, it can be run \"as is\") Dynamic Function tools Tools can optionally be defined with another function: prepare, which is called at each step of a run to customize the definition of the tool passed to the model, or omit the tool completely from that step.","metadata":{"url":"https://ai.pydantic.dev","title":"PydanticAI","chunkIndex":157,"totalChunks":208},"embedding":[0.024400302241661287,0.02635856033944843,-0.035385789271643216,0.022778210868655908,0.00636187965404095,0.031208661772076172,0.02586091543073577,-0.024675869367663958,-0.08570236457502503,-0.08397988488038288,0.07478373035537433,-0.0016168279721559548,-0.0708098961434857,-0.020758805794174624,-0.021648422104915282,-0.010615323036454039,0.061200817548757676,0.042031349188492426,-0.059034722447274736,0.01713109726719404,-0.00010109114903027667,-0.024788954407041337,0.007217202074096112,-0.058343059593115094,-0.06810363989878755,-0.01856809415199865,-0.05610111088770748,-0.04601446313275683,0.030355525928099817,-0.012595860715190301,-0.0454020160937798,0.07217721060060345,0.08447063993528052,0.03312716040722277,-0.08361141637163091,0.01746755030618929,-0.052240070841353084,-0.07133245083115003,0.08595599883152157,0.07262252406655477,0.061395876608622925,0.06585396295435277,-0.013724440354557579,0.05946827410860898,0.056218470769564516,0.0495085099340263,0.0468148920782742,-0.06527459448234765,-0.03388726794513086,-0.01053746341377627,-0.0239538470801981,0.010436285579967064,0.08566287896088624,0.07372955988364276,-0.022352240283675624,0.01170634172529421,0.08477320598516365,-0.06329436135626237,0.062240667539880556,-0.030709474010925563,0.0032481419667483484,0.04490307380936256,-0.07799228603411364,-0.03949225159719737,-0.01850860982971624,-0.060426765901978874,-0.03715667977626426,0.0003680990252103633,-0.0780576222102528,0.051309466479364706,0.08509979967891386,-0.041074362530525294,-0.04616998176236012,0.03102859289192077,-0.034112352452317356,0.004340386993128862,-0.08238599031157717,0.044721430780780676,0.06610823570921373,-0.020680200567178886,-0.007639532593182173,-0.03893147689992658,0.028717856163336924,-0.03826324760078355,-0.0708621761835467,0.08147131911009756,-0.08125128539427476,0.028866755899357006,-0.06350627141550433,0.08693391904745752,-0.01777155565489108,0.05945572255583033,0.08097791628187066,0.023468003246624587,0.0026605353358811474,0.06677078783106676,0.06823023935003254,0.049353552141021925,0.051001755114572216,-0.023098728395690916,-0.010909761166452061,0.05645648020238793,0.06616837315858956,-0.0778894418343591,-0.0040122081893059335,0.08648621790317074,0.029491267949965008,-0.012578417844433172,-0.04431807595324187,0.03400688205363462,0.066427204753912,0.04573888487452706,0.06337112794815161,-0.08756515181485015,0.07094663112901409,0.06227859333324906,-0.025066235014790557,0.052970308482269655,-0.008580705356526235,-0.0551922509377821,-0.06167234740424544,-0.07743960218450383,-0.07312622498471333,-0.04447907967697635,-0.05864110777821818,0.02549849785819097,-0.07676194966727477,-0.011700963176520663,0.022416942814686855,0.010518411859353101,0.03873135435608576,0.0514676418235909,0.029274937399434754,-0.041732837827985196,-0.05989797904955573,0.03202393893545966,-0.005428244203240634,-0.036627678081141916,-0.06397858729120713,-0.03324968679772791,0.03263020637940043,0.012014794972463366,-0.06432317820731921,0.07931205025402759,0.008755058776830589,-0.01481763892097227,-0.015682688505743878,0.01641537751923615,0.0345566071828353,-0.007044975569498447,-0.08362802522092565,-0.0745504478527599,-0.08087687380795112,0.07040891174082356,-0.04601902324088893,0.07976836305265496,0.008512838049633849,-0.07029821794940122,0.07928311145586767,0.07694517334128778,0.08493592404752541,0.052439466312656516,0.039070284458518026,0.0813358899009754,-0.029668328096388818,0.016600702096530938,0.024361352682747427,-0.05744487502130543,-0.02090227386122637,-0.046618536436672256,-0.047242314433303206,-0.030851070960282206,-0.02554764307374678,0.025488013206357442,-0.007255725173634865,-0.04151566765384764,-0.015329411699993694,0.018332353840160447,-0.08883465040876126,0.02295182891770862,0.06450134849944412,-0.0036829078195677227,-0.03672756478224637,0.06798622608408267,-0.029067348500245335,-0.047558484296710446,-0.01350710681349826,-0.03095584898042011,-0.02501801360815894,0.08322593961941493,-0.010816330156625257,0.0638782485349152,-0.06420962285532734,-0.05245314686979588,-0.050563071302208655,-0.0410623811358349,0.046757669945648506,0.03909296960284908,-0.024541767627242205,-0.07382753614629715,-0.05487736367235594,-0.06746424523978763,-0.06913077803786577,-0.005803447332963604,-0.08171928203679085,0.02882106277570336,-0.061631569075755385,0.06625657274896268,0.015629321623279086,-0.03714254448869065,-0.007987528655154383,-0.06292899587133453,-0.06684946958784303,-0.0669627975376126,-0.05654521467867122,0.07788145779372938,-0.04618508393716963,-0.057895183044635166,-0.037164479131685905,-0.06192462478291108,-0.0119721591997706,0.08641922637529849,0.06454256258153167,0.024412799645566276,-0.06526935285855535,-0.04738231977233643,-0.0854370202454384,0.01409712111547574,0.05355823818793166,0.039879296714686076,0.023078147386812194,0.01014347200309232,0.07585508942241953,-0.0030528865503978027,0.07467014808033412,0.05464157775306276,0.052043166066808984,-0.0448027061530047,-0.03988005091865921,-0.08481894703319372,-0.021998463588196453,-0.06966200081801333,-0.054425015745626686,-0.055798846997879945,0.061014249311383356,-0.07129061044684415,-0.018346243567414443,-0.01632295176192016,0.0017713818983357184,-0.01832489686682006,0.05430735152560259,0.08720061071330232,0.07605191614518308,-0.06741230307334437,-0.001327290067833269,-0.06411742250185289,-0.011862133667148857,-0.025685190488412134,0.07826069093394884,-0.047423661256903116,-0.04938755631735968,-0.06685488674145129,-0.04723859030837427,-0.000021963416951438148,0.04611251239411924,-0.018352775381253426,0.03393727041988596,0.028688806460674964,-0.03678411342771127,0.01957832095734295,-0.023136695976014365,-0.016110103937884156,-0.08453691079309858,0.08673057355055266,0.043687458401549174,0.03141286126721108,-0.035947147966794775,0.08635769587699636,0.056087869444819555,-0.021134459630100473,0.022007502851425886,0.020993082398874513,-0.04168366798524615,-0.021759516180883006,0.0659264043638246,-0.08715424987079086,0.03608411483878519,-0.04208907758417656,0.008693680997658168,-0.07411445218026214,0.05204784643168896,0.03649795448451849,-0.02997177973783033,0.08919120200267235,0.038162695507399785,-0.02517732193545111,-0.025196206260902812,-0.08152520265894336,0.034776884535439104,-0.06402970775536006,-0.02809248751636653,0.08704406843951602,0.00458634565540639,-0.05501921687595899,-0.0450527005737101,-0.006924819739596173,-0.03356018370188705,-0.024494750503676745,-0.01289304173390255,0.05832965402011429,-0.011637720746793945,0.028172771605228044,-0.02727598266110207,0.027671494206294108,-0.019855972553389067,-0.022458209028338665,0.08377703674711708,0.08392088800435328,0.04674848044856,0.04022769291618559,0.006026408473125841,-0.0025152572926059815,-0.07293274050234386,0.005185626467146071,0.01989699755138009,-0.028283956113073022,-0.04607471332074921,-0.024877707783148427,-0.050374848021213954,-0.023165090661641106,0.06195962610139848,-0.030018146287537552,-0.02391696203174391,-0.06838507230787277,-0.03771129539975372,-0.03475967109342437,-0.006873037909424093,-0.005629184042571051,0.07667081716054017,-0.08338369401308648,0.0702796471079125,-0.08691478461151073,-0.0876479540322593,-0.06551803076916594,0.069350340121791,-0.07587655393502643,0.08350217906659087,0.049784339748225145,-0.043080519133864605,-0.0619469817303147,0.007948945687738629,0.052905940778400995,-0.004028620776819396,-0.04320674413004277,-0.08167530066878723,0.015370968148905973,-0.03534982668894109,-0.014101485001489465,-0.06726312132098568,-0.004945204768525182,0.014807114095154873,0.022447269298254736,0.030862140703495286,0.04407909318083164,0.03281531452056222,-0.08844912964923941,0.03801450483373902,-0.054647669688404225,0.04162981998711895,-0.008795160473775153,-0.04315316688867218,-0.0888597131493036,-0.018151189404668464,-0.06595583375984453,0.016762086757354244,-0.01673768427933033,-0.02730028800144079,-0.04666630221423635,0.06780342246130125,-0.06067881081593609,0.06278353639997598,0.05420850980691047,-0.0002461325716564561,-0.07845233790694812]},{"id":"chunk-7db5cddc-158","content":"A prepare method can be registered via the prepare kwarg to any of the tool registration mechanisms: @agent.tool decorator @agent.tool_plain decorator Tool dataclass The prepare method, should be of type ToolPrepareFunc, a function which takes RunContext and a pre-built ToolDefinition, and should either return that ToolDefinition with or without modifying it, return a new ToolDefinition, or return None to indicate this tools should not be registered for that step. Here's a simple prepare method that only includes the tool if the value of the dependency is 42. As with the previous example, we use TestModel to demonstrate the behavior without calling a real model.","metadata":{"url":"https://ai.pydantic.dev","title":"PydanticAI","chunkIndex":158,"totalChunks":208},"embedding":[0.081853437608638,-0.006653222011152169,0.02829096118949146,-0.06621586389242369,-0.0845240397539975,0.0011117919170279351,0.06328690012024722,0.022790105746415715,0.04374451039156753,0.03277944726526281,-0.01285165573695614,0.019355693163741177,0.05241955439299839,0.05859164884758054,-0.06486432026871625,-0.0316238994089055,-0.04007238317629176,0.05129074707639455,0.05410251016954357,-0.035141784799813794,-0.0746770273963779,0.03734471905654273,-0.04494493620754461,0.08265692213675287,-0.03342326866688032,0.0752125940068833,0.05079329236568511,0.07446614448088075,-0.04417452154494623,0.08394266561413817,0.050269398762869434,0.04997558811363899,0.05596649196962531,-0.03917689789804926,-0.04937409074718461,0.058158250948446115,-0.01784954624372489,-0.03272511527859166,-0.020511432732059066,-0.050199246029910764,0.007219941600011629,-0.007015402410679903,0.02212609768844588,0.010744756629924863,0.07304925230055243,-0.050022989302437655,0.07680298328370397,0.00970030558601531,0.032035124280416605,-0.015547502083914644,-0.0540489436564683,-0.045823636911924884,0.07722119932408202,-0.0664918366129351,0.0875600819373126,0.004959741062132402,-0.009221742533262961,0.008587368443227685,-0.010436297247794898,-0.031017147076288214,0.05367893394934435,-0.0277782147432871,0.06527574189094527,-0.08003903790929819,-0.05353484061231357,-0.020349814231645114,0.010258441349139405,0.0851628673627753,0.01699302564171752,-0.014154296595721663,0.010256043878578818,-0.0027593510883660386,0.05690400822851052,0.039388326127906055,-0.07510582508203477,0.016026137924201926,-0.0682374453022433,0.08272982766279169,-0.051383202391657536,-0.08226326969818845,-0.024917016274422568,0.047055027289608226,-0.06062275094355632,0.006446451088934454,0.07939296584465792,-0.05324978181249149,-0.00548856675138049,-0.008640204900102923,-0.0307059000688673,-0.013780608929288677,-0.07267506010084525,-0.06086181485995766,-0.0011859050461198142,-0.01931346875083798,0.034730302559793695,-0.06581872823513174,-0.05701376543888129,-0.0731778820000007,0.06262711999115199,-0.04798436676852309,0.055228652959653284,-0.013696327476204312,-0.052144975211941766,-0.014933906095351997,0.04253756873542726,-0.06032014080731209,0.08453614978536524,0.05502906142527381,-0.02135948087456088,0.07634667386300355,-0.010623155212768323,0.012276955414895823,-0.08505733005488741,0.039001955726186845,-0.060371367882433385,0.08154442001852098,-0.04461651978256212,-0.04905677740723951,-0.03117645063440754,0.06183594591202593,-0.07193851287168265,0.06560810854571546,-0.0016960859682676745,-0.07019547086166533,0.0669658449494429,-0.06581080091348042,-0.0006200332978471913,0.013219726471791324,-0.030708619797103348,0.07585535272736382,-0.04032622037618342,-0.007550630016506317,-0.06271087712729388,-0.08169613276171953,-0.06988881162746369,0.08073505467899555,0.00018644911414441868,-0.00837151244241169,-0.02813911833847255,-0.046640643249649595,-0.011403450663105183,0.018768124567319487,-0.07797117894059051,0.04028716078643997,0.06550877603472906,-0.017978956644936813,-0.020231345010898096,0.020302566210799226,-0.06393134219789973,-0.03967564304951042,-0.06583627798890589,0.010141122618086407,0.01425559490823967,-0.022254113335457373,0.07645027208989653,0.047725769628850494,0.011489438313819031,0.05134561445444758,0.005272105893663524,-0.02505455438091753,0.009086596410230722,0.0033829020103409474,0.009770025791140663,0.005939945242123816,0.035192900036083795,0.08047314439196257,-0.07067872274873305,-0.07126667399929924,-0.08738168810387474,-0.02437683518844665,-0.02543476939481402,-0.03647578051509993,0.03006965723037381,0.038844345731016645,-0.0748475239442281,0.01291410015965629,-0.031693014426655675,-0.08674993804660273,0.08488609562554085,-0.08352864028032439,0.045108929981138225,0.018923497322012543,-0.07448517330823068,0.0023078188054619165,0.035719402387726494,0.04017590224638366,0.026127924663667323,-0.07666916569174811,0.01655982260734038,-0.013985678020192004,0.07985434582031453,0.07852786617789678,-0.08078174754938122,0.04068809492454762,-0.0376750791778957,-0.04862463174217092,0.045825755847519585,0.03573479695894057,-0.07045832806152057,0.024444909773594252,-0.04387919875944887,0.014794869742733578,0.022912631692196733,0.026585605824027338,0.049899148309047556,0.03073667917381046,0.05063322739698359,0.01744216732609056,0.06815558251975709,-0.05220711465852982,-0.07784791963579112,-0.07575004235544192,0.0434722188324215,-0.007908691721289881,0.030675260859203416,0.026242210478125486,-0.08635563608566672,0.020366721676884483,0.07372789935798701,0.05148367671785597,0.05354565022995458,-0.03718323851666622,0.04084412454127946,-0.01947035874805556,-0.03288135974233262,0.06404671031059536,0.0637490885892975,0.0716694811535849,0.08153747507374089,-0.0026417797010642413,0.03386127566688119,-0.04404816598968257,0.07852773468849387,-0.011444244085537777,0.06745430107538093,-0.011615798885871548,0.001608230399023949,0.011824229888194997,-0.009032766877682029,0.044759418017206454,0.0659775426266737,0.07631799093238978,0.0835425223199983,-0.04937048280793945,-0.07579484902490234,-0.07882666956244946,-0.016302588047585075,0.05972387723849047,0.08517191173967968,0.042337819057970516,-0.08120309314568437,-0.08538646318374574,0.017322607552457393,0.014244545676613414,-0.017926039522242795,-0.0739176698608637,-0.061291173219015935,-0.020477978113547967,-0.017275164218134936,0.01968352595151629,-0.026498333548110427,0.02977010830804821,0.06201497298201057,-0.06863377962541602,0.00878009451701241,0.05885553894083569,-0.026594930228080117,-0.06956945932837676,-0.049616621229882085,-0.04704820738737746,0.028454699999626923,-0.023215318819930778,-0.05195232707617562,0.07210891977957756,-0.04515695233689378,-0.03325456083734024,0.07071170954099766,-0.02008195234154944,-0.0625930797243801,-0.07062774008334541,0.017533280451819493,0.055357374060443006,0.01722417977046914,-0.06977991157933501,0.06745097821786998,-0.07432963462807433,0.021308613292223697,0.009731706586264367,-0.08441236661988809,-0.06243637290366853,0.054197459381471504,0.07314093126722089,-0.052983738109197244,0.0474695712582315,-0.032467748024077245,0.04164907375883476,0.048444348893917875,-0.0747414195948688,-0.06084265521111058,-0.05604362969030241,-0.04588136939768059,-0.066312058088837,-0.003591526191649371,-0.06235935283887655,0.03723917302521225,0.07644834792466638,0.07256711805676856,0.0016528957157794576,0.0004182145710013138,0.017962267182757778,0.058160914162034144,-0.05016145166149576,0.003645755418275019,0.03747468047572734,-0.012534659473014383,0.05909835030230925,-0.01653388054797587,-0.0797032682365233,-0.025989310615801387,-0.04050004591039336,-0.012381001766370067,-0.04962259693895255,0.03539945690347361,0.08114783128714259,-0.023340038950527914,0.00207746636888394,0.0380651732072998,-0.05095638567503752,0.04310184303160137,-0.06381022850740789,-0.07283233814557281,0.034404905249894056,-0.07005876286374517,0.05560792180903655,0.05035722643209601,0.06578847555300582,-0.006294002568110815,0.05536226078103472,0.023890836539171494,0.041212648052811884,-0.023401632257183815,0.027828222673407812,-0.02568312637811987,-0.012407022199684073,-0.08070856104174105,0.025558313966983322,0.06205033764743114,-0.05060934455234297,-0.06738186822201205,-0.005512487161015881,-0.0628812070978826,0.08521217196802754,0.019450505585202747,0.007532764539704495,-0.055177368791267535,0.047155235576722965,-0.03977954860778837,-0.032124059764337014,-0.06684447016285647,-0.041294369739227746,0.010122691149994496,0.07467154358541285,-0.07443120154524435,-0.062155519695714645,-0.0010333730272670835,0.06556761926723388,0.0058633459011906,-0.07788370800600662,0.06402367093616845,0.033342010681459866,0.05029646718981262,-0.08357868505673946,-0.014096086207361015,-0.0656097605465217,-0.014487663895016439,0.03255446663577578,-0.03323310377764846,-0.08384051327684469,-0.03644954482471169,0.03678958249380973,0.05756872360427067,0.07519039541892646,-0.08524301061968843,0.08189634318782245]},{"id":"chunk-7db5cddc-159","content":"tool_only_if_42.pyfrom typing import Union from pydantic_ai import Agent, RunContext from pydantic_ai.tools import ToolDefinition agent = Agent('test') async def only_if_42( ctx: RunContext[int], tool_def: ToolDefinition ) -> Union[ToolDefinition, None]: if ctx.deps == 42: return tool_def @agent.tool(prepare=only_if_42) def hitchhiker(ctx: RunContext[int], answer: str) -> str: return f'{ctx.deps} {answer}' result = agent.run_sync('testing...', deps=41) print(result.data) #> success (no tool calls) result = agent.run_sync('testing...', deps=42) print(result.data) #> {\"hitchhiker\":\"42 a\"} (This example is complete, it can be run \"as is\") Here's a more complex example where we change the description of the name parameter to based on the value of deps For the sake of variation, we create this tool using the Tool dataclass.","metadata":{"url":"https://ai.pydantic.dev","title":"PydanticAI","chunkIndex":159,"totalChunks":208},"embedding":[-0.0762413018209433,-0.05810098295605664,-0.04090245730687967,-0.04574964118810986,0.08535720980576024,0.036234958543406366,0.075363582493717,0.0856208773782378,-0.08294875328101431,-0.005555875921925936,-0.05679459718658564,0.07348569264355338,-0.07492434135770472,0.08481897486867551,-0.050779285367045374,0.08365386236912531,0.03532032526256277,0.0031141056845448473,-0.05692229819763524,-0.007159975504692194,0.0075795557414574674,-0.07259851624501587,-0.026645694187649956,-0.07549867634695491,-0.0066822380482608155,-0.07307615751873758,-0.0009256744585962763,-0.07688459218136667,0.002952015032292692,-0.050162239451937464,0.003273239618127903,0.03181057778972266,0.02008163716399602,0.03150605533232028,0.0829488988232053,-0.0028065230252496904,-0.025588230808948623,0.047432730222400445,-0.029206259022086047,0.029372182292097978,-0.0030357555905889486,-0.04564285182953081,-0.016451861763919735,-0.015863256882435995,0.0768358578420864,-0.06042166975879986,0.016724421718781017,-0.08449374037443595,0.02946731718326607,-0.017243133825197647,0.006318001052682914,0.05707381376135542,0.03460210717565321,0.0414476204153976,-0.007134325562658284,0.08450785540662205,-0.029393290601938717,-0.07452051382636884,0.04543866234600188,-0.05722479470971635,0.03758078983204577,0.005603360453449299,-0.06564778767581847,0.06507305943960297,-0.05519675597486558,0.06463901953850738,-0.07543733230923506,-0.05442482628732924,0.010817378758546894,0.0001915135458291875,0.003191401954377556,0.07317654974946133,0.06899123878123499,0.06560565601517954,-0.03097268137238513,-0.04029935135504372,0.019133561671599773,-0.07487096487174008,-0.08642994404174872,-0.027137283506686802,-0.009380739313105844,-0.053735960270589196,-0.059249814772448776,0.06580782460031018,-0.08361201431312622,-0.05229544803080367,0.033392808661423516,-0.07350795995109416,0.023562302585822623,0.07481935687764932,-0.07599525314213246,-0.02125429896563058,0.07498060006167902,0.08206658361300452,-0.05483814944431751,0.029458907110786765,-0.01387643286879014,-0.03608257062894878,-0.05725829028766789,-0.06086351446253408,-0.08098287882965746,-0.03722086895881583,-0.08198598985317783,-0.0613014626377285,-0.0800817246995622,-0.07124613279893759,-0.06808941777884774,0.008477341701415658,0.08272995673411519,0.04223883104063132,0.07767309163807133,-0.001736780629139824,0.005771990368258047,-0.02437520166357121,0.08328045724418502,0.0709205719807953,-0.04972549289002621,0.002800573759688012,-0.0734294302008494,0.01543308470735096,-0.0504145046882561,-0.02306733734442862,0.011627244111807105,-0.07980334593037917,0.054971291283299355,0.05669782210929032,0.03541009296817021,0.011443480420641182,0.00104716148995346,0.06521150351414721,0.05216942444755219,0.029410031460890603,-0.05404892938902907,0.009245631970182362,0.026679184252518064,-0.037450766587467835,0.04026617780966397,-0.012934783469407195,0.07255447649177195,0.011843980171933981,-0.053045159753435184,-0.07169456026314733,-0.04348976368760551,-0.019963302287073242,-0.05098963323956926,0.033207940275095126,-0.08209403403668185,0.06697692156483404,0.01896784923373496,-0.06022324733098295,-0.06104587870788462,0.005500922743769667,0.08206019641054138,0.03140922395713643,0.077541338269038,0.07479169685604412,-0.021274356889065045,0.03468527363459464,0.07473318236901831,-0.0828381207139302,-0.014609907349968948,-0.07451705886711389,0.046846351610075894,0.03261707474338656,-0.006056204891445136,0.017272566748230345,0.025248267784570393,0.0027100744694164183,-0.010317420523245113,0.03705634886718938,-0.08185439474713574,0.045200478192997884,0.07456053590627558,-0.048689051220997384,0.033037039904476255,-0.05133424222626777,0.026077073644574223,-0.07631937504258618,-0.022080982274107475,0.0316136360087484,-0.0831275276729995,0.043222913515582335,0.04995913387310576,0.013239475350474894,-0.08083043094627805,-0.07215800320900356,0.02478229159265932,0.03073247628548161,0.0663271778425061,-0.02675443742800008,0.0497255177892291,-0.023186378016388724,-0.021048744248524206,0.03291843143804286,-0.04115609359470938,0.06552938315155545,-0.05042501215046044,0.030092224368456974,-0.08483747331905485,-0.005612049780918236,-0.06960798240639862,0.012716973872520685,-0.014039533622274147,-0.04125480323570692,-0.006475928982872203,-0.0022280200121387247,-0.018335731053823093,0.018082295010484844,-0.011520706271434207,0.049445143250624796,-0.051375519174147684,0.03772981799309333,-0.036683207959509995,0.065110889991496,-0.055259313798987374,-0.00033579045941834276,-0.03961237363168383,-0.0572004840457769,-0.030724917593760972,0.032599965168356705,-0.0732254577780664,-0.001154422839224987,-0.04997425588115476,0.004354894197390102,0.042629770658848425,0.07687969648865456,0.05824006997552671,0.04259563099520823,0.07777500318530876,-0.04436206217378508,-0.03489383507208153,-0.08509252459579006,-0.06935616811986997,-0.03444190947527649,-0.028266011319777535,0.009663028617525715,-0.036620684505354786,0.029462408999468784,-0.0049002718030075835,0.024882891353147016,0.038133753042928153,0.03606413771096325,-0.0723260435733085,-0.07741742205254187,0.03475411908281724,-0.08175651294577399,-0.0016102394177562797,0.023045797559237538,-0.033137605605771,0.03764869300008965,0.07540019516299622,-0.021223145080671153,-0.05747589504040841,0.07658660794919185,-0.05108730727369839,0.01569752267422045,-0.028511776500058678,-0.027419320151389898,-0.04831127875840225,0.05348200373981249,0.0011295239756001407,0.03024097802965464,0.02738537253798728,-0.06268087762948651,0.003333592822817701,0.06915728532089414,-0.05796833264541643,0.04531051439507112,0.06305336364737027,-0.08545462167477354,-0.06783947905106451,-0.06430023748788642,0.07831174550390753,0.004686751094724797,-0.05872992948696267,-0.024294230902573564,0.06726970891174236,0.0196953206385284,0.03444112292431564,-0.0124672537363663,-0.03734472546368067,-0.07606913003100808,0.05139898802672422,0.06611299363844596,0.008072739959353325,0.04693624564449872,-0.06714162262615762,0.025011976985802393,-0.05333565538688437,-0.06703471638874565,-0.05283727325631128,-0.06273090394538942,0.07059334031856453,0.036258400863093045,-0.01980246860635121,-0.07823488038574199,0.038468699187358714,-0.07142790030049234,0.020037203011373905,-0.07292729433124291,0.009963084568798752,-0.062468936907296824,-0.05141083311574288,0.038961733111721915,0.01993053705858265,0.03106912398119917,0.027794449714859906,0.011494010186376644,-0.08130193315792927,-0.031074425937277828,-0.04719988426535755,-0.02725744877560211,-0.030054373511662846,0.07529934130605404,0.025879817823688513,0.04757313340538837,-0.07764722313920137,0.06786677152758178,-0.055994676620648456,0.037133324675872326,-0.03695364616638469,-0.027912239410080333,0.06890433713486423,0.07848469791763081,-0.032822274125272194,0.0571863087748674,-0.04152436849060586,0.025599996035360534,0.038902372505835794,0.06015555463460294,-0.07845349693519395,-0.0518790604368151,0.013543551491196442,0.06555719306393916,0.013532310449075375,0.04775029429527229,-0.04948966509391732,-0.015186396845014384,0.04076703803979294,0.02732541016208491,-0.06064066424859205,-0.04558559575785733,-0.017308294738473194,-0.06456433288668235,0.07466082894935731,-0.034927803524320816,-0.05495537162060633,-0.0386301395759973,0.012879024320991516,-0.06420944658309535,-0.03584465701053794,0.08465954889454821,0.028261977412207515,0.05165071592054258,-0.01897420184777292,-0.04896002932925637,-0.07170132631237382,0.03979146581002438,0.001251493885117792,0.04076879253803675,-0.042497036846448455,-0.03515650149491477,-0.03591084192303457,-0.07664134819206717,-0.029555393773299188,0.005343384666359102,0.07912707355906162,-0.06886286658854614,-0.0326563816518146,0.07783371806717498,0.0665186031942714,0.08594964951812455,-0.03619432859711883,0.07300559601704851,0.05761988421247884,0.030864356496996335,0.0636812763949596,-0.021434228556289094,0.03246052994780471,0.008254941312873862,-0.055286139717870206,0.047696646225892834,0.08268790316873505,-0.04345190218311454]},{"id":"chunk-7db5cddc-160","content":"customize_name.pyfrom __future__ import annotations from typing import Literal from pydantic_ai import Agent, RunContext from pydantic_ai.models.test import TestModel from pydantic_ai.tools import Tool, ToolDefinition def greet(name: str) -> str: return f'hello {name}' async def prepare_greet( ctx: RunContext[Literal['human', 'machine']], tool_def: ToolDefinition ) -> ToolDefinition | None: d = f'Name of the {ctx.deps} to greet.' tool_def.parameters_json_schema['properties']['name']['description'] = d return tool_def greet_tool = Tool(greet, prepare=prepare_greet) test_model = TestModel() agent = Agent(test_model, tools=[greet_tool], deps_type=Literal['human', 'machine']) result = agent.run_sync('testing...', deps='human') print(result.data) #> {\"greet\":\"hello a\"} print(test_model.last_model_request_parameters.function_tools) \"\"\" [ ToolDefinition( name='greet', description='', parameters_json_schema={ 'properties': { 'name': { 'title': 'Name', 'type': 'string', 'description': 'Name of the human to greet.', } }, 'required': ['name'], 'type': 'object', 'additionalProperties': False, }, outer_typed_dict_key=None, ) ] \"\"\" (This example is complete, it can be run \"as is\") Version Notice This documentation is ahead of the last release by 2 commits.","metadata":{"url":"https://ai.pydantic.dev","title":"PydanticAI","chunkIndex":160,"totalChunks":208},"embedding":[0.08368203242666858,-0.04188928481715237,-0.08412581703088019,-0.0328112178411042,0.007455019221153912,0.030114935731006938,0.061969346371514036,-0.011268295466044272,0.04892463063811973,0.06526979900090389,0.018858965064909333,-0.021562328889022805,-0.04194673983340059,0.02852248300999755,0.07463811688874263,0.04217030969107477,0.026100742055861968,0.08766000051291534,0.023323753169839145,-0.08179027788217545,0.06130265282599691,-0.03488661749639667,-0.004056297981335757,-0.01646063364052762,0.08075619263594284,0.037101760382768856,0.07706101947188314,-0.005876323884520912,0.0008859968371374907,-0.027307729216168822,0.02255127381358222,0.04833095488440375,-0.06929647734041773,0.0767981080906515,-0.0071383399023157035,-0.054982048091270816,0.053764302431267445,-0.08305058257666054,-0.0708675764302996,-0.007588045317365795,-0.07954577725058858,-0.04532468836484997,-0.04603028453239109,0.05732594919479298,0.061679065414214335,-0.034373480450338716,0.03268287497124457,-0.0029941677146851533,-0.06873020686331573,0.029418136149746005,0.07061882420363635,-0.012281725997225303,0.052449393622896155,0.0603648538388614,0.009592486788920909,0.05337594091689573,0.0014169236978176863,0.026535077982962826,0.003034964334632957,0.01366447254605488,-0.013146368274109393,0.07419663816722034,0.05774954288886638,-0.04439560692569892,0.07834261274359436,0.0129149542296062,-0.08088801624191128,0.019885330416076773,-0.07954803014170506,-0.06942635293247174,-0.033423468464956196,0.07369500670882191,0.07441096970069999,-0.04467509206934114,0.07841278255911732,-0.03978549636902033,-0.016055999084632094,-0.019023350650105787,0.05853279522154227,0.05740769937524261,-0.0682456849490366,-0.008863625585989151,0.049932810083721885,0.06247321991013004,0.04121038061995602,0.00006871325945407668,0.01847989713163316,0.0007075875886482653,0.061585354668646126,0.05885099369559653,0.05877640201123271,0.004510079544810535,0.05480715409874703,0.04882349001901402,-0.08457962890587899,0.021731834649579347,-0.06517376929783648,0.06509517896853347,-0.08614594611615346,-0.0030674052881698027,0.003433138079808091,-0.02186969503026962,-0.03492303183941784,0.06793311453414258,-0.039048680240581474,-0.05007728179913307,-0.040911865349310295,0.002451510917457753,-0.07000988035210358,0.07641985326261798,-0.003662546342991676,-0.025181099265457987,0.030689581130048837,0.022231412126686546,0.003590405367405562,-0.0469552236453546,-0.04034749242860756,0.08199007400201488,0.08459287434126007,0.03968226935576746,-0.05488801119417679,0.011684082880738062,-0.01229858897409672,0.043034218824329264,-0.04346316566036876,-0.014591495093847346,-0.019959110989920287,0.06299503015683558,-0.05948417110159044,0.037124004331658904,0.07739878962509858,-0.0677668127095078,0.08257559576730072,0.05359618236668004,-0.01432684007647262,-0.01085105029049987,0.03480105420427887,-0.07817168118397355,-0.050556082045638544,0.08377390112849364,0.037723691045814994,0.07621297908231012,-0.08680865869199983,-0.005615493766984112,-0.03138690381811918,0.05405664386262145,-0.048962914970049336,0.023716667875197342,-0.04802163008573315,0.07554657342708777,0.08523369986584833,0.056480482212426804,-0.04180153598767948,-0.02761518375543495,0.05295601997919663,0.032567962923366583,0.06875736898564452,-0.03860900593545998,0.004592568176492372,-0.025717339125457234,0.005926354987585675,0.00859540710525203,0.0505534398791249,-0.06124989892279202,-0.01625752327224709,-0.016348399864170766,-0.048491828716240505,0.08237426404519228,-0.03773223630481375,0.08095514258886448,0.06694261015220494,-0.015596650061870877,-0.03716005349530655,0.06819552922759275,-0.03562360167685514,0.0350925467623176,-0.05192245872051481,-0.05882978358619225,-0.019447077748274966,-0.049457899076885324,0.0548112585556099,0.008591585620592429,-0.0011357544282971032,-0.008848108966083398,0.0005501853586317089,-0.08494174499898292,0.013712026786450603,0.0554163904708343,0.07688973686683792,0.0737630290174364,-0.04881922391684946,0.051047010627797866,-0.03632089266326563,-0.0660680770025194,-0.0839214074511272,-0.06032187280647787,-0.02186020151798503,0.044399912903632356,-0.08552488440792104,0.02628768868854508,0.04300678603853934,-0.07607816061501957,-0.038450542982546417,-0.04714189140166913,0.035992074041423495,-0.0821079303931793,-0.014286048257068381,0.01157136864466499,-0.08191440264591969,0.06277933845221992,-0.05432731737560161,0.004902284885837993,-0.041315754140358124,-0.06790196774903334,-0.04433633322870821,-0.0073308167782310096,-0.07394717952193144,-0.07977069461511849,0.039842418741525366,-0.034359057540691795,0.008073388821299064,0.06395530557968426,0.03510893344229525,0.06405681179976125,-0.052655501467177346,-0.03309581030560173,0.06526151179692577,0.08778243096464898,-0.010516173120756884,-0.07013915400376834,0.04608187676972383,0.014117768646570016,-0.018684696249784145,0.03212621529936691,-0.04423094242621873,-0.031051871728114046,-0.000043554844938073463,0.06142282516827524,-0.01516076674157669,0.0005905193823801082,-0.01949088690742815,-0.06613596696171613,-0.06670083461539918,-0.03521639341905451,-0.0383007600286203,0.08552100368300372,0.0419065363723969,0.05543949758867954,0.0483546418356382,-0.007253307383007436,0.07502378136000896,0.08540913936360628,-0.08259036373211703,0.06383833744914323,-0.03392989515747974,-0.008610079623123844,-0.04447365743837827,0.07089176610530028,-0.0066271548677208835,0.07816104542767739,-0.000696355385398641,-0.052936691204294194,-0.03802355372830402,0.08242365897728014,0.08564853376405603,0.061958872908724996,-0.03444948796237068,-0.02149302901855877,0.07172828356009757,-0.018786953274627045,-0.02552978146153053,0.015166741169932375,-0.00482569933455513,-0.057710268345028674,0.016673328412549926,0.055705746150104235,0.03708691045894241,-0.07612288528731874,-0.0449384471023591,-0.052261118169669885,0.06487066137388423,-0.0590625637566764,-0.053273882905872795,0.060872188351956326,-0.04404811760588816,-0.015410627361194628,-0.06472242011180608,0.0325088424952579,0.008578773458235697,-0.08058796214033004,0.0618650391747401,-0.077959417619453,0.04168965009183469,0.06498855319159545,-0.023341814288577855,-0.012638904772761654,-0.02472279825504483,-0.022800628956268772,0.008732443548103555,0.04717856356509407,-0.03746601785046667,-0.024205844119730605,0.0003563899774505405,0.055647981768753234,0.0007216576674352764,-0.024024981621080445,-0.08426806538428343,0.041571520421732164,0.0037177956722209103,-0.07373206087815423,-0.06066856804119955,0.04517997062466006,0.0850814562475971,0.060317232986919135,0.07887984558517426,-0.05858017930152043,0.008321062725806837,-0.05024502889399537,-0.06801177634410036,0.01422091533418841,0.07251839016780197,-0.08082228345170975,-0.06068045494165467,-0.01769115158163467,-0.01293714245170283,-0.06670705371887786,-0.016456028499711867,-0.05798720542503498,0.07064226590292647,0.013776851261217617,-0.07799461557126171,0.06283553078800222,0.01614369749523355,-0.04790230695524193,0.013110350627286467,0.0706254141813567,0.014843720198371841,-0.03344220831298027,0.05104226712659022,0.07108450197639032,0.08512251102854633,-0.031164034915935068,0.06984979367104448,0.0021776876128331824,-0.010556092733546579,0.0029925663222880876,-0.027679622920576238,-0.08454686901369785,-0.07585607703905485,0.009981597600095309,0.08610745010937719,0.025825490894195648,-0.06382357070431861,-0.0009480842103159226,-0.051573339071828574,-0.08676548773070242,-0.00423678565765791,0.03736522785847114,0.028407580008741225,0.03454697860102167,0.019676254650333264,-0.050166754243771136,-0.02576895943178083,0.07482541769082333,-0.08423511646193425,0.012472245999794998,0.07438429751799376,0.06769519166995032,-0.05352055583921162,0.048175667396095294,-0.07418654046490737,-0.007936144059755705,-0.036015021374449396,0.014319451464403575,0.0708227192716929,0.06477781703144683,-0.007630132001622874,0.00760730144559522,0.06281461385857072,-0.03421687130466675,-0.033165135342825725,0.05622886327482823,-0.04375408444732108,-0.012231458804289956]},{"id":"chunk-7db5cddc-161","content":"You may see documentation for features not yet supported in the latest release v0.0.27 2025-02-26. Results Results are the final values returned from running an agent. The result values are wrapped in AgentRunResult and StreamedRunResult so you can access other data like usage of the run and message history Both RunResult and StreamedRunResult are generic in the data they wrap, so typing information about the data returned by the agent is preserved.","metadata":{"url":"https://ai.pydantic.dev","title":"PydanticAI","chunkIndex":161,"totalChunks":208},"embedding":[0.007604566551805504,0.0174735075261812,-0.03173042781321209,0.025105181320134083,0.0058017257295573145,-0.07329705909648478,-0.06793160830002919,0.035587207532176146,-0.08444183875321148,0.07063081596028248,-0.04141859529931818,-0.03182410059331731,0.019244635735561642,0.0037490729491621915,-0.04668776027232635,0.08046282150569685,0.06720638358550571,-0.052899509638808004,-0.07249799253445194,-0.03022447485926707,0.031917652781804993,-0.07976612369327206,0.018863780772983115,-0.05707323302423179,0.031466618832774934,0.04892970927573259,-0.045279137560263805,-0.0068944439349314,0.08574581264034506,0.0010892211628231669,-0.007252313975796085,0.025081339884106504,-0.0625972713847729,-0.000010228404393954806,0.052597823028485105,0.03137994984042991,-0.021025768244821712,-0.028512785786912142,-0.03995224637714699,0.08426340027430085,-0.08111478951178552,0.0861535611329585,-0.0684840927248364,-0.003659121194551688,-0.08624737276312437,-0.02935767409121855,0.06448991615710073,-0.08449473038884357,0.016389921928419846,-0.025261215441628612,0.034370512834336404,0.04690773483105483,0.052514386876093035,-0.0789194556765214,0.06732773452434652,0.059404396737943156,0.004626411237270868,0.04540125174360725,0.08060330829084446,0.032582883368353785,0.0671250922044824,0.04964414916841306,-0.008795239642823078,-0.011850287663198664,-0.04086340060460958,-0.00985649870620894,0.018068008134157935,0.06623948989092382,-0.0784264711104371,0.08151786716327673,0.07979753987125837,-0.008040590008660368,0.060925565831173596,-0.001882972654028093,-0.05019164176262146,-0.08556591724370176,0.026369143900353734,0.029163818520350993,-0.014633772823556001,-0.056644542043759204,0.04590037266790853,0.0846447135121529,0.027417833328713705,0.003399375116112461,-0.011957074289824326,-0.015542009146285613,-0.056123453761086205,-0.05553794156678185,0.008697604748013848,-0.05471851681551846,0.009358910353859462,-0.03991627870505987,-0.06548744957767635,-0.06884492956151668,-0.018099219659778714,0.03957912042408579,-0.0008649314119742709,-0.06205376346949029,-0.04090544606467915,-0.08777460487240277,-0.022147306018730564,0.001615218764160774,-0.0062633408985017435,0.029688103728900517,-0.06636545985335184,-0.0654492525160482,-0.032618217497369484,-0.004408033113547185,0.004802039410690269,0.02225674160497481,0.006215699182862872,-0.00405515047117056,-0.03303174569208742,-0.04040369542603125,-0.060399035245664215,0.07812348814440452,0.013792874190342344,0.01771196336597644,-0.07492161980101893,-0.008136432727946454,-0.024592245196163903,-0.0614895030988281,-0.07142357135475653,-0.056292070532866056,-0.021570733348603155,-0.02156041559079344,0.04911937138721481,-0.04143994320302764,-0.03492449741015763,0.07214191339944072,0.01930605320604404,-0.06616622063542983,-0.06308366525280829,-0.06779442914789391,-0.0282482200078022,-0.017175616454886564,-0.05449842764912067,-0.01872824088559656,-0.04793763837739665,0.005739464746640017,-0.07703427727676294,-0.05754865872257586,-0.005717222042287674,0.06637709707025459,-0.05768984413420425,0.043201002131794064,0.03638124888810966,0.06712733002160765,0.024928291118074684,-0.03495218495169311,0.03857775862080977,-0.01138908828825185,-0.017403510063397194,0.009696207224515082,-0.014529546892847916,-0.08201962449913286,-0.0012767606090438373,0.03581679333677437,0.05564658410106077,0.0663198676681444,-0.05624669001097315,0.06778746639773194,-0.0722965236567451,0.0826171239214406,-0.045776795191783085,0.07192147679840978,0.055645468898561,0.038418473579648546,-0.03694862489412533,0.010890694839152393,0.020327362182349182,-0.060043057265983565,0.020952590046458726,-0.0006666303958868569,-0.009304945003604908,-0.028728683064637547,0.049604952710210745,-0.0778300511378431,-0.05607312240211309,-0.01539376355118982,0.05804846512381037,-0.04312022326625033,-0.05463695750132333,-0.06257558699031955,-0.008385610713074962,-0.06728852981819347,0.0032480878098679806,0.0012257888751011406,0.07794421612929625,-0.012613176083234182,0.022054396451143134,-0.03631922964334037,-0.007537585379814444,-0.0257937952786685,0.03375254413477747,-0.03644645524037307,0.059612644685739194,-0.05429072854728631,-0.04183519902264673,0.018341382675390587,0.024526583910058613,-0.04423032968479768,0.06575882137036874,-0.051921146910920556,0.027107913443333652,-0.020363959476069535,-0.03323458316602418,0.011771762671492773,-0.044322101814151124,0.06644039637720855,0.00998786486459896,0.056882629964959956,0.009518689982835058,0.009696263933159427,-0.06393352108827383,-0.06220669162833406,-0.026659015188245348,-0.05351210779913107,0.04441107159743748,0.06346412015974012,-0.009097556233423329,0.08259578706376294,-0.08174974655660115,-0.033519026788645434,-0.0725206456760238,0.0431269245193463,-0.03786278760016334,0.003291795425466877,0.019310199477780735,0.08373498831587914,-0.006812709818587048,0.07970644097647879,0.03436945388980008,0.004709573335572619,-0.05898658120776331,0.0684499803480294,0.01800896061665625,-0.02817439912815113,-0.04155418246142768,-0.08339361620945225,0.04946781433155764,0.0003923313982656798,-0.07320052522717496,-0.047088367882879865,0.05195748945147457,0.07176129463190833,-0.038871176943722545,0.06846377490738893,0.08688689167075542,-0.061906821907049124,0.051279171494702895,-0.04232210218822932,-0.027483618865004316,-0.0874012911552142,-0.034650540648587885,0.005352740258713617,-0.04915832232080216,-0.020878945900960302,-0.032065222895994436,-0.057732722694241,-0.006505032816474191,-0.08250124150272081,0.013406916124910068,0.04025157103465784,-0.06505358958266984,0.050684402623419327,0.06392019223079912,-0.07032732942456123,-0.08391486876885022,0.07162666096770146,0.002545759582583999,0.018457721416480208,-0.0029273555883266903,0.04053497393309339,-0.028586082458399102,-0.04217956530905805,-0.008798484434097429,-0.0878718322441492,-0.03974131569763588,0.02380421369779083,-0.06995634469938215,-0.03229069601030913,-0.005224655640253749,0.020518805792363932,-0.05752661303400689,-0.009473548636927431,0.07076476803118308,0.08451541819224755,-0.0882382601130248,0.029037249582269664,0.08631721923040725,0.06574075002845602,-0.05370601502511815,-0.04863161587442919,0.013467940336323977,-0.07820759532296974,-0.0026323844866357683,-0.045581350270201854,-0.08108022357817253,0.06693598868192273,-0.026547337985108665,-0.07672710981738763,-0.06606113258847975,-0.05642510697794726,0.07609158155027941,-0.08358208537372884,0.08410624020382125,0.08478736128076553,0.05570744947341409,-0.006246942451511534,0.02008099359506162,0.05229954955155159,0.03278581443042316,0.050621922624370375,0.06657602070691102,-0.02533442962677728,-0.08400775487933246,-0.021537432082118526,-0.05464406379407603,-0.0015902432009733587,-0.04883236924292202,0.0566362546251738,0.07009237072544125,0.0024367445137673605,0.08735499385088415,-0.028338841499146644,-0.02873114674554393,-0.08228428536660921,0.08236000867846496,0.08646797617041525,0.039451122351789075,0.06913747434606252,-0.035262061597433024,0.002837763564512337,0.0789240415090031,-0.06828585440587208,-0.041127076923812095,0.027764747935881857,0.038926783250225756,0.08212245175805427,0.02274728879310529,0.0058054679084448895,0.044777190820454386,0.07142596807354586,0.08703634822108595,0.022823516481342822,0.005384144872170106,-0.06808680871335732,0.039232304514588735,-0.05254529426403034,-0.08721022799767345,0.026648899460425767,-0.003176418663647655,0.07907147300578546,-0.04384183927061761,-0.017515039432951456,-0.06687224556654821,-0.011739603446065961,-0.022680359530746312,0.040288579137843415,-0.05604451103318749,0.07304097042713421,-0.07744658146128691,0.034099044113908045,-0.0831720980861219,0.07820922263639705,0.08412150428834604,0.00047755254204764213,-0.03473458903772596,-0.006517519587742654,0.0697509681340034,-0.04264615406020367,-0.07077438271057147,-0.07146019558534011,0.01258110505866378,-0.08374711577146127,0.04140233676331301,-0.008490402863260457,-0.07007560437388007,0.011729147354031539,-0.051825472065288085,-0.0010458032513053683,-0.040268737954989406,0.08633652065312464]},{"id":"chunk-7db5cddc-162","content":"olympics.pyfrom pydantic import BaseModel from pydantic_ai import Agent class CityLocation(BaseModel): city: str country: str agent = Agent('google-gla:gemini-1.5-flash', result_type=CityLocation) result = agent.run_sync('Where were the olympics held in 2012?') print(result.data) #> city='London' country='United Kingdom' print(result.usage()) \"\"\" Usage(requests=1, request_tokens=57, response_tokens=8, total_tokens=65, details=None) \"\"\" (This example is complete, it can be run \"as is\") Runs end when either a plain text response is received or the model calls a tool associated with one of the structured result types. We will add limits to make sure a run doesn't go on indefinitely, see #70. Result data When the result type is str, or a union including str, plain text responses are enabled on the model, and the raw text response from the model is used as the response data.","metadata":{"url":"https://ai.pydantic.dev","title":"PydanticAI","chunkIndex":162,"totalChunks":208},"embedding":[-0.010110179319903274,-0.07224760204863441,0.0786846197939272,-0.021938028167260395,0.07662680735681629,-0.05971203639125191,0.08136394359082746,0.0836318635190976,-0.0018479800594078874,-0.08405511778557115,-0.0381330900947013,0.014674719276621168,-0.023118115445959323,-0.08414077738916058,0.061368149317703916,-0.05215523535175606,0.0821000057416986,0.028268074303026965,-0.07260338676093907,0.06398528251973402,-0.07290280998416632,-0.06613124276226867,0.05397965858813185,-0.009339701792772808,-0.05792183358587238,0.006694517595865407,0.07883274785060539,0.07656800523856451,0.036478033347422015,-0.016440108583219152,-0.031927625420356015,-0.059957003311263246,-0.03490109314620701,-0.015370211621080645,0.07587763702469293,-0.0673986377640116,0.05147965328800199,0.08158663901067502,0.03803853378203086,-0.015310186299188754,-0.07215539393783857,0.07901517378815594,0.04919179000923911,0.06388640294037277,0.01102206121964443,-0.08158158537333861,-0.07604258438328092,0.058731378646442456,-0.08044532566670833,0.009059421760798563,-0.028921782930072738,-0.017729139415075555,-0.024010723167596126,0.07400130496830143,0.05720540539034212,-0.07728658371468823,0.0032989461321056295,-0.050642419877451196,-0.05490599555193252,-0.07378055609787998,-0.07244033111246599,0.0441803589791354,0.007875853149940923,0.04293600220480966,-0.049219988255967385,-0.015243554970946625,-0.01572863297907546,0.00917693311577618,-0.013196937300274336,-0.0063614239360343635,-0.07295094078823117,-0.029401650801661766,0.06483871645403601,0.020008540755104474,0.0020155724482069978,0.041712087594578985,-0.029860630113653246,-0.07466445679447006,-0.04586465139980449,-0.06623229860898283,-0.050046464804637904,0.028856412571441104,0.020191780769961844,0.052515909972744156,-0.07184260967301001,0.07646636356428817,0.0741359414566916,-0.07935783741275065,-0.04053359350468589,0.056885070755275685,-0.011949812439075575,0.005228959762194361,0.04551662634268989,-0.014816824036429654,0.02389230832740954,0.0084667458029425,-0.07143472245850152,0.05003946613416879,-0.046048559340430596,-0.03332837891466248,0.05176333748597419,0.08000796590339453,-0.07466256865694072,0.05307665911142041,-0.04887403905937925,0.06332703701780791,-0.07267446370957194,0.0674721084373904,0.043414938111008994,0.05098673678145915,-0.01005448127956995,0.0530636646415695,-0.016439440876522615,-0.05587534032889895,-0.006916795506305008,-0.04562152244940602,-0.06838031870303082,-0.0665591519552625,0.06460646204341706,-0.012484057285722753,0.0009325101732160396,0.0633169673777886,-0.020928534259818353,0.01033302025104485,-0.07543727220955374,-0.003418653975024167,-0.010940427555567952,-0.05580670899202075,-0.08009030956199806,0.0315686800933091,0.034714245818654614,-0.06772408939526066,-0.0016987637167601348,-0.003187118127612945,-0.0707063702131928,-0.00965010986013505,-0.04168378699305176,0.04292366675414767,0.06822578125071033,-0.015372385589822925,0.017636973209049955,0.014363431536964176,-0.002200199116440769,-0.014361645683240299,-0.04671655203974685,-0.037312131889682965,-0.006185819178136959,-0.009417774025307107,-0.008316928401889336,-0.07398057229998958,0.024885469027675085,-0.03741032106243746,0.02733643815370758,-0.03934184014655643,0.07649209230250015,-0.03684788750117379,-0.06305426238802601,0.02228661542393936,-0.06938160167231137,0.02221049511010185,-0.02301945856946377,0.06996881209762706,-0.005969466170442496,-0.055928271987582295,0.048755794296839926,0.0540301105237799,-0.017242141780489963,0.0019569798427053176,-0.016447176691146242,-0.01448917122688974,-0.06279388978723821,-0.012060241707773952,0.06954585685194567,-0.04911594259376894,-0.05992561661677148,-0.06639043610162894,-0.0465313563001006,0.06587647507501004,0.08016724429247823,0.01853448234430987,0.004276852837052425,0.019411797551017376,-0.06765755865617526,0.0701267855366516,0.06807460651034768,-0.03106182048025781,0.029001258909237274,-0.01289396762454729,0.044206018987219056,-0.07380123322491476,-0.026183210955305906,0.07507160870414165,0.056716651205601876,-0.021984206626753697,-0.0344706679276389,0.058670456601586575,0.06191539895436836,0.047527438859677584,0.08103296385771185,-0.08273462974626918,0.01991003073353043,0.055110319073978016,0.06733001761567696,0.000027407776194026608,0.035732644267679206,-0.06676574473123079,-0.03464105647642858,0.07783482392579646,-0.06367262803537511,0.058533502664692684,-0.034067354259731224,-0.08312015973279326,-0.03341100945240878,-0.003770810983975578,0.025597653025869787,0.006527544490378272,0.03816845966105816,0.009592429818379275,-0.03217029192796445,-0.07218897424600225,-0.01221912513872568,-0.08224188438210356,-0.06920981282338025,-0.07413320497579137,0.024229515620295055,-0.0798533066354381,-0.05014512676431341,-0.08120021012741836,0.07336731264398909,-0.08410984027633468,0.056364530827069804,-0.02153305514951707,-0.013291872439424575,-0.037738343598263974,0.025720672929476267,-0.030959267533987613,-0.014690884255812452,0.05951154808702305,-0.08042771678911559,0.011975702302705374,-0.030442711360946863,-0.02849770918776033,0.009322493921388557,-0.07528843971039965,0.06825630335788442,0.03793861310430746,0.056879127891004855,0.05089839047030316,-0.0571584433017807,0.037918877720492856,-0.014957070528080438,0.049595942767954725,-0.00818647400409646,0.06948578833444141,-0.07050120795189699,-0.06808012165285622,0.050256939381608606,0.029155510635781465,0.07810135498444869,-0.008709253514470562,-0.007454070108367014,0.04598611521435544,-0.04144713186601912,-0.08210798149976378,-0.07308258658201311,0.04866119731401744,-0.01756443932639612,0.05407789425813665,0.02751449616293265,-0.08100602253442482,-0.05128154444208391,0.026956637469719002,0.027123985155026172,0.026007801263308792,-0.07974883366655751,-0.032989062089828755,-0.05169433462831767,0.06252198960110726,-0.027018021652472198,0.009155537164556905,-0.04635920602663876,0.010640055938413476,0.05716686512455627,-0.01584347205786756,0.07821087892345785,0.06665179000104177,0.03574572415723976,-0.005217908628921363,-0.08236014701772364,-0.03402840836663721,0.05842363122489855,0.0010257911555148706,0.03892950238004242,0.05622846088304528,0.05941296551224647,0.025488867764137394,0.037824393979376765,0.07964920180322957,0.043024996527236375,0.055468432051878465,0.07405568893405379,-0.08395767270674738,-0.08150999388950285,-0.0663731334454955,-0.06889159575899144,0.06697120979294634,-0.07872351372675854,0.07520831425760575,-0.06656849748580815,-0.056199763223120446,0.06251999320298636,0.07103614967188022,0.023477312634601077,0.021181741123640605,-0.07476283032287742,0.04837295314065677,-0.07692472120141035,-0.035263902333132174,-0.03342253041846132,-0.040076870212671846,-0.07215105069626887,0.05005112069273112,-0.023855201164512733,0.026743860883394137,-0.03051600279143018,0.008472274295139168,0.042798964173615915,-0.03174865513620078,0.04186286036481357,-0.006802109317628273,-0.0021869902518208014,-0.0317524276912848,0.07757180543996386,0.002769279190668834,0.06261649597101795,0.013751488936964769,-0.009233994649870807,-0.0026017962321872824,0.026175602542774182,0.0029864966708960184,0.06542145210983036,0.08189183526756633,-0.029259338616878853,-0.04101390377192826,0.0458985841611897,-0.006019758805738001,0.04444915182743252,-0.006499317189688224,0.020950566182657032,0.07956424924623239,0.033490328980845106,0.06545414208099612,0.0012484850578717607,-0.06908329751623002,-0.0013903830622591091,-0.018247244545333517,0.021465777844520407,0.06329890521282683,0.04406475796202805,-0.026198911535727277,-0.07642325118816917,0.0716840619005109,0.03580465828932524,-0.03571834090946937,-0.07597574370768476,-0.08364870413303892,0.027340145501940367,0.021800191746099255,0.04070175818255392,0.06151054446717412,0.046294391424366206,-0.0428107799344514,0.020048888223311006,-0.08297548108399878,0.07016283376277853,0.02285843004883392,0.04640611329902989,-0.025250344517594437,0.060109860532342095,0.08405498718819744,-0.029225070033675544,0.03918865424682879,0.059915046836073474,-0.020597191702378066]},{"id":"chunk-7db5cddc-163","content":"If the result type is a union with multiple members (after remove str from the members), each member is registered as a separate tool with the model in order to reduce the complexity of the tool schemas and maximise the chances a model will respond correctly. If the result type schema is not of type \"object\", the result type is wrapped in a single element object, so the schema of all tools registered with the model are object schemas. Structured results (like tools) use Pydantic to build the JSON schema used for the tool, and to validate the data returned by the model. Bring on PEP-747 Until PEP-747 \"Annotating Type Forms\" lands, unions are not valid as types in Python. When creating the agent we need to # type: ignore the result_type argument, and add a type hint to tell type checkers about the type of the agent.","metadata":{"url":"https://ai.pydantic.dev","title":"PydanticAI","chunkIndex":163,"totalChunks":208},"embedding":[-0.0000014027557143912566,0.05327122821330356,0.03794876701032569,-0.06256452700239104,0.06950853973611676,0.008716199355168165,-0.044403326416885824,-0.036723993565566236,0.006161555941899685,-0.05689085297412312,-0.07535986518096341,-0.05185734009560161,0.05123079221983412,0.06674907568756963,-0.06703035776370128,-0.06766314130347252,-0.03882145159675852,0.02465924409063382,0.07151566159382902,-0.04259902361999583,-0.013926362589683744,0.05481578577123102,0.08203350374845043,0.03273915578274322,0.0820868759754449,0.06726054016851887,-0.02670131965303712,-0.056558018261417604,-0.005400241221313545,0.01891629669173737,0.0660334346476574,-0.07167074366993616,-0.053807974570599895,0.0750219956195366,-0.028943926724270708,-0.04391698045652132,-0.04058338705475485,0.0687828454435067,0.04991476823191633,0.026088033455780837,0.011670846316912011,0.05325811831978329,-0.05554945851016428,-0.011705205581993939,0.01474417809525344,-0.0015116882415658897,-0.08025981841976472,-0.05750900866753072,0.051628202760690335,-0.024862614387531904,0.02177282473095105,-0.08195654422372674,-0.004153411515038419,0.07799292219231106,-0.0691677075272681,-0.06040599438414579,-0.062366876498111616,0.08270136337535071,-0.06416532062673976,0.015018509071609489,0.069135734912026,-0.035146328645669106,-0.019991117907798745,-0.038729365975808616,0.07737714696511164,0.07992667764055354,0.05643220179883988,0.026420131295525465,-0.04288454783161167,0.03451024364891048,0.030447201194725153,0.06117292508412361,-0.005885426074684807,0.05098267887423658,-0.0175939573945832,0.039042572571003624,-0.07668180545791528,0.007955956641611308,0.047673770629707984,-0.01019133164453366,0.033189783624416824,-0.008809082291158836,0.030780101170553225,0.00280118735574829,-0.04738700296244608,-0.0021720110512194685,-0.05200482281540979,-0.08479494455211166,0.053611920858786105,0.06712196047115404,-0.061178114616047254,0.0005344058541012997,-0.04628345846263353,-0.05197476370755983,-0.04108842530490472,0.07487527056423691,-0.0010247624631167156,0.06741147840274411,-0.03157689083429858,0.08239216438157439,0.07407169691666256,0.001440521528904775,-0.04036809938216256,0.08561989581609382,-0.0028300299522749806,0.07067223191146439,0.017318652555769462,0.07062872417919279,-0.02012932712614469,0.025600801589622073,0.0018883378947371588,0.06826240880490327,0.04504272320544437,-0.04642264704683254,-0.00338458593625835,-0.0031400856177371504,-0.05601195590858663,0.051489599279098304,0.06025347427905828,-0.04825953422209424,0.04694732162563038,-0.036728357129945134,0.04404621798235421,-0.0575128535988331,0.08560428697592269,-0.07050602616711066,0.02213235263676959,-0.011024459248141548,-0.06463604246903673,0.006163394395181805,-0.035387636730731774,-0.07561115225612126,-0.04774436228751082,-0.08402068032561492,-0.08326777357370437,-0.07203338276788468,-0.05615413421824156,-0.06939484779537496,-0.0496045625765567,-0.08125281190720318,0.013638189555015936,0.07635642466946428,0.02960390086827605,0.02912270687820514,-0.052999216692239205,0.00548244937462064,0.005171705365869821,-0.03749915897179769,0.08416777233992516,-0.008014104904935647,0.016209511885137248,-0.05304132317715243,0.044989212193674986,0.06011490351273552,0.08275301248379002,-0.020420891663612783,0.002451692912252954,0.008068140577726611,0.05163268842576415,-0.07881812738078633,0.008787980617335456,0.013566899966767536,-0.046400726362999446,0.023416162962058885,-0.02313187350710334,-0.059671228030443106,-0.048276637198442704,-0.02038770938203554,-0.05804983256499009,0.06538392502149737,0.03302518385400249,-0.013312669154283457,-0.04688634193057307,0.06882910470268892,-0.009083583532401287,0.021622816299848673,0.0682727218279269,0.0716419152556647,0.022828324372620997,0.06312909463760163,0.016239745758038913,-0.07373693175985763,0.0056596995104064044,-0.021576751310077278,0.03775894494023954,-0.07821071370514908,-0.0673170818719478,-0.04550414340124499,0.0868655548579478,-0.07070765075064346,0.07309410785636314,-0.014127534952388254,-0.02686398985931456,0.074771379833943,-0.01644819325373395,-0.05235321733415087,-0.07193113083847605,0.0036394001123117928,-0.058564745889865426,-0.07019725734636212,0.008029475909638982,0.033631522708107056,0.02722206171490802,0.004657712980366066,0.005076738202201004,-0.06953448622018354,0.012572733222491797,-0.08481676350382679,0.0687053437369377,-0.06168332319440846,-0.06384137913829027,-0.08120891925216886,-0.05035787743213457,0.058700172559931645,0.07245160856417711,-0.0021543921979871174,-0.0010679866775070062,0.0024426672022092883,0.02368218921347701,0.0388348637768699,0.06330808777627109,0.01663227982254115,0.07834863941067734,0.04841385062241024,-0.00872517749019054,-0.061455607722600544,-0.03981053665863755,0.08660645824623102,0.06909446877312811,-0.057432056151650784,0.01802664266805617,0.03339210147980379,-0.019717219894239277,-0.044779040110044833,-0.010116183733918548,-0.026108704245968332,0.0030824921923061055,-0.03076598355861639,-0.073665181816389,0.08207092004963377,-0.019776418008399226,0.024179091926982105,-0.08370192300366752,-0.08546751717214271,0.06662694261491069,0.03991020121565954,-0.07104738837472264,0.06967798429640132,-0.07663166170131847,-0.030455700279002636,0.06551517493127415,-0.015849479647017824,-0.017960439003383327,-0.04374544050608127,-0.01125789086695822,-0.07431484429588504,-0.06568864510412192,-0.08264923765784098,-0.024643545565492187,0.024191636479708033,0.06577109412252503,-0.028368487389621163,0.059846080355889675,-0.01792826173680244,-0.05304051942114516,-0.0707402468440998,0.07836863023351871,0.04815950403355642,0.03743673592505023,-0.02884710588729898,-0.0025291595742866603,0.07587557374625828,-0.06874882659226833,-0.04445883345259089,-0.06983087233754103,-0.08109224782698801,-0.016129938324918075,-0.08243694668172945,-0.07017575339021677,-0.08139938728548186,-0.008874266314405506,0.021686081307432103,0.025649291637279383,0.011597616082236577,0.030451095083813166,-0.05836384401290164,-0.0022468304919276314,-0.0704797422779411,0.009257199061893005,0.036552921464342816,-0.06376228913939536,-0.061524552351073326,-0.07186855814536623,-0.04968204162622688,-0.05906661791699738,0.06552620361665681,0.07228261560608866,-0.007008201233774653,-0.07319665603094781,-0.007940739133007491,0.06972929394543045,-0.00269009337199948,-0.07541227429577696,0.06729835075399399,-0.027517384169768476,-0.03291827356995989,-0.07747772509823263,0.03149713832916613,0.07677446794019031,-0.012319754399043311,0.017817576970124337,0.05271542158567012,-0.024617033295902653,0.027949544763567535,-0.0469509075238782,-0.047332233273704366,-0.0303754452833035,-0.04850963376701438,0.009692109709484333,-0.039752349583047686,-0.06763463660788795,-0.0015062784580758793,0.06702798845961441,-0.014067059318886297,-0.07156337429768642,0.056654273864484885,-0.059253671309606744,-0.08049727740695548,0.08157090572059288,-0.0762490570977277,0.0022486193020154308,-0.029327914740669144,0.015048181682859771,0.03321144856074416,0.05436388521226951,-0.044919577244490125,0.00982289080704083,0.04039795041803897,-0.01054702036167166,-0.005430889404102662,-0.0012025004222534661,0.04720831055316558,-0.08443187591286173,-0.06421617112822245,0.007884061401470988,-0.04129284653941824,-0.07106033542762495,-0.045414859753458804,0.05975906461759442,-0.020474311892001315,-0.04305746548230281,0.019435615629346613,-0.05964560373236817,0.021925490212462283,0.06546489059730119,0.05242946253979946,-0.026116603251502644,-0.06103341383106893,0.010464526226160937,0.07126132631170644,0.007491676697355162,-0.0788522340216974,0.07533428164876259,-0.01516826047738335,0.008547878433290836,0.03212692848264114,0.053482603861129865,-0.006241588001205235,-0.019758797896065664,0.07281906443319626,0.02692816663506149,-0.010985656558560647,-0.037746060191880516,-0.03585022727067947,-0.07975864780663255,0.03404935540978191,-0.08469783583842969,0.039537542657869636,-0.05949556348296965,-0.05858629959914107,-0.015109301257344183,0.059555612551907326,0.0399092797720076,-0.04544475526874296]},{"id":"chunk-7db5cddc-164","content":"Here's an example of returning either text or a structured value box_or_error.pyfrom typing import Union from pydantic import BaseModel from pydantic_ai import Agent class Box(BaseModel): width: int height: int depth: int units: str agent: Agent[None, Union[Box, str]] = Agent( 'openai:gpt-4o-mini', result_type=Union[Box, str], # type: ignore system_prompt=( \"Extract me the dimensions of a box, \" \"if you can't extract all data, ask the user to try again.\" ), ) result = agent.run_sync('The box is 10x20x30') print(result.data) #> Please provide the units for the dimensions (e.g., cm, in, m).","metadata":{"url":"https://ai.pydantic.dev","title":"PydanticAI","chunkIndex":164,"totalChunks":208},"embedding":[0.019539391210701557,0.02003983927954851,0.05391763481852383,0.0006404341399151425,-0.0383161850407102,0.08872258040896852,0.03627967504763866,0.03158578033890783,-0.07412666009654192,-0.03170937918612771,0.02514690655548736,0.054577275142588706,0.013055259403066288,-0.02754630377843111,0.009504670400093071,0.012848049047140615,0.00042735275871729,-0.06742140838058618,-0.042050998226210536,-0.004575837080793773,0.06120183034254866,0.07000344697485202,0.04997821622972081,-0.015880048803457017,0.07576297626163396,-0.017197669683663222,-0.04286083057269616,0.0016170691019398687,-0.05532418847520224,-0.010609704937803163,-0.060020569217549245,0.02907241098540469,-0.03157642996537287,-0.018064648160812043,-0.0672136653626656,0.0760690050532918,-0.015515416848813506,-0.045433842707696646,0.013438780233475296,-0.04247629377377228,-0.006679921653304531,0.024578855804263878,0.051764425690833483,0.005597875262530848,-0.04984542690075363,0.02700547380576099,-0.0804738091962392,-0.024590292236378652,-0.04962410626134423,-0.028812612119666344,-0.05429724927371714,-0.03444459659395464,-0.059391093645687,-0.06953939401009752,0.08123953164735435,0.0713743764668069,-0.01725787131558784,-0.008012415801523785,-0.08442949139261112,0.03940299247129387,0.0512773331293305,-0.08029882351697876,-0.08213991081279402,0.03945296758444827,0.04927259340465085,0.051662971268527966,-0.02071916526040358,-0.0546431828029618,-0.04032970584846943,-0.052740845114505205,-0.039200157520184346,-0.006440388777084942,-0.06410418291575513,-0.07574329249648877,0.07532321389736361,-0.02467480388544291,0.0051427046418434505,-0.035450519962532484,0.06211029329042552,0.0003684594051912657,-0.06693011714600092,0.005216121431355207,-0.015449089762772494,0.080675556980072,-0.04749295633296433,-0.010332670915672604,-0.009299202937642732,-0.06405535413120947,-0.015597498529392672,-0.07808394995705684,-0.06902349614542377,0.0704402446681344,-0.04810707853257859,-0.07464746837228946,0.05481574662502766,-0.01381312169615881,0.013048734762287935,0.07513896179955723,-0.05064668908375153,0.08744993090599097,-0.06718659397956221,-0.05202142550835287,-0.06366582409295063,-0.08840604935135277,0.05614961124137818,0.04021585979625984,0.03918116531257675,0.0670863913824114,0.00760751385492482,0.03194110291961563,-0.02010569794849479,0.013745738222522685,0.05180275348326062,-0.027850688048632943,-0.04342493298494893,-0.08345223118570562,0.08165949126584804,-0.054312964774272124,-0.0284382061244807,-0.08151423323353893,0.05645493513439892,-0.0483307257241565,0.03231892928336127,-0.01625194257024639,-0.05913420449506954,0.032057373013004785,0.005759777830274412,0.07495615508602181,-0.07084686765677704,-0.03254169089883391,-0.04538373726169201,0.04432841966736083,-0.04946761893073677,0.07077781687248945,-0.08559602291605042,-0.07569427351423044,-0.0436447205215716,-0.054237432628644236,0.011397302008933994,-0.07486164657264553,-0.028346681334892113,0.0434512720662966,-0.023753066299584673,-0.08283893968971062,0.042671369265657136,0.027473658329845742,0.08016132062739971,-0.014277407754891704,0.006782133641852273,-0.07110704017067399,-0.03578276451700603,0.0857390855104858,-0.05429190851486374,0.01369055522318768,0.04539977351679278,0.0013948672713275212,-0.00820458289853546,0.06276736639321377,-0.04565468973852156,-0.04593324397400668,0.021696718556303757,0.04390704781535894,-0.021596792231005663,0.03940974007818525,-0.046270276754319106,-0.04922210360879517,0.02012912007415519,0.017226894315757177,-0.00044646293386509486,0.035081500453373146,0.08537507745407202,-0.0506465937362908,-0.07533897769467855,-0.04952036962553956,-0.06596631168847289,-0.028225474161441954,0.0331321935497339,-0.0509412492515155,0.05199115352573133,0.06594665721564004,-0.046117573911038726,0.02710873393389915,-0.002305812672496055,-0.029700624574927798,0.0009571836459200632,0.010663834938483871,-0.025679371249368598,0.08739070659412394,-0.042417222365313534,0.061386950478308895,-0.0008825903914714518,0.0836069716806266,0.07292111651932164,-0.06701294894999782,0.047858048403688735,-0.07516275626762607,0.051129253387776526,-0.000403862717364366,-0.008856460859611302,0.07664346095032358,-0.046248643701403296,0.046451827634738506,-0.036009585756785874,-0.0667515348641869,-0.07011270119116514,0.031015549722553725,-0.088620427009581,-0.015188419046309272,0.06269350511086265,-0.030756877607149437,0.02398188341499801,-0.08635034992906163,-0.07719289695884274,0.014454999149060052,0.05369692814505885,0.06898695801698153,-0.059739962587097406,-0.0688541404129593,-0.08047310430270459,0.07188822734367985,0.060715062855168804,-0.07728550237408462,-0.008548065238587201,-0.044459860822167706,-0.06540400700841925,-0.013872283661816958,0.018008403288467794,-0.04662378007503058,-0.07084473053544506,-0.026227050476866156,-0.06596925730743053,0.056520953070685914,0.03539871426702874,0.05880556519323816,0.05758253959193498,0.0268902556318506,0.06801496281209463,0.04362236582009235,-0.06724469603747768,-0.051772154802467926,-0.022935210452439823,-0.007826087364804194,-0.0114522217766666,0.051653336923693206,-0.06616869801328995,-0.07121075444867095,-0.004613500391608886,0.03728142836309298,-0.02004643104173259,0.07529615260867599,-0.057636415127892096,-0.06411890963352042,0.03670640362449285,0.01431503352656416,0.04214576648752846,0.020101028702396478,0.05870744776132736,-0.029480780699083796,-0.08078095867319898,0.08648800272640442,-0.022994237789684457,0.0798635733075543,0.07982651771207391,-0.013967668727047938,0.04002588360238978,0.0014650134890842451,-0.08535224398620861,-0.056366492586038174,0.06672578154100622,-0.004088035278763092,0.0767987332621303,0.06230041981647673,-0.05948744126908209,-0.07039124222934667,0.023892730843485595,-0.004535679196341779,-0.0782691339942714,0.02888386790011807,0.08552857149926554,-0.006753396235421945,-0.01647438838451161,0.07389847648547439,-0.025853784113399433,-0.014441143634247046,-0.0890381893662651,-0.006229589237780581,0.03080395125225625,-0.08327937348655415,-0.07164225156703055,0.07171536032123575,0.05840287062374017,-0.08510527876486394,-0.010744025338526404,-0.011191249766615617,0.06526176737448122,0.07397373624689753,0.06347953468529925,-0.08497915635063565,0.07271738850981402,-0.028811687428904748,0.043024726533147414,0.08189315951806511,0.04672895960619208,0.010613911750320584,0.03577971112142063,0.03262216757532499,0.049411332871135215,0.06815115541710765,-0.022063693229938973,0.01689441886185964,0.0032777065566133553,0.024425798913564688,-0.015798745495554746,0.051602562793856346,0.0005764454000363607,-0.04928881775787278,0.041053444084853896,0.05293913843019608,0.05617546001975897,0.0752544196398919,-0.02522584155312839,-0.019159393625880004,-0.08717469832770089,-0.017927398638436412,-0.01106878613799175,0.015098853521954872,-0.006866488759155602,0.0446884043281725,0.040209117954771334,0.00656189172748638,-0.06712506641998706,0.018381716300389404,-0.06618389427239746,-0.05320699727876266,-0.01520397827164493,-0.07292327987892633,-0.04689680626403644,-0.060195796427098776,-0.08208651790224603,0.046300932452058775,-0.02544250673786363,0.034574267082663895,-0.06448086335439329,-0.06423545454811776,0.04594111427431124,-0.00693829722804515,0.08868796394012353,0.02814259043974321,-0.06081384837663433,-0.04038629274587727,-0.0028714118570642246,-0.04005196763816203,0.05954548682029906,-0.02134623578204872,0.08267160157741221,0.013872471112044033,0.03337493153853847,-0.029609249460656434,-0.027787451636283343,-0.015327392618744613,0.05855984025571353,-0.01594085011770447,0.021212927590311324,-0.06726053812829129,0.018585828541499996,-0.07604397825625772,0.08164956567527097,-0.007409650999754175,0.07552303401451672,0.03669359714564725,-0.010902718319251282,-0.04452348694837573,0.017825591687480862,0.03255366417455137,0.04390879079857321,-0.009201125110247049,-0.053144198805070215,-0.0837607401392345,-0.0374847504991323,0.07845619999452091,0.04475360633964075,-0.08158127345232151,0.028813098465839772,0.03454637133288316]},{"id":"chunk-7db5cddc-165","content":"result = agent.run_sync('The box is 10x20x30 cm') print(result.data) #> width=10 height=20 depth=30 units='cm' (This example is complete, it can be run \"as is\") Here's an example of using a union return type which registered multiple tools, and wraps non-object schemas in an object: colors_or_sizes.pyfrom typing import Union from pydantic_ai import Agent agent: Agent[None, Union[list[str], list[int]]] = Agent( 'openai:gpt-4o-mini', result_type=Union[list[str], list[int]], # type: ignore system_prompt='Extract either colors or sizes from the shapes provided.', ) result = agent.run_sync('red square, blue circle, green triangle') print(result.data) #> ['red', 'blue', 'green'] result = agent.run_sync('square size 10, circle size 20, triangle size 30') print(result.data) #> [10, 20, 30] (This example is complete, it can be run \"as is\") Result validators functions Some validation is inconvenient or impossible to do in Pydantic validators, in particular when the validation requires IO and is asynchronous.","metadata":{"url":"https://ai.pydantic.dev","title":"PydanticAI","chunkIndex":165,"totalChunks":208},"embedding":[-0.04561329543738043,-0.0019460548475373528,0.0819505669311708,-0.019010041102479742,-0.03721668138406507,-0.016245765706190997,-0.07055558357394798,0.06600966808070768,-0.00434325925632646,0.041667281447097464,0.023903694160997996,0.05202074083190097,-0.03534414774594052,-0.046168908980751065,0.03404870190022659,0.0022762263666570976,-0.08270014604270866,0.005909269853818503,0.021862554539654563,-0.0662541036319107,0.06360211477996955,0.005592310381559541,-0.07896525765449197,0.058029072930235286,-0.05264398905598883,0.07917688921935875,0.032630493266336144,-0.0745606377372976,0.01996944570526259,-0.0320822064975587,-0.05277077925213152,0.04380482548759148,-0.033844915616662204,-0.023800131300928458,0.050538971278986,0.017982063917511257,0.0057626439317573,-0.07587338579472168,-0.048595805615229665,-0.01795108615013583,0.059666040798203444,0.0592306428757394,0.04345143278729481,-0.030347929376013064,-0.03269689636365712,-0.07511164721494634,-0.06405361582559202,0.07882596167567524,-0.0706738887929001,-0.08469787858710454,0.0071686229364279755,0.047078928130214706,-0.0037725637397331836,0.05058548337230376,-0.013972118986698487,-0.05672358315169285,-0.05032401121280908,0.07915976929043865,-0.000641199098565533,-0.06090301084676001,-0.07820116434087337,-0.010188934982879684,0.08764811057086626,0.04529003402804344,0.06344300002957719,-0.015344146165408194,0.030087611204923495,0.05333017579848473,-0.0844087928220324,0.07125104194323008,-0.024761777669320802,-0.03255890474936214,-0.009658188882309801,0.06527229077421776,-0.002522468933123371,0.025548622237633788,-0.05687879560016186,0.014292394783365015,0.035911365312608044,-0.06868878446551287,-0.049798297261148476,0.05526619790800213,-0.06520832610254679,0.07872896720263815,0.06473013282751143,-0.07050539079365492,-0.03272684331932861,-0.045369105574290906,0.0857047905985899,0.00718967198052877,-0.02842419576251656,-0.0008449948458723412,0.07816940442437045,0.07389009257542227,-0.013699250194780611,0.046174337812940704,0.07235784006231162,0.08061619311844645,0.07120927770511741,-0.025263218642061634,-0.008514243692472981,-0.05015174859691315,-0.029851315696338757,-0.08183472819652149,-0.04769960616776252,-0.0120951477771486,0.00947588915372048,0.015421749293981938,0.04026024300415016,0.03774085388014057,0.038008397037248405,0.06946967942348732,0.04998807017900399,0.06040971643109986,0.0859685910911208,-0.038452254249682086,0.06410017158143126,-0.029364036042096756,-0.030641663069223016,-0.01869217667638985,-0.029624245037620674,-0.08560273009318067,-0.030653126235857902,-0.07349521996737227,0.06338171707841261,-0.03638065829656629,0.06444308576131282,-0.013670505914908242,0.04247436598008078,-0.05485436741370732,-0.08611147709714123,0.03716773278726386,-0.05070031001352586,0.06819287647881266,0.02068301432210798,-0.07299468247092432,0.060030284593923934,-0.07460579987761815,0.03306371102593652,0.059660009062855686,0.053896080744948845,-0.034301094257524596,-0.06728077751731525,-0.033873243754569585,0.0803755948946874,0.08728470986254967,-0.050377070466163784,-0.05103628261528403,0.015846938879423574,-0.0016819504375795364,-0.04591739595182117,0.012019581981734483,-0.005443049645743428,-0.002487569932182563,-0.04655570159042547,-0.06847862271185481,-0.008758804977133381,0.03745569427921029,0.010977868614932657,-0.08546233784233008,0.07500503813906267,0.03916974459107991,0.032953370353730284,0.07714738688477553,0.043117059743880984,0.032668756773411425,0.036365459065079056,0.009514362563176353,-0.009588588315782935,-0.008711121188717814,-0.018229272197905703,0.0584130133023946,0.001996143699186708,-0.061745464865463076,0.05851087749277724,0.032949675002669015,0.07688880242088102,-0.06869510499366388,-0.08478183505869681,0.04734767645279336,0.052865727834372093,-0.009617774014239666,-0.03789096985080315,0.0840608246803134,-0.053367237722779695,0.06717138141453573,-0.07311064644280751,-0.08717881495477292,0.03081854573952856,-0.04182177184705844,-0.05885132698425814,0.04101385113420206,-0.056442306349751274,0.019008933912329704,-0.0876599078276073,0.027261320091814676,-0.07299143319944668,0.04832532788635941,-0.03923604515569057,-0.008205088278030978,0.08315100340130946,-0.006749353498164487,-0.07600135280923799,0.009114909966996914,0.03258417033149587,-0.0773373367301526,0.006600145062242666,-0.048264468620404594,-0.01910817662998272,0.022202543240967404,0.07089502491190992,0.010351216430664976,0.07944805278163032,-0.04706768366901086,0.03151910918589575,-0.054499707667472336,-0.04754632646105885,-0.08340833892635682,0.04877339307982871,-0.0666165443581722,-0.06746019102491442,-0.05248720659378061,0.01464287475183912,0.017684601473249306,0.058661345693784686,0.08608937718661605,-0.06026958898404,-0.05973911743501069,-0.0677008506750389,0.043148081769044236,0.05829425909878883,-0.014153717612201213,0.008881233002170131,0.08419238206612005,-0.051745445033789306,0.028070451769089476,-0.0819655413245457,0.047767280775164574,0.050863463828779605,0.05342909596430723,0.014265308271963427,0.023010659448574493,0.0684494727677123,0.0750196843162082,-0.033794968935403985,-0.08128200267448014,-0.0010674433796748662,0.07649917455961301,-0.05367305444582168,-0.02404805560169376,0.0601043721047553,-0.05303470263868528,-0.04499547671830595,0.0636527827802455,0.08267630130658804,-0.06531028926452674,-0.024722629830090576,0.01477804890875384,0.031148586807819876,0.0014908395281654952,0.07886574194907796,0.06362444163755694,0.059545176390693295,0.08140079234091778,0.03522148027328846,-0.05943190047214209,-0.024690745143157222,0.022863368656496255,0.07923340769973562,0.029631046886897258,-0.0435412167307504,-0.02328488673350841,0.016960019709580713,0.07913563756373264,-0.020249956361504392,0.00447319642180012,0.004818980486269889,-0.06768469781936519,-0.02537038641851818,-0.08027615402718415,-0.054048452999575704,0.08221505692509565,0.008803402683329097,0.08291180492337201,0.0815439618637992,-0.06971886775364652,-0.0667088774452375,0.00575262361539395,-0.01599843573807567,-0.019351586560601586,0.05824557034578183,-0.05197114985599113,0.0014840300590960602,0.026303479693070703,0.011531259950351322,0.05314172227639796,-0.0388891150460592,-0.013782649949494831,0.08145714717157537,-0.03613444787550151,0.025735846683084422,-0.008582220092942532,-0.025951944213961547,0.05304367148463382,0.038898246860535196,0.03530441382478532,-0.08608166324001269,-0.05915740971275599,0.024977228284006007,0.08600016698601283,-0.018924071245808118,0.0718625969207653,-0.059574372635918034,-0.010389676629479273,0.0028679146057041145,0.014634398402717666,0.0310117638077819,0.009016583574683556,0.047128811331799886,-0.036372512969531486,0.008881510260824945,0.024493167741853384,0.024122128956204837,0.07719954776075966,0.03385633738107285,-0.055995479166360135,-0.047335068463747694,-0.06759515434012553,-0.045767144016159444,-0.04527168126041834,-0.08479942364189216,-0.0400166379478503,-0.04736636466246784,-0.0057053062327505795,-0.0754261623468462,-0.0174332636964371,0.0316564836820321,0.07662144579504224,0.030418015434397237,0.08478752350675521,-0.004978111872341229,-0.029153146941508636,0.07698949553938786,-0.07253388360092079,0.05109338560896959,0.04902011088498519,0.029537021267575257,-0.07301552397336367,0.01767716110776459,0.014880721072624038,-0.037778443461020016,0.030290777578942156,0.06934888194067407,0.03210303676025997,0.04009492849778852,-0.002210565706992836,-0.004680774521890415,-0.04128768816429636,0.06957736479359225,0.05119708580087139,-0.019214268498116333,0.018256902663559962,-0.08706382965587008,0.03389071607228711,0.011315998228558695,0.003802825385366498,-0.07506422771003433,-0.017263269991982477,0.01236457764011974,-0.0179704005054472,0.04890239160989166,-0.05387694955263063,-0.014700578452891813,-0.07058803236810783,0.022392436180473593,-0.062273757078268155,0.03970478652866834,-0.04921749303677202,-0.05186789264673307,0.011681894766853138,0.04620074731040032,-0.04615789547005461,-0.06543477199884998,0.03225141985158609]},{"id":"chunk-7db5cddc-166","content":"PydanticAI provides a way to add validation functions via the agent.result_validator decorator.","metadata":{"url":"https://ai.pydantic.dev","title":"PydanticAI","chunkIndex":166,"totalChunks":208},"embedding":[0.08103536498618402,0.07076119872210769,0.008616949325407058,0.03905759658692352,-0.036190736995769766,-0.05499971701719098,-0.060823415056602805,0.0745459646403573,0.08008439463551173,0.06464688923778009,-0.08218538951761506,0.0018081418328238718,0.009325630911824602,0.054949455066375656,0.07115909552368084,0.08346173644341814,-0.007248372645634724,-0.03393823721503953,0.07703024572142998,0.05968018381949796,-0.034459748560619494,0.08690681264870258,0.006833019788768097,0.0855656694540661,0.06712328047360695,0.030940008195050387,0.038307363372888065,-0.05569892134557641,-0.03521017624921383,-0.027292858176460884,-0.017638402917575808,-0.06436380473089488,-0.07701141803867487,0.023985310621929833,0.015980693369610173,-0.04719317984121804,-0.005209211893624626,-0.04255495899630152,0.04178811147084409,0.004208428211661989,0.049090268002965835,-0.012438703195331795,-0.057010502102638694,-0.053944685420716273,0.08302924629988233,-0.005023118759146141,0.08294905509672403,0.05378809749857115,0.06272376812480213,-0.05281119199556694,-0.004473040008764522,0.066774272401413,-0.005492019390023616,0.005648808024347415,-0.04219412168944606,-0.08788077293467056,0.034179115113945786,-0.01685701850800305,-0.021093293363420414,0.0866032674572444,-0.03835434817460287,-0.018399363600072736,-0.07051828158255348,-0.05369581864478893,0.02337234515359823,0.08062786125377146,0.0024879076517110572,0.040169097973161066,0.06850271639431901,0.05744163040991468,0.08418192304060594,0.028976207387888697,0.005096678576372113,-0.01611854846262636,-0.010860357501829856,-0.06555426725186854,0.08688262601668559,0.013928254996423842,0.017163932703193777,-0.03763229355334932,0.007925561904361545,-0.04058180820159428,-0.004224356110751972,0.07616531159098451,-0.011948365480717725,-0.036013721543208956,-0.04006336257252724,0.008329064143111336,0.08728533945524702,-0.015717539768871632,0.006864475866419645,-0.01153123173448206,0.04960775854539026,-0.04908759628303406,0.03216760151379277,0.05035105765726879,0.06687345481329787,0.06924707360781894,-0.05603051861626939,0.02192146514124021,0.004905309935118213,0.033609078961855325,0.04454595703194895,0.08136275247648007,0.08711637335541536,-0.001225927136163721,0.02155870974949974,-0.07152895038007107,-0.06935899016817396,-0.0363124668247172,0.0007610763087031462,-0.06768175460183419,0.04232141873422688,-0.016783774784479812,0.0629531030733919,-0.0624427963011771,0.069799811262288,0.007385662831607793,0.013209112821139566,-0.01784350646946538,-0.051379858442189466,-0.01965179395447164,0.0765937300181135,0.030029130974677458,0.03977946441662793,-0.03393528744496492,-0.035541933016388694,-0.030798769564551548,0.04250130484606514,0.02563850287920888,-0.04650757526938561,0.002644699230806874,0.08404286431584201,0.03344316621607183,-0.0395877401878408,0.02871423303457318,-0.06919377218121939,-0.046642140654530734,0.03971354742234276,0.017948097867828285,-0.053243099895541185,-0.08753583813892846,0.06041518088411688,-0.02076466033270376,-0.08675732796678341,0.021564849799178023,-0.08510186829626874,0.07518547930944736,0.026607982979606825,0.02022331983675044,-0.005108763228281924,-0.003462792911749089,0.035295329749023795,-0.08258414327853442,0.011412513269284207,-0.05688026090820192,-0.015602904480486792,-0.025472270587148897,-0.031658188890531826,0.024829866857402988,-0.007637421451716824,0.05049064107023006,0.05301859787668098,0.06982115126298542,0.027918968874489122,-0.07657889847863297,0.026632332326128626,-0.011352995859646806,-0.08438943236747537,-0.030116263267671035,-0.06147314628968853,0.03264818219004449,0.043038667001723624,0.0062028353733950626,-0.0724814526400701,-0.07645467215822323,0.06354339066682546,-0.038574097574608404,-0.05214740089129749,0.008271203730345357,0.06442184332343821,-0.0484530496814341,0.00873381528727898,-0.0376475455015222,-0.012315067574354941,0.07211653269785279,-0.03667818051181273,-0.040256478760253074,-0.0732160825044296,-0.06175289182350797,-0.05926407222035836,0.07562730555838425,-0.0346523696252736,0.04842287067034649,0.01881606689073562,-0.035057693080137384,-0.01833685192301264,-0.05265885586785546,0.04419832690777231,0.07758776251471912,0.06633697222779722,0.02167455759076479,-0.029852788107551435,-0.058035386598139595,-0.04181715033744779,-0.05559415123324596,-0.06909864358242838,0.012479736538914033,-0.03513073774177884,0.019440594160981282,0.05162137421980916,0.022891100630660213,-0.011659761837758046,-0.03673499235240972,0.08467191122540293,-0.08777462342265199,-0.003664735501608064,-0.08472060125314769,0.061662382860174246,-0.058623365298256014,0.01603389633824985,-0.06076420844511216,-0.02639952106658341,-0.06314960491983918,-0.0713018892361569,-0.057662628410177955,-0.07024564215481664,0.05241371750885668,0.015519299355052503,0.029416990562219126,0.012549681289028483,-0.03698898666202507,0.03708867113941409,-0.04908487365497167,-0.0548310838910005,-0.08559269333416945,-0.08743742132334235,0.08567968894151907,0.08659885245172069,0.00004720248272361278,-0.05793285929657136,0.059133243182103994,-0.0670772950105506,-0.011302500209637474,-0.06824078515134929,-0.061007357565054474,0.06235868510891279,0.04407539069479541,-0.023244908283480813,0.04805703981825252,-0.003144207991889093,-0.023002585726709872,-0.07250412408175264,-0.08296199389000967,-0.015900689806792573,-0.03453761108909087,0.08288290954688086,-0.06150873659995812,0.04180454495342057,-0.04240014253557136,0.085132705594672,-0.061619435199122136,0.007575902190525347,0.05039866783029325,-0.06823017636652585,-0.03791722840213638,0.04222429388955853,0.00012348144389407497,0.057412294147665646,-0.07757627761651216,-0.030793983920116473,-0.07073370738648882,0.03223625022261451,-0.030578310198838513,0.040023105489085276,-0.01156972727821302,0.05968611157807581,0.05096338843130546,-0.07257622614019213,-0.048814689556487385,0.05336728097144466,-0.041812498586489714,0.01543624116661961,-0.08364298545893652,-0.08695398491073443,0.08265677627043203,0.039214795761662744,0.03305351551968608,-0.07209077389177225,0.06863841683369905,0.06315770901196245,-0.017341206043647597,0.0576123783814895,0.016469166064753377,0.07287614133649685,-0.045767623073296716,0.08392589377970638,-0.031202945896054227,0.008578692392835657,0.000870258045182927,0.023980765164381405,0.06368563940404795,-0.02326975422190739,-0.00922768905834057,-0.035539402961635325,0.08503798792020688,-0.05541553578920568,0.06878763734239916,-0.023036882816677505,0.025328081048985936,-0.01750056773021573,0.0318850964028749,-0.07146625537195661,0.06428352612793004,-0.05840745144493861,-0.06205352412973913,0.039980932708752144,0.07724734306832846,0.053507956603791255,0.03522139982507641,-0.014032388771203403,0.05392428725587998,0.0628445268667641,0.01788955766456059,0.04498057043013428,0.01980606411364392,-0.025707022356126277,0.05624904441802308,0.06724556313281031,0.02385928794575337,0.02091076731542758,0.0392733887588889,0.04999119652254711,0.04897697565156698,-0.03319033075539863,-0.0627921064775552,0.03437841830936138,0.03237909881942377,-0.019211927737212628,-0.06501630653250359,0.07455612724222098,-0.00036125648562618554,-0.042236450623741775,-0.038350102552300404,-0.011906508959069008,-0.020965816690231863,0.05631660196679871,0.009857645426587427,-0.006750735860177589,0.012854633938902394,0.05185080409431461,-0.009472274079656744,-0.034049678122521694,-0.05145927146963574,-0.024758250991501533,0.04188473276672336,0.07556189047558298,0.012398380783984088,0.01327356092669549,0.07172469703294675,0.04106672059314328,0.010233394828070397,0.0606642066953055,-0.0735126009149505,-0.016810565893351125,-0.048639236666646955,-0.0008871983539692255,-0.05345081303543681,0.07239271023666717,-0.07955434351222836,-0.0439308613610947,0.058360866553982226,0.04963975876767122,0.06476938104943138,0.06366564813044749,0.011766219504836006,-0.058830392674744936,0.046200018171986226,-0.0563343440331963,0.08737617070097684,-0.08334547537292429,-0.07349141998163856,0.07008433469268424,0.08593917686233428]},{"id":"chunk-7db5cddc-167","content":"Here's a simplified variant of the SQL Generation example: sql_gen.pyfrom typing import Union from fake_database import DatabaseConn, QueryError from pydantic import BaseModel from pydantic_ai import Agent, RunContext, ModelRetry class Success(BaseModel): sql_query: str class InvalidRequest(BaseModel): error_message: str Response = Union[Success, InvalidRequest] agent: Agent[DatabaseConn, Response] = Agent( 'google-gla:gemini-1.5-flash', result_type=Response, # type: ignore deps_type=DatabaseConn, system_prompt='Generate PostgreSQL flavored SQL queries based on user input.', ) @agent.result_validator async def validate_result(ctx: RunContext[DatabaseConn], result: Response) -> Response: if isinstance(result, InvalidRequest): return result try: await ctx.deps.execute(f'EXPLAIN {result.sql_query}') except QueryError as e: raise ModelRetry(f'Invalid query: {e}') from e else: return result result = agent.run_sync( 'get me users who were last active yesterday.', deps=DatabaseConn() ) print(result.data) #> sql_query='SELECT * FROM users WHERE last_active::date = today() - interval 1 day' (This example is complete, it can be run \"as is\") Streamed Results There two main challenges with streamed results: Validating structured responses before they're complete, this is achieved by \"partial validation\" which was recently added to Pydantic in pydantic/pydantic#10748.","metadata":{"url":"https://ai.pydantic.dev","title":"PydanticAI","chunkIndex":167,"totalChunks":208},"embedding":[-0.05130266078265108,0.044336080205962004,-0.015356430801719372,0.024149315057282968,0.0466007874957343,-0.06281304011430547,0.0319905602162816,-0.08033741196137219,0.041174117537247173,-0.08418202486737712,-0.07372923555345136,-0.068064528612104,-0.059173784973841036,0.00735189696541628,-0.06082497295573655,-0.04788858707434387,0.08437235964682988,0.03547426912756955,0.00418708826064431,-0.026855119653969108,0.060602448390580654,-0.08032235722955246,-0.05922039884985808,-0.06193620227621394,-0.06879865135168797,0.010303166373034862,0.020224340220058465,0.03758439686076129,-0.04933826502424015,0.03625061586065615,0.0682605062560667,-0.014745571424299388,-0.0011033227607000393,0.03156825252454584,-0.002132356999876378,-0.05085522876527828,0.08709675401154919,0.04614628385570794,-0.05042464543499055,0.019365833712527616,0.07479966346973589,-0.038889457611056694,-0.05094473446088247,-0.0533119504534847,0.02137580324360278,-0.01920753520045098,0.01851621660111375,0.08481651312255314,-0.0028924200873416705,-0.0509874205178702,-0.04502199387027172,-0.060049652025526125,0.0367571923713775,0.03270368117848453,-0.04991033977253018,-0.03589785494827895,-0.016739373343314375,0.0627385020601034,-0.06735944379462949,0.02273907251098871,0.02882829125925861,0.04810004905126596,-0.03397336314944025,-0.06430351627145253,-0.07078398468080398,0.05867726207465903,-0.010068271112668836,0.023842093429791527,-0.01017824874155505,0.04154434597415375,0.07654111455380633,-0.07297066427157917,0.07607069304108972,-0.023307068912903666,-0.003959592870375325,0.029315710760030842,0.049532761342055524,0.08081844582662331,-0.059431589735075986,-0.041814234496960305,0.002014704814709958,0.016581176117785205,-0.02079913468227407,-0.062330210968372435,0.050046384315519096,-0.014550305194193583,-0.046912582699912386,0.06377153814255336,0.024098339930736543,0.047191267073811966,0.04407514030789333,-0.03602647936535887,-0.06411055082752692,-0.018034435402321695,-0.044895371480680464,0.03666233380619514,0.009396178543102976,0.005787748602679044,0.0033673913674159106,0.009996350115562373,0.05365416137283276,-0.013102485897481387,-0.06755607782304611,0.01275699399338327,0.02755195031449821,0.023875421485922154,0.052463764561493584,-0.07797360578845844,0.051131155709249705,0.038634652175692036,-0.062264562040971694,-0.016957052398978566,0.05559433017543072,0.07357346438156448,-0.03535029767875409,-0.02807064364286428,-0.04741155673937303,0.02103348394012283,-0.05302513212274533,0.03708360420617578,0.06618476546157905,-0.06065806939249191,0.034968017837553794,-0.07290819425269277,-0.0878394573965217,0.06457817977899824,-0.05030035464006219,0.06672321933972132,0.0792760220565134,-0.009108261385011394,0.058818451591403344,-0.014166504316722388,-0.052738503349098936,0.06073190693723783,0.06368538677532694,0.02307869992866535,0.04668353683600315,0.035042215981615554,0.023650785921424167,0.0252776578696149,-0.04128666095019071,0.019182880720984674,-0.0809641146872864,0.07136969942748451,-0.031236511621169867,-0.05353742224354519,-0.06450530519072477,-0.07170589822762795,-0.08584539120201896,-0.03283222109804066,0.08240241958230417,-0.0776292657262758,0.06858672388825729,0.03941093622446082,-0.030088212652577176,-0.001596269513111666,-0.05003187225945167,-0.0789930932255033,0.029173517905163177,-0.0027279672173581367,-0.058822511110508575,0.001544754386551576,-0.07864479844448172,0.0004983210442356192,0.03985193259987059,-0.042323560513499434,-0.06393777850732989,0.041411775785029484,-0.0033553546803453695,0.007839167731057098,0.02747006786141425,0.05003205106742283,-0.008545449025293651,-0.012796870135034605,-0.08047023482935496,0.061239436160667064,-0.04266633190729688,0.014842845973617838,0.07987942873180241,-0.08076401314056136,-0.015188414950600575,-0.06903513622082932,-0.02428189411580512,0.07356869974973161,0.060605909739855024,0.0809974206303041,0.05826612556470329,-0.026298709255086535,0.07353468461084714,-0.06799067274092084,-0.06113301166840019,-0.048284861911517096,0.05053379453116794,0.05829123346168549,0.05070079582243788,-0.0730387654860523,-0.023831111016737565,0.0649241730138918,-0.0799936218096291,0.0764317359434196,0.022531456703607122,-0.07328516087513777,0.08653994585976384,0.004318732168673614,0.05067138241265424,-0.07348904718431273,-0.08070018836883627,0.0875057003526523,-0.03839783618396449,-0.04177593392246354,0.0033709514711261113,-0.041657317183830124,0.08220817732988644,0.016137477532805682,0.026727871996451907,0.059564565594846894,-0.03210079387605716,-0.015846814007138332,0.06886930100256299,-0.06621196503388507,0.044653911026994716,0.07918364684922463,-0.08074573059120857,0.014008790874428629,-0.06620980914219536,0.020590644477821177,-0.02146145202595019,-0.002804691871640175,-0.03716224502710733,0.02333281019255731,0.0777506266984583,0.0706056197547771,0.008390794360479308,-0.0658395580103804,-0.06019962172788974,-0.08668760598658128,-0.08194656363269982,-0.05090311149453519,-0.047929157871629,-0.07397170514210356,-0.05528927061210656,-0.056851870872350434,-0.026205261099668094,0.04740214216301051,-0.08170199495152224,0.08131362264592347,-0.046711011553682326,-0.005497882619206517,-0.06222804273849888,-0.019774576089512077,-0.05924584512533295,-0.062348644352986135,-0.0013230804720423639,-0.06033985770932423,0.06822130490794202,0.03944142619515182,-0.004573597333051319,0.08301358832996669,-0.06218449642835623,-0.08475781595920988,0.013970542587288321,-0.008488975710734644,-0.016273249206110636,-0.04847080139751729,0.023434971879494133,0.0713406858855283,-0.06312099476941564,-0.03539975508226073,0.07702217622239436,-0.04980279189623216,0.023170877118161584,-0.035884209011330284,0.017754092575143977,0.030587325593124017,-0.013686740902826804,0.011117423165403276,-0.05805114528357307,-0.05641141484062608,-0.06429923347108742,-0.004287885901310558,0.054663957197642006,-0.004313717362385496,-0.04281797839482144,0.08590614831733699,-0.030910320289658195,0.030519410174834536,-0.035129114862367125,-0.08243978258663154,-0.013475475058327567,0.023168754462168834,-0.025618122121877394,-0.03057430198481292,-0.03634085037068683,-0.005318226750771351,-0.014509241546432657,0.07090007742939654,-0.03381231012321978,0.07693365345970866,-0.03794847594312194,-0.058194950625792434,-0.08508794973848348,0.02577714515694821,-0.07279485846386717,-0.03454877589883696,-0.04092924442412143,0.019042500425824112,0.021355050145947112,-0.06594934837708251,0.06007262829639459,-0.014864562610822743,-0.040318684808229394,-0.04343502771889364,0.06948799369583467,0.07030001106942282,-0.0754965343672478,-0.03371683866721952,0.0495667346984153,-0.06495493107817842,-0.0311956184313538,-0.027593994606955607,0.042715934846960756,-0.0489806731620732,-0.07585880568462879,0.029464043281448703,-0.058325973974034606,0.025695453419943445,0.060458809838912546,0.04462751352923741,0.04433123823449149,-0.020778580519629733,0.07905268975711606,0.04522146501497602,0.04799704146550598,-0.08109166642054717,-0.03340926667128361,-0.06913667211438239,-0.038726529316486395,-0.022122363345631245,0.05310929121886882,-0.04948467621628442,0.03152715677797156,0.016859191167747214,0.044714939684157656,0.02688464213630925,0.01911032288282709,0.013815329987744013,-0.014702488437931755,0.030431483693486815,-0.01505173812014116,0.07650714800501415,0.010551979287053433,0.05298979803903192,-0.03125967760352933,-0.009373590106885892,-0.009145080079729197,-0.0006022841942620854,-0.0817460144484948,0.02683602831133093,0.025665525195003012,-0.004250238895746006,0.05876239798880236,-0.07871825137765509,0.03389389552210676,-0.044633504424859555,-0.04921479025385843,-0.05276594960088307,0.07896470486158103,0.021345648716800864,-0.05912933170778288,0.04270217444629771,0.08008244217006812,-0.03146073285161415,-0.010491576293941879,-0.03010230196608474,-0.026131672624026082,0.08415709535345119,-0.07666186576925117,-0.06488027653258661,-0.07709079742994392,0.05686075126421151,-0.06027841869119407,-0.06228992826066894,-0.033065412974381626,-0.07981501424297789]},{"id":"chunk-7db5cddc-168","content":"When receiving a response, we don't know if it's the final response without starting to stream it and peeking at the content. PydanticAI streams just enough of the response to sniff out if it's a tool call or a result, then streams the whole thing and calls tools, or returns the stream as a StreamedRunResult. Streaming Text Example of streamed text result: streamed_hello_world.pyfrom pydantic_ai import Agent agent = Agent('google-gla:gemini-1.5-flash') # (1)! async def main(): async with agent.run_stream('Where does \"hello world\" come from?') as result: # (2)! async for message in result.stream_text(): # (3)! print(message) #> The first known #> The first known use of \"hello, #> The first known use of \"hello, world\" was in #> The first known use of \"hello, world\" was in a 1974 textbook #> The first known use of \"hello, world\" was in a 1974 textbook about the C #> The first known use of \"hello, world\" was in a 1974 textbook about the C programming language.","metadata":{"url":"https://ai.pydantic.dev","title":"PydanticAI","chunkIndex":168,"totalChunks":208},"embedding":[0.015156507517527123,-0.030351189266893695,0.06473672594026651,0.08526076921106225,-0.033329345396976816,0.0402074728201656,-0.04656122303551485,0.03258575339128503,-0.06435187248357682,-0.016583863904961513,-0.061734531872097556,-0.06522580627803294,0.012927950996543505,0.005029382051273059,-0.0033945982871872106,-0.029951962789120674,0.032012532310781425,0.08067163853570829,-0.02022346430802802,0.017068814862227395,-0.04645035128206803,0.04325117896360942,0.07288040939407582,-0.056864889820286244,0.08556877769331728,-0.015319649051489444,-0.07259100186909888,-0.033926506025449096,-0.05777043723129295,0.04829700316693265,-0.06683929970337517,0.07292314040995772,0.05961260702845617,0.0847993667142836,0.01825461225232557,0.02315236716161602,0.0088152924714853,-0.08463724599894497,0.00481614908344452,-0.044909420029201105,-0.0038810336489483867,-0.062182724118483114,-0.08188337095298383,0.03540965052131413,-0.04495262892142259,-0.028522009460655594,-0.0010266446274293252,-0.005205376467800948,-0.0169963157987545,-0.04455487826653506,-0.05519680069563648,0.08517078925989406,-0.06479322016641459,0.08412932240108635,0.058960784482846154,-0.0315630890353959,-0.08720999532185136,0.023520723714312717,-0.06999755492821756,0.06411540686583087,0.04253798981806133,0.04674443178404727,-0.015569548280390245,0.036692870919725416,0.01711383625295037,-0.06365282603657964,0.07612749327652196,-0.06112431616229093,0.031145191700225127,-0.02417926037367366,-0.0479503699926844,0.020015056107915197,0.03694997778092787,-0.08298502100232807,-0.06310024435617431,0.06852974851126677,0.05376248504422764,0.07891910173701829,0.019509922246790816,0.030389125907943983,0.0136206278897677,-0.082729349050739,-0.0005639570036483107,0.08708477209291875,0.07823204755654498,0.060191349321204124,0.06753357538103556,0.041981759996116745,0.007364367318703264,-0.024251471872819046,-0.0021551318931139897,-0.07044599094333913,-0.08021720814057737,-0.06608622198317794,-0.06225503575696292,-0.056015708068856335,-0.07366087334725464,-0.007455785676471805,-0.047834593398468205,-0.05142957072748563,0.010417429357912365,-0.01147973475954942,-0.015205045484736978,-0.03410924584824064,0.044603506082545985,-0.006574053617119593,-0.009350708149159776,-0.054845739684099774,0.0011680734281385966,0.02910989008996237,-0.030437591815869986,-0.06298682883548601,-0.08529898285840559,-0.06027765540099481,0.051454359149486616,0.007562956740098312,-0.042957577274441765,-0.015850002449263514,-0.04728717052965175,0.08130800343817683,-0.07785090418203781,-0.05191460064139954,-0.0025560492215081295,-0.07922249973861856,0.07584392722875817,-0.062290536606996044,-0.001159570277576847,0.059413896207962724,-0.016974172872135262,-0.051923013825689764,-0.0476016241247267,0.025284613211085907,-0.00757923924392238,-0.027215931612695626,0.05615881216609827,0.06802716684526483,-0.03898364201160046,-0.018093782916654016,-0.0705214329951052,-0.051430796306799725,0.07620089257170028,0.05895644896540267,-0.024441011677026395,0.05769369251460506,-0.0431207778294979,0.06626268189461124,-0.022202892380994217,0.022938741298958357,0.04558768390649693,-0.07002938067490073,0.0010548405762876845,0.08487740547811436,0.07057453630024554,-0.03121642883520806,-0.06705644887478276,-0.05277682736392475,-0.08422089748618314,0.046665107483296976,0.04160346575776628,-0.07751026860713202,0.05422006407206745,0.08460519649435312,-0.012189767003768988,-0.0646994839283067,0.004749670486236191,0.03309516305281997,-0.047772403723462004,0.051396754393808725,0.029788595174570727,-0.022124669377951846,-0.004404415294709972,0.03727176949189096,0.05680681579778374,-0.04319492065114353,-0.06889610762158621,-0.010850279407175496,0.07923265788894304,-0.047089476466573923,-0.005554782824847661,0.06558852152179402,-0.058111057117031156,-0.06883876893261597,-0.08294510190384025,-0.08484583591531167,0.028793421957147396,-0.06386069977004888,-0.036378913769651335,-0.045038060218598845,-0.07365827099105555,0.07404690915611173,0.07474285410786155,0.05972539471397826,0.052978787188507306,0.04000427670635971,0.01810358701100893,-0.07395477323181661,0.04137756711949466,-0.07396162080200538,-0.028251490999349486,-0.020822494588783252,0.039353271141551835,-0.056493799464904126,-0.08712031875304081,-0.06687713047887206,-0.01733227671610068,0.05332793264024937,0.049286911841896264,-0.022350365938852642,-0.05621718478077021,-0.022849855995051894,0.05862586893969354,0.08172335759529264,0.05852839384683406,0.038794226473700774,-0.017840708611103068,0.011482264114004138,-0.05164428293570964,-0.08143598535943872,0.013167831674525126,-0.06274929931471293,-0.0865936659336646,0.08088197829775368,-0.01777320345460623,-0.07338827373701017,0.04644976993267394,-0.037869681623003484,0.07178504100839057,0.008770807067264266,-0.048496838433636225,-0.025273840527013064,-0.07468013620150578,-0.002875687459458356,-0.08162276910023393,0.003507357470139851,-0.08182572870562872,0.07530994719478833,0.0743723942309343,-0.016170244335471803,0.044085955069078586,-0.014747196802065796,0.07849815575355443,0.07170294991627399,-0.08282765797621644,0.04254117235140876,-0.058596111036006024,-0.025358512191815848,0.004494075635424476,0.033500977691896916,-0.07999895838199554,0.07415259248323812,-0.030302650907692606,0.032060734618800144,0.07909429952789228,-0.053180452185819946,-0.03169371050014996,0.020165617256991945,-0.0037867622539687323,-0.05310123569471556,-0.04911679518354361,-0.02707494361907838,0.004311159047568619,0.014511966398829247,0.03365263630181554,0.047525002405481076,0.01252296015758363,-0.0018077740524950832,0.014751862587274234,0.004468292171614348,-0.06450465862792545,0.08070717391452172,0.041549753384763854,0.045565210063090424,0.011835245129383427,0.0022498607639149194,0.04410928092613558,0.017561263323998585,-0.06761304845043088,0.020616533879737584,0.022827251015427614,0.06892225924640744,-0.056953856085715876,-0.05503872160711194,0.08112558568908984,0.08128072876453633,-0.0019545766010153147,0.05349689861999265,-0.050605556330810646,-0.027453540327625585,-0.02454640686180281,-0.03895319485724044,-0.04204816413568267,0.043375647782805324,0.043996859055209635,-0.017893851219273893,-0.06967800077579785,-0.07792856839451592,0.052776888671260645,-0.06564899831717595,0.03079884290177652,0.04963817034991189,0.025758001203616307,0.05171942291500096,0.0684381219942549,0.0869613583922141,0.04821027163776602,0.07708329278383982,0.0020082590260500194,-0.02551869037833118,0.021911649863231256,0.044037910231521635,-0.08700418439030068,-0.04501107104212103,-0.03247346890768495,-0.056197031406970924,-0.00266226610121356,0.016069469993339393,0.0285699142419869,0.02083356201199341,-0.019765230264500888,0.023973604315147078,-0.03239875501252452,-0.05758093028662136,0.03140543860602256,0.039963060429161666,0.015648816503233035,-0.06756989094554756,-0.04324420218685944,0.03278873638051954,-0.03498891629497347,0.042569137564188696,0.07430811616694429,-0.04674146830501115,-0.028394288145086957,0.07239376965021066,-0.06198459582644096,-0.042940970388908095,0.00932354271305393,-0.038903306850881995,-0.06210348145200936,-0.005679164812512134,0.030133297896173226,-0.06790414262084818,0.07253564934482606,0.004290701741755431,-0.018851636877289482,0.004924217432298421,-0.02187508275674631,-0.004254736207053735,0.07818081980973116,-0.0611678661633308,-0.07235367211464774,0.07015860445810412,-0.06438860026093923,0.03436143471678084,0.021354080033131904,-0.04257780605549515,-0.022214555634460207,0.08030465974185762,-0.0644447955491147,0.08520467035518936,-0.004966731096734603,0.03276720610459162,-0.08273237342452676,0.023957220543695125,0.02307983676236225,-0.06527411146415912,-0.0644570043021971,-0.011995862839600217,-0.04876222621373524,-0.044795402956132796,0.021610469368736045,0.007163612673362653,-0.0299962221750983,0.03580740794507014,-0.050904149860037405,-0.005696211392876583,-0.06576566007856191,-0.045063098843203295,-0.06498398850065264,-0.056574386592464235,-0.00592287339348642,0.020641843049601094,-0.0009674721260092714,0.07201300233822912]},{"id":"chunk-7db5cddc-169","content":"Streaming works with the standard Agent class, and doesn't require any special setup, just a model that supports streaming (currently all models support streaming). The Agent.run_stream() method is used to start a streamed run, this method returns a context manager so the connection can be closed when the stream completes. Each item yield by StreamedRunResult.stream_text() is the complete text response, extended as new data is received. (This example is complete, it can be run \"as is\" — you'll need to add asyncio.run(main()) to run main) We can also stream text as deltas rather than the entire text in each item: streamed_delta_hello_world.pyfrom pydantic_ai import Agent agent = Agent('google-gla:gemini-1.5-flash') async def main(): async with agent.run_stream('Where does \"hello world\" come from?') as result: async for message in result.stream_text(delta=True): # (1)!","metadata":{"url":"https://ai.pydantic.dev","title":"PydanticAI","chunkIndex":169,"totalChunks":208},"embedding":[-0.011426289860373126,0.07299646708206348,-0.007715213886522811,-0.009552116064886196,-0.02332718607241345,-0.08510921327308497,-0.07196028944951188,0.01211687814511597,0.060510979797202415,-0.010046342175375053,0.016022753956110282,-0.004690167734639585,0.03995526000938383,-0.05866967031759457,-0.053951247167886386,0.03377565502181605,0.008502598299010535,0.014979531162115351,0.003944374626265954,0.04386880217135677,0.07463945368250327,-0.011039962418835722,-0.061772229228850055,0.0039013906978936875,-0.05228874804032527,-0.03818398062804827,0.07327183817678043,0.0321206949516008,-0.06490438307256614,-0.09013963325773829,-0.040356750982100224,-0.07679042772399788,0.03426313482226736,0.017637682624874168,-0.050238839911379854,0.05149499443730809,-0.0315884032119396,0.030182893458724262,-0.022691093196685053,0.04353948087061861,-0.06980630210854318,-0.06312632834106141,-0.05057729274854433,0.012491776196664311,0.016461505451254948,0.06022067896841179,0.020865427795058615,0.041867526434758065,-0.07939259775547483,-0.083487444690271,0.0451783791441257,-0.063254140367303,-0.044071639924570374,-0.022132073772977778,-0.02524306753917759,0.023496244190900458,0.04505465424684759,0.06604535542487033,0.07069582094795893,-0.058917881334827546,-0.059787091723004816,-0.06057885902787192,0.08139387375347411,-0.017744898581647066,-0.012807639885818695,0.0582952594941335,-0.03492803058339653,-0.08433793290735658,-0.07819958958728189,-0.0003059778928381361,0.042001242491564915,0.05719217293623046,-0.05125973413241677,0.08526072993035379,0.012329792727796175,-0.05425399020136601,-0.04244354114431602,0.061885524095310666,-0.02565213809042656,0.06758630209604703,-0.06297052379474366,0.05364769918784056,0.058686418203758285,0.03591017215644022,-0.03987004955353758,0.016554955326307793,-0.06559450226377289,-0.019075237411119685,-0.06287000935240639,0.06857622319205743,0.04214573474117855,-0.08768966363320141,0.038601234390399614,0.04762886427847073,0.08438280697821932,0.024589974563879853,-0.046305717831027576,-0.05762970288025783,-0.012994780775930683,0.08911475133733048,-0.006718159516687663,-0.08928973879099583,0.008001505207901903,-0.015593401809524305,0.025084642860035245,0.03070593669591439,-0.053598049369324996,0.06771799762128,-0.07660250641734925,0.04991998453048859,-0.0865054506362824,-0.013050332791088397,0.08828685774658646,0.04214310430515127,0.019037006787394322,-0.05068579766583734,0.03538181651322263,-0.08559609796733733,-0.034426838639869096,-0.003285699323067708,0.01101654982307397,0.06640359600486441,0.05080467354382458,-0.0017031953008933088,-0.08652892103921878,-0.054021387464622615,-0.00946368259674776,0.04164192296321696,0.016677577711943833,-0.05492763596095189,0.07714937726847908,0.03142747053397888,-0.0593209687617584,-0.08213603342475323,0.04822760090524316,-0.04539762841744444,-0.034033665943900115,-0.04714161463640082,0.05551919775396896,-0.08295460154106249,0.04796183448581277,0.05458474085924888,0.04776775806967625,0.01563851570684106,0.075806733464601,0.02499016620223021,-0.06420249540853352,-0.027191081869398247,0.07471938820668113,-0.07153094520351712,-0.029355021225798972,-0.053917298984907026,0.06386877149462553,-0.04490619374922063,-0.04424002131743483,0.03572860231532556,-0.08836156046302586,-0.08253061214824718,0.006657244828865132,0.06380405599149719,0.004009745647464308,-0.06286185030168204,0.006454046769609457,0.08614728080868148,0.018404244609500037,0.026478329339397828,-0.012046055292383501,0.01867839450880796,0.08231181809611018,0.07929762794700192,-0.038804994956163394,0.058689111606676246,0.09045132531197768,0.07665307930528452,0.015967578552854002,-0.008377777100269249,0.03596409197969125,-0.028807503203210745,0.03110413731030874,-0.021855582259083618,0.06283462850548892,0.001593970206167725,-0.031581686411131536,-0.020010935473224377,0.05157866314118982,-0.05783925315379369,-0.02896184640995623,-0.010978855970134534,-0.05967102918896674,0.05260065150592007,0.0317481794616929,0.07763265072849704,0.08200497348944236,-0.002833558088424383,-0.017621987396906014,-0.01228437799228411,0.04555758844646171,-0.053848480932900296,0.08305520808389048,0.061302310786212275,-0.05659953915513365,-0.0025972143551622915,0.006966434602475076,0.03120592962724462,0.02597382246502987,-0.031168454768830962,-0.04012731346768209,0.0429040774312287,-0.015513845903433401,-0.0627602359285905,-0.04307178225427703,-0.05839812777683699,0.08480894033191207,-0.0800435082359253,-0.022288480587204826,0.08483225155121134,-0.009157886918724554,0.04098434692400794,-0.06716424959222562,0.05153972541846336,0.05059346172496412,0.04800794934728245,-0.017337818730692747,-0.026438436155742123,-0.03513460061706135,0.019868853440986475,0.014034048717970598,0.035645968573488195,-0.04158784167630293,-0.04259195267856005,-0.06671004712038726,0.014210222576713573,-0.04079364655622243,-0.0005625508860652309,-0.07013331591911619,-0.07330007970639581,0.03995604523284255,0.05794260507510485,-0.008921545626629073,0.019390269165983652,0.0487229704698406,0.014182575444146165,-0.07566922171618252,0.0631518218998752,0.010576615322871498,-0.07103752771641529,0.021894758807189715,0.025424758477050897,-0.08965943452018024,0.006181326571590018,0.013193582222284093,0.05815193225804299,-0.08612848510214148,-0.025175270188755577,-0.052311592894214866,-0.05759456493005652,-0.07529132355523055,0.02131181898030108,0.04700698188964981,-0.0634829675319064,0.07066661369293152,0.011347562184807506,0.009906739200590556,0.038969669311814545,-0.0067511859414105075,-0.03242121946507651,0.07584649340368307,-0.06845551431847695,0.03253915086831105,0.015001015909652122,0.020955397299073406,0.08723472565620188,-0.056648623850828715,0.09032982849523567,-0.07000684876922543,-0.08485423333384656,-0.0386798804958503,0.05241293980149066,-0.01135230385865318,0.05360772738922015,-0.05828374359662082,-0.06788514751561511,0.0062814296325372845,0.04893138044056893,0.07228523993312701,-0.030966121689412172,0.01443513607292683,0.0409359184760472,-0.059726955694216134,0.08374719223160582,0.05319749997204344,0.03908187345676262,0.009704577306415016,0.046053277835355275,-0.008403062422595297,-0.03928355206758565,-0.007827600606545715,-0.04710654297288976,-0.04981140009397105,0.015411538300317431,-0.03175493273821934,0.030943800225305653,-0.005289226505936823,-0.026498311979583376,-0.04196134957038075,-0.020025878565171924,0.06718696923855871,-0.03705711042999287,0.05368248661147456,-0.08868105832050434,-0.05998428529421267,0.024014017701287412,0.08302660573861315,-0.005570763159233965,-0.0011116387955327441,-0.04335674756152301,-0.000014304600009564864,-0.031374136623790926,-0.043222733748378366,0.05940523986156198,-0.043281584946947636,0.035969387470638665,0.022937035150542698,0.08611450262853251,-0.03827793043733208,-0.01534251988942938,0.037576799075540956,0.08405081653740479,-0.06617364610727068,-0.017202437701622924,-0.017499204068430918,-0.005508756192575959,-0.07798094519047176,-0.07252253737231792,-0.07870716411331913,0.06467896800043903,-0.04793998797595348,0.08548271152137471,0.08272328904015558,-0.05827492383791712,0.042517357572282324,0.047277817741507785,-0.04562079584934451,-0.026071325565483035,0.038330465645743814,-0.041215320377255504,0.008643370168036369,0.011887872760191608,0.005665429957407132,-0.06079048888187078,-0.07514061430179009,0.013728534844095112,0.05922982541282739,0.060464491061905455,-0.07092344528291175,0.060639085448861936,-0.06632580855476816,-0.034289237334178185,-0.04250874616478439,0.00907442947667349,-0.05939317349646672,-0.05533443468317373,0.009432707499147899,0.09007032596371478,-0.044548509336322914,-0.04443785354518147,0.028579531587428052,0.014274796330461135,-0.08778009905131239,0.0372310139737189,-0.08655550124340981,-0.04881651033902118,-0.005763084207693234,0.04632887249618337,0.0012402535619957418,-0.07616764714866318,-0.03572046622138737,0.012770887859375626,-0.010092037522662486,-0.08656120659084193,0.09009684545294849,-0.05948625689962053,-0.06913679707275046,0.011119031134653049]},{"id":"chunk-7db5cddc-170","content":"print(message) #> The first known #> use of \"hello, #> world\" was in #> a 1974 textbook #> about the C #> programming language. stream_text will error if the response is not text (This example is complete, it can be run \"as is\" — you'll need to add asyncio.run(main()) to run main) Result message not included in messages The final result message will NOT be added to result messages if you use .stream_text(delta=True), see Messages and chat history for more information. Streaming Structured Responses Not all types are supported with partial validation in Pydantic, see pydantic/pydantic#10748, generally for model-like structures it's currently best to use TypeDict.","metadata":{"url":"https://ai.pydantic.dev","title":"PydanticAI","chunkIndex":170,"totalChunks":208},"embedding":[-0.028954499208597946,-0.03661352872638448,0.03260596935020645,-0.03868676013399544,-0.08685087318195274,0.08390533005664993,0.026902374409895503,0.06242793134310683,0.03767628336225405,-0.012629426414986121,-0.06825615023523628,0.08059102666128133,0.030678138515358326,0.08282026254774479,0.005357432705261537,0.07631779031563513,0.018519764148514382,0.04013959101520639,0.06723221965527494,-0.016401016777326048,-0.0026629427333950463,0.05313565860717773,-0.025825674128764235,-0.08496106910511253,-0.07829175891613543,0.015933414711590536,0.039416069755493395,0.04884180796988834,-0.07655728506774792,0.0176838654085279,0.08645499734443966,0.06620739529442057,0.08533539993128422,-0.06061935742031982,0.02309494270123541,0.041317338078355935,-0.06608240264627935,-0.03718392809063866,-0.007331261635861621,-0.01791225279977374,0.0006919641480312923,-0.02693973476833252,0.07961764229922408,0.06126988920901461,-0.03097230049617123,0.03862918220921148,0.06844881309397456,-0.04877108346098884,0.017809201160373753,0.06240822223618107,-0.004234142775072865,0.05072584386189544,0.06601944641243444,0.01626091290652459,-0.054181609928057914,-0.043277743763690604,-0.03796474267606403,-0.053824080025966996,0.01637274391849027,-0.040756793720880015,0.07897615474197274,-0.053824606258513055,-0.02712323037703643,-0.02753272288499871,0.05189039509328643,-0.044756601020603866,0.02077903611214108,-0.0034470050095558686,-0.0036630559798440532,-0.04003025095701709,-0.08359442141659762,-0.0612691700083402,0.037207151004221624,0.08678925754129024,0.03751419114284217,-0.05667779524528305,-0.02404640531636135,0.054254794196133806,0.013832570913526753,-0.04638772915599985,-0.03513166124586524,-0.02039792212287917,-0.05463311345423213,-0.0016047903182177265,0.012310288042589747,0.0011098628377973585,-0.037409909170457736,0.07473433396110374,0.057157008147243255,-0.01935667135984352,0.06233731381502915,0.07203801632269607,-0.021118127524811237,-0.05298335046687002,-0.02191332547325774,-0.07336716592820991,-0.04054487398869074,0.054761440920555876,-0.029640386531280784,0.026713811262053702,0.04941113959895504,0.08258435320602445,-0.05439606445123639,0.04288641564319027,-0.06669907432517674,0.005227128617607555,0.043508854688798004,-0.07072862338148689,0.05596673446232799,0.02702982454762395,-0.025769468162430666,0.028554025585839925,-0.06721168061038678,-0.04663668756256361,-0.058092850832756525,-0.07458819660346515,-0.042105898605062704,0.08562336012720859,-0.05777750028934323,-0.010219423607926565,0.03858155537823741,-0.020833876536550562,0.025939705934330676,-0.0558636010152804,0.0733180410267411,-0.026762653779435257,-0.06962510540415591,0.044100316593511144,0.03771962060009575,0.05766535873392013,0.06906894236397404,-0.08310540599208867,0.06365360449318942,-0.022918302372695248,0.01884306297691764,-0.036798694766450674,-0.03565794366026682,0.08762414623290277,-0.02250732900958887,0.055481752337253824,0.08046856363484195,-0.07725127562623216,-0.003946706566931288,-0.07285546036520005,-0.061927284330968474,-0.032671789125024955,-0.020573937839266268,-0.027930303578773227,-0.0708877365064114,0.030310407660380023,-0.07838573554504287,0.038984501453770776,0.01914997244045996,-0.08394841078110095,0.006239876811924477,0.001223908555089899,0.08222139324785925,0.0010759457742986853,-0.05204992666981392,0.014573133538989778,0.037447721081961795,0.004489908499767314,-0.02836247102205781,0.030137714845821426,-0.07309114050065156,0.07748165207375682,0.058409453937821675,0.0040877061777698275,0.07293556882542407,-0.05666622277519138,-0.04422201422238922,-0.04949843254529095,0.07869528725846807,-0.042306381225277766,0.03383832202844332,-0.05972328917845399,-0.005298766147315497,0.037753490880428,-0.057617816125883424,-0.02466527575871498,-0.03566950403431485,-0.05486571672875681,-0.0022264796330281737,-0.08649501178913696,0.0801118351026458,-0.026590555897497377,0.013529114524712418,0.006008273403432464,-0.01523323602966315,-0.035098342358932624,-0.051527385912142384,-0.07507959011657099,0.058275228061525804,0.012333745512464708,-0.03884330246422124,-0.04678045364767101,-0.049018906473745315,-0.018994169888349996,-0.06727099887149299,0.08258965286879857,0.08464523894128771,-0.06960687918724945,-0.055603729360490926,0.03393312494315554,-0.08365519550524154,0.011488500422737788,-0.05870807226014002,0.06694444979358777,0.005985826305800373,0.001152213121180034,-0.06776517320937349,-0.05323983867681945,-0.04469384957460628,0.06750436085643412,0.02976017975140509,0.08230925090891718,-0.040985977781918634,0.04952296768858003,0.025206353468443594,-0.03590674410843545,0.03444527119591736,-0.005378749275449111,0.015040477436489839,-0.07457474037079737,-0.03101661833933495,0.04755425560330793,0.04287953786772321,0.043923254016136525,-0.03503907224924798,0.026281989506975894,0.013363608879161755,0.07793052085321325,0.012933860107936538,0.08422189535893605,0.038938985173056606,0.07939131705827447,-0.04309569809172912,-0.057725121183532846,-0.017207417213345254,0.03501251221587033,0.03878170941149423,0.04694350540969839,-0.07486122070166225,0.08504687237150342,-0.06412048503464277,-0.07559807260024956,-0.058889331889272305,-0.011108696869126168,-0.05379176372071386,-0.08096194487980092,0.022501587739515102,-0.07490662291647623,-0.070391666034567,-0.06450422364262319,0.0017152309483634781,-0.058973909550396525,0.06776054450685899,-0.009942875279264652,-0.01722480189624609,-0.0849696315822891,0.03575958497020109,-0.029940223662207974,0.03370202279040737,-0.014449622417626394,0.011511151714214943,0.03527738159596802,0.06309249822534847,-0.014034782947757129,-0.031564558024420875,0.033904770010197996,-0.06090608754023213,-0.0769758247420286,-0.080712850110277,0.07856340330320455,-0.013916890640543224,-0.04234957887133595,0.024014098731461243,-0.02137363141914585,0.08127373114666267,0.0797809499544797,-0.027674851416148033,-0.010989876623726363,-0.014822326316662074,-0.06379204549359278,-0.06365503557671832,-0.06125191817201614,-0.023048557818838397,-0.0011575607843582155,-0.01244422498900752,-0.011490164321065867,-0.05204189128996594,0.06252672250233839,-0.05497745390203245,0.07301251888791459,0.031061565024987123,-0.03687587442866423,0.06292709634836503,0.06571551128190009,0.08749771322499646,-0.022140606417298356,0.0464184697762021,0.0667808544412584,0.0010234586830751586,-0.008942354831674437,-0.04546339624574469,0.0674030313919325,0.04990467635419784,0.0020221469372375006,-0.06751806189275159,-0.008365029376797896,-0.08734667129500914,-0.02635222577246441,-0.04717696468996294,0.07683395217227768,0.04633753791733722,-0.08374894310406729,-0.05059794835909854,-0.050542799558606,-0.0778332815595866,-0.006497336752796261,0.019620112491639936,0.012829125532761661,0.08365556558170675,-0.07413372456785827,-0.08170848586484251,-0.0341624102220815,-0.03285906015610695,0.020068871547384615,0.00871828343324341,0.01461427457109049,0.08151914928215344,-0.007922459677058126,0.0579860795313987,-0.04955699851553951,-0.025199740116814664,0.08211673106316633,0.08626787007702554,-0.0698683082279046,-0.039272331942746375,0.006263274073559362,0.05983244869958196,0.04341788620925975,0.010057028368358036,0.04816490311106704,0.06097689142022168,-0.05766718680058698,-0.08485666759700154,-0.03642509029853703,0.07208241934816528,-0.02176553528539967,0.06444697304251741,0.011051380599970526,-0.018103742434390765,0.051230854362526626,-0.07684306676608023,0.06067481732596601,-0.08771275899293561,-0.006513679210037778,0.013381967168756002,0.03341410706443297,0.06148197674653788,-0.008519582199875692,-0.010124178366731662,0.0004606011049315477,0.0015365666712188098,0.018132270371566665,0.05416426708449097,-0.027097234901096143,-0.03587948559293624,0.04178608373627008,-0.07231506599039396,-0.06133791822454948,0.08741471963949306,-0.07873845736572288,0.05423954232962154,0.05505766565702897,-0.03435620493762283,-0.00627588455343483,0.03149252307943643,0.0526149601799499,0.009788664185389418,0.01405612606001221,-0.016781585469039947,0.057729513540187585]},{"id":"chunk-7db5cddc-171","content":"Here's an example of streaming a use profile as it's built: streamed_user_profile.pyfrom datetime import date from typing_extensions import TypedDict from pydantic_ai import Agent class UserProfile(TypedDict, total=False): name: str dob: date bio: str agent = Agent( 'openai:gpt-4o', result_type=UserProfile, system_prompt='Extract a user profile from the input', ) async def main(): user_input = 'My name is Ben, I was born on January 28th 1990, I like the chain the dog and the pyramid.' async with agent.run_stream(user_input) as result: async for profile in result.stream(): print(profile) #> {'name': 'Ben'} #> {'name': 'Ben'} #> {'name': 'Ben', 'dob': date(1990, 1, 28), 'bio': 'Likes'} #> {'name': 'Ben', 'dob': date(1990, 1, 28), 'bio': 'Likes the chain the '} #> {'name': 'Ben', 'dob': date(1990, 1, 28), 'bio': 'Likes the chain the dog and the pyr'} #> {'name': 'Ben', 'dob': date(1990, 1, 28), 'bio': 'Likes the chain the dog and the pyramid'} #> {'name': 'Ben', 'dob': date(1990, 1, 28), 'bio': 'Likes the chain the dog and the pyramid'} (This example is complete, it can be run \"as is\" — you'll need to add asyncio.run(main()) to run main) If you want fine-grained control of validation, particularly catching validation errors, you can use the following pattern: streamed_user_profile.pyfrom datetime import date from pydantic import ValidationError from typing_extensions import TypedDict from pydantic_ai import Agent class UserProfile(TypedDict, total=False): name: str dob: date bio: str agent = Agent('openai:gpt-4o', result_type=UserProfile) async def main(): user_input = 'My name is Ben, I was born on January 28th 1990, I like the chain the dog and the pyramid.' async with agent.run_stream(user_input) as result: async for message, last in result.stream_structured(debounce_by=0.01): # (1)!","metadata":{"url":"https://ai.pydantic.dev","title":"PydanticAI","chunkIndex":171,"totalChunks":208},"embedding":[-0.04734488311154316,-0.027681176147466534,-0.07395490764537815,-0.04453046225242192,0.07884771031852987,-0.01611501703258511,0.07547702514234708,0.0640544340595696,0.00819755946851382,-0.0223198502056457,-0.007942499950887385,-0.0598115884951351,0.08105851119210643,0.0118987945244842,-0.061230580205276955,-0.07822276659920827,0.033295511191952946,0.0058155259924430654,-0.07757775069334835,-0.06380086514788481,0.02221651994472203,-0.047245956199993104,0.015546317960983966,-0.050947982069346406,-0.07842416244993362,-0.01107587956522473,0.06679710901527261,-0.055741606960765765,0.035019443076802034,-0.08135983473236719,-0.021867766010704906,0.027059043187094893,0.012183731928242979,-0.061603115305687975,0.012786298039326476,-0.07656836258700016,0.024494191341524182,-0.0074798772258300675,-0.053011720439450565,-0.0600309382120715,0.07310082467770927,0.006470053171870381,0.04465314386211093,0.029563564857981492,0.06162507250048496,0.021945408029476247,0.06912306098863182,0.013711687279525415,0.08116103242796764,-0.041431354182018265,-0.08250418861623725,-0.028430334004084977,0.010239111446248603,0.06795926725705391,-0.058380604549724255,0.0520329295629042,-0.017055349676707098,0.004802884282250641,-0.0497129803705036,-0.012384403541789607,0.03471707466857302,0.017795722437902155,0.05432495559981809,-0.08404542694546616,-0.030146068387807305,0.02179809933040748,-0.008726304677488732,-0.06112061395241348,-0.07440234859905816,0.03607464929705876,0.0030516734356590067,-0.041258925972425683,0.06767295148780615,-0.08525096158353179,0.025494296155117203,0.08654159391928665,-0.028221693613096305,-0.08537947180895343,-0.06730536209513079,0.028215663584431852,-0.03925142627050366,-0.03828120042598738,0.021545848061869648,-0.05316491940454774,0.04652714088000103,-0.053365492833470356,-0.06662807879945101,0.06703842559700535,0.0004304256244905288,-0.005814354589378927,-0.07958439643914002,0.03730857187667221,0.0300463254714414,-0.04750678304972133,0.008787360922372698,0.07276899664761727,-0.08413646018360729,0.03541841759164172,0.07226172952654504,-0.014564842846015816,0.0643036940969187,-0.022347545022337163,0.06843633110143117,-0.014537867378884607,0.05930771011462561,-0.009918350258637717,-0.026667995077786024,0.05545409167392083,0.07151397963616124,0.05520542765075312,-0.03636778278386347,0.003033298571110183,0.04152607268095342,-0.059337562834480155,-0.004768630236896228,-0.04116368650014099,0.028854192338806855,0.06539522910425573,-0.01056333081580404,-0.08454680102795259,-0.07342060989352008,0.07390503121638964,0.026992732243785754,-0.022557644206621406,-0.038936640207056186,-0.0052440693793671675,0.07280699565195149,-0.0025888726614550135,0.06226299045909249,0.07797180277157748,0.014583564745686423,-0.03959372368207722,-0.05887394705163542,0.07024531387599829,0.014728330007136123,0.03053176417002727,-0.07952737937830007,-0.044049364382971475,-0.006213772645098089,0.0213549709057219,0.08475164927577775,0.06164888689064033,0.031369086125827825,0.08125070866278075,-0.03245645784336603,-0.06839195520605323,-0.04814814255285444,-0.07639884106611443,-0.06777377452769623,-0.08538221494206945,0.020632674203508505,0.0030120943469825424,-0.015699704907047526,0.06234637281909984,-0.06446195044899002,-0.039758286233934646,0.08467160385335651,0.04859911566510841,0.04844049459417516,-0.04574595370869304,-0.07604853060525861,0.016585588377822556,0.035423325354530785,0.03247806616830861,0.054232419857158334,0.07542059152492818,-0.04699404652900845,-0.05508120129912667,0.016661081679552076,0.08339237902016942,-0.07440697914915627,-0.07525250113512971,-0.045862391617215725,0.05187098074480475,-0.06908454543557974,0.05042556037158589,0.055930814453858606,0.08135639174866051,0.011580950458213904,-0.002502220291521138,-0.07768438657431445,-0.04077014635860323,0.04222875170562367,-0.0036535628136395767,0.001346859312034112,-0.02199201379940047,-0.008680869016253761,-0.019927379085035248,0.035394452210984,0.043053608641159834,-0.04054665655566232,-0.014721093365186589,0.003618285897207133,-0.041693227605402935,0.01232699246292502,-0.06772838699873875,0.0656422374094768,0.05254465176527933,0.08479584443852944,-0.02079263088957805,0.04542047628827711,0.005740344591517616,-0.007124125375022075,-0.04529432691316473,-0.06673785967283466,-0.060671200914230186,-0.021213314331106042,0.08116494780708357,0.0073893378046443504,-0.07150731105487082,0.06815951593018299,-0.07077113786856003,-0.05636083174414819,0.04442838112089874,-0.06994410201290627,0.08714673178530566,0.08106808849543053,0.044709746020354615,0.02509374554541202,-0.022308868966002975,-0.00793031846336253,0.03393384823889925,-0.07942530118495215,-0.0578332130871811,0.0302534462421121,-0.047380121308464335,-0.026109871490386023,0.0018656245451402404,0.025381395126427758,-0.03417127730066678,-0.05072822992656075,0.022657628052961554,0.08554091135724347,-0.03661557899784563,-0.0749274267705409,0.003542193489602998,-0.07675403877895284,-0.062146783257823336,-0.06035980664650006,0.017045989664855758,-0.02713076076503719,0.03507443240086949,0.06388619781218963,0.05345101130839488,-0.08581525695633382,-0.016742482433281025,0.008983981490871833,-0.030098982963954194,0.06188513318336301,0.004477883247820251,-0.015057687045496888,0.05529956926192578,-0.03597475268251108,-0.007400837064500605,0.029552822063447563,-0.07121343512792458,0.08318439846599471,0.04486485961809879,0.08641366270349483,-0.03226232629138539,-0.0733667378405012,0.05764237251360213,-0.06047767999785206,0.08306052581154047,-0.07790790646599369,-0.06547928690322995,-0.07366359612010806,0.043394286036448244,0.06376837601819346,-0.07358718246232894,-0.04120229337442109,0.04218977085154672,-0.008550089172847202,0.031259071599945475,0.07727587965376463,0.02455865132754992,-0.06421732792393954,0.044377045563597645,0.032715186025568,-0.013605354501275967,0.04091112741163733,0.01997794715524468,-0.031074534977076757,0.08121342491353124,0.06363183641924106,0.01915742725418087,0.05028235893188388,0.0013134267755342045,0.031511123577976044,-0.022572701591995023,-0.07275243850827552,0.00954528086256243,-0.035333571540650296,0.03262567821623223,0.04423317202013325,-0.051199263590069086,-0.07277418282696244,-0.07295024448607362,0.019327644469487947,-0.05816342830944608,0.0762052563561595,0.07674718688607783,0.04495034362428176,-0.07499791387169352,0.02465308013376291,-0.08340065860934157,0.016708495059562522,0.007233504636277256,0.018713982245617405,-0.035161053852199385,0.03840964904314462,-0.045281762530174276,0.017254326886816933,0.04595983834582568,-0.007926195862150737,-0.05330313763323559,0.08427106608668017,0.005260049482248405,0.022058567656755176,-0.023660576903118704,-0.07080424789444163,-0.06223454842238617,-0.058706729525214135,-0.05825873130947215,0.006032201763864998,0.021208947855018125,-0.08349208356572317,-0.05117684714564884,-0.00452405642858207,0.01396000354587376,0.04623779186452188,-0.008883728038501734,0.03776647936524388,-0.015314292033942687,-0.07160441915930811,0.08333600542142544,-0.0034849726628312146,0.01926496124154103,-0.0280673439960889,-0.06922483861853843,0.0752921545779218,-0.08364639936710702,0.04445422434736862,-0.03354525657339568,-0.08634773292270341,-0.04283232217886114,-0.018719559779926304,-0.03259842050341273,0.03360377821795338,-0.027501287080322158,0.07389496384418516,-0.08387462871329292,-0.07034025571661374,-0.04337141269281758,-0.08380113851879381,0.029728359893101564,0.06001864701489142,-0.048537468992711545,0.06899015694596031,0.07007592520717183,-0.03658010297401699,0.06876258965306606,-0.04465631376837928,0.04357744398953844,0.058870037423970026,-0.004336202639226004,0.009992978631842451,0.05243889183739352,-0.006985267951535932,-0.06695724334928037,-0.05110104062485891,-0.030745517480652993,-0.04878910381194534,0.028590310607288397,0.053838389293175234,0.01600542278843767,-0.0765416803664701,0.00162924101476781,0.01824268686603439,0.025907110649398758,-0.012968993602262599,-0.0402630580479538,-0.06659362203655073,-0.0045865140178506965]},{"id":"chunk-7db5cddc-172","content":"try: profile = await result.validate_structured_result( # (2)! message, allow_partial=not last, ) except ValidationError: continue print(profile) #> {'name': 'Ben'} #> {'name': 'Ben'} #> {'name': 'Ben', 'dob': date(1990, 1, 28), 'bio': 'Likes'} #> {'name': 'Ben', 'dob': date(1990, 1, 28), 'bio': 'Likes the chain the '} #> {'name': 'Ben', 'dob': date(1990, 1, 28), 'bio': 'Likes the chain the dog and the pyr'} #> {'name': 'Ben', 'dob': date(1990, 1, 28), 'bio': 'Likes the chain the dog and the pyramid'} #> {'name': 'Ben', 'dob': date(1990, 1, 28), 'bio': 'Likes the chain the dog and the pyramid'} stream_structured streams the data as ModelResponse objects, thus iteration can't fail with a ValidationError. validate_structured_result validates the data, allow_partial=True enables pydantic's experimental_allow_partial flag on TypeAdapter.","metadata":{"url":"https://ai.pydantic.dev","title":"PydanticAI","chunkIndex":172,"totalChunks":208},"embedding":[-0.01401245859619569,0.043398667959114866,0.01209177987585383,-0.008991010645040631,0.08117273381132031,0.07902823385030158,0.06413247517268984,-0.062277777807785886,0.05898670959673849,0.020573383879210944,0.020719269379376695,0.018548578150360772,-0.04253385383043623,0.060582668546676696,0.08142682361868216,0.020597259698280114,-0.05970913063582037,0.048609233995624654,-0.07066073525192053,-0.030240319498013105,-0.07746171385559847,-0.08574818455998375,0.023106655278384045,0.06547517748722169,0.03128795050383745,0.00993595022637652,-0.009698107127133931,-0.05764355712839961,-0.0040229728495457945,-0.07092799281234788,-0.073766089955896,-0.006010979246550741,0.04372351436448592,0.05304424037857186,-0.03918184604693612,0.07994954264959943,-0.05587551818732764,-0.01879426734411642,-0.06701209939092653,-0.007893321466933095,0.07799782449334056,-0.0824531497735315,0.017538586674231006,0.005570345501722565,0.03588502777976597,-0.06216594709823321,-0.035812861271355856,0.08185912821758506,-0.014700897752162151,-0.005611003596249919,0.043099155082357156,-0.0012583371220284939,-0.04108176920706198,0.0567648823339808,0.07775719500413096,-0.003328432293805454,0.0660607141737988,-0.03231997128149256,-0.0802378079623348,0.06379815566142073,-0.013852261210003314,0.06477992416515976,0.05049915861123733,0.06710578247257899,-0.040304954222534675,-0.06392756557084014,0.015332406464441924,-0.052243086211192835,0.001579791445117398,0.08706963979447702,-0.009130068364911629,-0.06675456486457024,-0.003275857007244199,-0.07440340393445935,-0.0684503095332669,0.0036542357508176815,-0.031945133443392636,0.008932093059795051,-0.037517483471701085,-0.02502454310423171,-0.026790223297508426,0.02118541913259969,-0.05334070773364924,-0.04291808062148492,0.03987227225145959,0.07743365657518105,-0.030476393420695844,0.08351071754740409,-0.0006167125605175138,-0.07776866275002645,0.07132526816817371,0.01592665521860535,0.08234157598637344,-0.0794440888202298,0.06090270323083512,-0.057729296580008645,0.04749470822685998,0.002715498902309469,-0.002713001896788782,-0.06927162245048918,-0.047042655760623775,-0.08636360017785978,0.02178672481519164,-0.05849812395797679,-0.08464877410749505,-0.05682963934927866,0.005059760168272805,0.00212232721092873,0.01660672905768107,-0.0642210736129594,-0.0789479429121449,-0.07838971749011801,-0.005605935354307692,-0.03739715598176756,-0.028859080439170463,-0.08770427010164578,-0.037879190706195304,0.04441157048908699,-0.07285777133055386,-0.0766233659205312,0.02499263409887286,0.006551770275635039,0.011002762893955735,0.013268927810332457,-0.08125132585704022,0.047692722177807734,0.07217331096704768,0.05638720222753367,-0.007792793411221221,0.04982742946294175,0.08288479598554271,0.005949066734828782,0.04505106628497162,-0.012012990767188703,-0.02158081855770432,-0.021660114754740615,0.027046571088160335,0.036772733189039175,-0.06668150331999634,-0.06405979952148554,-0.03308639355403135,0.04160599194352997,-0.033670156066446195,0.0025705795896490374,-0.032197838681293306,0.06585972554043408,0.02724999687685423,0.011688137716151643,-0.08524714985706253,0.045092329533285624,-0.03196496724588238,-0.057223932512875594,0.08548017055804841,-0.08579554560307982,-0.07381966120114483,-0.004403659128928326,0.01028840272338958,-0.016980421238584165,-0.07804274274581954,0.05479130621624152,0.0764524518271379,-0.05935471009148735,-0.08371034778995946,-0.07565103030656567,0.027523026390634794,0.0413498959516261,-0.06597020824139985,0.027426947537569978,-0.03630009077493647,0.05710936008351747,-0.0545599566335323,-0.07122673115155746,-0.06270537407392007,0.021232924831431407,0.010919467039759214,-0.05081320135165333,-0.013066671068437922,-0.05063810943881419,0.039440643757436646,-0.02289192007540176,0.005760906458286813,-0.009551156118159208,0.007664599339360947,-0.02980041071798575,0.06842146261748418,0.002312115581211535,-0.005329865132540785,0.03945299732352445,-0.07157362159109354,0.06008510807345233,-0.06951458736874097,-0.07638649625925431,-0.005983576149484652,0.02284704249029589,-0.06295155788170503,0.056976451398359655,-0.018591713962872625,0.04957671120167071,0.03949066009506823,0.000967981813184826,0.04964659118173848,-0.03696082123784751,0.011447360323957588,0.004523335454767706,-0.007539302118407121,-0.021730223843432473,0.07932674056830483,0.00040621172132409845,-0.03412945048486481,-0.06829318920340688,-0.0861926019118127,0.027275318208083866,-0.06356250592075993,0.04565579284027712,0.08844378167683242,-0.0779975029459959,0.05481666050359793,0.0009895000515156016,-0.06151986514569801,-0.0878690598692517,-0.006561018859840393,-0.02485245513854856,0.07687159532164334,0.020340184014154356,0.02754395863602623,-0.03951385107755663,-0.07774472983537253,0.03554112296248775,-0.005455082740613085,0.06828769442159498,-0.08514755586977894,0.04569604217135146,0.00695407879049527,0.06370536443069179,0.08041198178211705,0.03558019496071947,-0.014384976309060916,0.06027174790994014,0.08677619389406062,-0.019085198535086965,0.051257466461161826,-0.011367381613211812,-0.08460888946544005,-0.05389022894513767,-0.06454279821372381,0.07172505508137439,0.053364769859439,-0.06288178705104051,0.07188984935513948,-0.010450997415344164,0.06475896400239822,-0.03197252351983151,0.007501069710006769,0.02782293610544853,-0.0444930399332479,0.022644326349030866,0.019633949830834354,0.009392406580228087,-0.04018765284892141,0.029523516014923236,-0.007040184230974148,-0.001510566516606644,0.05030838693826067,0.07073697451004536,0.05567989239225514,0.05700518033036551,-0.0866320165781996,-0.06097896215603894,-0.07583517725700675,-0.05160643391399626,0.02417320389361182,-0.054718394234824455,-0.08035961146543463,0.06867768495849953,-0.0861578055789127,0.025463113184010882,0.02091882797785782,0.06688912107729769,-0.06001267418030776,-0.0028350903891494338,0.07649169173318951,-0.0133685742175489,0.060063045759368966,0.059615974304621434,-0.06687877225053558,0.08716668124851067,-0.0827508347635061,0.01653531951534506,0.022198512223040878,-0.0536189801390633,0.03875471983644923,0.02837431874033046,-0.03228537633266024,-0.01607909302718646,0.05258903782969451,-0.00199825926671006,-0.03453886852527558,-0.028828621325555675,0.06444706482788416,0.023365662242300293,0.04137361285222529,-0.05577925181813485,0.08147508878053561,0.06769450569716796,-0.0682583733837903,0.023174981099440307,-0.0006312126063515571,0.06912425285395107,-0.012526318723867816,0.009468262969720692,0.0806447863222519,-0.08132745526687758,0.05898448047844656,-0.044492201258002274,-0.04849813334663492,0.04445034367402006,0.018231230979304333,0.00997991957469162,0.0013588651971224762,-0.017240707697384963,-0.03507094346843108,0.05980514126986342,0.0356430734803298,-0.01023371175811521,-0.07804984296985136,-0.014498259556579756,0.0312506356841159,-0.07082865887051716,-0.025907479312107514,-0.007739405733811499,0.05406140982476725,0.043220945570027876,-0.044710229588268806,-0.06689740263810899,-0.04126430296751654,-0.07740127557969127,0.04190780016124409,-0.029226812509673152,0.04543106534921379,0.08376611839192843,0.0072659928902008095,-0.06495206474313617,0.06887059535048069,0.0392693388428026,0.006814711144244526,0.023106056010150266,-0.08798902235608304,0.030227701667861588,0.051346042015713335,0.08453541744429253,-0.02982596620840269,0.08290392278383878,-0.042989737188042144,0.0016088395765328394,0.047263533672659515,-0.03231266935481726,0.08640428074678941,-0.017007083043376427,0.051097809021536864,-0.030756630132723013,-0.06665515808589993,0.07604307023440142,0.009872946755906678,-0.0785699107624371,0.010669749680621097,0.03262540599599563,0.007852790512113888,0.01771861918786769,0.063421752148173,0.06310331014861564,-0.0027066010630454928,-0.06548827490321588,-0.01028269032666547,0.06005273427816443,-0.019549278944423727,0.03426684513603864,-0.08836003769262736,0.02345216164090959,-0.018276529307860542,-0.02684369053279639,-0.05233211058528856,-0.04055963924763206,0.045730964979245926,0.04140791721028652]},{"id":"chunk-7db5cddc-173","content":"(This example is complete, it can be run \"as is\" — you'll need to add asyncio.run(main()) to run main) Examples The following examples demonstrate how to use streamed responses in PydanticAI: Stream markdown Stream Whales Version Notice This documentation is ahead of the last release by 2 commits. You may see documentation for features not yet supported in the latest release v0.0.27 2025-02-26. Messages and chat history PydanticAI provides access to messages exchanged during an agent run. These messages can be used both to continue a coherent conversation, and to understand how an agent performed. Accessing Messages from Results After running an agent, you can access the messages exchanged during that run from the result object. Both RunResult (returned by Agent.run, Agent.run_sync) and StreamedRunResult (returned by Agent.run_stream) have the following methods: all_messages(): returns all messages, including messages from prior runs.","metadata":{"url":"https://ai.pydantic.dev","title":"PydanticAI","chunkIndex":173,"totalChunks":208},"embedding":[-0.08288192850157283,0.05494000228036409,0.07202813963708496,-0.017747213174183114,-0.08563864279459397,-0.08037771807215263,0.08526725962879869,0.0007445965805331224,0.06260716137671522,-0.08658224997754178,0.04427367645002624,-0.033345730685145604,-0.041865960187684945,0.045970234692174254,0.0009724539922514192,-0.051628325937890435,-0.03879468440066746,0.05356801396682322,0.013912144283720014,-0.023449795799555712,-0.036405753769472866,0.04747036805077789,-0.07769516540820769,-0.03683437022277585,0.03802265438257929,-0.062173157988765555,-0.018201120861273297,0.05602414629998683,-0.00774407794227599,-0.07556053649964659,0.05056738602875405,-0.07469190319698958,-0.0725185921109565,-0.036914574843931305,-0.003167472810439871,0.032491757258596175,-0.06246981136515499,-0.07609649441085028,-0.04654372633661002,0.012357533357812877,-0.06936817855669392,0.07568907522149133,-0.043005386419408494,0.06045522604662796,-0.07363480774989119,-0.07151443253130724,0.06631643223327778,0.0857836015149896,0.021807871176158424,-0.0695666421122414,0.0036095054421933772,-0.0824346560321004,0.05041583958926656,-0.028037995637789203,-0.034560730555660335,0.06404756282416195,-0.023977807640746956,0.04328881374590708,-0.0012964237715243662,-0.08578166394424033,-0.04169432353279915,0.03785863544393645,0.07389267792753608,0.06501060854569617,0.017721264102365488,0.05056293753188401,0.013022250826457174,-0.0789947017908273,-0.03521791208465297,-0.05419287506298386,0.07380404538119592,-0.05398777909019751,-0.0718355258095925,-0.05067769435310252,-0.01538683366883091,0.04383397768608574,-0.07420710846796322,-0.04838017634194746,-0.05089699900360351,0.07789813375247448,0.015809224046014023,0.01157507618392086,-0.04771593466126969,-0.029851377847603534,-0.026964262186289195,-0.04743408781237818,-0.061967956414287,-0.03087509374294815,0.08335700028385892,-0.03755815135504461,0.043881813285671,-0.03148593885058788,0.08238504953094494,-0.03539554361090453,0.036382818689701335,-0.051212930746385915,0.019203152184012882,0.028237556450509217,0.049967770238909595,-0.009770999429861867,0.05197143072847847,-0.04723842141835275,0.018452655461760774,-0.050615265591136195,-0.03402347659822565,-0.03574796344640477,-0.07194812888653804,0.04538178854077077,-0.00003146542220031454,0.055858622349174665,-0.03932430746581053,0.07205753022842848,0.08249250969154874,-0.004870114726481309,0.033639356375104616,-0.012260528678831378,-0.07121774503467117,0.0391841751818576,-0.06172738410256037,-0.014111398414365392,-0.06888052970838254,-0.06490587275005401,0.021577268845288027,0.040932960831053015,0.07398528526964415,0.027207978522887193,-0.06431170220865977,-0.016688390022958337,0.048379559129465774,-0.057647285628222765,-0.0059656634720463555,0.04911015513000806,0.028709591855704035,-0.02539196011655357,0.006321781850569965,-0.010623128711937478,-0.07086969669962849,0.021905493843718427,0.00028988938527330153,0.08567983356337044,-0.032172837845204263,-0.08526527201874552,-0.042909988589916535,-0.0773046809395797,0.004425913998473287,-0.060175120697109105,0.056429284670758514,0.05934422249573305,-0.006077205677764143,0.012767699378950555,-0.07788595799336433,0.08302303221276913,0.07920475705522553,0.06637216858027772,-0.050334521598891686,0.07344824893625908,0.03946044955461754,0.07684013663908575,0.028315847908332647,0.006516248585816903,0.0024453191313917448,0.027711430689600778,-0.08739771190166594,-0.08107267363750525,-0.06575427326756829,0.08610602506126104,0.04586307620641995,-0.06884936664723916,-0.05923611958801176,-0.03474190412977108,0.06897246480309907,0.04690643525578597,-0.013978461713489187,0.054705180504304965,-0.04393403748244549,-0.05269661229196039,-0.07198739583059915,-0.0420945138400603,-0.04459689175464081,-0.017645767677169737,-0.07999957212061062,-0.07307102786180943,0.06195657112315556,-0.03042099954511753,0.07032241732966493,-0.01093120564878288,0.046005273249797723,0.03877675401302201,0.0017152407199401043,-0.005060040565168159,-0.06600375893282484,0.07470561126185604,0.05184307318059438,0.013265877949802824,0.0516387085480644,-0.006735589429054205,0.07442149792048426,0.08528121833187222,-0.010571818027673544,-0.0678029828833635,0.008840340662931124,0.006912264447751744,0.04993768983811902,0.0028302620385871305,-0.01742911699733316,-0.07648186542298226,0.08349336218275076,0.010298647825717227,-0.07398822329866755,0.05240317343855604,0.028698592243864673,-0.06692084314105008,-0.030291972367338223,-0.004953271838546313,-0.007568970240178745,-0.018863871621157657,-0.034515961393945936,-0.05071582647509859,0.005067578800560682,0.010457153693607182,-0.05318473816875369,0.08037990167864476,0.06806691515746845,-0.04350243801268661,0.06284093911217144,0.0291126437114304,0.03791196801726897,-0.05807824355474137,-0.024122284451177207,0.08394379298490734,-0.024166673879191927,-0.009380592491491466,0.037039636716257034,-0.06640405479394362,-0.0023068366852271346,0.0012226793244109646,-0.025579084192089766,-0.029537022287583467,-0.03797801997290318,-0.05856765462983895,-0.020248023925182216,-0.05908032086153573,-0.08556632560783227,0.005214837427689375,-0.011387439519913738,-0.048730243028817614,-0.08429533949136025,-0.02265920832640625,0.05267158923750533,0.08514898835978345,-0.07335680816444118,0.07723532977822893,0.07232177466177288,0.00691770697001466,-0.023055336596717532,0.056205893856983775,-0.010796666620422592,-0.0642545309815407,0.04639190716410329,-0.04363478242053764,-0.008564785986906128,-0.014213501784783988,-0.02816836931792118,0.06014571517549164,0.07562370554015374,-0.014818988149422303,-0.003594468045400095,-0.07908097598577596,0.01538361464158745,-0.022299752211251096,-0.08039200807720558,-0.005784010732561179,0.033875798849807334,0.03216701161238215,-0.06934898755682169,-0.04478161937793892,-0.07152791398561212,-0.07867027131850979,0.06920383076469212,0.019792369838484102,-0.05366128215469501,0.0639300774903762,-0.0014681949585546798,-0.08216426194672495,-0.03552709851675953,-0.013200783453798125,0.08420469408627411,-0.050731818568268146,-0.023410301523311014,0.07577678195587353,-0.032062871420313103,-0.06912151846210599,0.04633030174880238,-0.003962785063087473,-0.032388570804083215,-0.06313189406261778,0.014124226799512868,-0.05225565085606102,0.07258829812920711,-0.04003104414010739,0.0024794687702265217,-0.043599430351474046,0.046180053734133,-0.03189572097669216,0.0686931809033964,-0.0010975775773059194,0.037023073652072906,-0.08221697721259306,-0.04510166748619427,0.015604140016141653,-0.08230435583445771,0.05979430732559527,-0.03972775869982914,-0.05321881265480385,0.04842767604377408,-0.056951416061896895,0.0688541069373728,0.016657809404450913,-0.08053313520657822,-0.06560538918507935,0.018983039026693835,-0.0512879692528922,-0.029625894706095262,-0.03856396009443207,-0.022742222141250473,-0.051931040387855155,-0.018729985527061004,-0.08722535844108444,0.022995000950041557,0.051574348440199175,-0.01673121225094247,-0.05398369093447504,-0.029582758374332132,0.021224147044461704,0.024044654510522415,0.03945071420505111,-0.02778568142767513,0.014558258318505091,0.031763506915383974,-0.06875495138246139,-0.08255136721631395,0.0481522789997614,-0.027282060120241987,0.003788050824994309,0.012603522686692039,0.050917902054194074,-0.01785696222973117,0.012016978497781524,0.02721887344466161,-0.0016648223264983937,0.03115506070860281,-0.07035925789528381,-0.07490940878503408,-0.00994713139031016,0.009380677415519647,0.03233721315577515,0.0800433170883171,-0.06473172290299616,0.06565407016308483,-0.044895038129138067,0.08052745951926912,0.04542823259291273,-0.04877608242812304,-0.07020006392890922,-0.048596824474321045,0.006355990867973789,0.04822982234593352,0.0073201109600612956,0.07682090444042593,-0.02284982956654374,0.08020202865210539,-0.08345669988275013,-0.025135230300094187,-0.035941797631230364,-0.028788332869001756,0.0019866443687604055,-0.03242568773243084,-0.04663400904234724,0.07655090664873192,-0.04578124229335017,0.01407265568590246,-0.026017915842999572,-0.055706938986217217,0.052305890332612896]},{"id":"chunk-7db5cddc-174","content":"There's also a variant that returns JSON bytes, all_messages_json(). new_messages(): returns only the messages from the current run. There's also a variant that returns JSON bytes, new_messages_json(). StreamedRunResult and complete messages On StreamedRunResult, the messages returned from these methods will only include the final result message once the stream has finished. E.g. you've awaited one of the following coroutines: StreamedRunResult.stream() StreamedRunResult.stream_text() StreamedRunResult.stream_structured() StreamedRunResult.get_data() Note: The final result message will NOT be added to result messages if you use .stream_text(delta=True) since in this case the result content is never built as one string.","metadata":{"url":"https://ai.pydantic.dev","title":"PydanticAI","chunkIndex":174,"totalChunks":208},"embedding":[-0.018830665367895443,-0.06657818132626585,-0.0858695118749748,-0.017216561901946356,0.008880250699883085,-0.010539538126503918,-0.019605169474772362,-0.01360443624973893,-0.05723235901605905,-0.07828629405278437,0.026856173139136585,-0.07771748679270267,-0.04834466895091332,0.05365884263627003,-0.04653237746772702,0.044778467466819474,-0.0007673299065433673,0.07613887030271627,0.012784128160899284,-0.06259398776349673,0.02396374315727727,-0.046800519562277515,0.013801013253417881,-0.05976948214901388,0.06699408138666116,-0.0670297241774611,0.053935436451613895,0.08378225568086144,0.05215194709892882,-0.005184861756234351,0.0635436466281469,-0.07227780071916057,0.006598056959594373,0.036986433062883385,-0.0690023714108311,-0.027981558437939664,0.06541335216438861,0.05994412764269116,0.05911340559080972,0.00007390678718370278,-0.022956021815901683,0.08144444954239816,0.05697578920679842,0.07378007148552727,-0.05375501771063845,-0.05508534463094562,-0.06175114566231288,0.029785111979887004,-0.060421227890732496,0.011312597084014876,0.026854061337211854,-0.023818955488408917,-0.04504848209606542,-0.05052107449129873,0.0017296996205427232,-0.03972832672182768,-0.07639066825065959,-0.03611254853611107,-0.023024995564965883,-0.060041978020001614,-0.0796945039543293,0.019854932912646464,0.08523033959011872,0.033846617584967646,-0.0450637909284165,0.03941566581421261,-0.03567314344211885,0.06393494326389847,0.07134063714396459,-0.04448830830351268,0.009963223709070023,0.07201132946820804,-0.044120817355568644,-0.072903958739279,0.0029342052091051764,-0.07443829238245393,-0.05213867084139554,0.08479795498944907,-0.038357584045537386,-0.03522625993723507,-0.07955252800098299,-0.04344897346597101,0.06254990531008908,0.03706214012576332,-0.026738912658113113,0.06447377608588353,-0.05881279439411255,0.056342856942658615,0.08087710383398752,0.032458047618387456,0.07701969971580046,-0.06337447091234215,-0.07591938036872893,0.015414066353147128,0.0003285145591100197,-0.05307947690701572,0.061609993752005605,-0.07560119136639135,-0.029042607263871846,0.0029342370845209546,0.06621662031195528,0.06787505947031999,0.067253312640324,0.07551727306981912,-0.00770821474525499,0.004155417053112142,0.022571454746688382,-0.028245042612270007,0.0797787920831805,-0.014258345338850002,-0.08222135692005705,-0.05934171800947691,-0.03417029873321251,-0.0536356707049909,0.08367648178543542,0.07316696420769471,-0.07012952533994851,0.05428805356814093,0.0265878587256394,-0.02049745148223099,0.06751323711142275,-0.05063897890560444,-0.008111160981610218,-0.061681351912397264,0.061012152285530884,-0.035138088722388626,-0.0848126401181673,0.029467962062580857,-0.0738323975404302,0.031260213331295604,-0.01693291825693964,0.009473751376964403,0.04006020151216683,0.01593699874752032,-0.027103978723207245,0.04704316957662615,-0.03259326659152699,0.011414092419371505,0.08020527054976231,0.06878761003411667,0.07924167756160193,0.01397404621733083,-0.0629430623603026,0.05947116182890515,0.038940056548253214,0.016482051384742635,0.041624129109424195,-0.07870773558758595,0.041024384619054395,0.037060071414819824,0.007640804153051469,-0.07334184994756919,0.04334785044174999,-0.04314807880519971,0.04526228597832976,-0.0754377225516461,-0.06598317225300447,0.08365580213234172,-0.0779805475338951,0.0775982896753901,-0.03120924533109772,0.0323148939686798,-0.029942368599469735,-0.07801953600997064,0.014991667869049003,-0.030588722765891856,0.01436686207386921,0.06789650293777007,-0.02610158949034614,-0.08092845185647041,-0.034911475355336626,-0.03077559889705196,0.0009266393300790381,-0.019657941565233313,0.015872778991501826,-0.05754370768791864,0.0005687474125867071,0.06306760796624726,-0.035723484022262206,0.00900670295852199,0.07472318700838065,0.008964436873321565,-0.07621405799397409,-0.010143567923343458,-0.0017004189111585134,0.03787091426296444,0.07669159363509495,-0.034847446536529915,0.023075248728440457,-0.017657507314451034,0.06529836573903826,-0.008903991478224127,0.0664880221845739,-0.04729856763812619,0.04922121257398197,0.07391442016026657,0.012329792528085994,-0.056513330599166446,-0.003895827314644299,0.021976600602999777,-0.014546551031893059,0.0234157093040253,0.04169717748670626,0.07565340910254734,0.06744817450528642,0.039199150070391514,0.01688372751880514,-0.06673538951701344,-0.03848654817309847,-0.03830743546198795,0.021817929185428183,0.0069767567340896595,0.015873744188941705,0.001244664328828469,0.03820221288147267,0.022152965779422933,0.014810120741638393,0.08440775070852109,0.046954573613631305,0.03850683468347139,-0.03496779559298193,-0.006525069954874496,0.04162242224342192,-0.007416555286876721,0.07735854255723815,0.01771637546266813,0.0581332317061311,0.053970055729132695,-0.016805889326329114,-0.010133657562557966,0.04474524997243593,0.07723887118642606,0.02582415767668053,-0.03605955192467986,-0.044545090878937585,-0.07107025044377298,0.06883828602176244,-0.06673464098972315,-0.01795775336989875,0.06676958914407684,-0.020680740780245583,-0.06356423919437276,-0.0582618298748434,0.06537789227023648,-0.04431611754874786,-0.05653945996496835,-0.08461414496872434,0.05768242391310013,0.04681470744060165,0.07913690808918736,0.0026664321049057293,0.0195125105637421,0.07813215124237669,-0.08311607028410815,0.007097238894033929,-0.06885931672956712,0.02183116411519084,0.04538931102407763,-0.039693604460893976,0.006023123972836335,-0.04085540461681906,-0.005627826945089342,0.08377232740272188,-0.04115244699595895,-0.06408477196583537,-0.02538091729800846,0.021441535159616595,-0.00598352086144688,-0.019235761375253704,0.04731767354922106,-0.033721956909395064,0.08287459671305933,0.0243340146857083,0.03784986427535444,0.01820768943800699,0.057110832109362325,0.05427386571109938,-0.04040851754168301,0.051148520425610335,0.07481471507732956,0.0484015754642367,-0.012954615753622525,-0.011279437218654341,0.08024285222618406,-0.06319752948742331,-0.07345839922565289,0.053763345217176246,0.0613497912143016,0.028185423508837203,0.021449393981496985,0.05950683688064022,0.014040457835012612,0.07597080755561819,-0.01750356213158162,-0.06299381396308838,0.012768123255270443,0.013795899922068316,-0.0003974539165478744,-0.03682401672489897,0.01613779879378982,0.0007105170259063718,0.05939743750593326,0.07895135448395141,0.08647899180544691,-0.0006860440452824404,0.05724418528762082,-0.0400878760201906,0.06057074455898183,-0.08448310588215961,-0.00014578758967388113,0.06823426484292534,0.009706862612883643,-0.03548711815992591,-0.0665714632442329,0.0010092065197998754,0.07214466264468516,-0.06187061074333789,0.0018824484154042846,0.0002495418222533992,-0.0858473611427332,-0.058586670235486325,-0.03255681118562438,-0.0045545545807213405,0.07294639728226728,0.0056749988245168165,-0.05155988432453335,0.07781412333811946,-0.05877867648093496,0.05114060611956016,0.07868303425212028,-0.017998366390666827,0.01659984504013256,0.03844126563595048,0.08692077676460105,-0.053543952098056666,-0.06490932056233506,-0.02381715814464569,-0.07224009238430906,0.0035005774342479626,-0.08107799226690526,-0.060765473021862894,0.026463570300925478,0.05712457655588243,-0.08405776994266778,-0.038485341898499864,0.05106139202665594,0.04559263017313239,0.08111784264425465,-0.04718094437141593,-0.07572128443798654,0.031008001034712802,0.004787760862363914,0.07995100418702696,0.06241160300471092,-0.0014274961391980826,0.03621475144099044,0.034334442764501524,0.033642693212228125,-0.006976240639827165,0.01720371396582021,0.06291879317795959,0.050122469377421194,-0.005797683789605053,0.005749038721878196,0.0420553007544255,-0.014524231290700327,-0.04670659258650476,-0.08441683384250383,-0.0586737823938516,-0.0001063126787125097,0.08381951454342317,-0.0016351064798118082,-0.03335191024138754,0.03585409459002186,0.07236571551368796,-0.06204259183692496,-0.004119387680620273,-0.030746451169358754,-0.08160295487860016,-0.014811651941552805,-0.08317131670552375,-0.08042110440934075,0.03779825026226328,-0.0822905226753675]},{"id":"chunk-7db5cddc-175","content":"Example of accessing methods on a RunResult : run_result_messages.pyfrom pydantic_ai import Agent agent = Agent('openai:gpt-4o', system_prompt='Be a helpful assistant.') result = agent.run_sync('Tell me a joke.') print(result.data) #> Did you hear about the toothpaste scandal? They called it Colgate. # all messages from the run print(result.all_messages()) \"\"\" [ ModelRequest( parts=[ SystemPromptPart( content='Be a helpful assistant.', dynamic_ref=None, part_kind='system-prompt', ), UserPromptPart( content='Tell me a joke.', timestamp=datetime.datetime(...), part_kind='user-prompt', ), ], kind='request', ), ModelResponse( parts=[ TextPart( content='Did you hear about the toothpaste scandal?","metadata":{"url":"https://ai.pydantic.dev","title":"PydanticAI","chunkIndex":175,"totalChunks":208},"embedding":[-0.055361525224838205,-0.04889285976844415,-0.03535499031156842,0.08088056325036493,0.053259657004520976,0.030449933543160803,-0.012971577319517053,0.06584517112992913,0.04030613912964395,-0.036492491775990475,0.000003943148738488403,-0.01628120537006028,-0.026511654662092446,-0.0803185096530522,-0.0016231408135223612,-0.06585172567055754,-0.020638562469674982,-0.08403823786090506,0.04114972763566473,0.07689053031889694,-0.08494947215546608,0.0002869399492634849,-0.08267035745051105,-0.020781042353094668,0.08131296462987503,0.003982361775788931,-0.08326302385767269,0.03460874822727194,-0.0817641053907834,0.016650751152374136,0.004776074012828845,0.06712105878916332,-0.07594450775414867,-0.030184208588968326,0.0894367295418761,0.07276607449184959,-0.03408431496473238,-0.07495079769075415,0.03210560661585952,0.08573478064242554,-0.06302913792172209,-0.04144893696248891,0.06710941582974433,-0.07179054885135387,-0.017126561076551538,-0.08268667580340697,-0.062024957851866354,-0.039787599933402605,0.08651755903572735,0.0024442004964069825,-0.046557537859015556,-0.05311699608374453,0.042864692197762386,-0.05809723730097348,0.08749583363767718,-0.0325820742626753,-0.011419799541437644,0.016246409711257476,0.01687587053010599,0.07711210620592517,0.03960114154019548,-0.053501166519437066,0.03839983993372784,-0.06366552469547539,-0.06353466077915332,0.017477647480431718,-0.0047691203550376425,0.0003950912743846865,-0.021787994872317012,0.026066771635864537,-0.06425043082986912,0.03760774438666676,0.03808837986449469,0.04473580496974407,-0.0021770033788232786,0.009294759480965717,-0.03577157255180988,0.02342867630612443,-0.027515227955201338,-0.005621942275086433,0.05440400759106525,0.05959370247378197,-0.015318876123706731,-0.013873394055749682,0.03234120391406335,0.05916045655736577,0.07546701866419037,-0.016862386789586,-0.03235341605712217,0.0863335888063649,-0.010660316872972296,0.037658730786866296,0.01769080708257697,0.026159282121077848,-0.07321369528708269,0.007307067212077378,0.052264801894834095,0.07942363426794899,-0.07810966628488156,0.05871591714155957,0.027407627436925784,0.07440567694031741,-0.0008323882976061071,0.02476680561255863,0.07604076818941315,-0.06247729079334589,0.031266701435915076,0.054173722861078626,0.07592714202274135,0.06939459075591724,-0.050933983941724215,0.0038231903290031587,-0.020001461700886815,0.028196522636614218,0.05193024111462834,-0.014512554632462359,-0.027819004862951177,0.07825178351584544,-0.012090569958853905,-0.0281319563263826,0.07295017559863583,-0.03484327387830858,0.011714376038100929,-0.041488089578031996,0.003630470399488078,0.030158951792712253,-0.04261898080854306,-0.07880042390260279,-0.0495252687172329,0.08461038787192875,-0.029260080238134763,0.005540200514455473,0.07390158436635999,0.08803445140812387,-0.06699460726200902,-0.04305935312934896,0.036694392357395834,-0.0717146238675067,0.08460308551485067,0.057543595954399604,0.060772318020891836,0.01706364493173557,0.05237830545919457,0.0860876160007576,-0.0898336090570236,0.08590197221904036,-0.06394080806860943,-0.0444899595695385,-0.08401271882357951,0.07876032793196516,0.02279988357320346,0.06390248709617169,-0.036631851143220796,-0.02839800377364759,-0.03588449503367235,-0.0005093291808356184,-0.08781544123487355,0.006420696943524403,0.0753491608641552,0.051622987306903866,0.08327872995848487,-0.05334901164065676,-0.017286746767686403,-0.046388867017658014,0.06113972531309281,-0.033428823941862855,0.026869722966375884,-0.026525601731322183,0.0028272213230332347,0.01840850299914002,-0.05723519568318328,0.06139836891602473,0.048554652299490346,0.04132614636169051,-0.057089206968539884,-0.00030096422358084153,-0.06379150457054968,-0.08757311133443292,-0.05646629716719944,0.08223858298391162,-0.026676242745965393,0.07560417237338928,0.06404258005078066,0.08803981375809734,0.06076623439674104,-0.06378549511899977,-0.052218252555143736,0.057989266799173544,-0.0029018790402446084,0.04237973480400731,-0.0014973915514802883,0.047914074746845135,-0.07291166142079593,0.019668869194461355,0.015880079282261372,-0.040971977914105714,-0.050959967943518814,0.08004655570745627,0.04573568424315094,-0.0026126192030802163,-0.039716967243872706,-0.04337342812943775,-0.003876636683743373,0.04937328699441059,0.014019919195732693,0.019660150497968334,-0.010201997490794718,-0.04688105490972545,-0.08028479815419118,0.019263192699264603,0.01794606340611319,0.04766922243232171,0.06108008802300639,0.02575684219776195,-0.06672484820052656,0.03699355893894821,-0.036363401330938516,-0.06413257419436716,0.0018639856579891034,-0.030264503631025206,0.08935923403125676,0.08974369517526061,0.015560259897083416,0.05759722761253297,0.017548615280707593,-0.06560705176045754,0.0423074202741844,0.08919269836124395,0.04474107715492063,0.018443014932910333,-0.022632529180335974,-0.017218366923284652,-0.07202931402118563,-0.06461221848992409,-0.002625079450282288,-0.05949644514208243,-0.06311542663987961,-0.050121887409531066,0.0132182002461404,-0.08700157164031941,0.023071655787705623,0.030539145535770883,0.01935709787795483,0.0075024697123553,-0.050490719211631827,0.05461513696505175,-0.015580153471899442,-0.027694215501775928,-0.052565032677370636,-0.05324216891224994,0.01661050125887842,-0.031188465922871233,-0.0003290585789625307,-0.06515349080655293,-0.014884509675769198,0.009520157759036486,0.007325730616875972,0.05344317381711001,-0.07875973668786883,0.018529989314723775,0.053243327712866016,-0.044999503084560404,-0.022617579480608267,-0.08039077724500535,-0.01244722987908674,0.0697745600624694,-0.03620349385375502,0.06744380660791913,-0.0007870629307101714,0.051239042225296426,0.016357081579774942,0.05135199104644172,0.005309256826218237,0.08534214232527422,-0.029749584065945585,0.04880160554131832,0.06267204505881725,-0.06354381660416052,-0.07629623000642467,-0.00772447730154025,-0.04689588008268542,0.05896475854275348,0.017354527342367334,-0.0809437270449875,-0.004453602278560665,-0.0007243095520312373,0.07070545555975168,0.03982125798689617,0.06507623292785578,-0.0641944797492264,0.03031022001283249,-0.00580154098172362,0.06672273731773647,-0.08230899789263006,0.07047852623570432,-0.0010654144511898986,-0.06836500939941247,0.06525694302187783,-0.07127311485354508,0.04769107433345755,0.030571502510385335,-0.07754319596466866,0.07895050209333646,-0.003467154770733188,-0.04522828062066058,-0.07452657452176245,0.059367191813219984,0.03319110583158764,-0.014786614622888912,0.02261147922261434,-0.03674600170596695,-0.06378442211199582,-0.07174547312904253,0.07222134883057313,-0.017016936119536617,-0.035176779135149126,-0.0647966165177113,-0.04132104529386326,-0.06431231446708502,0.08413692800368293,0.040616503623299896,0.036950486895326075,-0.05132980721649273,0.022180179073435554,-0.01641403600883016,-0.003773234298254676,0.030657914561788947,-0.02968506469039009,0.03672791815747128,-0.01745853394231864,0.02550294868540228,-0.07575212044254172,-0.048178322735881525,-0.044244025126475815,-0.056226183874860086,-0.07118088266531786,0.015026886770422073,-0.05782489782970361,-0.021465717066892986,0.041559966406163724,0.06646582260163304,0.04223537209073603,0.02938003665323611,-0.00921366728272432,-0.040404262006523584,-0.006166279596762064,0.038363919357303745,-0.038415148621185696,0.0260873713306016,0.03431084728318808,0.0775375725703295,-0.046034815793307315,0.07647286946099426,-0.06171925756583043,0.009023309417857226,0.02872955875927259,-0.005298091779954665,0.0034279646196505543,-0.061190102904160326,-0.000055029054783291284,0.0073527724385516,0.0006167277894469339,0.06307564373836577,-0.0832279039838097,0.041264448092103986,0.04807441970707811,0.06346294968090015,0.029418102298513597,0.03627748606165352,-0.04887424002133703,0.055325046651040634,0.0597607654099714,-0.04323367843051045,-0.023213508785626728,0.06976334677893287,0.030899067747027456,-0.025273705088226177,-0.07035428001163668,0.0749977200204049,-0.04977576347691209,-0.024119794435926115,0.029965220103594346,-0.07206516809925072,-0.08548789913751352]},{"id":"chunk-7db5cddc-176","content":"They called it Colgate.', part_kind='text', ) ], model_name='gpt-4o', timestamp=datetime.datetime(...), kind='response', ), ] \"\"\" (This example is complete, it can be run \"as is\") Example of accessing methods on a StreamedRunResult : streamed_run_result_messages.pyfrom pydantic_ai import Agent agent = Agent('openai:gpt-4o', system_prompt='Be a helpful assistant.') async def main(): async with agent.run_stream('Tell me a joke.') as result: # incomplete messages before the stream finishes print(result.all_messages()) \"\"\" [ ModelRequest( parts=[ SystemPromptPart( content='Be a helpful assistant.', dynamic_ref=None, part_kind='system-prompt', ), UserPromptPart( content='Tell me a joke.', timestamp=datetime.datetime(...), part_kind='user-prompt', ), ], kind='request', ) ] \"\"\" async for text in result.stream_text(): print(text) #> Did you hear #> Did you hear about the toothpaste #> Did you hear about the toothpaste scandal? They called #> Did you hear about the toothpaste scandal?","metadata":{"url":"https://ai.pydantic.dev","title":"PydanticAI","chunkIndex":176,"totalChunks":208},"embedding":[-0.051627508166766346,0.08115261706523268,0.050089679012589046,-0.08394338557567492,-0.020982866068481997,0.028483836760611524,-0.08873929966443009,0.03819091356212707,-0.08851496536327925,0.016734071188193367,0.05827813194444658,0.005669396181906312,0.035778931320852116,0.0004208425814247636,0.0404381728269235,-0.019502810071327054,-0.07781825618519773,-0.030686292743915693,0.03202420471435289,0.023091297308849606,0.023455765455066866,-0.05820499432874212,-0.04778921829450191,-0.06645657512299384,0.06475158783757787,-0.0003979386068947451,-0.07990032241839945,-0.08788587184318407,-0.07288280898983442,-0.04194459171410934,-0.04682004476308708,0.05371339530414154,0.021126502102698005,-0.08078731083680518,-0.0026130455519349813,-0.08503688295444127,-0.06862496994979755,0.01745705580728455,0.05353150033280303,-0.08124577533563156,0.015244695811412353,0.08782698186137927,-0.05322154427636924,0.0462657699319225,0.008450404496078758,-0.04910532611382782,0.03157356697439132,0.036356302602611634,-0.06804352033636812,-0.043968289716964926,-0.07153212714760335,-0.07912833512735795,-0.009510093588172635,-0.010419265706192097,0.032636711486287995,0.004658425569263177,0.050277551213443065,0.030809188425156495,0.04735318951882831,0.06998726636435577,-0.06891107473216883,0.07953789643384072,0.05038211757982305,0.022268074726358618,-0.0017318357220120644,0.01592619322969045,-0.011496084739258715,0.08323584918580344,0.022519883920837386,-0.02436948386633083,-0.07865069149498935,0.005519262416051812,-0.02163704132347177,-0.038392541752848786,0.07484325256938203,0.034040651319560015,-0.03771597169842089,0.04254080869578651,0.003519469581786914,-0.01941904361290339,0.022195845125717234,-0.06242541527379768,-0.05735173056143202,0.03691838873757203,-0.04639812872393281,0.009517210474163726,-0.041016028998428204,0.051861314778044135,0.05667019122752721,-0.035036917946509386,-0.04439841337786892,-0.035135196509222415,-0.025002792333874816,0.02057222683342656,-0.011013695398815915,0.03230938688412086,0.03348340102870233,0.05757035471182528,-0.006343926835926566,-0.06204320171354483,0.02175200275174997,0.051151595543536925,0.042569965867397426,-0.039147125389551514,-0.03766645415992849,-0.08782976785809296,-0.028290730608192198,-0.0018444167114751461,0.0010781118427778276,-0.06705054484642568,0.037679425871143486,0.08500968792228832,0.03283801232325998,-0.03966608685317073,0.016963562875655296,-0.03305341342051204,-0.011342492890415695,-0.0846550311955576,0.04608767498316889,-0.08373864286224506,-0.08139844182060221,0.05508373320957394,0.05618398251021132,0.05510416869003594,-0.06143242364251575,0.052334725069714295,-0.008727889171173692,0.07431505799111787,-0.0066340050061003,-0.045229003944303445,-0.06088785266175256,0.028474862918201678,-0.09037999684814797,-0.05083363491546162,0.013382708469527032,0.06777264858622778,-0.07942094436426539,0.030672599063309217,0.08813534536686096,0.014657952368821713,0.05051446222818736,0.04518701225119024,-0.06234680510327283,-0.02289945612242162,-0.0567813018291163,0.06377253137166451,0.035583919866241466,0.02384432795262092,0.01499621697670417,0.00250187619621992,-0.031317562443123746,-0.049750268897319226,0.04007110084174667,0.06502815273358543,-0.07975219764947429,-0.06841239105491574,0.08592457143541013,-0.049580243115386786,0.03175896230688712,-0.012179249876474453,-0.03739755485332663,-0.004370201542141508,0.038266810943301165,0.057370880108540606,0.07525186294284802,-0.03327060031585582,-0.019107327673317985,-0.04528528666130268,0.03377965081578871,-0.008957749645997588,0.01900408916932347,0.03991478363927155,-0.038184366934581805,-0.07599655617518883,0.060332983246868185,-0.033209626308922824,-0.07171613237688151,-0.08915690053847251,0.033269998875618115,-0.014525960471340506,-0.05618425800190805,-0.023675905653338134,0.03998579408973683,0.05444637040446044,0.05164016992877872,-0.04182358110218623,0.042186833757511755,-0.06922146646832317,-0.010769584975857735,0.07116943256193596,0.03594800964948258,0.08538016623083802,0.0879802886325171,-0.02129173870731343,0.032661398834730765,0.059631426270880104,-0.05787200966589178,0.0586302761151858,0.0007653284182188476,-0.021615645367108458,-0.009365387546718302,-0.05723558552302859,-0.027901950604220033,0.07814077879026086,0.08604721764400217,0.015856460091960258,0.04132069421480559,0.08888287907204942,0.07335134986251077,-0.031195641322580847,-0.03415874393143526,0.03964294743250628,-0.0645625263909146,-0.07266506187680337,0.027029359842062145,-0.057232533368523894,0.04895198893362269,-0.08254840494262244,-0.04850557094234297,0.03896765231571864,-0.07039970303285666,0.03885961484958727,0.024978543779644286,0.0838217956904059,0.038275955744527135,0.02894517134373561,0.021582298416641825,-0.024457789389926543,0.046922588511640384,-0.01645588179422422,-0.05956924454592052,-0.029536439640980322,-0.028342538192975653,0.0760119223324296,0.053269739760738365,-0.02823431417940081,-0.0013948011784732108,0.013107867748414216,-0.026308362965746606,-0.03666129741336328,0.07845038496753268,-0.07703249977605518,-0.08201542216709477,0.03647409006392647,-0.08131632654689737,-0.06558590537541677,0.025887393810930782,0.06647694106608092,0.0004597367981323346,-0.029325267537180694,0.045185950604996625,0.00527304670970765,-0.0830061988331634,0.07125667746268562,0.01768587888067947,-0.055680523406954396,-0.0032786167367216063,0.03496502231846941,0.01670980341178935,-0.026593484307893128,0.08186823361714352,-0.0648256471959002,-0.0330260412169347,0.05442426543110229,-0.08790921653798378,-0.022020320021610192,-0.0018245899628027066,0.0028704488770349744,0.015985371892450532,-0.002836372133371458,0.02872373941494422,-0.035222073318779926,0.046425613543682145,-0.05466725155852782,-0.008976049442400106,0.0861944702289552,0.06531776122506469,0.08114097385408447,-0.084198843796194,0.053411505103246965,-0.07317214490224495,-0.08486989892818825,-0.03527199597168127,0.02421572476976251,-0.08669794653929612,0.029992297986220655,0.036109876442806936,-0.08318625833986182,0.041836828280019674,-0.0774142267353413,0.018354573070490786,-0.03721839027437512,0.07277399913091878,0.035991336862684284,0.03979895165088126,-0.017426153352495824,-0.02675090887731783,-0.07875417164638357,-0.03845897190581599,0.028631971440469767,0.026540711880741173,-0.056419390220588256,-0.01041640115984322,-0.04037499510774899,0.06896782427331054,-0.022947536569409586,-0.08316774488474267,0.004059398889420609,0.055860262676195704,-0.08269590735948715,-0.03752338407019877,-0.07327569675673827,0.05164969194235737,0.05244770029464391,0.057371542254720596,0.02772817377465968,0.06021181792676313,0.030248311254959803,0.008222984014556133,0.08657928342349248,0.08235093860390288,0.0895680199363675,-0.003936204041842036,-0.025017775046487487,0.05242910074289397,0.038353134289953156,-0.0025836138606995084,0.06106382014973099,-0.0005167950187777711,0.025953111747937248,-0.006459086505057368,-0.02553362742971582,-0.012309274208431838,0.0860750598464758,-0.043732924249552295,-0.041613857069806526,-0.05586715863002581,0.02475067844354449,0.015098968386271373,0.01556220949186384,0.06512688169936312,0.07298852205389211,-0.014801528123591227,-0.07332986832815865,0.015164796328029305,0.00857700135249321,-0.05263525855648443,-0.08930622712501589,0.018554876577994293,0.0427885539886308,-0.026149146077629276,0.06025670979315296,-0.003030454978039569,0.04604728621900326,-0.07255588232935749,0.03931560763257004,-0.04297123254410209,0.0034812017177033136,-0.07775605229631614,-0.011291938491162291,-0.08306769566148615,0.06203053456944895,-0.012468669396537504,-0.0383876879952011,0.01644132663613359,-0.07693298482399175,-0.05900331405875758,-0.07475695606119438,0.0107932420046815,0.010657843433556401,0.06350331629764437,0.074269389871631,-0.017149134787472278,-0.08016652199543423,-0.027278679851198778,0.020161646939485637,-0.07188144026601971,0.05962903920281901,0.027930180670544102,0.06318378585810205,-0.018857346570959242,-0.06884240124104656,-0.03896867579977331,-0.0822388303488075]},{"id":"chunk-7db5cddc-177","content":"They called it Colgate. # complete messages once the stream finishes print(result.all_messages()) \"\"\" [ ModelRequest( parts=[ SystemPromptPart( content='Be a helpful assistant.', dynamic_ref=None, part_kind='system-prompt', ), UserPromptPart( content='Tell me a joke.', timestamp=datetime.datetime(...), part_kind='user-prompt', ), ], kind='request', ), ModelResponse( parts=[ TextPart( content='Did you hear about the toothpaste scandal? They called it Colgate.', part_kind='text', ) ], model_name='gpt-4o', timestamp=datetime.datetime(...), kind='response', ), ] \"\"\" (This example is complete, it can be run \"as is\" — you'll need to add asyncio.run(main()) to run main) Using Messages as Input for Further Agent Runs The primary use of message histories in PydanticAI is to maintain context across multiple agent runs. To use existing messages in a run, pass them to the message_history parameter of Agent.run, Agent.run_sync or Agent.run_stream.","metadata":{"url":"https://ai.pydantic.dev","title":"PydanticAI","chunkIndex":177,"totalChunks":208},"embedding":[0.02776728432892271,-0.006285789890272717,0.05747852010219351,0.06734595128978965,0.010463157156792715,-0.01854976461750693,-0.06276446610146182,0.02987919810476202,-0.0062939357928040885,0.05624585195769122,0.06227990629946603,-0.035358109542837066,-0.0187491166841532,0.024432097893317926,0.0682917501237488,0.07754618984310624,0.04267595699464971,0.058091651719718196,-0.07558728648600764,-0.03150823969383719,0.012659353111551369,0.03461095089264098,-0.06070057804449317,-0.083165048936391,-0.07149455398582107,-0.07239636447023749,-0.043405942757818755,-0.05304406909824073,0.04798642461111211,0.023463834132862398,-0.05537078083288501,0.024904165771542766,-0.07710858968164767,0.05174657249502216,0.010696326718212195,-0.06639832497813286,-0.0029725565527192696,0.08152394100146433,0.03698974717053979,0.07871911239665477,0.07671718258184716,-0.03339163284502939,-0.04834779102181367,0.05010103292413448,0.029673452886531934,0.03151255410412588,-0.0030059063402912483,-0.0581615861149497,0.03292049976101596,0.046851457377775796,-0.05924224572437579,-0.02715273292529472,0.001071179620638741,0.08110083753510942,0.03342713814144458,0.05819865348816763,0.011322999483689325,-0.002876833405072473,-0.01546076184062178,0.08777847166407321,-0.018949408130785456,-0.07620008800754646,-0.02499270987169802,0.016076391560207813,-0.05766017102628604,-0.024655320611839594,0.06643232065051846,-0.0196934678370688,-0.01602214624185337,-0.03898046221181449,0.020694453261466236,0.037992434656352506,-0.08329517299623602,-0.018344666780148705,-0.012595344665220715,-0.013394341688546939,0.06813686071762208,0.06821919961422093,-0.04605880620263997,0.003107790778408158,-0.013404620807048306,-0.043493211759196564,0.08335692808735715,-0.0654073727601557,-0.07841886205782589,0.0844739683190025,-0.056821245828370184,0.0690219820923235,-0.04766950777531961,0.047595231530592925,-0.051490154406015634,0.002885755776317167,0.06390936133152023,-0.021300099781345828,0.016273973591123238,-0.0684895035647333,-0.09038034260638841,-0.045709652563254245,-0.045905104364984836,-0.0694652903160046,-0.08880032414783232,0.06493944992431731,0.08999201021188719,-0.032095926105706295,-0.0482532041230656,-0.016269710545280924,0.05128584851321625,-0.08821256475874494,0.029747454599385957,-0.0010448865492167574,-0.08485394667806677,0.06594400543010004,0.023484163093795134,-0.015794890757902715,0.07511170457453742,0.08501271698818486,0.08047437244044363,-0.07401835200016867,-0.05501056667697034,-0.0861021815456987,0.08032972045466184,-0.0538646848769925,0.032385610738233116,-0.01944735636986927,-0.033674793211885976,-0.043297305250965486,-0.08725270468375754,-0.040626266463891794,-0.07349333816421982,-0.0038537193528944214,-0.042266055457332044,0.0006832505453226004,-0.03208536051226729,0.04110608454913319,-0.08001526378202195,0.07888425845484384,-0.07537068759008853,-0.04895862020440296,-0.027116064560193477,0.08331077000991341,0.08740197143900116,0.04796130193311269,0.010248147786598563,-0.060955461862631205,0.03298983036307745,0.040728022849469185,0.025957500483485156,0.08984077840465855,-0.0380768581096068,0.054760954661417546,-0.03719817714381522,0.009664315088747594,-0.08658499893898018,-0.06683062759360679,0.03746401116421606,-0.006545455385687395,0.0390114860518005,-0.012265953117521107,-0.06338777291874714,-0.0859656746307239,0.005935608226342588,0.04103854480810602,-0.007557354932972588,-0.022179392963374615,-0.04535683240218109,0.052420168845497946,0.07498781896021807,0.05301823336515078,-0.06729467504283754,0.07229537377113272,0.06124602209644019,-0.02584953514254485,-0.08014911782631165,0.07177422301796821,-0.005424416686221436,0.017314994845250287,0.06762612687902025,0.011366252502291434,-0.08051504662949285,-0.0018312232103484681,-0.0207125851773145,-0.043264825759123764,-0.01815462228557196,0.06267531386194124,-0.0026906406425042982,0.010006805143295914,0.02557519128446926,0.07884572992831863,0.004548116032287452,-0.08146135182902023,-0.022909163366470576,-0.07975775781080655,0.01861234801427702,-0.046403624030796904,0.062227895414807326,-0.060388139141077,-0.04370596730959622,-0.032079936883566876,0.08002201470568086,-0.055511355903958344,0.02244096688766677,-0.037757051063906394,-0.03468252747830534,0.07544132774111609,0.06499210882886318,-0.031926293106721355,-0.05743899421803279,-0.012692822727335929,0.04852780274594308,0.02991294627460926,-0.08928270778901048,0.045322568408581725,0.06311845799693455,-0.06868835593422123,-0.02129695002661883,-0.01875542089972719,-0.0889083369985842,-0.042842870002589295,0.05278426596003454,-0.07105672904445387,0.06169193935625905,-0.0421256153448731,-0.04481861538845569,-0.048869474138695614,0.04873537445926438,-0.01148337272580323,0.03339600787968152,0.047379971503046577,0.0076755751377039815,0.0314855658395565,0.00466725905006396,-0.017219481814165383,-0.0030993785418083485,0.05468600679243002,-0.052847749025131105,0.012158936557567822,-0.052341291913441244,0.03994911669632447,-0.022063601594958113,0.05588573191143485,-0.02166791225909558,-0.06889896269564805,0.05148812862444087,-0.08054116274941972,-0.03444967360818578,0.07949461476125602,-0.021657638384084823,0.0333783995577018,0.08632448556989478,0.0724082377823384,-0.029877758686290824,-0.06763189268715561,-0.004649080831995636,0.0647877731867359,-0.0882673099113535,-0.036801079658251246,-0.008398653979426605,0.06704707646012152,0.020399293986238295,-0.016849534676547716,-0.09023573126728196,0.022225194360466424,-0.04979669723412964,0.08869465543729438,-0.0585107238422082,0.06136716287855032,0.03534705660748234,-0.05296693986519735,-0.046349961237831444,0.038999424819965114,-0.06324343769443683,0.03430877094103413,-0.05620798242878183,-0.05868306369438535,-0.048043284141249455,0.007779550010494882,0.00000655312366806478,0.08138932383359714,-0.05993373234971268,0.013371033009538588,-0.06310297542253132,-0.050881969163088424,0.0624852178445846,-0.011388042547121596,-0.019286175204644155,0.012806047725577517,-0.03956078580726786,-0.08140006726439204,0.04107680417630003,-0.03186050372368961,-0.02596268183621761,-0.02364781631484776,0.07962879623867967,-0.005047266194704783,0.0687059603099254,-0.015905469244447717,-0.028179524258116113,-0.01874971475611494,0.0880768844947469,-0.006705972805781902,0.07626850810663346,-0.07359492943144755,-0.0014341383865255353,-0.017465637953482556,-0.07454162403661263,-0.08744590479173071,0.04768052466250491,-0.05568386047325831,0.060608618606700394,-0.040422059182161046,-0.012705823058594926,-0.004930264010928469,0.057713949015241295,-0.08038245581618167,0.04437531426911628,0.020515266737038823,-0.0067924324478079,-0.06948075286722868,0.05277603487917664,-0.032559046012913186,0.003821747573762915,-0.006863664207940917,-0.04007952724724513,-0.06619214056940753,-0.0070306111012289245,0.04047199624967226,-0.05586213415120228,-0.08878807476609016,-0.035199714051706577,0.041084454992735324,-0.0035813929954601623,-0.058031059096430915,0.05953867029731631,-0.018858850920790097,-0.04907157957165967,-0.08807287096790271,0.054553140948615,-0.0803711069027084,0.05069566625951114,-0.048519835867980796,-0.02625500134031343,-0.03422256001189631,0.08767381237193611,-0.04001475392850502,-0.04916942675839599,0.04262434894087816,0.08768798294308026,-0.017766478301120374,-0.03218493176828354,-0.0021544894210601606,-0.01835387683573397,0.029841993349842333,0.04849420994301938,0.014659348588441229,0.0005526069936656685,-0.07669953488957597,0.00019229193195792826,-0.015130931537247162,-0.015491453832002467,0.0032234633703607774,-0.018514907579508386,0.009025589865688983,-0.0508850033977483,0.03733384195589428,-0.0016981809171482496,-0.0343753475765843,0.01096423334652226,-0.035515577154404315,-0.05867690011351349,-0.051032147492219126,-0.024650581422699054,-0.0027763212264917537,-0.06787152972230635,0.025119469445816105,-0.013247638141439349,-0.010554944062431581,0.012418961065913165,-0.0716434568193422,0.08877822860235358,0.028843851116432746,0.02069463858981706,0.030187522206309637,0.09046190877087905,0.0056658860518727025]},{"id":"chunk-7db5cddc-178","content":"If message_history is set and not empty, a new system prompt is not generated — we assume the existing message history includes a system prompt. Reusing messages in a conversationfrom pydantic_ai import Agent agent = Agent('openai:gpt-4o', system_prompt='Be a helpful assistant.') result1 = agent.run_sync('Tell me a joke.') print(result1.data) #> Did you hear about the toothpaste scandal? They called it Colgate. result2 = agent.run_sync('Explain?', message_history=result1.new_messages()) print(result2.data) #> This is an excellent joke invented by Samuel Colvin, it needs no explanation. print(result2.all_messages()) \"\"\" [ ModelRequest( parts=[ SystemPromptPart( content='Be a helpful assistant.', dynamic_ref=None, part_kind='system-prompt', ), UserPromptPart( content='Tell me a joke.', timestamp=datetime.datetime(...), part_kind='user-prompt', ), ], kind='request', ), ModelResponse( parts=[ TextPart( content='Did you hear about the toothpaste scandal?","metadata":{"url":"https://ai.pydantic.dev","title":"PydanticAI","chunkIndex":178,"totalChunks":208},"embedding":[-0.036115221144095315,-0.01029825183161301,0.0803481848848876,-0.062256311004829715,-0.01888882654209453,-0.026135778285452424,-0.08592286714595432,-0.07072906534996769,0.01752918259262112,0.014168757106121812,-0.02949664091483511,-0.021944200996819357,-0.060377189475432524,-0.07250150050290056,-0.06290517299563296,-0.06139290006066262,-0.008131031954067721,0.006711697618035951,-0.08339392842967842,-0.0234775895223992,-0.04119272257566505,0.07471705116369949,0.01469107808064311,-0.07956691123250659,-0.009165289302580268,0.03133768293582451,-0.043557644805644516,-0.012599283874699557,-0.03514055106855484,-0.01614270112124581,0.03964298405857616,0.08408030649336275,0.05372494497712711,-0.06620190810791121,0.02475858163843183,-0.019928309438758854,-0.013087070053619069,-0.04561322493589444,-0.05366852796110288,-0.057735855007485716,-0.06245945740168728,-0.04139454253876283,-0.033830961727006365,-0.013570982716452658,-0.07955300010358443,0.0378400827530732,0.06847681465008378,-0.07281969319493203,0.08368050032637843,-0.07289076931739125,0.04428935256715272,-0.06619861946620105,0.018654292536956968,-0.06084222161400828,-0.062143119373221034,0.04994536776355733,0.054734663526927366,0.07776463549255563,0.007822797549469997,-0.05919156578192385,-0.004350214296371562,0.03249648405162335,0.0732176735018876,0.03654573951021775,-0.0038936996985019937,-0.0857860156949707,0.057274126555207305,-0.038162552568960215,-0.08608621008410285,0.015007246880561629,0.07220196948004713,-0.06193323414962942,0.05780142396230197,-0.028448256663058513,-0.020535388516359603,-0.08335410183733208,0.055939834191534,0.07146939450311372,-0.005971989543456677,0.07033750571296618,0.07781909595521222,0.03100979986826317,0.01078820062547499,0.06999104080261938,0.0510795776771528,0.03699647040161146,-0.01920669388098228,0.050721772275254755,0.05307633962683357,0.08166956460660257,0.06228942836494111,-0.031218531468606047,-0.08026137835236005,0.0716092296467034,0.07455747841224794,-0.04372674400498111,-0.03339166357483914,0.002964774280159363,-0.03630490507115523,0.04621579062220326,0.0018383913615052344,-0.07821222355378604,-0.07046418218656215,-0.042562678502778166,0.033246834399580816,-0.07820254146473317,0.03462349046956556,-0.005696425587741499,-0.06830472520860688,-0.05362014969247806,-0.07993305898406344,0.0030097720623912362,0.0026278487977746358,-0.05022605294186013,-0.05832709062231123,0.044309539524633096,0.07544977897029644,-0.06347686580228876,-0.029974777578469947,-0.04244747744093339,0.004429199982980416,-0.05725638399124738,-0.04272613100968751,-0.05530339834230131,-0.030751929620856513,-0.07842369805615014,0.04585954968259541,-0.0068895375355167866,0.014617764041291666,0.0410186663601994,-0.0796385807767468,-0.07812995147586281,0.024239985026704998,-0.04224431749965446,0.06411251833818603,0.055992952253720675,-0.002615222919918196,0.05874551287092635,0.010386081521031503,0.006248028785763835,0.03872166074024847,0.028742247007983144,0.03849545407146256,-0.03907829530437995,-0.04346529313648242,-0.013630789015318895,0.05418352500343451,-0.01329540893014576,-0.0767201577223491,0.011816205235137323,-0.026229156280572638,0.03058298957203044,-0.05341553986458957,-0.00037917308186388097,-0.059450290278239906,0.03490924370596832,0.08222989989363384,0.014756222137827686,-0.08074614409542691,-0.03534184143152775,0.012230867248727316,0.04171669023903634,0.0065705496785360635,0.038717477848652475,0.08122638703052606,0.07100776415326575,0.08382092346930524,-0.061158417518497786,-0.0006802200542007077,-0.02703590232927606,0.06045432595922089,0.06438249712508866,0.00012868587147343784,-0.03765435948673967,-0.05109225511231228,-0.05594522119570963,0.014018037411170275,0.020116628717828187,0.07610788839707963,0.009635372341257891,-0.037763141806106626,0.057565062844993874,0.02992019896177787,-0.07922420374117985,0.06717208090322863,0.011995189914269129,-0.01978268522135718,-0.03924582176968723,-0.07791862984650319,-0.06416452999623264,0.043586894858644365,0.02665493344294402,0.001814917142577057,-0.050157420891453065,0.06377620805262772,-0.018750932103359617,0.0492024534141661,0.0746770606391487,-0.06140911015148793,0.04855200873684782,-0.0218620105643145,0.044188378682835386,0.014304107338330483,0.04749476876629906,0.03493695782447968,-0.06742050798417204,0.08449409338190111,-0.007792375929045834,-0.0491296644605377,-0.055502257696774554,0.025326391194368036,0.043422010512260335,-0.011235373115733664,0.014708587929477721,0.06354181258722867,-0.05354426178177517,0.006914111869812309,-0.03492846400057218,0.05804413347253854,-0.05588245320787199,0.030090131952455267,-0.06729878563450035,-0.07223077505102969,-0.004585473805500744,-0.022543641328038332,0.06477062739360978,-0.0335646888541633,0.05440329753762373,0.05649166886469886,-0.05192025534039194,-0.04818681817101046,0.04003702895134366,0.07439767064252091,-0.04794258609546026,0.07695536261865746,0.07516751309704457,-0.08515191235563951,0.07327913213991132,-0.03958323490693727,0.027253284344988835,0.07539354817235701,-0.00038306815530987593,0.07896335555349257,0.03501399424502216,0.03344410332453016,0.0449267342732693,0.06364339764099743,-0.04896852964725737,-0.03478022937704049,-0.05541726587702109,0.026835813112145314,-0.00475654596751257,-0.03207814955427499,-0.08617318453792859,-0.04920250481567703,0.07655008805182895,-0.06906338459714917,0.04901312525059836,0.06414895826297387,-0.008113101461055395,0.034106965539690115,0.040708176097044114,0.06696254709638431,-0.07842820159174789,0.08023578248247834,0.04940807498062358,-0.03406752279963887,0.006415269893412679,0.03374029583092122,0.0772245044472211,-0.0016534631040150802,0.07165166318982694,0.011062581364383662,0.0047074079922532165,-0.056276553462592076,0.020728602879498896,0.07205235048311444,0.04443629092301446,-0.011629036069169964,-0.04254611834818862,-0.0016698650231668111,0.029621484238845763,0.00964941827592849,0.004619852376292846,0.033420621531093334,-0.05265486979990579,0.008833063051858785,-0.014566295314459656,0.07389825799226268,0.02394471738752584,0.0765544778876256,0.02333132140363244,-0.030396685775673456,0.06820820428165841,0.0017917791390167244,0.052689360449233454,-0.03055865331821564,-0.015535407372158895,0.02908430521395865,0.028809101421038805,-0.00818456556845812,0.07824557185223967,0.07135754835704697,0.03561918355598191,0.08067159691417455,0.008187724272864324,-0.03255683469587448,0.048602994294466184,-0.00017080793922738928,0.034060871842594376,0.019758774723776053,0.035606436749719694,-0.05067587398484028,-0.08055322612527907,-0.04080422525419559,-0.017970061453700656,-0.06488431336074894,0.004438278843409832,-0.05361786596214227,0.06993176452693282,-0.08122375820421518,0.049900790941519536,-0.043202722841425865,0.016069700031204563,0.070650170203773,-0.01602006647262664,0.040091234427114715,-0.0780486938529079,-0.06854020672007528,-0.08190572570175099,0.06528076421298312,0.06351775038441705,-0.07458269764600567,-0.01166931794959101,0.062277455744958105,-0.07771463208155663,0.04197750509639099,-0.05104873381744685,0.005207267661367079,-0.0029478884695493123,-0.03500314188709445,-0.010761935822021684,0.08387537956766485,0.06325637199463628,-0.007499752565129959,-0.06756519387083702,-0.07820139262597296,0.08499096384543933,-0.027098644357724515,0.031373622731317774,-0.07614303898506357,-0.019942296621135492,-0.0306549611257009,0.06792478533337187,-0.08175783957119748,0.07584304075403896,0.059995652949814814,-0.06637276365535492,0.027660814518212916,-0.032470647736119455,0.005231990010714653,-0.0578091400552284,-0.049780098905453395,0.009884583263335436,-0.03653890250884449,-0.022090407228191746,-0.011430855729884577,0.07589899740258534,-0.04985325700849197,-0.07092923286126072,0.053030098699765035,-0.039574195373561834,-0.04989938491136842,0.08443034169823048,0.06778522977322901,-0.0844674017693427,-0.06840633252087863,-0.05471431353340015,0.030006899782615126,-0.004366252174947908,0.003600082389421082,-0.07765965484926704,0.03308081429214842,0.005987535481394332]},{"id":"chunk-7db5cddc-179","content":"They called it Colgate.', part_kind='text', ) ], model_name='gpt-4o', timestamp=datetime.datetime(...), kind='response', ), ModelRequest( parts=[ UserPromptPart( content='Explain?', timestamp=datetime.datetime(...), part_kind='user-prompt', ) ], kind='request', ), ModelResponse( parts=[ TextPart( content='This is an excellent joke invented by Samuel Colvin, it needs no explanation.', part_kind='text', ) ], model_name='gpt-4o', timestamp=datetime.datetime(...), kind='response', ), ] \"\"\" (This example is complete, it can be run \"as is\") Other ways of using messages Since messages are defined by simple dataclasses, you can manually create and manipulate, e.g. for testing. The message format is independent of the model used, so you can use messages in different agents, or the same agent with different models. In the example below, we reuse the message from the first agent run, which uses the openai:gpt-4o model, in a second agent run using the google-gla:gemini-1.5-pro model.","metadata":{"url":"https://ai.pydantic.dev","title":"PydanticAI","chunkIndex":179,"totalChunks":208},"embedding":[-0.018710110971532214,-0.06141458476136999,-0.06427423402682478,0.04913569014252271,0.05133964192363632,0.06527253050961153,0.007052187897511312,-0.07393448231636772,-0.06631419520575917,0.06351381062867657,0.04572990653997378,-0.0729112347785573,0.07301207110967028,-0.007264741935475721,-0.022519603914436054,-0.027262794549458923,0.03207476315669664,0.06907781591867604,-0.04180432943254865,0.05274048550344431,0.05706835681911247,-0.05360011711602751,-0.052797812293868256,-0.039478220403764384,0.02448196716693545,0.06741905207988295,-0.07795573901990462,-0.056882822098950306,-0.07959915436507946,-0.006938260444786799,-0.02947651694622718,-0.0797875233204782,0.032475356627442505,-0.013206365907485923,0.03175660227103525,0.020149450502164473,0.03990322719533515,0.05999183312508016,-0.016820073666331047,0.036550640740099456,-0.037567654647077627,-0.06678653757311732,0.03077160734370946,-0.04934725480610703,0.07244544516590194,-0.020060651471881095,0.08889417318050147,0.04142101416399602,0.06491189733088902,-0.03922355597228507,-0.06896388808731672,-0.03430093924363322,0.048439599915503895,-0.04538196350047959,-0.006162312745706354,-0.021911514016894285,0.0035704425766770738,0.05905454918522238,0.08266376568207066,-0.048130240333917815,0.07578251985661323,0.05941256026400148,0.06547658483121065,0.01871651177939928,0.0608153553597469,0.0326786245010775,-0.03970790543080124,0.06073639150655432,0.08603062972231794,-0.014945412895150997,-0.013411412980145393,0.041570691943333515,0.07775361847137567,0.018259695413710267,0.010473117755323707,-0.04908485996245217,0.05480704477219226,-0.0034042805593232535,0.0013746808562270134,-0.048858525218429726,0.01708606095364152,-0.007981588851910963,-0.029257150347527176,0.0028650952534723492,-0.042429473007018104,-0.08837595013210107,0.03049234115123394,-0.07626536257208673,-0.04594972929427216,-0.08379052025062723,-0.008458491650021136,0.03405882441568157,-0.07533940493834099,0.050775128613385206,0.05303263023487604,0.05391503858104812,0.03223114538684618,0.0021391781852169597,0.0031899401845921823,-0.09025153317966642,-0.046435996710302505,-0.05169854291283182,0.02072253695979577,-0.07252091457783183,0.05861698155168147,-0.04161331347466156,-0.031076821076248935,-0.08600338380904647,0.05512330816001098,-0.0010814399333669313,0.004537528094694243,-0.09006891269962235,0.04025727979486905,0.08139320146005803,0.01959647731191601,-0.05820534963759666,0.03788311345226888,-0.0005370599265355432,0.005018349326247122,0.005652190407134501,0.01163577877918293,-0.05931549331721747,-0.04906632102163287,0.06304988902592384,-0.01436361589283042,-0.07111293839178841,0.01582647422658676,0.05559849560555896,-0.025979222822552755,-0.03647536226084381,0.044658814951505824,0.019471514045689635,-0.017145218740035325,-0.08200683171120844,-0.0016817377674722294,0.030049982584035996,0.0013173955749978732,-0.018361224873922027,0.01034966614642895,0.0009855612282201626,0.057283626707528644,0.025753797823844116,0.08232678600506423,-0.08837936061956783,-0.07580346909693256,0.01382941248272231,-0.03735045572342524,0.07750515888984513,-0.012683868868188496,-0.043588982967196245,0.033539192633183855,-0.08650918230483569,0.02997995849858004,0.020460082953960478,0.08433758953458012,0.05965856893697739,0.07404768152563836,-0.007720129828634854,0.011383006243986325,-0.002521497146727485,-0.016966028135907894,-0.054100666378106635,-0.03757894379542168,0.0841235916435658,0.07491031132555621,-0.009383294525448836,0.05985272553243975,0.0025774769655164268,-0.04493109554943475,0.053641786339697066,-0.06890735993768567,0.0043551534922257615,0.00793073867906905,-0.08592166375801229,0.08328062972710815,0.062446982712794176,-0.026154445069598447,-0.024667608841078503,-0.07759253195404281,0.03256402897351579,-0.056480269150986945,-0.05877773023038803,-0.018275000692799335,-0.021816478570941017,-0.0651492512038527,0.025850530502596957,0.059344777548223884,-0.007356496033551681,-0.08350439432407722,0.06727547147728963,0.07949298625236895,0.03845504837350816,0.049282921115463105,0.06333048193735692,0.08256015036394668,0.011428471793673614,-0.024620854644067578,-0.08827371764130984,0.023715115875067794,-0.02171859975115738,0.013079809035271946,0.07553078592800853,-0.04778041023414965,0.020828155493532136,-0.08490959301827379,0.04739905953500928,0.07137645521245992,0.005317288607646844,0.05541975719995962,-0.043040694138762,-0.033877239944082066,-0.04185782532526584,-0.06515852318686385,0.007549999255851143,0.07067869488725999,0.019841668238537478,0.055612312197896155,-0.05033712794346364,-0.024175128978574465,0.057626307666575435,-0.07761385795208148,0.07825171522857108,-0.06179907202815148,0.044938189229598836,-0.058448276759442565,-0.06327650611476572,-0.03481257730994291,-0.02381905756103899,0.01789356710720043,0.002995110907849705,-0.05703610201341808,-0.018860671635114762,-0.06868771155423704,-0.07983267656623676,0.0007548440471047608,-0.011387216941954865,0.07097856663156905,-0.07211381757851976,-0.060943265758869956,0.021360078955574496,0.0618587907303971,0.028898781184981924,0.00791980621488878,0.036852250560138654,0.0439613056653462,-0.03334443378694786,0.012871885716906385,0.004707651898354643,0.016645316703167854,-0.047747694552673955,-0.021128861995895268,-0.05088608861025993,-0.05559913310428126,0.011431773038760517,0.030050788014148233,-0.06226480608296371,-0.06564786086917598,-0.026689096714103955,0.06645570572223816,-0.08826939942977577,-0.06699203940817643,0.07626420261041358,-0.08718247082051914,0.009820002128129916,0.00421851815546257,0.03622657179300113,0.03969658360722608,0.07067632850742665,0.005201723999446756,-0.024784080181502518,-0.04140778811605335,-0.014413247178424467,-0.06266093216695964,-0.04206980396689598,-0.07747517185731198,0.06641592685301462,-0.030679146078882388,-0.0744696668901783,0.07813779693926853,-0.07409934785417037,0.05952490764775355,-0.07907857448703019,-0.03246179112601087,-0.0627711587194883,-0.08163537373016025,0.006175306976543823,0.041822189535680517,0.06483195373157062,-0.007911825363335376,0.023137137749619976,0.0029983006482302227,-0.05789344205215589,-0.07113976763749193,0.030950290832520804,0.05392450727075005,-0.0853175743446167,-0.08645922713780674,-0.03523059628955316,0.07051615890992957,-0.05054663060394926,-0.037063832736855096,-0.04708459412797283,-0.0887602195286655,0.03133779923234108,-0.002168780942668619,-0.06106021137314641,0.084770665181069,-0.07631767922871467,0.03386003133844643,0.0197909418530867,0.04050039690386946,-0.06708699813427912,-0.03624075423166182,0.06364639421642368,-0.04037820278926207,-0.003050270551196635,0.04636148846823644,0.07210998400294874,0.006916483776592718,0.07662450467012816,0.031018579375413625,0.0752158038220629,-0.05873065467634526,0.02894955908980561,0.02216732554972225,0.05216955185624283,-0.009257765894329617,-0.0666274394047266,0.07653213472800592,0.019515135931068153,-0.05008790163631039,0.07222578191851796,0.043782326655843105,0.060688899628440554,-0.08724238223979246,0.0066770102927886125,0.015208580405678218,-0.06809649800380627,-0.05669252702371534,0.08155009619359356,-0.046089940890269805,-0.011134531895041717,0.08711015609598272,0.001496621346433463,0.02986314947984609,-0.05181965338727838,-0.04120568077023754,0.007881496770767197,0.06635863754431637,0.08556063488301621,-0.039960122276940034,-0.015755347281477268,0.006209507454036091,0.018935935540573615,-0.06510211054440952,-0.00344828943212859,0.0076164384715789995,0.028298109446710722,-0.03421350998656638,0.0007614593503558029,-0.023894020352461038,-0.014439480268886178,0.02457322995433744,0.02036149063369242,-0.0638092627488979,-0.00009646889163617773,-0.058016461487188906,-0.06503978797350263,-0.033727527434442704,-0.02974911454795499,0.011773245699280357,0.0034558773845607166,-0.01519369304187865,0.06450112057163265,-0.0820983512039961,0.06904545853357592,0.024150360116961072,0.07539530527222729,-0.08718791902981435,0.011131318605046054,-0.08280388336021781,0.02571753361558819,0.015818807710552895,0.08746339644488789]},{"id":"chunk-7db5cddc-180","content":"Reusing messages with a different modelfrom pydantic_ai import Agent agent = Agent('openai:gpt-4o', system_prompt='Be a helpful assistant.') result1 = agent.run_sync('Tell me a joke.') print(result1.data) #> Did you hear about the toothpaste scandal? They called it Colgate. result2 = agent.run_sync( 'Explain?', model='google-gla:gemini-1.5-pro', message_history=result1.new_messages(), ) print(result2.data) #> This is an excellent joke invented by Samuel Colvin, it needs no explanation. print(result2.all_messages()) \"\"\" [ ModelRequest( parts=[ SystemPromptPart( content='Be a helpful assistant.', dynamic_ref=None, part_kind='system-prompt', ), UserPromptPart( content='Tell me a joke.', timestamp=datetime.datetime(...), part_kind='user-prompt', ), ], kind='request', ), ModelResponse( parts=[ TextPart( content='Did you hear about the toothpaste scandal?","metadata":{"url":"https://ai.pydantic.dev","title":"PydanticAI","chunkIndex":180,"totalChunks":208},"embedding":[-0.029907246141338325,0.008387444630371332,-0.0005174478877962616,0.022331602498289065,0.08919152501901864,0.041069078758528076,0.06474412934229237,0.002667627003602588,-0.03951995554646292,0.018657638255378382,0.06975043013859905,0.06624958404843453,0.04124819092515243,-0.008198220997485264,0.05853865518849936,-0.008602405605801217,0.05627318985682309,0.056354326105702617,0.015444455672962558,0.013529191240047596,-0.001631943916004397,-0.027518678776778768,-0.0886948590753082,-0.04950077692074101,0.057607836002194136,0.015833936211149004,-0.02839605209291578,-0.02600364760625364,0.08835221868588526,0.05028284125236397,0.00043106503405832095,-0.06306084136141138,0.010004231861907359,-0.08110014024210979,-0.08441457581063096,0.07982573974194632,-0.07048253461430694,-0.0191427870037268,0.011566578070364066,0.04423800766869186,0.012951417627002818,0.007981870119448784,-0.05338422794864779,-0.07052757224513509,-0.032880167160200514,-0.08170905130629233,-0.04595961503885267,-0.0054699279189994576,-0.06347145720535186,-0.07116791634787802,0.08227026728930886,-0.05268617516531896,-0.047141350144592406,-0.03579807473716275,0.024528766960748495,-0.018658474398539564,0.08751897281148027,-0.06536057692542613,0.03222235875697113,0.08984275628430613,0.0024401594629422305,0.06918210544983677,-0.09000383079559553,0.08528720364411403,-0.08550750076745618,0.042328788013798385,0.02864393477343499,0.019913496611840494,-0.033665174587491804,-0.0538680033483794,0.0018705758354544517,0.06624943215527208,-0.02644514753681389,0.005734141312286019,-0.0026314165952584364,-0.08877118449179326,0.00883132049593946,0.04861446270626806,-0.05064730411952703,-0.03417651010037567,0.05743082967687985,-0.01993527495483936,0.08410115000162363,-0.031258793992729295,0.03197772802939142,0.0740284064498004,0.0529779847699294,-0.07058221183836377,-0.08251248635015573,0.05032064821353428,-0.0027846643101805918,-0.020663434403799058,0.031145076525679796,0.04164909076258086,-0.07281223034296329,0.08937762687435567,-0.03542011941627925,0.0702773628113103,0.07433646169825335,-0.007659688253582235,-0.026125736963262362,0.03445990693612806,-0.016363769581996552,-0.007534484266453076,-0.0869807974634301,0.026528258622695523,-0.021745020349642447,0.06318850761737578,-0.03359172393682838,-0.028601358743356824,0.011815289230443934,0.05557407076077233,-0.027245149003072833,0.04530066107988415,-0.036822311673534724,-0.07011138288600947,0.03249747685514561,-0.04815153088202869,-0.020999951807798803,0.09116320362238033,0.09143627495556887,0.07798976217314904,-0.04056150002480618,0.06554439357052401,0.02905546431710747,-0.007191495463777294,0.0052794595785623545,-0.05622590754189892,0.05889004329984494,0.05374286912668836,0.028613996509486535,0.07250475805928384,-0.00048795393388281267,0.027728906536025052,-0.06027833612955816,-0.019567836653847683,0.016410083292375567,0.020011229300020656,-0.036213521391705715,0.0526826767861123,-0.01240188423016676,-0.028826595375480657,0.04487818343312253,-0.07520955384340201,0.06746304203370719,-0.08357871031268345,0.08661567840693254,0.06388228597385559,-0.02136827068383038,-0.061713740299551366,0.040290410485375225,-0.05902120215147324,-0.03930895186079236,-0.06169898248377621,0.04917760851742906,0.06763708963265366,0.0827824765931874,-0.057021293450039395,0.028840610896818324,-0.07551240123535773,0.08427601265558171,0.0815337980890285,-0.04668427906743568,-0.07412772077319862,0.06547654652615983,-0.0017721474710797392,-0.054619864108522195,0.020689976203091556,0.03711902078766665,0.02098015973274906,-0.048985680267928086,-0.040535615815368256,0.0904057080463336,-0.04654971156932743,0.06693951145265516,-0.003255046200055335,0.024757152121046684,0.023653675907877824,-0.04098355435441352,0.00166516835952918,0.08562136475072797,0.054174012554362064,0.006286706066562601,0.010888328866217123,0.013979079224770987,0.03455145666435506,-0.05476092378588363,-0.029257452873502135,0.002061694280565639,-0.06122965614859619,-0.034831077802921655,-0.06430641455121727,0.023426508877944948,-0.002395381286335421,-0.08399839196606357,0.07885919843459595,0.07053092200971496,-0.06149166715229277,-0.037351742005220005,0.0662660923998532,-0.06441147155690537,0.0018310514558959555,0.0055455819584008205,0.043154971717783805,-0.0518390467922686,0.037860882936317466,-0.07180672916171156,-0.03590387480902474,-0.07817308428012057,-0.016079335759568276,0.09019298876120262,0.022959088832136217,0.09098209685943441,0.06629413661911136,-0.08620222907148153,0.005984499505649164,-0.05988524018438395,-0.037086155668314656,-0.00524579582272204,0.07318157219596884,-0.012069788013320744,0.027928913922066177,0.049406828535063965,0.04704990039809506,0.06551147393028907,-0.03233580190717381,0.052032778972144665,-0.04570009890821877,0.035902325905503775,0.07835720007453989,-0.03211808806837098,-0.044442162884576954,-0.03883876522147932,-0.09024217129788363,-0.02343271984973753,-0.02712986193173702,0.05497191108546094,0.03098921903032394,-0.024989084821206865,-0.0795990762484313,-0.08075534258844223,-0.03234510643560242,-0.059105302705289756,0.06162882822300781,0.08668563114656994,0.03446264428821186,0.06654565912227943,-0.08746360665390848,-0.006508864876687588,0.013849381544358386,-0.08860469392663625,0.02120339381187686,0.017880543861632313,0.026456308463690854,0.027177850459285367,0.08085250786008488,0.01663530314363987,-0.05301101027587876,0.06929981783343211,0.07355463768977415,-0.028326328132092352,0.08873645667515344,0.005431322756982011,-0.06049753823091299,0.06688392259188586,0.030385961279108753,0.022051815476112974,-0.06253275395881261,-0.033860852529408125,-0.04952958346235774,-0.08510251227628637,0.05646809706470875,0.04566369270621755,-0.07928522292854477,-0.061250357403487374,0.07109819663445972,-0.055225518977027946,0.004132098172770392,-0.07173925146504954,-0.009333960633610007,0.08095534289490847,0.048194820625957244,0.03687377168062681,0.008827437053981738,0.046664363511059674,0.021538264369640524,-0.01056177801253563,0.06389406985432611,-0.008353663833329873,0.036612515119474866,0.018471099572227763,0.07590404490789505,0.039883727447265746,0.019272040834303863,-0.08943305891455246,-0.0876155078020345,-0.02223729417678489,-0.06597822413927779,-0.060289896777135005,0.019670271060575752,0.006590927839333111,0.031019668128094178,0.0431780522574865,-0.030852348123884384,-0.0009828769036833891,-0.028939475959223873,-0.07427823618418584,-0.033575684658206435,0.07272342844613112,0.020856728469036818,0.05485857754174998,0.043856116631159514,-0.01911384661304259,0.009146499198943232,-0.0415242596570456,-0.05900070689114659,0.03567771281055825,-0.07017907909214408,0.050455271924546186,-0.0407674789625606,-0.04726575910977035,0.029949012631301723,-0.005628139618712957,-0.012188022213842707,-0.07411735264587874,0.05892381121134316,-0.07902760440209051,-0.029263569805897907,0.07615873331274656,-0.08717760657091266,-0.0693477666978051,0.08322842692009502,0.022381519421453718,0.0038569190161882767,0.03452528391252228,-0.023121404001496457,0.09042608563246606,0.0639498260535095,-0.06676659924037655,0.0025466316162323067,-0.024578959009505717,0.06479837259467405,0.011345119762338913,0.03140355874053773,0.06998547349787762,-0.04703025358370076,0.010869232020103238,0.04968486555822414,0.019551632795591124,-0.016645036678325027,-0.051056309085307706,-0.02539596449360221,-0.0002973487637510861,-0.010823117725211908,-0.04070862420383288,0.00412474410385908,-0.06344044464577121,-0.03319057578134291,-0.0037036483124650685,-0.0353540481492693,-0.0015200071550111717,-0.07584469704707003,-0.05421202326216507,-0.00507858905471156,-0.015306634969598807,-0.02153077593282247,-0.017494206623050828,-0.03678255943789511,-0.0357315744486424,0.07282316567224571,-0.0035904810092036456,-0.01751250832468258,-0.0022764682730200925,0.004231645361597141,-0.04634496355352036,-0.053505032018407166,0.0007531806185325869,-0.06838927763471206,-0.07870488789064346,-0.02428865234777675,-0.03492159978322076,-0.025549348844420085,-0.013202337856858362,-0.07677298644766929]},{"id":"chunk-7db5cddc-181","content":"They called it Colgate.', part_kind='text', ) ], model_name='gpt-4o', timestamp=datetime.datetime(...), kind='response', ), ModelRequest( parts=[ UserPromptPart( content='Explain?', timestamp=datetime.datetime(...), part_kind='user-prompt', ) ], kind='request', ), ModelResponse( parts=[ TextPart( content='This is an excellent joke invented by Samuel Colvin, it needs no explanation.', part_kind='text', ) ], model_name='gemini-1.5-pro', timestamp=datetime.datetime(...), kind='response', ), ] \"\"\" Examples For a more complete example of using messages in conversations, see the chat app example. Version Notice This documentation is ahead of the last release by 2 commits. You may see documentation for features not yet supported in the latest release v0.0.27 2025-02-26.","metadata":{"url":"https://ai.pydantic.dev","title":"PydanticAI","chunkIndex":181,"totalChunks":208},"embedding":[-0.08121920126505487,-0.009982763158776385,-0.046637313799788215,-0.009180986813041735,0.004304502026745309,0.024076352845300124,-0.04137944438773775,0.0708968873998652,-0.02666415545587356,0.02539608659281914,-0.06491633736611041,-0.06892040216437194,0.08505156678958838,0.026565325230554267,0.028171088512761427,-0.03517997353017223,-0.011635903704228871,-0.022709691354916902,0.04856810354140499,0.0749380464069641,0.0316360549634739,-0.05657479739448134,0.06599355662751463,0.06576124931096436,-0.040268611394398086,0.014572474301377087,-0.04640839439840211,-0.0641954060651814,0.05607066495427083,-0.08425783133521997,-0.018835084234073932,-0.03578672992858848,0.04447700852762871,0.07919436093816594,0.03695547684042409,0.07518701599060347,-0.0677942583582306,0.05387663018013053,-0.0052177729128667204,0.005185988676854553,0.031629945961940416,-0.00995215024860357,-0.0665951869814149,-0.004402875587059859,0.07193882564330302,-0.00995420639890748,-0.045973443049895944,0.03717325016365858,-0.03242424518090694,-0.08350732682196993,0.0320197251910113,0.05446468528361249,-0.07129470774630597,-0.0434448061596036,0.014745211581740426,0.028277743178778677,-0.08429356086448381,-0.042976718683202596,0.006488034276490967,0.040226552431864,0.06008670295454004,-0.07316775479116315,-0.07121977347976118,0.07435315483412798,0.02974109934056762,0.043198118490176164,0.008992654817806228,0.014243638266313948,-0.03549292513882876,0.025585301995680154,0.06065699814601267,0.07581239995295014,-0.05262748949500975,0.018841990208040352,-0.043843372541643534,0.04215557040621231,0.05807441088152877,-0.08356513074358712,0.0559808476844421,0.04785418379893258,-0.014259972889566883,-0.07504259932990423,0.018188481967973597,0.054717450531473956,0.06907275919809176,0.07359796654148967,0.0797272620163063,-0.05864217668080028,0.033716068210728506,-0.0792991600752714,-0.05855993949275996,-0.03243848963525326,-0.03776509058216918,-0.08256238135993585,0.0065013587709729665,0.03498945486263209,0.021059228633249133,0.038783399585733985,0.07931297329647731,-0.08325888915955267,0.048958573269063985,0.08116185303999426,-0.08092993989276544,0.04951025983533779,-0.05871456014203806,0.05108801126535807,-0.02406355326826058,0.07945499514065393,0.079423497585824,0.049568125025172556,-0.029496136137579027,0.03477794584260533,-0.012724977282047094,-0.016011268069280292,-0.03678564497495325,-0.06844345127438657,-0.0654029725377204,-0.04455855094892911,-0.03022340880790652,-0.027487145587622257,-0.08508222498308206,-0.04196731260036522,-0.060473529761050464,-0.0019789280819886607,-0.061936187535433326,0.03742698860340718,0.0616089476833409,-0.0741571934387122,-0.06492983602540445,-0.02073158920159126,0.0066862702902686,-0.014810959314806587,-0.02120995260659728,-0.052387913249104946,0.07714189701378124,-0.05185046118119612,-0.0074823516263167805,0.036343621617145286,0.05904358305255696,0.009475976627535205,0.07018287896729675,-0.07690098494105818,-0.040539324409381586,-0.05271719401017678,-0.020472150606645964,0.05657840859707696,-0.07123440180027614,-0.01579977831789133,-0.026978610020912508,0.015426220300087942,0.028004875044866796,-0.07847452373729864,0.0031615999252222154,-0.04679231245806068,-0.05305162275880469,-0.03819664743708996,0.03751442065858209,0.0655868383736453,-0.001004827210083905,0.006659161924528399,0.011852764118974773,0.07065749021541425,0.031238887027708693,-0.06681180757908056,-0.044728109265848956,0.024164112080852083,0.021899715907647593,-0.0738679424300817,-0.03158683967687733,0.05767600696974028,-0.04507994648289595,-0.04685870429142464,-0.03729765510993272,0.046879910372238945,0.06288548215809306,-0.03461850033153715,0.0816827335168023,0.06525081057648231,0.009614652714725164,-0.025772945356429832,0.06280927556790268,-0.05938241604296463,0.024450713170147784,-0.02522986179254524,0.06684250043166318,-0.05527971381650819,-0.0009097316218604187,-0.04228463894471802,0.057142276446037206,0.053765780846222834,0.02731797268872123,0.00692356172836051,-0.016540397221279958,-0.0016175658086158755,-0.07710151212123695,-0.055253543901906246,-0.034645401165781214,-0.08415745536797116,-0.06509650625987325,-0.028062308250250714,-0.046325231227220535,-0.06702533953263148,-0.007481229980059024,-0.05037818345676265,0.0023597603712628523,0.025681146307670644,-0.021224882200733458,-0.06905311580271374,0.006173610693315541,-0.06505584344339886,-0.04657788516154346,0.0038202943770130593,0.08508579222482028,-0.005941062375226873,0.04089412818347123,-0.041973618038568264,-0.027957214850186457,-0.06766749348118746,0.0839855874907849,0.062234430295653516,0.0036962112096795615,-0.07408949325123206,0.07143532454793083,0.04123030648474742,0.006622262616336897,-0.018235608309240717,0.07943574437456842,-0.07244007718865479,0.001767196473109461,-0.07408002313681071,0.029204864952419873,-0.04306771531397663,-0.052654130352820135,0.07202811558722623,0.03536798714989834,-0.06165515294258042,-0.02804633347922994,0.007572491036723086,0.011535565371718761,-0.019927404932211776,-0.04073863372237025,-0.07178753748523574,-0.06889630993473649,0.07091245765345988,-0.08376385121167888,-0.06731569577822462,-0.060821997853512826,-0.07800285714885494,0.07151459039742722,-0.005075920501424584,-0.007305252569409619,-0.02756458187216355,0.06551677628918008,0.02349256636932148,0.068600383536279,0.060844282599296945,-0.04558259105027958,0.025870433824201868,-0.02194838420431114,-0.06716755750037008,-0.045754625361569136,-0.02422516669737552,0.07678654502497594,-0.057052734727605886,-0.08096189273044709,0.03685621978219146,0.08213073115318568,-0.026277576601252236,-0.0003419339174235272,-0.0017636056314020978,0.05853425102429449,0.035397526474816976,0.036672901463372896,0.031132867154893436,0.05199242490401864,-0.046115804635378566,-0.00033509235177203045,-0.0605189103690997,-0.05550130374826478,-0.05874698908290387,-0.06197516846845068,0.05071119779844493,-0.039310645451437636,0.029315054216181836,-0.021976354424854655,-0.018904783649894143,-0.06755835579602258,-0.07745007001507065,-0.06535697816347905,0.06905705954815936,0.005240705253800149,0.08532855369507111,0.04280780801929397,-0.01806679828484556,0.08231895216893019,0.06417938832644379,-0.03998928094757577,-0.061210939732337655,0.017960151816165365,-0.07287021653989012,-0.07309445906359509,-0.00972051051786992,-0.06219154523587722,0.0408171699680191,0.07154718213728412,0.004457155786054765,0.04820437205750406,-0.04123570096247947,0.0017573541072088482,0.05011556725583446,0.03226479225974253,-0.061541963366506997,0.04674242277917384,-0.00048524648650901607,-0.032834116827611275,-0.047383872114024596,-0.00879794117599528,0.08287350003653499,0.06980398913403091,-0.04242398356231638,0.0504580319285704,-0.002863501414351751,-0.08276195651884222,0.007500694584627618,0.05238323954597145,-0.035411166699492555,-0.04986713806555943,-0.0769012310073801,0.014668200664199679,0.06530948032422071,-0.06403079079675278,0.04590889131192188,0.018322348036975133,0.004242039775180503,0.014787947714062784,-0.08293110262628446,0.0819099839237073,-0.009589357588093617,-0.08504337982548345,0.041560370309851394,0.02926528916228062,0.01384477831985778,-0.03480415286224507,-0.054167239630214185,0.011080422621171954,0.06641118980657866,-0.07960836320647158,-0.06792031187412333,-0.026813109180441917,0.01681622902217214,0.005268977085298247,-0.05217575123589497,0.08370108223782978,-0.040371846547567106,0.08344148579061998,-0.06867862128727258,-0.01817616253204728,-0.004914607926500061,-0.01836733185752933,0.017478579498889604,0.027010864179344837,0.07480144517979236,0.08515294308067106,-0.022935845870957428,-0.06402282793372595,0.07277610386373227,-0.05498063588581826,-0.041993199390736896,-0.027156296110565595,-0.07186806177025581,-0.01144820641058067,0.004946250680939081,0.06210900138794471,0.0006966256026522822,-0.06110166293088986,-0.06594912431346651,0.005659552936014246,0.08432134406849427,-0.03722119696027212,-0.07920577711214725,0.012589065155814491,0.02421258838851368,0.013048976272705242,0.08187715246336223]},{"id":"chunk-7db5cddc-182","content":"Testing and Evals With PydanticAI and LLM integrations in general, there are two distinct kinds of test: Unit tests — tests of your application code, and whether it's behaving correctly Evals — tests of the LLM, and how good or bad its responses are For the most part, these two kinds of tests have pretty separate goals and considerations. Unit tests Unit tests for PydanticAI code are just like unit tests for any other Python code. Because for the most part they're nothing new, we have pretty well established tools and patterns for writing and running these kinds of tests.","metadata":{"url":"https://ai.pydantic.dev","title":"PydanticAI","chunkIndex":182,"totalChunks":208},"embedding":[0.07042109216181903,0.034174455796253875,-0.017436069065783665,0.06625545019901512,0.08416703806919941,0.019431952535301576,0.034597784979436656,0.021107619759282426,0.07803622849816151,-0.05311762325243782,0.021464286963193854,0.052499540668817596,-0.07230355951346791,-0.06704250815772306,-0.021630624649492863,0.0649340939165709,-0.028759286834717086,0.005289914189690079,-0.07910782297435838,0.07812483709863541,0.0363486508882079,-0.077144302715949,0.07206388900177482,0.04963648215341406,0.00995655405629901,0.010978770130274542,0.021009195962165245,-0.035648967771666366,-0.02527313614610708,-0.0698858671425749,0.07824311041623473,0.02268676774072891,-0.060914931698151716,0.06516741816452949,0.03396748950293473,0.012361601530310982,0.05049531023363101,-0.02005056670588688,0.060043974416875985,-0.060375418495041216,0.07631419494530978,-0.01009328873368659,0.06455339711260512,-0.003090315529903524,0.06693925121301916,-0.009464912986344314,0.021296877592034826,-0.015219324565858141,-0.08488849367132136,0.009691537923541708,-0.07092234886558767,0.08077197244184259,-0.0035056285530036774,-0.06110430535981,-0.033763166420312664,0.08364581614331802,0.05627223283909224,0.0032124070831288667,0.011569665589628629,-0.05875302008264022,-0.04762652716457658,0.011513302739659621,-0.05826301031533048,0.06249674645631589,-0.0505703787214308,-0.08425070880123876,0.025753876184376186,0.017056225533828396,-0.07515425658160593,-0.05272893245349606,-0.06411535387283145,0.057311041972563107,0.08178261945761317,-0.053630884982560204,0.04138928194481893,-0.0018988397276307198,-0.07996908914318557,0.013937259100017833,-0.02822299021886439,0.02012040582876684,0.007598814413787846,0.0013386242560059788,-0.008129748046097335,-0.030744871749151297,0.023774742888116027,-0.0645685068884108,-0.07767930074635461,-0.0022170450860697346,-0.0069065017248077535,-0.07287951726406484,-0.020842126393265385,0.020782941422479953,0.08374080920023265,0.0070597079453562535,-0.006394279860261127,-0.011682886364186166,-0.021678715693655443,-0.005974720994082132,0.05951742990130314,-0.014357416641014817,0.05425995127908124,-0.08217033531429573,0.062401015262825564,0.019862605753276034,-0.06441440041063669,-0.05245242292697941,0.02832884573293257,0.016818359273136026,-0.0230036546007959,-0.08126607587568141,0.04714850198129646,0.0061275575312309235,-0.07470624736399427,-0.05943940737541608,0.025691590618928537,-0.032653456479089994,0.015136660693252839,-0.055960707270524,-0.05455094369930176,-0.08555511505489784,-0.07615600745941346,-0.0833784400037304,0.035817890944577165,0.011472093770349027,-0.04939199593388372,-0.0037083277657707324,-0.07696973497509697,0.0660211666201137,0.07206135521875429,0.08025342351499067,0.010683567770878359,-0.006684046852984003,0.025453394286264683,0.011425342778192259,0.018052433122541043,-0.003369014484549515,0.07872074091283429,0.02060887955223181,0.06417601715640504,0.08510935981314735,0.014934172568075027,-0.06708382490192322,-0.04140245082139738,-0.06230280125803421,-0.06964392781970172,0.02085726785496556,-0.04752397830001225,-0.05094087369858161,-0.0819089046758869,-0.009181949138144655,0.01880197833140779,-0.05487015511641505,-0.05729152239919183,-0.07769235593490875,-0.040251679209709366,0.02071872333974604,0.020694101853614963,-0.002870218640291808,-0.05474659950195033,0.027932398053656337,-0.06115069582942644,-0.07558633043490152,-0.02967304181737018,-0.04897184178273964,-0.04942320354084567,-0.06346124401415716,0.04614192693753248,-0.014976253980369635,0.0579658901891038,-0.02606457090233393,0.027515458956391292,0.05243342583003196,0.04047927015314138,0.07783668128582846,-0.00780453305086993,-0.006988904286260302,-0.002124077053933793,0.06821878000519484,-0.04271126233762277,0.07739169058224885,0.07402274673344769,0.0594600769096506,-0.023326682306054204,0.027204488348026433,-0.07360657436490574,-0.0811245284717187,0.00608075606048789,-0.052177281476862354,0.035759852618526704,-0.028967057075583877,0.017154533463716905,0.06230539801006502,0.06855118661448915,-0.023694472115079003,-0.07744696642163189,0.022604458617943836,0.012655960315931842,-0.08303168558421875,-0.07023272435395271,0.06485100485787801,0.049178263802732776,-0.04815208617715868,0.03437596267382798,0.05863837971822582,0.01709124406701683,0.06023367253403669,-0.046574932006243665,-0.05550210061223127,0.00011358889420065015,0.06563089632762271,-0.005842607253686402,-0.060450944353759264,-0.005632893232528971,-0.056651506912290574,-0.03470230131743172,-0.07783784706496671,-0.08035527557211736,-0.07562911848742714,0.043408609595596115,0.006369494814428362,-0.08463821384063623,-0.07788250529435546,-0.04127554003357723,-0.08559781129693397,0.07249323612445774,-0.03850589602597768,0.08072880758146218,-0.015650049069744154,0.04654920493018059,-0.05598310644596916,0.03088091332005415,0.02412135663643364,0.03645481240718769,-0.05921448770715028,0.0778300961817198,0.007976079231047954,0.04193127105552085,0.08168821433672424,-0.07976187423702613,0.08168941643729515,0.010216776197308451,0.06450256081863578,-0.04772361945302082,-0.028588508560908898,0.02018465064275367,-0.01797290763257819,-0.05243920568034682,0.05027591748918964,0.07157384382818367,0.010548819760055244,0.07478417536622434,0.07397912077471289,0.0721704555698541,-0.04681979942376874,0.04263173689828961,0.045274681478357594,-0.06152855213426862,0.08484433279403167,0.08133025492883002,0.01132506551279067,0.042773863060779606,-0.04122773033123802,-0.0015575385703794817,0.04288798082112492,-0.04594616309594101,0.08273093483210825,0.012911811501115695,0.015559522377241314,0.07713865978233436,0.0784925479927881,0.04071608735589137,-0.045158520496499585,0.024042393786381254,0.0005492435535737937,0.03336599543868918,0.003495976573883228,-0.05907813272331547,-0.06890933993365338,-0.04420984618331687,-0.05164374923558057,0.007217503329140121,-0.02909012964800484,0.021197962819823588,-0.045323336877725814,-0.07008347250150566,0.012844871885530565,0.022491234166891423,-0.08399032071701783,-0.05683031292635161,-0.0777235230640272,0.02429371241723754,-0.0063849943443359085,-0.0758767312136257,-0.0515679733436645,0.0006511902909200819,0.004642625834212581,-0.004990578423123151,-0.0664725743386119,0.011836343861631696,-0.04126329613421263,0.06904364964210395,0.06482458188504975,0.03525930552516072,-0.029226440004800017,0.05796985698305692,0.006255021987262498,0.03412592332173823,-0.05922984291679657,-0.05262234998987308,0.031802936874054985,-0.060899496767355406,0.032462822035562694,-0.08016140158594472,0.07713310999550214,0.034750779014510416,-0.06319041059677268,0.0213091345606377,0.08077884265080734,0.014072004237099377,0.06550543230246172,-0.07114929795045893,-0.057243404652304215,-0.013923716815096071,0.045786329424216274,-0.03772636027954542,-0.0068204485383080125,0.06345491911264943,-0.012440341827796202,-0.06256984834572188,-0.07620361136862762,-0.03551244984822682,0.07440417841086627,-0.001109184092043195,-0.050355686164294595,-0.08124195152105056,0.05067306539691316,0.0818265209067026,0.04712113877302168,0.0824781628076604,-0.08458160296887021,-0.06070349982229908,-0.001641368915360417,0.0646930560340225,0.021782687574850274,0.051093139478204916,0.06349204125675832,0.00042502365069704216,-0.03490344395609,-0.044058360389062697,0.0634762184594326,-0.015148281974081306,0.052067302267528634,0.07118392185133532,-0.0639272052829826,0.07038458778912465,-0.04058308390949876,-0.05351135308299112,-0.03329747957121851,0.0695445095124929,-0.07177983477732171,0.029439725808576817,0.005825972730455927,-0.02629719909813311,0.04721809947753321,0.008565198958330408,-0.023576201043257233,-0.010229260468946066,-0.051193035735278405,0.07641364568150123,-0.01603225472831723,0.05628205646472317,0.012316489248196385,0.02701174157896165,-0.04083003030056036,-0.05493948215473322,-0.06264256518802995,0.02554562271895532,0.06975822278599028,-0.02987658219580841,0.040859942229680264,0.02417387015093061,-0.0338395870455047,-0.013368252284554636,-0.014864706817941806]},{"id":"chunk-7db5cddc-183","content":"Unless you're really sure you know better, you'll probably want to follow roughly this strategy: Use pytest as your test harness If you find yourself typing out long assertions, use inline-snapshot Similarly, dirty-equals can be useful for comparing large data structures Use TestModel or FunctionModel in place of your actual model to avoid the usage, latency and variability of real LLM calls Use Agent.override to replace your model inside your application logic Set ALLOW_MODEL_REQUESTS=False globally to block any requests from being made to non-test models accidentally Unit testing with TestModel The simplest and fastest way to exercise most of your application code is using TestModel, this will (by default) call all tools in the agent, then return either plain text or a structured response depending on the return type of the agent.","metadata":{"url":"https://ai.pydantic.dev","title":"PydanticAI","chunkIndex":183,"totalChunks":208},"embedding":[-0.00981535082612383,-0.009429226316422951,0.057633134877604755,-0.0802564040355435,-0.06052840889979889,0.049247870912171574,-0.03891681110987557,-0.07165000354662464,-0.03929776426104804,-0.08080159171060625,0.04992423990093332,-0.04398215511295363,0.06118100789116794,0.00775138364655603,-0.06949184186848172,-0.02527342573003248,-0.08054862492954186,0.04952612045749881,-0.005297223698394105,-0.04967173600446594,-0.05707849843742557,0.012395420126655446,0.028620892014008734,0.06700957340244325,-0.062411267644919846,-0.08108751063493813,-0.054659172141649434,0.04156577331576075,0.04796575284939098,-0.007173377597544237,0.07506435044593392,0.003285855179934856,-0.010282044448940262,0.05423957426871896,-0.05038713150977659,0.010015844544750971,-0.021585588300342524,0.039521247188869214,0.023425802842676514,0.022175955796099718,0.01521567999968612,-0.0798444749304004,0.06239972195390474,0.0662757301121261,0.014812976975443004,0.012232579322723999,-0.022732364244958076,0.022587851752446087,0.03635333824039427,-0.05678944381447477,-0.03152058404017782,0.03795583844387297,0.0014438914010136384,0.06806211983728871,0.027233488194310287,-0.011322684241250427,0.026311219817893156,0.08022336823615953,0.06712393322668993,-0.02130307654041509,-0.06121437348231331,-0.053372334078696744,-0.07613427815257946,-0.06178937935420679,0.06963754264602082,-0.07643335694118907,0.05396407404640777,-0.05288141764794521,0.023220389803563005,0.08137263288474016,-0.05980009880880223,-0.004416957735719297,-0.01161387878822859,-0.02114880144233262,-0.013986208226614848,0.043506859792882595,0.07536124795364511,-0.08532900712525472,0.009834616449770827,0.07184841524730957,-0.06672080114066485,-0.0281969395197081,0.019258160694031204,0.043826776881071616,0.011387157439358633,-0.05301436514720084,0.012098817121406154,0.019135610936294994,-0.058340578876391255,0.055043777255920155,0.05998455066104432,-0.05640763374946107,-0.050810812917951455,-0.032632084642812864,0.08263072807461945,-0.04280633500279008,-0.03815351525705411,0.011858727573005622,0.05296751931987878,0.06075215580236438,-0.05683732091359774,0.061109740882421056,0.019963647107327828,-0.06774117531462619,-0.07396024108353629,0.006707513840829726,0.0046286923199858,0.07417013999585996,0.04338184478569296,-0.07097930637807456,-0.0027565043203455733,-0.018815756585438853,-0.05037988096599681,0.07919394724567924,-0.055320975633559054,-0.008452368641845455,-0.007187492985434972,-0.022055147649038022,-0.019833299534525235,-0.05741094097651422,-0.060565371157581864,0.08447370555743201,-0.062050392176286315,0.04677007883680954,0.07357019464932224,-0.04076038106649478,0.050649360819327,0.07704550143734007,0.02694652197085835,-0.0026527187897619616,-0.06045928754388066,0.05749970164087896,-0.045138291059442,-0.05571729069532068,-0.05301007748316407,0.024662128934433092,0.026872845893142205,-0.04699986933806521,-0.037993817594320044,0.04062111798584746,0.011679845548459935,-0.08359739169031731,-0.05314589483644256,0.0013071657435484627,-0.0030235722258977367,-0.04369753216029218,-0.03878009886847862,0.0014436309861108538,0.04981999561795752,0.056248795091141474,0.07056451398429839,0.014963762027280962,0.039035905328837064,0.020229448237743256,0.02542888742934855,-0.007052616388202332,0.07563402925110456,-0.07849137004170631,-0.03913285954566202,0.022584664601448992,0.05172694448219382,-0.013302697934148656,0.06335587614838709,0.06131244229289521,-0.062331780701759966,0.03237359629004434,0.07531051253744628,-0.07104227281830382,0.051642251641824816,0.011351438336766878,-0.05106767238209468,-0.055802006223158916,0.05275738281043316,0.06346839504911346,0.020996643802158398,0.014404024317136875,0.06294211743108992,0.031655943976588406,-0.018480385458573945,0.08116184955472541,-0.0836671160711111,0.0825762332284427,-0.03282809237288512,-0.05949914821629523,-0.03049099823485748,-0.05247956001384698,0.05537249086487015,-0.00937486187212728,0.02193883794083682,-0.05291127834191341,0.062923899339258,0.0011797036523824801,-0.04774533386660018,-0.07809702947409315,-0.044694331197564864,-0.056155302741645194,0.05577594934278106,0.013049521396896163,-0.045493367532382256,-0.018145774670724823,0.058077186343708,-0.031545649098406764,-0.009315504246809676,0.08169825665149409,-0.019883977414061327,0.0018602664618703221,0.06601786463172765,0.05830966133913567,0.07457332113141109,-0.07092043188830557,0.06112592053144248,0.0637940891660918,0.04661121356419137,-0.03783960326985645,0.07191680822707341,-0.0059177397085696986,0.07962512740790735,-0.037851391982109135,0.08184286063975228,0.07403189579260425,-0.07672857621763761,-0.03343557539350023,-0.019891887037199688,-0.07148105318677624,-0.03319961021820378,0.012085035741026729,-0.0679455243769598,0.011066520004385027,0.004829544022660584,-0.0800125139506599,0.0230211811099429,0.03360523264233733,0.027778701921864955,0.03908232051483293,-0.02965359032281231,-0.07810446235357668,-0.022270009968916774,-0.0429107174179786,0.019141558305794795,0.043959871187101845,-0.08292681222712764,0.07432510018110186,-0.04838406075561114,-0.05247681890417358,0.08046479421052907,0.05350451583178343,0.035882038020028734,-0.013759673557474667,-0.055926007782640244,0.020348482728731708,-0.00574215543185374,-0.05673673682027359,0.003441003121254405,-0.05484846002463059,0.0611970406535091,-0.08086413938683301,0.062219277555925656,-0.003213123751817549,0.07515360803143768,0.048728887850202046,-0.07723357588631256,0.036895170266980096,-0.052372901448120804,0.06957770183215191,0.07079991254256326,-0.07516302586005126,-0.06527547212642477,0.08435989615214567,0.0010758952939602967,-0.07576680606491266,0.04160483072713477,0.0797881316974606,-0.06406399728967573,-0.00033585238213485494,0.021052981255249854,-0.04023855919779009,0.024230804727694275,0.06222196894124651,0.030732563110138476,-0.07047723885328566,-0.0558414808536445,-0.011206254537158122,-0.0797180379761727,-0.028252597957083122,-0.0271723555549648,0.01975715224580946,0.008451335780203094,0.06527835193154437,-0.024657200428994396,0.010065580106258113,-0.07749251101430057,0.08004634187036287,-0.06579441204779092,0.03924067335514061,0.029847714195343683,0.07690265576885665,0.07954100793395252,0.07546862657873199,0.06578723549297748,0.016182607830496333,-0.07316617857090484,-0.050686756340992054,-0.034867210577599075,-0.06999805649387535,-0.07605436398557,-0.07080833188673258,-0.02933162328349242,0.009844298300863074,-0.012812407587379426,0.0821300662535575,0.012775109970676015,0.01317925429582418,0.01766341273990265,0.0018428223216474708,-0.045871555404092684,-0.026028753567506287,-0.0679427027363135,0.0013654797662351226,0.04534282372694984,-0.050178859510849695,0.021032873330825735,0.021836300495553355,0.0645693998984239,0.014432387040338923,0.02064808533908527,0.019701870662320303,0.019121160496883498,0.08566790024302581,0.04616824911252224,0.01603968788400129,-0.05873472754406773,-0.015983922126781173,-0.07358112489664649,0.022541004624003606,0.0030383639280636026,0.0047039345989837375,-0.05883764887006564,0.055780461606066034,0.003623999997735951,-0.05773257146465231,-0.044146595136133164,-0.036302635602691716,0.06515845143928654,-0.0013887063577864083,-0.0044203037022737595,0.004914352015859117,-0.07625174083940614,-0.01380007361489173,0.0738108423174801,-0.017232611246902788,-0.023143667120281656,0.07924025250256471,0.03166877407621473,0.08732765048295221,0.030505661163598236,0.05720961643268778,0.0152375248794527,0.07678245249416174,0.030016030468680576,0.047356220921155566,-0.013241424421616646,-0.08453564754648528,-0.08361093925610348,0.009123331944281346,0.027922525030526744,-0.0768911709030662,0.06772063178797011,-0.008562169518646202,0.02537029908836939,0.052664446607620895,-0.026032017927069256,0.04193512116736079,-0.03994660704111575,0.054262393836474916,-0.08252916751113014,0.05493860089162004,-0.058040278532466676,-0.07580503896385629,-0.07235212179162258,-0.07171114659780717,-0.044354440501823356,0.06737723532270207,-0.0779140032179931,0.07557149787349651]},{"id":"chunk-7db5cddc-184","content":"TestModel is not magic The \"clever\" (but not too clever) part of TestModel is that it will attempt to generate valid structured data for function tools and result types based on the schema of the registered tools. There's no ML or AI in TestModel, it's just plain old procedural Python code that tries to generate data that satisfies the JSON schema of a tool. The resulting data won't look pretty or relevant, but it should pass Pydantic's validation in most cases. If you want something more sophisticated, use FunctionModel and write your own data generation logic. Let's write unit tests for the following application code: weather_app.pyimport asyncio from datetime import date from pydantic_ai import Agent, RunContext from fake_database import DatabaseConn # (1)! from weather_service import WeatherService # (2)!","metadata":{"url":"https://ai.pydantic.dev","title":"PydanticAI","chunkIndex":184,"totalChunks":208},"embedding":[-0.06567234709635769,-0.05298842110112681,0.02146462278967572,0.06174496964931422,-0.05881527269957598,-0.07790568850019264,0.04201591470295009,0.028332498847906385,0.07627667992660883,0.009232012997367442,0.05957040732240848,0.00408004656251428,0.05544300351477073,0.05309567292290514,0.01725707364427372,0.02047424949187513,-0.003865730508680017,-0.0872134866604089,0.014451639592653893,-0.06498667680525272,0.01496928216658368,-0.013937591804186961,-0.03168293715290385,0.07909796200700686,-0.08302819015064057,0.04864334500791889,-0.014555210607601756,-0.04335834931446138,-0.05113593243668755,-0.02152443378844113,-0.02360775562959522,-0.08402792671782587,-0.08007739756107625,-0.06399031482243292,-0.04538990889892246,0.08564626560292084,-0.06716639631246271,-0.035722922992956055,-0.036408422683090455,0.025398109166401707,-0.057306766450152896,-0.0011584765936389833,0.023936827137688417,-0.036761389740544166,-0.00021842425542429513,0.03908063607171701,0.06520838038323784,-0.024543390878149586,-0.037797393752251114,0.08361806706324906,-0.07677215813212511,-0.05235251697406968,0.03549199243965716,-0.054785938535217044,0.008667754398398203,0.07709061289173127,0.07667037802100156,0.02818121687227381,-0.030011957752891793,0.004017004877608578,0.011936693149771619,0.027530503401309938,-0.01991285726576365,-0.053562934304102805,-0.0733771526520296,0.02172605882872585,-0.014255456395718876,0.047702674922567044,0.0311285585622302,0.041421710780834155,0.041790837913959114,-0.04189563623887901,-0.008805411543740744,0.01701797013977473,0.0622183259575197,0.05668123197122995,-0.019589952444870256,-0.04224050644778959,0.026196422317491586,-0.04499894582935541,-0.07734532474323581,0.0742154587788769,0.0780065755686797,-0.07036015724956264,0.042573923162485,0.053352500213887086,-0.043077780254920005,0.05831483281224767,0.07552900712416526,0.012174603882667785,-0.029906400808287496,0.0756797434631247,0.0014357830468468087,-0.08278034859442542,-0.042477076924393925,-0.04662147929005053,0.08197660515107497,0.0784245617399054,-0.06334909242993104,-0.041696682051525984,0.08697184715508528,-0.03432954453601728,0.039989043563486586,-0.023338950345957506,-0.058938084090667184,-0.07333810432525127,-0.011251223687253972,0.0023800580630609592,-0.023794485816717097,-0.02742361412067744,-0.008819162994983872,-0.04468454631133785,-0.06972588190411795,0.023944139315980273,0.08447787964140036,-0.05906031457971828,0.05530195691451651,-0.03512759798086509,0.05651640499450507,-0.0001681160052315853,0.06591373012549566,0.0006362301768639258,-0.0654978390362167,0.03371563310353561,-0.03432027097444214,0.018163175793263188,-0.06839937206251541,0.054339689484496585,-0.07348994704094723,0.06098315660832103,-0.07765444364395775,0.0601064135281921,-0.010212005513864848,0.05101892447762044,-0.0818235005963802,0.009861270466520022,0.049756877630891226,-0.05919336812446182,-0.029558401180342316,0.05408979944954792,0.04900946985825108,0.05904558149649331,0.010907838212849085,-0.010924589180086432,0.08436741717779142,0.04771921165311243,0.061520042479631915,-0.05829043423510289,-0.04718059347364548,-0.049071687820640406,0.035876283387115834,-0.0676156022680774,-0.001796713084382708,0.01955700184608089,-0.018890010255635897,-0.032371561277867424,-0.041933655966863784,-0.0015874861768030697,-0.052555021722749354,-0.08715958408209501,-0.03487512360247029,-0.011348136204528543,-0.04916789489085733,-0.07988970241954518,0.009096362384147447,0.07368663314096775,0.03185809584097403,-0.035643362836351514,0.05245073571228493,-0.03188435090807243,0.05600257423144056,0.058742559051036196,-0.05057917414715625,0.016899007984654466,0.08571613010552234,-0.037042954598065586,-0.07862787846826311,-0.010061763141472245,-0.08382761063651599,-0.04906685570311044,-0.0772368023500197,-0.02847844840498421,-0.037086706822687075,0.08320800779583808,-0.054997829004157645,0.06274002911550347,0.04829065960775261,-0.014825570837043096,0.06704586928950154,-0.06904992601290982,0.04401883752683272,0.0775209391439985,0.04116536379489306,-0.08455959247384663,-0.0581554712043094,-0.08342342229188257,0.0023283685525068076,-0.0069635349158486725,-0.048143822265943555,0.07508340507050866,-0.06736515563684896,-0.0328040280353376,-0.00965981894698947,0.056610516054466674,0.07008342224467519,0.07967309953715086,0.08723240109965161,-0.007625360826792875,-0.006844724055621875,0.010675520341787146,-0.0304442661556064,-0.08497496323500195,-0.0016666871744467169,-0.07898640575225223,-0.06832929646105407,-0.04748874175511867,-0.05958059020191977,-0.08388295418883575,0.08688344863188009,-0.06343119775052786,0.04925427301676135,0.013723603068222375,-0.02932888475384458,0.0716604293490272,-0.03835016652273635,0.0018320943512333777,-0.0639614315901746,0.04945473461698189,-0.0465037104089934,-0.08543625655970177,0.0407707745771889,-0.06234875913734938,0.03336532723346534,-0.027026936202415825,-0.0031194508968728244,0.036637558890241846,0.02470461057091072,-0.014237329431612896,0.052835096956458195,-0.03998671421870517,-0.0017014369062441496,0.07367674575664095,0.07480241217711427,-0.08234279634162532,0.022670835043437296,-0.06716983658797537,0.047212306739311975,0.029292513183787013,0.018556480820273658,0.05395931661674386,-0.06821463758618361,0.04121997778951056,0.026167258665292202,-0.004264363028285676,-0.07563036217968674,0.05370570577982958,-0.030827661857523392,0.04917908836194418,-0.08471606534717269,-0.07949409131889239,0.07889935129549476,-0.07127514664787203,-0.08387195061137549,-0.024431241110127077,0.026912795488739236,-0.04324070852436847,-0.08708255822276272,0.018989406411411242,-0.01809277094285435,0.024315890957444134,0.0663063341999822,-0.03837381823335362,0.08272568638545084,-0.03494682122133356,-0.019776162626242665,0.01284284853620729,-0.018146228168592113,0.005860507754692434,-0.07054532479540371,-0.0029097910146426084,0.07234519213961073,-0.022953767037641844,0.014314745898694208,0.06789737398514405,-0.004165769860267367,-0.08365625102898207,-0.004478475293510759,0.01138764496362831,0.046558968698596055,0.0732340093505973,-0.04783929586806927,0.013470482667505647,-0.015594999862904064,0.07789559311156209,0.001955843220029417,0.06663100614524406,-0.05891397647246081,0.03771219924474225,0.0729042762213235,0.022617025729676228,-0.04435777546380546,-0.0005537390850770194,0.013216980420741275,-0.027654183290198336,0.018445496029655818,0.04944710504154291,-0.08583545444407133,0.07472822906608124,0.03363559569059561,0.0038899842735138756,-0.07553831053878281,-0.0346462818941085,-0.025805689599839584,0.031662845296101055,0.004723232688771461,0.003807961642855729,-0.009603632648899407,0.03892004832804672,0.03364985384397356,0.026722510136924445,0.08642705642526613,0.037014969889213226,0.026259715590630603,-0.03847302986699605,0.0024301369620362153,0.05490210399751296,-0.0024404295031505803,0.07035867397562603,0.004655238698802851,0.05184608661864941,0.060300297375616395,-0.0037990292114302698,-0.0019679980146501607,0.04083863937497973,0.06498499470241086,0.016397522789217536,-0.033897801549828514,-0.032638570792915295,-0.06078504716630085,0.06876449131639359,-0.07860768969367206,-0.029839877541584306,0.06594092606170676,-0.010481487132977432,-0.05153260341078201,-0.055532525647950304,0.056755904154463244,-0.05759354110838503,-0.061861946100112294,-0.07757033445648515,0.0712744557328911,0.05374684988599124,0.07364864844058568,-0.01045245603980241,0.011505087594364641,0.08302257891044022,-0.07087614122120747,0.016677425176421987,-0.07188148852955904,0.009719655684694375,0.03498925721811819,-0.03929599125115117,0.017523094260151015,-0.02944483799227775,-0.004480901735041071,0.07394937761987938,-0.053889959514395985,-0.0675700559672633,-0.016390308777932554,0.03453396457872113,-0.0012139788861251063,-0.02711257047464185,0.034477921148477975,-0.040459633903566404,-0.08559967041327123,0.03765530793197653,0.04617275963848302,0.013891818075942523,0.044659258972110406,0.045211035896947194,-0.03804840314037608,0.06382130790424434,0.08600057938785471,0.04794922561204361]},{"id":"chunk-7db5cddc-185","content":"weather_agent = Agent( 'openai:gpt-4o', deps_type=WeatherService, system_prompt='Providing a weather forecast at the locations the user provides.', ) @weather_agent.tool def weather_forecast( ctx: RunContext[WeatherService], location: str, forecast_date: date ) -> str: if forecast_date < date.today(): # (3)! return ctx.deps.get_historic_weather(location, forecast_date) else: return ctx.deps.get_forecast(location, forecast_date) async def run_weather_forecast( # (4)!","metadata":{"url":"https://ai.pydantic.dev","title":"PydanticAI","chunkIndex":185,"totalChunks":208},"embedding":[-0.03097554390342704,-0.035615840981345674,-0.033483286208797765,-0.07732854968302134,0.018784909365328575,-0.07881028223627717,-0.027608335646577952,-0.06590800684259265,-0.052629513344456647,0.040404694680383164,0.07086408106797006,-0.04907482531665131,-0.005842359801884394,0.005661732082863529,0.062472513278137576,0.048900792486108055,-0.021628812122180194,-0.039840697071354104,0.06579645377171543,0.06692593855765816,0.04056265062394381,0.00869750045785864,-0.02364947813075034,0.04939725323102211,-0.08072595417939507,-0.0038385002415964103,0.00554196437110208,0.0307699968490856,-0.05731728356585915,0.05214809603302973,0.08620197654528416,-0.0012252950285182329,-0.07817095319981579,0.0719279508306459,0.054349785035486285,-0.0017225733999063676,-0.05156089407819047,-0.06320045597741612,0.0764858566142824,-0.05293500115299425,-0.020675465288460936,0.08242687664877735,-0.03331118562258535,0.002674328538096242,-0.054273848804565636,0.0669845841748329,-0.04916326541913423,0.06373419820299167,0.01880976191249202,0.0772449894778982,-0.02795966845440586,0.07648227900608287,0.0021237459486292726,-0.02110082722948611,-0.0182086310878776,-0.05124447778314151,0.033976124637369876,-0.0842233607404031,0.0015319498539664816,-0.041298435132625655,-0.034266932416671336,0.010643144861006572,0.07739176368384473,-0.0005652661896710718,-0.012259101218283379,0.07209876977685559,-0.08126327456500781,0.031023091596130516,0.07908347376084231,0.07125543287608142,0.08106859874602997,-0.07346776104156365,-0.06262422257570742,0.024259880676943374,-0.03939342583603891,0.027760778101387676,0.04660323572092943,-0.013338735723469518,0.08457759298553001,0.07885726609744877,-0.08462089339850913,-0.07917238733870355,0.06839549562612166,-0.005748005875749782,-0.06453370503586468,0.031282744116404734,-0.07642439652436371,-0.059658337367411204,-0.08590326148499128,0.0017524897588849806,-0.00984290976948454,-0.05744079425724617,0.03922581658278425,-0.04142590031532836,-0.01460365329817613,-0.00889086702440636,0.025077264133871176,-0.01994289099583309,-0.007767180277988168,-0.050239037053964285,-0.0639854456337763,0.01869856859021085,-0.04424930872140506,0.07864131979404253,-0.007421142852834563,0.03829049687150154,-0.016870964682943895,-0.001075697129100745,-0.045378049946505135,-0.040926821645503104,0.03733723650445072,0.006827964773812656,0.014691520276514242,0.06843225269524024,-0.034369884594021044,-0.078116370787436,0.08601445135288632,0.04923788577620016,0.04136400625306062,-0.0011633663803202084,0.07488048089077651,0.06916060392968061,0.07552114982106664,-0.03688069283728401,0.040430347219719935,0.04399939304748037,0.024755289911057552,0.06411183182961348,-0.006644809873163465,0.08131316306900079,0.03268094212979139,0.05816056802846071,0.05565842188122669,-0.056480078858847524,0.07798092072340891,0.06702964641828305,0.07635210397497882,-0.08451410292179166,0.022020217382875098,0.02773059068073117,0.011954860656794773,0.03436748521344652,-0.07624697498088659,-0.04303270062482539,0.05441197294105479,-0.02344769591279508,-0.0765861254466507,0.0550064286400352,0.051064660511294595,0.04347095945654638,-0.03631450433135987,0.07393278033561898,-0.05781113599976598,0.007012768163907674,-0.021777305109026472,-0.025504170909587152,0.07752481807925342,-0.0029045763858524024,0.007697064382558582,0.01131376736126696,0.03417362426498904,-0.050169020741178676,-0.012041850097692736,-0.07847800885626245,0.012596080266884524,-0.028547917356602406,0.01788878964065251,-0.011003180081105852,-0.019476953312413232,-0.02967535326376705,-0.04663963920693907,-0.016243622352414562,-0.027728645681285455,0.051584579079580875,-0.051761844287429616,0.018791538425083888,0.03457731321380466,0.06695461671901966,0.03525415132536262,0.08289009362347392,-0.045769407504118,-0.04644022038621434,-0.08096877953126508,0.018656564298317198,-0.041670452908053664,-0.04013131276223961,-0.05708273761847241,-0.026439495801517884,0.05361194063236652,-0.03135220500456703,0.07507424891943673,0.051321997773636704,-0.0389891971246545,0.026723287290756535,0.02738906138714018,0.06048665772952102,-0.04874389585223466,0.035903282848116266,0.07725518898031454,-0.06812469568841899,-0.0706035126196645,0.03904978214668007,0.038280743790499755,0.016740755937322976,-0.05526121198841936,0.06623690157354573,-0.02267518090557607,-0.022214326026635714,0.037985537754571495,0.03513789178929241,0.07478397051817791,-0.02276100871906677,0.0824892181006358,0.05361057932833441,0.03434039075457428,-0.0750037012453647,0.03627947259262089,-0.06632359043554772,0.014385055609696839,0.0023001821285870217,0.03226423505409474,0.029257491071210513,0.02766938403575434,-0.019212964879876514,0.014363048497937618,0.07851182389509757,0.030840164095057916,-0.03151688832618161,0.032058853419237254,-0.08054669245576154,0.04399151776852516,0.0028857218696700594,-0.05703674999529585,0.00174224522047779,0.06381700964074757,0.05861890468255862,0.05964001382562121,-0.011244779611616974,0.010215728947124214,-0.03303398997149477,-0.017530717250059936,0.03806229900996264,-0.019380433507644627,0.049414286786122655,-0.07802444631916511,0.03119678343357929,0.06066787589695857,-0.06761915189810362,-0.019392784244119318,0.0490661566688293,0.01411459814930652,0.004740804211088114,-0.015719071714257852,0.08435975210734895,0.0644063817024147,-0.07885118300591687,0.0035905417163282862,-0.04201247245821995,-0.06957854402399305,0.05947338126895693,0.004495647966450895,0.06411762158549605,0.05812659544759972,0.01641907466812627,0.05763615161588515,0.0047656202576014245,0.048366193392068955,-0.07616213467012424,0.08110845753686066,-0.04867488401933066,0.022108824503112808,0.05409099599800376,0.05598444538096244,0.07600325744626565,0.048944282461733345,0.04844622029279385,0.0767169961668471,0.08247193467485474,0.05986407309777311,0.0678705476788866,-0.0054577493681158855,-0.06955673768782916,-0.07934518300402679,-0.025898130511419207,0.03630495846388955,0.005707694813280405,0.02429774989913532,-0.019575183911079305,0.06218118278393425,-0.017166607496869733,0.0779856381825411,-0.07524973982857673,-0.04017692727507588,0.06638100154949673,-0.06930861569166194,0.011943627690194155,0.029444877936805006,-0.056898196353264936,-0.022643304312276416,-0.013414799640489224,-0.08144472985373521,0.037377650825136145,-0.0060387809183554166,0.04135896168322671,0.04082580524252014,-0.0826482274399091,0.07907080268493942,0.06897927447899402,-0.05288662563707217,-0.004784110341056365,-0.08206672359096988,0.07519986604067287,-0.0210141537733801,-0.07714844858395263,0.07478453217172516,-0.065091463502219,0.02523542183602352,0.07509094373183285,-0.047683814879188796,-0.05853164597922838,-0.05301393632702944,0.04491620064492942,0.060839014249863384,0.06999567468039655,-0.06928536560891925,0.025266344426806572,-0.06029369405253202,-0.08232819133133232,-0.059363451932735074,-0.06903991123496697,0.027033948569152335,0.06812121796177714,0.012180512450174182,0.0756491707625926,-0.07923325559878827,-0.012200851744407881,0.04531615595626055,-0.058472878398050425,0.0768666399265029,0.008956580275295707,0.006433075585036032,-0.04750645491083585,-0.023360486199122555,-0.005336804074702949,0.0022756925484387924,-0.043979417595909655,0.05990900941014438,0.0419578615836416,-0.03576739220976216,0.0025129254276635184,0.07699496251351039,-0.0045260701528051775,0.05435254298938967,0.0021783886070180156,-0.025853605086351625,0.08077129673900728,0.04997705393745473,-0.000793673676595452,0.02592749579864644,-0.0400521653554595,-0.06520409771853897,0.07958589813664317,-0.07877829734321967,0.030636172931411066,0.08051550442772216,0.06789721345544517,0.06420175030263621,0.05586122911714778,0.03326196378717938,-0.0704302573303038,0.07601027565916414,-0.02176687716620693,0.04046998588868357,-0.021720752085190004,-0.019926820867107294,-0.0338508889865499,-0.04844385757023631,-0.026012380301940766,-0.06331572936818061,-0.05708649582763136,0.05516911698233592,0.015304647871638656,-0.05957366826088133,0.005345291160299625]},{"id":"chunk-7db5cddc-186","content":"user_prompts: list[tuple[str, int]], conn: DatabaseConn ): \"\"\"Run weather forecast for a list of user prompts and save.\"\"\" async with WeatherService() as weather_service: async def run_forecast(prompt: str, user_id: int): result = await weather_agent.run(prompt, deps=weather_service) await conn.store_forecast(user_id, result.data) # run all prompts in parallel await asyncio.gather( *(run_forecast(prompt, user_id) for (prompt, user_id) in user_prompts) ) DatabaseConn is a class that holds a database connection WeatherService has methods to get weather forecasts and historic data about the weather We need to call a different endpoint depending on whether the date is in the past or the future, you'll see why this nuance is important below This function is the code we want to test, together with the agent it uses Here we have a function that takes a list of (user_prompt, user_id) tuples, gets a weather forecast for each prompt, and stores the result in the database.","metadata":{"url":"https://ai.pydantic.dev","title":"PydanticAI","chunkIndex":186,"totalChunks":208},"embedding":[0.006382889465120475,-0.05024386393313435,-0.05851051593479274,0.01954162376314232,0.022294949442905086,-0.05199381023819689,-0.03940295502785465,-0.05065948757948798,0.012638720831042956,0.013009713364959546,-0.07626908463535109,-0.06401767182826797,-0.009136986906512583,0.03119709111776913,0.06037300128084066,-0.05487783383083468,0.045151569655621164,-0.03031848733997837,-0.042020327907997465,0.014052520206513248,0.003536544463274424,0.014151025308790866,0.04789297218485976,-0.002981416788094195,-0.050108728173961205,0.07267465820980457,0.022811610077742375,-0.015047469867876887,-0.06047320517407882,0.007506755232913591,-0.0808603921221756,-0.04085789639282501,0.08765842519778626,-0.0036948749033310093,-0.0695310053339041,0.05076298826330888,-0.08123059274047764,-0.04962105507148029,0.05087606399261945,-0.04060405957271756,0.05789785055416278,0.0019626428674333345,0.02463144768591597,-0.0024474634058348054,0.058052748542154524,-0.07190214929714639,0.04000419097127828,0.014857252745278235,0.05060611178494988,0.030418442111059017,0.0004933254545886289,-0.07092147454853533,0.013848011878166103,0.029138991330419747,-0.0065700920883198875,0.03097349864848019,0.026531654680819434,-0.02932721032907406,-0.03888347054305532,0.07832227814768321,-0.08783935014792896,0.07121666687300449,0.018037398819225392,-0.058387373196894465,-0.008346164860967157,0.06468646827456093,0.03688033171463107,-0.08445533053291886,0.08814666865211895,0.07648047089236792,-0.06328621845610027,0.006403695435625136,0.04064563978537809,0.06178350499817196,0.00810792709119065,0.020947818795858084,0.011998735408730482,-0.017632798162397025,-0.04065926579522728,0.0854732615521406,-0.05990584548977396,-0.03228087928062654,0.0646076141265175,-0.06168610295443514,-0.004902144495834285,-0.023517296784493397,-0.05205278341885479,-0.021762088735152004,0.025940291660387072,-0.0682502322684266,0.026208480252383582,0.014425506976142621,0.01589028647877105,0.08398105897958763,-0.06418102400751803,0.01910289515041068,0.015360823483039172,0.07173246678800595,0.07691929932833765,-0.036523542623666326,-0.06916195585799852,-0.04030712662658358,0.017753371981051626,-0.08744224177045183,0.01994510264338375,0.012168184084358456,0.08167161540905253,0.06262797069622006,-0.023696383045389225,0.054442236322833924,-0.06535042576671207,-0.009284061119455407,-0.023899916514863517,0.07104290551869266,-0.08900331368175655,0.058835694384106234,0.07135153986468674,0.008990868155006939,-0.08463305020530636,0.051480674501495245,-0.08117465135177651,-0.0482300725096294,-0.05578624418443337,0.0747942539981487,-0.01462341765667302,-0.08008521096879345,0.012992857323517867,0.07719223780814423,-0.06744837324914858,-0.05775741667701069,0.055979154168358684,0.016362627054500298,0.0801205235794551,-0.0432927933095946,0.08556549443042877,0.028227167877873986,-0.07659757883508841,-0.07554103213050052,-0.06339718215175905,0.033080772783095874,0.02016523660986066,-0.029513700916899997,0.0016833074711901427,-0.08819007861430767,0.0544865771740672,-0.010028228043399593,0.050558519441947086,-0.003862835985646167,0.017627579778521547,-0.026328474748497335,-0.03873917677258148,0.007721848672104442,-0.04510313983185359,-0.009868308269779254,-0.06902296855191672,0.04652317053078396,-0.03198652987363399,0.04638302000723569,-0.05951929677588603,-0.03330246520064304,0.04155913065513001,0.03539363782536913,-0.0022899678501048038,0.04108878312164958,-0.01928653031170924,0.08614733737585967,0.07421682824508624,0.02696193557117816,0.05432056087191214,-0.021657207697167273,0.06701511532605182,0.01505044839422966,0.057936709802975064,0.08865898082033986,-0.00863476594705475,-0.07478461513503591,0.030832170795776364,-0.0008720261714461523,0.04381899126530774,0.06623855636910216,-0.041820783523955796,0.08718956893836763,-0.007079652909918498,-0.03525127133749046,0.03141746418599479,-0.08499265212360349,-0.04504764804868167,0.054118483205665695,0.028381664523192345,0.05332376101456044,0.05991640609221138,-0.02220398212449739,-0.08588191514328146,-0.04324626447658068,0.008870471856890712,-0.05262887655091154,-0.07498440345449549,0.05853072761273404,0.03567533689729306,0.08672686008628253,0.058137803999766875,-0.007472103780851759,0.020138075504856582,-0.08553807058816777,-0.03879799312827395,-0.0327466104609081,0.07196445115183314,-0.01992330566899152,0.010493249740479106,0.027508882740526833,-0.0012524205334366067,-0.049888856216016936,-0.03347943013233639,-0.04557532969192227,0.037871757266560314,-0.06911777843517049,0.01924248405245879,0.06529354352235686,-0.06362958207217753,0.05775466888729679,0.04821200852874656,0.055333566184723994,0.08672281173083937,-0.04150440527054275,-0.05476090861792956,0.02775601571577864,-0.08510315524003413,-0.012085285001113801,0.0524408619971364,-0.08498829372404818,-0.0560976679967404,0.028574736075909542,0.023160306600404735,-0.03826728445932281,0.04638797764407911,0.04615660534309949,0.07811118108763179,-0.037734065889366154,0.0366585331618221,0.05211075182113263,0.06434648883960234,0.0866771882330807,0.07859035084069092,-0.06500958212707571,0.060647695524328554,0.07944657702746162,-0.03483832529347708,0.08675824967401616,0.020162421065747473,-0.00944221306215907,-0.045209144850522645,0.03864124519627106,0.0010504896068604056,-0.04216428648658037,0.08699927584192438,0.03220584610314266,0.08119309381286674,0.019360616466916506,-0.08322458549580015,0.0038573162787844876,0.004364571526696183,0.06144678545936826,0.07308748953102986,0.04708122907656431,-0.057433316286969724,-0.0581224873650302,0.04030780888826017,0.07482192948722532,0.06931187847419013,-0.07868322027174073,0.05244173941188492,-0.08333844986203882,0.08672488720793496,-0.019745532288168704,-0.02441481058967402,0.01297675910949776,0.02946375971170973,0.06708589001399277,0.01071051547816856,0.030061193327878873,-0.02144645765109756,-0.009116952440960585,0.036609226815146355,-0.0472617054042928,0.010950287777286901,0.08166711970740362,0.06946371925066801,-0.04538971120302794,-0.030491139793364548,-0.06267805812665328,-0.04923503660882589,-0.05136019297463235,0.04846973045443185,-0.0687125626273761,0.002482766582970093,0.027076176075290368,-0.05460394258209044,0.0592816012067519,-0.011504594833822327,-0.07869462379149111,0.03764714322713995,-0.015599032417230598,0.05488954616242825,0.05345617336273497,0.021371094566569278,0.08642390428526135,0.04363794256164794,0.06596996747217498,0.06403983242887147,0.015277721931455145,-0.08932158583473077,0.06529612864319653,-0.02482673798221697,-0.057124100224787075,0.03572204510717553,-0.07491995912557424,-0.042008806903264286,-0.05940614287138225,0.056926698549487405,0.005017539362893478,0.03787328065515958,0.0016467365777855054,-0.04620259440678847,-0.061632284649651516,-0.01603067008712202,0.04310359824148181,0.0006027205776953256,-0.00015347530542935358,-0.05714064772636845,0.05071973449685926,0.01799700922039416,-0.031081993189895147,-0.04151999032046523,-0.08391649250290377,-0.02761496108689166,0.04491044972947206,0.05609571013707504,-0.02485471434394113,0.03137083104476646,-0.06442637136618605,0.016600890634011496,-0.025626192283893047,0.07254922811563227,-0.014908367448602786,0.014814195425862254,0.020580213805943486,0.08373429586176967,0.07926853457403832,0.0784329591442072,-0.030468134811371797,0.02976822832582759,-0.07279187728202183,0.04308544450068635,-0.087512150287035,0.06394353606138788,-0.06015456429214604,0.027173005548968506,0.0873517147947727,0.03469516711751841,0.007472378048476526,0.029923730723630138,-0.014213402168237474,0.014791484243469006,0.002218506545979259,0.03891307839257947,-0.062412946243554285,0.056670664095316556,-0.04005300438270543,-0.07700501482288637,-0.06068326360149192,-0.07958232508779464,0.0042966510000385615,0.038279809812041966,0.0011751490311566139,-0.06615133134000001,-0.018989581163447424,0.021249163101047904,0.005813671367491767,0.02561687508176867,0.020862065242444612,0.05301861638402201,-0.05217644111287745,0.037555235163335976,-0.06577278054138755]},{"id":"chunk-7db5cddc-187","content":"We want to test this code without having to mock certain objects or modify our code so we can pass test objects in. Here's how we would write tests using TestModel: test_weather_app.pyfrom datetime import timezone import pytest from dirty_equals import IsNow from pydantic_ai import models, capture_run_messages from pydantic_ai.models.test import TestModel from pydantic_ai.messages import ( ModelResponse, SystemPromptPart, TextPart, ToolCallPart, ToolReturnPart, UserPromptPart, ModelRequest, ) from fake_database import DatabaseConn from weather_app import run_weather_forecast, weather_agent pytestmark = pytest.mark.anyio # (1)! models.ALLOW_MODEL_REQUESTS = False # (2)! async def test_forecast(): conn = DatabaseConn() user_id = 1 with capture_run_messages() as messages: with weather_agent.override(model=TestModel()): # (3)! prompt = 'What will the weather be like in London on 2024-11-28?' await run_weather_forecast([(prompt, user_id)], conn) # (4)!","metadata":{"url":"https://ai.pydantic.dev","title":"PydanticAI","chunkIndex":187,"totalChunks":208},"embedding":[-0.018901018273598077,0.07265709215639031,-0.07140155140699127,0.06283250713757785,0.06276665250811406,-0.014093231569100789,-0.030805963413532214,0.07562854763370631,0.030459064684780407,0.0478760345836061,0.025439315455681944,0.04164158819538308,-0.07888569167408892,0.0433265850599277,0.06802299164510532,0.026170955394012943,0.004131732693899036,-0.0865211397219368,0.001861322817980761,-0.008112614232454034,0.08250933831533079,0.05446090706333116,-0.03817478050591323,0.04747220060217006,0.054683958108707,0.07495277234983141,-0.06806285339073508,0.054571306757566405,-0.05662118045451598,-0.05362714917070459,-0.08362435588424416,0.02875525363580924,-0.060371103427588,-0.025223840064307466,-0.03019242349063214,0.03514521750388982,0.04257794203266346,-0.004746085026283671,-0.013974331362923746,0.06230906253105075,-0.00423085230252043,0.03586697036372719,0.031379902368050334,0.0186185192217463,0.05862656987993834,0.048912962906376686,0.031634754937486444,-0.02182016850178083,0.023026824232263716,0.019767651675648836,-0.02772023233867585,-0.08176732190409307,0.012938825171077256,0.047259062800992326,0.023979100805981958,-0.03387447427598083,0.005338765320146418,-0.028625890293157725,0.05864315029627878,-0.07376346655287484,-0.07660476438200467,-0.07557689611159311,0.0804726658923986,0.053685315160182115,0.06675541805447281,-0.007792976867252068,-0.041300077049154046,-0.015293407710235745,-0.015248051608942378,-0.05033320746602238,0.07183615585038018,-0.03519415915114119,-0.06114209508697847,-0.014963864310287971,0.008017498228607908,0.06906622141013054,0.08294731311967217,-0.03709855600936115,-0.01848891194085459,-0.061975480382623904,-0.025682026278096515,0.035180380655102664,-0.07957764616005353,-0.046762700404464896,-0.0564909875438026,-0.08636605848326669,-0.03057227826686116,0.0852410398563904,-0.01495601096299326,0.02441904845467149,0.07003004520590198,-0.030391245886719348,-0.04294416339557906,-0.0089439127439054,-0.02416475506976292,-0.0029968325034616166,0.02125877822419408,-0.03036959765089354,-0.08654049234401333,0.06471204828811458,0.06848916261642164,0.06267048007953968,0.03180386047111302,-0.0514955543842049,-0.03573251540845755,-0.041472460689552675,-0.06872936601581892,0.06108783284635757,0.03299708454058713,-0.07696176344098218,-0.061796344262382896,-0.07596371027743774,-0.023690231248731625,-0.08336519083256919,0.0628975735389443,-0.05977871483780904,-0.0613315897104983,-0.0368009372348645,0.07180562905543099,0.008547046118221007,-0.013972811897565685,-0.04861125756800909,0.01890337186214437,0.027435960362453982,-0.07719802485123581,-0.051477019021190486,0.07536367160591814,-0.005870014667378031,-0.049963395621211,0.023232247586434655,-0.07388047777967899,-0.017966340087545347,-0.07576058297771637,-0.0034748456380038263,0.05011863060910861,0.04661435532980865,0.04186610739566242,0.06760587568341905,-0.029741524658126843,-0.03935604401954977,0.059484485508736515,-0.0024069236026486784,0.0462713905463624,-0.01156869707972227,-0.07176177445113945,-0.036145494694894635,-0.011021926023405343,-0.07133134282089633,-0.03832277692996313,0.015672994296760365,0.06537030829788908,0.005413858483975863,-0.020002654774077772,0.027385229203279866,0.08259608320027403,0.04111599319746431,0.022959478938571896,-0.03362522041730735,0.07435930226086261,-0.013858915109597783,-0.04758872611449516,0.058999306340217404,-0.06948866611889694,0.010756358219982555,-0.011112119518987888,-0.0568834974364597,-0.0818381662400756,-0.03566110557016752,0.059559366562151425,0.07263998833473502,-0.07637720707998859,0.012104972324262712,0.023540458072366724,0.02713370014014517,0.07569426455877074,0.04777013684192216,0.04015126950707473,-0.037255121558429916,-0.021638420822553635,0.04557859587405818,-0.06494458647792084,0.07093674313593258,-0.054049672266842236,-0.022737548033553066,-0.04125143786705495,-0.03240134286975054,0.0823299004073204,0.08049647349796962,-0.07852715848432737,0.014024020164438069,-0.06819352072900374,0.048663172980657164,-0.07645536822816758,-0.07751595218570692,-0.04471982003677013,0.05114262243626138,0.0797742656175552,-0.03347187126803545,0.05482629330949543,-0.007822689383120071,-0.054908912020513206,-0.08365333730319231,-0.07055702448288695,-0.06505698422827635,-0.010316932248478685,-0.0688297134194027,-0.07398788562595231,0.0661468287822231,0.08550760365202759,-0.058875117055142465,0.034766072454984684,-0.07116335261164383,0.03669317796997139,0.052478416578372836,-0.023413194115695014,0.007536323293682546,-0.000789697921524466,-0.06609264745535784,0.07296307468327068,-0.07122816371979125,-0.022487837312436615,-0.0792436100418353,0.03443099234381654,-0.024060047598540597,-0.01359018093764873,-0.004485064054999422,0.06640384240092986,0.0420258869654627,0.06959455999349284,0.062289482223043126,0.0275903849839712,-0.008385702786936967,0.03886546311122239,0.03313399261238162,0.03518328867154132,-0.028772242138223828,0.0307788466309278,0.02467432612775406,-0.0611459549389686,0.0166574589681181,-0.014743901437884748,-0.0788880187198679,0.037047746300770484,-0.047454187729460515,0.08222980407114434,-0.06978571424003241,-0.029213378396700705,-0.03468362414897372,0.06007299037821173,-0.06935625833575236,0.053861515744891675,-0.00793183855360374,-0.07617468742584917,-0.051385199343086996,0.03189085326882438,-0.07217088880825252,0.025398397745859277,0.052180913580621886,0.05339616890705835,-0.019032107490821216,0.058493369418717515,-0.07486948679759489,-0.08125955770000245,-0.03639950473194487,0.07345587302295802,0.04148945861727859,0.0519490369573658,0.020190459641768858,0.026298433272228645,0.008754954779283194,-0.02413796801616991,-0.022837169913159153,0.05037148840528352,-0.05493584670506528,0.060960221162117974,0.06467645349422,-0.0751229687817879,0.014343910003683775,-0.045089533696326,0.051509253269493994,-0.05506969822582573,-0.024557462954682956,0.007689502003433071,0.06659368499587512,0.041885675612826384,0.07188547856226028,0.03827022770378539,-0.07570487639113815,0.08143400816757047,-0.0014106069143716346,0.02192796306429621,0.08300132548736447,0.00007356023739534301,0.062030428127919916,-0.03670947981098819,-0.0479710062704921,0.01734665869225454,-0.03105307180862001,-0.08107901294147632,-0.031903116758220634,0.02361735985557404,0.06274335853334728,-0.026707647816048764,-0.0668868446509534,0.036746571942662405,0.009213481878175719,-0.04015603435947074,-0.02854350222636722,-0.02717024111340531,-0.023219075093604012,0.03774474707621244,0.014613858694567645,0.05801753319897148,-0.06823757202305625,0.010924994633279062,-0.04877643961245922,0.07883650669643948,-0.028321353950256076,0.015038086633644325,-0.0499298187699687,-0.08372228148664444,-0.0490663785778196,0.03930121889928844,-0.04763164607478487,0.019792418846571597,-0.05292322347047245,-0.01978311392947064,0.019496042998193554,0.07601652613713386,0.08043965250045311,0.06744332620111416,0.08241887814262423,-0.0641848165058378,-0.060965411832222434,0.07965068014556745,-0.05229921288214479,-0.007663481944117103,-0.01638132406311285,-0.004273204457097802,-0.06355900561206064,0.014282779209295786,0.0056406402721650845,0.05144838917973935,0.05629914146509458,0.029126690061264074,0.07510398505537623,0.07487914614950343,0.037941286083359366,-0.05750724151799295,0.02139691405474411,0.023662642480581097,-0.05547350260718043,0.012887985715019777,0.07097943349016733,-0.0012344175040395974,-0.03145843526987379,0.08470322931355252,-0.06831886282355892,-0.011051195719970833,-0.04017741572769303,-0.013278046408103188,-0.021360802578098324,0.06845738380365714,-0.009630232184080243,0.003632067805996474,0.009391745027957794,-0.05551108599461453,0.029067187905952894,-0.08329119218212655,-0.06139042663967191,0.020960832060774898,0.0401665291835874,-0.08582804302620384,-0.045363050913194904,-0.03963267238775191,0.08248491423954597,-0.015459925711149496,-0.08467483173764766,-0.032187184005989765,0.08468271355926624,0.04641092506181725,0.04589079872442857,-0.026807927323293623,-0.06429183039512933]},{"id":"chunk-7db5cddc-188","content":"forecast = await conn.get_forecast(user_id) assert forecast == '{\"weather_forecast\":\"Sunny with a chance of rain\"}' # (5)! assert messages == [ # (6)! ModelRequest( parts=[ SystemPromptPart( content='Providing a weather forecast at the locations the user provides.', ), UserPromptPart( content='What will the weather be like in London on 2024-11-28?', timestamp=IsNow(tz=timezone.utc), # (7)! ), ] ), ModelResponse( parts=[ ToolCallPart( tool_name='weather_forecast', args={ 'location': 'a', 'forecast_date': '2024-01-01', # (8)! }, tool_call_id=None, ) ], model_name='test', timestamp=IsNow(tz=timezone.utc), ), ModelRequest( parts=[ ToolReturnPart( tool_name='weather_forecast', content='Sunny with a chance of rain', tool_call_id=None, timestamp=IsNow(tz=timezone.utc), ), ], ), ModelResponse( parts=[ TextPart( content='{\"weather_forecast\":\"Sunny with a chance of rain\"}', ) ], model_name='test', timestamp=IsNow(tz=timezone.utc), ), ] We're using anyio to run async tests.","metadata":{"url":"https://ai.pydantic.dev","title":"PydanticAI","chunkIndex":188,"totalChunks":208},"embedding":[0.08501267751141703,-0.06039507327487636,0.008409181322651626,0.08741012280060236,0.0827092079752072,0.021907040906592002,-0.022161313871844893,-0.06120775595181062,0.0728504987412563,-0.05286796829189656,0.055079769210380505,-0.051676755134264035,-0.00899563800632795,0.035549942432765456,0.060920188686082725,-0.002153589523040434,-0.007856475362545528,-0.07955557984285534,0.04029837315295583,-0.034731825135723184,0.08583892875768698,-0.06976567517395259,-0.05018301223139409,-0.061282380316345884,-0.029499011388339387,0.00613118605878537,0.008722852279568826,0.035027924767450924,0.017646002543454904,0.015877277168983496,-0.0264420162408931,-0.07394431643238916,-0.03538714937514028,-0.019405197669342466,-0.03627872110887898,-0.08243903624103353,-0.08680520775912008,-0.021694346901459386,-0.01430344771352714,0.014417089879319415,-0.039970844552972236,0.02271269117253211,0.03716185444830801,-0.016500770318260062,0.03977054077313359,-0.042784741511449204,-0.012405372885916482,0.0722554283879648,-0.04248301372181078,-0.03897224441663908,-0.0277958399702315,-0.039384671787958084,-0.06543265454809946,0.05786545230888785,-0.07899293017658268,-0.04579464224460471,0.028973806234273456,0.03193928088992056,0.07428584770409445,-0.061166866217693,-0.026187462777592273,-0.08712346597635078,-0.0466616484489712,0.033889766302450636,-0.025680728258257176,0.026652427864387887,-0.054981547248445874,0.01842456693944393,-0.05884589366885329,0.032361971357494135,0.019192149435508638,-0.010628629295230856,0.051390706659378414,-0.045887215528803565,0.026314902354205343,-0.07455832262804943,-0.0647543265061897,0.07019623540483168,0.02977362177564538,-0.06190549777364759,-0.023307665547566112,0.0749444097589019,-0.04643258077459458,-0.05591275643210387,0.04178302143280957,0.04061822282707545,0.05628085299612313,0.040156711311762704,-0.0798329276813662,-0.04203499383591928,0.06568733894767985,0.032498102791669446,0.060538253664997745,-0.06251433137705682,-0.08720942973762266,0.06384054571972875,-0.0334628506408404,-0.054023228737944,-0.06481497587716686,-0.053562118732894896,0.03803046423333174,-0.0035202678417884255,-0.06619462450144897,-0.020704113036569848,0.054223888166160396,0.060876907308835285,0.05557626041706894,-0.06822754065317142,0.0481705238492889,-0.007927246358275264,0.009764237467793929,-0.06368245418030194,-0.007397917139738896,0.08809522689622265,-0.01925290681948276,0.08097406569615329,-0.04282335729563351,-0.01522213390971575,0.08729161811836454,-0.024631875737538163,-0.06198224053750832,-0.004355811774510932,-0.05667756057077639,-0.013504118891481759,0.017443910012381297,0.07637037029476199,0.003894915734119985,0.07232839397821245,-0.06953910634969804,0.047785979570232714,0.06576413388518657,0.054374007665996406,-0.08731887531836392,-0.05454358675484746,0.06010106522057992,-0.04165922066474725,0.03321247435950667,-0.044167177168812924,-0.013775824871147677,0.07762339089846952,-0.011373286220480264,-0.04438061056368928,-0.08628273560413245,-0.0730369543169776,0.02731625078094667,-0.06289213876206193,-0.007380382136233049,-0.06616634901935411,0.047853193738374204,0.009916768975287003,0.0010881954145152775,0.02185490337487317,-0.044120020653716,-0.0035130456765974935,-0.04240731916693173,0.04258170338403055,-0.046205052363033315,0.006270076849075015,0.07501932355650023,-0.0484992566709958,0.07892998164635047,-0.07492055755979443,-0.0170034264501571,0.08540751310724762,-0.02008849427372592,-0.06823538154215392,0.048901120266629565,0.05487990240449059,0.03610182102636921,-0.00882638662916959,-0.031544017595066476,0.04616979914299309,-0.028065899471906724,0.0350135394159942,0.06350266089453858,0.033074506464178074,0.026903178781735388,-0.07687039007753564,-0.035037254437311975,0.016850107628834078,0.04769051435105952,0.020774401884970897,0.025438551820012926,0.007834355455296772,-0.002607093989269262,0.07720215004890815,0.026535911015114107,0.07474625432686864,0.006034699261448366,0.03851011726957862,0.0731364118219855,-0.029332039446824137,-0.05388807513163702,-0.06379974797309171,-0.025385502070895093,-0.04039742800214718,0.05317825117176917,0.03291038065578745,-0.04421476652018805,-0.019848098284514122,0.007528331825673618,-0.026480197085623092,-0.04707166395417856,-0.050123328701417925,0.05315169306092551,-0.05392993036917783,0.07066055771564789,0.0883156812412963,0.06778620393912974,0.05321387095989443,-0.01643006982486205,-0.04138728453273273,0.033491561608364875,0.004880022380835399,0.032650063899383325,0.04302712008891441,-0.018589043434039654,-0.006839847963886938,0.04755734664187168,-0.016696428733667126,-0.08132089748862918,0.0711147709305732,-0.04888564864792204,0.021400112749407358,-0.07743006457143459,-0.03968598011060599,0.04023123716309047,0.03705708876443911,-0.010769499570621547,-0.05260765563210674,-0.08686243821440477,0.038362477958386335,-0.016551922574187,-0.04529256494923795,-0.00240947504642934,0.08108590141845655,-0.08264990135807546,0.016104889158779088,-0.015855660303742643,-0.06902245981388618,-0.011787250771001541,-0.08261572916569236,-0.0051902503769495545,-0.07731357807657856,-0.01697133761559778,-0.0003909283491640438,-0.027347316671740413,0.07116973422083647,0.0468932654054486,0.04209004953218723,0.0002629503371883877,-0.006264725006464349,0.03152265470575815,0.0039196584862537355,-0.08510844248400413,0.04372719900307621,0.010611559186113239,-0.050611140176906086,0.028083487025601577,0.06328930089531125,-0.04914780620008712,-0.08685039668632111,0.01615966025994247,-0.08777366642154556,-0.04877342726892597,0.03881814492241975,0.01240829769755165,-0.03776503438534945,0.007162600429837182,-0.043688092909639466,0.04040742132101784,-0.00597310571118894,-0.039626691694769095,0.08709137986400767,-0.07944192655963452,-0.002885044655657846,-0.031125515243100664,0.04702546485575698,-0.058249586952248814,0.07944284080945702,-0.04684752878180769,0.0724752899905944,0.037766455055813004,-0.054977313970978825,-0.060480249133457134,-0.0036090790584886842,0.06517671019215626,0.04400825762094307,0.06336420049188166,-0.0825691256000748,-0.03834407764712527,-0.04340802072719153,0.050346834028216235,0.0307692034272658,-0.04749678183914264,-0.011807272151822973,0.05458076501929362,-0.04179878137602209,0.01037431685420373,-0.05104728561325217,-0.03136713839050782,0.010382968108232535,-0.03687348257561804,-0.06968155319509776,0.04897348116675221,-0.037173704405990084,-0.032287818375536334,0.003978683346749349,-0.04284055683331047,0.006040494530147141,-0.034290630015608226,0.006472040291519477,-0.0564766010171872,0.01392363300182671,0.03577687501541065,0.06104192191878833,0.08374859398267655,-0.04394778818943464,0.04225523656329475,-0.0463785182223556,-0.028315067661938496,-0.030733702660190033,0.08121208820717866,-0.04312834563010405,0.04519441094366702,-0.07167029239980646,-0.03318662983977146,0.010712092774499863,0.0854641656760051,0.08573653334535711,-0.01941103924044708,-0.012453643216704629,0.07803015017805133,-0.08643681924651003,-0.0759017947809836,-0.04537937582740517,0.0537014907058781,0.08358830869189221,-0.06861323407066165,0.08138875718753782,-0.03341546584400622,-0.08664283578242503,0.08376860565050571,0.020543363519073515,0.08575200608822488,0.019913058823881145,0.022910736472247263,-0.002137299572611108,-0.08616496901099872,-0.04360163686962305,0.07764233787941822,-0.08774795699035731,-0.05410227872402236,-0.024436771027752595,-0.018543599694420862,-0.03245474272038971,0.08127746319784168,-0.03840150925873462,0.03615087531407857,0.06654851793847388,0.0015653615227061671,0.07512121019383013,-0.0818891741969359,0.08752006055311476,0.0013004061404382978,0.08253199786300477,0.06083980507616096,0.05813874088021508,0.008391271225682905,-0.06258021343556933,-0.04358145453515937,-0.039904999415298716,0.07367935399271434,0.0011132248715847626,0.08535761479051483,-0.07254406500803376,0.033506376598942365,-0.002293816776315467,0.04083497545604358,0.05988028040588931,0.04714635821235998,0.018467838743716495,-0.05892308292233584,-0.07065791166728466]},{"id":"chunk-7db5cddc-189","content":"This is a safety measure to make sure we don't accidentally make real requests to the LLM while testing, see ALLOW_MODEL_REQUESTS for more details. We're using Agent.override to replace the agent's model with TestModel, the nice thing about override is that we can replace the model inside agent without needing access to the agent run* methods call site. Now we call the function we want to test inside the override context manager. But default, TestModel will return a JSON string summarising the tools calls made, and what was returned. If you wanted to customise the response to something more closely aligned with the domain, you could add custom_result_text='Sunny' when defining TestModel. So far we don't actually know which tools were called and with which values, we can use capture_run_messages to inspect messages from the most recent run and assert the exchange between the agent and the model occurred as expected.","metadata":{"url":"https://ai.pydantic.dev","title":"PydanticAI","chunkIndex":189,"totalChunks":208},"embedding":[0.05113391137386824,0.01004875817999189,-0.051616240603600844,-0.06245920749830464,0.041792861025379976,0.026163316712678488,0.03750168915955303,-0.028649382213100538,0.05140168182072723,-0.02812632163065825,-0.05560389611258807,0.060583913944216215,-0.04115779300796809,0.06169762884234962,0.08261009475150655,-0.05669598127210442,0.05847034524058228,-0.060797223603296285,-0.08219907190228246,-0.0007287806202431295,-0.06255739565143782,0.017634160395843246,0.06079828990676512,-0.05271257489219251,-0.06454607933717896,-0.031625988469095825,-0.05276768355754138,-0.032863640030098944,-0.014341616553660222,-0.016464297718431085,0.04029557410022763,-0.026678044444733148,0.07002089098210902,-0.0709243758592581,0.03758293694417514,0.06133372922737534,0.0655673467155035,0.06356758385864254,0.07403466760254783,0.027892032839000703,-0.07507082623252558,0.08514086589359018,-0.06150141904349511,-0.042279127893646226,0.019793848192215777,-0.004773337644875366,0.05134049758701428,-0.08531333447183573,-0.02110974721069177,0.0013319623736905318,0.04853403401008983,-0.009593353099423113,0.07650400564315583,0.007571162803075821,-0.030046162699861365,0.04257333539089374,0.054982590365713596,-0.049509855163253125,0.0005545099814968431,-0.001349435351086689,-0.01723679432544893,-0.0447076317215125,0.003123236986492782,0.0028595851422118343,0.07313749870981369,-0.055594269874851596,0.05102153518755224,-0.008182025878502796,-0.080468994773845,0.06938274889069992,0.007555334336130841,0.06859037035127728,0.032376597761468194,-0.0635513756396931,-0.05903387617107706,0.08445186841105914,-0.06540474729934889,0.024292434678992586,-0.06426665486096421,0.07535167095691225,0.06212258565135521,0.04064633885949152,-0.058662397911926054,-0.06063279477092966,-0.044076693151010225,0.08067329583469693,0.028294566365364097,-0.06726240269997596,0.06833692232583627,-0.08057981502073626,-0.019113732145743353,0.08055779574066807,-0.07704922487489775,-0.00569373450408608,-0.058092833133479946,0.06352045509785839,0.07867410319882062,-0.07701154129743205,0.046033254197750756,0.04187212588935577,-0.010631082711686876,0.03138024635924995,-0.08255070213055614,-0.009297750114729225,-0.016540154585498876,-0.05413959986181304,0.025904791100129873,0.005829422885051942,-0.07205263034235267,0.06859235381262975,-0.033934322640946445,-0.07092671937043009,0.07568550809120032,-0.022893883729200433,0.057321092365000804,-0.01846369360259454,0.02970024778454232,0.010679713475911717,0.03594212196671957,-0.03089858943183934,-0.0842937361077395,-0.06984426082382453,-0.0007609037387911745,0.07320773092323399,0.06105048800035382,0.07789262664014586,0.07029171019736405,0.04578848306374152,0.052048970549985724,0.08157800967726545,0.05876433591474133,0.0510942931055291,0.015970478310607706,-0.05219824640078807,0.08248589927182105,-0.06984997149425029,0.05251370238005421,0.003692042701490915,0.05171134333188229,0.011341779100122306,0.05796500153679586,0.068911827598806,0.009878661879293616,0.059769476056435684,-0.07385001421298804,-0.04749131331501292,0.002067550271551713,-0.07425470170909187,0.0699587920708402,-0.08522325959937345,-0.01907113950461782,-0.0013263582519524003,0.010951631844716366,0.05147946064822612,-0.013265216977890902,-0.06342568365559056,0.05837203608102873,0.025146508082843532,-0.08195404196158886,0.05020893553285294,-0.01366927439187629,0.042775663606230176,-0.01767100351846609,-0.03804565023198834,0.004766704907268979,-0.011782831347903295,0.06400575999002937,0.06397908420758806,0.06487562435991563,-0.0024213622305948703,-0.06262454979950964,0.0006056234267699181,0.047214348608339,-0.07401781291493893,0.03489310302524186,-0.03408526646376561,0.024637170818527572,0.07429356941073831,0.01625034277168403,-0.013223199719185447,0.03187037759896363,0.027928846183350654,0.026454205347702143,-0.0026292787964369156,0.014598019009081439,-0.06067706913022829,0.04141951955977924,-0.07399107029611662,0.029366429178908894,0.04758107354676298,0.080587231931115,-0.018430089540186857,0.0802529873160971,0.03713561837721859,0.03421752487267369,-0.028111675935193422,-0.025520468668520965,0.06864026582204479,-0.04890386909769592,0.02033392796305347,0.03602082034038978,0.03292625487292058,-0.07450466093108579,-0.06650573630788498,0.08241457995995632,0.04056765589384238,-0.04879999693941384,0.054849443599980244,0.021884243872537356,0.02605939540772993,-0.03395407490487756,0.05669141899677942,0.07595990925935703,-0.0353903232269225,0.04736782076618235,-0.028440601306577266,-0.053154624811870936,-0.03385556389934,-0.03847801070913769,0.015686436784942605,0.08488183081323557,-0.04980918504473874,-0.0434133488937614,-0.08309940417647765,0.039334185446879125,0.06529045271991413,0.028714397433202105,0.01382412735813966,-0.051037304084741615,0.05656195254668095,-0.02224702920662026,-0.015697179935635724,-0.05118307524302812,-0.03515887002371464,-0.02065065986309848,-0.006667836467391875,0.023684243933204643,-0.026260328035552723,0.008897261310369107,-0.08402429627381591,-0.01485873881872352,-0.04695902885861183,0.03999203956076028,0.014854952846005038,0.005523852418726413,-0.008794705963593184,0.07279238964367625,-0.024041403861265135,-0.015974019406800304,0.011790207508303572,-0.05791846708330292,0.0681616940751628,-0.04137850132574973,0.042811246430413744,0.055612974073040874,0.06031610808765081,-0.07487683600077816,-0.027609900154277785,0.04818562654377005,-0.044832051324442956,-0.07211596551542007,0.04017963375529242,0.014725204331298132,0.024611124476944215,0.015854428636318925,0.08381439679348433,0.07806093887864006,0.07253833165228717,0.08172359108130212,-0.057493292334336595,0.0496295365534317,0.05301672325191226,0.03299536940534458,-0.08521933545542511,-0.0013440247922138944,0.06405978865524121,0.019711405440610206,0.038103090230073425,0.03899471026855603,-0.03231194575024118,0.08094031825307402,0.0707497108472106,0.07071545416541616,-0.007174160405068576,0.038314667908376863,0.051932888307951564,-0.07985658323643018,-0.07411423019617949,-0.036385444755904564,0.06208406549357487,0.010420165509921059,0.008197091730001493,0.04281482948113285,-0.03592125221608163,-0.045668041815188076,-0.006437674169412628,-0.022001318911696717,0.03776927942610185,-0.002452144818791466,0.0837673974146105,-0.04284278441144446,0.014204078790899933,-0.06946272043914423,-0.051893431243147416,-0.0039707766710124345,-0.01380795811609206,0.027672483363607454,-0.011879105394794753,-0.02055086690365716,-0.04465289888668467,0.04126129272281909,-0.05114981853861392,-0.005639996636533846,0.00027890561761644987,0.08027768641678225,-0.06401517423541689,-0.07533578919167823,0.036484193137735425,-0.05893211128190574,-0.005479370521630888,0.06302254616762686,-0.08427507341057874,-0.08518619976409463,0.08279141307667387,-0.08146279505952557,-0.011345925906832305,0.0425273719117175,0.021583498143735332,-0.04185330001685167,0.027200151750853524,-0.05620233200081666,-0.06958150234593707,0.07824750379248789,0.06487032839832622,0.07449592417507406,0.03234793226261296,-0.07502560177427456,0.07634592238588986,-0.012858166998905591,-0.0059786037762070065,0.07173882222641462,0.010398003263499333,-0.02907241989823913,-0.035479084500396385,0.002553077315860718,0.08321770564450175,0.027925711046499147,-0.05279124820337668,-0.014265034748108729,-0.014970270712063662,0.004763752739596138,0.07287965303376874,-0.03382880718115474,0.07337973784504306,0.02106890476336478,0.06930232960093392,-0.04479823390272381,0.06500825288631432,-0.0596985435248981,-0.0019964921141333368,-0.03238012289264536,-0.08401596749914311,-0.015397355292201686,-0.05248451116144645,0.07100294875683669,-0.0683592905175124,-0.05222312191924637,0.0027769930786800544,0.0598458067062403,0.07329718882807895,-0.08156593494620137,-0.0072127858250408995,0.08306959793330328,0.05500914290214493,-0.050925156380183585,0.033929842114577544,0.003084710229923047,-0.009781829221731401,-0.08425637002189,0.05071295542237287,-0.017731901093127007,0.013264444386190132,0.03953414716503125,0.06105303649776327]},{"id":"chunk-7db5cddc-190","content":"The IsNow helper allows us to use declarative asserts even with data which will contain timestamps that change over time. TestModel isn't doing anything clever to extract values from the prompt, so these values are hardcoded. Unit testing with FunctionModel The above tests are a great start, but careful readers will notice that the WeatherService.get_forecast is never called since TestModel calls weather_forecast with a date in the past. To fully exercise weather_forecast, we need to use FunctionModel to customise how the tools is called.","metadata":{"url":"https://ai.pydantic.dev","title":"PydanticAI","chunkIndex":190,"totalChunks":208},"embedding":[-0.07657490161562346,-0.0069095935364012,0.015119542222904974,0.014335931567028514,-0.017820518130566322,-0.03470669595740986,0.00775687817362058,0.08376029311098386,0.07414804080951772,0.07871603056482399,-0.07076090744554826,0.04394584837547905,-0.07786136924565999,-0.006727526413998522,0.07032558768736775,-0.0779297948002275,-0.07701049390434925,-0.08482065056964325,-0.05153568395297665,-0.036930454760896674,-0.07818914217700489,0.029438728021766718,-0.017527529828030766,-0.025574616231680017,0.05578541388837572,0.021566507812755157,0.047448914688920506,0.047138051922099265,0.029406445415090285,0.023341823363409685,-0.026004699263021916,0.007757524242680101,0.04241916536259583,0.016226871083290094,-0.018391703238417503,0.08551936521155558,-0.023868694891569443,-0.06310968144532986,0.005146154856883283,0.03751994179036648,-0.06661891481251211,0.027108571558357632,0.04505867367118,0.012931979550004852,0.03162065892256156,0.02621520419286425,-0.08109143222991855,0.009537934590159976,-0.06437946601298294,0.06221150099779983,0.0523293975240372,0.05132457950777139,0.0412709289936351,-0.04652364516549973,-0.040045283955328435,0.022898426119353776,0.07284809059009911,0.05546913218575597,0.06752652907247528,0.06763604858398349,0.004153202498853221,0.07868586834682023,-0.028335215527708926,0.06187714084683326,-0.06340755823718258,-0.015028902114232842,0.035174440396654606,0.00616745302977254,0.06119429319701482,0.06666524051666314,0.06740384051811557,0.056237130867057006,-0.07728806010619647,0.043586234400108434,0.05582042094715472,0.037126668065714276,0.06244616005489088,0.012911091917816659,-0.08521549098941797,-0.06495561333871447,-0.025282827467430227,0.06422760430708498,0.048029588998379,0.08528907617366077,-0.01378339341642267,-0.053965720478018515,-0.04070737293832058,-0.022928669139497388,-0.008677632246500264,-0.07275039153375057,0.0035203972396945066,-0.07434924407672881,-0.055314796129871835,-0.05180686357506396,0.04485036836046983,0.040845330917094365,0.08417162304196313,0.020899013718772914,0.06663969108937123,0.05223677896880652,0.05519118420442203,-0.05821280624598338,0.07126093855732263,0.017785378724609852,0.014459560993682907,-0.003203909178197589,0.017946149122395724,-0.05184347844072282,-0.08396591170817101,-0.07433441971654581,0.06484897100218535,-0.00035847262844681226,0.06238920280100087,0.01274537990030254,0.02690627486801469,-0.07603687850016273,0.04561207080696216,0.046727225738509987,0.06463531106898522,0.047037527655259696,0.0017237200129528462,-0.044093452114723077,0.017537944691753633,-0.03494054720964431,-0.029458133759673547,0.036313433265705984,-0.017646593460496147,0.024155529392510783,0.015819842615071533,0.08149070708636906,-0.08665696795376615,-0.04311659319710188,-0.02952286908931425,0.03692111381127183,-0.08422182005438097,-0.05614310489045109,0.019026502662291785,-0.022313879214517635,-0.019670379830281078,0.042615116705247064,0.02228395860793798,-0.0653844701448299,0.08379513297370601,-0.036531192401780946,0.041771059757404055,-0.006876646950897003,0.07401144297911728,-0.051302485598674084,-0.037371463908489395,0.02795284278109933,-0.08749822035787626,-0.035988624261845015,0.026266045066887803,0.024961317248532955,0.07867378860038478,-0.03576881021268672,0.06233235914611675,0.028690768271148876,-0.08368694287916277,-0.0037889406759872577,0.053037682181737864,0.042474527695216056,0.005868625336908027,0.033646601495301326,0.02573632608822746,0.013768871212147777,-0.057717927093961514,0.009760529139475543,-0.02893196522988199,0.02701601231586956,-0.025573417331416704,0.020920618203434566,0.0220169277558079,-0.08364422349078039,-0.08388793883698116,-0.04608930782700263,-0.038150407959404345,-0.004264205108838784,0.0029345657631279936,0.07040500524703615,-0.0067894556079438175,-0.020215656669213322,0.028696710492080918,0.04692266760301941,0.02531721689005916,0.04868108251022286,0.021016654538588798,-0.061892282125351326,0.02995850874180842,0.02512326936644871,0.06837070310244599,0.03672239138069149,0.032520858427893096,0.005309338882817923,0.005552464365484435,-0.07374939940664921,0.08335441681584968,-0.06873212254304666,0.08394131241794373,0.08434065289941342,0.06382178257221525,-0.06687925331001733,0.076135874521087,-0.0812344248146956,-0.04980158754998855,0.040540187641201555,0.05987204904654789,-0.007046897936957159,-0.050190976463034755,0.005049404121513228,0.041861635576053866,0.07846028225105414,-0.01635287229057107,0.0349666852420594,0.015418691579955103,0.06741079997206406,0.004805919946390802,-0.01599974652779604,-0.023568243418833245,-0.03047431156671432,-0.04190915961523011,-0.030553676065412327,0.08720752390327907,-0.038458505778594644,0.05191284894251387,-0.041507869477485096,0.009603213085592173,0.04405591904950469,-0.08700795872028493,0.017041754012831326,0.0629913590816336,-0.01752932109320595,0.016959230480309416,0.0284502393989323,0.047043734952321226,-0.0668191614538844,0.05793595713878627,-0.06300763118576531,-0.05311870107527491,0.001723051053262865,0.07850326588996014,-0.006569203161627396,-0.08701007157011434,0.019126070468883438,0.06949042046206057,0.0697243364794358,-0.028420806548689066,0.037833699043459366,-0.08248537871225184,0.05063552641413598,0.05671932060459913,-0.0791997903943308,-0.0606238046432005,-0.07650347944378277,-0.03097972679355032,0.005452280143258955,0.015517091879050269,0.058626802192182935,-0.07863732622243157,-0.019519765879230298,-0.035643198797261945,-0.05744565974232204,-0.07200517825723013,0.0049304835963485715,-0.04825928619846636,-0.051210872684899225,-0.009019484423092404,-0.026092831163129642,0.02964956853776831,-0.08234344940434905,-0.08237630514637796,0.024305054785159385,0.030374273740918032,0.01899833531594927,0.044295503762188874,-0.07232315664556477,-0.00018529218758031157,-0.00627831734955977,0.002850195935760097,-0.010170793828920398,0.047808503095984486,0.006099750496416424,0.08636523697277243,0.0070543528199114285,0.002990928210436753,0.03526689816759888,-0.07653256899017738,-0.04710873033614992,0.08180532212012384,0.08179717477925798,-0.056792327795586434,-0.00048543412399103275,-0.039517169307970515,0.08246809495840222,0.0014039423334600563,-0.012057184635035915,-0.01521474083861303,-0.061942414670373536,0.07693114782262116,-0.024792619309005864,0.07380010308512568,-0.07877823868721279,0.03342338756898195,-0.07278736428142536,0.076077864895955,-0.024563389370079652,-0.04544880195455162,0.061156375509759164,-0.06476986334775982,-0.0754462708564638,0.062002614797784995,-0.060929888493802084,-0.06402619362997229,0.03603264850289983,-0.07774258391685097,-0.022034450259722962,0.022411458893693913,0.058939236831269844,-0.025409200607710403,-0.04515526938482628,-0.024596865758668984,0.08657852232276299,-0.07127336496364821,0.03339377331118294,0.011139168387314586,0.045498491543332555,0.07344364599654989,-0.06615117242245451,0.023239187035168245,0.05583040322556129,-0.052069975405825794,0.06988553457673126,-0.07199957490418199,-0.037357782773253696,-0.01851592434079134,-0.02473431966064236,0.08474044301616886,-0.02932780840200944,0.07383761559124115,0.014849551095604816,0.07636613268109912,0.042747990641777096,0.018664465808372235,-0.0028285372015358352,-0.009566106396708768,-0.02899269374823867,-0.007564664351098328,0.07479089603187761,-0.009650153574704924,-0.08398081032209105,0.06470602193644305,-0.03600289188383478,0.07594993236705086,0.0626520782204495,-0.05207582841371583,0.03885580384853519,-0.044527377178103,-0.03298347222327041,0.01779719400489529,0.0704076518139061,0.05939946956170613,-0.03366088682405128,0.03862138262361466,0.06989100856293924,-0.05955960774561249,-0.052577623084445135,-0.007204853072761017,0.065835948190838,-0.04300819433851373,0.06302162470294208,0.08258352520678175,-0.051307875946918775,-0.04438333959991396,0.05434678864060299,-0.005894302928595563,0.029101406833673193,-0.03965840352379294,0.055571836693136506,0.07690514518264362,-0.038361714446391214,-0.05406890679324136,0.0750715841868944,-0.07141703984176359,-0.003096490056123504]},{"id":"chunk-7db5cddc-191","content":"Here's an example of using FunctionModel to test the weather_forecast tool with custom inputs test_weather_app2.pyimport re import pytest from pydantic_ai import models from pydantic_ai.messages import ( ModelMessage, ModelResponse, TextPart, ToolCallPart, ) from pydantic_ai.models.function import AgentInfo, FunctionModel from fake_database import DatabaseConn from weather_app import run_weather_forecast, weather_agent pytestmark = pytest.mark.anyio models.ALLOW_MODEL_REQUESTS = False def call_weather_forecast( # (1)! messages: list[ModelMessage], info: AgentInfo ) -> ModelResponse: if len(messages) == 1: # first call, call the weather forecast tool user_prompt = messages[0].parts[-1] m = re.search(r'\\d{4}-\\d{2}-\\d{2}', user_prompt.content) assert m is not None args = {'location': 'London', 'forecast_date': m.group()} # (2)!","metadata":{"url":"https://ai.pydantic.dev","title":"PydanticAI","chunkIndex":191,"totalChunks":208},"embedding":[0.05778573325477435,0.04589299773509572,-0.0532097217827833,-0.06988712467497199,-0.0058950183762157505,0.050712687740330525,-0.0884168189140882,-0.04117713531941751,0.05313011086050715,0.01197385212844004,0.061995590309189205,-0.05130183953812591,0.06175407056001173,0.08721126684127085,-0.06800208076961928,-0.04633827274822487,-0.041126400874245676,-0.08685095609841177,0.07270318015876645,-0.07763737435107151,-0.08092727780049479,-0.0060731141679047675,-0.08450606946559573,-0.04984302577412733,0.025987511395175505,-0.04228503666859992,0.054153873764488304,0.062125642863795454,0.060934883444975545,0.028249585495259702,0.08411961315935572,0.050819582179333564,0.033891346181750666,-0.0894169163652474,-0.0261029998389046,-0.03847714240410184,-0.07755855588670743,-0.0761442318679548,-0.014762279677731483,-0.04705224982269359,-0.01655062133433591,0.003070907715316081,-0.05354297644806485,-0.050669366819769975,0.06237396504326021,-0.04106790585355555,-0.037969093648132494,0.042123300699936965,0.009135508284079174,0.043458506433559245,0.062125239243345946,0.0343687721723024,-0.0839693932120473,-0.014828811227357517,0.01885045620050063,-0.08105461968331787,0.057846528058636174,0.0007452369854297063,-0.011668372857516134,-0.037186094051643144,0.07952000787784183,0.067788189930876,0.008521960596524563,0.04293275865463711,-0.07025777615106059,0.0650697364978151,0.007443007620971637,0.04656742225307742,0.08925185353886891,0.07146792708266002,-0.0036045932251330725,-0.008822602039498136,0.07679879270737125,0.031443144957902604,-0.05383359135712198,0.06022358334879693,-0.03972687307303955,0.025292480125826303,0.021541349593189672,0.024745423593535064,-0.02346404989717852,0.02837437606920461,0.027376374562829955,0.025375165159820457,-0.04906730683425952,-0.061592043885741424,-0.08638303005024796,-0.036845941721154296,0.05550847491061995,0.0343281446539334,-0.0006621281024164284,0.058974629597287095,-0.07182774653678563,0.013181141421759189,0.061147233675602396,-0.04524637347890417,-0.029032653645564198,-0.008617286651659914,0.02752829168679704,0.07700961003150775,-0.03201390095426431,-0.036756772579037596,0.00424695263190115,-0.07732135444340955,0.05139542165143652,-0.05387890607251353,-0.040635005525175016,0.05412750946083483,-0.013522055287886019,-0.034294777416621305,-0.07312135014308002,-0.023313679062862813,-0.04839875686645156,-0.07378111361564989,0.038955146946660184,-0.05647759811742309,0.06086815855918807,0.005888039789800099,-0.02622713419103319,0.040194939147047644,0.018952309373458584,-0.0461683257525534,-0.027202237990773762,0.03405179928380194,0.06875630921474946,0.005373260306724932,0.043970874801262896,0.018437158154727806,0.08083240737383826,-0.021761763591203236,0.010558399991290884,-0.0306261504227434,0.04657412280545998,-0.07864076511263293,0.05780054137184513,-0.02815928849335336,-0.07812971323231102,-0.04061557383718016,-0.08326005000801913,0.08778056465086045,0.04055135027984344,0.02341494227712677,0.0783627494476391,0.061074803552796604,-0.022392997482101874,-0.01539464600320163,-0.015710197384325678,0.007550173276797676,0.043846122024697246,0.08024498954009128,-0.07104417700007419,-0.03428063457142563,-0.08316547657587846,0.05201260638837736,0.02295124255272755,-0.08799197482899558,-0.027402026352554287,0.06868027457881117,0.011133875787812435,-0.08043112393908967,0.005001310383897465,-0.05762187825584212,-0.014149566046172058,-0.0020123529170559006,0.040292117247259694,0.057933388155325345,0.0007271168889366103,-0.020449295158393405,0.01535307937488635,0.03919819351552746,0.0449605678588294,-0.062189524426409605,0.010779462680662776,-0.06650874419416872,0.051226852906421684,-0.02953985125769309,0.0450126009051771,-0.013678010571053804,-0.04294891525720747,-0.04890236959984135,-0.018308367056211135,0.061030131389744134,-0.0043406639208687404,0.08405802485491998,-0.052779502562576325,0.07395393245169213,-0.017551560180602017,0.047337856091018544,-0.08628319674942936,0.07471328555983717,-0.06715122582452614,0.0330071434372563,0.04692992756691726,-0.07329040494524652,-0.07881933620844735,-0.033205957186776054,0.08608369721794863,-0.03712746419153419,-0.07237224422582736,0.024137627144002697,-0.02586668846343159,-0.03004917723513124,-0.07857592169791246,-0.0804509373523686,0.08023874018783,0.011057335909028737,-0.019234004424718527,-0.059024977165439564,0.03389330697575069,-0.017965102297790886,-0.08031013216770509,0.03065287166940446,-0.008701147671597808,-0.04421833842548051,0.040289690833465786,-0.03169157999432463,-0.08391122813960121,-0.02636912718010548,0.028979885738245222,-0.03094674216323941,0.060319474751925506,0.05755504306182639,0.05439287598388508,-0.012237534442648135,-0.08009205246927974,-0.040589994808860816,-0.05236815552279385,-0.047311037277980646,0.05108503107646227,-0.043714441769125575,0.08877200687349981,0.03288151066368597,-0.037977498966688575,0.06414513214078321,0.03343579431759037,-0.006239706715962982,0.050701324616158554,0.017903050506716457,-0.05991280699051192,0.0671833843147559,-0.03704392071280412,0.05412396568285793,-0.01004916767838,-0.05305268305303081,-0.04244481116128096,-0.002385077571728423,-0.04249271840889026,-0.05648084826558633,-0.08032237492804892,0.023576539210347847,-0.04293963690333465,0.05592940465090655,0.009309143906402698,0.08753321244075794,0.08175811024962168,-0.0017719093230452892,-0.007556441071512683,-0.06023071028482327,0.0399042547478719,-0.06396692840118369,-0.028085582917482695,0.08881232890425284,-0.06269286010002616,-0.03203718810532687,-0.07724080756240821,-0.03671730219920893,-0.010173217348086499,0.07277812172650906,0.08673122407339262,0.013119923697237823,-0.03967406022600767,0.061267998427156606,-0.005047031221833497,0.02142590081349522,0.029241024314756378,0.014957287383290517,-0.050199543089670444,-0.03726361489885675,-0.06844326588732265,0.06365410054155578,0.04521458403118432,-0.010048537675567728,-0.010116723117759626,-0.08181973712223317,-0.08754075152653233,-0.035691108769134984,0.02106766607993411,0.03155285841934773,-0.07561423431426265,-0.01851632194211441,-0.05159462261610291,-0.008640736255294887,0.05273056102342005,-0.029057612897049466,-0.08655126385064531,-0.008108254265921072,-0.02395759152063547,0.018528067257278895,-0.05753850473678467,0.0517363588146133,0.014797784767320282,-0.003327883550665921,0.053748927641665896,0.02550166105636763,-0.005313086604935172,-0.08939668144225325,-0.050885603521343026,-0.029833101570151923,0.000490153186648507,0.06945861575106577,-0.05897427888656682,0.017734152392520554,-0.06393970905222744,0.04308577560941676,0.042221410158247964,0.0601864962823469,-0.040696222031667735,0.0824315232160152,-0.026338912994996463,-0.009013655215782375,0.06302239817853919,-0.040423165139405796,-0.010315761253469303,0.05782244223559577,0.020526878010989565,0.016976687906509854,0.07493565303532229,0.06750959819815666,-0.059098375519104074,0.04892937553093927,0.011361061617546218,-0.08794019725249914,0.05560296835455895,-0.06927988220161907,0.08160608001385095,0.06277348700053594,-0.06697395995466864,0.02352015192864252,0.028103119277255808,-0.06413867861145718,-0.05645758178016511,-0.043204806917560505,0.0328914714172075,0.002102896844470498,0.05453402038838342,-0.04713513349400496,-0.08751809698542588,0.06251686873277985,-0.02003940244770126,-0.03303881263889992,0.058161544296512956,-0.02118887584510028,-0.05541240484282732,0.02478939783689779,0.08548911559832492,-0.007284334321405826,-0.002414435856346486,0.049691457327092695,0.022606710000147814,-0.041678151310401,-0.05484005962392377,-0.047752083560801066,-0.08738927957043842,-0.04143971201410951,-0.05005675340176148,0.0644434671698092,0.03228239714120726,-0.02946361013606108,-0.0332986039949818,-0.0853121226216696,0.020486546958529125,-0.01277690491401483,0.054454521065250214,-0.05380761147117472,-0.04882956702042766,-0.06017809374944026,-0.005488102482393842,0.03383632191624342,0.006650279546902658,-0.02199204461249948,-0.08948671234279192,-0.006809527939424566,-0.058475390484175126,0.07494726535512988]},{"id":"chunk-7db5cddc-192","content":"return ModelResponse(parts=[ToolCallPart('weather_forecast', args)]) else: # second call, return the forecast msg = messages[-1].parts[0] assert msg.part_kind == 'tool-return' return ModelResponse(parts=[TextPart(f'The forecast is: {msg.content}')]) async def test_forecast_future(): conn = DatabaseConn() user_id = 1 with weather_agent.override(model=FunctionModel(call_weather_forecast)): # (3)! prompt = 'What will the weather be like in London on 2032-01-01?' await run_weather_forecast([(prompt, user_id)], conn) forecast = await conn.get_forecast(user_id) assert forecast == 'The forecast is: Rainy with a chance of sun' We define a function call_weather_forecast that will be called by FunctionModel in place of the LLM, this function has access to the list of ModelMessages that make up the run, and AgentInfo which contains information about the agent and the function tools and return tools.","metadata":{"url":"https://ai.pydantic.dev","title":"PydanticAI","chunkIndex":192,"totalChunks":208},"embedding":[0.0005047088442703096,0.08466764413990709,-0.016840139937650322,-0.00556937072531021,0.01655931377613077,-0.0366468838400724,0.0717269670709436,-0.08422629900810782,-0.08178617207995499,-0.08603294971997195,-0.08268976554246654,-0.07214686002548655,0.0748781901605921,-0.0014907357990685199,-0.04149146066528086,-0.05533692627211315,0.038618806533495795,-0.024290552695666105,0.045168260308215476,-0.06540158979066917,0.06497568322030471,-0.059012964020126145,0.028853381081260007,-0.003857138040152818,-0.08139635215224529,-0.05946959284459953,-0.013337013988406613,-0.08314564094155771,0.06548707229137428,0.03815013934613245,0.055325953716170016,-0.02752067478027804,-0.049570437925482644,-0.048340461056496094,-0.03897395193574526,0.03017266135267385,0.05827703137777602,-0.06411412718347459,-0.04563579277673498,0.03939852709531228,0.01765819391428743,-0.015023240551595513,-0.05676937956795221,-0.021781838169789555,0.00319995993479593,-0.07206139242495618,-0.048750359315321776,0.07285229056206216,0.024304648976388222,-0.0745879875608543,0.013871898968148796,-0.025061813229367024,0.06343057706078196,-0.07071817443019764,0.0606980579474479,-0.08090750617884479,0.040480051306669214,0.04516362632452084,-0.013955173135053591,-0.026678127099626994,-0.03561688507439656,0.07423699451768423,-0.03923702693905292,-0.002607849800355112,0.07361383865541152,0.055444466749751876,0.07490755056468242,-0.03036370741550849,0.06216012830432166,-0.03403783637598281,-0.048273716838308896,-0.0061830082105343125,0.03432708257240282,0.04380169535094416,0.06916477606290967,0.03645510347596057,0.050414444279592296,-0.05590835309396807,-0.07945035403050223,-0.05329334808828139,0.07972124331001149,-0.01691751980489081,0.033819512770655334,0.029029181902113885,0.019849962839936487,-0.054787836817730196,0.055576176602079565,-0.04241765032902947,0.0820346279029326,-0.032190576697571284,0.0417619171122451,-0.057524062201701365,0.0840546970463537,-0.019792608719519388,-0.037430794384269626,0.07905039729465697,0.06452281167938302,-0.04218029178146783,0.059637601770343225,-0.05895508406680996,-0.01630877746121487,-0.004744945711723794,-0.08225934203734664,0.02274755576283555,0.05008305314962049,-0.0058064965052597416,0.04023156068370062,0.015784487774546583,0.014886234308736595,-0.01686572043457578,0.04204470802893489,-0.08598442690297065,0.08091467185412854,0.030134996935273186,0.041800920405369944,-0.01901648011638722,-0.00496588486570518,-0.0001428581728143132,0.05142758581924681,-0.08412184635411749,-0.04522277874574434,0.08194439793292436,0.07446429696554407,-0.04435054340155939,0.020516587233927068,0.009094004421104146,-0.04288145938839494,0.029474995696275243,0.03151165047363222,-0.05347997112932415,0.058346430561529744,-0.05027543729685027,0.07034014387230877,0.041564469996967585,-0.08509732630861176,-0.05662200716094359,0.014031714458044646,-0.05036611467201529,-0.07898005642769997,0.06515864830490466,-0.07165400786492256,-0.0023176394831616485,0.07748011713168548,-0.014015999013373097,0.07732739152088006,0.029370588115766656,-0.06570319709065349,-0.07852369041658872,-0.05638194148801424,0.07110507600956958,-0.0630723342219831,-0.003536486354077894,0.07040834519790327,0.07199617325750403,-0.0753930311692078,-0.007998739429993216,-0.02978111088031641,-0.03469472098200459,-0.07810252063951789,0.05639217786292121,-0.055672460865488514,0.06924930753086905,-0.004681878434395496,-0.042754232316812205,0.01697113731603033,0.02837798907536913,0.07761182908943252,0.048630954701916314,0.044518380024060396,0.013210518859291141,0.07641301601775108,0.04969695663623486,0.05469094476932027,-0.017847890599054644,-0.057798492593674894,-0.04869966385418838,-0.026157661319960897,-0.013522492398429876,-0.08023765935670002,0.07096964366518196,-0.023039228295775874,0.00023697384900377207,0.06484212498247356,-0.05739370001022496,0.006152776535310207,0.04680594767466743,-0.0669991794202325,0.0462841054311673,-0.022401156026211736,-0.01633722657056272,0.04407539148552707,0.014649808792477518,-0.0181819024187341,-0.048475663960033936,-0.006597569733639138,-0.05376289737894666,0.07724371436069212,-0.019220883470578813,0.0613171326368063,0.0218098967415316,0.07008905170710061,-0.051606097539908954,-0.05392938136437674,0.053429453201161166,0.05102641651256957,0.07035937535527292,0.0664181765328779,-0.009553774433959132,0.0737337484862707,-0.03677515111203395,-0.07081848451073583,0.04494264249295723,-0.028852299606750176,-0.005109093515190541,0.05492293458096141,-0.07366219136804182,-0.08098808788135428,0.045241435648741994,0.042354926287108324,-0.040875803003810135,-0.029340351498613575,-0.015675181686168892,0.060765976267786306,-0.024001717561704095,-0.03670145136943575,-0.04581748323137285,0.053037408434228765,0.06528689298556578,-0.03995747466093909,-0.06929627945626084,-0.03830797574215131,-0.05783532681314632,0.029916684362961948,0.03887928190199432,0.08309729242558768,-0.04179142938649406,-0.015360373434424757,-0.028902258953744552,0.03559866285356393,0.04428884418111448,0.04467522376712336,0.05710483710959852,-0.07052594937864529,-0.006068814748041144,0.031659118099567576,-0.015789372882775717,-0.04839036371403161,-0.02239749043938139,-0.03298167647714717,-0.006205992028345288,0.08591549868756282,0.017790378859554097,-0.03814170443883639,0.06621307160979643,-0.027289671508885376,-0.06394359046011987,-0.03557374730317754,-0.04623697053836684,0.07274058617916244,0.012751518176811402,-0.02929333628261958,-0.043453595579472655,0.00502813140086744,-0.029829337696272062,0.06678515021496216,0.04460803159783128,-0.002328119790141243,-0.0019026258821263377,-0.03650561080510649,-0.02170924169342793,0.06153838083399658,-0.07416523867610794,-0.031234323490639503,-0.008501029760548177,-0.017782420473106478,0.010724849253546252,0.06308610709478274,0.03132799456994243,0.05955564703721781,-0.07530173970782386,-0.05579971266191291,-0.051238086760408245,0.06188365902910492,-0.04685638405097558,-0.018055878822399427,-0.04059766386702333,0.03979318739452681,0.07113097200629716,0.022988545177137124,0.07771063686304241,-0.0519322659742137,0.006537460945288108,0.03306692608302593,0.0023882915390888585,0.04738003684341378,0.041752862486601164,0.03496505973283497,0.00018988404441182662,0.03479292621189546,0.05788527531998252,0.016204755921358827,0.06188190981059584,-0.03446222037255946,-0.02680594361201757,0.03906643351950262,0.0534852231637163,-0.006740156991564554,-0.018424812697409365,-0.07617338077220273,0.004551146538213535,0.07911863821122203,-0.040018461731151145,-0.032006705522466254,0.06726383895278312,-0.07808291436558899,0.05046078848647349,0.038689454725955974,0.05437739372752841,-0.014552021929993997,0.07239741978009817,0.07833831949951321,-0.030351490443673274,-0.01844476243481456,-0.0857626552236424,0.024781377631499305,0.04803671925319393,0.07079164868457666,0.024471825494638416,0.07050518814270906,0.03497147756653346,0.04156981517886404,0.07168002772841933,0.04003134779685493,0.06173492267539255,-0.05499904062739472,-0.02679650270108433,0.07300670739993009,-0.08556550344063489,-0.055492108318426596,0.06497131922191061,-0.04230793882920119,-0.05533227770295999,-0.05814379575982834,0.057237700997713546,-0.0538345024701082,-0.025302463150898433,0.08585367783118064,-0.011372901683708447,-0.04678471514494712,-0.015668314000632646,-0.0021233095726585992,-0.009364936887814878,0.06481105868462998,0.04587175246816943,-0.03544068217645282,0.028738444773787612,-0.032761082947218294,0.04368745572416971,-0.017325857215829313,-0.06814731846250428,0.0037958760069126676,-0.05563791294954141,-0.0377948511241096,-0.05227470523289686,0.07707209194564381,0.03480943457139902,0.029368011340982395,-0.07322488036243444,0.046056158675792234,-0.08426231169596418,0.06102425545739885,-0.07897734407401455,-0.02500839827864341,-0.0580823965445838,-0.07151259845625038,-0.013868791796928365,0.07889543078265468,-0.05847518722820259,-0.048034789052839366,0.05494350257069557,0.08277644868602262,0.06497535947742648,-0.05661864466974256,-0.08201249094929274]},{"id":"chunk-7db5cddc-193","content":"Our function is slightly intelligent in that it tries to extract a date from the prompt, but just hard codes the location. We use FunctionModel to replace the agent's model with our custom function. Overriding model via pytest fixtures If you're writing lots of tests that all require model to be overridden, you can use pytest fixtures to override the model with TestModel or FunctionModel in a reusable way. Here's an example of a fixture that overrides the model with TestModel: tests.pyimport pytest from weather_app import weather_agent from pydantic_ai.models.test import TestModel @pytest.fixture def override_weather_agent(): with weather_agent.override(model=TestModel()): yield async def test_forecast(override_weather_agent: None): ... # test code here Evals \"Evals\" refers to evaluating a models performance for a specific application.","metadata":{"url":"https://ai.pydantic.dev","title":"PydanticAI","chunkIndex":193,"totalChunks":208},"embedding":[0.005917034902898913,-0.0550116997474304,-0.017863973517327252,-0.0442056770242016,-0.06837205221598512,0.053746472986775734,-0.042430586151968215,-0.07372553937451116,-0.03844283719522721,-0.0860301722006805,-0.07606258791736784,-0.0815289432892779,0.029628090341826417,-0.050195662030517535,-0.07461289748713346,0.04490617632152357,0.020655000463452648,-0.018808123301292626,0.00200000354481064,-0.06661488378955482,0.039262407396620506,-0.031372218020846526,-0.02735303401475116,-0.01053476119690833,0.06025070757248111,-0.03061584916424033,-0.043123925454852406,0.001071424084822551,-0.08523093240985262,0.08365680440631118,0.07070213940363841,0.030487012189701634,-0.03231226408764597,-0.01309726231892042,0.0765385406010215,0.07511664193264155,-0.00505815307955934,-0.07501446973573421,0.0799820283966693,0.0328257105439666,0.009945528540460135,-0.05759193934769872,0.03684822982166533,-0.03795122746497145,-0.07582224769082374,0.035786959252177244,-0.0076490283250379215,0.07569042164301053,0.027486794459694857,0.009163143099093819,0.05102998557814292,0.02574170667453437,0.01516319609088974,0.03337239997071186,0.03154905881438591,-0.018527872233071136,-0.0373087606058209,-0.0032756823493270246,0.04389419075633868,-0.021846380794898264,0.0823040800763409,-0.008969064835911493,-0.0851202918806786,0.07559873064314387,0.022115552904858945,0.014064477762310002,-0.04288095853994471,-0.020986446564438578,0.033601548091803705,0.08283516014615337,-0.05699802969029575,-0.08517996444315161,-0.028845980946849023,-0.08234352675579158,-0.04587854039639646,0.06833366697148453,0.07905567674282643,0.0032827918675094716,0.02419471279781958,0.006525718324156406,-0.04162158331042991,0.0741191284808024,0.011491324914165778,-0.05286818053708782,0.049776963467018966,0.011554150960981925,-0.043530649237352115,-0.06868141606695946,0.03920403107810669,-0.03363561618026391,0.03371401398593123,0.0719328615647693,-0.04142316988159439,0.05503107139801168,0.019871250541165085,-0.0859872042774221,0.020846190065575004,0.008570900072749032,0.04517545833778231,0.059277781745189016,-0.03602036013267877,-0.08404119713251576,-0.0020436102223764913,-0.08293615396042142,-0.01693568999552328,-0.019883187982814316,-0.07553561774751055,-0.030145502957851792,0.027449499271076358,0.028137506879815005,0.08574332489054327,-0.04482765621052649,-0.02074036332270449,-0.020773953369171712,-0.07721082008837009,0.08053705272316838,-0.025297091476565586,-0.0393487536428258,0.06054072014868016,0.08248278627488861,-0.05818398889654055,0.0030771847003363854,0.07160771161044852,0.06231814296195904,-0.08529051678673336,0.04943324250705986,-0.06503787747413443,0.054409571161627,-0.011360726149355644,-0.02085437148088137,0.02608604865021963,-0.06413440896159021,0.014516835692107447,0.0839004539142531,-0.07340089963313641,-0.06478527751690905,0.06715314093119552,0.024602602844980587,0.04631367262389892,-0.05917564235288172,-0.026212035673194703,0.0026805524902880546,-0.04070757809489417,-0.017196669576030214,0.042909219506776695,0.05945351086264728,-0.04205279468991466,0.02525050495701291,0.0608168165880984,-0.05057296918425409,0.0393014842173811,-0.030216417170919236,0.05564139286272093,0.0029955161643558325,0.004286193318681496,-0.08378265784058006,0.07690921057872996,0.013215528708239764,0.07196071523893464,-0.025840712739681006,-0.08410994136296301,0.03566628487991621,0.04947893607809839,0.08250861806173104,0.07948183453088385,-0.017393965033306858,0.03666021304236905,0.06329627566120687,0.03901600695587942,0.032713372969043183,0.030518546376928662,0.00822485839181702,-0.00936682553089804,0.009653022814188344,0.07271978850244434,-0.01641057133142317,0.03163108294858382,0.04466368989548032,0.009322759874304693,0.0016430198351548146,0.004887123032722915,-0.07605163985648235,-0.032812603642878586,-0.0622970297818876,0.04171065019154456,0.0061245211052756415,-0.05879868692574736,-0.07150706385733956,0.0362395574281738,-0.08440090761864272,-0.0786101994562622,-0.05178420644161834,-0.037194925906479076,0.0727937970826111,-0.07735854645822378,0.08355765423654155,-0.06578726785560399,-0.06930879193756966,0.04932439596757693,0.03327750185909187,-0.011709176139289752,0.021360801552166464,0.04801987014090777,-0.06507697637351435,-0.04210453080465315,-0.034120934107112234,-0.07402755919525955,0.07798983628787713,-0.0206908293604791,-0.0619665382188173,0.0825788547544934,0.003074021857901576,-0.011515627055271753,0.03311050685368099,-0.03988172611991844,-0.019966398779546028,0.047099344828990565,-0.07773688788023908,-0.07643841165918641,0.08248443446484899,-0.07337779520149117,0.022813676850369658,-0.07065662370819538,-0.08337519612463348,-0.058329652492419684,-0.06804465868949677,-0.035326199022287605,0.08139450928027844,0.046819844100786386,0.009323044586418597,-0.01434153294500542,0.07294616595158174,-0.046556807856141136,0.008776585473619189,0.058330040472831926,0.022156257222921003,0.027126291409449544,0.006159102852355511,-0.07144818674891451,-0.02611368454944799,0.00857383890736618,-0.024130034745569028,0.0394448720816048,-0.04040905108417472,0.06600205689353396,0.012859176692152781,0.02636612372588201,-0.04343699655018763,-0.08145060600113645,-0.08000705315430465,0.04057330781323478,0.07850653911246892,-0.00815721950455426,0.03805492075831866,0.027192664208152827,0.04807883390096781,-0.06147760661768791,0.05982438382310309,0.07635317616336755,-0.031562403741317205,-0.023378857152660103,0.05431214075809891,-0.07596954008467291,0.06795100952967824,0.05355407299722748,0.019656066540573572,0.024752507478723238,0.016359121874520387,0.047557033935567754,0.054952708282493684,0.048244122558626645,0.03043220612559379,-0.016135389308892946,0.0026964385206750484,-0.08512316601913748,0.07485836298691861,-0.023297346966894127,-0.0001920407345698812,0.020592783009693843,0.06516272609618817,0.07393075340147431,-0.0763088807515198,0.06579764047536399,-0.005868619659353135,-0.06677909217753152,-0.04228603173804417,-0.03400797790687209,0.03930835607279706,-0.027993820535594693,-0.0031409343405741892,0.009549753748467029,0.03268665710047415,-0.038920150853815935,0.0668661455388851,0.05323092295099799,-0.07904888741391064,-0.050574530952442395,-0.06684608167504957,0.03368056734912885,0.01949527019034573,0.06470005249397333,-0.05058552089999169,0.0409579829714961,-0.028128911091589052,-0.056914256934379126,0.052485398926576964,0.07434272368049981,-0.051834647602936025,0.07567333678216268,0.03632830230951635,-0.05721190557957398,-0.053649179748380155,-0.025293527037808225,-0.04597633060790105,0.0546564858872949,-0.038747771971382204,0.020139128343249,-0.02333190247931167,0.06927211374864811,-0.06154995787705446,-0.05715091788822017,0.06744324539193734,-0.022100438193703817,0.06796774173014078,-0.07651753192102778,-0.0002746701812159271,-0.002161180372988969,-0.020498569850832468,0.053225120257242006,0.040689280078331544,-0.006929579861662068,-0.07399574698392139,0.059118924546289336,-0.0175428869667498,-0.00004282853160559835,-0.015910027062241792,0.0760571748203775,0.057454537503729565,-0.03059287883668424,-0.039730234792629264,0.02962717951942627,-0.035593751029392544,-0.08017016829746233,0.08401145229598356,0.02469020055627434,0.056541642353182965,0.033610993979983655,-0.011398735954484792,-0.06237150813224125,0.08162265024627513,0.029511941005423686,0.07676303082717734,0.0015235263028488234,0.07379926262648782,0.021325849659136403,0.04290247612569801,0.06618673838925128,-0.01887973921841927,-0.006674787052296763,0.050134100823617474,-0.02257402329359157,-0.07833250363274807,-0.07402476327815895,0.013465567337130458,0.03410378778156625,0.0449279673011673,-0.07287502098893124,0.021262327269091875,-0.08578022187723632,0.06339174550479315,0.07894407900496074,-0.06220612427448523,0.022743666036475922,0.04380388589568846,-0.06051089885579764,-0.03583357096981784,-0.010482916953287251,-0.021304654289658453,-0.0001898262071333332,-0.02318205787606075,0.08139699038132127,0.06092961114671708,-0.03261165922784902,0.03334272316690855]},{"id":"chunk-7db5cddc-194","content":"Warning Unlike unit tests, evals are an emerging art/science; anyone who claims to know for sure exactly how your evals should be defined can safely be ignored. Evals are generally more like benchmarks than unit tests, they never \"pass\" although they do \"fail\"; you care mostly about how they change over time. Since evals need to be run against the real model, then can be slow and expensive to run, you generally won't want to run them in CI for every commit. Measuring performance The hardest part of evals is measuring how well the model has performed. In some cases (e.g. an agent to generate SQL) there are simple, easy to run tests that can be used to measure performance (e.g. is the SQL valid? Does it return the right results? Does it return just the right results?). In other cases (e.g.","metadata":{"url":"https://ai.pydantic.dev","title":"PydanticAI","chunkIndex":194,"totalChunks":208},"embedding":[0.006607383147371428,0.023798489901698465,-0.035504018547070075,-0.08311265932918188,-0.0708879554141999,-0.07227343162471309,0.0062660331682191815,0.03947045903157056,-0.006782777382538527,0.02485415168650629,-0.0799105494227458,0.005654722931584988,0.00031095668712467176,0.06611250873860579,-0.07379368382485357,0.08246559808747007,-0.03356460901383462,-0.0027831498517827216,0.08433233123790747,-0.08606515382463893,0.020428483283559774,0.027620528053589964,0.041985963599525375,0.024870335849651724,0.055737211520697216,-0.07048887293340858,-0.013977912423693393,-0.028168555662416116,-0.02950033375190439,-0.045742006051011516,-0.030724581330885153,0.06680774617652398,-0.055992993427785666,0.06821127606419634,-0.008787580678244616,-0.059195600556826974,0.04148368558782366,-0.0040793952830725936,0.054932781786402374,-0.06611447642387462,0.0058754134168593885,-0.008612423012738232,0.022661915024201795,-0.04432652666934309,-0.036000281128538814,-0.08286471684421849,0.033555369036910296,0.003405934917529639,-0.0468928573068482,0.03166916558694559,-0.08046606829332166,0.005017636885218266,-0.02353340184061625,-0.022413862974665633,0.08232030113177599,-0.03413768389111778,0.055258543303916545,-0.028643917011806866,0.039568669869277096,0.0592870178643624,0.01931879203207757,-0.06943662429854593,-0.05022718465052702,-0.005113054067074413,-0.05456708599053284,0.007340346698611556,-0.02515076871177917,-0.025202838948270974,-0.05890796043316973,-0.06357117022203942,0.08050071570268019,0.06261797009120185,-0.02499881096017598,0.08156678362963508,-0.005584832209774124,0.016245244336562235,0.001995129792108858,0.0673600050047969,0.03453007044276874,0.022248207163121203,0.003692334235867756,-0.07414773990320052,-0.014142513631877882,0.0622490113683629,0.04912890793719465,-0.047678451601073375,0.07408362235371901,0.08277560033459175,-0.0321191920544698,-0.04782566250963312,0.021028203569831417,0.07636113065148832,0.08615175016649586,-0.08134951746330417,-0.002190792651446668,-0.03868975689876425,-0.05514977120812064,-0.04841154697195125,-0.02384274020026699,0.005255610089577103,-0.08645741850844849,0.07936478976398939,0.004037759745805106,0.04889239061291774,-0.0713345987714077,0.08650313785857547,-0.0029764229583190203,-0.006448669563689206,-0.08000908746702501,-0.05128634626333508,0.03302318194296496,-0.0476204894454166,0.07938495325033075,-0.04132447380528749,0.07066825293675578,0.02535645626540124,-0.01243587207113088,0.03939036209713387,0.030608792239802483,-0.05514896991679003,-0.015701094119634162,-0.008484283953877349,-0.07360802151362443,0.07118076140365608,-0.06387737370096906,0.016258704486471078,0.0638108415409974,-0.027284120013333576,0.08633749334165454,-0.007442431137202768,0.07114210950630058,0.07183053185352521,0.02305297033835666,-0.035615710372219465,-0.06745926833201756,-0.04200004231266692,-0.02960322392801538,-0.0696440147719703,0.0691778860639749,-0.08252222346174592,0.08014746711466504,-0.05405870894420179,-0.05862685322056128,-0.058711383825618434,-0.07691970666637649,0.04965561716068383,0.0027588061294654908,0.053086299918156284,0.03582616184949507,-0.0668929987337124,0.04877638656667759,-0.0840671614624702,-0.046282475593961876,0.03030771363206695,0.03744942222815786,-0.052037248445520067,-0.05748665783311765,-0.0000985175972348036,-0.03397431820708345,0.04084548304812582,0.005837363430071971,-0.007246399892210101,0.07031213137598821,0.027812059382218677,0.07373045224554688,0.023181235360155022,0.015523627397372706,0.07967180988959258,0.004025732906612602,-0.0829446302435976,-0.052499530358712874,0.02301241334285997,-0.05363573586363258,-0.06815801757716132,0.004231225832555897,-0.08147056759956524,-0.03971583155231662,-0.036577028712080364,-0.05223871157057952,-0.007042819219261655,-0.05530990930982514,0.0602317286758423,-0.038108084852342426,0.05688640164132561,0.04148464999554397,-0.04044529194831076,-0.030700253794811408,-0.06013359586793405,0.08359576168098434,0.06438941956854896,0.044629668983558274,0.07350500065155195,-0.014692723010942219,-0.01641957003648818,-0.07211463977020012,-0.05764857314794461,0.05620925276040883,0.08217259531035016,-0.016895313754108646,-0.04811338992040619,0.047607657864478015,0.0639147736319676,-0.04971426261444813,-0.05860615326142575,0.027304229631893995,-0.06755386017918057,-0.06809294479972726,-0.08206086376260051,-0.06936863667164556,-0.0035929697378331554,-0.04624865408872871,0.03969460273631512,0.02435546012533448,-0.02494555751240618,-0.0075223794556918775,0.04827495289511288,-0.01954437975672958,-0.06184690580424072,0.03794690832920459,-0.032918668813624465,-0.041147421888218697,-0.04104765816097055,0.07203449661939625,0.0031642238194928437,-0.0005127367779720203,-0.0465135892010616,0.026914522705172837,0.04040790728964432,0.010424995713249256,-0.00883103189239873,0.05119460411939255,-0.007198426194781923,0.04662001661957852,-0.04254178650666785,-0.035701940525327706,-0.06256613455199303,-0.05595327084708539,0.05444600706428099,-0.020085988537705362,0.07907616473915105,0.06285901017808274,-0.06579607260952194,0.0390024097415747,-0.04551180164718251,0.041030662752519924,-0.019501949879180837,0.0330058391705639,0.08172872939035286,0.049283302877386345,0.02338936266841458,-0.04356804229574556,-0.03505917023744498,0.08632630840787829,-0.08066524846014562,-0.08472346685541124,-0.05687159210553606,-0.011682850912773324,0.014691065046265037,0.031860634066542715,0.057775140434950134,0.01714811922116896,0.0051569922616578594,-0.01145593649683534,0.03930422048547812,0.023998869313052063,-0.03936453959323664,-0.03780244899309584,-0.015421449195497339,-0.048963406399959185,-0.047814368890175284,-0.08135488213754229,0.05150905694449529,-0.005761872183895209,0.03935493724697341,0.004061727454974795,-0.0821831790999433,-0.013598727900837545,0.0853928510437459,-0.05529510486443012,-0.005464912151790749,0.07887042816651606,-0.037725489224792394,0.02804388395958221,-0.015858771067527123,-0.016782800430299834,-0.06131225743208638,0.025648227597862932,-0.053894957026329425,-0.08234663212081246,-0.07204658309316794,0.04958509581574074,-0.05446262128903022,0.06892924207600387,0.08209316923114682,-0.03750819189565162,-0.003851232419273123,0.0271178322873551,-0.02580531799872888,0.07412953027321824,-0.0440569032023844,0.06137043208275384,0.03475193194159826,0.07306081516023712,0.06073497176346995,0.058995787309219075,-0.04779046739918441,0.020667727273558888,-0.042827568590026,-0.013075436157798223,-0.021866542361424424,-0.028329167115286043,-0.06699710803984651,-0.036071766290858884,0.05016162004064805,-0.011625249249374707,-0.07466152478065653,0.00007983770178556448,-0.07166750946250393,-0.006799531569433951,0.05527563690726608,0.07735878294061585,-0.06609586540604039,-0.005464567269769528,0.07175503098537764,0.033948394203348733,0.04623393455713107,0.06980354089574471,0.012436142946449066,0.0009887212436769579,-0.0747929959669966,-0.06241223911894739,-0.08292188702962096,0.02085664026726176,0.08473706116478642,0.009625384137472265,0.06146760290158314,0.08323368038329043,-0.07497702227387751,-0.05701142572480067,0.013245324473873353,-0.06389601020796447,-0.005242907960962215,0.08162354581615992,0.0698376364120545,0.06068584375889448,0.034193629303918116,-0.050583970164588064,0.0663239066772491,-0.06579476246202808,-0.05309551353929572,-0.04937210930255593,0.06536396069139645,0.02733647043879404,0.021102508072472194,-0.06881795974872937,0.01826859983501784,0.02855107106360822,0.06719721256617296,0.06501090998131487,0.019633927569578203,0.03498984211355708,0.004699175908472937,0.009662185976639233,0.04891053108837097,-0.02846335175830699,0.03388267747482889,-0.051783453555242075,-0.004130003784802032,-0.024110658021055737,-0.05118191624242489,-0.07129474207417226,-0.003570553145630461,-0.04851613364866283,0.0715506293438847,-0.056591673848706565,0.03193688752475416,-0.002559479941099698,-0.06727025024258482,-0.07725370071308044,-0.0870586305272692,-0.08515587277925658,0.06533081793831813,0.06512344714884039,0.018081054403600406]},{"id":"chunk-7db5cddc-195","content":"an agent that gives advice on quitting smoking) it can be very hard or impossible to make quantitative measures of performance — in the smoking case you'd really need to run a double-blind trial over months, then wait 40 years and observe health outcomes to know if changes to your prompt were an improvement.","metadata":{"url":"https://ai.pydantic.dev","title":"PydanticAI","chunkIndex":195,"totalChunks":208},"embedding":[0.06459907488686364,0.08379496806136566,0.005438187179280366,0.06532423524826791,0.029186123646334355,0.028327339666800237,-0.027682364276323024,0.010445991249087459,-0.03599016023442305,-0.05651119397114831,0.04736533076597882,-0.06815071636039123,0.06843095371257575,0.009483976511220465,-0.03939872313089282,-0.0061681356965414364,-0.05362005336131201,0.08384898778776496,-0.06444208297613538,0.045668423827924784,0.0471604507004939,0.04628894208902614,0.06337983269141721,-0.058904333364464725,-0.009641812534805323,-0.07485074287308109,0.04921706922712571,0.02566732622661136,-0.018031198144589894,-0.07092967748148155,0.014131725362145868,-0.05083915296779656,0.039420601812937495,-0.06559196252772666,0.01434482792256916,0.012869232054594835,-0.035591038770145265,-0.011842348839708064,-0.03550763052090013,0.001528476681242461,-0.0633880015828965,0.05950244162107997,0.08726264396839019,-0.00000939552061863622,0.05614042378538087,-0.025878988007508544,0.052869225739908064,-0.003338323890448699,-0.08580827148780144,0.053235812150700654,-0.01007888253062755,-0.06710269622757806,0.05681052891060512,0.04434658260527178,0.05293373009326263,-0.034263456848182584,0.026488668709337658,-0.019294851541950254,0.0041829486158370555,0.07457286735514601,-0.08604133743507986,0.006115042157371372,-0.024451256471670995,0.06442914841332169,0.051775227750919584,-0.00818125214981062,-0.07087525502399698,-0.003972521944461888,0.04064218727104677,-0.007320437144664802,0.07942882125170861,0.08589622468123732,-0.06278566080855286,0.05360788301729499,-0.0007415899766541761,0.0753004231305147,0.02559758216399722,0.015846709832606068,-0.014769992613086766,0.011003211447103211,-0.04123056976679397,-0.006782137443480071,0.06584461434147686,0.06794832198313056,-0.02307013871448988,-0.0650957022320369,0.06359240685785783,-0.021758919187810623,-0.020222212753372885,-0.0282521059695177,0.08022057054482994,-0.06784603868418186,-0.028923423265877473,0.08410131065409562,0.06017191885697031,-0.06540564629639788,-0.00718033846399008,0.04383874835766388,0.07744571238488689,-0.054161696065184235,-0.050050316688674754,0.010794205677615265,-0.02964740360103406,-0.015517631991878578,-0.0783421012272522,-0.04721052801354709,0.03010667986483297,-0.05863110852284974,-0.08311768467676192,-0.08573903100327313,0.04258268845654946,-0.05198428788784559,-0.0640946888722904,0.05226082653613908,-0.06685976057790177,-0.03665290955258818,0.01875923097482625,-0.07192949746380438,-0.0325913019030558,-0.051226989696296944,-0.012036867640962325,-0.027021635455927093,-0.007090313894801675,-0.04488485913986015,0.033580556306671595,-0.008074330660716531,-0.05327212771358915,-0.06920740508196378,0.0035760952206853884,-0.04335963953383946,0.0077897574394842324,-0.020631622636965788,0.0027361009854856154,0.06798054627650475,0.08649298807563441,0.05503801508486805,0.033447388332331955,-0.05234088856699401,0.0007669411820738193,0.005960209107638331,-0.0560085404692191,-0.052420785779448434,-0.044986526202334204,0.05268070803866464,0.01000163681915301,-0.08556638756092949,0.028688408687412882,0.0779689609884854,-0.021058431001039157,-0.06906630328764667,-0.07822321796123255,0.018688414241638307,-0.014213081565873148,-0.010298162279855281,0.06095050650539777,-0.018662177659303586,0.028304235611843663,-0.07939736896649505,-0.04760574603098494,0.006990048785567833,0.057725813994506235,-0.08673784901935207,-0.0778300384229844,-0.08486229996250544,-0.08321246407182521,-0.02340516836387251,0.041894473542117526,0.03053064098912483,0.01919627153377125,-0.018965693691919847,-0.05109862555110038,-0.06569716507282093,0.018468637132015523,-0.04183674558930608,-0.0722575568414895,0.0028217730336131046,-0.0590891268682787,0.07858144038558358,0.07085896093114953,0.02179224864005939,-0.06514587266102702,-0.0026583270456652405,-0.019478127391895944,-0.03817049083415742,0.0824405034135801,-0.06305639571315197,0.04660512148579422,-0.0602247923786635,0.02643602439644863,0.03315532136504929,-0.0023384643202020057,0.007117327596399529,-0.08030854780859721,-0.05251079988125099,-0.00020009684157189244,-0.06396084829793044,0.07503058782771302,0.043156520876586134,-0.007246855787801895,-0.07105252847081953,-0.03266274588499274,-0.05882572199320577,-0.04757290750109714,0.03909839235495319,0.060981474576382706,0.01870883235840591,0.042590290666698845,-0.03142886586065115,-0.022026779715759105,0.022016851280446014,-0.038774487465229504,0.07134595570879934,-0.07854501738292496,-0.042865093870879695,0.06284307636437159,0.07159834418247328,0.023694217679714913,-0.05139139179591777,0.0068573684209322,0.04787843976709264,-0.03864262671848497,-0.004983447025574207,0.03266294715851268,0.015863936373978982,0.03565202558061138,0.059548153837929635,-0.00749157697251963,-0.03168364698295689,0.053577933379323754,0.017824187271616873,0.010690197331699857,-0.03703149642601253,-0.005485467482503202,0.005992388117165936,0.04712447119471082,-0.048961378543089185,-0.07093088769412514,0.009275354994107405,0.08638352495294052,0.03549912740949475,0.0012585739014736514,0.07543381842624507,0.022219344146778165,-0.025041624960813136,-0.07080452687593147,-0.0695225718699216,-0.07584232434789427,0.05773577157763071,0.0355148637965485,0.07827723216251713,-0.01930911068269839,-0.07250903765404354,-0.013807095448780811,-0.0709044598099837,-0.06866208393732043,0.08728980466093485,-0.07832225877621551,-0.08334243238467345,-0.07224735798738134,-0.01532165612112616,0.0215077073287566,-0.06282944125970454,0.07719325682318093,-0.06197796360062761,0.05542841904448889,-0.015541959962852629,-0.02857841431178374,0.0451802327590525,-0.0063527015270862285,-0.03949132242271483,0.029678127936528423,0.015952381252312253,0.029842293755833943,0.02062802997786961,0.03258806279220368,-0.04891032578653109,0.0849705238751672,-0.0011665526992189832,-0.004173670052238665,-0.0866171557058753,0.01664801065468746,-0.05263434660861454,0.003567336090867273,-0.04339723564025986,-0.06753448453460534,0.08751427730292564,-0.017585948962567367,-0.04784489113641264,-0.08572389691074798,0.056156732854705814,0.03419046295584039,0.06113516879033235,-0.011566292641219503,-0.07420662343629839,-0.08480515179685927,-0.038577391687055373,-0.06824246085106843,0.04470034105381543,-0.04280563921732868,-0.08752293089282581,0.025423192550818433,0.031494107140439084,0.06090586751057917,0.018153887925396246,0.014331409711758862,-0.06690113007828942,-0.02929849040481994,0.02342951971791286,0.03877708592137032,0.038543619529058624,0.062445480476977566,-0.057854311885941624,-0.006554262257398683,0.053148650233047136,0.08486455730242948,-0.08031025686545924,0.008213999859596728,-0.048481626659944176,-0.05364330353914936,0.08405694383998011,-0.058475961392681845,0.001939231948608168,0.013901142333481397,0.07358096741858788,0.016410505749433323,-0.05604949350611723,-0.07553276958138286,0.041316836445671405,0.03675456457534431,0.08054988412623525,0.05772222021748118,0.044477005936499385,-0.07719603338748321,-0.04110582908052083,-0.07766825201923283,0.04769945199541377,-0.07303742184418095,-0.07809543032041324,0.024661274776674513,0.06413628205596816,-0.019380657826398768,0.013368964541522364,0.04390516447976152,0.08351390401093152,0.06248583334179874,-0.05348730317220235,-0.07418027317078672,-0.010101487305351061,0.004754302521251114,-0.05430396605717018,0.046088730345161415,-0.048379950049612326,0.07822433966190867,-0.02662080803776269,-0.04564723268889017,0.06612626400617226,0.04396336527743768,-0.012263195392465993,-0.02483607126988587,0.021390581282503797,-0.0141620830527451,-0.007587299028809625,-0.06272380868515198,0.014768172926747458,0.085856434052066,0.005567258305911713,-0.07961695652599657,0.08435720727759559,-0.06201189108876519,0.005470288070811841,0.02203282687904409,-0.0709296857903574,-0.044525155307158594,0.05586370419025866,0.0813595406814274,0.08452901884015002,-0.04516857200959605,-0.018236992489555525,-0.0690561080736357,0.01600187537641557,0.03406226488130359,0.07596828317525722,-0.039380525288054115,0.05364893226216417]},{"id":"chunk-7db5cddc-196","content":"There are a few different strategies you can use to measure performance: End to end, self-contained tests — like the SQL example, we can test the final result of the agent near-instantly Synthetic self-contained tests — writing unit test style checks that the output is as expected, checks like 'chewing gum' in response, while these checks might seem simplistic they can be helpful, one nice characteristic is that it's easy to tell what's wrong when they fail LLMs evaluating LLMs — using another models, or even the same model with a different prompt to evaluate the performance of the agent (like when the class marks each other's homework because the teacher has a hangover), while the downsides and complexities of this approach are obvious, some think it can be a useful tool in the right circumstances Evals in prod — measuring the end results of the agent in production, then creating a quantitative measure of performance, so you can easily measure changes over time as you change the prompt or model used, logfire can be extremely useful in this case since you can write a custom query to measure the performance of your agent System prompt customization The system prompt is the developer's primary tool in controlling an agent's behavior, so it's often useful to be able to customise the system prompt and see how performance changes.","metadata":{"url":"https://ai.pydantic.dev","title":"PydanticAI","chunkIndex":196,"totalChunks":208},"embedding":[-0.014412563221072852,0.0809211054354139,-0.0032269262780054583,0.0822526861620122,0.03975381869633137,-0.011612416162450684,0.05407407990087688,-0.02603939655856106,-0.008672479652403723,-0.04161502868197391,0.07445827445194465,0.043974007263539665,0.04647104905890282,0.05260966235572533,0.028448232160619185,0.03160387400210806,-0.014545497483246014,-0.016812125242508948,-0.0589117068365926,0.06318603908125367,0.07696410130200691,0.06334437925640901,-0.033797582060354214,-0.09085198460944005,-0.07015741913259109,-0.022435223799705098,-0.054737396263942195,-0.07676405177981112,-0.07320372688116435,0.014949038782215828,-0.001133380957964611,0.0013370090279870587,0.0058923375812228165,-0.08178614606008938,0.034344427733104296,-0.062151986896887446,0.06000166070709162,0.08863449273511675,0.00013693893077376264,0.02118583893499482,-0.0016631821140326165,-0.08308368369099757,0.07709312805258775,0.08546232698677093,-0.01809623105431323,0.04676529489025019,0.0034054726762321116,0.04707202326967527,-0.07727775108446767,-0.06350179297815041,0.021579059628059245,-0.018882973572855816,0.06545823596610731,-0.08364928543060555,0.0905036491177666,0.05478508901326862,0.016452740012339526,-0.08500849447199271,-0.07100129125138874,0.016863607888938963,-0.030434289628029076,0.06413180070767248,0.021996254159444593,-0.015536068770804098,0.05941769525134346,-0.01294997302650903,-0.010738509760212924,0.05250391935451726,0.021836901996463726,0.02478128343236095,-0.008667108470885435,0.06827700832703679,-0.08027480065891902,0.03909479581179882,-0.0018727224441267344,-0.07583302389569363,-0.0011696017816430217,0.036314603479836526,-0.01650549371789073,0.026376922828227546,0.005404731609433348,0.015319597338944398,-0.0776303478384552,-0.05824866710161649,-0.0019434272722374847,0.05193678742370479,0.06018864004403862,0.08288997020456777,-0.06260924043163273,-0.026247674158391705,-0.005781460698605979,-0.010324272176808653,-0.04994658571671018,0.06282350012499557,0.06661979679182743,-0.0768368250534529,-0.008305268711507455,-0.06783872640438623,-0.09076496122014287,-0.008938981769376601,-0.03468488220729585,0.054933837810808316,-0.045926422319755786,-0.00298524608054575,-0.0384775690996493,-0.037865853707518896,-0.05865046535108274,-0.027255532276718866,-0.07324844702096721,0.06843189568900769,0.05731953734768413,0.05749080362947324,-0.051371054088202875,0.09048626451120623,0.07003446882850377,0.033563051117190414,0.020197069373470572,-0.04850860879247027,-0.03438360176184759,-0.031608017899958735,0.0021703177750116848,0.044260610819753084,-0.04424127870457742,0.024190853423453947,0.011535257447799083,-0.05420766887379878,0.013814803808613975,0.041380938994217624,-0.021916953067887462,-0.05736585105886177,-0.019170630109887184,-0.07726653660360143,0.025552786067682604,0.03448359544375544,-0.032437687262854314,-0.08245193644468489,-0.050383810636758126,0.00666434443778422,0.0008731840940625118,-0.028045201338092296,-0.05245983614718754,0.011112180172338676,0.08634612676507326,0.04027584006462521,0.07089621625096826,-0.08313008422445772,-0.08492898377795555,-0.025257727113246066,-0.02904074835094689,0.048658362858402915,0.06159976730936696,0.01891220462790444,0.03413831585929045,-0.05638673962904421,-0.0030782022859578875,-0.06665978901773234,0.07551773805320029,-0.014732758775512462,-0.010215005681898466,-0.001990141353469835,0.052866145933020484,-0.05599107164161683,0.08748737155051192,-0.05322792954868651,0.0058230268251761065,-0.06347907862878852,-0.04475063283598283,-0.05873547623967773,0.08505967104455284,0.059150369478065415,0.08294305341890582,-0.05133105753934569,-0.060209632650750286,-0.03810099656569267,0.02940098096064552,-0.031219770755124932,0.0560584209206121,0.037895344273560436,-0.07803670986601256,0.02016051591524907,-0.06890022742464481,-0.04724332058822714,-0.0003829179558304009,-0.06436604287485423,-0.07120922049598993,-0.023218453783440465,0.08632057814810633,0.026016985207173146,-0.034734881261167964,0.03641782659892076,-0.01273949624074639,-0.04709713145778375,0.007562276682706072,-0.03242263702817791,0.017547173422907528,-0.0680920535205211,0.009371915467808642,-0.023629530575330147,-0.0015520075071933802,0.052947397078323834,0.04015114323398134,0.06520016515609951,-0.07721082840398757,-0.04116415679162975,0.0243905451194166,0.0266237859340744,0.00412536978907197,0.03565416821964231,-0.00030064207996853527,0.0714520558051521,-0.013758810576833676,-0.030533428486485718,0.050640679984364306,-0.011285762877871914,-0.0618249402083107,0.019801364352765884,0.06659800137194108,-0.06291019700045503,0.032454818418050015,0.039033232330972986,0.020348932364457208,-0.0251326134646528,0.03799350462606473,-0.05850505534764152,0.08601064976839486,0.08566475548393625,0.05612653578060098,-0.0138933849336846,-0.06859415402252435,0.01663420548313371,-0.08075357631156878,-0.046410591332366476,0.007803585749296485,0.03982883983435741,-0.017689574954433605,-0.06547590764416639,0.08106609112641006,0.09012006514643363,-0.010578665372836145,0.06620609126170751,0.02595054097958721,-0.014947380978734059,0.07050380970487187,0.06165676330322861,0.02560574499164312,-0.041228494814511935,0.04130454527373147,-0.08656846476471675,-0.058438466325883204,0.02741549146064309,0.08322636860523612,0.047499351686772974,-0.02628679264145763,0.08008799905957142,0.05317004512023369,-0.06304942927870304,-0.08532754778789783,-0.08676007260916266,-0.06650962724294011,0.06547801455020236,-0.0035041938783248075,0.05937303866241251,-0.0016888808481868277,-0.04868313201738776,-0.09022764964719347,0.0182259681684222,-0.04920353315086324,0.05312147819916393,0.06019510907166396,0.04417444070574518,-0.01832411744368179,-0.06842870029096589,-0.04849108080394397,-0.04545450500312079,-0.04105571778587149,0.010013927292927785,0.01212710643299565,-0.08292914174488428,0.07576456040147243,-0.07719660526752001,0.019382094313028765,0.05992011646314341,-0.02459275825002768,0.048737219806105854,0.07560479750972686,-0.02994405032361135,0.03991820736228239,-0.03152929205266844,0.032912002220812885,0.021829614060006504,-0.02796133568527594,0.04122901726417629,-0.006829983082943607,-0.04369916385220149,-0.03515302320670321,-0.023509528063612947,-0.08221530400213213,-0.04264646383568521,-0.021237103506967343,0.035626355811968366,0.0471472284153183,0.0113140290561359,0.05908741005607452,0.0783892854902993,-0.08674481558287628,-0.025622754424925148,-0.06481221184200878,0.06888290708524772,0.07932341033808285,-0.02285924803477272,0.023167829110791415,-0.0007528706364494893,0.045047934795431434,0.012504127257350527,-0.04885325077559133,-0.05600332163665512,-0.014610941919653436,-0.02172608019198667,0.03362111965415944,0.018419756549524473,-0.026439221390613877,0.021831561740098777,0.0795696030020015,-0.0788928770131927,0.014201283500891063,0.06609389607655007,-0.026485520192857916,0.05197133374941363,-0.03169970240115637,-0.06804489412409395,-0.08452207979617196,-0.035821811191737364,0.06292254244924847,0.06450688722120462,0.06923238988687126,-0.023771777303316692,0.004398520815543248,0.0050307671378872106,0.016352176976197636,-0.001466022152212125,0.003711944314967906,0.062065842721626956,-0.05035778060062306,-0.08818620614953142,0.09044166460009141,-0.08425109374174398,-0.05861347101280706,0.05134982667165899,0.0008226398686853234,0.055270381359954136,0.03306643939283384,0.027330334804570495,-0.025434020395036425,0.024602090825963586,0.07247536705060795,-0.03020638084838122,0.05003495728799884,-0.007170469736540125,-0.042575606767040294,0.013518812292639536,0.029501987493480684,-0.08801515760757832,-0.02852705986963293,-0.01635120710320661,0.06914077379914317,-0.01969014058099754,-0.012317054343497759,-0.06703053361126855,0.07538532710412409,-0.06610483711674973,-0.018422148237959998,0.06644633609064295,0.05971468503078311,0.05337157219145546,0.069793322285235,0.057614695305749905,-0.0655567215629181,0.07869673435526289,-0.040286058252786326,0.08007795834419064,-0.01757516911685181,0.0015814419493719875,0.059333875322617365,-0.07434406406893333]},{"id":"chunk-7db5cddc-197","content":"This is particularly relevant when the system prompt contains a list of examples and you want to understand how changing that list affects the model's performance. Let's assume we have the following app for running SQL generated from a user prompt (this examples omits a lot of details for brevity, see the SQL gen example for a more complete code): sql_app.pyimport json from pathlib import Path from typing import Union from pydantic_ai import Agent, RunContext from fake_database import DatabaseConn class SqlSystemPrompt: # (1)! def __init__( self, examples: Union[list[dict[str, str]], None] = None, db: str = 'PostgreSQL' ): if examples is None: # if examples aren't provided, load them from file, this is the default with Path('examples.json').open('rb') as f: self.examples = json.load(f) else: self.examples = examples self.db = db def build_prompt(self) -> str: # (2)!","metadata":{"url":"https://ai.pydantic.dev","title":"PydanticAI","chunkIndex":197,"totalChunks":208},"embedding":[-0.05183076347223353,-0.03876895375932832,-0.07710008334045425,-0.013538612980730627,0.021528510308695473,0.024563435834007892,0.031191875288696932,0.034050570966101895,-0.07505149297878039,-0.015498762798576564,0.008707538343961976,-0.06920297578291813,0.017716204029921977,0.05373716837039178,-0.03850375632566798,-0.02680105771800246,0.03822137478031515,-0.061661482973641525,0.05674938100738198,-0.003165517622516681,-0.07866783454998912,-0.059061763888329066,0.019760930630257453,0.012457659828785673,0.025374707258915982,0.0832423590460662,-0.05919465108811101,0.08144848796922494,0.0011548938901344745,0.0742466223975219,-0.02145614872114026,-0.07126081750690323,-0.047587791933905506,0.0489784666325476,0.06382259370230596,-0.012203636366823046,-0.0356732073859488,0.02819017025722526,0.0017694480340492364,0.032568859487504986,-0.060918982795611774,-0.0010735694994202336,0.0906090661367974,0.01489362718594798,-0.0007325356467231854,0.06920292716198803,0.08456146511400488,0.02161009907976467,0.03099090669910265,-0.05526660428951867,-0.006426525120452182,0.07780786614435861,-0.020344775652360796,-0.07014417320549093,-0.007137733175856005,-0.06874286493788659,-0.0803264676459638,0.0809360503886964,-0.03231619103090188,0.06981711508564055,0.01152896908953584,-0.04528803545161808,-0.018741335760766538,-0.02882119955134143,-0.05560557977554113,-0.08214828373218236,-0.004000576293007232,-0.023993172120531644,-0.07169624383862305,0.06101083829563793,0.062354716894641976,0.07900658251970293,-0.01413927155120989,0.05558371011610364,0.018508148593316273,0.07523348792550795,-0.027161195507302255,-0.053021281319408406,0.0329183974357754,-0.0772034614456021,0.06087956476622645,-0.08660801935470527,-0.07928255082324079,-0.08205367166925652,0.0015063827422806086,-0.0875726108617513,-0.025941405720127184,0.07839375760588586,-0.006814320000979843,0.03299135035093454,-0.06332895464922127,0.03344162676953097,-0.03847935611506247,0.028493558344935534,0.05930276178795056,0.06965294609188451,0.027278974594934585,0.05718870124579516,-0.03018013479945315,-0.047111619896104795,0.07727362997063185,-0.00007541679336430322,-0.05005736985756579,0.023220111899098762,0.021008970200149236,-0.013613984657642414,-0.06994652816163467,-0.014251749314834894,-0.02800272894666498,-0.0028333901868709556,0.034428731575330024,0.08600224904133802,-0.04342482743773172,0.057061290606687846,0.07831730177993451,-0.08509754655220901,0.05382170113697817,-0.08938040569181395,0.06430365871953718,0.034966290593667994,-0.003454482038096248,0.006002297288469116,-0.0674727234387031,-0.02966787671680303,-0.0001210832066731058,-0.062341229083562245,-0.019509513288302426,-0.0312036995142041,0.04335169046803076,-0.027777776266957894,0.03617401726347614,0.03630590257155834,-0.0800928492817295,0.0297546465333616,0.029330126860072327,0.032027825048656255,0.0004758862113331559,0.09030285185270262,0.036810361856887304,0.002757476416193088,0.07036641705577192,0.012792156265922883,-0.05261384601517219,-0.005454501183089895,-0.06345885312468526,-0.01628032102636095,0.0896376317848777,0.023377436818118165,0.07593703283279386,0.03505846580935457,0.07733678093449851,0.03080424901710567,0.0010581671784224223,0.0036464970236406206,-0.03658853540131934,-0.01643843930306928,-0.07670090420908304,0.06131939094292298,-0.016947383083158733,-0.04359673963956388,0.03333424352186864,0.009404716516574757,-0.0683464629271625,-0.02002597531950347,0.01578324386120476,0.04563905009304076,-0.04662439359541749,-0.042660227650662554,-0.036841277276587515,-0.08902888920583032,-0.009795857932249767,0.0018649808876820657,0.07211780579015288,0.006382228645066545,-0.08333512485125512,0.06379789141343079,-0.04891981270934069,0.055167599700042744,0.0045725652672188545,0.02744469973438899,-0.02822099928006294,-0.0555436888777905,-0.08385839077386287,0.05206936439143504,-0.07000758035759241,-0.012055739717590792,-0.06674708523127998,0.054906182663140804,0.033287364458993676,0.023787803521295912,0.02338014135776832,0.07871380487830835,0.0038736597591945265,-0.07939297213238901,0.05226048602297994,-0.08498840372779778,0.028664873166245546,-0.05616438319804785,-0.025424421821239333,0.036217218612248116,0.004722151302217974,0.06370824213310053,-0.04728713424790868,0.026007470478936538,-0.06563350939228468,-0.004719733511866272,-0.01895887980295493,0.08224081486735756,0.022918126248703184,0.06729965770551893,-0.07702235434727743,0.07394923098194356,-0.0492695099705461,0.0064996605369854596,-0.05930940626870396,0.015718904299072838,-0.08622044415146236,0.02457379289236981,-0.018354129423077493,-0.02738607028172746,0.07673330603644057,-0.07657719744439245,0.04951481639548187,0.02976924985517277,0.0624907536673742,-0.04998169385791949,0.05060365118088088,0.02938290170860692,-0.02766485223471804,-0.007670105631130717,-0.06500452024661488,-0.049172495748233146,-0.00497078374988157,-0.06995234937529712,-0.06710816787485409,0.01610650189542036,-0.004406727037574759,0.007664792993110863,0.028791679555209813,-0.007982543849416745,0.052076381550160596,0.006056815826809211,0.07787928826494984,0.06640727018985432,0.013653201203768776,0.05415153279632266,-0.01804330759828541,-0.05362448384457146,-0.05144484300475778,0.056384001314571476,0.027846893313491203,-0.03123045211980546,0.010433950171116809,0.07257120640049937,0.032208607235950384,-0.03473925032657948,-0.037572658745060196,0.0340318854150659,0.004501490281711076,0.009101399306605706,-0.060640717175428974,0.03641138564241748,0.052128086317127245,-0.0623473877293674,-0.07636563152301473,-0.0061920978198515275,-0.011865704853985711,0.04907630969345425,-0.08541131314526113,-0.07904004576895243,0.06690466459516796,-0.0717272235077399,0.01881124721791801,0.03568170239954285,-0.03992964222992984,0.04392232799740599,-0.005855948669480746,0.05744872702954439,0.00007274312014434794,0.025814669732620314,0.060149396627920106,-0.06588808591852499,-0.0008608831722474179,0.07059046511273297,0.06872377181741207,0.015477499825864001,-0.08003603460737659,0.07805001614119407,-0.05560296167851508,0.022576695083789258,0.06559484077076683,0.08526040162739618,0.08591443487457759,0.017428284249996543,0.06892536371699513,-0.006907188229711664,-0.029065502884699054,0.06321669075008715,-0.07291816072582158,0.002850352060778135,-0.002095933691711531,-0.01509330336689612,-0.009021155913205807,-0.019067017862269022,-0.024939491249625495,0.05145454320440334,-0.05104989109867831,-0.047962918744903264,0.026801594269166215,0.080842942285883,0.007843554761233888,-0.08620859372220822,0.07811734933817484,0.034380420333544555,-0.044979097659535075,-0.07590391311816656,0.07265082594732711,-0.053866944222180996,0.015812897540113533,-0.030948061533485276,0.021296597423021084,0.03446606897846247,0.0437132284458851,-0.06509933445510348,0.02487181992614859,0.06422712120785266,-0.04460035714707198,-0.04044430741512582,0.07621101546229088,-0.020960545309657252,0.05565891960275945,0.07489879733340676,-0.027243829018352064,-0.04108193875270137,0.016947795543634046,0.08399840715195654,-0.006811129478069333,0.0662740336587637,-0.08068192393923522,-0.03623194352109809,0.07878984808485792,0.04117446113201045,-0.019746193190954817,0.013259340989169857,0.056637230647836975,0.03201716556628703,0.07283379704982457,-0.06968830504692704,0.02884141715051511,0.07920487323551159,0.03770920631609288,0.008761166573347193,0.013066815707876324,-0.0007864789675575357,-0.06708746185858985,-0.002736455311928362,0.013102857713074468,-0.07771158485743944,0.06819983455461451,0.010706340775571614,-0.04439152866729737,-0.08485305493082695,-0.07220899632553067,0.08747850220117982,0.06708587163361308,0.03461072014682588,0.06442577684521171,-0.06619672572370398,0.08029574047434988,0.03553552930907057,0.07120465429912412,0.012729583479815478,0.07231572686056105,0.08545667104047369,-0.05010553873756924,0.06054081855626823,-0.08889930206040397,0.03476400327446819,0.012779315922896075,-0.052628448780265714,0.04371413165641365,0.02735283381957507,-0.06116940802922098,0.05260059068350825]},{"id":"chunk-7db5cddc-198","content":"return f\"\"\"\\ Given the following {self.db} table of records, your job is to write a SQL query that suits the user's request. Database schema: CREATE TABLE records ( ... ); {''.join(self.format_example(example) for example in self.examples)} \"\"\" @staticmethod def format_example(example: dict[str, str]) -> str: # (3)! return f\"\"\"\\ <example> <request>{example['request']}</request> <sql>{example['sql']}</sql> </example> \"\"\" sql_agent = Agent( 'google-gla:gemini-1.5-flash', deps_type=SqlSystemPrompt, ) @sql_agent.system_prompt async def system_prompt(ctx: RunContext[SqlSystemPrompt]) -> str: return ctx.deps.build_prompt() async def user_search(user_prompt: str) -> list[dict[str, str]]: \"\"\"Search the database based on the user's prompts.\"\"\" ... # (4)!","metadata":{"url":"https://ai.pydantic.dev","title":"PydanticAI","chunkIndex":198,"totalChunks":208},"embedding":[0.0854989656792425,-0.08149629568944658,0.0604341252789222,-0.02312659584874497,-0.032389356675563336,-0.04623278987452339,0.004283536209036067,-0.0447929577585567,-0.05958687150571533,0.08553866965447873,-0.08748367533490185,-0.052050496690353186,-0.013344347855593892,0.042030408821313536,-0.06610416452798729,0.07964719168927169,0.01945536024510196,-0.07285888663963694,-0.0544181656097851,-0.016552038192647514,0.024307826300836954,0.08656054731805447,0.054978163198736704,0.0649266677507071,-0.024092341264345236,-0.007625269635695257,-0.06859032993737198,-0.0056640887797909404,-0.0020084346125205147,-0.041733945288619526,0.07238974773808095,-0.005814742642709856,-0.060363657867694064,-0.01739293457731948,0.020643831153320868,0.06984835251830014,0.08727624608946288,-0.03135302876686884,-0.02882056916117446,0.04360737462948292,0.02992949966842926,0.06555355515118928,0.05851684074838216,-0.029459327525260124,0.03562053931757081,-0.06405872244413266,-0.08217047512331792,-0.007120708793962099,0.02656122277193253,-0.03711968723443686,0.04042977471738798,0.07443869240879884,-0.005927425893723004,0.06556731014940678,-0.07657948317346899,0.02457311783866501,0.011443097168919532,0.08686191837790422,-0.06443322904688538,-0.05984513816764627,-0.03783412163136878,-0.03924184932297575,0.0436871539823347,-0.050938618815164115,0.04203938349905283,-0.08557568190148424,-0.0016019705194878961,0.07766445517021663,0.07945634342708503,0.0677541262049788,-0.01844856251785107,-0.0026342446788170737,0.05835427744001365,-0.05446306165441854,0.03730848075272704,-0.08662771493019061,-0.034989396188337615,0.03161298372034202,-0.08278832485545075,0.02124050942888588,-0.0035953480316847503,0.015524991526446352,0.003232657835338999,0.06097676997717257,0.012156609229351165,-0.028003349669576842,0.029033570657918863,0.07979932230348685,0.021649120170991548,0.07360738232925941,0.03300206908406477,0.0034471718050710165,0.04305282291974846,-0.054092483486162114,0.06213152289525784,-0.01704704156184209,0.012596442662465719,0.06893848547921398,0.03775672731474184,0.025858667344658685,0.01515250955680736,-0.036940026480892056,-0.060145703270166745,-0.013519050576029323,-0.04635113766332866,0.06809755873435855,-0.019794831638926334,-0.006130265002970788,0.08574215712165281,0.04740199005771692,0.08178952186281435,-0.03474274692637117,-0.0778413872962532,-0.027950791383118397,0.07895019524375145,0.030066461372067192,-0.045884713292510856,-0.039180435441585636,0.03333388857278828,-0.012431230845556689,0.06935227013241686,-0.017772939707343203,0.013448582926983544,-0.04074147316801354,0.07637098358447601,0.05354836506668435,-0.01007069381493644,0.009473357034242041,-0.02032651333227206,-0.025511000391861563,-0.03135538307826594,0.05961189375778557,0.048110538107846046,-0.014905134156109017,0.05581168817886444,0.005336151625270926,0.00747916876599988,0.07383124031072029,0.07127987299906514,0.04617727346058362,0.004017065044536824,-0.08297335400745338,0.06882649601433805,-0.05695805203380111,-0.003110399373151174,0.034666625005564174,-0.043920925957169545,0.042777462911613696,-0.012958926548771472,0.0613466623241576,-0.07035044388226627,-0.05445780820296086,-0.012839449449059327,-0.04400224457900587,-0.055694984333796174,0.07410429854448031,0.03234566766810875,0.06482759215939585,0.055110237782944854,-0.07860513881167112,0.039541945273345126,-0.005101220060953806,0.052484901212733394,0.03924337230355819,0.08315869275022889,0.021294862123772955,-0.046082518027081826,0.05417326371827179,-0.038360222988540936,0.08052818083484584,-0.061804726899272244,0.07689231297378546,-0.06399300389288767,0.06716868113354817,0.04561080531778521,0.08330626950516255,-0.05843669647572695,0.036500074137622567,-0.007775984411357426,-0.0048594050051066935,0.08831659095702898,-0.01661037285938988,0.06993731246777952,-0.08288621081469945,-0.023736374954086936,-0.034602047444250945,0.007967925981809159,-0.0544369578862254,-0.04406557139191839,-0.04665829165673144,-0.006497797183737159,-0.06697417498273683,0.05535449861000433,-0.06914935014751443,0.06669740610687606,-0.011867032533348172,-0.0657280443828698,0.0011733906997321982,-0.06256873788053603,0.03810287305524932,0.04787761743923161,-0.006667333206337019,-0.08030403666172914,0.034550958115053106,-0.043757912234488654,0.03849772016207842,0.08688484230032598,0.06916138602845551,0.015133525574727589,-0.020665803430324606,-0.08262683774080025,-0.058215739086119885,-0.0007749780909526832,-0.08367565984811436,0.033202249768947034,-0.0833747823035204,0.06264215486582964,0.06591175944334726,0.07196151791403921,-0.031880177792784924,0.06308557926247822,0.05956499678293792,0.0261864086791969,-0.030708807837613195,-0.08036139013773562,0.023933511041205714,0.06033707757605608,-0.03868664426282538,-0.06284032549709101,0.03507783092404603,0.024558397934428218,0.02482481989270878,0.06986373394501809,0.08333724428035708,0.06132231938893299,0.01540254258804551,-0.02664356945689485,0.023237708677230146,0.03182396799795372,-0.050408972548053904,-0.06308266493535987,0.00936990080111401,0.05625822115156688,0.025506159754358715,-0.036999905441407556,-0.06066272726932386,0.038650954981644656,0.02012097939943823,0.058141581974756114,0.08228071719661982,-0.04935821219686717,0.07826238114568586,0.05218399719529423,0.04302084250132925,0.08239574893754026,-0.029722997769699073,0.001838286313510452,-0.08466537217474912,-0.07412292661148737,0.07263391162800671,0.006532640834406543,-0.0354216142983091,0.03786410847945656,0.0658114172099894,0.06141889793511198,0.06416261439393584,-0.014740205836797506,-0.0759439221452001,0.026095847317348247,0.010573809567681277,0.044882453577106386,0.010017837315934445,0.0725427912146472,-0.05308243205075646,-0.06834901836187424,-0.00580436670295389,-0.017937328540119764,0.07651805181102456,-0.009449395865418073,-0.06457616675676223,-0.08806197478987034,-0.027310619511594785,0.00003633845423588262,0.014246622938901813,0.004920248250772213,-0.015005472229784494,-0.060519399887715965,0.02643789747190495,-0.04977605137704073,0.08477622729599153,0.06546228288863612,0.06293000345219832,-0.013491822103836018,-0.061265884743277176,-0.007660560300415369,0.06765991333095035,0.02505182871797493,0.04269743098938453,-0.08509787994352427,-0.04662932787006623,-0.0396199720501012,0.0758847423596269,-0.020245752310740613,0.020104282102625354,-0.05116755157069437,-0.06498527817756998,-0.06649512582104157,0.015808050370675994,-0.05830074240898042,0.060171694918749366,0.0531053258801751,0.0336641104669418,0.0416979744963192,-0.06332791681080156,0.026146021552062637,0.07264561643326305,0.033773722303498885,0.05596096235944922,0.07658774988543747,0.02337831200903583,0.048579694306058595,-0.05890813494078798,-0.03162575169420398,0.05092195117800138,0.041872348482877006,-0.05220167048694072,-0.03161400142074269,0.010320906582847688,-0.03003833707412706,-0.06770274004648393,-0.06186790205646095,0.031017585455451777,0.004082785384071617,0.0773788010356025,0.00989011283779089,-0.008570689179797737,-0.08319294476148612,-0.045342347305109804,0.0263068685348592,0.03864117414893472,-0.05732321494728818,-0.013262878341950004,-0.05063308533122705,0.06093126095490711,0.04394244587108874,0.040228820651980655,0.024118890478499314,-0.05333563327332477,0.07052860939143953,-0.02918931212887849,-0.0727857592956104,-0.007939027570045923,0.06545551218556292,0.057473697804482846,0.05699421021060417,-0.06218234660629348,-0.043328466022644715,-0.02615738433781091,0.006868852211104731,-0.019455577017092968,0.006466659068812396,0.004589933144174128,-0.08397430921697914,-0.07407563688900362,-0.0868502621737924,0.04160676111837682,0.0037872841349228534,0.007067812007469812,-0.0005496498490537258,-0.06091710986647439,-0.06590815238176242,-0.05570972630015482,0.019943212177255813,0.03349160980789881,0.046854379947530396,0.029363579748025313,-0.05886532017802068,-0.07872197907755436,0.05984253785725224,-0.009817237053915295,0.024335327001323962,-0.057565236379028745,0.045109317835655506,-0.007333412328819178]},{"id":"chunk-7db5cddc-199","content":"result = await sql_agent.run(user_prompt, deps=SqlSystemPrompt()) conn = DatabaseConn() return await conn.execute(result.data) The SqlSystemPrompt class is used to build the system prompt, it can be customised with a list of examples and a database type. We implement this as a separate class passed as a dep to the agent so we can override both the inputs and the logic during evals via dependency injection. The build_prompt method constructs the system prompt from the examples and the database type. Some people think that LLMs are more likely to generate good responses if examples are formatted as XML as it's to identify the end of a string, see #93. In reality, you would have more logic here, making it impractical to run the agent independently of the wider application.","metadata":{"url":"https://ai.pydantic.dev","title":"PydanticAI","chunkIndex":199,"totalChunks":208},"embedding":[-0.0554572196654067,0.00567617892096169,0.05112599482915074,0.0571269774923725,-0.03868074359811556,-0.010999694157569666,0.051651961113991535,0.03097824469292491,-0.03542163576655658,-0.03286950932632295,0.014594485256712149,-0.08359386129029733,-0.016584198906430002,0.01674211882466431,-0.0028649032212784632,-0.06135176260498344,0.08682876139466682,-0.05041587633593899,0.03934781683927775,-0.05869036928742597,0.04652139210869392,0.061583203188871435,-0.03636876249610972,0.059642442284240905,-0.04406565410686877,0.06079578791152395,-0.017462511287082608,-0.04691434910581172,-0.06079295024693211,0.043623680665559855,0.05358144699752435,-0.013553230706186248,0.011642205934717098,-0.026698317027673408,0.049928707044939825,-0.057287332445221,0.02431851406883354,-0.0478300410348143,0.038504222914811016,0.07529481051619835,0.029259830163978883,-0.027137364768272058,-0.03136408606014694,0.058184229019203934,-0.051544930944817845,-0.06457542894802948,0.08882539095609396,-0.018752894533723016,0.0014727240007423375,0.060088028757167,-0.07063394021723286,-0.03221094816773203,-0.03139813587385208,0.0031471196102442252,0.03913189776967918,-0.08048930512624658,-0.008948499030532357,0.03810110586064362,-0.005879474961816175,0.06667887319621996,0.05618278896751969,0.03474125614190742,0.006665734598612808,-0.08775426716000784,0.06671132475733248,0.06293399138223091,-0.03708895964708494,0.009780658563715848,-0.0071704761470825,-0.005721422082345881,0.08585053255709398,-0.028156166645065386,-0.01370397534409767,-0.06429117733602663,-0.03132263823557419,0.06295257238126557,0.010814201871931507,0.04764946941572591,0.07346064265059853,0.04193550706807295,-0.05229670767034717,0.0038543609468700323,-0.01454598426960802,0.077507034300183,0.03246807077803277,0.04706188617422252,0.02669329359737883,-0.0681017842292072,-0.056495875923430625,-0.07467011837079628,-0.021597043596367306,0.013857738701196,-0.06495266646484342,-0.04925688710676068,-0.044917259836918556,0.06620133423758957,-0.04397739027729341,-0.004842775739967659,0.018309254147628896,-0.05357619584274268,-0.06576107455956003,-0.005173249162944914,-0.0286980161389581,0.015951682473867194,0.016528532770612316,-0.05419589221963445,0.031264918594754235,-0.030770604910403152,-0.07056921173316899,-0.04198097453158331,-0.023988266297077298,0.08111954696455188,-0.0030713046277074905,-0.006887912124079743,-0.06494899951585016,-0.0062262111942714546,0.06893410011671694,0.027390992197069267,0.07831880175681151,0.0001430185059594466,0.0512410417622845,-0.0804523989439966,-0.013085175142893181,0.0314848802130579,0.07023392098578075,0.05170159660469929,-0.06330675093623446,0.07378245627340534,-0.018255936561158908,0.04010018838730526,0.06538918305853272,0.08784194353492218,-0.08022428537660652,-0.02975869179567569,0.08173381278550959,-0.013955017323548629,-0.05289826923734668,0.015445521478573202,-0.05954914686864982,-0.038625398488442986,-0.07147481578495313,-0.04770520833244927,-0.039687800276885433,-0.003143074389139385,-0.01675593364630723,0.056788653373691426,-0.07243380319721313,-0.027079074333952412,-0.022709990243058954,0.0427923618980815,-0.07234834027230373,-0.07626839430057707,-0.01161579876091685,-0.06876324325617308,0.012844994339104387,-0.07879217602569571,-0.03619511231059468,0.04743692239732469,0.06020206470686037,0.0220058414420664,0.017967618403481614,-0.03160263608678145,0.023207873086196523,-0.032386277563856515,-0.053976477832936964,-0.05310077726495491,-0.022402940423206303,-0.07978456166005625,0.035409535350889164,0.08796572251805011,0.06158904956025586,0.06171332478689698,0.06264572568257215,-0.038272558244586995,0.0884648874247649,-0.015981923603679282,0.0461249303120064,0.06515887447030275,0.04579643717103845,0.08644075023470395,0.04379448863518687,0.07221832400376738,0.05460274445621517,0.003641819654305165,0.06673034585688642,0.06252419455564072,0.0519894227673563,0.0703460834156274,-0.049283138972790456,0.036408604887560085,0.04073794248863975,-0.0546129418384153,-0.0521649147735669,-0.02949835016582748,0.0464946719300124,-0.05521765946000834,0.061148263849186854,-0.011634220683149524,0.083315061670453,0.07125976984380923,0.06763816483266565,-0.03138713978766862,-0.0810761103848636,0.05983640459967068,0.021811662860041086,-0.05537542488071152,-0.01983546549230005,-0.04386864759702473,0.04465441101656555,-0.04850745924139977,0.05413755766413644,0.0744282566519953,0.02284480517912148,-0.07397105338467526,-0.006724141938593344,0.03906256733691865,-0.07543251763237681,0.00042333964079618305,-0.07926489307218988,-0.027896221069184334,-0.04487445718156065,0.026471561309142966,0.05401530119886212,-0.03259751032351484,0.052382177309829615,-0.061080989145420574,-0.06965990627982284,0.007167614495520238,0.015140702476559912,-0.0224164355255575,-0.05620362272426398,-0.012511423578441754,0.006747626586143696,-0.07504634143348068,-0.047473394664030076,-0.058742278370952646,-0.06252746290012408,0.08861030998809258,0.023283190380820277,0.022683305835221136,-0.03453658764030667,-0.043436980803492106,0.01855219805348371,-0.00024410895416893406,-0.05383667946730054,-0.07448774303804138,0.041556770438242366,-0.06803648814602059,-0.08860671018995116,-0.0369172530770225,-0.05292653696309951,-0.04360004047416648,-0.018323085653032378,-0.06594560654207852,0.046488230358771414,-0.033475966491634285,0.03321592446808711,-0.08454216696907979,0.08000240720120762,0.003764491625306574,-0.06791785232749148,-0.012895983600953486,-0.07685944096133991,0.04610849838872085,-0.005582840820828629,0.02824913351774689,-0.06755776890400347,-0.003645861801142274,-0.021255650700145217,-0.03046914016807818,-0.08451900380177277,-0.03499576864602345,-0.04527930937328721,0.0643259393231282,0.0011368324575051513,-0.07376651393769194,-0.03618396546819096,0.07130230198388916,0.019870465909990025,-0.03145473409919372,-0.04455086129187977,0.041571226715003025,0.02967321115101795,-0.030989022559955514,0.055525222326146526,0.020652186531014825,0.007199895855521749,0.06883921963754216,-0.04798458584955274,0.08699627317302548,0.06476520342527169,-0.0004605243072764586,0.05396567101990858,0.03065672324143462,-0.07835184728669153,-0.040936108997678466,-0.07196878758683255,0.07425002341032436,-0.036553170237169454,-0.03736527459565917,0.06702383540934186,0.048188617430189436,-0.04497285785767762,-0.04607456708766079,-0.08640533399382053,-0.06859067845344033,-0.07983370652576115,0.021139277888646172,-0.024635730724814182,0.0659533031450457,0.043572077951357424,0.004438969312716452,0.007381696926079458,-0.01841656850307094,0.00028239026562224874,0.04909371234405438,0.06660557825120066,-0.025391146181595162,0.053016353240039935,0.06435505984022244,-0.008152401562704102,-0.06939688366150419,0.06359283436835639,0.035364238039755136,0.010946761014020779,0.009955260917938129,0.058435975115486344,-0.04709006427780549,-0.02935859844841871,0.00806813298489443,0.059121473638606495,-0.0745570560987403,0.08015068852835477,0.08562766988274499,-0.017116242815792795,0.08758913621223068,-0.07700244122825645,-0.02465952264870648,0.08019506701148642,-0.045289277992492404,0.05476660378508071,0.01562905139150349,-0.007345808221378475,0.07127679927180874,-0.0541693644566612,-0.04147026594467825,-0.03327140482895627,0.06658778331602533,0.05515704485676566,0.02169979879809013,-0.08510558238619792,0.0696929848816049,0.06687651886496163,-0.0435608482860227,0.03499710982455607,0.001570231687694121,-0.034876053218480314,-0.028792525679715724,-0.0037934534356815577,0.0739797265043286,-0.0041895861812003485,0.07539888545588022,-0.07166982682486472,0.04316271374518483,0.08192613602161604,0.030675253808089765,0.08345592340052399,-0.028834596478275132,-0.06568394068702318,-0.0046030598052524165,-0.07653976667850491,-0.035194427632063895,0.06534026894837586,-0.0748547831176204,0.005396985165930612,-0.06860350248681996,-0.032151849379069536,-0.08850890632814366,-0.030844587729198666,0.021298981512179356,0.06456802199290637,-0.017474698189683013,0.0625606653787389,-0.06612579461424842]},{"id":"chunk-7db5cddc-200","content":"examples.json looks something like this: request: show me error records with the tag \"foobar\" response: SELECT * FROM records WHERE level = 'error' and 'foobar' = ANY(tags) examples.json{ \"examples\": [ { \"request\": \"Show me all records\", \"sql\": \"SELECT * FROM records;\" }, { \"request\": \"Show me all records from 2021\", \"sql\": \"SELECT * FROM records WHERE date_trunc('year', date) = '2021-01-01';\" }, { \"request\": \"show me error records with the tag 'foobar'\", \"sql\": \"SELECT * FROM records WHERE level = 'error' and 'foobar' = ANY(tags);\" }, ... ] } Now we want a way to quantify the success of the SQL generation so we can judge how changes to the agent affect its performance. We can use Agent.override to replace the system prompt with a custom one that uses a subset of examples, and then run the application code (in this case user_search). We also run the actual SQL from the examples and compare the \"correct\" result from the example SQL to the SQL generated by the agent.","metadata":{"url":"https://ai.pydantic.dev","title":"PydanticAI","chunkIndex":200,"totalChunks":208},"embedding":[-0.022877236081248826,-0.0786836735703113,-0.07904554974983398,0.06357253069233158,-0.0695218736284888,-0.05971446239132756,0.06924296288347422,-0.010475305708932356,-0.014161616010035646,-0.07806584346628839,0.00640326256826552,-0.08089534258115512,-0.042197153861190495,-0.04354898233905396,0.004420664347210587,-0.03163331470712903,0.04969155759651488,-0.01577937242278121,0.07980623221116752,-0.017331440010333137,-0.01721128082607524,-0.062288957943762706,-0.08556078296658388,-0.006194872923358575,-0.06625221658161035,0.039815356942304175,-0.021795858708952995,0.01966384866023744,0.016599172520745446,-0.03853107857076125,0.07068450207134698,-0.0629742203562002,-0.03936672875653825,0.03419792383161586,-0.03245769001896077,0.032526615261055825,-0.025834273412501187,0.013216409178715395,-0.06258085402347577,0.01216616024265238,0.02773775516380661,-0.03566096841866288,-0.061636658584380825,0.0035263369482168663,0.08920867887003828,-0.06611544130806711,-0.01778598077321155,-0.026364267497719238,-0.06729948219035635,0.08033128440222127,-0.050322014556629234,0.06951177984933977,-0.02013672622024884,-0.01959616469948875,-0.06890333290743406,-0.08077473675061705,-0.031115094607910006,-0.0775994293483375,-0.05380979194046123,-0.033506199068455346,-0.029565887722878766,-0.06894716744873389,0.08316061510564347,-0.0010427925091599424,0.0037847375502149225,0.011615466228214582,0.011107941212511884,-0.06294607413350185,-0.026673561770374363,0.07542975739438132,-0.019290428433622154,-0.06095059444830212,0.03139099007388575,-0.08369621122436499,0.04039294360547548,-0.031188702433704297,-0.03773489917944881,0.042877420974938366,0.05404596092830327,-0.0010385512388770013,0.05481483279721283,-0.08613950036199378,0.049136718860387424,0.00856920880815401,-0.05501548966036264,-0.052180620938359436,0.010918072324369846,0.016542776459305228,-0.03588673333050282,0.037263965064050615,0.021448705971979908,-0.009039300315176527,-0.07701021676968392,-0.07844831664537945,0.04073834698100476,0.08231510173425015,0.04800092265644019,0.036278300425189154,0.0007460414942107941,0.0785811722704374,-0.03612313958610009,0.025860425206958255,0.023841097146725828,-0.011653864089240535,0.002806031811331484,-0.010811462904699235,0.06635768319583701,0.017624322213242408,0.018705228490859815,-0.08769089880431602,-0.015714135012538072,-0.036726677230195987,0.03298420049884837,0.006566598518669482,0.00010252852473056166,-0.018838739014773263,0.012048318555966848,-0.06660039993428252,-0.067153254095162,0.004719718683232104,0.0024022605052902326,0.07464153977025433,-0.022875936188449308,0.001987900934451958,-0.004505111518955046,-0.030402559595869322,0.053474158858874014,0.07677961074118543,0.06160826805081109,-0.07492548498543197,0.08484042476308805,0.022860773185985582,-0.034124081096726794,0.06255209489022187,0.042509638616748585,-0.06872575320921034,0.07010703585476064,-0.005148963838982852,-0.010518332102877115,0.03778517737654846,0.017832450396737073,0.08646050126338253,0.02708639586403021,0.032562339784300856,-0.055483978321670846,-0.0813563941122953,0.06685518607895945,0.03358089220825884,-0.040382150318809845,-0.02890574911202582,0.02833886094759419,0.046390901412265026,0.03695211277086458,-0.00043210842460451784,0.005874996177868159,0.06271255460364883,-0.06971765725667226,0.01757120858931359,0.046287456165566156,-0.027643125450258134,-0.04590211208729786,0.002896467997504436,-0.07946686920291089,0.04793131376290673,-0.08800585627071103,-0.04196534318112732,-0.08637840824667774,0.03242239333031778,-0.03322571378636699,0.0021891061937968363,-0.04100317140387375,0.04695407875428327,0.02124314714029564,0.06699731989656285,-0.027911963669336317,0.020126698027138047,-0.07734152741127957,0.019483569785566483,0.04908566569301489,-0.032503469597396174,0.0068144589866406735,-0.06205807573678158,-0.020872074028752283,-0.05420950854530749,0.0741389921997334,-0.05098139537301867,0.00047891240584109696,-0.04731515198330381,-0.08728782748418842,-0.0326964744726596,0.08328179206935972,-0.07698862224586721,0.01092897822915081,0.046653547339280795,-0.03177980354062402,-0.0855818308231654,0.0678702770850014,-0.08167703344809737,0.06898159661303993,0.04698531253953622,0.0189507758550864,-0.06440532128268772,-0.049508189113579966,-0.08248972137357491,0.03157914361503431,-0.06375050777757668,-0.0025911406579972505,-0.07687655163811614,0.05803682894050307,0.057485445073738574,0.0402113375200369,0.08101676664547013,-0.03934477890285871,0.012241191453168121,-0.046974359356247206,-0.07216334350466706,0.0033542718507238375,0.008367304132207693,0.020682819646328756,0.006157733584203247,0.020086026944082205,-0.08224155848807965,0.0447022001124378,-0.08493151525298737,0.08055854893153382,-0.07530450813797018,0.014383664186317476,-0.005117005255711592,0.04422541727482952,-0.022138616725859143,-0.08875462538642426,0.01058737320484409,0.04921556208155665,0.0024509567931793284,0.08106658109596064,0.013281534641716766,-0.03062395922258538,0.02849545081512751,0.06396122993912914,-0.013020511451974798,-0.057923945940336216,0.028008660720505955,-0.012081657488420055,0.08507856185394501,-0.06179096067468235,-0.05473359508734128,0.07993732607949992,0.000010550951405991828,0.06103992296984238,0.08090622025674951,-0.02109787431984917,-0.008856099890801116,-0.08577867902019838,0.02262451125749641,-0.002611235412466528,-0.0402074125241848,-0.030755211405073368,0.0005344290823678281,0.04429716311100503,0.08542456977690069,0.008563156357194868,-0.08013537262182928,0.042702332824254396,-0.02105744178210892,0.08657039749249568,-0.054292256388373296,0.03272011436270401,-0.05337196648559019,-0.07587551712674978,-0.049531416492738865,-0.07855948421945685,0.01628923245891088,-0.06607576875335591,-0.009272258455036545,-0.07166020828100107,0.02069620572670483,-0.0010581128454076752,0.03342549004058609,0.06804907786686552,-0.053813983854697434,0.00484996227130646,0.08667152966195746,-0.04230914993819589,-0.08522226577543178,0.02612867836538665,-0.02678687481743353,-0.0657877015852401,-0.011318789865072211,0.042116112002361435,0.05268644568291459,0.08715677425247614,0.04575456091053035,0.03754372859339669,0.06962960648995208,0.03792018138159861,0.07699820977311679,0.026285018356203022,0.03896235250876886,-0.03851576487841236,0.01671843170695739,-0.015242541967802462,-0.031975654232441274,0.06296088175444864,-0.007714627563705952,0.03731610145647817,-0.027933172427267186,0.028957045316406207,-0.06335802363844448,-0.04935491989066852,-0.06571531102039878,0.016334687267726102,0.05600620538234616,0.06365653751098313,0.010773790643843335,0.06264804698440271,0.01991301767065705,-0.07240625164970914,-0.016137792965421605,0.04201426014989615,-0.023766811567850522,-0.05701686510748949,0.06962401498572361,0.0519602090481211,0.07801919048116471,-0.07017564579891677,0.033984230784685404,0.006387601524935763,0.06329150464211697,-0.028152743546618154,-0.06564213558760428,0.07926997229478627,-0.073138505077683,-0.029777292270191952,0.08542361038318558,-0.017997577274455646,0.05915131318992424,-0.04399731603789554,0.07118125486271086,-0.00982322489483907,0.005854304239494313,0.04665415744564661,-0.06545574506008406,-0.07001062310842267,0.06370127170319227,-0.00048248755295346007,-0.08415903746509944,0.017913619468207916,0.014240174220521904,-0.0887845367568796,-0.021885826390170178,-0.029675373708706973,0.05625808635473402,-0.02303123160394574,0.07173602040377784,-0.0014253973554542163,0.058229067261719024,-0.046693326597134495,-0.07738773357316261,0.0858320459933481,0.0156637361647139,0.030779125444425244,-0.04665248396674508,0.06382201835465674,0.049217840799273535,0.06260104899785873,-0.058170815579612005,0.0404198805271515,0.05022673591489433,-0.08596734367120691,0.04066391832333204,0.031199657207606334,0.08342383890073522,-0.033011962635465075,-0.08697717892345731,0.058373816980836726,0.06873280936932036,0.07692098232081375,0.04985068744432028,-0.04702564536066014,0.04445197460721106,-0.010152280672895957,0.07565015769848216,0.00886827892014469,-0.03962152286439577]},{"id":"chunk-7db5cddc-201","content":"(We compare the results of running the SQL rather than the SQL itself since the SQL might be semantically equivalent but written in a different way). To get a quantitative measure of performance, we assign points to each run as follows: -100 points if the generated SQL is invalid -1 point for each row returned by the agent (so returning lots of results is discouraged) +5 points for each row returned by the agent that matches the expected result We use 5-fold cross-validation to judge the performance of the agent using our existing set of examples.","metadata":{"url":"https://ai.pydantic.dev","title":"PydanticAI","chunkIndex":201,"totalChunks":208},"embedding":[0.061163900353064266,0.03611258780643816,-0.05211599516536678,0.08307860537146144,0.026707510295472348,-0.03850093819516986,0.0076183706682593855,-0.007651494258087781,0.04050953461634822,0.02847622201862248,-0.012314698719143091,0.07092824011102047,-0.03764739902692408,-0.07922281946128669,0.05607922199298397,0.08531200062673559,0.006847723929575825,-0.012395102550036424,0.03291393713377229,0.06385939326714454,-0.035204489688439956,-0.030868492677911284,0.07809137123754908,-0.048440038450683065,-0.04972309097121042,0.04662498533607686,-0.06687461696043151,-0.08565239216287161,-0.03262960239467418,0.025112567648857335,0.01716776861815952,0.004373773801290778,0.06401471325224625,0.06646730579669761,-0.07297897925946331,-0.05488161916144274,0.006210714573029406,-0.04411518452024197,0.009204665958938039,0.06286823677381523,0.0033487071711594055,-0.07470274382266658,-0.08131364919185485,0.05198963892824266,-0.001946403440582263,-0.0043325690354908694,0.04250115540638063,-0.03815196212365345,0.012043750110757635,-0.0167843816103527,-0.07797374578805169,0.03747072262391537,-0.043662582227144864,-0.08357219118968803,-0.006053136703796458,-0.03901360908251103,0.06115221948189185,0.06850003017450534,-0.07624527015924006,-0.061651115732489256,-0.07304476109819255,-0.08616974345505743,0.03753813980515207,-0.04918583589317097,-0.02490964840905433,0.011854120407644345,0.06366970021060878,-0.05556528728746189,0.07271533232018852,0.06812041502718924,-0.03790915712402938,-0.006421086419087804,-0.028941100739130754,-0.004292778557774156,0.0377823405448953,0.03202474018617123,0.015868667823228703,0.024617637075035833,0.07369431089140246,0.03775956554560171,-0.023885858654462057,0.054585984731172925,0.0084377349490617,0.08350212976186737,0.021959783267196324,-0.0458535000066304,-0.000656182414858334,0.015059853993907347,-0.08645904172979926,0.05253586339564587,0.058507996950989544,0.0402140162458781,-0.033214518402773986,-0.02255478080780212,-0.00022900244483830547,0.05292878622868898,0.001662985598632766,-0.02602065585780465,0.08246474333431968,-0.02449869334019886,0.02125567531790937,-0.08659311428892066,-0.05796643599219636,0.06601601217026609,0.007467894100956655,-0.056069937470500486,-0.005995591399741982,0.0067445679219352885,-0.017514698014573584,0.0449123477060299,0.07018805636703739,0.012327013831440069,-0.08385348450684627,0.06647506583568194,0.02564559550089667,-0.07184180936508831,-0.010983384295269185,-0.0075880832704422274,-0.07586079564273007,0.06517280725409172,0.06519524863316499,0.03987496287850617,0.007918415722840768,0.07737385933705426,-0.032795715934187085,0.05252186713264268,0.02579977889543657,0.005079648592916374,-0.08459889032894269,-0.010481616575966933,0.0782580619997548,-0.016034546603928505,-0.014719589854241284,0.0387619676904746,0.004371205414542736,-0.034778335216683644,0.05960480072592819,-0.06489109556796196,0.062369738918333396,0.04586065158303144,0.009309125540641046,0.02758227226045182,0.07043380158912389,-0.07196341668393044,0.014932469108002633,-0.009465749340527171,-0.05597605939347332,-0.05613875170594432,0.06796399152556526,0.06826040914776658,0.0723131919451038,0.05738274000737315,-0.0037197056812637796,0.07593696349365212,-0.08009428396920965,-0.03021959699358263,0.002207754473488241,0.04135723016201302,-0.044832818320856054,0.08050461976139353,0.022954405956480982,0.008029516347844944,0.020123522878646126,-0.07592443330577,0.041493857041396305,-0.05470692432925538,0.08740613162782669,0.058910128880076136,-0.030316650180246565,-0.05584394419094053,0.06510592391026657,0.013946483739899344,0.04366845542437841,0.02891014735172723,-0.030584537307132106,-0.04886958203357651,0.03772561084040735,-0.036846024213372304,0.06515533819604934,-0.08619739232894084,-0.07098476037730446,0.02388118471753351,-0.06848952537052758,0.023522074109927463,-0.0112581966837754,0.08020980395072232,-0.04839906237009695,-0.014451478335914222,0.03792105105903916,-0.048365866842328374,-0.06047417900338894,-0.06927753205769764,-0.0721380055954047,-0.0762254215305417,-0.08746705563725743,-0.0713714142358497,0.025828626289139837,-0.06423800245589363,-0.035030465818081086,-0.0153644316382423,-0.030806782896903154,-0.007391332110579479,-0.06449620215784344,-0.07046406636823699,0.07441200954553212,0.03524621508239573,-0.037081056516826,-0.040784121085130944,-0.048915838089421175,-0.07272189945968033,-0.03703257208362887,-0.022830670121491193,-0.026250023398268166,0.07746947952431074,-0.04635610991081253,-0.05689694020167622,0.059882065712877915,0.06965166128665964,0.016810419157680643,0.08577665582276808,0.07218901783096215,0.011281508621985252,0.07246028647404358,0.06271497001501243,-0.07981920581330103,0.058132943113500576,-0.04088750933674923,-0.006715664200499935,-0.05061954428366468,-0.04201729666706336,0.0729536907422791,-0.03835738630389999,0.08611679718491712,-0.02133443439652547,-0.061658800079765375,0.03191936016542869,-0.06351833003006077,0.030832557462124724,0.03829530752980164,-0.0233911076994727,0.08053402930859326,-0.014831058812921427,0.0272944844393214,0.047973198033377275,-0.014450319770314446,-0.07975534402606947,-0.02508818378197179,0.01421865137498778,-0.031929076744489894,0.06663383168726375,-0.08018295752483945,-0.008817065506141593,-0.022895880866667336,-0.004474472896615404,-0.007998738332973642,0.0034927770893257055,-0.03039769510805632,-0.08284439253141876,0.04891930892268893,-0.02105193736715234,-0.029595528734140644,-0.06778038058785085,0.03432844656008166,0.027179778781131085,-0.08653180533535633,0.015412870183053592,0.0344786005306387,0.058483433266732485,0.024798652378944516,0.028994159736726848,-0.03279302605987551,-0.03736806482298044,0.07728167944351645,0.01691497097405734,0.07460239675049855,0.023323147801952656,-0.02111334510550223,0.07704638947252024,-0.04972896627354581,0.07593840139160961,-0.08707448459926356,0.026337670519416878,-0.08675592320247678,0.0275566211703669,-0.006838919191216632,0.05476458134267889,-0.07137598053013182,-0.02588322467189627,0.04313254903158317,0.00114062438393975,0.08173983815394102,-0.009987760586556359,0.05850053528148427,-0.08203450397868481,0.05816034716070258,0.01741967079121502,-0.05055197227771609,-0.01698282889485567,0.0016878310663369681,-0.044296102723213555,-0.05255895061029978,-0.011824858557183399,0.001847943201567805,-0.04547116711481788,-0.04184814627783123,-0.03301500754745193,0.012495693168142223,-0.05520874957620349,-0.08340809126323992,-0.015427836641102978,-0.04069371837894972,0.077519111556921,0.05778843690775979,-0.07232994925935476,-0.045316022957880585,-0.060839758209703644,0.02838973182413447,0.08279317197463211,-0.050097925502000075,-0.015750319854619402,0.06581694263558081,0.07565155746150962,-0.014887831079035489,0.06780451571262722,0.02951328106443284,0.07723275241560776,0.061276863056391816,0.08455655632793832,-0.05010783542771367,-0.02496136293026406,0.020590485148264247,-0.06930468182594447,-0.0427915906070559,0.05897217475681974,0.0877394370821722,0.04235946924427664,-0.006648734697034825,-0.06503542506795669,0.015285341952206658,0.03553693256234432,0.05151103036287028,0.07607806667169546,-0.0042660734879848665,0.004856512566288915,0.07415921066626358,-0.06779543412240703,-0.006439172008800152,0.05628487841791129,0.029218811947771258,-0.005905875813488875,-0.058204731433497386,0.008180731300495882,0.08338640886249063,-0.07215017878226371,0.03162688555341194,-0.05731356559283008,0.01066811713166452,-0.07786953482496332,-0.07939387467482628,-0.06942688404771752,-0.011346544788786649,-0.01876441691183212,0.04545450826876212,0.01148662290453335,-0.010091948419607389,-0.019815327967130734,0.052654272003891146,0.01239285943384756,-0.07164986460567659,-0.002930001786104256,-0.05369266482054942,-0.025828944043967503,-0.039735427248484854,-0.07026520793160025,-0.052090818947223984,0.08527293617012903,0.07320411252826488,-0.08241175166816474,0.0014357955825719804,0.0032504697871630016,-0.04983927123890251,-0.06681277475181635,-0.04135477587490018,0.0433142206762738]},{"id":"chunk-7db5cddc-202","content":"sql_app_evals.pyimport json import statistics from pathlib import Path from itertools import chain from fake_database import DatabaseConn, QueryError from sql_app import sql_agent, SqlSystemPrompt, user_search async def main(): with Path('examples.json').open('rb') as f: examples = json.load(f) # split examples into 5 folds fold_size = len(examples) // 5 folds = [examples[i : i + fold_size] for i in range(0, len(examples), fold_size)] conn = DatabaseConn() scores = [] for i, fold in enumerate(folds): fold_score = 0 # build all other folds into a list of examples other_folds = list(chain(*(f for j, f in enumerate(folds) if j != i))) # create a new system prompt with the other fold examples system_prompt = SqlSystemPrompt(examples=other_folds) # override the system prompt with the new one with sql_agent.override(deps=system_prompt): for case in fold: try: agent_results = await user_search(case['request']) except QueryError as e: print(f'Fold {i} {case}: {e}') fold_score -= 100 else: # get the expected results using the SQL from this case expected_results = await conn.execute(case['sql']) agent_ids = [r['id'] for r in agent_results] # each returned value has a score of -1 fold_score -= len(agent_ids) expected_ids = {r['id'] for r in expected_results} # each return value that matches the expected value has a score of 3 fold_score += 5 * len(set(agent_ids) & expected_ids) scores.append(fold_score) overall_score = statistics.mean(scores) print(f'Overall score: {overall_score:0.2f}') #> Overall score: 12.00 We can then change the prompt, the model, or the examples and see how the score changes over time.","metadata":{"url":"https://ai.pydantic.dev","title":"PydanticAI","chunkIndex":202,"totalChunks":208},"embedding":[-0.03943762499103537,-0.061647187673433065,-0.024440101942409486,0.011982946129384005,0.03717702794313709,-0.023930892754690267,-0.0649007615383309,-0.03627136629804017,-0.02928812310322497,0.07833671923759818,-0.03002743319417472,0.08350459897768296,-0.052195954532640094,0.04243098334348386,0.0034041907552878046,0.008062158493829593,0.08613773107200516,-0.03769267352285457,-0.06920229741702602,0.014793794822911785,0.0011597739959576419,0.020492289687082277,-0.03179336569202688,-0.05151320873315952,0.0747848830382294,-0.067048623146542,0.011677988678822115,0.050232092185559823,-0.06309935724955912,0.07708894857074343,0.07399160718837143,0.01688078633654952,0.08601100202148507,0.04312344745208507,0.036942654210347085,-0.06474838139633905,-0.060759469279481115,0.04265058495879737,-0.024239742049115654,0.0036094685156123963,0.06084756376109345,-0.038231049123009286,-0.07235459957336257,0.019030658739607985,-0.04298685744285764,-0.056915872188922655,-0.015338183790593856,-0.06270481011786677,-0.005900545932202929,-0.021801827210400103,0.006486356093748026,-0.007991461428446889,0.009676170379417802,-0.08329478396898211,-0.06422403978617654,0.046393637679364365,-0.0691233366203361,-0.005320143405908244,0.07982322045923256,-0.028248262375381576,0.07099692102278077,0.06866480186196841,0.0410308882441604,-0.06458433401174205,-0.07229633123477702,0.03768598813383049,-0.08743998012262212,0.03648139507641987,0.021847990146596805,0.028454382926838967,-0.053932996949217084,-0.06194729338752465,0.058512078915028395,0.0032741684014204447,-0.046266991354705723,-0.05292356953286874,-0.03448159874497015,-0.002289903791154266,-0.0274192098161312,-0.008207332120954636,-0.060497966271268425,-0.05019845705774196,-0.05033318675636407,-0.0040393256150727105,-0.062395755941849006,-0.057513268167346525,0.08251540198490717,-0.01475733763655843,0.07422343076899347,-0.06179018826599377,0.07996234579268532,-0.006426029325823966,-0.00776083155092962,0.026595449608335313,0.04433239528932834,-0.06222441187398021,0.0353392029770295,0.04055118614441647,0.03424515530396151,-0.00014036328074498727,0.078812645233833,-0.06872699675067973,0.002675524302564795,0.016597297255121362,-0.03880567054702735,-0.022532805139041174,0.00423263388838776,0.05561921236664799,0.04193129300570553,0.08632420342149562,0.08145623272684871,-0.04257397010231935,0.06068878225448463,-0.0021718634048608766,0.016522803218487692,-0.0477653310805367,0.03380108378834122,0.009121668917612376,0.02355883662407995,-0.053412675048395385,0.06576978734212509,-0.03939098016122769,-0.08620475627461478,0.06015438098117117,-0.08125360542553613,-0.04488422710727515,0.0224519066498429,0.011104356794501632,-0.042549936636895935,0.06914196396907434,0.04876606966703502,-0.07648681728293154,-0.028388109662616907,-0.07303262522582794,0.08049153748545274,-0.003868039776055861,0.027099285958195024,-0.048944267225146325,0.058333445211802545,-0.01828737404278028,0.04412786615395004,-0.08470250997536874,0.08364134934076199,-0.05383408689725488,0.050746776961185146,0.03487064003922176,-0.05393053368689242,-0.04104281165302859,-0.0766655087047785,0.038282639076980526,0.0033290534305343527,0.03438336923889238,-0.0043615247936994355,-0.015645334051171786,-0.05958629031966103,0.05819751273367326,0.02231168705850614,0.025751927079352803,0.05244934129133772,-0.08712445278987126,0.028084041111040493,-0.08598138313777191,-0.06291120895266686,0.024957031008429203,0.04339191982669224,-0.07052658322143376,0.02640670149890632,-0.04227016441509517,0.052983956012912566,0.06725746261037717,0.027467756708542488,0.04941970018050925,-0.06259062681185111,-0.017278311720706107,-0.00033054037691689764,0.015953439149184345,0.008622722768606397,0.087448370952593,-0.01983881065200781,-0.06468474538374404,-0.08068063375665904,-0.06844447018353778,0.058193067631795325,-0.045671141862380735,0.032309797993634655,0.056434892499257525,0.07736740176193446,0.06275915828511236,0.030918768027815013,-0.03702396739692804,0.08394243160844166,-0.034854636847223716,-0.05090749898720022,0.07580125094194863,0.046328117160117796,0.055671469798895715,-0.034498272902566546,0.07465753006295274,0.005092705027201001,-0.014230662147477108,-0.08712838545110736,-0.0531464833677655,0.058113437935018206,-0.01004167467834029,0.03165479304792558,0.06254327707882701,0.048167603404960714,0.016742654840882526,0.07993521422161684,0.07680666367181548,-0.0488676302866473,0.02707024559648364,-0.006653890299662871,-0.055066162037675094,-0.027005285477612734,-0.06390250333384585,0.04444250884434307,0.024346076734051324,-0.06634961010834194,-0.08025888920315043,0.019606606733240352,0.07253107719359231,-0.052233245240970845,-0.0234936003309969,0.014743131816952878,-0.026798261237653463,0.05361925599872006,0.03602447832986517,-0.0040054471429106005,-0.07067401199281174,0.008953312409107982,0.002202319820450269,0.028604004269826143,0.07304925809681882,0.0650113970011437,0.026384334873452816,0.030233210679119604,-0.08511501077174217,-0.0336828578181981,-0.046654504599017634,-0.046988633339168,-0.00006850870576701944,-0.08388424816338533,0.08734532844339712,-0.08632797183199672,-0.054227525035920585,0.03762685602612055,0.0032866234687713956,0.03480427112957951,-0.07566599161116265,0.010731128680203126,-0.0684549741942263,0.006788748424243224,0.04989674616848001,0.028704997188584398,0.08578777067292398,-0.08381553356435877,-0.05300804101177984,0.04223866883966779,0.02120643786883076,-0.07963463186941028,0.01015510106568883,0.024320112432813405,-0.0077657987746634115,0.013884119325259885,0.059979116122506546,-0.023043886386752154,-0.06492235752315398,-0.040696343439459014,0.08124663693111138,0.05432139312354389,0.05702262385845044,-0.06886517941909628,0.04940727559417559,0.04707483831375317,-0.057726677021842365,0.0531272303470681,0.02237216413482182,0.0628728578754815,-0.04119207162947991,-0.01640277846733813,0.08063404990754941,-0.05348997960926557,0.08624623916716209,-0.04051235971040868,-0.07218781153962096,0.014219893093004421,0.01022780968855417,0.031129796213333078,0.03210739596808583,-0.00505498790616494,-0.05246391089726283,0.027823538906537416,0.019273409438798034,0.003921225922102408,-0.045994312320475864,0.005244612088039536,0.02091663362283687,0.07475966555217872,-0.048392406156657596,-0.0019793298106075136,0.08231642258510702,0.06827871207038405,-0.04542302062463804,0.08198467929297489,-0.06862233905139555,-0.0795896032609567,0.06585261855656484,0.0007262259538546369,0.05237423839442666,0.06124815216549394,-0.023539699818023688,-0.07585924577173522,0.08606964575514402,0.07000720842615979,0.022417501271735578,0.00854428403220577,0.05700969034895584,0.010505713204215414,0.06091443778861443,-0.06115696166997702,-0.0068377992167969635,0.0759369164224898,-0.07148617892787418,-0.023846796610126675,0.04822095835288156,-0.004805118020483096,-0.061942167763594014,-0.013919690955263023,0.025824749128919862,-0.05987311865284883,-0.07306543183132773,-0.07824340829900805,0.04041288968681315,-0.06613426323677654,-0.0077439345312049586,0.001006834562016809,-0.007692543195642341,0.032018108658561806,-0.08124588523511009,0.0814461723910172,-0.013141186563253469,0.07990307564267754,-0.03258003628844041,0.06551274804493973,0.009826578227635942,0.059114370838175896,0.08593409707191016,-0.0040818969481541895,-0.045665667290578846,-0.029109958724851854,-0.026874387401249658,-0.01064862501575491,0.05213210281800136,0.019018204899509086,-0.08391859296574002,0.08055242576506422,-0.006791181832826015,-0.06463685349885408,-0.06284379929711555,0.04884916863062544,-0.05752225247927896,0.06818595031164762,0.011181594587885852,0.04519928773222661,-0.007496192862943595,-0.07257222011416067,-0.07348342959283381,-0.00004935087382689199,-0.006943608329528665,-0.05426850191724498,0.042487487907094675,0.03376828834134421,-0.06366363028762155,0.034678789558054014,0.010149867345524683,-0.05774362347738086,-0.019770238736552162,0.03304467378017171,-0.0431784626518926,-0.055345387470157166,0.01357979203299165,-0.0755609964490808,0.010471045780296962]},{"id":"chunk-7db5cddc-203","content":"Version Notice This documentation is ahead of the last release by 2 commits. You may see documentation for features not yet supported in the latest release v0.0.27 2025-02-26. Debugging and Monitoring Applications that use LLMs have some challenges that are well known and understood: LLMs are slow, unreliable and expensive. These applications also have some challenges that most developers have encountered much less often: LLMs are fickle and non-deterministic. Subtle changes in a prompt can completely change a model's performance, and there's no EXPLAIN query you can run to understand why. Warning From a software engineers point of view, you can think of LLMs as the worst database you've ever heard of, but worse. If LLMs weren't so bloody useful, we'd never touch them. To build successful applications with LLMs, we need new tools to understand both model performance, and the behavior of applications that rely on them.","metadata":{"url":"https://ai.pydantic.dev","title":"PydanticAI","chunkIndex":203,"totalChunks":208},"embedding":[-0.05251662493763784,0.007162072208439263,-0.08323976948196153,-0.024232229296520937,0.007708795723518896,-0.03932075933829626,0.007926840414620669,0.04359189004583477,-0.07314446401446009,0.018804531355444395,-0.04158175785191495,0.0499230315933263,-0.06084138707894266,-0.003046569255540893,-0.004258885933730753,0.07787240362390142,0.047441916048176686,0.07390292848738078,-0.013145816383533387,0.062754541841921,0.028348047146177335,-0.01690666888666308,0.020552560530175748,-0.059476968859590494,0.07053981198142177,-0.01014844355857316,0.029382234798559646,-0.04446814604727489,-0.06830308674600352,0.06814613806343105,0.049416342750817174,-0.015076385151115876,-0.004072152242049901,0.07373036346692562,0.05109391592310618,-0.0634437798487495,-0.003775280582318402,0.04235666770898723,0.014463791764528205,-0.0771223700007064,-0.016191612821282744,-0.02090318907314352,0.08050099746495001,-0.027770013307711772,-0.06778278218750551,0.0808113382612294,-0.012123269036228625,-0.06367186700424282,-0.05459608321958206,0.07477632338235264,0.07307744411618557,0.0020959679767466885,0.03797917594876054,0.05861682279569914,0.023070500086954212,0.07557603257228823,-0.08282858639098349,0.0007316080422392319,-0.07225843671224753,0.05028888814601936,0.03508180985242275,-0.026164831230552684,0.007569226998278495,0.0586057423789371,-0.0654239092620443,-0.06177512367133341,0.020562403458079727,-0.06998764284867641,0.0829074796201094,0.07043279363499337,0.06672756230577023,-0.052161985420692614,-0.021647932567494737,-0.07859324387258854,-0.013821679738761201,0.02464261178001476,-0.016601336152882538,0.02487050828903739,-0.018186206973933215,0.01781044248350671,0.05879493186083649,-0.006892369976924211,-0.022638745964384876,0.060395196257807905,0.03895760686716169,-0.0003585526311177177,-0.07245695587622147,-0.06326499558881296,-0.05428643627519155,0.025830864552013215,0.06574908747624372,-0.009381799259222678,-0.06457250979054344,-0.02282618161271618,-0.08659669730226856,-0.014379764744749328,0.05193199458423143,-0.05972794178509121,-0.01414529378159087,-0.025209246221132745,0.07713917063440143,0.006670560636009211,0.043221312875229706,0.0020964827538130252,-0.05071185250265213,-0.02452690576436927,0.05117202427770943,0.019684313676785182,-0.017009204844125256,0.05364298317932385,-0.004675274778576374,0.052831403144593364,-0.08443311972533038,0.05427423603830877,0.04692788271719137,-0.024867188209568514,0.07776066722874794,-0.07099984008345382,0.022892757640628474,0.04617154109544966,0.06797744186592446,-0.07538021699704218,0.08079136638178977,-0.07302417902870466,-0.05833630101383821,-0.036038330834412026,0.00936783346511798,-0.08247636753182494,0.07104042083067465,0.05893285670370574,-0.01409594181316314,-0.08367074925991685,-0.019086874991651705,0.007347385873203565,-0.02722601397074636,-0.0298246573173201,-0.012591851693992533,0.02125535061618491,0.04752637888774972,-0.015510341138956222,-0.03681410847181633,0.016504078329394774,0.03081489765767589,-0.07132212630064257,0.06762756833535867,0.005580444498505861,-0.014380906233751775,-0.06565059277723787,-0.026754856425095678,0.08712912846368152,-0.05653919588401699,-0.06198234159297442,-0.00985379214445386,-0.02136172804207792,-0.04804281648450838,-0.030684074328600774,-0.07944376575625027,-0.0647443744443815,-0.03963610494578146,0.033141842683612345,0.060406824908989756,-0.07391208320221493,-0.009499062583472884,0.04573002018277747,0.06560530195905147,-0.05903699122842191,0.0014788768996068017,0.02230130291956189,0.0013381170277923546,-0.04622057888069202,-0.07273851897211696,0.009543522897651483,0.07982801337326739,-0.009524306187827599,-0.08455221713009341,0.08712139056232199,0.030640431712175745,0.016014640642171726,0.05505978164956164,0.055702226764042684,-0.06356114213500719,0.036702015270179536,-0.053175621255606764,-0.010975603132805094,-0.059129419548675836,-0.05786048853415597,-0.007008449081588136,-0.05629469253387028,0.06058538911943721,-0.01178107198326948,-0.07796868416684782,0.022788329768072206,-0.05882049897569132,-0.032005971558138585,0.033611200537531666,-0.01994655666969926,-0.052819754162443805,0.06073541580957154,0.07220874759115814,0.037821959091951504,-0.07379837181430621,0.0561573659731996,-0.02804652966093129,-0.05677109905423366,-0.06856312595912428,-0.07764886435223718,0.06883422614148382,0.019380480465636576,-0.03328782796748088,0.06749629013155412,-0.07895743307532609,-0.03597811986145537,0.0706664363482785,-0.03874849215568932,0.07129527563480914,-0.020755334092626233,0.0652629402411975,-0.023098163414701528,0.07403394663758252,-0.07301420698704529,-0.08691016882965079,0.042532549080461425,-0.0391863297605332,0.07899988452158707,-0.03337734351619402,0.02755605932087353,-0.04488891694498665,-0.010457168064744228,-0.020257221334395968,0.0702265579519995,0.05648358388644126,0.026212429146416204,0.053280321174135364,-0.054705911621142946,0.019665645467557245,-0.08022501355311264,0.03642266812810375,-0.024768197127951325,-0.027437536475301963,-0.036886619815861964,0.019817472869367976,-0.0504363805136996,0.014392434759695203,-0.08140710003245855,-0.06481887873307599,0.06156498692859671,0.07212216111782926,0.050462264866218035,0.04517400594100385,-0.07252881626093746,-0.08596883737787343,-0.03697059862882438,-0.0637802131514474,-0.05108722735884084,0.016813102109991273,-0.06403057077642077,-0.017615498804442294,-0.015101052385424356,0.08358643089962026,-0.00694136952184667,0.02745914662485571,0.026419094962258756,-0.053130746092993786,-0.03927542228470502,-0.030107230737174407,0.07765012769773735,0.03647254738331048,0.046514479025937715,-0.08699534865796091,-0.0022966344804309217,0.06702423823950325,-0.023635394633356024,0.07470409949725815,0.05590373789104316,0.05638035589102022,0.00789183587032399,0.042816063950288266,0.041983572723966904,-0.07770545170218439,-0.02409451122092016,-0.08117317012695394,-0.05763658065650548,-0.06536878757978785,0.05346078041133459,0.024823106984323065,-0.007012967482740373,-0.03951949623656663,-0.03011340607100632,-0.04999234331823594,-0.05503136076042273,0.07680620192608184,0.0020021951010739656,0.05801911633372831,-0.048873347232843714,0.05466583117613866,0.0469448423875925,-0.03548780366243504,-0.0718978955154513,-0.0572640582370539,-0.05249520468737282,-0.0818540245334149,0.02307361850602223,-0.044783436004743604,0.04299629292180298,-0.033298068549785634,-0.02719136125526478,0.0661833826791569,0.014904729780045632,0.019022614446718558,-0.06234786083178435,-0.06942617201012642,-0.035180964456813776,-0.04036598027573486,-0.049127765371703824,-0.07197276320995595,-0.06018634924035989,0.04628640081305766,0.07801232858928663,0.0023074051378961327,0.06933614975050942,0.02613323581060813,-0.08012747218820068,-0.02812871145844667,0.018396089188801014,-0.05362413180417444,0.05184553171737541,-0.08055349839718837,0.0682381446025687,-0.046445499617720216,0.015491370798733108,-0.08196287869391347,0.026358700060405877,-0.026971725860036794,0.048765134977827446,-0.023512000240983332,-0.031284127649716796,-0.024453402049682903,0.002990325747160708,-0.027932454657616488,-0.08230722250989772,0.041955028291903305,-0.0009451337944598144,0.05098415015602659,0.008031107780510378,0.05948760752071759,0.07395877488962428,0.02623449052125323,-0.05334965946459732,0.05796410719286648,-0.0010288550063856366,-0.0829687265749277,-0.08407724277571453,0.052862008267277494,-0.03757302797902135,-0.010113798386335813,0.015127630883387262,-0.058503975321382386,0.06514846625708516,0.05602458671220295,0.044737475542867555,0.0642020845214735,-0.03348623694195725,0.07842343223196735,0.041971116765866845,0.000010332788485867402,-0.08142971515816409,-0.013081597036697229,0.04914763495221266,-0.04643118777758398,-0.037513254368206274,-0.07353381404281946,-0.0009814758366687671,-0.028036152112397558,0.016249226248446845,0.0692484900167329,-0.07739143575295464,0.006423374345704233,0.01716253164964576,-0.06380088327964209,-0.05288645597611625,-0.022013655611828,-0.08179010349060013,0.019998060618053457,-0.0802477809482303]},{"id":"chunk-7db5cddc-204","content":"LLM Observability tools that just let you understand how your model is performing are useless: making API calls to an LLM is easy, it's building that into an application that's hard. Pydantic Logfire Pydantic Logfire is an observability platform developed by the team who created and maintain Pydantic and PydanticAI. Logfire aims to let you understand your entire application: Gen AI, classic predictive AI, HTTP traffic, database queries and everything else a modern application needs. Pydantic Logfire is a commercial product Logfire is a commercially supported, hosted platform with an extremely generous and perpetual free tier. You can sign up and start using Logfire in a couple of minutes. PydanticAI has built-in (but optional) support for Logfire via the logfire-api no-op package. That means if the logfire package is installed and configured, detailed information about agent runs is sent to Logfire.","metadata":{"url":"https://ai.pydantic.dev","title":"PydanticAI","chunkIndex":204,"totalChunks":208},"embedding":[0.08317961253022284,-0.07137969897840242,-0.08643085815634585,0.009725310549073335,0.019954963090439173,-0.0665264873384245,0.06799275349351687,0.03217588976703164,0.05142463783609035,-0.06001790814748737,0.02795802323604326,-0.08299431651847118,-0.05309699583602143,-0.015184621960356836,0.03228422523262614,0.007091070465041217,0.03190546146431368,-0.039703081879014286,-0.08756965060074368,0.0302102655611583,0.05869593244716051,-0.011148204878355761,0.06894132261539612,0.06127713521935637,0.01602470228743208,-0.03478490299268043,0.04945238571940371,-0.055549570856046206,-0.0741568309570429,0.05131295371500647,0.03956110131390956,0.043820014747686056,-0.08428587248727572,0.06395596788573651,-0.0730290744753716,0.004054132640573835,0.050336715276795674,-0.07306014671079487,-0.05001260186995509,-0.055091557038266244,-0.06645688140710743,0.07036830751928064,-0.017672469910495092,-0.06758492076230369,-0.08217738352221285,0.037777709946846136,0.011618824856007034,-0.07531727978145315,-0.04363343591253241,0.02264753047924368,0.030534213245533372,-0.019233887080778278,0.04412307135111178,0.031169536821239616,0.015084802918393385,-0.0608362984829953,-0.0495579496259114,-0.03846628548229291,0.08093139343003806,0.044271599102951996,-0.06964472475142212,-0.08274520611621014,-0.057265249039171656,-0.031152768649847125,0.04841961685042336,0.08407958604047877,-0.04361233234247875,-0.046305882758339335,0.004677312927930554,-0.03614591276244101,-0.038250549761701724,-0.014506906902481334,0.062396139146095105,0.050808858782350474,0.055800432253046484,0.014204631047007473,0.0005741806909507852,0.07240473610913033,0.06303898835778583,-0.05971009966294213,-0.06784919485763158,0.0801814427674551,-0.030192869748606323,-0.08349066110088908,-0.07784100568933883,0.03070825743777982,0.028648121196623435,-0.03722956099943221,-0.04848237981343152,-0.036658357064641656,-0.06608670929068568,0.011831815148146248,0.018526228100439895,0.032345167986848465,-0.02564528162989727,0.031771398337223804,0.016471628474652934,-0.0020482507525183525,0.03786961059650567,0.08109054973120082,0.033356274867795195,-0.06696450756458376,0.08773497796824785,0.05584186078123049,-0.007284880278178813,0.019386695863085036,-0.06277424384072766,-0.06909075491944068,-0.03608156320775605,-0.07406642143849207,0.0013021971626399292,0.03356746065709873,-0.004740684136122049,-0.02996872223668088,-0.0765684316733125,-0.07737774622038905,0.03727464482288331,-0.04926699264610269,-0.08118266707924811,-0.06702231697691981,0.04753349405332342,-0.04384212123735946,-0.06186944061559112,0.06185956409241273,0.039135766269373144,0.08411062267048779,0.003317159640771694,-0.08313503288460065,-0.057453386975819906,-0.03215292082641103,-0.025042908665627268,0.07238447166776313,0.0067409687569385665,0.054599271144043976,0.028118326845613086,-0.0882446255188608,0.03471967176678959,-0.027702164029937415,0.08168435960420185,0.0009492526839725171,-0.04142331050923463,0.013880131375854513,-0.07768324737200513,-0.004396179139672158,0.023253548792580122,0.07460493354620884,0.04307028709202761,0.034637254971989814,0.042347478745866335,-0.0811486535266364,0.08248129537405753,-0.08409531016637037,-0.024876566571743447,0.04118432744234455,0.024255606346788645,-0.048335764525431,-0.002883503408539589,-0.013961517561673435,-0.07237050089099736,-0.07535672851136749,0.025370233819247686,-0.0646007842518335,-0.004458713418770875,-0.01644804175220924,0.05198985200579441,0.06238975544511116,0.08174708787216561,0.01504151788024286,0.023896361120369032,-0.05416880884516862,0.048548905840655555,-0.06325572766746039,-0.013300565713577288,0.06088403099576152,0.008406921439868254,-0.08703400602980826,0.08431453285858465,-0.0533505350107401,-0.07212269295295799,-0.020712829077150708,0.011879014492544616,0.03072296448960263,-0.0009702260456456833,0.06095520562605853,0.03907421999414489,0.07413841171277054,0.030146100795967374,0.049616860096594204,-0.07387683462069654,0.02580075054304328,-0.06272718680035422,-0.02638465754744502,0.08130676761990342,-0.018048589371063427,0.02941578430722704,-0.0768330735908598,0.07335960261685132,0.06408400735871664,0.024513415524374128,0.07293858488372763,0.019535162046820497,0.0139965992192158,-0.03265121223939455,-0.01812299187112003,0.0232180396956888,0.010742471406776742,-0.061189680569954184,-0.007853165204165331,0.009186523301835114,0.024180519793683245,-0.04759099266422141,-0.018160861736460653,0.07463597772703523,0.029363891798555652,-0.0751578278551944,-0.033145864224328275,0.046715360275733454,-0.04646702671340553,-0.04080554080356696,0.02874083504329027,0.006365236125219083,-0.011433882202683454,-0.019025028784988435,0.03387190954565252,-0.04293950147558906,0.038760641342167904,0.0868137858290896,0.02726421760222784,0.06957254584309457,-0.00445584563911463,0.009150873132848817,0.07449491836558615,-0.07366603699835728,-0.03842214196812781,-0.06083863094583438,0.044378159805514836,-0.06670152578010159,0.03948984039777687,-0.03560172372890509,-0.04814549776558971,0.07134861351623223,-0.01399010562815135,0.0015160927610991474,0.048368384990840965,0.07173923043865414,0.05585494550915668,0.03547195744995801,0.08468296800807298,0.027517975180146745,0.0043170729740833625,-0.06299134242095755,-0.03665288146028893,-0.08578624827831181,0.010159968244147713,0.07989888079031221,-0.03410073728768235,0.022553057506450428,-0.015476419109254421,-0.013073753644713523,-0.002157712524630745,-0.06372089534651952,0.003762884880644663,0.01463861737785583,0.07124804558506076,-0.04811482504598612,-0.006240110341419255,-0.0003004267784085095,0.0736462956703943,0.0559623851669156,0.006030907288061402,-0.008786513187211003,0.0722529917537025,0.040215769303952376,-0.047889457321195386,0.04283687185885016,0.08013248451401993,0.029592277239168543,0.056728167231932275,0.039000912957281114,0.06161406485663225,-0.04224110837782184,-0.07767272411831382,0.07368967989972969,0.0009514150663177485,-0.03974823169575593,-0.023053039380788103,-0.04512077077844436,0.06459348474120026,-0.015632766891219358,-0.06512946024334987,-0.05375936769077494,0.044942211479033316,0.03513576635530213,-0.07766505827351891,-0.00001679427629277817,0.08010160635066264,-0.05946959777430362,0.010430209394932841,-0.07697807886484624,-0.02896884573153991,0.05591847972469687,-0.0034421681734152173,0.053799979853314125,0.02030023710832897,0.00474506552705155,0.03415681935317938,0.005097186367790665,0.04897796191766241,-0.07882885197603105,-0.0459388337275709,-0.025073808501808785,-0.08160059625385915,-0.04115772481442717,-0.057889366224809356,0.0723200875925741,0.011121469073248747,-0.0588332498030491,-0.06051253089155886,-0.04217961665823641,0.07643007702610745,0.0629401526128477,-0.04967856823706857,0.04850559954300649,0.018660187590843456,-0.021266277917143802,-0.003060571980882485,0.007880010748213111,0.06926743138467296,0.08819287959483608,0.028450334035059015,0.0629137671579054,-0.04868737627604585,-0.054970233059896116,0.00968797462157984,0.04933823587302005,0.031620685614618206,0.043103934889362976,-0.050336325135577384,-0.04095953870645044,-0.010358731865155776,0.08292533201764118,0.015088873357216964,0.011849047165239076,0.0012053077882927781,0.005992075685119219,0.07206439674644102,-0.05570711231823058,0.024766222454537152,0.06601908891974205,0.04599198939560666,-0.0604756254547851,-0.029670669781117317,-0.08565532919169942,0.03972261916414306,0.07611958862807752,-0.07634636268692964,0.030155574451502413,0.03505062923468329,-0.024022898347025534,0.015975226520099955,-0.058869703792127644,-0.04651699405756701,-0.06209300147167238,0.0732911413722391,0.03179381454517048,-0.004652780631171693,-0.04211794476469316,0.08750451817993826,-0.0010422969549559655,-0.08422663099106606,-0.04699335475649997,-0.023081648129888485,0.08914041955260366,-0.046352055173553966,-0.03145436463020942,0.07388139413579041,-0.037253677011430085,-0.07530183846300474,-0.01974845608766977,0.03521189574944827,0.04862272798918329,-0.08573576624850683,0.0025037575302789693,0.05311866097308721]},{"id":"chunk-7db5cddc-205","content":"But if the logfire package is not installed, there's virtually no overhead and nothing is sent. Here's an example showing details of running the Weather Agent in Logfire: Using Logfire To use logfire, you'll need a logfire account, and logfire installed: pipuv pip install 'pydantic-ai[logfire]' uv add 'pydantic-ai[logfire]' Then authenticate your local environment with logfire: pipuv logfire auth uv run logfire auth And configure a project to send data to: pipuv logfire projects new uv run logfire projects new (Or use an existing project with logfire projects use) The last step is to add logfire to your code: adding_logfire.pyimport logfire logfire.configure() The logfire documentation has more details on how to use logfire, including how to instrument other libraries like Pydantic, HTTPX and FastAPI. Since Logfire is build on OpenTelemetry, you can use the Logfire Python SDK to send data to any OpenTelemetry collector.","metadata":{"url":"https://ai.pydantic.dev","title":"PydanticAI","chunkIndex":205,"totalChunks":208},"embedding":[-0.030866299464391955,-0.02038168371643494,-0.029286567830799182,-0.027564646236660398,0.08019839628657698,0.04837670019336286,0.04037994244830746,0.07276480609474313,-0.018088758535388754,-0.0002185371403060227,0.010088738310680493,-0.04230150739610292,-0.08522969471186786,-0.032239250301463795,0.08427283639726406,-0.08188752030780322,-0.029486343357474205,0.02546223652212979,-0.045287031028496336,-0.022588293937975977,-0.01897529218231322,-0.004940354724232531,0.013795866281881416,-0.03718158371387843,0.055249012125737726,-0.02856374196075814,0.07846344795976326,-0.07674010750938105,-0.02529219780598531,-0.040093626965704766,-0.0785564908252096,-0.022692220703174833,0.04535709774812935,0.07136107886780312,-0.018795590219085254,-0.07856955241303802,-0.0662171811368901,-0.08061594448421648,0.02422946360445964,-0.03038151185448898,-0.008981587411586013,-0.07156952206238605,0.08480527574047872,0.04226309649199836,0.07223459237521719,0.056386470647994,-0.0009980417285049188,0.03332484213709347,-0.020037126512140777,0.009809909788881882,0.04295088711229043,-0.038302653941031745,-0.06914107529941743,0.03213281876857965,-0.04742068945533301,-0.04348441980303845,-0.05965949893873136,-0.0505279805274397,-0.00016393538284788318,-0.0841899057668159,0.056908288167379875,0.07757898508937335,0.018836320789479475,0.07545529113681523,-0.013146081425845002,-0.017147006017476065,-0.05187788447572497,-0.037286755686769854,0.043937659917629684,0.014415025362098434,-0.07884699573093479,-0.0248805371912449,0.08186143761253531,-0.014373742615056946,-0.06727011234576898,-0.02688628590012503,-0.003345292360658902,-0.04194822230805884,-0.033436724776835194,0.06602138534681601,-0.06106943434108562,0.0482944274232629,-0.03668665192675606,0.009049638042276464,0.0145626547247779,0.009977655082421863,-0.01946763479331669,-0.06931410472606209,-0.07381401332908469,-0.020074602322469517,-0.008668767458818793,0.060619227469961116,0.04156920492823028,-0.05355549256086707,0.004849080115848891,0.02210101798183082,-0.04219474143975033,0.005736801637774671,-0.07000679572245165,0.009161257080007784,-0.05350228885327833,0.03278159245122138,0.0730379308589859,0.010692502148836464,-0.0857220367748916,-0.05278885819525774,0.08635288020283094,-0.007378153546749559,0.012895109596567065,0.039616963197255696,-0.049014616230967416,-0.06073918670512121,0.07260770124976512,-0.08089758172932277,-0.044329763857953224,0.04818902704610217,0.04854507205733509,0.01474827131032794,0.04550553799664555,0.03253020852661841,-0.08479909024784395,-0.03519766501821322,-0.033555811824870836,-0.07015959820448729,-0.03525688803003321,0.0848408035673397,-0.04167187239737879,0.053317369832752426,0.03005952051841799,-0.08419340733866938,0.03301517101557996,-0.06906288543118676,0.06859522292155545,-0.07305987585429008,-0.06036753763143617,0.04529896284053254,0.08693496486094048,0.04189168692147869,-0.06446028741888872,0.08059275726344164,0.05655019574716601,0.08727667636592903,-0.061974511475160594,-0.05569966992105624,-0.05697505033766262,0.046786923268226414,-0.05276828336108553,0.01670621739861983,0.06524748264049403,-0.010303432044721903,-0.009820479327533731,-0.0871396402573672,0.05797919450437315,-0.019860754945584695,0.014037166396120305,0.06865199850359568,-0.02702802427943881,0.047293325966847176,0.007202854981803007,-0.04120093185881851,0.04172054998293905,0.04433333358682256,-0.08677202333332999,-0.01113635036805442,-0.01837267060082782,0.08646939363420665,-0.028937757724392256,0.036671202166847584,0.01513740249753806,0.03868611029131759,0.015798660261737443,-0.07659510546288431,0.028161467180162297,-0.008762263835379175,0.06710408146320278,0.0518618224794144,-0.021448683213775636,0.07396247341204489,0.012144742792911604,-0.021586861811083196,-0.06185133644267036,-0.04933524366984993,0.02084712772908228,-0.036375748033084236,0.04435596983285958,-0.08575679829259573,-0.027472516469351005,-0.05644569639369623,-0.060291751407445617,-0.003154006839335178,-0.0287694420783378,-0.07582502395727356,-0.02585715934532625,0.031326121203292805,-0.08390627803780433,0.020008291702656063,-0.055639381656193414,-0.028057295798944934,-0.04738399327473759,-0.001963057733442095,-0.07035187738226438,0.05509397808922165,0.07717204771674044,0.05237909760436659,0.05199204156934656,0.07160806438360015,0.07151006951901154,0.028206755462572203,0.023599375741511917,-0.035046289346750845,-0.02936895337471469,0.02841919289143411,-0.08221612940580725,-0.08048080897652313,-0.03428498712484422,-0.03065715736051582,-0.0005288789800579161,0.05249026411688213,0.08422575003497072,-0.05043147425459043,0.0170735559992864,0.06813706250224498,0.02420365237695958,0.027486939734452313,-0.053315817408312254,0.03300942379106135,-0.08266674851492727,0.026695010762620312,-0.08524161134283569,0.006174904917407554,0.02950806089329483,0.012285781719805721,-0.05366640898485665,0.06457563087148246,-0.03552388304877301,0.07620742297190532,-0.012555552683904703,0.07496142828673827,0.049921324143847076,-0.031424716386385956,0.023336395229894925,0.0060741981253072995,-0.06503595337610635,0.08035764716926845,-0.049057955958786474,-0.048652923121149175,-0.009577277288001607,-0.03137261227877261,0.07001364156925986,-0.08243899996663573,-0.0023331714322290813,-0.016183078441530926,0.04502892937175639,-0.05237025893581476,-0.044634207327623056,0.07635037276777022,0.02972377863148684,-0.08654357568223564,-0.00925557990307219,0.011782208737066252,-0.06545577757900162,-0.08410163728841331,0.08597799395843994,-0.014145698803552894,0.015871692650696573,0.0856492426850024,-0.03254219525411023,0.007310469577237487,-0.06502673279768269,-0.056335767830227396,-0.012872763807147608,-0.08048106063543702,0.013973514451274009,0.0006145702986685345,-0.07126976004288525,-0.02040321242506297,-0.027316155656581066,0.0786359161747732,-0.07734149862678501,-0.06613242856916428,-0.07744812300670348,-0.052775320479215564,0.0483196120905587,-0.05783121015270038,-0.05958599822393244,0.07351203727409038,-0.046984378571667505,-0.03688930038037477,0.04524995633284019,-0.07877562832792032,-0.07556291875172212,0.052750554401097535,0.08649229815318775,-0.06743797261076914,0.051164563844140754,0.04173181046055046,0.04966846204140609,0.02891941496337752,-0.08451367939754846,-0.0009303284551123829,0.0025353112794660165,0.03022937165366079,-0.07938929559889323,0.04761389167646567,0.00029723986464936803,-0.07287253559858523,0.07412929347736964,-0.006630601357805683,-0.017037982300841567,-0.05029810358444105,0.009871465767452965,0.0855601225357805,0.07842916272605924,0.04309542855835069,0.06308995943971793,-0.0027392153429465216,-0.017528196093578696,0.06434949754269206,0.01933100622717927,0.02754100079829056,0.028535694544734945,0.04394255574479742,0.017717614879518857,0.01662904765638582,-0.05019091819359718,0.004116297665534036,-0.07920237940602676,-0.05212679679369966,0.04654913943786569,-0.01123584206276965,-0.001195558059609861,-0.000415591161756601,0.04465110449178671,-0.026585397269453116,0.056524971124798984,-0.05577129512306912,-0.0842139291660096,-0.062064777843337256,0.06238156235219857,0.03514771546554376,0.04110986070100954,0.026698539943876724,0.017624838628016143,-0.03185886874231462,0.017164781040812753,-0.07322292662329839,-0.06228902705204469,0.07356501453395459,0.010796380293227234,0.07915321488411244,0.05061823763828038,-0.018766979350193412,-0.07373980555350312,0.012538832109481514,-0.03348676444741429,0.07718270400593592,0.023423653504556625,-0.01374267012933974,-0.021974916530397064,0.08570281604093496,-0.010187205322347074,0.011391243858509297,-0.055010118287687204,-0.014496630247053777,-0.0527480720604518,-0.03473931169848232,0.06863059331205598,-0.03807305459351159,0.06329232787617034,0.07258601174393851,0.02971315439653918,-0.007347710845177783,-0.013090919451053404,-0.08091506684546558,0.06446609092327715,0.014026076251204741,-0.04228558782061746,-0.05987922165835575,0.03460963991476777,-0.01194491107966209,0.07793029705727424,-0.06842182190271695,0.03822457983907656,-0.02636948507474186]},{"id":"chunk-7db5cddc-206","content":"Once you have logfire set up, there are two primary ways it can help you understand your application: Debugging — Using the live view to see what's happening in your application in real-time. Monitoring — Using SQL and dashboards to observe the behavior of your application, Logfire is effectively a SQL database that stores information about how your application is running. Debugging To demonstrate how Logfire can let you visualise the flow of a PydanticAI run, here's the view you get from Logfire while running the chat app examples: Monitoring Performance We can also query data with SQL in Logfire to monitor the performance of an application. Here's a real world example of using Logfire to monitor PydanticAI runs inside Logfire itself: Monitoring HTTPX Requests In order to monitor HTTPX requests made by models, you can use logfire's HTTPX integration.","metadata":{"url":"https://ai.pydantic.dev","title":"PydanticAI","chunkIndex":206,"totalChunks":208},"embedding":[0.08050334014443537,0.013999188017374332,-0.002290728898450567,0.007105403619561393,0.07748381951042022,-0.05964911663153908,-0.05569923382918388,0.04002664933263426,0.03797928296618018,-0.025814534039318437,0.046005170277601294,0.019818165103349657,0.010866642281554446,0.07640992808944785,0.03394932600179558,-0.019645908163552942,-0.014783698886600619,-0.027031411908767844,0.0003937632639193112,0.02625314937204437,0.06555436573629994,-0.07920245944072049,0.08517912900113353,0.06994674740381988,0.06856547545458726,-0.010822630409875897,0.006389937903930027,-0.014804366489476993,0.020559928475937166,0.0076511513578385315,0.07408680503214964,0.016984984413626437,-0.002251140950254643,-0.058014311517294824,0.08281607567064078,0.06302019538351322,0.015284487105469159,0.013944457986009625,-0.048793235196430536,0.0325021002469615,0.04368889052549097,0.018496182398942653,-0.005730424545049928,0.08316474341207016,0.03325187337125467,0.017895915871872992,-0.07613887978265167,0.06336346138014677,0.06097323604191723,0.01912208094530322,-0.027707099571854243,-0.017108030733939586,0.06839466311992214,0.03016930288732429,0.07350208136241913,-0.0025788690496817744,-0.04255709984547294,0.0410770201240367,0.05091665748202967,0.030148462601600184,0.024641097447225098,-0.00020532273674155215,0.04076922528691075,0.03788876840961947,-0.07334811408813723,-0.0381085408915731,0.07772058601180212,0.06557714485323013,0.025653269659476213,0.005740010722533214,0.061171999355470415,0.04591944851093689,0.07747504191251624,-0.010518245953494931,0.048349619751645444,0.05514061793393992,0.081081413116973,-0.00999391665121571,0.039318960285595846,-0.04578349707899014,-0.06051666200547773,0.05849070710502166,-0.08461856672886793,-0.07099489643063345,-0.08313697253608583,-0.023667345295601896,0.0018943674578370546,-0.05548042724380606,-0.07682537636103624,0.020367279098774515,0.08225787256632171,-0.025027410930602557,-0.0297320280778239,-0.008592281348571748,0.0007512705993937008,0.0740870080918793,-0.08328916607607828,0.06918481311859503,0.05246243151005374,-0.07423652220831253,-0.07311530488085667,-0.04990569752670507,0.012443239111279994,0.061902998970591025,0.05867237304635631,0.011272109223217603,0.08373249239204471,-0.0619495947568345,0.04796139581861285,0.02616665603694795,-0.035281116864041354,0.06737498624804923,-0.07601058374274555,-0.006011751099460344,0.014490000481718937,0.03909524906722197,-0.03565808434005185,-0.0014953932107518934,0.037305254993681,-0.061418016619435675,0.03765665153679716,0.0833264346564001,-0.026989101701763208,0.07604164930567056,-0.0765879958629837,-0.049267454687587905,0.05228464585156717,0.007284517400280529,-0.04286380457396061,0.04879961944937354,-0.07504997512971147,-0.0444430213455955,-0.08398495661765046,0.011929602264489697,-0.045010779424337635,-0.0830619589086929,-0.014268421995777209,0.0342834886736872,0.026881021321338048,-0.03744343583615828,-0.08223148744610555,-0.07823948607108336,-0.008427920540090842,-0.01629733263600616,-0.08095912354721446,-0.03364026903819999,0.08092838980367728,0.07442908396658761,-0.0763736159909854,0.01645158240075985,-0.03917121678571159,0.062312589538856517,0.0782039536095271,-0.061106687065346166,-0.07758077124746182,0.08482260912695007,-0.06050588372897874,-0.05019956286947499,0.027888621238412303,-0.041328881644217726,0.025954268125369516,0.04387832866152354,0.04797559008962445,0.00765708859491345,0.029714717753504264,0.04313606766605165,0.05508634821822685,-0.07627716278755234,-0.024405939846600694,0.03369400811203991,0.012668450941231032,-0.0836036609498085,-0.008874509388126228,0.07134407626694457,-0.05625778960104571,-0.050989149590094075,0.006417805130946572,-0.016897371360064292,0.05004421016656883,0.06441628583720488,-0.05417084236327325,-0.017222941678976818,0.047727299844738294,-0.018960681470577154,0.06460252504539131,-0.0685313713801668,0.07054232404844121,0.00808322055534266,-0.06640755199644356,0.08172470012420223,0.07692630920239359,0.0667048536105842,-0.031195924371330647,0.024332193185354754,0.01631912097761276,0.062288542557795354,0.008047907973711658,0.038374383098378186,-0.04375397428802802,-0.04356192920639858,0.07698432483911269,0.039863742045666686,-0.07902503837414476,-0.030315268213775327,-0.0765721451045653,-0.03615565314734117,-0.08369082792839114,-0.08128888786617991,0.048471683931692815,0.032638475027065454,-0.055970557016157926,0.018329436476380776,-0.06648126034344749,-0.03360529210326063,-0.039942384476081415,-0.010712916516128882,0.016570081477243818,0.05049519692758091,0.06758720871420716,-0.07158076356867639,0.017930479777013213,-0.075587508851007,0.020759638400668676,0.07983556279810027,0.030961916651734995,0.013703697245266539,0.060176182033815064,-0.05064491924428783,0.008443989058257459,-0.0708316868339332,-0.04373034194965995,0.0066123993901413295,-0.029947331843935,-0.053962779026965176,-0.007973135229341321,0.03787551715734496,0.03073251375613333,0.04385861576508225,0.08142334428049258,-0.06861154068898435,-0.0008475533495797988,-0.02076890638872356,0.07176054728646879,0.03360968170971308,-0.0007871342008222719,-0.08216202071464662,0.026218377313151943,0.06634646103132341,0.0018745246868594688,-0.06139785911425395,-0.008983445693775708,0.011761954240045969,0.08508167955036448,0.044175619746419446,-0.017670505247066492,0.026217282593557153,-0.023483584803602495,-0.07943482907061412,0.057873827455864287,0.046080964014696454,0.03137254137531132,-0.007097096653264977,-0.03615036897641642,0.0681232354680007,-0.05507599026940147,-0.002645942821242402,0.03349654722452961,-0.03230860038737001,0.07962670100188635,-0.03817306115200008,0.06095564821785845,0.02920455789432328,0.08447871577454419,-0.08315741022490059,-0.00045136331686238657,-0.013101584155470261,0.0277672023688023,0.06386013220237419,-0.011141772617377175,-0.01274637502846968,-0.05395933372866171,0.08391829902052075,-0.012802448238460886,0.004821573688652348,0.04225175921859462,-0.07088033929724857,-0.06725955736586528,-0.016122593150133643,0.052623222883735214,-0.07892736985499357,-0.007762190133787369,0.07204118839541232,-0.07727378822773023,-0.02257178066388782,-0.06314746298793748,-0.05717417438032249,-0.04031971231781739,0.07018971094841533,-0.00023481495096968724,-0.044258285343125446,-0.05808152852334863,0.06776846808649283,-0.04344006994581778,0.07792019001086693,0.0335995058546036,0.07629515947750884,-0.01630423898885242,0.029428433381812596,-0.04740552703080956,0.021515767000319694,0.0838041610485819,0.07454520324640068,-0.069668214927629,0.0036942902780905647,0.04663660858368075,0.04033475253114979,-0.05582568702751659,0.06759772544343047,0.03835346503450179,-0.0435519524382572,-0.06504504763300066,0.08487994741349793,0.059170730450119995,0.0852786598273286,0.06433515261986376,-0.017620694512410242,0.07741159807665876,-0.06615799407716874,-0.04284205915817447,0.055854197310142024,0.057893582695595316,-0.012354467447493831,0.0706324906958559,0.04485201832104216,-0.019479616879762063,-0.018751169043678156,0.03140889284501401,-0.08132678726542815,-0.06867029306637053,0.051592901505258,0.00522483913616847,-0.06773380350774484,-0.0027581630742532907,-0.013704418925963486,0.008892210631841604,0.0665218980760638,-0.009702053110081973,0.07600836690921887,0.021482278540097453,-0.034361653304676575,-0.03462497422794863,-0.01363985212138629,0.03504613742779091,-0.012539276487794786,-0.0035787184536991727,0.06326654988075588,-0.06552796772443324,-0.0262020222512099,0.013633977794519546,-0.026579997160537838,-0.07704273546011493,0.04182505570044767,0.08167270188927488,-0.07733571464017237,0.03254581711320357,0.0006251169289820729,0.02383945522464012,-0.010320303624051362,0.051482203519421336,-0.08103432741625115,0.011832882746560386,0.05342590900401615,0.07660138778612643,0.014529571155542787,-0.05969690125344452,0.05434220319171933,0.057467506658581816,-0.057603212276868924,-0.018413131836966384,-0.04045392953745922,-0.010333518996071822,-0.05736291643552381,-0.019121119779719604,-0.0062469868619780865]},{"id":"chunk-7db5cddc-207","content":"Instrumentation is as easy as adding the following three lines to your application: instrument_httpx.pyimport logfire logfire.configure() logfire.instrument_httpx(capture_all=True) # (1)! See the logfire docs for more httpx instrumentation details. In particular, this can help you to trace specific requests, responses, and headers: instrument_httpx_example.pyimport logfire from pydantic_ai import Agent logfire.configure() logfire.instrument_httpx(capture_all=True) # (1)! agent = Agent('openai:gpt-4o') result = agent.run_sync('What is the capital of France?') print(result.data) #> The capital of France is Paris. Capture all of headers, request body, and response body. With httpx instrumentationWithout httpx instrumentation Tip httpx instrumentation might be of particular utility if you're using a custom httpx client in your model in order to get insights into your custom requests.","metadata":{"url":"https://ai.pydantic.dev","title":"PydanticAI","chunkIndex":207,"totalChunks":208},"embedding":[-0.08788826861519929,0.018953531429067805,0.022335670132544935,0.07864944084782166,-0.059072112380695395,-0.02356728171245588,-0.07944361912967814,-0.08371238871481536,0.011028772977751556,-0.046069947582184835,0.011301702560774896,-0.028249483388951103,0.050949213201012776,-0.018151126087683298,0.0013136946858961353,-0.033619406087057505,-0.06201042471587875,0.0054261183554269446,-0.08303075836472312,0.06215298375861327,-0.05533728178500566,0.027639024177319563,0.08396673196349358,0.06987333840429628,-0.08248637229969313,0.08319943495000538,-0.08424753968908849,0.05764387758500434,-0.021853318927953877,-0.028702964020610712,-0.04321171641631566,0.0036640402130855504,-0.04761816122428684,-0.06195788662667046,0.08485067696452697,-0.08368953205930785,-0.0484206474648241,-0.0128127661547015,0.038935187536510575,-0.06885089997495351,0.07802738595188041,0.021652287047459178,-0.06873629826915957,-0.05255614153094333,-0.018385646311879902,0.02057497748002984,0.08396473328164249,0.05603488597143465,0.0678314389321332,-0.021654876437526394,-0.008649967696273632,-0.07137121088301493,-0.008194694463725368,-0.0013788625924257194,-0.03811388700423364,0.07462739149941089,-0.005879034765163662,-0.06283640572205919,-0.020380836310106055,0.02007712762710751,0.07195115375948304,-0.08668902382669857,-0.030200203368647944,-0.030955630312241203,0.03975480999522668,0.02831770330061295,0.06696949344389529,0.06149941508390356,-0.027406777180613316,0.03371641229662172,-0.06697470829542426,-0.08362247087621873,-0.005933097454739551,0.02972999668005899,-0.034223261391847296,0.039422030690380555,0.07051091369371289,-0.008748512202624443,0.06512216028275672,-0.07285212552180528,0.027482064924955443,0.011688599523803217,0.08332206948629717,-0.06717545750821992,-0.06014280142372744,-0.03507343058652105,-0.03543445835242217,0.0446042011188316,-0.05251221037725135,0.03814847780331915,-0.08656075404733428,0.000022137116960661623,0.0804604515622907,0.08090851395275858,0.06598858744591249,-0.021698150892420415,-0.005149646099968189,0.05849897013782056,-0.05070436919348623,0.03982768388663256,-0.08602312446719255,-0.03772306249677965,0.028210019161206086,-0.08235746438242049,0.023821669321946834,-0.00024792895898635253,0.016193338466664663,0.0007624991853848208,0.05697871603849906,0.010763302882832114,-0.02569035577179246,0.032279958785435534,0.08080964956438073,0.01981607439365164,0.06944015130700494,0.030557136664284543,0.004597958296215309,0.04608699771144244,-0.05108553219526246,0.060866398267175534,-0.020170206142947913,0.009644025822461735,0.06852497327065174,0.04048069246633912,0.028727246322078046,0.015302497079072053,-0.039398165618867914,-0.0629060526427087,-0.01417523950239352,-0.04346864064090674,0.07092177079906375,-0.018361438538520413,-0.008159607379803452,0.08145935662108252,0.045268121716470835,0.08271431328688048,-0.03092454822567165,-0.07501554990845533,-0.028909164645595273,0.07480547887263501,0.027298654523985416,-0.044736108020970965,-0.035537529205862416,0.035852361898276924,-0.012559931979865617,0.06564429458719015,-0.020699928317841256,0.013070881717308825,-0.037561839990031896,0.07897383654991567,0.0538120800660316,-0.012464885095877745,0.0059539238280794556,-0.021367857321626514,-0.023170467048778724,-0.027566705072093606,0.06075043663754787,0.04598332735443983,-0.018276479746864235,0.053210015545107854,0.006528253021732232,0.010848658778852655,0.0756371803600506,0.06987114733585491,0.042460228258736354,0.0011793857447183595,-0.08195058947304372,0.0712993441427539,-0.05337001630646319,-0.0028572529331324626,0.031523385921023446,-0.04680634620206692,0.041672798856873916,-0.010334510330222956,0.06421868912672592,-0.0685180311060712,-0.0560997318675557,-0.016225927624133617,-0.04525459469597318,-0.053471965496601374,0.07694211450816656,0.03412481419369156,0.06297172608832209,0.05116820543875957,-0.08034570160243751,0.03997849973023653,-0.0017451663364486337,0.05479256456421309,0.038585190223708724,0.07929636380822631,0.018044656297310422,-0.04585960844855887,0.05653118658103657,-0.034741715862838744,0.08048693052040483,-0.06377452436237935,0.072776793507032,-0.0645808357520939,0.06872024956983763,0.04869814709783442,0.08417554323322297,-0.05965433303339101,0.03266000369997146,-0.00975218203681716,-0.003517059547882047,-0.08554354675714519,-0.014030865685507815,0.06848012694519004,-0.08545664895473438,-0.02628498842878214,-0.0339548718632488,0.01102027952471688,-0.050902402350225424,-0.043504060176635585,-0.04910231040734307,-0.009699021853953212,-0.06702500187247273,0.057404147689442714,-0.06511117246495288,0.06723138497454388,-0.013943324318080758,-0.06863044590213958,-0.000432438488389393,-0.060229547695065035,0.04126951993538301,0.04946568294199658,-0.00793426228228968,-0.0830329939558774,0.031831733221548995,-0.04250734137629631,0.04147976777066616,-0.0876679196814687,0.06817063019457,0.011858074226455647,-0.023505277055994478,-0.08201119720184576,-0.054805129688080496,0.0024802888484342926,-0.08229262528674958,0.030330205494417915,-0.0860256465914631,0.06096763583911363,0.06752344577490965,0.0748042990579471,-0.03002435265313676,0.06071492565301418,0.05551367035744122,0.02395388023443637,-0.029075019029139143,-0.07617349627365909,0.0261009167826449,0.05890639029461054,-0.041676788883936944,-0.06499632936665725,0.03515655346224514,0.027488666344297488,0.027610738364196988,0.06933245916638149,0.07968171912296554,0.05753133787780188,0.014667747267324201,-0.02380975469233552,0.026424746300909997,0.03261437287121384,-0.05218501386992978,-0.06600225952199748,0.007745609140255445,0.05757592639009329,0.02878881590724096,-0.034695240715909,-0.06149860584138362,0.03483510700951212,0.01757800239562446,0.058530570415147046,0.08488605003490116,-0.04620700639753541,0.07712747870971844,0.048545882780223364,0.03963735386991764,0.08158076832585795,-0.026535035292213478,0.005045654983129667,-0.08333469948325785,-0.07606609586080419,0.06858770872330183,0.005424907523969575,-0.032845200889246084,0.04100805357048741,0.06672758752388754,0.059010170383741484,0.06006818973490823,-0.016550986610959988,-0.07384374993944762,0.029330988660227344,0.0128159837637419,0.04353150120066478,0.00656828105561284,0.06920182413335557,-0.05214444972696659,-0.06455129468288834,-0.0027739446084058036,-0.01773654877040504,0.07288956862658297,-0.012575405131033961,-0.06452606125713338,-0.08463097246499271,-0.02368277947146928,0.001054916898533136,0.011837996836788144,0.001393323909383863,-0.016353095545838657,-0.058092450574398526,0.029713082207335678,-0.04740764069767145,0.08256773105282825,0.061394170839534086,0.060046224755676225,-0.012394907695601611,-0.057343715017850364,-0.0049267030231917655,0.06655923748735626,0.02163264569281068,0.03934990679105168,-0.08433548655685362,-0.04325424278300506,-0.03606283680620261,0.07570157154042319,-0.022717479254864087,0.016550260202531343,-0.05169378111210266,-0.06209408030359078,-0.062415514226998904,0.017120154860308726,-0.05967904486136127,0.05611296597796367,0.05073293884461264,0.034829497361800174,0.04480115947595244,-0.06046403787501708,0.024904787757529984,0.06861174969090314,0.030824030606602805,0.05597413795150219,0.07910037132552787,0.026111240673453443,0.04811654046690208,-0.06134526485856957,-0.03452538053524429,0.04998882287858666,0.044168717803660974,-0.048366185681726896,-0.030368810648769066,0.007900803208729497,-0.03324010032724907,-0.06851702760229603,-0.059376480461136104,0.03425119773337281,0.005911554512922636,0.07518071134056198,0.006316074972164444,-0.010760487666320376,-0.08140588949341741,-0.04154697820823248,0.028692470596864573,0.0377414733655124,-0.060022733782526934,-0.016070213421117068,-0.05012025074302579,0.06336660355288928,0.04671739632682255,0.04030654707691859,0.0212054890961141,-0.05620726095755019,0.06896135709924356,-0.02657530104806881,-0.06865870906805831,-0.006468961798496054,0.06290572592700064,0.05344007003854532,0.0546393677494651,-0.060093644802124244,-0.03944803249985743,-0.02367728884909306,0.005742543419211385]}]}